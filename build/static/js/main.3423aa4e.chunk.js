(this["webpackJsonpkit-kulturpunkt"]=this["webpackJsonpkit-kulturpunkt"]||[]).push([[0],{1323:function(e,t){},1325:function(e,t){},1705:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(34),o=a.n(r),l=a(290),c=(a(834),a(835),a(836),a(837),a(85)),d=a(1),s=a(5),u=a(6),m=a(9),p="https://kompass.dimu.org",g=a(74),f=a(35),b=a.n(f),h=a(42),y=Object(g.b)({name:"bulk",initialState:{count:0,isLoading:!1,isSaving:!1,formData:{},schema:{},bulkSchema:{type:"object",properties:{status:{type:"string",enum:[!1,"draft","publish"],enumNames:["** Multiple values **","Draft","Publish"],default:!1},parentId:{type:"number",enum:[!1,"null"],enumNames:["** Multiple values **","Reset to null"],default:!1},documentType:{type:"string",enum:[!1,"pageMap","pageTopic"],enumNames:["** Multiple values **","pageMap","pageTopic"],default:!1}}},bulk:[],bulkById:{}},reducers:{receiveBulkEditor:function(e,t){var a=t.payload,i=a.schema,n=a.formData;return Object(d.a)(Object(d.a)({},e),{},{formData:n,schema:i})},bulkChange:function(e,t){var a=t.payload.formData;return Object(d.a)(Object(d.a)({},e),{},{formData:a})},bulkAdd:function(e,t){var a=t.payload,i=a.uniqueId,n=a.parentId,r=a.status,o=a.documentType;return Object(d.a)(Object(d.a)({},e),{},{count:e.count+1,bulkById:Object(d.a)(Object(d.a)({},e.bulkById),{},Object(m.a)({},i,{uniqueId:i,parentId:n,documentType:o,status:r,selected:!0}))})},bulkRemove:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},{count:e.count-1,bulkById:Object(d.a)(Object(d.a)({},e.bulkById),{},Object(m.a)({},a,{selected:!1}))})}}}),v=function(){return function(e,t){var a=t(),i=Object.values(a.bulk.bulkById).filter((function(e){return e.selected}));console.log("BULK",i);var n=a.bulk.bulkSchema,r={},o={},l={};i.map((function(e){Object.keys(n.properties).map((function(t){var a=e[t],i=r[t]||n.properties[t];o[t]&&o[t]!==a?(o[t]=!1,l[t]=!0):l[t]||o[t]||(o[t]=a),i&&a&&(i.enum&&!i.enum.includes(a)?r[t]=Object(d.a)(Object(d.a)({},i),{},{enum:[].concat(Object(h.a)(i.enum),[a]),enumNames:[].concat(Object(h.a)(i.enumNames),[a])}):r[t]=i)}))}));var c=Object(d.a)(Object(d.a)({},n),{},{properties:Object(d.a)({},r)});e(O({schema:c,formData:o}))}},j=y.actions,O=j.receiveBulkEditor,k=j.bulkChange,E=j.bulkAdd,I=j.bulkRemove,x=y.reducer,C=Object(g.b)({name:"modelsById",initialState:{},reducers:{requestModel:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},a,{isLoading:!0}))},receiveModel:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},a,Object(d.a)({isLoading:!1},t.payload)))},requestParents:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e[a]),{},{parents:[]})))},receiveParents:function(e,t){var a=t.payload,i=a.uniqueId,n=a.parents;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},e[i]),{},{parents:n})))},requestChildren:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e[a]),{},{children:[]})))},receiveChildren:function(e,t){var a=t.payload,i=a.uniqueId,n=a.children;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},e[i]),{},{children:n})))},requestReferences:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e[a]),{},{references:[]})))},receiveReferences:function(e,t){var a=t.payload,i=a.uniqueId,n=a.references;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},e[i]),{},{references:n})))},receiveParentId:function(e,t){var a=t.payload,i=a.uniqueId,n=a.parentId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},e[i]),{},{parentId:n})))},receiveStatus:function(e,t){var a=t.payload,i=a.uniqueId,n=a.status;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},e[i]),{},{status:n})))},requestSave:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e[a]),{},{isSaving:!0})))},receiveSave:function(e,t){var a=t.payload.uniqueId;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},a,Object(d.a)({isSaving:!1},t.payload)))}}}),S=function(e){var t=e.modelName,a=void 0===t?"documents":t,i=e.id,n=e.uniqueId;return function(e){n&&e(U({uniqueId:n})),n||(n=i),fetch(p+"/admin/api/"+a+"/"+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){e(B(Object(d.a)(Object(d.a)({},t),{},{modelName:a}))),e(T(Object(d.a)(Object(d.a)({},t),{},{modelName:a})))}))}},T=function(e){var t=e.modelName,a=void 0===t?"documents":t,i=e.uniqueId,n=e.id;return function(e,t){var r=b.a.stringify({parentId:n}),o=p+"/admin/api/"+a+"/search?"+r;e(z({uniqueId:i})),fetch(o,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){t.models&&e(H({uniqueId:i,children:t.models}))}))}},w=function(e){var t=e.modelName,a=void 0===t?"documents":t,i=e.uniqueId;return function(e){var t=p+"/admin/api/"+a+"/"+i;e(U({uniqueId:i})),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){e(B(t))}))}},N=function(e){var t=e.modelName,a=e.uniqueId;return function(e){fetch(p+"/admin/api/"+t+"/"+a,{method:"DELETE"}).then((function(e){return console.log("An error occurred.",e)})).then((function(i){return e(w({modelName:t,uniqueId:a}))}))}},q=function(e){var t=e.modelName,a=e.uniqueId;return function(e){fetch(p+"/admin/api/"+t+"/restore/"+a,{method:"POST"}).then((function(e){return console.log("An error occurred.",e)})).then((function(i){return e(w({modelName:t,uniqueId:a}))}))}},L=function(e){var t=e.modelName,a=e.uniqueId;return function(e){fetch(p+"/admin/api/"+t+"/"+a+"?erase=true",{method:"DELETE"}).then((function(e){return console.log("An error occurred.",e)})).then((function(i){return e(W({modelName:t,uniqueId:a,status:"erased"}))}))}},P=function(e){e.modelName;var t=e.uniqueId;return function(e){e(function(e){var t=e.uniqueId;return function(e,a){var i=a(),n=i.bulk.bulkById,r=i.modelsById,o=r&&r[t];n&&n[t]&&n[t].selected?(e(I(o)),e(v())):(e(E(o)),e(v()))}}({uniqueId:t}))}},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(a){delete(e=Object(d.a)(Object(d.a)({},e),{},{source:e.source.toLowerCase(),schemaId:1})).uniqueId;var i=JSON.stringify(e);return console.log(i),function(e){fetch("https://kompass.dimu.org/admin/api/documents",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:i}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(a){e(B(a)),t&&t(a)}))}}},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(a){delete(e=Object(d.a)(Object(d.a)({},e),{},{source:e.source.toLowerCase(),schemaId:1})).uniqueId;var i=JSON.stringify(e);return console.log(i),function(e){fetch("https://kompass.dimu.org/admin/api/media",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:i}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(a){e(B(a)),t&&t(a)}))}}},F=C.actions,U=F.requestModel,B=F.receiveModel,z=(F.requestParents,F.receiveParents,F.requestChildren),H=F.receiveChildren,W=(F.requestReferences,F.receiveReferences,F.receiveStatus),M=(F.receiveParentId,F.requestSave,F.receiveSave,C.reducer),R=Object(g.b)({name:"finder",initialState:{isLoading:!0,url:void 0,sortOptions:[],sort:void 0,rowsOptions:[10,20,30,40,50],rows:void 0,viewOptions:[],view:void 0,primaryAction:{},parent:{},parents:[],parentsByUrl:{},menu:void 0,menuByUrl:{},menuById:{}},reducers:{requestFinder:function(e,t){var a=t.payload.url;return Object(d.a)(Object(d.a)({},e),{},{url:a,isLoading:!0})},receiveFinder:function(e,t){var a=t.payload.url;return Object(d.a)(Object(d.a)({},e),{},{url:a,isLoading:!1})},receiveView:function(e,t){var a=t.payload.view;return Object(d.a)(Object(d.a)({},e),{},{view:a})},requestViewOptions:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{viewOptions:void 0,view:void 0})},receiveViewOptions:function(e,t){var a=t.payload,i=a.viewOptions,n=a.view;return Object(d.a)(Object(d.a)({},e),{},{viewOptions:i,view:n})},receiveSort:function(e,t){var a=t.payload.sort;return Object(d.a)(Object(d.a)({},e),{},{sort:a})},requestSortOptions:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{sortOptions:void 0,sort:void 0})},receiveSortOptions:function(e,t){var a=t.payload,i=a.sortOptions,n=a.sort;return Object(d.a)(Object(d.a)({},e),{},{sortOptions:i,sort:n})},requestParents:function(e,t){return e},receiveParents:function(e,t){var a=t.payload,i=a.parents,n=a.parentsByUrl;return Object(d.a)(Object(d.a)({},e),{},{parents:i,parentsByUrl:n,parent:i&&i[i.length-1]})},requestPrimaryAction:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{primaryAction:{}})},receivePrimaryAction:function(e,t){var a=t.payload.primaryAction;return Object(d.a)(Object(d.a)({},e),{},{primaryAction:a})},requestMenu:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{menu:[]})},receiveMenu:function(e,t){var a=t.payload.menu;return Object(d.a)(Object(d.a)({},e),{},{menu:a})},requestMenuByUrl:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:{}})},receiveMenuByUrl:function(e,t){var a=t.payload.menuByUrl;return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:a})},requestMenuItem:function(e,t){var a=t.payload,i=a.url,n=Object(s.a)(a,["url"]);return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},i,Object(d.a)({isLoading:!0,url:i},n)))})},receiveMenuItem:function(e,t){var a=t.payload,i=a.id,n=a.url,r=Object(s.a)(a,["id","url"]),o=r.children&&r.children.length||null;return i?Object(d.a)(Object(d.a)({},e),{},{menuById:Object(d.a)(Object(d.a)({},e.menuById),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},r),{},{id:i,isLoading:!1,url:n,count:o}))),menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},n,Object(d.a)(Object(d.a)({},r),{},{id:i,isLoading:!1,count:o,url:n})))}):Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},n,Object(d.a)(Object(d.a)({},r),{},{id:i,count:o,isLoading:!1,url:n})))})},moveMenuItem:function(e,t){var a,i=t.payload,n=i.source,r=i.destination;return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},(a={},Object(m.a)(a,n.url,n),Object(m.a)(a,r.url,r),a))})},expandMenuItem:function(e,t){var a=t.payload.url;return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e.menuByUrl[a]),{},{expanded:!0})))})},collapseMenuItem:function(e,t){var a=t.payload.url;return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e.menuByUrl[a]),{},{expanded:!1})))})},toggleMenuItem:function(e,t){var a=t.payload.url;return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e.menuByUrl[a]),{},{expanded:!e.menuByUrl[a].expanded})))})}}}),V=function(e){var t=e.siteName,a=e.menu,i=e.root,n=e.collectionId;return function(e){var r=function(a){var n=a.parent,r=a.sections,l=a.children,c=a.url,u=a.pathname,m=a.search,p=a.query,g=a.viewOptions,f=a.sortOptions,b=Object(s.a)(a,["parent","sections","children","url","pathname","search","query","viewOptions","sortOptions"]);u&&u.startsWith("/")&&(c=i+u),!c&&n.url?c=u&&n.url+"/"+u||n.url:c||(c=u&&i+"/"+u||i),c.includes(":siteName")&&(c=c.replace(":siteName",t)),m&&(c=c+"?"+m),p&&(p=Object(d.a)(Object(d.a)({},p),{},{collectionId:p.collectionId||n.collectionId})),p&&"media"===p.models&&(g=g||["gallery","icons","list","table"],f=f||["title","createdAt ASC","updatedAt DESC"]),p&&"documents"===p.models&&(g=g||["list","table","icons","column"],f=f||["title","createdAt ASC","updatedAt DESC"]),f&&(p.sort=f[0]);var h=Object(d.a)(Object(d.a)({},b),{},{url:c,query:p,viewOptions:g,sortOptions:f});r&&(r=r.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{url:e.url.replace(":siteName",t)})})));var y=Object(d.a)(Object(d.a)({},h),{},{sections:r,children:l&&l.length&&o(Object(d.a)(Object(d.a)({},h),{},{children:l}))});return e(Y(y)),y},o=function(e){var t=[];return e.children.forEach((function(a){a=r(Object(d.a)(Object(d.a)({},a),{},{parent:e})),t.push(a)})),t},l=o({root:i,children:a,collectionId:n});e(Z({menu:l}))}},J=function(e){var t=e.primaryAction,a=e.root,i=e.collectionId;return function(e){var n=function(e){var t=e.parent,i=e.children,n=e.url,o=e.pathname,l=e.search,c=(e.query,e.viewOptions,e.sortOptions,Object(s.a)(e,["parent","children","url","pathname","search","query","viewOptions","sortOptions"]));o&&o.startsWith("/")&&(n=a+o),!n&&t.url?n=o&&t.url+"/"+o||t.url:n||(n=o&&a+"/"+o||a),n&&l&&(n=n+"?"+l);var u=Object(d.a)(Object(d.a)({},c),{},{root:t.root,url:n});return Object(d.a)(Object(d.a)({},u),{},{children:i&&i.length&&r(Object(d.a)(Object(d.a)({},u),{},{children:i}))})},r=function(e){var t=[];return e.children.forEach((function(a){a=n(Object(d.a)(Object(d.a)({},a),{},{parent:e})),t.push(a)})),t},o=r({root:a,children:[t],collectionId:i});e($({primaryAction:o[0]}))}},G=R.actions,K=G.requestFinder,_=G.receiveFinder,Z=(G.requestMenu,G.receiveMenu),$=(G.requestPrimaryAction,G.receivePrimaryAction),Y=(G.requestViewOptions,G.receiveViewOptions,G.receiveView,G.requestSortOptions,G.receiveSortOptions,G.receiveSort,G.requestMenuByUrl,G.receiveMenuByUrl,G.requestMenuTree,G.receiveMenuTree,G.requestMenuTreeItem,G.receiveMenuTreeItem,G.requestMenuItem,G.receiveMenuItem),X=(G.moveMenuItem,G.expandMenuItem,G.collapseMenuItem,G.toggleMenuItem),Q=G.requestParents,ee=G.receiveParents,te=R.reducer,ae=Object(g.b)({name:"app",initialState:{icon:void 0,isLoading:!0,title:void 0,siteName:void 0,siteTitle:void 0,siteId:void 0,collectionId:void 0,header:{},subview:{expanded:!1},search:{},sidebar:{}},reducers:{requestApp:function(e,t){var a=t.payload;return{root:a.root,icon:a.icon,title:a.title,siteName:a.siteName,collectionType:a.collectionType,isLoading:!0}},receiveAppSite:function(e,t){var a=t.payload,i=a.id,n=a.title;return Object(d.a)(Object(d.a)({},e),{},{siteId:i,siteTitle:n})},receiveAppCollection:function(e,t){var a=t.payload.id;return Object(d.a)(Object(d.a)({},e),{},{collectionId:a})},receiveApp:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1},t.payload)},requestSubview:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{subview:void 0})},receiveSubview:function(e,t){var a=t.payload.subview;return Object(d.a)(Object(d.a)({},e),{},{subview:Object(d.a)(Object(d.a)({},e.subview),a)})},requestLayout:function(e,t){return Object(d.a)({},e)},receiveLayout:function(e,t){var a=t.payload,i=a.header,n=a.sidebar,r=a.subview;return Object(d.a)(Object(d.a)({},e),{},{header:i,sidebar:n,subview:r})},toggleSearch:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{search:Object(d.a)(Object(d.a)({},e.search),{},{expanded:!e.search.expanded})})},collapseSearch:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{search:Object(d.a)(Object(d.a)({},e.search),{},{expanded:!1})})},toggleHeader:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{header:Object(d.a)(Object(d.a)({},e.header),{},{expanded:!e.header.expanded})})},toggleSidebar:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{sidebar:Object(d.a)(Object(d.a)({},e.sidebar),{},{expanded:!e.sidebar.expanded})})},requestSchemasByName:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{schemasByName:{}})},receiveSchemasByName:function(e,t){var a=t.payload.schemasByName;return Object(d.a)(Object(d.a)({},e),{},{schemasByName:a})},requestMenu:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{menu:[]})},receiveMenu:function(e,t){var a=t.payload.menu;return Object(d.a)(Object(d.a)({},e),{},{menu:a})},requestMenuByUrl:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:{}})},receiveMenuByUrl:function(e,t){var a=t.payload.menuByUrl;return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:a})},toggleMenuItem:function(e,t){var a=t.payload.url;return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},a,Object(d.a)(Object(d.a)({},e.menuByUrl[a]),{},{expanded:!e.menuByUrl[a].expanded})))})},receiveMenuItemByUrl:function(e,t){var a=t.payload,i=a.url,n=Object(s.a)(a,["url"]);return Object(d.a)(Object(d.a)({},e),{},{menuByUrl:Object(d.a)(Object(d.a)({},e.menuByUrl),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},n),{},{url:i})))})},requestParents:function(e,t){return e},receiveParents:function(e,t){var a=t.payload.parents;return Object(d.a)(Object(d.a)({},e),{},{parents:a})}}}),ie=function(e){return function(t){t(de(e)),t(ne(e))}},ne=function(e){var t=e.siteName,a=Object(s.a)(e,["siteName"]);return function(e){var i=b.a.stringify({name:t,fl:"id,name,title"});fetch(p+"/admin/api/sites/search?"+i,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){var i=t.models&&t.models[0]||{};e(ue(i)),e(re(Object(d.a)(Object(d.a)({},a),{},{siteId:i.id,siteName:i.name,siteTitle:i.title})))}))}},re=function(e){var t=e.siteId,a=e.collectionType,i=Object(s.a)(e,["siteId","collectionType"]);return function(e){var n=b.a.stringify({siteId:t,collectionType:a,fl:"id,name,title"});fetch(p+"/admin/api/collections/search?"+n,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){var a=t.models&&t.models[0]||{};e(me(a)),e(oe(Object(d.a)(Object(d.a)({},i),{},{collectionId:a.id})))}))}},oe=function(e){return function(t){t(se(e)),t(function(e){var t=e.url,a=void 0===t?void 0:t;Object(s.a)(e,["url"]);return function(e,t){var i=t(),n=i.app,r=i.finder;e(K({url:a})),e(V(n)),e(J(n)),r.menu&&e(_({url:a}))}}(e))}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return function(t){"editor"===e&&t(pe({header:{expanded:!1},sidebar:{expanded:!1},subview:{expanded:!1}})),"finder"===e&&t(pe({header:{expanded:!0},sidebar:{expanded:!0},subview:{expanded:!1}})),"finder/subview"===e&&t(pe({header:{expanded:!0},sidebar:{expanded:!1},subview:{expanded:!0}}))}},ce=ae.actions,de=ce.requestApp,se=ce.receiveApp,ue=ce.receiveAppSite,me=ce.receiveAppCollection,pe=(ce.requestLayout,ce.receiveLayout),ge=(ce.requestSubview,ce.receiveSubview),fe=(ce.toggleHeader,ce.toggleSearch),be=ce.collapseSearch,he=ce.toggleSidebar,ye=(ce.requestSchemasByName,ce.receiveSchemasByName,ce.requestMenu,ce.receiveMenu,ce.toggleMenuItem,ce.requestMenuByUrl,ce.receiveMenuByUrl,ce.receiveMenuItemByUrl,ce.requestParents,ce.receiveParents,ae.reducer),ve=a(564),je=a(80),Oe=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 20.5L18.5 3.5L5.5 3.5L5.5 20.5H18.5ZM20 2L4 2L4 22H20V2Z"}),n.a.createElement("rect",{x:"8",y:"8.5",width:"8",height:"1"}),n.a.createElement("rect",{x:"8",y:"10.5",width:"8",height:"1"}),n.a.createElement("rect",{x:"8",y:"12.5",width:"8",height:"1"}),n.a.createElement("rect",{x:"8",y:"14.5",width:"5",height:"1"}))},ke=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("path",{d:"M11 16V13H13V16H15.5V12H17L12 7.5L7 12H8.5V16H11Z"}))},Ee=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("rect",{x:"4",y:"12",width:"16",height:"1"}),n.a.createElement("rect",{x:"15",y:"13",width:"1",height:"5"}),n.a.createElement("rect",{x:"10",y:"6",width:"1",height:"6"}))},Ie=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("path",{d:"M18 16.1382H6L9 12.2873L11.1382 14.8618L14.1382 11L18 16.1382Z"}))},xe=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"},e),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("circle",{cx:"12",cy:"12",r:"1.5"}),n.a.createElement("circle",{cx:"17",cy:"12",r:"1.5"}),n.a.createElement("circle",{cx:"7",cy:"12",r:"1.5"}))},Ce=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("rect",{x:"8",y:"8.5",width:"8",height:"1"}),n.a.createElement("rect",{x:"8",y:"10.5",width:"8",height:"1"}),n.a.createElement("rect",{x:"8",y:"12.5",width:"8",height:"1"}),n.a.createElement("rect",{x:"8",y:"14.5",width:"8",height:"1"}))},Se=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("circle",{cx:"7",cy:"12",r:"1"}),n.a.createElement("circle",{cx:"12",cy:"8",r:"1"}),n.a.createElement("rect",{x:"15",y:"11",width:"1",height:"5"}),n.a.createElement("rect",{x:"13",y:"13",width:"5",height:"1"}))},Te=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("rect",{x:"17.5355",y:"10",width:"1",height:"5",transform:"rotate(45 17.5355 10)"}),n.a.createElement("rect",{x:"18.2426",y:"13.5355",width:"1",height:"5",transform:"rotate(135 18.2426 13.5355)"}),n.a.createElement("circle",{cx:"7",cy:"12",r:"1"}),n.a.createElement("circle",{cx:"11",cy:"12",r:"1"}))},we=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("rect",{x:"9",y:"8",width:"6",height:"4"}),n.a.createElement("rect",{x:"5",y:"14",width:"4",height:"2"}),n.a.createElement("rect",{x:"10",y:"14",width:"4",height:"2"}),n.a.createElement("rect",{x:"15",y:"14",width:"4",height:"2"}))},Ne=a(508),qe={palette:{primary:{main:"#D94353",light:"#EE7E8F",dark:"#AE3552"}}},Le=function(e){return n.a.createElement(Ne.a,Object.assign({},e,{variant:"filled",color:qe.palette.primary.main,text:"Ki"}))},Pe={outlined:function(e){var t=e.text,a=void 0===t?"Ap":t,i=Object(s.a)(e,["text"]);return n.a.createElement(je.a,Object.assign({},i,{viewBox:"0 0 24 24"},i),n.a.createElement("rect",{x:"2",y:"2",width:"20",height:"20",fill:"currentColor"}),n.a.createElement("rect",{x:"3.5",y:"3.5",width:"17",height:"17",fill:"white"}),n.a.createElement("text",{x:"12",y:"13",fill:"currentColor",fontFamily:"Akkurat, sans-serif",fontSize:"10",fontWeight:"bold",dominantBaseline:"middle",textAnchor:"middle"},a))},filled:function(e){var t=e.text,a=void 0===t?"Ap":t,i=Object(s.a)(e,["text"]);return n.a.createElement(je.a,Object.assign({},i,{viewBox:"0 0 24 24"},i),n.a.createElement("rect",{x:"2",y:"2",width:"20",height:"20",fill:"currentColor"}),n.a.createElement("text",{x:"12",y:"13",fill:"white",fontFamily:"Akkurat, sans-serif",fontSize:"10",fontWeight:"bold",dominantBaseline:"middle",textAnchor:"middle"},a))}},Ae=function(e){var t=e.color,a=e.text,i=e.variant,r=void 0===i?"outlined":i,o=Object(s.a)(e,["color","text","variant"]),l=Pe&&Pe[r];return l?n.a.createElement(l,Object.assign({color:t,text:a},o)):"<p>Failed</p>"},De=function(){return n.a.createElement(Ae,{variant:"filled",text:"Ki"})},Fe={palette:{primary:{main:"#D94353",light:"#EE7E8F",dark:"#AE3552"}}},Ue=function(){return n.a.createElement(Ne.a,{variant:"outlined",color:Fe.palette.primary.main,text:"Kp"})},Be=function(){return n.a.createElement(Ae,{variant:"outlined",text:"Kp"})},ze=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("path",{d:"M13.3333 10.6667H10.6667V13.3333H13.3333V10.6667ZM12.4444 12.4444H11.5556V11.5556H12.4444V12.4444ZM16 11.5556V10.6667H15.1111V9.77778C15.1111 9.28889 14.7111 8.88889 14.2222 8.88889H13.3333V8H12.4444V8.88889H11.5556V8H10.6667V8.88889H9.77778C9.28889 8.88889 8.88889 9.28889 8.88889 9.77778V10.6667H8V11.5556H8.88889V12.4444H8V13.3333H8.88889V14.2222C8.88889 14.7111 9.28889 15.1111 9.77778 15.1111H10.6667V16H11.5556V15.1111H12.4444V16H13.3333V15.1111H14.2222C14.7111 15.1111 15.1111 14.7111 15.1111 14.2222V13.3333H16V12.4444H15.1111V11.5556H16ZM14.2222 14.2222H9.77778V9.77778H14.2222V14.2222Z"}))},He=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("path",{d:"M14.3442 11.5628C14.3325 10.475 15.2302 9.95122 15.2706 9.92587C14.7644 9.18771 13.978 9.08756 13.6979 9.07571C13.0284 9.00882 12.3924 9.47162 12.053 9.47206C11.7139 9.47256 11.1891 9.08932 10.6343 9.10057C9.90452 9.11204 9.23287 9.52639 8.85753 10.1798C8.10181 11.4962 8.66833 13.4436 9.40813 14.5094C9.76981 15.0304 10.2008 15.617 10.7662 15.595C11.3106 15.573 11.5159 15.2422 12.1736 15.2414C12.8314 15.2405 13.0171 15.592 13.5926 15.5803C14.1784 15.5692 14.5488 15.0472 14.9064 14.5233C15.3202 13.917 15.4898 13.3303 15.5 13.3001C15.4873 13.2943 14.3575 12.863 14.3442 11.5628Z"}),n.a.createElement("path",{d:"M13.2636 8.37228C13.564 8.00874 13.7658 7.50352 13.7106 7C13.2784 7.01756 12.755 7.28809 12.4446 7.65119C12.1666 7.97291 11.9231 8.48713 11.9889 8.98061C12.4707 9.01793 12.9633 8.73544 13.2636 8.37228Z"}))},We=function(e){return n.a.createElement(je.a,Object.assign({},e,{viewBox:"0 0 24 24"}),n.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z"}),n.a.createElement("path",{d:"M8 9.13617L11.2693 8.69092L11.2708 11.8445L8.00299 11.8631L8 9.13617ZM11.2678 12.2078L11.2703 15.3641L8.00254 14.9148L8.00235 12.1866L11.2678 12.2078ZM11.6641 8.63267L15.999 8V11.8044L11.6641 11.8388V8.63267ZM16 12.2375L15.999 16.0247L11.6641 15.4129L11.658 12.2304L16 12.2375Z"}))},Me={kpApp:n.a.createElement(Ue,null),kpMenu:n.a.createElement(Be,null),kioskApp:n.a.createElement(Le,null),kioskMenu:n.a.createElement(De,null),article:n.a.createElement(Oe,null),pageHome:n.a.createElement(ke,null),pageGrid:n.a.createElement(Ee,null),pageMedia:n.a.createElement(Ie,null),pageAnnotate:n.a.createElement(Se,null),pageTimeline:n.a.createElement(xe,null),pageList:n.a.createElement(Ce,null),pageMap:n.a.createElement(Te,null),pageParent:n.a.createElement(we,null),pageTopic:n.a.createElement(we,null),device:n.a.createElement(ze,null),deviceMac:n.a.createElement(He,null),deviceWin:n.a.createElement(We,null)},Re=function(e){var t=e.children,a=(Object(s.a)(e,["children"]).location.pathname,Object(u.d)((function(e){return e.app}))),i=a.root,r=a.icon,o=a.siteId,l=a.title,c=(a.siteName,a.siteTitle),d=(a.collectionType,a.collectionId),m=a.isLoading,p=l&&l||"Loading app ...",g="Loading "+i+"...";o&&(g="Site loaded: "+c),d&&(g="Collection loaded: "+d);var f=r&&Me[r];return n.a.createElement(ve.a,{icon:f,isLoading:m,title:p,description:g},d&&t)};Re.defaultProps={};var Ve=Re,Je=a(76),Ge=a.n(Je),Ke=function(e){var t=e.children,a=Object(s.a)(e,["children"]).location.pathname,n=Object(u.d)((function(e){return e.app})),r=Object(u.d)((function(e){return e.finder})),o=r.menuByUrl[a]||r.parent,l=(n.icon,o&&o.title||n&&n.title,r.isLoading,!a||r.isLoading,Object(u.c)());return Object(i.useEffect)((function(){a&&l(function(e){var t=e.url;return function(e,a){e(Q());var i=a(),n=i.finder.menuByUrl;i.finder.menuById;console.log("getParents",!1);var r,o=[],l=[];t.split("/").map((function(e){l.push(e),r=l.join("/"),console.log("parents by path",r),n[r]&&o.push(n[r])}));var c={};o.map((function(e){e.url&&(c[e.url]=e)})),e(ee({parents:o,parentsByUrl:c}))}}({url:a}))}),[a,r.isLoading,o]),t};Ke.defaultProps={};var _e=Ke,Ze=Object(g.b)({name:"search",initialState:{},reducers:{requestSearch:function(e,t){var a=t.payload,i=a.models,n=a.url,r=(a.page,a.apiUrl),o=a.query;return e[n]&&e[n].page?Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},n,Object(d.a)(Object(d.a)({},e[n]),{},{isLoading:!0,apiUrl:r,query:Object(d.a)(Object(d.a)({},o),{},{models:i})}))):Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},n,{isLoading:!0,apiUrl:r,query:Object(d.a)(Object(d.a)({},o),{},{models:i})}))},receiveError:function(e,t){var a=t.payload,i=a.url,n=a.error;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,{isLoading:!1,error:n.toString()}))},receiveSearch:function(e,t){var a=t.payload,i=a.url,n=a.results;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},e[i]),{},{isLoading:!1,results:n})))},receivePage:function(e,t){var a,i,n=t.payload,r=n.url,o=n.page,l=n.results,c=l.start,s=l.rows,u=l.count,p=Math.ceil(u/s),g=Math.ceil((c+s)/s),f=Object(d.a)(Object(d.a)({},e[r].resultsByPage),{},Object(m.a)({},o,l.models)),b=[];Object.values(f).map((function(e){b=b.concat(e)}));for(var h=o;h<=p;h++)if(!f[h]){a=h;break}for(var y=o;y>=1;y--)if(!f[y]){i=y;break}return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},r,Object(d.a)(Object(d.a)({},e[r]),{},{count:u,start:c,rows:s,page:g,pages:p,nextPage:a,prevPage:i,resultsByPage:f,resultsLoaded:b})))}}}),$e=function(e){var t=e.models,a=e.url,i=e.page,n=void 0===i?1:i,r=Object(s.a)(e,["models","url","page"]);return function(e){n>1&&r.rows&&(r.start=r.rows*(n-1)),r.collectionId&&"*"===r.collectionId&&delete r.collectionId,r.siteId&&"*"===r.siteId&&delete r.siteId;var i=b.a.stringify(r),o=p+"/admin/api/"+t+"/search";i&&(o=o+"?"+i),1===n&&e(Xe({models:t,url:a,page:n,apiUrl:o,query:r})),fetch(o,{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){e(Qe({url:a,results:t})),e(et({url:a,page:n,results:t}))}))}},Ye=Ze.actions,Xe=Ye.requestSearch,Qe=Ye.receiveSearch,et=Ye.receivePage,tt=(Ye.receiveError,Ze.reducer),at=a(23),it=Object(at.a)((function(e){return{bulk:{position:"absolute",top:0,right:0,bottom:0,left:0,transition:".125s ease-out",marginLeft:"100%","& + *":{transition:".125s ease-out",marginRight:0},"&[aria-expanded=true]":{marginLeft:"50%","& + *":{marginRight:"50%"}}},header:{position:"relative",height:e.spacing(8),display:"flex",alignItems:"center",zIndex:1,"& + *":{marginTop:e.spacing(8),marginLeft:e.spacing(2),marginRight:e.spacing(2)}},body:{position:"absolute",top:0,right:0,bottom:0,left:0,overflowY:"scroll"},path:{margin:e.spacing(0,2)},settings:{position:"absolute",zIndex:2,top:0,right:0,margin:e.spacing(1)}}})),nt=function(e){var t=e.expanded,a=void 0!==t&&t,i=(e.parents,e.settings,e.children),r=(Object(s.a)(e,["expanded","parents","settings","children"]),it());return n.a.createElement("div",{className:r.bulk,"aria-expanded":a},n.a.createElement("header",{className:r.header},"#header"),n.a.createElement("div",{className:r.body},i))};nt.defaultProps={};var rt=nt,ot=a(543),lt=a(12),ct=(lt.utils.getUiOptions,lt.utils.getDefaultFormState),dt=function(e){var t=e.registry,a=e.formData,i=e.schema,r=e.uiSchema,o=e.formContext,l=function(a){var n=ct(i,a,t.definitions);e.onChange(n)},c=a&&a.backgroundImage,s=a&&a.links,u=Object(d.a)(Object(d.a)({},t),{},{formContext:Object(d.a)(Object(d.a)({},t.formContext),{},{annotateImage:c,imageAnnotations:s,onAnnotateArrayChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log("onAnnotateArrayChange",e),l(Object(d.a)(Object(d.a)({},a),{},{links:e}))},onAnnotateImageChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log("onAnnotateImageChange",e),l(Object(d.a)(Object(d.a)({},a),{},{links:e}))}})}),m=Object(d.a)(Object(d.a)({},r),{},{"ui:dialog":o.dialog,"ui:preview":o.preview,"ui:sidebar":Object(d.a)(Object(d.a)({},o.dialog),o.sidebar),"ui:layout":"pageContent"}),p=u.formContext,g=t.fields.ObjectField;return n.a.createElement(g,Object.assign({},e,{registry:u,formContext:p,uiSchema:m,onChange:l}))},st=function(e){var t=e.registry,a=Object(s.a)(e,["registry"]),i=t.fields.ArrayField,r=t.formContext.onAnnotateArrayChange;return n.a.createElement(i,Object.assign({},a,{registry:t,onChange:r}))},ut=a(647),mt={fields:{kpPage:dt,kpAnnotateArray:st,kpAnnotateImage:function(e){var t=e.formContext,a=(e.uiSchema,Object(s.a)(e,["formContext","uiSchema"]),t.annotateImage),i=void 0===a?{}:a,r=t.imageAnnotations,o=t.onAnnotateImageChange,l=(i.mediaId,i.media),c=i.imageFilters;return n.a.createElement(ut.a,{imageUrl:l&&l.imageUrl,imageFilters:c,imageAnnotations:r,onChange:o})}},widgets:{},models:{}},pt=a(63),gt=a.n(pt),ft={type:"object",properties:{referenceId:{type:"string"},referenceType:{type:"string",default:"pageLink"},reference:{type:"object",properties:{uniqueId:{type:"string"},documentType:{type:"string"}}},mediaId:{type:"string"},media:{type:"object",properties:{uniqueId:{type:"string"}}},imageFilters:{type:"imageFilters",filters:["opacity"]},imageCropdata:{type:"imageCropdata"},imageFocalpoint:{type:"imageFocalpoint"},runningHead:{type:"localizedString"},title:{type:"localizedString"},titleColor:{type:"string",format:"textColor",enum:["black","white"],default:"black"},titleSize:{type:"string",enum:["small","medium","large"],default:"medium"},description:{type:"localizedString"},top:{type:"string",default:50,readonly:!0},left:{type:"string",default:50,readonly:!0},x:{type:"number",default:0,readonly:!0},y:{type:"number",default:0,readonly:!0},backgroundColor:{type:"string",format:"color",enum:["black","#7f7f7f","white"],default:"#7f7f7f"},color:{type:"string",format:"textColor",enum:["black","white"],default:"black"},skin:{type:"string",enum:["dark","light","dark/light","light/dark"],default:"dark"},placement:{type:"string",enum:["top-left","top","top-right","left","center","right","bottom-left","bottom","bottom-right"],default:"top-left"},grid:{type:"string",enum:["1:1","1:2","1:3","2:1","2:2","2:3","3:1","3:2","3:3","4:1","4:2","4:3","5:1","5:2","5:3"],default:"1:1"}}},bt={"ui:field":"kpLink","ui:layout":"module","ui:options":{minHeight:256,editable:!0},"ui:nav":!0,"ui:fieldset":["link"],"ui:preview":{select:{imageUrl:"imageUrl",typeLabel:"typeLabel",title:"title",metadata:"metadata"},prepare:function(e){var t=e.formData,a=e.formContext,i=(e.index,t.mediaId,t.media),n=t.referenceId,r=t.reference,o="locale:"+(a.currentLocale||a.defaultLocale),l=t.title&&t.title[o],c=i&&i.imageUrl||r&&r.imageUrl,d=n&&r&&r.documentType,s=[];return n&&r&&r.title&&s.push(r.title),{imageUrl:c,typeLabel:d,title:l||n&&r&&r.title,metadata:s}}},imageFilters:{"ui:title":"Filters","ui:field":"imageFilters"},imageCropdata:{"ui:title":"Crop","ui:field":"imageCropdata"},imageFocalpoint:{"ui:title":"Fokuspunkt","ui:field":"imageFocalpoint"},link:{"ui:title":"Innhold","ui:layout":"kioskLink","ui:fieldset":["linkMedia","linkContent","linkReference"],"ui:options":{padding:2,spacing:2},linkMedia:{"ui:fieldset":["mediaId","media"],"ui:sidebar":{query:{models:"media",mediaType:"image"}},"ui:layout":"kioskLinkMedia","ui:buttons":["sidebar"]},linkReference:{"ui:fieldset":["referenceId","reference"],"ui:sidebar":{query:{models:"documents",documentType:["page*","article"]}},"ui:layout":"kioskLinkReference","ui:options":{editable:!0,deletable:!0,restorable:!0}},linkContent:{"ui:layout":"kioskLinkContent","ui:grid":!0,"ui:padding":2,"ui:spacing":2,"ui:fieldset":["runningHead","title","description"],runningHead:{"ui:title":"Stikktittel"},title:{"ui:title":"Tittel"},description:{"ui:title":"Beskrivelse"}}},imageAnnotations:{"ui:title":"Mark\xf8r","ui:fieldset":["coords"],coords:{"ui:fieldset":["x","y","top","left"],"ui:grid":!0,"ui:padding":2,"ui:spacing":2,x:{"ui:gridCols":6},y:{"ui:gridCols":6},top:{"ui:gridCols":6},left:{"ui:gridCols":6}}}},ht=a(354),yt=a(256),vt=a(120),jt=a(110),Ot=Object(at.a)((function(e){return{buttongroup:{margin:function(t){return e.spacing(t.spacing/2*-1)},"& > *":{margin:function(t){return e.spacing(t.spacing/2)}}},button:{fontFamily:"Akkurat, sans-serif",fontSize:"14px",fontWeight:"bold",textTransform:"none",letterSpacing:0,borderRadius:1,minWidth:e.spacing(12),minHeight:e.spacing(7)},icon:{marginRight:e.spacing(1),"& + $label":{marginRight:e.spacing(1)}},label:{}}})),kt=function(e){var t=e.className,a=(e.spacing,e.buttons),i=void 0===a?[]:a,r=Ot({spacing:1});if(!i.length)return null;var o=function(e){var t=e.icon,a=e.title,i=e.color,o=void 0===i?"primary":i,l=e.variant,c=void 0===l?"outlined":l,d=e.size,u=void 0===d?"large":d,m=Object(s.a)(e,["icon","title","color","variant","size"]);return n.a.createElement(vt.a,Object.assign({},m,{type:"button","data-size":u,"data-variant":c,disableElevation:!0,color:o,variant:c,size:u,className:r.button}),t&&n.a.createElement(jt.a,{className:r.icon},t),n.a.createElement("b",{className:r.label},a))};return n.a.createElement(yt.a,{color:"primary",className:t||r.buttongroup},i&&i.map((function(e,t){return n.a.createElement(o,Object.assign({},e,{key:t}))})))};kt.defaultProps={spacing:1};var Et=kt,It=Object(at.a)((function(e){return{root:{display:"block",position:"relative",backgroundColor:"#333",color:"white",minHeight:256,"&:hover $preview":{opacity:.5}},buttons:{zIndex:2,position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"},preview:{margin:0}}})),xt=function(e){var t=e.mediaId,a=e.media,i=e.referenceId,r=e.reference,o=e.onChange,l=e.onDialog,c=It(),d=[{icon:"remove_circle",title:"Remove",variant:"text",size:"small",onClick:function(){return o({mediaId:void 0,media:{}})}}],s=[{icon:"search",title:"Finn media",color:"inherit",size:"small",onClick:function(){return l(e)}}];t&&a&&a.imageUrl||i&&r&&r.imageUrl;return a&&a.imageUrl?n.a.createElement("div",{className:c.root,"data-name":"media"},n.a.createElement(ht.a,{className:c.preview,imageUrl:a.imageUrl}),n.a.createElement(Et,{className:c.buttons,buttons:d})):i&&r&&r.imageUrl?n.a.createElement("div",{className:c.root,"data-name":"media"},n.a.createElement(ht.a,{className:c.preview,imageUrl:r.imageUrl}),n.a.createElement(Et,{className:c.buttons,buttons:s})):n.a.createElement("div",{className:c.root,"data-name":"media"},n.a.createElement(Et,{className:c.buttons,buttons:s}))},Ct=a(409),St=a(145),Tt=a(408),wt=a.n(Tt),Nt=a(778),qt=a.n(Nt),Lt=Object(at.a)((function(e){return{reference:{border:"1px solid",borderColor:e.palette.divider,"&:hover $preview":{opacity:.5}}}})),Pt=function(e){var t=e.referenceId,a=e.reference,i=e.onChange,r=e.onDialog,o=Lt(),l=function(e){var t=e.onClick;return n.a.createElement(St.a,{onClick:t},n.a.createElement(wt.a,null))},c=function(e){var t=e.onClick;return n.a.createElement(St.a,{onClick:t},n.a.createElement(qt.a,null))};return t&&a?n.a.createElement("div",{className:o.reference},n.a.createElement(Ct.a,Object.assign({},a,{startAdornment:n.a.createElement(c,{onClick:function(){i&&i({referenceId:void 0,reference:{}})}})}))):n.a.createElement("div",{className:o.reference,onClick:function(){r&&r(e)}},n.a.createElement(Ct.a,{untitled:"Add a link",startAdornment:n.a.createElement(l,null)}))},At=(lt.utils.getUiOptions,lt.utils.getDefaultFormState),Dt=function(e){var t=e.formData,a=e.formContext,i=e.schema,r=e.uiSchema,o=e.registry,l=t&&t.mediaId,c=t&&t.media,s=(c&&c.mediaType,t&&t.referenceId),u=t&&t.reference,m=u&&u.title,p=u&&u.description,g=(t&&t.backgroundColor,t&&t.color,function(a){var n=a.mediaId,r=a.media;console.log("MEDIA change",r);var l=At(i,Object(d.a)(Object(d.a)({},t),{},{mediaId:n,media:r}),o.definitions);e.onChange&&e.onChange(l)}),f=function(a){var n=a.referenceId,r=a.reference;console.log("KpLink:onChange",n);var l=At(i,Object(d.a)(Object(d.a)({},t),{},{referenceId:n,reference:r}),o.definitions);e.onChange&&e.onChange(l)},b={"ui:fieldset":["linkMedia","linkContent","linkReference"],"ui:options":{spacing:2,grid:!0},linkMedia:{"ui:layout":xt,"ui:fieldset":["mediaId","media","referenceId","reference"],"ui:xs":4,"ui:mediaId":l,"ui:media":c,"ui:referenceId":s,"ui:reference":u,"ui:onDialog":function(e){a.onDialog&&a.onDialog(Object(d.a)(Object(d.a)({},e),{},{schema:{type:"object",properties:{mediaId:i.properties.mediaId,media:i.properties.media}},formData:{mediaId:l,media:c},onChange:g}))},"ui:onChange":g},linkContent:{"ui:xs":8,"ui:spacing":2,"ui:fieldset":["runningHead","title","description"],runningHead:Object(d.a)(Object(d.a)({"ui:title":"Stikktittel"},r.linkContent.runningHead),{},{color:{"ui:widget":"color"}}),title:Object(d.a)(Object(d.a)({"ui:title":"Tittel","ui:placeholder":m},r.linkContent.title),{},{titleColor:{"ui:widget":"color"}}),description:{"ui:title":"Beskrivelse","ui:placeholder":p,"ui:widget":"textarea"}},linkReference:{"ui:layout":Pt,"ui:xs":12,"ui:fieldset":["referenceId","reference"],"ui:referenceId":s,"ui:reference":u,"ui:dialog":{query:{models:"documents",documentType:["page*","article"]}},"ui:onDialog":function(e){a.onDialog&&a.onDialog(Object(d.a)(Object(d.a)({},e),{},{schema:{type:"object",properties:{referenceId:i.properties.referenceId,reference:i.properties.reference}},onChange:f}))},"ui:onChange":f}},h=o.fields.ObjectField;return n.a.createElement(h,Object.assign({},e,{uiSchema:b}))},Ft=lt.utils.getUiOptions,Ut=lt.utils.getDefaultFormState,Bt=function(e){var t=e.formData,a=e.formContext,i=e.registry,r=Object(d.a)({},ft),o=Object(d.a)(Object(d.a)(Object(d.a)({},bt),e.uiSchema),{},{"ui:layout":"kpLink"}),l=t&&t.mediaId,c=t&&t.media,s=t&&t.referenceId,u=t&&t.reference,m=(u&&u.title,c.imageUrl||s&&u&&u.imageUrl),p=t&&t.imageFocalpoint,g=t&&t.imageCropdata,f=t&&t.imageFilters,b=t&&t.backgroundColor,h=t&&t.color,y=function(){var i=Ft(o),n=[],r={"ui:mediaId":l,"ui:media":l,"ui:referenceId":s,"ui:reference":u,"ui:imageUrl":m,"ui:imageCropdata":g,"ui:imageFilters":f,"ui:imageFocalpoint":p},c={};return o.content&&(c.content=Object(d.a)(Object(d.a)(Object(d.a)({},o.content),r),{},{"ui:field":Dt}),n.push("content")),o.imageCropdata&&m&&(c.imageCropdata=Object(d.a)(Object(d.a)(Object(d.a)({},o.imageCropdata),r),{},{"ui:onChange":function(a){return function(a){e.onChange&&e.onChange(Object(d.a)(Object(d.a)({},t),{},{imageCropdata:a}))}(a)}}),n.push("imageCropdata")),o.imageFocalpoint&&m&&(c.imageFocalpoint=Object(d.a)(Object(d.a)(Object(d.a)({},o.imageFocalpoint),r),{},{"ui:onChange":function(a){return function(a){e.onChange&&e.onChange(Object(d.a)(Object(d.a)({},t),{},{imageFocalpoint:a}))}(a)}}),n.push("imageFocalpoint")),o.imageFilters&&m&&(c.imageFilters=Object(d.a)(Object(d.a)(Object(d.a)({},o.imageFilters),r),{},{"ui:onChange":function(a){return function(a){e.onChange&&e.onChange(Object(d.a)(Object(d.a)({},t),{},{imageFilters:a}))}(a)}}),n.push("imageFilters")),"annotate"===a.pageType&&(c.imageAnnotations=Object(d.a)(Object(d.a)({},o.imageAnnotations),r),n.push("imageAnnotations")),Object(d.a)(Object(d.a)(Object(d.a)({},o),c),{},{"ui:options":i,"ui:fieldset":n,color:Object(d.a)(Object(d.a)({},o.color),{},{"ui:backgroundColor":t&&t.backgroundColor}),link:Object(d.a)(Object(d.a)({},c.link),{},{linkContent:Object(d.a)(Object(d.a)({},c.content.linkContent),{},{titleColor:{"ui:backgroundColor":t&&t.backgroundColor}})})})}(),v=i.fields.ObjectField;return n.a.createElement(v,Object.assign({},e,{schema:r,uiSchema:y,onChange:function(t){var a;t.backgroundColor!==b&&(t.color=(a=t.backgroundColor,gt()(a).isLight()?"black":"white")),t.color!==h&&(t.titleColor=t.color);var n=Ut(r,t,i.definitions);e.onChange&&e.onChange(n)}}))},zt=a(1751),Ht=a(141),Wt=a(356),Mt=a(143),Rt=a(185),Vt=a(186),Jt=a(162),Gt=a(207),Kt=a(244),_t=a(114),Zt=a(108),$t=Object(at.a)((function(e){return{module:{position:"relative",display:"flex",minHeight:e.spacing(8),justifyContent:"flex-start",alignItems:"center",userSelect:"none","&[aria-selected=true]":{backgroundColor:e.palette.action.selected},"&[role=button]":{cursor:"pointer","& *":{pointerEvents:"none"},"&[aria-selected=true]":{}},"&[data-elevated=true]":{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},"& + $module":{borderTop:"1px solid",borderColor:e.palette.divider},"&.sortable-helper":{borderTopColor:"transparent",boxShadow:e.shadows[12],zIndex:2e3,"& $settings":{display:"none"},"& $toolbar":{display:"none"}},"&[data-status=erased]":{"& figure":{opacity:"0.5"},"& $content":{opacity:"0.5"}},"&[data-status=trash]":{"& figure":{opacity:"0.5"},"& $content":{opacity:"0.5"}}},badge:{"& .MuiBadge-badge":{pointerEvents:"none",margin:e.spacing(1)}},settings:{zIndex:3,display:"flex",flexWrap:"none","& > * + *":{marginLeft:e.spacing(-1)}},toolbar:{zIndex:3,display:"flex",flexWrap:"none","& > * + *":{marginLeft:e.spacing(-1)},"& button":{opacity:.5,"&:hover":{opacity:1}}},media:{display:"flex"},content:{flexGrow:1,maxWidth:"100%",flexDirection:"column",overflow:"hidden",alignItems:"flex-start",justifyContent:"flex-start",margin:e.spacing(1)},header:{width:"100%",maxWidth:"100%",overflow:"hidden",display:"flex",alignItems:"baseline",justifyContent:"flex-start","& * + *":{marginLeft:e.spacing(.5)}},footer:{width:"100%",maxWidth:"100%",overflow:"hidden",display:"flex",alignItems:"baseline",justifyContent:"flex-start","& * + *":{marginLeft:e.spacing(.5)}}}})),Yt=function(e){var t=e.startAdornment,a=e.badgeContent,i=$t({});return n.a.createElement(zt.a,{className:i.badge,badgeContent:a,color:"primary"},t)},Xt=function(e){var t=e.imageUrl,a=e.untitled,i=e.typeLabel,r=e.type,o=e.title,l=e.description,c=e.metadata,d=e.status,u=e.statusLabel,m=e.author,p=e.datetime,g=e.selected,f=e.onClick,b=Object(s.a)(e,["imageUrl","untitled","typeLabel","type","title","description","metadata","status","statusLabel","author","datetime","selected","onClick"]),h=$t({});return n.a.createElement(Ht.a,Object.assign({},b,{className:h.module,role:f&&"button",status:d,selected:g,onClick:f}),n.a.createElement(Yt,b),n.a.createElement("div",{className:h.media},n.a.createElement(Wt.a,{backgroundColor:"transparent",imageUrl:t,width:"48px",height:"48px"})),n.a.createElement("div",{className:h.content},n.a.createElement("header",{className:h.header},n.a.createElement(Mt.a,{status:d,untitled:a,title:o,onClick:!f&&b.onEdit}),n.a.createElement(Rt.a,{statusLabel:u,status:u||d}),n.a.createElement(Vt.a,{author:m,datetime:p})),n.a.createElement("footer",{className:h.footer},n.a.createElement(Jt.a,{label:i||r}),n.a.createElement(Gt.a,{metadata:c}),n.a.createElement(Kt.a,{description:l}))),n.a.createElement(_t.a,Object.assign({},b,{className:h.settings})),n.a.createElement(Zt.a,Object.assign({},b,{className:h.toolbar})))};Xt.defaultProps={editable:!1,selectable:!1,selected:!1,deletable:!1,restorable:!1};var Qt=Xt,ea=a(357),ta=a(386),aa=a(358),ia=a(359),na=a(360),ra=Object(at.a)((function(e){var t;return{module:{position:"relative",zIndex:2,"& + *":{zIndex:1},display:"flex",flexDirection:"column",minHeight:function(e){return e.minHeight}},header:(t={position:"absolute",zIndex:2,top:0,right:0,bottom:"auto",left:0,display:"flex"},Object(m.a)(t,"zIndex",2),Object(m.a)(t,"alignItems","center"),Object(m.a)(t,"justifyContent","flex-start"),Object(m.a)(t,"height",e.spacing(6)),Object(m.a)(t,"marginLeft",e.spacing(1)),Object(m.a)(t,"marginRight",e.spacing(1)),Object(m.a)(t,"color","inherit"),Object(m.a)(t,"& + *",{zIndex:1,marginTop:e.spacing(6)}),t),body:{position:"relative",flexGrow:1,padding:e.spacing(2)},footer:{borderTop:"1px solid",borderColor:e.palette.divider}}})),oa=function(e){var t=e.id,a=e.children,i=e.buttons,r=Object(s.a)(e,["id","children","buttons"]),o=ra(r);return n.a.createElement(Ht.a,{className:o.module,id:t,expanded:!0,elevation:4},n.a.createElement(ea.a,r,n.a.createElement(ta.a,Object.assign({},r,{className:o.header})),n.a.createElement(aa.a,{className:o.body},a)),n.a.createElement(ia.a,Object.assign({},r,{className:o.footer}),i&&n.a.createElement(na.a,{buttons:i})))},la=function(e){var t=e.editable,a=e.expanded,i=e.buttons,r=e.onSave,o=e.children,l=Object(s.a)(e,["editable","expanded","buttons","onSave","children"]);return t&&a?(i&&i.length||(i=[{title:"Save",onClick:r}]),n.a.createElement(oa,Object.assign({},l,{buttons:i}),o)):n.a.createElement(Qt,Object.assign({},l,{editable:t}))};la.defaultProps={padding:2,editable:!0};var ca={fields:{kpLink:Bt,kpLinkLayout:la,kpLinkMediaLayout:xt},widgets:{},models:{}},da=function(e){var t=e.uiSchema,a=e.formData,i=e.formContext,r=e.registry,o=a&&a.startPageId,l=Object(d.a)(Object(d.a)({},r),{},{formContext:Object(d.a)(Object(d.a)({},r.formContext),{},{startPageId:o,setStartPageId:function(t){e.onChange(Object(d.a)(Object(d.a)({},a),{},{startPageId:t}))}})}),c=Object(d.a)(Object(d.a)({},t),{},{"ui:dialog":i.dialog,"ui:preview":i.preview,"ui:sidebar":Object(d.a)(Object(d.a)({},i.dialog),i.sidebar),"ui:layout":"pageContent"}),s=r.fields.ObjectField;return n.a.createElement(s,Object.assign({},e,{uiSchema:c,registry:l}))},sa=a(361),ua=a(128),ma={fields:{kpDevice:da,kpDeviceLink:function(e){var t=e.formData,a=e.formContext,i=e.children,r=Object(s.a)(e,["formData","formContext","children"]),o=a.startPageId,l=a.setStartPageId,c=t.referenceId,d=t.reference,u=o&&c===o,m=function(e){l&&l(e)},p=[function(){return u?n.a.createElement(ua.a,{onClick:function(){return m(void 0)}},n.a.createElement(Jt.a,{backgroundColor:"black"},"Startpage")):n.a.createElement(ua.a,{onClick:function(){return m(c)}},n.a.createElement(Jt.a,null,"Startpage"))}];return r.editable&&r.expanded?n.a.createElement(sa.a,r,i):n.a.createElement(Ct.a,Object.assign({},d,{onEdit:void 0,elevation:1,settings:p}))}},widgets:{},models:{}},pa=(lt.utils.getUiOptions,lt.utils.getDefaultFormState),ga=function(e){var t=e.registry,a=e.schema,i=e.uiSchema,r=e.formData,o=(e.formContext,t.fields.ObjectField),l=function(t){var i=pa(a,t);console.log("GeopointField:onChange",i),e.onChange&&e.onChange(i)},c=Object(d.a)(Object(d.a)({},i),{},{"ui:location":r||{},"ui:onChange":l});return n.a.createElement(o,Object.assign({},e,{onChange:l,uiSchema:c}))},fa=a(17),ba=a(212),ha=Object(at.a)((function(e){return{root:{backgroundColor:"#e5e3df",position:"absolute",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"}}})),ya=function(){var e=ha();return n.a.createElement("div",{className:e.root},"Loading ...")},va=Object(at.a)((function(e){return{root:{backgroundColor:"#e5e3df",position:"absolute",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"}}})),ja=function(e){var t=e.className,a=e.googleMapsApiKey,i=e.children,r=e.onClick,o=va();return n.a.createElement("div",{className:t||o.root,onClick:r},n.a.createElement(ba.c,{libraries:["places"],loadingElement:ya,googleMapsApiKey:a,preventGoogleFontsLoading:!0},i))};ja.defaultProps={googleMapsApiKey:"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg"};var Oa=Object(i.memo)(ja),ka=Object(at.a)((function(e){return{map:{backgroundColor:"#e5e3df",position:"absolute",top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"}}})),Ea=function(e){var t=e.id,a=void 0===t?"map":t,r=e.className,o=e.center,l=e.zoom,c=e.onChange,d=e.onClick,s=e.options,u=e.children,m=Object(i.useState)(null),p=Object(fa.a)(m,2),g=p[0],f=p[1],b=function(){g&&c&&c(g)},h=ka();return d?n.a.createElement(ba.b,{id:a,options:{draggable:!1,zoomControl:!1,scaleControl:!1,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},clickableIcons:!1,mapContainerClassName:r||h.map,center:o,zoom:l,onClick:d,onLoad:function(e){return f(e)}},u):n.a.createElement(ba.b,{id:a,options:s,clickableIcons:!1,mapContainerClassName:r||h.map,center:o,zoom:l,onLoad:function(e){return f(e)},onZoomChanged:b,onDragEnd:b},u)};Ea.defaultProps={options:{scaleControl:!1,draggable:!1,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},center:{lat:void 0,lng:void 0},zoom:12};var Ia=Ea,xa=Object(at.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",pointerEvents:"none",width:function(t){return e.spacing(t.size)},height:function(t){return e.spacing(t.size)}},point:{position:"absolute",backgroundColor:"white",borderRadius:"50%",width:"100%",height:"100%",opacity:.25},crosshair:{position:"absolute",display:"block",width:"100%",height:"100%"},crosshairX:{display:"block",position:"absolute",left:"-15%",top:"50%",backgroundColor:"black",width:"130%",height:"1px"},crosshairY:{display:"block",position:"absolute",left:"50%",top:"-15%",backgroundColor:"black",width:"1px",height:"130%"}}})),Ca=function(e){var t=e.size,a=xa({size:void 0===t?8:t});return n.a.createElement("div",{className:a.root},n.a.createElement("div",{className:a.point}),n.a.createElement("div",{className:a.crosshair},n.a.createElement("div",{className:a.crosshairX}),n.a.createElement("div",{className:a.crosshairY})))},Sa=function(e){var t=e.id,a=void 0===t?"map":t,i=e.location,r=e.onClick,o=i.lat,l=i.lng,c=i.zoom,d={lat:o,lng:l};return n.a.createElement(Ia,{id:a+"-preview",center:d,zoom:c,onClick:r},n.a.createElement(Ca,null))};Sa.defaultProps={};var Ta=Sa,wa=a(757),Na=Object(at.a)((function(e){return{root:{},input:{backgroundColor:"white","& .MuiFilledInput-root":{"&.Mui-focused":{backgroundColor:"white"}}}}})),qa=function(e){var t=e.className,a=e.onChange,r=Object(i.useState)(null),o=Object(fa.a)(r,2),l=o[0],c=o[1],d=Na();return n.a.createElement("div",{className:t||d.root},n.a.createElement(ba.a,{options:{types:"geocode"},onLoad:function(e){return c(e)},onPlaceChanged:function(){null!==l?a&&a(l.getPlace()):console.log("Autocomplete is not loaded yet!")}},n.a.createElement(wa.a,{className:d.input,label:"Find location",placeholder:"Enter a place",variant:"filled",fullWidth:!0})))},La=a(91),Pa=a.n(La),Aa=Object(at.a)((function(e){return{overlay:{position:"fixed",backgroundColor:"rgba(0,0,0,.25)",zIndex:2e3,top:0,right:0,bottom:0,left:0},geocoder:{backgroundColor:"#e5e3df",position:"absolute",top:0,right:0,bottom:0,left:0,margin:e.spacing(4)},search:{position:"absolute",zIndex:2,top:0,right:0,bottom:"auto",left:0,margin:e.spacing(2)},closeButton:{position:"absolute",zIndex:2,top:0,right:0,bottom:"auto",left:"auto",margin:e.spacing(2.5)}}})),Da=function(e){var t=e.id,a=void 0===t?"map":t,i=e.location,r=e.onChange,o=e.onClose,l=i.lat,c=i.lng,d=i.zoom,s=function(e){r&&r(e)},u=Aa(),m={lat:l,lng:c};return n.a.createElement("div",{className:u.overlay},n.a.createElement("div",{className:u.geocoder},n.a.createElement(Ia,{id:a+"-editor",center:m,zoom:d,onChange:function(e){var t,a;console.log("map",e),e&&e.center&&(t=e.center.lat(),a=e.center.lng());var i=e&&e.zoom;t&&a&&s({lat:t,lng:a,zoom:i})}},n.a.createElement(Ca,null),n.a.createElement(qa,{className:u.search,onChange:function(e){var t,a;console.log("place",e),e&&e.geometry&&e.geometry.location&&(t=e.geometry.location.lat(),a=e.geometry.location.lng()),t&&a&&s({placeId:e&&e.place_id,lat:t,lng:a,zoom:d})}})),n.a.createElement(St.a,{className:u.closeButton,onClick:function(){return o()}},n.a.createElement(Pa.a,null))))};Da.defaultProps={formData:{lat:void 0,lng:void 0,zoom:void 0}};var Fa=Da,Ua=Object(at.a)((function(e){return{root:{backgroundColor:"#e5e3df",width:"100%",position:function(e){return e.position},flexBasis:function(e){return e.minWidth},minWidth:function(e){return e.minWidth},minHeight:function(e){return e.minHeight}}}})),Ba=function(e){e.id;var t=e.position,a=void 0===t?"relative":t,r=e.minWidth,o=void 0===r?164:r,l=e.minHeight,c=void 0===l?164:l,d=e.googleMapsApiKey,s=e.location,u=(s.lat,s.lng,s.zoom,Ua({position:a,minWidth:o,minHeight:c})),m=Object(i.useState)(!1),p=Object(fa.a)(m,2),g=p[0],f=p[1];return n.a.createElement(Oa,{className:u.root,googleMapsApiKey:d},n.a.createElement(Ta,Object.assign({},e,{onClick:function(){f(!0)}})),g&&n.a.createElement(Fa,Object.assign({},e,{onClose:function(){f(!1)}})))};Ba.defaultProps={googleMapsApiKey:"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg",location:{lat:void 0,lng:void 0,zoom:void 0}};var za=Ba,Ha=Object(at.a)((function(e){return{geocoder:{backgroundColor:"#e5e3df",width:"100%",position:"absolute",top:0,right:0,bottom:0,left:0},search:{position:"absolute",zIndex:2,top:0,right:0,bottom:"auto",left:0,margin:e.spacing(2)},closeButton:{position:"absolute",zIndex:2,top:0,right:0,bottom:"auto",left:"auto",margin:e.spacing(2)}}})),Wa=function(e){var t=e.googleMapsApiKey,a=e.location,i=e.onChange,r=e.onClose,o=a.lat,l=a.lng,c=a.zoom,d=function(e){i&&i(e)},s=Ha(),u={lat:o,lng:l};return n.a.createElement(Oa,{className:s.root,googleMapsApiKey:t},n.a.createElement(Ia,{center:u,zoom:c,onChange:function(e){var t,a;console.log("map",e),e&&e.center&&(t=e.center.lat(),a=e.center.lng());var i=e&&e.zoom;t&&a&&d({lat:t,lng:a,zoom:i})}},n.a.createElement(Ca,null),n.a.createElement(qa,{className:s.search,onChange:function(e){var t,a;console.log("place",e),e&&e.geometry&&e.geometry.location&&(t=e.geometry.location.lat(),a=e.geometry.location.lng()),t&&a&&d({placeId:e&&e.place_id,lat:t,lng:a,zoom:c})}})),r&&n.a.createElement(St.a,{className:s.closeButton,onClick:function(){return r()}},n.a.createElement(Pa.a,null)))};Wa.defaultProps={googleMapsApiKey:"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg",location:{lat:void 0,lng:void 0,zoom:void 0}};var Ma={fields:{kpGeopoint:ga,kpGeopointLayout:za,kpGeocoderLayout:Wa}},Ra=lt.utils.getUiOptions,Va=function(e){e.formContext;var t=e.schema,a=e.uiSchema,r=Ra(a).query||{},o=(Object(u.d)((function(e){return e.app})),Object(u.d)((function(e){return e.editor}))),l=o.pathname,c=o.formData,s=(c&&c.parentId,c&&c.uniqueId),m=c&&c.collectionId,p=Object(d.a)({url:l+"/parentId",models:"documents",collectionId:m,fl:"id,parentId,uniqueId,title",q:"uniqueId:NOT "+s},r),g=Object(u.c)();Object(i.useEffect)((function(){m&&l&&g($e(p))}),[l]);var f=Object(i.useState)([c]),b=Object(fa.a)(f,2),h=b[0],y=b[1],v=Object(i.useState)([c]),j=Object(fa.a)(v,2),O=j[0],k=j[1],E=Object(u.d)((function(e){return e.searchByUrl})),I=E&&E[p.url];Object(i.useEffect)((function(){!function(){var e=I&&I.resultsLoaded||[],t=[null],a=["No parentId"];e&&e.map((function(e){var i=e.title+" ("+e.id+")";t.push(e.id),a.push(i)})),y(t),k(a)}()}),[I]);var x=e.registry.fields.SchemaField,C=Object(d.a)(Object(d.a)({},t),{},{enum:h,enumNames:O,default:null}),S=Object(d.a)(Object(d.a)({},a),{},{"ui:field":void 0});return n.a.createElement(x,Object.assign({},e,{schema:C,uiSchema:S}))},Ja=Object(at.a)((function(e){return{treeView:{position:"absolute",top:0,right:0,bottom:0,left:0,border:"1px solid",borderColor:e.palette.divider}}})),Ga=function(e){var t=e.droppable,a=e.children,i=(Object(s.a)(e,["droppable","children"]),Ja());if(t&&t.provided){var r=t.provided,o=t.snapshot,l=r.droppableProps,c=r.innerRef,d=o.isDraggingOver;return n.a.createElement("div",Object.assign({},l,{"data-is-dragging-over":d,className:i.treeView,ref:c}),a,r.placeholder)}return n.a.createElement("div",{className:i.treeView},a)},Ka=Object(at.a)((function(e){return{treeList:{display:"flex",flexDirection:"column","& > * + *":{borderTop:"1px solid",borderColor:e.palette.divider},"&[data-is-dragging-over=true]":{backgroundColor:e.palette.divider}}}})),_a=function(e){var t=e.droppable,a=e.children,i=(Object(s.a)(e,["droppable","children"]),Ka());if(t&&t.provided){var r=t.provided,o=t.snapshot,l=r.droppableProps,c=r.innerRef,d=o.isDraggingOver;return n.a.createElement("div",Object.assign({},l,{"data-is-dragging-over":d,className:i.treeList,ref:c}),a,r.placeholder)}return n.a.createElement("div",{className:i.treeList},a)},Za=a(115),$a=a.n(Za),Ya=a(205),Xa=a.n(Ya),Qa=Object(at.a)((function(e){return{module:{"&[aria-selected=true]":{backgroundColor:e.palette.action.selected},"&[data-is-dragging=true]":{minWidth:e.spacing(16),maxWidth:e.spacing(32),backgroundColor:"white",boxShadow:e.shadows[2],maxHeight:e.spacing(6),"& $toolbar":{display:"none"},"& $children":{display:"none"},"& $toggle":{display:"none"},"& $level":{marginLeft:0}},"&[data-is-target=true]":{backgroundColor:e.palette.divider,"& $toolbar":{display:"none"}}},children:{borderTop:"1px solid",borderColor:e.palette.divider},toolbar:{},level:{marginLeft:function(e){return 48*e.level},position:"relative",display:"flex",alignItems:"center",justifyContent:"flex-start"},content:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-start"},media:{minWidth:48,width:48,display:"flex",justifyContent:"center",alignItems:"center"},icon:{fontSize:24,"& > svg":{fontSize:"inherit"}},image:{display:"block",width:48},toggle:{width:48,position:"absolute",left:-48,"& $toggleIcon":{transition:".125s ease-in-out",transform:"rotate(-90deg)"},"&[aria-expanded=true] $toggleIcon":{transform:"rotate(0deg)"}},toggleIcon:{transition:".125s ease-in-out",transform:"rotate(-90deg)"}}})),ei=function(e){e.selectable;var t=e.selected,a=e.onSelect,i=e.collapsible,r=e.expanded,o=void 0!==r&&r,l=e.onToggle,c=e.draggable,d=e.level,u=e.title,m=e.imageUrl,p=e.icon,g=e.renderChildren,f=Object(s.a)(e,["selectable","selected","onSelect","collapsible","expanded","onToggle","draggable","level","title","imageUrl","icon","renderChildren"]),b=Qa({level:d}),h=function(e){var t=e.dragHandleProps;return n.a.createElement(St.a,t,n.a.createElement(Xa.a,null))},y=function(e){var t=e.onClick;return n.a.createElement(St.a,{className:b.toggle,onClick:t,"aria-expanded":o},n.a.createElement($a.a,{className:b.toggleIcon}))},v=function(){return n.a.createElement("div",{className:b.content},n.a.createElement("div",{className:b.media},!m&&p&&n.a.createElement(jt.a,{className:b.icon},p),m&&n.a.createElement("img",{className:b.image,src:m})),n.a.createElement(Mt.a,null,u))},j=function(e){e.stopPropagation(),a&&a()};if(c&&c.provided){var O=c.provided,k=c.snapshot,E=k.isDragging,I=k.combineTargetFor&&!0;return n.a.createElement("div",Object.assign({className:b.module},O.draggableProps,{"aria-selected":t,"aria-expanded":o,"data-is-dragging":E,"data-is-target":I,ref:O.innerRef,onClick:j}),n.a.createElement("div",{className:b.level},i&&n.a.createElement(y,{onClick:function(e){e.stopPropagation(),l&&l()}})||"",n.a.createElement(h,{dragHandleProps:O.dragHandleProps}),n.a.createElement(v,null),n.a.createElement(Zt.a,Object.assign({},f,{className:b.toolbar}))),g&&n.a.createElement("div",{className:b.children},g()))}return n.a.createElement("div",{className:b.module,onClick:j},n.a.createElement("div",{className:b.level},i&&n.a.createElement(y,{onClick:l}),n.a.createElement(v,null)),g&&n.a.createElement("div",{className:b.children},g()))},ti=a(218),ai=Object(at.a)((function(e){return{columnView:{display:"flex",flexDirection:"column"},columns:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",border:"1px solid",borderColor:e.palette.divider,"& > *":{flexBasis:0,flexGrow:1},"& > * + *":{borderLeft:"1px solid",borderColor:e.palette.divider}}}})),ii=function(e){var t=e.children,a=ai();return!!t&&n.a.createElement("div",{className:a.columnView},n.a.createElement(ti.a,null),n.a.createElement("div",{className:a.columns},t))},ni=Object(at.a)((function(e){return{column:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start","& > * + *":{borderTop:"1px solid",borderColor:e.palette.divider},"&[aria-selected=true]":{backgroundColor:e.palette.action.selected},"&[data-is-dragging-over=true]":{backgroundColor:e.palette.divider},"&[aria-expanded=true]":{"&:hover":{width:e.spacing(32),minWidth:e.spacing(32)}}}}})),ri=function(e){var t=e.droppable,a=e.expanded,i=e.children,r=(Object(s.a)(e,["droppable","expanded","children"]),ni());if(!i)return!1;if(t){var o=t.provided,l=t.snapshot,c=o.droppableProps,d=o.innerRef,u=l.isDraggingOver;return n.a.createElement("div",Object.assign({"data-is-dragging-over":u,className:r.column},c,{ref:d}),i,o.placeholder)}return n.a.createElement("div",{className:r.column,"aria-expanded":a},i)},oi=a(513),li=a.n(oi),ci=Object(at.a)((function(e){var t;return{module:(t={position:"relative",display:"flex",alignItems:"center",width:"auto"},Object(m.a)(t,"width","100%"),Object(m.a)(t,"maxWidth","100%"),Object(m.a)(t,"minWidth",e.spacing(16)),Object(m.a)(t,"overflow","hidden"),Object(m.a)(t,"&:hover",{cursor:"pointer"}),Object(m.a)(t,"&[aria-expanded=true]",{backgroundColor:e.palette.action.selected}),Object(m.a)(t,"&[aria-selected=true]",{backgroundColor:e.palette.action.selected}),Object(m.a)(t,"&[data-is-dragging=true]",{minWidth:e.spacing(16),maxWidth:e.spacing(32),backgroundColor:"white",boxShadow:e.shadows[2],"& $toolbar":{display:"none"}}),Object(m.a)(t,"&[data-is-target=true]",{backgroundColor:e.palette.divider,"& $toolbar":{display:"none"}}),t),content:{flexBasis:0,flexGrow:1,width:"100%",marginTop:8,marginBottom:8,display:"flex",justifyContent:"flex-start",alignItems:"flex-start",color:"inherit","& > *":{color:"inherit"}},media:{minWidth:48,width:48,display:"flex",justifyContent:"center",alignItems:"center"},icon:{fontSize:24,"& > svg":{fontSize:"inherit"}},image:{display:"block",width:48},footer:{display:"flex",overflow:"hidden","& > * + *":{marginLeft:e.spacing(1)}},dragHandle:{margin:e.spacing(.5)},toolbar:{display:"flex",flexWrap:"nowrap","& > * + *":{marginLeft:e.spacing(-1)}}}})),di=function(e){e.selectable;var t=e.selected,a=e.onSelect,i=e.collapsible,r=e.expanded,o=void 0!==r&&r,l=(e.onToggle,e.draggable),c=(e.level,e.title),d=e.imageUrl,u=e.icon,p=Object(s.a)(e,["selectable","selected","onSelect","collapsible","expanded","onToggle","draggable","level","title","imageUrl","icon"]),g=ci(),f=function(e){var t=e.dragHandleProps;return n.a.createElement(St.a,t,n.a.createElement(Xa.a,null))},b=function(e){var t=e.onClick;return n.a.createElement(St.a,{className:g.toggleButton,onClick:t,"aria-expanded":o},n.a.createElement(li.a,{className:g.toggleIcon}))},h=function(){return n.a.createElement("div",{className:g.content},n.a.createElement("div",{className:g.media},!d&&u&&n.a.createElement(jt.a,{className:g.icon},u),d&&n.a.createElement("img",{className:g.image,src:d})),n.a.createElement(Mt.a,null,c))};if(l){var y=l.provided,v=l.snapshot,j=v.isDragging,O=v.combineTargetFor&&!0;return n.a.createElement("div",Object.assign({className:g.module},y.draggableProps,Object(m.a)({"aria-selected":t,"aria-expanded":o,onClick:p.onSelect,"data-is-dragging":j,"data-is-target":O,ref:y.innerRef},"onClick",(function(e){e.stopPropagation(),a&&a()}))),n.a.createElement(f,{dragHandleProps:y.dragHandleProps}),n.a.createElement(h,null),n.a.createElement(Zt.a,Object.assign({},p,{className:g.toolbar})),i&&n.a.createElement(b,{onClick:a})||"")}return n.a.createElement("div",{className:g.module,"aria-selected":t},n.a.createElement(h,null),n.a.createElement(Zt.a,Object.assign({},p,{className:g.toolbar})),i&&n.a.createElement(b,{onClick:a})||"")},si=a(657),ui=a(514),mi=function(e){var t=e.title,a=e.resultsLoaded,i=e.onRemove,r=e.onEdit,o=function(e){return n.a.createElement(Ct.a,Object.assign({},e,{primaryButton:n.a.createElement(si.a,{onClick:function(){return i(e)}}),editable:!0,onEdit:function(){return r(e)}}))};return n.a.createElement(ui.a,{title:t},a&&a.map((function(e,t){return n.a.createElement(o,Object.assign({},e,{key:t}))})))},pi=lt.utils.getUiOptions,gi=function(e){e.schema;var t=e.idSchema,a=e.uiSchema,r=e.formContext,o=Object(u.c)(),l=pi(a).query||{},c=Object(u.d)((function(e){return e.app})),s=Object(u.d)((function(e){return e.editor})),m=s.pathname,p=s.formData,g=p&&p.parentId,f=p&&p.uniqueId,b=p&&p.collectionId,h=Object(d.a)({url:m+"/parents",models:"documents",collectionId:b,fl:"id,parentId,uniqueId,title",q:"id:"+g},l);Object(i.useEffect)((function(){g&&o($e(h))}),[g]);var y=Object(u.d)((function(e){return e.searchByUrl})),v=y&&y[h.url],j=Object(u.d)((function(e){return e.modelsById[f]})),O=r&&r.onSelect;return n.a.createElement("div",null,n.a.createElement(mi,Object.assign({},v,{title:"Parents",onRemove:function(e){e.uniqueId},onEdit:function(e){var a=e.uniqueId,i=t&&t.$id,n=c.root+"/"+a+"/edit#"+i;O&&O({url:n})}})),JSON.stringify(j.parents))},fi=a(691),bi=a(692),hi=a(67),yi=hi.a.getUiOptions,vi=function(e){e.schema;var t=e.uiSchema,a=Object(u.c)(),r=yi(t).query||{},o=Object(u.d)((function(e){return e.editor})),l=o.pathname,c=o.formData,s=c&&c.id,m=c&&c.uniqueId,p=c&&c.collectionId,g=Object(i.useState)(""),f=Object(fa.a)(g,2),b=f[0],h=f[1],y=Object(i.useState)([]),v=Object(fa.a)(y,2),j=(v[0],v[1],["uniqueId:NOT "+m,"parentId:NOT "+s,b]),O=Object(d.a)({url:l+"/children/search",models:"documents",collectionId:p,fl:"id,parentId,uniqueId,title",q:j.join(" ")},r);Object(i.useEffect)((function(){O&&a($e(O))}),[b]);var k=Object(u.d)((function(e){return e.searchByUrl})),E=k&&k[O.url],I=E&&E.resultsLoaded,x=Ge.a.debounce((function(e,t){h(e)}),500);return n.a.createElement(ui.a,{title:"Add children"},n.a.createElement(fi.a,{onChange:x}),I&&I.map((function(e){return n.a.createElement(Ct.a,Object.assign({},e,{primaryButton:n.a.createElement(bi.a,null)}))})))},ji=lt.utils.getUiOptions,Oi=function(e){e.schema;var t=e.idSchema,a=e.uiSchema,r=e.formContext,o=Object(u.c)(),l=ji(a).query||{},c=Object(u.d)((function(e){return e.app})),s=Object(u.d)((function(e){return e.editor})),m=s.pathname,p=s.formData,g=p&&p.parentId,f=p&&p.uniqueId,b=p&&p.collectionId,h=Object(d.a)({url:m+"/children",models:"documents",collectionId:b,parentId:p.id,fl:"id,parentId,uniqueId,title",q:"uniqueId:NOT "+f},l);Object(i.useEffect)((function(){f&&o($e(h))}),[f,g]);var y=Object(u.d)((function(e){return e.searchByUrl})),v=y&&y[h.url],j=r&&r.onSelect;return n.a.createElement("div",null,n.a.createElement(mi,Object.assign({},v,{title:"Children",onRemove:function(e){e.uniqueId},onEdit:function(e){var a=e.uniqueId,i=t&&t.$id,n=c.root+"/"+a+"/edit#"+i;j&&j({url:n})}})),n.a.createElement(vi,e))},ki=a(426),Ei=lt.utils.getUiOptions,Ii=function(e){var t=e.formData,a=(e.formContext,e.schema),r=e.uiSchema,o=(Ei(r).query,Object(u.d)((function(e){return e.editor.pathname})),Object(u.d)((function(e){return e.app.languages}))),l=Object(i.useState)([t]),c=Object(fa.a)(l,2),s=c[0],m=c[1],p=Object(i.useState)([t]),g=Object(fa.a)(p,2),f=g[0],b=g[1];Object(i.useEffect)((function(){!function(){var e=[],t=[];o&&o.map((function(a){var i=ki.a.getNativeName(a)+" ("+a+")"||!1;e.push(a),t.push(i)})),m(e),b(t)}()}),[o]);var h=e.registry.fields.SchemaField,y=Object(d.a)(Object(d.a)({},a),{},{enum:s,enumNames:f,default:null}),v=Object(d.a)(Object(d.a)({},r),{},{"ui:field":void 0});return n.a.createElement(h,Object.assign({},e,{schema:y,uiSchema:v}))},xi=lt.utils.getUiOptions,Ci={fields:{documentParentId:Va,documentParents:gi,documentChildren:Oi,documentLocale:Ii,documentCollectionId:function(e){var t=e.formData,a=(e.formContext,e.schema),r=e.uiSchema,o=xi(r).query||{},l=Object(u.d)((function(e){return e.editor.pathname})),c=Object(d.a)({url:l+"/collectionId",models:"collections",fl:"id,collectionType,uniqueId,title"},o),s=Object(u.c)();Object(i.useEffect)((function(){l&&s($e(c))}),[l]);var m=Object(i.useState)([t]),p=Object(fa.a)(m,2),g=p[0],f=p[1],b=Object(i.useState)([t]),h=Object(fa.a)(b,2),y=h[0],v=h[1],j=Object(u.d)((function(e){return e.searchByUrl})),O=j&&j[c.url];Object(i.useEffect)((function(){!function(){var e=O&&O.resultsLoaded||[],a=[null,t],i=["No collectionId","CollectionId "+t];e&&e.map((function(e){var t=e.title+" ("+e.collectionType+")";a.push(e.id),i.push(t)})),f(a),v(i)}()}),[O]);var k=e.registry.fields.SchemaField,E=Object(d.a)(Object(d.a)({},a),{},{enum:g,enumNames:y,default:null}),I=Object(d.a)(Object(d.a)({},r),{},{"ui:field":void 0});return n.a.createElement(k,Object.assign({},e,{schema:E,uiSchema:I}))}}},Si=lt.utils.getUiOptions,Ti=(lt.utils.getDefaultFormState,{fields:{reference:function(e){var t=e.schema,a=e.idSchema,i=e.uiSchema,r=void 0===i?{}:i,o=e.formData,l=void 0===o?{}:o,c=e.formContext,s=l.referenceId,u=l.reference,m=void 0===u?{}:u,p=Si(r),g=function(){var t=p&&p.buttons||["save","edit"],i=Object(d.a)(Object(d.a)({},e),{},{referenceId:s,reference:m,id:a&&a.$id}),n=c.onSave,r=c.onEditReference,o=(c.onDialog,c.onUpload,[]);return t.map((function(t){"string"===typeof t&&(t={type:t,title:t.charAt(0).toUpperCase()+t.slice(1)});var a=t.type,l=void 0===a?"button":a;"save"===l?t.onClick=function(){return n&&n(i)}:"edit"===l&&(t.onClick=function(){return r&&r(i)}),t=Object(d.a)(Object(d.a)({},t),{},{type:"button",disabled:e.disabled||e.readonly}),o.push(t)})),o},f=e.registry.fields.ObjectField,b=function(){var e,a,i=p.fieldset||[];if(!p.fieldset&&t.properties&&Object.keys(t.properties).map((function(e){var a=t.properties[e]&&t.properties[e].type||void 0;"object"===a&&i.push(e),"array"===a&&i.push(e)})),i&&i.includes("reference")){var n=r&&r.reference;e=Object(d.a)({"ui:title":"Reference"},n)}if(i&&i.includes("content")){var o=r&&r.content;a=Object(d.a)({"ui:title":"Innhold"},o)}var l=p.layout||"module";return Object(d.a)({"ui:editable":!0,"ui:deletable":s&&!0,"ui:restorable":s&&!0,"ui:removable":!s&&!0,"ui:layout":l,"ui:fieldset":i,"ui:buttons":g(),"ui:nav":"tabs",reference:e,content:a,"ui:preview":{select:{_action:"_action",type:"type",title:"title",description:"description",imageUrl:"imageUrl",status:"status",referenceId:"referenceId",reference:"reference"},prepare:function(e){var t=e.formData,a=void 0===t?{}:t,i=a._action,n=a.reference,r=a.referenceId,o=n&&n.status;return"delete"===i&&(o="trash"),{_action:i,type:n&&n.documentType,title:n&&n.title,description:n&&n.description,imageUrl:n&&n.imageUrl,status:o,referenceId:r,reference:n}}}},r)}();return n.a.createElement(f,Object.assign({},e,{uiSchema:b,onChange:function(t){t._action;var a=t.referenceId,i=t.reference,n=void 0===i?{}:i;a||(t._action="create"),n||(t.reference={}),n.uniqueId||(t.reference._action="create"),e.onChange&&e.onChange(t)}}))}},widgets:{}}),wi=hi.a.getUiOptions,Ni={fields:{collectionSiteId:function(e){var t=e.formData,a=(e.formContext,e.schema),r=e.uiSchema,o=wi(r).query||{},l=Object(u.d)((function(e){return e.editor.pathname})),c=Object(d.a)({url:l+"/siteId",models:"sites",fl:"id,parentId,uniqueId,title"},o),s=Object(u.c)();Object(i.useEffect)((function(){l&&s($e(c))}),[l]);var m=Object(i.useState)([t]),p=Object(fa.a)(m,2),g=p[0],f=p[1],b=Object(i.useState)([t]),h=Object(fa.a)(b,2),y=h[0],v=h[1],j=Object(u.d)((function(e){return e.searchByUrl})),O=j&&j[c.url];Object(i.useEffect)((function(){!function(){var e=O&&O.resultsLoaded||[],t=[null],a=["No siteId"];e&&e.map((function(e){var i=e.title+" ("+e.id+")";t.push(e.id),a.push(i)})),f(t),v(a)}()}),[O]);var k=e.registry.fields.SchemaField,E=Object(d.a)(Object(d.a)({},a),{},{enum:g,enumNames:y,default:null}),I=Object(d.a)(Object(d.a)({},r),{},{"ui:field":void 0});return n.a.createElement(k,Object.assign({},e,{schema:E,uiSchema:I}))}}},qi=a(237),Li=lt.utils.getUiOptions,Pi=function(e){var t=e.idSchema,a=(e.schema,e.uiSchema),i=e.formData,r=e.formContext,o=e.registry,l=i.uniqueId,c=i.status,s=i.statusCode,u=i.statusMessage,m=i.title,p=i.createdAt,g=i.updatedAt,f=i.deletedAt,b=r.isLoading,h=r.isSaving,y=r.currentId,v=r.currentLocale,j=r.onExpand,O=(r.onCollapse,r.onSelect),k=r.onLocale,E=r.onSubmit,I=Object(qi.a)(["editor"]),x=I.t,C=(I.i18n,r.primaryAction||function(){if(b)return{label:x("Loading")+" ...",disabled:!0};if(h)return{label:x("Saving")+" ...",disabled:!0};var e={role:"group",children:[{label:x("Save as draft"),onClick:function(e){return E({formData:Object(d.a)(Object(d.a)({},i),{},{status:"draft"})},e)}},{label:x("Save and publish"),onClick:function(e){return E({formData:Object(d.a)(Object(d.a)({},i),{},{status:"publish"})},e)}}]},t={role:"group",children:[{label:x("Save and exit")}]};return l&&t.children.push({label:x("Save as")+" ...",onClick:function(e){return E({formData:Object(d.a)(Object(d.a)({},i),{},{status:"copy"})},e)}}),{type:"save",label:x("Save"),onClick:function(e){return E({formData:i},e)},children:[e,t]}}()),S=Li(a).fieldset,T=t&&t.$id,w=S&&S[0]&&T+"_"+S[0],N=S&&S[1]&&T+"_"+S[1],q=N&&y&&y.startsWith(N),L=(r.defaultLocale||r.languages&&r.languages[0],Object(d.a)(Object(d.a)({},a),{},{"ui:title":m,"ui:expanded":q,"ui:primaryAction":C,"ui:status":c,"ui:statusDate":g||p||f,"ui:statusCode":s,"ui:statusMessage":u,"ui:layout":"pageEditor","ui:onSelect":function(e){return O(e)},"ui:currentLocale":v,"ui:onLocale":function(e){return function(e){k&&k(e)}(e)},"ui:onToggle":function(){q?w&&j&&j({id:""}):N&&j&&j({id:N})}})),P=o.fields.ObjectField,A=Object(d.a)(Object(d.a)({},o),{},{formContext:Object(d.a)(Object(d.a)({},r),{},{currentLocale:v})});return n.a.createElement(P,Object.assign({},e,{registry:A,uiSchema:L}))},Ai=a(669),Di=a(362),Fi=a(388),Ui=a(365),Bi=a(764),zi=function(e){var t=e.collapsible,a=e.expanded,i=e.overlay,r=e.onToggle,o=e.onSelect,l=e.children,c=Object(s.a)(e,["collapsible","expanded","overlay","onToggle","onSelect","children"]);return n.a.createElement(Di.a,null,n.a.createElement(Fi.a,Object.assign({},c,{collapsible:t,expanded:a,onToggle:r,onSelect:o})),n.a.createElement(Ui.a,{elevation:1,expanded:a},l),n.a.createElement(Bi.a,c),i&&function(){var e=i&&i.template;return n.a.createElement(Ai.a,{position:"fixed",expanded:i&&i.expanded},e&&n.a.createElement(e,i))}())},Hi=function(e){var t=e.uiSchema,a=e.formContext,i=e.registry,r=a.dialog,o=a.preview,l=Object(d.a)(Object(d.a)({},t),{},{"ui:dialog":r,"ui:preview":o,"ui:layout":"pageContent"}),c=i.fields.ObjectField;return n.a.createElement(c,Object.assign({},e,{uiSchema:l}))},Wi=a(366),Mi=a(367),Ri=a(671),Vi=a(368),Ji=a(209),Gi=a(188),Ki=a(369),_i=Object(at.a)((function(e){return{menu:{position:"absolute",zIndex:1,top:0,right:"auto",left:0,bottom:0,margin:0,width:function(e){return e.menuWidth},transition:".125s ease-out","& + *":{position:"absolute",zIndex:1,top:0,right:0,left:0,bottom:0,margin:0,overflowY:"scroll"},"&[aria-expanded=true] + *":{marginLeft:function(e){return e.menuWidth}}},menuList:{margin:e.spacing(2,0),"& > li + li":{marginTop:e.spacing(1)}}}})),Zi=function(e){var t=e.className,a=e.menuWidth,i=void 0===a?224:a,r=e.menu,o=void 0===r?void 0:r,l=_i({menuWidth:i});return!!o&&n.a.createElement("aside",{className:t||l.menu,"aria-expanded":!0},n.a.createElement(Ji.a,{className:l.menuList},o.map((function(e,t){return n.a.createElement(Gi.a,{key:t},n.a.createElement(Ki.a,e))}))))},$i=Object(at.a)((function(e){return{content:{backgroundColor:e.palette.background.default,position:"absolute",zIndex:2,top:0,right:0,bottom:0,left:0,width:"100%",overflow:"hidden",transition:".125s ease-out",transform:"translateY(100%)","&[aria-expanded=true]":{transform:"translateY(0)"}},wrapper:{backgroundColor:"inherit",position:"absolute",top:0,right:0,bottom:0,left:0}}})),Yi=function(e){var t=e.id,a=e.selected,i=void 0===a||a,r=e.sidebar,o=e.preview,l=e.menuWidth,c=e.menu,d=void 0===c?void 0:c,s=e.children,u=$i();return n.a.createElement(Ri.a,{id:t,expanded:i,className:u.content},r&&function(){var e=r&&r.template;return n.a.createElement(Wi.a,{expanded:r&&r.expanded},e&&n.a.createElement(e,r))}(),n.a.createElement(Ri.a,{elevation:0,className:u.wrapper},o&&function(){var e=o&&o.template;return n.a.createElement(Mi.a,{expanded:!0},e&&n.a.createElement(e,o))}(),n.a.createElement(Vi.a,{elevation:0},d&&n.a.createElement(Zi,{menuWidth:l,menu:d}),s)))},Xi=function(e){var t=e.uiSchema,a=(e.formData,e.formContext),i=e.registry,r=(a.dialog,Object(d.a)(Object(d.a)({},t),{},{"ui:layout":"pageSettings","ui:field":void 0})),o=i.fields.ObjectField;return n.a.createElement(o,Object.assign({},e,{uiSchema:r}))},Qi=Object(at.a)((function(e){return{settings:{backgroundColor:e.palette.background.default,zIndex:1,position:"absolute",top:0,right:0,bottom:0,left:0,"&[aria-expanded=true]":{top:0}}}})),en={fields:{pageEditor:Pi,pageEditorLayout:zi,pageContent:Hi,pageContentLayout:Yi,pageSettings:Xi,pageSettingsLayout:function(e){var t=e.id,a=e.expanded,i=void 0===a||a,r=e.menuWidth,o=e.menu,l=void 0===o?void 0:o,c=e.children,d=Qi();return n.a.createElement(Ri.a,{id:t,elevation:0,className:d.settings,"aria-expanded":i},l&&n.a.createElement(Zi,{menuWidth:r,menu:l}),n.a.createElement(Vi.a,{expanded:!0},c))}}},tn={type:"object",properties:{main:{type:"string",format:"color"},light:{type:"string",format:"color"},dark:{type:"string",format:"color"},contrastText:{type:"string"}}},an={type:"object",properties:{primary:tn,secondary:tn}},nn={"ui:fieldset":["main","light","dark"],"ui:options":{grid:!0},main:{"ui:widget":"themeColor","ui:size":"large","ui:xs":12},light:{"ui:widget":"themeColor","ui:xs":6},dark:{"ui:widget":"themeColor","ui:xs":6}},rn={schema:{type:"object",properties:{type:{type:"string",enum:["light","dark"],enumNames:["Light","Dark"],default:"light"},palette:an,colors:{type:"array",items:{type:"string",format:"color"}}}},uiSchema:{"ui:fieldset":["type","palette","colors"],"ui:options":{spacing:2},palette:{"ui:options":{grid:!0,spacing:2},primary:Object(d.a)(Object(d.a)({},nn),{},{"ui:field":"themePaletteColor","ui:layout":"fieldset","ui:title":"Primary","ui:options":{xs:6,grid:!0}}),secondary:Object(d.a)(Object(d.a)({},nn),{},{"ui:field":"themePaletteColor","ui:layout":"fieldset","ui:title":"Secondary","ui:options":{xs:6,grid:!0}})},colors:{"ui:title":"Additional colors","ui:layout":"fieldset","ui:sortable":!0,items:{"ui:widget":"themePaletteColor","ui:title":"Color"}}}},on={schema:an},ln=function(e){var t=e.onChange,a=e.registry.fields.ObjectField;return n.a.createElement("div",null,n.a.createElement(a,Object.assign({},e,{onChange:function(e){e.primary.main,t&&t(e)}})))},cn=a(526),dn=a.n(cn),sn=a(100),un=a.n(sn),mn=hi.a.getUiOptions,pn=function(e){var t=e.formData,a=e.onChange,i=e.registry.fields.ObjectField,r=mn(e.uiSchema),o=Object(d.a)(Object(d.a)({},e.uiSchema),{},{main:Object(d.a)(Object(d.a)({},e.uiSchema.main),{},{"ui:title":r.title.charAt(0)+" \u2013 main"}),light:Object(d.a)(Object(d.a)({},e.uiSchema.light),{},{"ui:title":r.title.charAt(0)+" \u2013 light"}),dark:Object(d.a)(Object(d.a)({},e.uiSchema.dark),{},{"ui:title":r.title.charAt(0)+" \u2013 dark"})});return n.a.createElement(i,Object.assign({},e,{uiSchema:o,onChange:function(e){var i,n=e.main;e.light,e.dark;n&&n!==t.main&&(i=dn()({primary:{main:n}})),i&&i.primary&&a&&a(function(e){var t=e.main,a=e.light,i=e.dark,n=Object(s.a)(e,["main","light","dark"]);return Object(d.a)(Object(d.a)({},n),{},{main:"#"+un()(t).toHex(),light:"#"+un()(a).toHex(),dark:"#"+un()(i).toHex()})}(i.primary))}}))},gn=Object(at.a)((function(e){return{swatch:{backgroundColor:function(e){return e.backgroundColor},color:function(t){return e.palette.getContrastText(t.backgroundColor)},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","& input":{fontFamily:"Akkurat mono, monospace",fontSize:function(e){return"large"===e.size&&24},paddingBottom:function(e){return"large"===e.size&&34}},"& *":{color:"inherit"}}}})),fn=function(e){var t=e.onChange,a=e.registry,r=e.options,o=Object(i.useState)(e.value),l=Object(fa.a)(o,2),c=l[0],d=l[1],s=gn({backgroundColor:e.value,size:r&&r.size});Object(i.useEffect)((function(){d(e.value)}),[e.value]);var u=a.widgets.TextWidget;return n.a.createElement(u,Object.assign({},e,{className:s.swatch,value:c,onChange:function(e){var a;un()(e).isValid()&&t&&t((a=e,"#"+un()(a).toHex())),d(e)}}))};fn.defaultProps={value:"#666"};var bn={fields:{themePalette:ln,themePaletteColor:pn},widgets:{themeColor:fn},models:{themeEditor:rn,themePalette:on}},hn=a(61),yn=lt.utils.getUiOptions,vn=(lt.utils.getDefaultFormState,Object(at.a)((function(e){return{overlay:{position:"fixed",backgroundColor:"rgba(0,0,0,.25)",zIndex:3e3,top:0,right:0,bottom:0,left:0},header:{height:e.spacing(6),display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(2)},editor:{backgroundColor:e.palette.background.default,position:"absolute",top:0,right:0,bottom:0,left:0,margin:e.spacing(4)},closeButton:{},icon:{width:20,height:20,border:"1px solid",borderColor:e.palette.divider,display:"flex",justifyContent:"center",alignItems:"center"},label:{fontFamily:"Akkurat, sans-serif",fontSize:11,textTransform:"uppercase",fontWeight:"bold",lineHeight:"1",textAlign:"center"}}}))),jn=function(e){var t=e.name,a=(e.schema,e.formContext),r=a.languages||["en"],o=a.defaultLocale||r[0],l=a.currentLocale||o,c=Object(i.useState)(!1),d=Object(fa.a)(c,2),s=(d[0],d[1],Object(i.useRef)(null),vn());e.registry.fields.ObjectField,yn(e.uiSchema).title;return n.a.createElement(St.a,null,n.a.createElement("div",{className:s.icon},n.a.createElement("div",{className:s.label},l)))};jn.defaultProps={};var On=jn,kn=lt.utils.getUiOptions,En=(lt.utils.getDefaultFormState,{fields:{localizedString:function(e){var t=e.schema,a=e.uiSchema,i=e.formContext,r=kn(a),o=i.languages||["en"],l=i.defaultLocale||o[0],c=i.currentLocale||l,s=e.registry.fields.SchemaFieldset,u=function(){var i={"ui:fieldset":["locale:"+c]};return Object.keys(t.properties).map((function(t){var o=t.split(":")[1],l=r.title&&r.title+":"+o,c=r.help,s=n.a.createElement(On,e);i[t]=Object(d.a)(Object(d.a)({},a),{},{"ui:field":void 0,"ui:options":{endAdornment:s,widget:r.widget||"text",title:l,language:o,help:c}})})),Object(d.a)(Object(d.a)({},i),{},{"ui:collapsible":!0,"ui:expanded":!1})}(),m=kn(u);return n.a.createElement(s,Object.assign({},e,{uiSchema:u,fieldset:m.fieldset}))}},layouts:{},widgets:{}}),In={fields:Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},mt.foelds),ca.fields),ma.fields),Ma.fields),Ci.fields),Ti.fields),Ni.fields),en.fields),bn.fields),En.fields),widgets:Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},Ci.widgets),Ti.widgets),Ni.widgets),en.widgets),bn.widgets),models:Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},Ci.models),Ti.models),Ni.models),en.models),bn.models)},xn={type:"object",properties:{uniqueId:{type:"string"},mediaType:{type:"string"},filename:{type:"string"},content:{type:"object",properties:{filename:{type:"string",readonly:!0},title:{type:"localizedString"},description:{type:"localizedString"},keywords:{type:"array",items:{type:"string",enum:[]},uniqueItems:!0},license:{type:"string"},credit:{type:"string"},additionalCredits:{type:"array",items:{type:"object",properties:{type:{type:"string",enum:["undefined","photographer","artist","author","director","producer","voice","owner","rightsmanager"],enumNames:["Ikke spesifisert","Fotograf","Kunstner","Forfatter","Regiss\xf8r","Produsent","Stemme","Eier","Rettighetsforvalter"],default:"undefined"},name:{type:"string"}}}}},dependencies:{license:{oneOf:[{properties:{license:{enum:["copyright"]},copyright:{type:"string"},copyrightYear:{type:"number"}}}]}}}}},Cn=Object(d.a)(Object(d.a)({},xn),{},{properties:Object(d.a)(Object(d.a)({},xn.properties),{},{content:Object(d.a)(Object(d.a)({},xn.properties.content),{},{properties:Object(d.a)(Object(d.a)({},xn.properties.content.properties),{},{category:{type:"string",enum:["photograph","illustration","vector","painting"],enumNames:["Fotografi","Illustrasjon","Vektor","Maleri"],default:"photograph"},iptcdata:{type:"object",readonly:!0,properties:{headline:{type:"string"},caption:{type:"string"},captionWriter:{type:"string"},credit:{type:"string"},keywords:{type:"array",items:{type:"string",enum:[]},uniqueItems:!0},bylineTitle:{type:"string"},byline:{type:"string"},copyright:{type:"string"},dateCreated:{type:"string"}}}})})})}),Sn={"ui:field":"pageEditor","ui:preview":{select:{source:"source",sourceId:"sourceId",imageUrl:"imageUrl",title:"title",typeLabel:"typeLabel",metadata:"metadata",filename:"filename",duration:"duration"},prepare:function(e){var t,a=e.formData,i=e.formContext,n=a.uploadProgress,r=a.uploadStatus,o=a.title,l=a.description,c=a.mediaType,d=a.mediaSize,s=a.mediaWidth,u=a.mediaHeight,m=a.mimeType,p=a.imageUrl,g=a.filename,f=a.duration,b=a.content,h=i&&i.t,y=i&&i.defaultLocale,v=i&&i.currentLocale||y,j=v&&"locale:"+v;b&&(o=b.title&&b.title[j]||b.filename||o,l=b.description&&b.description[j]||l,f=b.duration||f,g=b.filename||g),b&&b.artwork&&b.artwork[0]&&b.artwork[0].media&&b.artwork[0].media.imageUrl&&(p=b.artwork[0].media.imageUrl),c&&(t=c),"misc"===c&&m&&(t=m);var O=[];return n?O.push(n+"%"):r&&"done"!==r&&O.push(h&&h("uploadStatus:"+r||!1)),s&&u?O.push(s+"x"+u):d&&O.push(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,i=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,r)).toFixed(i))+" "+n[r]}(d)),f&&O.push(function(e){var t=function(e,t){return("000"+e).slice(-1*t)},a=parseFloat(e).toFixed(3),i=Math.floor(a/60/60),n=Math.floor(a/60)%60,r=Math.floor(a-60*n);a.slice(-3);return i?t(i,2)+":"+t(n,2)+":"+t(r,2):n+":"+t(r,2)}(f)),b&&b.captions&&b.captions.length&&O.push(b.captions.length+" undertekster"),{source:void 0,sourceId:void 0,imageUrl:p,title:o,typeLabel:t,metadata:O,filename:g,duration:f}}},"ui:options":{collapsible:!0},"ui:fieldset":["content","settings"],settings:{"ui:fieldset":["uniqueId","content"],"ui:options":{grid:!0,spacing:2},content:{"ui:spacing":2,"ui:fieldset":["filedata"],filedata:{"ui:fieldset":["name","size","type"]}}},content:{"ui:layout":"pageContent","ui:nav":!0,"ui:fieldset":["data","file","metadata","rights"],data:Object(d.a)(Object(d.a)({},{"ui:options":{spacing:2},"ui:fieldset":["filename","title","description","category","credit","license","keywords"],filename:{"ui:title":"Originalt filnavn","ui:help":"Navn p\xe5 filen som ble lastet opp."},title:{"ui:title":"Tittel"},description:{"ui:title":"Beskrivelse","ui:widget":"textarea"},category:{"ui:title":"Kategori","ui:placeholder":"Velg kategori"},credit:{"ui:title":"Kreditering","ui:help":"Opphavsrett, person eller organisasjon"},keywords:{"ui:widget":"tags","ui:title":"N\xf8kkelord","ui:help":"Beskrivende stikkord."},license:{"ui:widget":"selectLicense","ui:title":"Lisens","ui:help":"Velg en lisens for dette innholdet."}}),{},{"ui:layout":"section","ui:icon":"image","ui:title":"Bilde"}),file:Object(d.a)(Object(d.a)({},{"ui:options":{grid:!0,spacing:2},"ui:fieldset":["filename","videoDimensions","duration"],videoDimensions:{"ui:grid":!0,"ui:spacing":2,"ui:fieldset":["videoWidth","videoHeight"],videoWidth:{"ui:gridCols":6},videoHeight:{"ui:gridCols":6}},category:{"ui:title":"Kategori","ui:placeholder":"Velg kategori"},keywords:{"ui:widget":"tags","ui:title":"Stikkord","ui:help":"Enter keyword terms or phrases to describe the subject of content in the photograph."},license:{"ui:widget":"selectLicense","ui:title":"Lisens","ui:help":"Velg en lisens for dette innholdet."},copyright:{"ui:title":"Copyright","ui:help":"Beskrivelse av opphavsrett"},copyrightYear:{"ui:title":"Copyright year","ui:help":"Beskrivelse av opphavsrett"},director:{"ui:title":"Regiss\xf8r"},producer:{"ui:title":"Produsent"},series:{"ui:title":"Serie","ui:help":"Evt. serie videoen er en del av."},season:{"ui:title":"Sesong","ui:help":"Evt. sesong videoen er den del av.."},episode:{"ui:title":"Episode","ui:help":"Evt. episode av en serie eller sesong."},locationShot:{"ui:title":"Steder spilt inn","ui:widget":"textarea","ui:help":"Steder hvor videon ble spilt inn."},locationShown:{"ui:title":"Steder som vises","ui:widget":"textarea","ui:help":"Steder som vises i videoen."},album:{"ui:title":"Albumtittel","ui:help":"Tittel p\xe5 albumet l\xe5ten er utgitt p\xe5."},artist:{"ui:title":"Artist"},composer:{"ui:title":"Komponist"},copywriter:{"ui:title":"Tekstforfatter"},releaseYear:{"ui:title":"Utgivelses\xe5r"},recordCompany:{"ui:title":"Plateselskap","ui:help":"Plateselskap og/eller label l\xe5ten er utgitt p\xe5."},catalogNumber:{"ui:title":"Katalognummer","ui:help":"Plateselskapets katalognummer."}}),{},{"ui:layout":"section","ui:icon":"tag","ui:title":"File"}),metadata:Object(d.a)(Object(d.a)({},{"ui:options":{spacing:2},"ui:fieldset":["category","director","producer","series","season","episode","locationShot","locationShown","album","artist","composer","copywriter","releaseYear","recordCompany","catalogNumber"],category:{"ui:title":"Kategori","ui:placeholder":"Velg kategori"},keywords:{"ui:widget":"tags","ui:title":"Stikkord","ui:help":"Enter keyword terms or phrases to describe the subject of content in the photograph."},license:{"ui:widget":"selectLicense","ui:title":"Lisens","ui:help":"Velg en lisens for dette innholdet."},copyright:{"ui:title":"Copyright","ui:help":"Beskrivelse av opphavsrett"},copyrightYear:{"ui:title":"Copyright year","ui:help":"Beskrivelse av opphavsrett"},director:{"ui:title":"Regiss\xf8r"},producer:{"ui:title":"Produsent"},series:{"ui:title":"Serie","ui:help":"Evt. serie videoen er en del av."},season:{"ui:title":"Sesong","ui:help":"Evt. sesong videoen er den del av.."},episode:{"ui:title":"Episode","ui:help":"Evt. episode av en serie eller sesong."},locationShot:{"ui:title":"Steder spilt inn","ui:widget":"textarea","ui:help":"Steder hvor videon ble spilt inn."},locationShown:{"ui:title":"Steder som vises","ui:widget":"textarea","ui:help":"Steder som vises i videoen."},album:{"ui:title":"Albumtittel","ui:help":"Tittel p\xe5 albumet l\xe5ten er utgitt p\xe5."},artist:{"ui:title":"Artist"},composer:{"ui:title":"Komponist"},copywriter:{"ui:title":"Tekstforfatter"},releaseYear:{"ui:title":"Utgivelses\xe5r"},recordCompany:{"ui:title":"Plateselskap","ui:help":"Plateselskap og/eller label l\xe5ten er utgitt p\xe5."},catalogNumber:{"ui:title":"Katalognummer","ui:help":"Plateselskapets katalognummer."}}),{},{"ui:layout":"section","ui:icon":"tag","ui:title":"Metadata"}),rights:Object(d.a)(Object(d.a)({},{"ui:options":{spacing:2},"ui:fieldset":["credit","additionalCredits"],credit:{"ui:title":"Kreditering","ui:help":"Opphavsrett, person eller organisasjon"},additionalCredits:{"ui:title":"Kreditering","ui:buttons":[{title:"Legg til kreditering"}],items:{"ui:options":{grid:!0,spacing:2},type:{"ui:xs":6,"ui:title":"Type","ui:widget":"select"},name:{"ui:xs":6,"ui:title":"Navn"}}}}),{},{"ui:layout":"section","ui:icon":"copyright","ui:title":"Rettigheter"})}},Tn={schemaType:"media",name:"image",title:"Media/Image",schema:Cn,uiSchema:Object(d.a)(Object(d.a)({},Sn),{},{content:Object(d.a)(Object(d.a)({},Sn.content),{},{"ui:fieldset":["data","metadata","rights","iptcdata","exifdata"],data:Object(d.a)(Object(d.a)({},Sn.content.data),{},{"ui:icon":"image","ui:title":"Bilde"}),iptcdata:Object(d.a)(Object(d.a)({},{headline:{"ui:help":"Brief synopsis or summary of the image's content"},caption:{"ui:help":"The who, what and why of what the photograph depicts.","ui:widget":"textarea"},captionWriter:{"ui:help":"Enter the name of the person writing, editing or correcting the description of the photograph in this field."},credit:{"ui:help":"How to acknowledge the supplying person(s) and/or organization(s) when publishing the image."},keywords:{"ui:title":"Keywords","ui:help":"Terms or phrases to describe the subject of content in the photograph.","ui:widget":"tags"},bylineTitle:{"ui:help":"Creator's job title."},byline:{"ui:help":"Creator."},copyright:{"ui:help":"Copyright notice."},dateCreated:{"ui:help":"Date image was created."}}),{},{"ui:layout":"section","ui:title":"IPTC"}),exifdata:{"ui:layout":"section","ui:title":"EXIF"}})})},wn={type:"array",items:{type:"object",properties:{mediaId:{type:"string",readonly:!0},media:{type:"object",properties:{mediaType:{type:"string",default:"audio"},locale:{type:"string"},title:{type:"string"},description:{type:"string"},filename:{type:"string",readonly:!0},mimeType:{type:"string",readonly:!0}}}}}},Nn={type:"array",items:{type:"object",properties:{mediaId:{type:"string",readonly:!0},media:{type:"object",properties:{mediaType:{type:"string",default:"subtitles"},locale:{type:"string"},title:{type:"string"},description:{type:"string"},filename:{type:"string",readonly:!0},mimeType:{type:"string",readonly:!0}}}}}},qn={"ui:field":"mediaChildren","ui:layout":"section","ui:title":"Lydspor","ui:icon":"library_music","ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData;return{title:(void 0===t?[]:t).length+" lydspor"}}},items:{"ui:layout":"module"}},Ln={"ui:field":"mediaChildren","ui:layout":"section","ui:title":"Undertekster","ui:icon":"library_books","ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData;return{title:(void 0===t?[]:t).length+" undertekster"}}},items:{"ui:layout":"module"}},Pn={schemaType:"media",name:"video",title:"Media/Video",schema:Object(d.a)(Object(d.a)({},xn),{},{properties:Object(d.a)(Object(d.a)({},xn.properties),{},{content:Object(d.a)(Object(d.a)({},xn.properties.content),{},{properties:Object(d.a)(Object(d.a)({},xn.properties.content.properties),{},{category:{type:"string",enum:["movie","tv","music"],enumNames:["Film","TV-program","Musikkvideo"],default:"movie"},volume:{type:"integer",minimum:-10,maximum:10},videoWidth:{type:"number",readonly:!0},videoHeight:{type:"number",readonly:!0},duration:{type:"number",readonly:!0},audiotracks:wn,captions:Nn}),dependencies:Object(d.a)(Object(d.a)({},xn.properties.content.dependencies),{category:{oneOf:[{properties:{category:{enum:["movie"]},director:{type:"string"},producer:{type:"string"},locationShown:{type:"string"},locationShot:{type:"string"}}},{properties:{category:{enum:["music"]},director:{type:"string"},producer:{type:"string"},album:{type:"string"},artist:{type:"string"},composer:{type:"string"},copywriter:{type:"string"},releaseYear:{type:"string"},recordCompany:{type:"string"},catalogNumber:{type:"string"}}},{properties:{category:{enum:["tv"]},director:{type:"string"},producer:{type:"string"},series:{type:"string"},season:{type:"string"},episode:{type:"string"},locationShown:{type:"string"},locationShot:{type:"string"}}}]}})})})}),uiSchema:Object(d.a)(Object(d.a)({},Sn),{},{content:Object(d.a)(Object(d.a)({},Sn.content),{},{"ui:fieldset":["data","audiotracks","captions","metadata","rights"],data:Object(d.a)(Object(d.a)({},Sn.content.data),{},{"ui:icon":"movie","ui:title":"Video"}),audiotracks:qn,captions:Ln})})},An={schemaType:"media",name:"audio",title:"Media/Audio",schema:Object(d.a)(Object(d.a)({},xn),{},{properties:Object(d.a)(Object(d.a)({},xn.properties),{},{content:Object(d.a)(Object(d.a)({},xn.properties.content),{},{properties:Object(d.a)(Object(d.a)({},xn.properties.content.properties),{},{category:{type:"string",enum:["sound","music"],enumNames:["Generell","Musikk"],default:"sound"},duration:{type:"number"},volume:{type:"integer",minimum:-10,maximum:10},artwork:{type:"array",items:{type:"object",properties:{mediaId:{type:"string",readonly:!0},media:{type:"object",properties:{mediaType:{type:"string",default:"artwork"},locale:{type:"string"},title:{type:"string"},description:{type:"string"},filename:{type:"string",readonly:!0},mimeType:{type:"string",readonly:!0}}}}}},audiotracks:wn,captions:Nn}),dependencies:{category:{oneOf:[{properties:{category:{enum:["movie"]},director:{type:"string"},producer:{type:"string"},locationShown:{type:"string"},locationShot:{type:"string"}}},{properties:{category:{enum:["music"]},director:{type:"string"},producer:{type:"string"},album:{type:"string"},artist:{type:"string"},composer:{type:"string"},copywriter:{type:"string"},releaseYear:{type:"string"},recordCompany:{type:"string"},catalogNumber:{type:"string"}}},{properties:{category:{enum:["tv"]},director:{type:"string"},producer:{type:"string"},series:{type:"string"},season:{type:"string"},episode:{type:"string"},locationShown:{type:"string"},locationShot:{type:"string"}}}]}}})})}),uiSchema:Object(d.a)(Object(d.a)({},Sn),{},{content:Object(d.a)(Object(d.a)({},Sn.content),{},{"ui:fieldset":["data","artwork","audiotracks","captions","metadata","rights"],data:Object(d.a)(Object(d.a)({},Sn.content.data),{},{"ui:icon":"album","ui:title":"Audio"}),artwork:{"ui:layout":"section","ui:field":"mediaChildren","ui:title":"Artwork","ui:icon":"photo_library","ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData;return{title:(void 0===t?[]:t).length+" bilder"}}},items:{"ui:layout":"module"}},audiotracks:qn,captions:Ln})})},Dn={schemaType:"media",name:"misc",title:"Media/Misc",schema:Object(d.a)(Object(d.a)({},xn),{},{properties:Object(d.a)(Object(d.a)({},xn.properties),{},{content:Object(d.a)({},xn.properties.content)})}),uiSchema:Object(d.a)(Object(d.a)({},Sn),{},{content:Object(d.a)(Object(d.a)({},Sn.content),{},{"ui:fieldset":["data","metadata","rights"],data:Object(d.a)(Object(d.a)({},Sn.content.data),{},{"ui:icon":"album","ui:title":"Misc"})})})},Fn={"ui:options":{spacing:2},"ui:fieldset":["title","description","source","sourceId"],title:{"ui:title":"Tittel","ui:help":"Original tittel."},description:{"ui:title":"Beskrivelse","ui:widget":"textarea","ui:help":"Original beskrivelse."},source:{"ui:title":"Kilde"},sourceId:{"ui:title":"Kildens id"}},Un=[Tn,Pn,An,{id:1,schemaType:"media",name:"video/vimeo",schema:{type:"object",readonly:!0,properties:{uniqueId:{type:"string"},sourceId:{type:"string"},mediaType:{type:"string"},imageUrl:{type:"string"},title:{type:"string"},description:{type:"string"},content:{type:"object",properties:{title:{type:"string"},description:{type:"string"}}}}},uiSchema:Object(d.a)(Object(d.a)({},Sn),{},{"ui:fieldset":["contentSource"],contentSource:Object(d.a)(Object(d.a)({},Sn.content),{},{"ui:fieldset":["source"],source:Object(d.a)(Object(d.a)({},Fn),{},{"ui:layout":"section","ui:icon":"movie","ui:title":"Vimeo"})})})},Dn,{id:1,schemaType:"media",name:"video/youtube",schema:{type:"object",readonly:!0,properties:{uniqueId:{type:"string"},sourceId:{type:"string"},mediaType:{type:"string"},imageUrl:{type:"string"},title:{type:"string"}}},uiSchema:Object(d.a)(Object(d.a)({},Sn),{},{"ui:fieldset":["contentSource"],contentSource:Object(d.a)(Object(d.a)({},Sn.content),{},{"ui:fieldset":["source"],source:Object(d.a)(Object(d.a)({},Fn),{},{"ui:layout":"section","ui:icon":"movie","ui:title":"YouTube"})})})},{id:1,schemaType:"media",name:"application/sketchfab",schema:{type:"object",readonly:!0,properties:{uniqueId:{type:"string"},sourceId:{type:"string"},mediaType:{type:"string"},imageUrl:{type:"string"},title:{type:"string"}}},uiSchema:Object(d.a)(Object(d.a)({},Sn),{},{"ui:fieldset":["contentSource"],contentSource:Object(d.a)(Object(d.a)({},Sn.content),{},{"ui:fieldset":["source"],source:Object(d.a)(Object(d.a)({},Fn),{},{"ui:layout":"section","ui:icon":"local_play","ui:title":"Sketchfab"})})})}],Bn=In.models.themeEditor,zn={type:"object",properties:{modelName:{type:"string",default:"collections",readOnly:!0},collectionType:{type:"string",default:"kp",readOnly:!0},name:{type:"string",readOnly:!0},title:{type:"string"},siteId:{type:"number"},content:{type:"object",properties:{name:{type:"string",readOnly:!0},title:{type:"string"},description:{type:"string"},siteId:{type:"number"},theme:Object(d.a)({},Bn.schema)}}}},Hn={select:{siteId:"siteId",title:"title",name:"name",metadata:"metadata",icon:"icon"},prepare:function(e){var t=e.formData,a=(e.formContext,t.id),i=t.siteId,n=t.siteName,r=t.name,o=t.title,l=t.collectionType,c=t.content,d=void 0===c?{}:c;return d&&(o=d.title,i=d.siteId,r=o&&l+":"+o.replace(" ","-").toLowerCase()),{siteId:i,title:o,name:r,metadata:["Id:"+a,"Site:"+n],icon:Me.kpMenu}}},Wn=In.models.themeEditor,Mn={id:1,schemaType:"collections",name:"kp",schema:zn,uiSchema:{"ui:preview":Hn,"ui:field":"pageEditor","ui:collapsible":!0,"ui:fieldset":["content","settings"],settings:{"ui:fieldset":["modelName","collectionType","title","name","siteId"],siteId:{"ui:field":"collectionSiteId"}},content:{"ui:layout":"pageContent","ui:nav":!0,"ui:fieldset":["header","theme"],header:{"ui:title":"Informasjon","ui:icon":"info","ui:layout":"section","ui:options":{spacing:2},"ui:fieldset":["title","description","siteId"],title:{"ui:title":"Tittel"},description:{"ui:title":"Beskrivelse","ui:widget":"textarea"},siteId:{"ui:title":"Eier","ui:field":"collectionSiteId"}},theme:Object(d.a)(Object(d.a)({},Wn.uiSchema),{},{"ui:title":"Theme","ui:icon":"palette","ui:layout":"section","ui:options":{spacing:2}})}},preview:{}},Rn={type:"string",format:"size",enum:["small","medium","large","xl"],enumNames:["Small","Medium","Large","XL"],default:"small"},Vn={type:"string",enum:["1:1","2:1","4:3"],default:"1:1"},Jn={id:1,schemaType:"documents",name:"article",schema:{type:"object",properties:{documentType:{type:"string",default:"article"},collectionId:{type:"number"},locale:{type:"string",default:"no"},schemaId:{type:"number",default:1},title:{type:"string"},content:{type:"object",properties:{importId:{type:"string"},location:{type:"object",properties:{lat:{type:"number",readonly:!0},lng:{type:"number",readonly:!0},zoom:{type:"number",readonly:!0}}},keywords:{type:"array",items:{type:"string",enum:[]},uniqueItems:!0},license:{type:"string"},titleImage:{type:"image",properties:{content:{type:"object",properties:{headline:{type:"localizedString"},caption:{type:"localizedString"}}}}},title:{type:"localizedString"},leadtext:{type:"localizedString"},author:{type:"object",properties:{name:{type:"string"},description:{type:"string"}}},bodytext:{type:"localizedString"},sections:{type:"array",items:{type:"object",properties:{sectionType:{type:"string",enum:["text","media","dm","links","attachments","quote"],enumNames:["Tekst","Media","DM","Lenker","Vedlegg","Sitat"],default:"text"},title:{type:"localizedString"},titleHidden:{type:"boolean"}},dependencies:{sectionType:{oneOf:[{type:"object",properties:{sectionType:{enum:["text"]},leadtext:{type:"localizedString"},bodytext:{type:"localizedString"}}},{type:"object",properties:{sectionType:{enum:["media"]},sectionLayout:{type:"string",enum:["list","grid","slideshow"],enumNames:["Liste","Grid","Slideshow"],default:"grid"},media:{type:"array",items:{type:"media",properties:{mediaSize:Rn,mediaFormat:Vn,mediaLayout:{type:"string",default:"frame"},content:{type:"object",properties:{headline:{type:"localizedString"},caption:{type:"localizedString"}}}}}}}},{type:"object",properties:{sectionType:{enum:["dm"]},sectionLayout:{type:"string",enum:["grid","grid-wide","slideshow","slideshow-wide"],enumNames:["Grid","Grid Wide","Slideshow","Slideshow Wide"],default:"grid"},references:{type:"array",items:{type:"reference",referenceType:"ekultur"}}}},{type:"object",properties:{sectionType:{enum:["links"]},links:{type:"array",items:{type:"object",properties:{title:{type:"string"},url:{type:"string"}}}}}},{type:"object",properties:{sectionType:{enum:["attachments"]},attachments:{type:"array",items:{type:"media",properties:{mediaSize:Rn,mediaFormat:Vn,mediaLayout:{type:"string",default:"frame"},content:{type:"object",properties:{headline:{type:"localizedString"},caption:{type:"localizedString"}}}}}}}},{type:"object",properties:{sectionType:{enum:["quote"]},quote:{type:"localizedString"},cite:{type:"string"}}}]}}}},isPartOf:{type:"array",items:{type:"reference",documentType:"topic",referenceType:"articleIsPartOf",_reverseReferenceType:"topicHasArticles",_reverseReference:"hasArticles[]"}}}}}},uiSchema:{"ui:field":"pageEditor","ui:collapsible":!0,"ui:preview":{select:{icon:"icon",imageUrl:"imageUrl",title:"title",description:"description",metadata:"metadata",typeLabel:"typeLabel"},prepare:function(e){var t=e.formData,a=e.formContext,i=t.documentType,n=t.title,r=t.content,o=t.description,l=a&&a.defaultLocale,c=a&&a.currentLocale,d="locale:"+(l||c||t.locale),s=[],u=r&&r.titleImage,m=u&&u.media&&u.media.imageUrl;if(r){n=r.title&&r.title[d],o=r.description&&r.description[d];var p=r.location,g=r.sections,f=r.isPartOf;p&&p.lat&&p.lng&&(p.address?s.push(p.address):s.push("Sted")),g&&g.length&&s.push(g.length+" seksjoner"),f&&f.length&&s.push(f.length+" tema")}return{icon:Me.article,imageUrl:m,untitled:"Ny artikkel",title:n||"Uten tittel",description:o,metadata:s,typeLabel:i}}},"ui:fieldset":["content","settings"],settings:{"ui:field":"pageSettings","ui:nav":!0,"ui:fieldset":["metadata","geocoder"],metadata:{"ui:layout":"section","ui:icon":"label","ui:title":"Metadata","ui:fieldset":["documentType","collectionId","locale","content"],"ui:options":{spacing:2},documentType:{},collectionId:{"ui:field":"documentCollectionId","ui:query":{collectionType:"kp"}},locale:{"ui:field":"documentLocale"},content:{"ui:fieldset":["keywords","license","location"],keywords:{"ui:widget":"tags","ui:title":"N\xf8kkelord","ui:help":"Beskrivende stikkord."},license:{"ui:title":"Lisens","ui:help":"Velg en lisens for dette innholdet."},location:{"ui:options":{grid:!0,spacing:2},"ui:fieldset":["map","info"],map:{"ui:fieldset":["lat","lng","zoom"],"ui:options":{minWidth:200,minHeight:200},"ui:field":"kpGeopoint","ui:layout":"kpGeopoint","ui:overlay":{template:"kpGeocoder"}},info:{"ui:options":{spacing:2},"ui:fieldset":["lat","lng","zoom"]}}}},geocoder:{"ui:layout":"section","ui:title":"Lokasjon","ui:icon":"near_me","ui:options":{position:"absolute",padding:2,grid:!1},"ui:fieldset":["content"],content:{"ui:fieldset":["location"],location:{"ui:field":"kpGeopoint","ui:layout":"kpGeocoder"}}}},content:{"ui:layout":"pageContent","ui:fieldset":["header","body","isPartOf"],header:{"ui:fieldset":["titleImage","content"],"ui:layout":"section","ui:options":{collapsible:!0,expanded:!0,grid:!0,spacing:2},"ui:title":"Header","ui:preview":{select:{description:"description"},prepare:function(e){var t=e.formData,a="locale:"+e.formContext.currentLocale;return{description:t.title&&t.title[a]}}},titleImage:{"ui:xs":4,"ui:field":"media","ui:options":{editable:!0,hotspot:!0},"ui:buttons":[{title:"Finn hovedbilde",icon:"search",type:"sidebar"}],"ui:fieldset":["media","content"],content:{"ui:title":"Innhold","ui:options":{grid:!0,padding:2,spacing:2},"ui:fieldset":["headline","caption"],headline:{"ui:title":"Bildetekst, overskrift"},caption:{"ui:title":"Bildetekst","ui:widget":"textarea"}}},content:{"ui:xs":8,"ui:fieldset":["title","leadtext","author"],"ui:options":{spacing:2},title:{"ui:title":"Tittel"},leadtext:{"ui:title":"Ingress","ui:widget":"textarea"},author:{fieldset:["name","description"],name:{"ui:title":"Forfatter"},description:{"ui:title":"Forfatter, beskrivelse"}}}},body:{"ui:fieldset":["sections"],sections:{"ui:layout":"section","ui:title":"Innhold","ui:preview":{select:{description:"description"},prepare:function(e){var t=e.formData,a=void 0===t?[]:t;return{description:a.length&&1===a.length?a.length+" seksjon":a.length?a.length+" seksjoner":"Ingen seksjoner"}}},"ui:options":{collapsible:!0,expanded:!0,draggable:!0,spacing:2},"ui:buttons":[{icon:"subject",title:"Tekst",item:{sectionType:"text"}},{icon:"insert_photo",title:"Media",item:{sectionType:"media"}},{icon:"fingerprint",title:"DM",item:{sectionType:"dm"}},{icon:"insert_link",title:"Lenker",item:{sectionType:"links"}},{icon:"attach_file",title:"Vedlegg",item:{sectionType:"attachments"}},{icon:"format_quote",title:"Sitat",item:{sectionType:"quote"}}],items:{"ui:layout":"section","ui:preview":{select:{title:"title",untitled:"untitled",description:"description"},prepare:function(e){var t,a=e.formData,i=(e.formContext,a.title&&a.title["locale:no"]),n=a.sectionType,r="Untitled "+n,o=a.bodytext,l=a.media,c=a.references,d=a.links,s=a.attachments,u=a.cite,m=a.quote;return"text"===n&&(t=o&&o["locale:no"]),"media"===n&&(t=l&&l.length+" media"),"dm"===n&&(t=c&&c.length+" referanser"),"links"===n&&(t=d&&d.length+" lenker"),"attachments"===n&&(t=s&&s.length+" vedlegg"),"quote"===n&&(t=[],u&&t.push(u),m&&m["locale:no"]&&t.push(m["locale:no"]),t=t.join(": ")),{title:i,untitled:r,description:t}}},"ui:options":{editable:!0,hideable:!0,removable:!0,spacing:2},"ui:settings":["sectionType","sectionLayout"],sectionType:{"ui:enumIcons":{text:"subject",media:"insert_photo",links:"insert_link",attachments:"attach_file",quote:"format_quote",dm:"fingerprint"}},"ui:fieldset":["head","body"],head:{"ui:fieldset":["title","titleHidden","description"],"ui:options":{grid:!0,spacing:2},title:{"ui:xs":9,"ui:label":!1,"ui:placeholder":"Tittel"},titleHidden:{"ui:gridCols":3,"ui:title":"Skjul tittel","ui:widget":"switch"},description:{"ui:gridCols":12,"ui:title":"Beskrivelse","ui:widget":"textarea"}},body:{"ui:fieldset":["media","attachments","references","bodytext","links","quote","cite"],"ui:options":{spacing:2},media:{"ui:title":"Media","ui:options":{draggable:!0},"ui:sidebar":{query:{models:"media",mediaType:["image","video/*","audio/*","youtube","vimeo","sketchfab"]}},"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn media"}],items:{"ui:layout":"module","ui:options":{editable:!0,hideable:!0},"ui:settings":["mediaSize","mediaFormat"],"ui:fieldset":["content","media"],content:{"ui:title":"Innhold","ui:options":{grid:!0,padding:2,spacing:2},"ui:fieldset":["headline","caption"],headline:{"ui:title":"Bildetekst, overskrift"},caption:{"ui:title":"Bildetekst","ui:widget":"textarea"}}}},attachments:{"ui:title":"Vedlegg","ui:options":{draggable:!0},"ui:sidebar":{query:{models:"media",mediaType:["misc"]}},"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn vedlegg"}],items:{"ui:layout":"module","ui:options":{editable:!0,hideable:!0},"ui:fieldset":["media"],content:{"ui:title":"Innhold","ui:options":{grid:!0,padding:2,spacing:2},"ui:fieldset":["headline","caption"],headline:{"ui:title":"Bildetekst, overskrift"},caption:{"ui:title":"Bildetekst","ui:widget":"textarea"}}}},references:{"ui:title":"Referanser","ui:options":{draggable:!0},"ui:sidebar":{query:{models:"documents",documentType:"ekultur"}},"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn referanse"}],items:{"ui:layout":"module","ui:preview":{select:{imageUrl:"imageUrl",title:"title"},prepare:function(e){var t=e.formData.reference;return{imageUrl:t.imageUrl,title:t.title}}}}},bodytext:{"ui:title":"Br\xf8dtekst","ui:widget":"texteditor"},quote:{"ui:title":"Sitat","ui:widget":"textarea"},cite:{"ui:title":"Byline"},links:{"ui:title":"Lenker","ui:options":{draggable:!0},"ui:buttons":[{type:"add",title:"Legg til"}],items:{"ui:preview":{select:{description:"description"},prepare:function(e){return{description:e.formData.url}}},"ui:layout":"module","ui:options":{editable:!0,hideable:!0},"ui:fieldset":["content"],content:{"ui:options":{grid:!0,spacing:2},"ui:fieldset":["title","url"],title:{"ui:title":"Tittel"},url:{"ui:title":"URL"}}}}}}}},isPartOf:{"ui:layout":"section","ui:title":"Er en del av","ui:preview":{select:{description:"description"},prepare:function(e){var t=e.formData,a=void 0===t?[]:t;return{description:a.length?a.length+" tema":"Ingen tema"}}},"ui:options":{draggable:!0,collapsible:!0},"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn tema"},{title:"Legg til"}]}}},formData:a(794),preview:{}},Gn={type:"object",properties:{documentType:{type:"string",enum:["pageHome","pageTopic","pageMap"],enumNames:["Startside","Tema","Kart"]},locale:{type:"string",default:"no"},collectionId:{type:"string"},parentId:{type:"string"},schemaId:{type:"number",default:1},title:{type:"string"},content:{type:"object",properties:{importId:{type:"string"},title:{type:"localizedString"},titleImage:{type:"image"},leadtext:{type:"localizedString"},bodytext:{type:"localizedString"},mapLayout:{type:"string",enum:["default","roundtrip"],default:"default"},mediaLayout:{type:"string",enum:["gallery","autoplay"],default:"gallery"},annotateLayout:{type:"string",enum:["imagemap","legends"],default:"imagemap"},annotateColor:{type:"color",enum:["red","green","blue","black","white"]},backgroundImage:{type:"image",annotations:!0,cropdata:!0,filters:["opacity"]},parallaxImage:{type:"image",cropdata:!0,filters:["opacity"]},linksLayout:{type:"string",enum:["list","mosaic","imagelegend","imagemap","gallery","autoplay","timeline"],enumNames:["Liste","Mosaikk","Bildeforklaring","Bildekart","Mediagalleri","Autoplay","Tidslinje"],default:"list"},links:{type:"array",items:{type:"object",properties:{referenceId:{type:"string"},referenceType:{type:"string",default:"pageLink"},reference:{type:"object",properties:{uniqueId:{type:"string"},documentType:{type:"string"}}},mediaId:{type:"string"},media:{type:"object",properties:{uniqueId:{type:"string"}}},imageFilters:{type:"imageFilters"},imageCropdata:{type:"imageCropdata"},imageFocalpoint:{type:"imageFocalpoint"},runningHead:{type:"localizedString"},title:{type:"localizedString"},titleColor:{type:"string",format:"color",enum:["black","white"],default:"black"},titleSize:{type:"string",enum:["small","medium","large"],default:"medium"},description:{type:"localizedString"},top:{type:"string",default:50,readonly:!0},left:{type:"string",default:50,readonly:!0},x:{type:"number",default:0,readonly:!0},y:{type:"number",default:0,readonly:!0},backgroundColor:{type:"string",format:"color",enum:["black","#7f7f7f","white"],default:"#7f7f7f"},color:{type:"string",format:"color",enum:["black","white"],default:"black"},skin:{type:"string",enum:["dark","light","dark/light","light/dark"],default:"dark"},placement:{type:"string",enum:["top-left","top","top-right","left","center","right","bottom-left","bottom","bottom-right"],default:"top-left"},grid:{type:"string",enum:["1:1","1:2","1:3","2:1","2:2","2:3","3:1","3:2","3:3","4:1","4:2","4:3","5:1","5:2","5:3"],default:"1:1"}}}},isPartOf:{type:"array",items:{type:"reference",documentType:"presentation",referenceType:"pageIsPartOf",_reverseReferenceType:"presentationHasPages",_reverseReference:"hasPages[]"}}}}}},Kn=Gn,_n={select:{imageUrl:"imageUrl",title:"title",description:"description",metadata:"metadata",typeLabel:"typeLabel",icon:"icon"},prepare:function(e){var t=e.formData,a=e.formContext,i=t.parents,n=(t.children,t.parentId),r=t.documentType,o=t.content,l=a&&a.defaultLocale,c=a&&a.currentLocale,d="locale:"+(l||c||t.locale),s=[],u=[];i&&i.map((function(e){u.push(e.title)})),u.length&&s.push("/"+u.join("/")),n&&s.push("Parent: "+n);var m=o&&o.backgroundImage,p=m&&m.media&&m.media.imageUrl;return{icon:r&&Me[r],imageUrl:p,title:o&&o.title&&o.title[d]||t.title||"Untitled",description:o&&o.description&&o.description[d],metadata:s,typeLabel:r}}},Zn={"ui:layout":"pageSettings","ui:nav":!0,"ui:fieldset":["metadata"],metadata:{"ui:layout":"section","ui:icon":"label","ui:title":"Metadata","ui:fieldset":["documentType","collectionId","locale","parentId","parents","children"],"ui:options":{spacing:2},collectionId:{"ui:field":"documentCollectionId","ui:query":{collectionType:"kp"}},locale:{"ui:field":"documentLocale"},documentType:{"ui:title":"Sidetype"},parentId:{"ui:field":"documentParentId","ui:title":"ParentId","ui:query":{documentType:"page*"}},parents:{"ui:fieldset":["parentId","uniqueId","id"],"ui:field":"documentParents","ui:query":{documentType:"page*"}},children:{"ui:fieldset":["uniqueId","id"],"ui:field":"documentChildren","ui:query":{documentType:"page*"}}}},$n={"ui:layout":"section","ui:title":"Presentasjon","ui:preview":{select:{description:"description"},prepare:function(e){var t=e.formData,a=e.formContext,i=t.title,n="locale:"+a.currentLocale;return{description:i&&i[n]}}},"ui:fieldset":["title"],"ui:options":{expanded:!0,collapsible:!0,spacing:2},title:{"ui:title":"Tittel"}},Yn={"ui:layout":"section","ui:title":"Media","ui:fieldset":["media"],"ui:options":{collapsible:!0,spacing:2},media:{"ui:options":{spacing:2},"ui:fieldset":["backgroundImage"],backgroundImage:{"ui:layout":"media","ui:buttons":[{type:"sidebar",icon:"search",title:"Finn bakgrunnsbilde"}],"ui:fieldset":["media","imageCropdata","imageFilters"],media:{"ui:title":"Bakgrunnsbilde"}},parallaxImage:{"ui:layout":"media","ui:buttons":[{type:"sidebar",icon:"search",title:"Finn parallaxbilde"}],media:{"ui:title":"Parallaxbilde"}}}},Xn={"ui:title":"Lenker","ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData;return{title:(void 0===t?[]:t).length+" lenker"}}},"ui:options":{draggable:!0},"ui:dialog":{query:{models:"documents",documentType:["page*","article"]}},"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn innhold"},{type:"add",title:"Legg til"}],items:{"ui:field":"kpLink","ui:layout":"module","ui:options":{minHeight:256,editable:!0},"ui:nav":!0,"ui:fieldset":["content"],"ui:preview":{select:{imageUrl:"imageUrl",typeLabel:"typeLabel",title:"title",metadata:"metadata"},prepare:function(e){var t=e.formData,a=e.formContext,i=(e.index,t.mediaId,t.media),n=t.referenceId,r=t.reference,o="locale:"+(a.currentLocale||a.defaultLocale||"no"),l=t.title&&t.title[o],c=i&&i.imageUrl||r&&r.imageUrl,d=n&&r&&r.documentType,s=[];return n&&r&&r.title&&s.push(r.title),{imageUrl:c,typeLabel:d,title:l||n&&r&&r.title,metadata:s}}},backgroundColor:{"ui:widget":"color"},color:{"ui:widget":"color","ui:settingsVariant":"text"},grid:{"ui:widget":"grid","ui:maxCols":5,"ui:maxRows":3},placement:{"ui:widget":"placement"},imageFilters:{"ui:title":"Filters","ui:field":"imageFilters"},imageCropdata:{"ui:title":"Crop","ui:field":"imageCropdata"},imageFocalpoint:{"ui:title":"Fokuspunkt","ui:field":"imageFocalpoint"},content:{"ui:title":"Innhold","ui:layout":"kioskLink","ui:fieldset":["linkMedia","linkContent","linkReference"],"ui:options":{padding:2,spacing:2},linkMedia:{"ui:fieldset":["mediaId","media"],"ui:sidebar":{query:{models:"media",mediaType:"image"}},"ui:layout":"kioskLinkMedia","ui:buttons":["sidebar"]},linkReference:{"ui:fieldset":["referenceId","reference"],"ui:sidebar":{query:{models:"documents",documentType:["page*","article"]}},"ui:layout":"kioskLinkReference","ui:options":{editable:!0,deletable:!0,restorable:!0}},linkContent:{"ui:layout":"kioskLinkContent","ui:grid":!0,"ui:padding":2,"ui:spacing":2,"ui:fieldset":["runningHead","title","description"],runningHead:{"ui:title":"Stikktittel","ui:settings":["color"]},title:{"ui:title":"Tittel"},titleColor:{"ui:widget":"color"},description:{"ui:title":"Beskrivelse"}}},imageAnnotations:{"ui:title":"Mark\xf8r","ui:fieldset":["coords"],coords:{"ui:fieldset":["x","y","top","left"],"ui:grid":!0,"ui:padding":2,"ui:spacing":2,x:{"ui:gridCols":6},y:{"ui:gridCols":6},top:{"ui:gridCols":6},left:{"ui:gridCols":6}}}}},Qn={"ui:layout":"section","ui:title":"Innhold","ui:icon":"link","ui:fieldset":["links"],"ui:settings":[],links:Xn},er={"ui:field":"pageEditor","ui:collapsible":!0,"ui:preview":_n,"ui:fieldset":["content","settings"],content:{"ui:field":"kpPage","ui:fieldset":["header","media","body"],header:Object(d.a)(Object(d.a)({},$n),{},{"ui:fieldset":["title","leadtext","bodytext"],"ui:title":"Hjemmeside"}),media:Object(d.a)(Object(d.a)({},Yn),{},{"ui:title":"Bakgrunnsbilde"}),body:Object(d.a)({},Qn)},settings:Zn},tr=Object(at.a)((function(e){return{article:{position:"absolute",top:0,right:0,bottom:0,left:0,margin:e.spacing(1),overflowY:"scroll","& *":{boxSizing:"border-box"},backgroundColor:"white",fontFamily:"Akkurat, sans-serif",lineHeight:1.5,"& h1":{fontSize:"1.5em",fontWeight:"bold",lineHeight:1.25,margin:".5em 0"},"& h2":{fontSize:"1.25em",fontWeight:"bold",lineHeight:1.25,margin:".5em 0"}}}})),ar=function(e){var t=e.className,a=e.children,i=tr();return n.a.createElement("article",{className:t||i.article},a)},ir=Object(at.a)((function(e){return{wrapper:{maxWidth:function(e){return e.maxWidth},margin:"auto"}}})),nr=function(e){var t=e.className,a=e.maxWidth,i=void 0===a?720:a,r=e.children,o=ir({maxWidth:i});return n.a.createElement("section",{className:t||o.wrapper},r)},rr=Object(at.a)((function(e){return{title:{fontFamily:"Akkurat, sans-serif","&.h1":{fontSize:"1.5em",fontWeight:"bold",lineHeight:1.25,margin:".5em 0"},"&.h2":{fontSize:"1.25em",fontWeight:"bold",lineHeight:1.25,margin:".5em 0"}}}})),or=function(e){var t=e.className,a=e.component,i=void 0===a?"h1":a,r=e.language,o=void 0===r?"no":r,l=e.children,c=rr();return"object"===typeof l&&(l=l["locale:"+o]||void 0),n.a.createElement(hn.a,{className:t||c.title,component:i},l)},lr=a(423),cr=a.n(lr),dr=Object(at.a)((function(e){return{bodytext:{"& p":{margin:"1em 0"},"& ul":{listStyle:"disc",margin:"1em 0"},"& ol":{listStyle:"upper-roman",margin:"1em 0"},"& strong":{fontWeight:"bold"},"& em":{fontStyle:"italic"}}}})),sr=function(e){var t=e.className,a=e.language,i=void 0===a?"no":a,r=e.children,o="locale:"+i,l=dr();return"object"===typeof r&&(r=r[o]||void 0),n.a.createElement(cr.a,{className:t||l.bodytext,source:r})},ur=Object(at.a)((function(e){return{wrapper:{maxWidth:function(e){return e.maxWidth},margin:"auto"},list:{margin:function(t){return e.spacing(-t.spacing/2)},display:"flex",flexDirection:"column"},item:{width:function(t){return t.maxWidth+e.spacing(t.spacing)},padding:function(t){return e.spacing(t.spacing/2)}}}})),mr=function(e){var t=e.className,a=e.spacing,i=void 0===a?2:a,r=e.padding,o=void 0===r?0:r,l=e.maxWidth,c=void 0===l?720:l,d=e.gridColumns,s=void 0===d?4:d,u=e.mediaFormat,m=void 0===u?"2:1":u,p=e.children,g=ur({maxWidth:c,gridColumns:s,spacing:i,padding:o});return n.a.createElement("section",{className:t||g.wrapper},n.a.createElement("div",{className:t||g.list},p.map((function(e,t){var a=n.a.cloneElement(e,{mediaFormat:m});return n.a.createElement("div",{className:g.item,"data-size":a.props.size,key:t},a)}))))},pr=Object(at.a)((function(e){return{wrapper:{maxWidth:function(e){return e.maxWidth},overflow:"hidden",margin:"auto"},grid:{margin:function(t){return e.spacing(-t.spacing/2)},display:"flex",flexWrap:"wrap"},item:{width:function(t){return(t.maxWidth+e.spacing(t.spacing))/t.gridColumns},padding:function(t){return e.spacing(t.spacing/2)},"&[data-size=medium]":{width:function(t){return(t.maxWidth+e.spacing(t.spacing))/t.gridColumns*2}},"&[data-size=large]":{width:function(t){return(t.maxWidth+e.spacing(t.spacing))/t.gridColumns*4}},"&[data-size=xl]":{width:function(t){return t.maxWidth+e.spacing(t.spacing)}}}}})),gr=function(e){var t=e.className,a=e.spacing,i=void 0===a?2:a,r=e.padding,o=void 0===r?0:r,l=e.maxWidth,c=void 0===l?720:l,d=e.gridColumns,s=void 0===d?4:d,u=e.children,m=pr({maxWidth:c,gridColumns:s,spacing:i,padding:o});return n.a.createElement("section",{className:t||m.wrapper},n.a.createElement("div",{className:t||m.grid},u.map((function(e,t){var a=n.a.cloneElement(e);return n.a.createElement("div",{className:m.item,"data-size":a.props.size,key:t},a)}))))},fr=a(219),br=(a(1242),Object(at.a)((function(e){return{slideshow:{position:"relative",maxWidth:function(e){return e.maxWidth},margin:"auto"},slider:{"& ul":{}},navigation:{position:"absolute",top:0,right:0,bottom:0,left:0},dots:{position:"absolute",right:0,left:0,bottom:0,display:"flex",justifyContent:"center"},backButton:{position:"absolute",top:0,left:0,bottom:0},nextButton:{position:"absolute",top:0,right:0,bottom:0}}}))),hr=function(e){var t=e.className,a=e.spacing,i=void 0===a?2:a,r=e.padding,o=void 0===r?0:r,l=e.maxWidth,c=void 0===l?720:l,d=e.mediaFormat,s=void 0===d?"2:1":d,u=e.children,m=br({spacing:i,padding:o,maxWidth:c}),p=u&&u.length,g=s.split(":");return n.a.createElement(fr.c,{className:t||m.slideshow,naturalSlideWidth:g[0],naturalSlideHeight:g[1],totalSlides:p},n.a.createElement(fr.f,{className:m.slider},u.map((function(e,t){var a=n.a.cloneElement(e,{mediaFormat:s});return n.a.createElement(fr.e,{index:t},a)}))),n.a.createElement("nav",{className:m.navigation},n.a.createElement(fr.d,{className:m.dots}),n.a.createElement(fr.a,{className:m.backButton},"Back"),n.a.createElement(fr.b,{className:m.nextButton},"Next")))},yr=Object(at.a)((function(e){return{format:{position:"relative",width:"100%",minHeight:function(e){return e.minHeight},paddingBottom:function(e){return 100*e.ratio+"%"}}}})),vr=function(e){var t,a=e.format,i=e.minHeight,r=e.children;if(a){var o=a.split(":"),l=o[0];t=o[1]/l}var c=yr({ratio:t,minHeight:i});return t||i?n.a.createElement("div",{className:c.format,"data-minHeight":i,"data-ratio":t,"data-format":a},r):r},jr=a(385),Or=Object(at.a)((function(e){return{module:{position:"relative",width:"100%",fontFamily:"Akkurat, sans-serif",fontSize:"13px",lineHeight:1.5,display:"flex",flexDirection:"column"},media:{backgroundColor:"grey",position:"relative",width:"100%"},content:{fontFamily:"Akkurat, sans-serif",marginTop:".25em"},caption:{},headline:{fontWeight:"bold"},byline:{fontStyle:"italic"},license:{}}})),kr=function(e){var t=e.mediaType,a=e.mediaFormat,i=void 0===a?"1:1":a,r=e.imageUrl,o=e.headline,l=e.caption,c=e.byline,d=e.license,u=Object(s.a)(e,["mediaType","mediaFormat","imageUrl","headline","caption","byline","license"]),m=Or();return n.a.createElement("article",{className:m.module},n.a.createElement("figure",{className:m.media},n.a.createElement(vr,{format:i},n.a.createElement(jr.a,Object.assign({mediaType:t,imageUrl:r},u)))),n.a.createElement(hn.a,{component:"figcaption",className:m.content},o&&n.a.createElement("strong",{className:m.headline},o,":"),o&&" ",l&&n.a.createElement("span",{className:m.caption},l),c&&" ",c&&n.a.createElement("em",{className:m.byline},"(",c,")"),d&&" ",d&&n.a.createElement("em",{className:m.license},d)))},Er={list:mr,grid:gr,slideshow:hr},Ir=Object(at.a)((function(e){return{media:{position:"relative"}}})),xr=function(e){var t=e.className,a=e.language,i=void 0===a?"no":a,r=e.layout,o=void 0===r?"grid":r,l=e.media,c=void 0===l?[]:l,d=e.mediaWidth,s=void 0===d?180:d,u=e.mediaHeight,m="locale:"+i,p=(Ir({mediaWidth:s,mediaHeight:void 0===u?180:u}),function(e){var t=e.media,a=e.mediaSize,i=e.mediaFormat,r=e.content,o=(t&&t.mediaType,r&&r.headline||t&&t.content&&t.content.headline||void 0),l=r&&r.caption||t&&t.content&&t.content.caption||void 0,c=r&&r.byline||t&&t.content&&t.content.byline||void 0,d=r&&r.license||t&&t.content&&t.content.license||void 0;return"object"===typeof o&&(o=o[m]||void 0),"object"===typeof l&&(l=l[m]||void 0),n.a.createElement(kr,Object.assign({},t,{size:a,mediaFormat:i,headline:o,caption:l,byline:c,license:d}))});if(!c.length)return!1;var g=o&&Er[o];return g?n.a.createElement(g,null,c.map((function(e){return p(e)}))):n.a.createElement("div",{className:t},c.map((function(e){return p(e)})))},Cr=Object(at.a)((function(e){return{module:{position:"relative",width:"100%",backgroundColor:"#f2f2f2",fontFamily:"Akkurat, sans-serif",fontSize:"13px",lineHeight:1.5,display:"flex",flexDirection:"column"},media:{position:"relative",width:"100%",paddingBottom:"100%",flexBasis:0,flexGrow:1,margin:0},image:{position:"absolute",top:0,right:0,bottom:0,left:0,maxWidth:"90%",maxHeight:"90%",margin:"auto"},content:{flexBasis:0,flexGrow:1,padding:e.spacing(.5),minHeight:"5em"},title:{fontFamily:"Akkurat, sans-serif",fontSize:"1em",lineHeight:1.25,maxHeight:"3.75em",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical"},footer:{flexBasis:0,flexGrow:0}}})),Sr={grid:gr},Tr={ekultur:function(e){e.size,e.documentType;var t=e.imageUrl,a=e.title,i=(e.author,e.objectCount),r=e.imageCount,o=e.videoCount,l=e.audioCount,c=e.commentCount,d=Cr(),s=[];return i&&s.push(i+" objekter"),r&&s.push(r+" bilder"),o&&s.push(o+" videoer"),l&&s.push(l+" lydklipp"),s=s.length&&s.join(", "),n.a.createElement("article",{className:d.module},n.a.createElement("figure",{className:d.media},n.a.createElement("img",{className:d.image,src:t})),n.a.createElement("div",{className:d.content},n.a.createElement("header",{className:d.header},n.a.createElement(hn.a,{className:d.title},a)),n.a.createElement("footer",{className:d.footer},n.a.createElement("p",null),n.a.createElement("b",{className:"comments__label"},c))))}},wr=function(e){var t=e.className,a=e.language,i=void 0===a?"no":a,r=e.layout,o=void 0===r?"grid":r,l=e.references,c=void 0===l?[]:l,d="locale:"+i,s=function(e){var t=e.referenceType,a=e.reference,i=e.content,r=i&&i.title||a&&a.title||void 0;"object"===typeof r&&(r=r[d]||void 0);var o=t&&Tr[t];return o?n.a.createElement(o,Object.assign({},a,{title:r})):n.a.createElement("li",null,r)};if(!c.length)return!1;var u=o&&Sr[o];return u?n.a.createElement(u,null,c.map((function(e){return s(e)}))):n.a.createElement("div",{className:t},c.map((function(e){return s(e)})))},Nr=Object(at.a)((function(e){return{links:{"& ul":{listStyle:"disc",margin:"1em 0"},"& ol":{listStyle:"upper-roman",margin:"1em 0"},"& strong":{fontWeight:"bold"},"& em":{fontStyle:"italic"}}}})),qr=function(e){var t=e.className,a=e.language,i=void 0===a?"no":a,r=e.links,o=void 0===r?[]:r,l="locale:"+i,c=Nr();return!!o.length&&n.a.createElement("div",{className:t||c.links},n.a.createElement("ul",null,o.map((function(e){return function(e){var t=e.title,a=e.url;return"object"===typeof t&&(t=t[l]||void 0),n.a.createElement("li",null,n.a.createElement("a",{href:a},t))}(e)}))))},Lr=Object(at.a)((function(e){return{head:{}}})),Pr=function(e){var t=e.className,a=e.language,i=e.title,r=e.leadtext,o=e.media,l=Lr();return n.a.createElement("header",{className:t||l.head},n.a.createElement(nr,null,n.a.createElement(or,{language:a},i),o&&n.a.createElement(xr,{media:o,layout:"list",mediaFormat:"2:1"}),n.a.createElement(sr,{language:a},r)))},Ar=Object(at.a)((function(e){return{body:{}}})),Dr=function(e){var t=e.className,a=e.children,i=Ar();return n.a.createElement("div",{className:t||i.body},a)},Fr=Object(at.a)((function(e){return{leadtext:{"& strong":{fontWeight:"bold"},"& em":{fontStyle:"italic"}}}})),Ur=function(e){var t=e.className,a=e.language,i=void 0===a?"no":a,r=e.children,o="locale:"+i,l=Fr();return"object"===typeof r&&(r=r[o]||void 0),n.a.createElement(cr.a,{className:t||l.leadtext,source:r})},Br=function(e){var t=e.sectionType,a=e.sectionLayout,i=e.language,r=void 0===i?"no":i,o=e.title,l=e.leadtext,c=e.bodytext,d=e.links,s=void 0===d?[]:d,u=e.media,m=void 0===u?[]:u,p=e.references,g=void 0===p?[]:p;return"media"===t?n.a.createElement(nr,null,n.a.createElement(or,{component:"h2",language:r},o),n.a.createElement(xr,{layout:a,language:r,media:m}),n.a.createElement(sr,{language:r},c)):"references"===t?n.a.createElement(nr,null,n.a.createElement(or,{component:"h2",language:r},o),n.a.createElement(Ur,{language:r},l),n.a.createElement(wr,{language:r,references:g})):n.a.createElement(nr,null,n.a.createElement(or,{component:"h2",language:r},o),n.a.createElement(xr,{layout:a,language:r,media:m}),n.a.createElement(Ur,{language:r},l),n.a.createElement(wr,{language:r,references:g}),n.a.createElement(sr,{language:r},c),n.a.createElement(qr,{language:r,links:s}))},zr=function(e){var t=e.formData,a=e.formContext,i=a.currentLocale||a.defaultLocale||t.locale,r=t&&t.content,o=r.title,l=r.leadtext,c=r.headerImage,d=r.sections;return n.a.createElement(ar,null,n.a.createElement(Pr,{language:i,title:o,leadtext:l,media:c&&[c]}),n.a.createElement(Dr,null,d&&d.map((function(e,t){return n.a.createElement(Br,Object.assign({},e,{language:i}))}))))};zr.defaultProps={formData:{},formContext:{}};var Hr=zr,Wr=a(555),Mr=Object(at.a)((function(e){return{root:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},format:{position:"relative",width:"100%",paddingBottom:function(e){return e.paddingBottom}}}})),Rr=function(e){var t,a=e.format,i=e.children;if(a){var r=a.split(":"),o=r[0];t=100*(r[1]/o)+"%"}var l=Mr({paddingBottom:t});return t?n.a.createElement("div",{className:l.root},n.a.createElement("div",{className:l.format,"data-format":a},i)):i},Vr=function(e){var t,a=e.index,i=e.referenceId,n=e.reference,r=e.mediaId,o=e.media,l=e.grid,c=e.localeId,s=(e.backgroundColor,e.color,o&&o.imageUrl||i&&n&&n.imageUrl),u=e.runningHead&&e.runningHead[c],m=e.title&&e.title[c]||i&&n&&n.title||"Untitled",p=e.description&&e.description[c];i?t="link":r&&(t="media");var g=l&&l.split(":"),f=g&&g[0]||1,b=g&&g[1]||1,h="root_content_body_links_"+a;return Object(d.a)(Object(d.a)({},e),{},{id:h,itemType:t,imageUrl:s,runningHead:u,title:m,description:p,cols:f,rows:b})},Jr=(Object(at.a)((function(e){return{root:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"},menuList:{display:"flex",alignItems:"center",justifyContent:"center",margin:"0 3.5em"},menuItem:{position:"relative",width:"8em",margin:".5em"},figure:{paddingBottom:"100%",borderRadius:"100%",backgroundColor:"white"},title:{color:"white",textAlign:"center",lineHeight:1.25,height:"2.5em",margin:e.spacing(1)}}})),function(e){var t=e.formData;e.formContext,e.width,e.height;return n.a.createElement("p",null,JSON.stringify(t))}),Gr=Object(at.a)((function(e){return{pageHeader:{position:function(e){return e.position},zIndex:2,height:"6em",padding:"2em 4em",color:"white",display:"flex",alignItems:"center"},pageTitle:{fontSize:"2em"}}})),Kr=function(e){var t=e.title,a=e.position,i=Gr({position:void 0===a?"relative":a});return n.a.createElement("header",{className:i.pageHeader},n.a.createElement(hn.a,{className:i.pageTitle},t))},_r=a(1754),Zr=a(1755),$r=a(150),Yr=Object(at.a)((function(e){return{module:{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:function(e){return e.backgroundColor},color:function(e){return e.color}},media:{position:"absolute",top:0,right:0,bottom:0,left:0},content:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",flexDirection:"column",padding:"0.5em 1em",justifyContent:function(e){return e.justifyContent},alignItems:function(e){return e.alignItems}},runningHead:{fontSize:function(e){return("large"===e.titleSize?"1.25em":"medium"===e.titleSize&&"1em")||"0.875em"},color:function(e){return e.titleColor||e.color},textTransform:"uppercase",lineHeight:1.5},title:{fontSize:function(e){return("large"===e.titleSize?"2em":"medium"===e.titleSize&&"1.5em")||"1.25em"},color:function(e){return e.titleColor||e.color},lineHeight:1.2,"& + $description":{marginTop:e.spacing(1)}},description:{fontSize:"1em",opacity:.8}}})),Xr=function(e){var t=e.imageUrl,a=(e.mediaWidth,e.mediaHeight,e.imageCropdata),i=e.imageFilters,r=e.runningHead,o=e.title,l=e.description,c=(e.skin,e.width,e.height,e.onClick),u=Object(s.a)(e,["imageUrl","mediaWidth","mediaHeight","imageCropdata","imageFilters","runningHead","title","description","skin","width","height","onClick"]),m=function(e){var t=e.placement,a=void 0===t?"top-left":t,i="center",n="center";return a.includes("left")?n="flex-start":a.includes("right")&&(n="flex-end"),a.includes("top")?i="flex-start":a.includes("bottom")&&(i="flex-end"),{justifyContent:i,alignItems:n}}(u),p=m.justifyContent,g=m.alignItems,f=Yr(Object(d.a)(Object(d.a)({},u),{},{justifyContent:p,alignItems:g}));return n.a.createElement(_r.a,{className:f.module,onClick:c},t&&n.a.createElement($r.a,{imageUrl:t,imageFilters:i,imageCropdata:a,objectFit:"cover"}),n.a.createElement(Zr.a,{className:f.content},r&&n.a.createElement(hn.a,{className:f.runningHead,component:"h3"},r),n.a.createElement(hn.a,{className:f.title,component:"h2"},o),l&&n.a.createElement(hn.a,{className:f.description,component:"p"},l)))},Qr=Object(at.a)((function(e){return{root:{position:"absolute",top:0,right:0,bottom:0,left:0},body:{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"5.5em 3.5em 1.5em 3.5em"},grid:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"grid",gridTemplateColumns:function(e){return e.templateCols},gridTemplateRows:function(e){return e.templateRows},gridColumnGap:function(e){return e.colGap},gridRowGap:function(e){return e.rowGap}},gridItem:{gridColumnStart:"auto",gridColumnEnd:function(e){return e.colEnd},gridRowStart:"auto",gridRowEnd:function(e){return e.rowEnd},position:"relative",margin:".5em"}}})),eo=function(e){var t=e.localeId,a=e.items,i=e.cols,r=void 0===i?5:i,o=e.rows,l=void 0===o?3:o,c=e.onCurrentId,u=100/l,m=Qr({templateCols:(100/r+"% ").repeat(r),templateRows:(u+"% ").repeat(l)}),p=function(e){var t=e.id,a=e.cols,i=e.rows,r=(e.index,Object(s.a)(e,["id","cols","rows","index"])),o=Qr({colEnd:"span "+a,rowEnd:"span "+i});return n.a.createElement("div",{className:o.gridItem},n.a.createElement(Xr,Object.assign({},r,{onClick:function(){return c(t)}})))};return n.a.createElement("div",{className:m.grid},a&&a.map((function(e,a){var i=Vr(Object(d.a)(Object(d.a)({},e),{},{index:a,localeId:t}));return n.a.createElement(p,Object.assign({},i,{key:a}))})))},to=function(e){var t=e.formData,a=e.formContext,i=e.width,r=e.height,o=t.content,l=o.title,c=o.links,d=(o.backgroundImage,"locale:"+(a&&a.currentLocale||a&&a.defaultLocale)),s=l&&l[d]||t.title,u=a.onCurrentId,m=Qr();return n.a.createElement("div",{className:m.root},n.a.createElement(Kr,{title:s}),n.a.createElement("div",{className:m.body},n.a.createElement(eo,{localeId:d,items:c,width:i,height:r,onCurrentId:u})))},ao=a(1756),io=Object(at.a)((function(e){return{card:{width:"16em",backgroundColor:function(e){return e.backgroundColor}},cardMedia:{width:"100%",paddingBottom:function(e){return"56.25%"}},cardContent:{display:"flex",flexDirection:"column",padding:"0.5em 1em",justifyContent:function(e){return e.justifyContent},alignItems:function(e){return e.alignItems}},title:{fontSize:"2em",lineHeight:1.2,"& + $description":{marginTop:e.spacing(1)}},description:{fontSize:"1em",opacity:.8}}})),no=function(e){var t=e.imageUrl,a=e.title,i=e.description,r=(e.skin,e.width,e.height,e.onClick),o=Object(s.a)(e,["imageUrl","title","description","skin","width","height","onClick"]),l=function(e){var t=e.placement,a=void 0===t?"top-left":t,i="center",n="center";return a.includes("left")?n="flex-start":a.includes("right")&&(n="flex-end"),a.includes("top")?i="flex-start":a.includes("bottom")&&(i="flex-end"),{justifyContent:i,alignItems:n}}(o),c=l.justifyContent,u=l.alignItems,m=io(Object(d.a)(Object(d.a)({},o),{},{backgroundColor:"white",justifyContent:c,alignItems:u}));return n.a.createElement(_r.a,{className:m.card,onClick:r},t&&n.a.createElement(ao.a,{className:m.cardMedia,alt:a,image:t,title:a}),n.a.createElement(Zr.a,{className:m.cardContent},n.a.createElement(hn.a,{className:m.title,variant:"h6",component:"h2"},a),i&&n.a.createElement(hn.a,{className:m.description,variant:"body2",color:"textSecondary",component:"p"},i)))},ro=Object(at.a)((function(e){return{root:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",flexDirection:"column"},body:{overflowX:"scroll"},timeline:{display:"flex",margin:"0 3.5em"},timelineItem:{position:"relative",margin:".5em"}}})),oo=function(e){var t=e.localeId,a=e.items,i=e.onCurrentId,r=ro(),o=function(e){var t=e.id,a=(e.cols,e.rows,e.index,Object(s.a)(e,["id","cols","rows","index"]));return n.a.createElement("div",{className:r.timelineItem},n.a.createElement(no,Object.assign({},a,{onClick:function(){return i(t)}})))};return n.a.createElement("div",{className:r.timeline},a&&a.map((function(e,a){var i=Vr(Object(d.a)(Object(d.a)({},e),{},{localeId:t,index:a}));return n.a.createElement(o,Object.assign({},i,{key:a}))})))},lo=function(e){var t=e.formData,a=e.formContext,i=e.width,r=e.height,o=t.content,l=o.title,c=o.links,d=(o.backgroundImage,"locale:"+(a&&a.currentLocale||a&&a.defaultLocale)),s=l&&l[d]||t.title,u=a.onCurrentId,m=ro();return n.a.createElement("div",{className:m.root},n.a.createElement(Kr,{title:s}),n.a.createElement("div",{className:m.body},n.a.createElement(oo,{localeId:d,items:c,width:i,height:r,onCurrentId:u})))},co=a(390),so=Object(at.a)((function(e){var t;return{root:{position:"absolute",top:0,right:0,bottom:0,left:0},body:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},marker:{position:"absolute",zIndex:function(e){return e.zIndex},top:function(e){return e.top+"%"||!1},left:function(e){return e.left+"%"||!1}},label:(t={width:function(t){return e.spacing(t.size)},height:function(t){return e.spacing(t.size)},top:"0",left:"0",position:"absolute",display:"block",transform:"translate(-50%, -50%)",backgroundColor:function(e){return e.backgroundColor},color:function(e){return e.color},borderSize:".25em",borderRadius:"50%"},Object(m.a)(t,"display","flex"),Object(m.a)(t,"alignItems","center"),Object(m.a)(t,"justifyContent","center"),Object(m.a)(t,"fontFamily","Akkurat Mono, monspace"),Object(m.a)(t,"fontSize","14px"),t)}})),uo=function(e){var t,a=e.formData,i=void 0===a?{}:a,r=e.formContext,o="locale:"+(r&&r.currentLocale||r&&r.defaultLocale),l=r.onCurrentId,c=i&&i.content&&i.content.title,d=c&&c[o]||i.title,s=so(),u=i.content&&i.content.backgroundImage,m=i.content&&i.content.annotateColor,p=i&&i.content&&i.content.links,g=u&&u.imageFilters,f=u&&u.media&&u.media.imageUrl,b=m&&(t=m,gt()(t).isLight()?"black":"white");if(!f)return n.a.createElement("p",null,"No imageUrl");return n.a.createElement("div",{className:s.root},n.a.createElement(Kr,{title:d,position:"absolute"}),n.a.createElement("div",{className:s.body},n.a.createElement(co.a,Object.assign({},u,{imageUrl:f,imageFilters:g,imageAnnotations:p,markerTemplate:function(e){var t=e.id,a=e.index,i=e.top,r=void 0===i?50:i,o=e.left,c=void 0===o?50:o,d=e.size,s=so({size:void 0===d?4:d,zIndex:a,top:r,left:c,backgroundColor:m,color:b});return n.a.createElement("div",{className:s.marker,onClick:function(){return l(t)}},n.a.createElement("div",{className:s.label},a+1))}}))))},mo=Object(at.a)((function(e){var t;return{root:{position:"absolute",top:0,right:0,bottom:0,left:0},body:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0},line:{position:"absolute",zIndex:function(e){return e.zIndex},top:function(e){return e.top+"%"||!1},right:function(e){return e.left<=50&&100-e.left+"%"||"0"},left:function(e){return e.left>50&&e.left+"%"||"0"},height:"2px",backgroundColor:"white"},module:{position:"absolute",transform:"translateY(-50%)",zIndex:function(e){return e.zIndex},top:function(e){return e.top+"%"||!1},right:function(e){return e.left>50&&"0"},left:function(e){return e.left<=50&&"0"},width:"12em",backgroundColor:"white",color:"black",padding:"1em"},marker:{position:"absolute",zIndex:function(e){return e.zIndex},top:function(e){return e.top+"%"||!1},left:function(e){return e.left+"%"||!1}},border:(t={width:"1.5em",height:"1.5em",backgroundColor:"white",display:"block",transform:"translate(-50%, -50%)"},Object(m.a)(t,"display","flex"),Object(m.a)(t,"alignItems","center"),Object(m.a)(t,"justifyContent","center"),Object(m.a)(t,"borderRadius","50%"),Object(m.a)(t,"padding",".25em"),t),label:{width:"100%",height:"100%",backgroundColor:function(e){return e.color},color:"transparent",borderRadius:"50%"}}})),po={device:Jr,"pageAnnotate/imagemap":uo,"pageAnnotate/legends":function(e){var t=e.formData,a=void 0===t?{}:t,i=e.formContext,r="locale:"+(i&&i.currentLocale||i&&i.defaultLocale),o=i.onCurrentId,l=a&&a.content&&a.content.title,c=l&&l[r]||a.title,u=mo(),m=a.content&&a.content.backgroundImage,p=a.content&&a.content.annotateColor,g=a&&a.content&&a.content.links,f=m&&m.imageFilters,b=m&&m.media&&m.media.imageUrl;if(!b)return n.a.createElement("p",null,"No imageUrl");var h=function(e){var t=e.id,a=e.index,i=e.top,r=void 0===i?50:i,l=e.left,c=void 0===l?50:l,d=e.size,u=void 0===d?4:d,m=e.runningHead,p=e.title,g=e.description,f=(Object(s.a)(e,["id","index","top","left","size","runningHead","title","description"]),mo({size:u,zIndex:a,top:r,left:c}));return n.a.createElement("div",{className:f.module,"data-index":a,onClick:function(){return o(t)}},m&&n.a.createElement("h3",null,m),n.a.createElement("h2",null,p),g&&n.a.createElement("p",null,g))};return n.a.createElement("div",{className:u.root},n.a.createElement(Kr,{title:c,position:"absolute"}),n.a.createElement("div",{className:u.body},n.a.createElement(co.a,{imageUrl:b,imageFilters:f,imageAnnotations:g,overflow:"visible",markerTemplate:function(e){var t=e.id,a=e.index,i=e.top,r=void 0===i?50:i,l=e.left,c=void 0===l?50:l,d=e.size,u=void 0===d?4:d,m=(Object(s.a)(e,["id","index","top","left","size"]),mo({size:u,zIndex:a,top:r,left:c,color:p}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:m.line,"data-index":a}),n.a.createElement("div",{className:m.marker,onClick:function(){return o(t)}},n.a.createElement("div",{className:m.border},n.a.createElement("div",{className:m.label},a+1))))}}),g&&g.map((function(e,t){var a=Vr(Object(d.a)(Object(d.a)({},e),{},{index:t,localeId:r}));return n.a.createElement(h,Object.assign({},a,{key:t}))}))))},pageTimeline:lo,pageList:to,pageGrid:to,pageMedia:to,"pageMedia/gallery":to,"pageMedia/autoplay":to,page:to},go=Object(at.a)((function(e){return{root:{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundImage:function(e){return"url("+e.backgroundImageUrl+")"},backgroundPosition:"50% 50%",backgroundSize:"cover",fontSize:function(e){return e.fontSize}},page:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexDirection:"column",width:"100%",height:"100%"},header:{width:"100%",display:"flex",margin:e.spacing(2)},title:{fontSize:"3em"},body:{flexBasis:"100%",flexGrow:1,width:"100%",position:"relative"},footer:{flexBasis:"15%",width:"100%",margin:e.spacing(2)}}})),fo=function(e){var t,a,i=e.width,r=(e.height,Object(s.a)(e,["width","height"])),o=go({fontSize:i/64+"px"}),l=r.formData,c=l.documentType,d=l.content;"pageAnnotate"===c&&(t=d&&d.annotateLayout),"pageMedia"===c&&(t=d&&d.mediaLayout),a=t?c+"/"+t:c;var u=po&&po[a];return u?n.a.createElement(Rr,{format:"16:9"},n.a.createElement("div",{className:o.root},n.a.createElement(u,r))):n.a.createElement("p",null,"No preview for ",a)};fo.defaultProps={formData:{},formContext:{}};var bo=Object(Wr.a)(fo),ho={device:bo,page:bo,article:Hr},yo=function(e){var t,a=e&&e.formData&&e.formData.documentType;t=a&&a.startsWith("page")?"page":a;var i=ho&&ho[t];return i?n.a.createElement(i,e):n.a.createElement("p",null,"No preview for ",a)},vo={id:1,schemaType:"documents",name:"pageHome",schema:Kn,uiSchema:er,preview:{template:yo}},jo=Gn,Oo=_n,ko=Object(d.a)(Object(d.a)({},Xn),{},{"ui:field":"kpAnnotateArray","ui:title":"Mark\xf8rer","ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData;return{title:(void 0===t?[]:t).length+" mark\xf8rer"}}},items:Object(d.a)(Object(d.a)({},Xn.items),{},{"ui:preview":{select:{badgeContent:"badgeContent",imageUrl:"imageUrl",typeLabel:"typeLabel",title:"title",metadata:"metadata"},prepare:function(e){var t=e.formData,a=e.formContext,i=e.index,n=(t.mediaId,t.media),r=t.referenceId,o=t.reference,l="locale:"+(a.currentLocale||a.defaultLocale),c=t.runningHead&&t.runningHead[l],d=t.title&&t.title[l],s=i+1,u=c&&d&&c+": "+d||d,m=r&&o&&o.title,p=n&&n.imageUrl||o&&o.imageUrl,g=r&&o&&o.documentType,f=[];return r&&o&&o.title&&f.push(o.title),{badgeContent:s,imageUrl:p,typeLabel:g,title:u||m,metadata:f}}}})}),Eo={"ui:field":"pageEditor","ui:preview":Oo,"ui:options":{collapsible:!0},"ui:fieldset":["content","settings"],content:{"ui:field":"kpPage","ui:layout":"pageContent","ui:fieldset":["header","body"],header:{"ui:layout":"section","ui:title":"Tema","ui:preview":{select:{description:"description"},prepare:function(e){var t=e.formData,a=e.formContext,i=t.title,n="locale:"+a.currentLocale;return{description:i&&i[n]}}},"ui:fieldset":["title","leadtext","bodytext"],"ui:options":{expanded:!0,collapsible:!0,spacing:2},title:{"ui:title":"Tittel"},leadtext:{"ui:title":"Ingress","ui:widget":"textarea"},bodytext:{"ui:title":"Br\xf8dtekst","ui:widget":"textarea"}},body:Object(d.a)(Object(d.a)({},Qn),{},{links:ko,"ui:settings":["mapLayout"]})},settings:Zn},Io=(Object(at.a)((function(e){return{page:{backgroundColor:"white",position:"absolute",top:0,right:0,bottom:0,left:0,overflowY:"scroll"}}})),Object(at.a)((function(e){return{media:{margin:e.spacing(2)}}})),Object(at.a)((function(e){return{header:{margin:e.spacing(2)}}})),Object(at.a)((function(e){return{body:{margin:e.spacing(2)}}})),a(427)),xo=a(306),Co=a.n(xo),So=Object(at.a)((function(e){return{link:{position:"absolute",left:-e.spacing(1.5),top:-e.spacing(3)},marker:{}}})),To=function(e){e.title;var t=So();return n.a.createElement("div",{className:t.link},n.a.createElement(Co.a,null))},wo=a(183),No=function(e){var t=e.defaultCenter,a=e.defaultZoom,r=e.KEY,o=e.links,l=void 0===o?[]:o,c=Object(i.useState)(l),u=Object(fa.a)(c,2),m=u[0],p=u[1],g=Object(i.useState)(void 0),f=Object(fa.a)(g,2),b=(f[0],f[1]),h=Object(i.useState)(void 0),y=Object(fa.a)(h,2),v=(y[0],y[1]),j=Object(i.useState)([]),O=Object(fa.a)(j,2),k=(O[0],O[1]),E=Object(i.useState)([]),I=Object(fa.a)(E,2),x=(I[0],I[1],Object(i.useState)(void 0)),C=Object(fa.a)(x,2),S=C[0],T=C[1],w=Object(i.useState)(Object(wo.v4)()),N=Object(fa.a)(w,2),q=N[0],L=N[1],P=Object(i.useRef)(null);Object(i.useEffect)((function(){var e=l&&l[0]&&l[0].lat,t=l&&l[0]&&l[0].lng;T({lat:e,lng:t});var a=[];l&&l.map((function(e){e.lat&&e.lng&&a.push(Object(d.a)(Object(d.a)({},e),{},{lat:e.lat,lng:e.lng}))})),b(a&&a[0]),v(a&&a[a.length-1]);var i=[];a&&a.map((function(e,t){t>0&&t<a.length-1&&i.push({location:e.lat+","+e.lng})})),k(i),p(a),L(Object(wo.v4)())}),[l]),Object(i.useEffect)((function(){console.log("mapRef",P.current)}),[P.current]);return n.a.createElement("div",{style:{height:"100%",width:"100%"}},n.a.createElement(Io.a,{ref:P,key:q,bootstrapURLKeys:{key:r},defaultCenter:t,defaultZoom:a,center:S,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=new e.maps.LatLngBounds;m.map((function(a){var i=a.lat,n=a.lng;i&&n&&t.extend(new e.maps.LatLng(i,n))})),e.map.fitBounds(t)}},m&&m.map((function(e,t){var a=e.lat,i=e.lng,r=Object(s.a)(e,["lat","lng"]);return n.a.createElement(To,Object.assign({lat:a,lng:i,index:t},r))}))))};No.defaultProps={KEY:"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg",defaultCenter:{lat:59.95,lng:30.33},defaultZoom:14};var qo=No,Lo=Object(at.a)((function(e){return{link:{position:"absolute",left:-e.spacing(1.5),top:-e.spacing(3),"& $media":{transition:".125s ease-out",transform:"scale(1)"},"&[aria-expanded=true] $media":{transform:"scale(2)"},"&:hover $media":{transform:"scale(2)"}},label:{position:"absolute",width:e.spacing(2),height:e.spacing(2),margin:e.spacing(0,.5),borderRadius:"100%",backgroundColor:"red",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},media:{position:"absolute",width:e.spacing(3),height:e.spacing(3),margin:e.spacing(-.5,0),borderRadius:"100%",backgroundColor:"red",color:"white",display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover"},image:{}}})),Po=function(e){var t=e.reference,a=e.media,i=e.index,r=Lo(),o=a&&a.imageUrl||t&&t.imageUrl;return n.a.createElement("div",{className:r.link,"aria-expanded":0===i},n.a.createElement("figure",{className:r.media,style:{backgroundImage:"url("+o+")"}}),n.a.createElement("i",{className:r.label},i+1),n.a.createElement(Co.a,null))},Ao=function(e){var t=e.defaultCenter,a=e.defaultZoom,r=e.KEY,o=e.links,l=void 0===o?[]:o,c=Object(i.useState)(l),u=Object(fa.a)(c,2),m=u[0],p=u[1],g=Object(i.useState)(void 0),f=Object(fa.a)(g,2),b=f[0],h=f[1],y=Object(i.useState)(void 0),v=Object(fa.a)(y,2),j=v[0],O=v[1],k=Object(i.useState)([]),E=Object(fa.a)(k,2),I=E[0],x=E[1],C=Object(i.useState)([]),S=Object(fa.a)(C,2),T=S[0],w=S[1],N=Object(i.useState)(void 0),q=Object(fa.a)(N,2),L=q[0],P=q[1],A=Object(i.useState)(Object(wo.v4)()),D=Object(fa.a)(A,2),F=D[0],U=D[1],B=Object(i.useRef)(null);Object(i.useEffect)((function(){var e=l&&l[0]&&l[0].lat,t=l&&l[0]&&l[0].lng;P({lat:e,lng:t});var a=[];l&&l.map((function(e){e.lat&&e.lng&&a.push(Object(d.a)(Object(d.a)({},e),{},{lat:e.lat,lng:e.lng}))})),h(a&&a[0]),O(a&&a[a.length-1]);var i=[];a&&a.map((function(e,t){t>0&&t<a.length-1&&i.push({location:e.lat+","+e.lng})})),x(i),p(a),U(Object(wo.v4)())}),[l]),Object(i.useEffect)((function(){console.log("mapRef",B.current)}),[B.current]);var z=function(e,t){w(t),new e.maps.Polyline({map:e.map,path:t,geodesic:!0,strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:2}).setMap(e.map)};return n.a.createElement("div",{style:{height:"100%",width:"100%"}},n.a.createElement(Io.a,{ref:B,key:F,bootstrapURLKeys:{key:r},defaultCenter:t,defaultZoom:a,center:L,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){!function(e){var t=new e.maps.DirectionsService;console.log("WAYPOINTS",I),t.route({origin:b,waypoints:I,destination:j,travelMode:e.maps.TravelMode.WALKING},(function(t,a){if(a===e.maps.DirectionsStatus.OK){var i=t.routes[0].overview_path,n=i.length&&i||m;z(e,n)}else z(e,m),w("FAIL:"+t)}))}(e);var t=new e.maps.LatLngBounds;m.map((function(a){var i=a.lat,n=a.lng;i&&n&&t.extend(new e.maps.LatLng(i,n))})),e.map.fitBounds(t)}},m&&m.map((function(e,t){var a=e.lat,i=e.lng,r=Object(s.a)(e,["lat","lng"]);return n.a.createElement(Po,Object.assign({lat:a,lng:i,count:t+1,index:t},r))}))),"Debug:",JSON.stringify(T))};Ao.defaultProps={KEY:"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg",defaultCenter:{lat:59.95,lng:30.33},defaultZoom:14};var Do={default:qo,roundtrip:Ao},Fo={id:1,schemaType:"documents",name:"pageMap",schema:jo,uiSchema:Eo,preview:{template:function(e){var t=e.formData,a=e.formContext,r=(Object(s.a)(e,["formData","formContext"]),Object(u.c)()),o=Object(u.d)((function(e){return e.modelsById})),l=t&&t.content&&t.content.links,c=Object(i.useState)([]),m=Object(fa.a)(c,2),p=m[0],g=m[1];Object(i.useEffect)((function(){l&&l.map((function(e){var t=e&&e.referenceId,a=t&&o[t];t&&!a&&r(S({modelName:"documents",uniqueId:t}))}))}),[l]),Object(i.useEffect)((function(){var e=l&&l.map((function(e){var t=e&&e.referenceId,a=t&&o[t],i=a&&a.content&&a.content.location;return Object(d.a)(Object(d.a)(Object(d.a)({},e),i),{},{reference:a})}));g(e)}),[o,l]);a&&a.currentLocale;var f=t&&t.content,b=f&&f.mapLayout,h=b&&Do[b]||qo;return p?n.a.createElement(h,{links:p}):n.a.createElement("p",null,"No links to display")}}},Uo={id:1,schemaType:"documents",name:"pageTopic",schema:Gn,uiSchema:{"ui:field":"pageEditor","ui:collapsible":!0,"ui:preview":_n,"ui:fieldset":["content","settings"],content:{"ui:layout":"pageContent","ui:fieldset":["header","body"],header:{"ui:layout":"section","ui:title":"Tema","ui:preview":{select:{description:"description"},prepare:function(e){var t=e.formData,a=e.formContext,i=t.title,n="locale:"+a.currentLocale;return{description:i&&i[n]}}},"ui:fieldset":["titleImage","content"],"ui:options":{expanded:!0,collapsible:!0,grid:!0,spacing:2},titleImage:{"ui:xs":4,"ui:layout":"media","ui:buttons":[{type:"sidebar",icon:"search",title:"Finn hovedbilde"}],"ui:fieldset":["media"],media:{"ui:title":"Hovedbilde"}},content:{"ui:xs":8,"ui:options":{spacing:2},"ui:fieldset":["title","leadtext","bodytext"],title:{"ui:title":"Tittel"},leadtext:{"ui:title":"Ingress","ui:widget":"textarea"},bodytext:{"ui:title":"Br\xf8dtekst","ui:widget":"textarea"}}},body:Object(d.a)({},Qn)},settings:Zn},preview:{}},Bo=Gn,zo=_n,Ho=Object(d.a)(Object(d.a)({},$n),{},{"ui:title":"Mosaikk"}),Wo=Object(d.a)(Object(d.a)({},Yn),{},{"ui:title":"Bakgrunnsbilde"}),Mo=Object(d.a)(Object(d.a)({},Xn),{},{items:Object(d.a)(Object(d.a)({},Xn.items),{},{"ui:settings":["grid","placement","backgroundColor","color"],content:Object(d.a)(Object(d.a)({},Xn.items.content),{},{linkContent:Object(d.a)(Object(d.a)({},Xn.items.content.linkContent),{},{title:Object(d.a)(Object(d.a)({},Xn.items.content.linkContent.title),{},{"ui:settings":["titleSize","titleColor"]})})})})}),Ro={id:1,schemaType:"documents",name:"pageGrid",schema:Bo,uiSchema:{"ui:field":"pageEditor","ui:preview":zo,"ui:fieldset":["content","settings"],content:{"ui:field":"kpPage","ui:fieldset":["header","media","body"],header:Ho,media:Wo,body:Object(d.a)(Object(d.a)({},Qn),{},{links:Mo})},settings:Zn},formData:a(796),preview:{template:yo}},Vo={id:1,schemaType:"documents",name:"pageList",schema:Gn,uiSchema:{"ui:field":"pageEditor","ui:preview":_n,"ui:fieldset":["content","settings"],content:{"ui:field":"kpPage","ui:fieldset":["header","media","body"],header:Object(d.a)(Object(d.a)({},$n),{},{"ui:title":"Liste"}),media:Object(d.a)(Object(d.a)({},Yn),{},{"ui:title":"Bakgrunnsbilde"}),body:Object(d.a)({},Qn)},settings:Zn},preview:{template:yo}},Jo={id:1,schemaType:"documents",name:"pageTimeline",schema:Gn,uiSchema:{"ui:field":"pageEditor","ui:preview":_n,"ui:fieldset":["content","settings"],content:{"ui:field":"kpPage","ui:fieldset":["header","media","body"],header:Object(d.a)(Object(d.a)({},$n),{},{"ui:title":"Tidslinje"}),media:Object(d.a)(Object(d.a)({},Yn),{},{"ui:title":"Bakgrunnsbilder",media:Object(d.a)(Object(d.a)({},Yn.media),{},{"ui:options":{grid:!0,spacing:2},"ui:fieldset":["backgroundImage","parallaxImage"],backgroundImage:Object(d.a)(Object(d.a)({},Yn.media.backgroundImage),{},{"ui:xs":6}),parallaxImage:Object(d.a)(Object(d.a)({},Yn.media.parallaxImage),{},{"ui:xs":6})})}),body:Object(d.a)({},Qn)},settings:Zn},preview:{template:yo}},Go={id:1,schemaType:"documents",name:"pageAnnotate",schema:Object(d.a)(Object(d.a)({},Gn),{},{properties:Object(d.a)(Object(d.a)({},Gn.properties),{},{content:Object(d.a)(Object(d.a)({},Gn.properties.content),{},{properties:Object(d.a)(Object(d.a)({},Gn.properties.content.properties),{},{backgroundImage:{type:"image",cropdata:!0,annotations:!0,filters:["opacity"]}})})})}),uiSchema:{"ui:field":"pageEditor","ui:preview":_n,"ui:fieldset":["content","settings"],content:{"ui:field":"kpPage","ui:fieldset":["header","body"],header:Object(d.a)(Object(d.a)({},$n),{},{"ui:title":"Bildekart"}),body:{"ui:layout":"section","ui:title":"Markeringer","ui:icon":"label","ui:fieldset":["backgroundImage","links"],"ui:settings":["annotateLayout","annotateColor"],backgroundImage:{"ui:fieldset":["imageAnnotations","imageFilters"],imageAnnotations:{"ui:field":"kpAnnotateImage","ui:title":"Markeringer"},"ui:minHeight":512,"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn bilde"}]},links:Object(d.a)(Object(d.a)({},Xn),{},{"ui:field":"kpAnnotateArray","ui:title":"Mark\xf8rer","ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData;return{title:(void 0===t?[]:t).length+" mark\xf8rer"}}},items:Object(d.a)(Object(d.a)({},Xn.items),{},{"ui:preview":{select:{badgeContent:"badgeContent",imageUrl:"imageUrl",typeLabel:"typeLabel",title:"title",metadata:"metadata"},prepare:function(e){var t=e.formData,a=e.formContext,i=e.index,n=(t.mediaId,t.media),r=t.referenceId,o=t.reference,l="locale:"+(a.currentLocale||a.defaultLocale),c=t.runningHead&&t.runningHead[l],d=t.title&&t.title[l],s=i+1,u=c&&d&&c+": "+d||d,m=r&&o&&o.title,p=n&&n.imageUrl||o&&o.imageUrl,g=r&&o&&o.documentType,f=[];return r&&o&&o.title&&f.push(o.title),{badgeContent:s,imageUrl:p,typeLabel:g,title:u||m,metadata:f}}}})})}},settings:Zn},preview:{template:yo}},Ko={id:1,schemaType:"documents",name:"pageMedia",schema:Gn,uiSchema:{"ui:field":"pageEditor","ui:preview":_n,"ui:fieldset":["content","settings"],content:{"ui:field":"kpPage","ui:fieldset":["header","body"],header:Object(d.a)(Object(d.a)({},$n),{},{"ui:title":"Media"}),body:{"ui:layout":"section","ui:title":"Innhold","ui:icon":"link","ui:fieldset":["links"],"ui:settings":["mediaLayout"],links:Object(d.a)(Object(d.a)({},Xn),{},{"ui:title":"Media","ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData;return{title:(void 0===t?[]:t).length+" media"}}},"ui:dialog":{query:{models:"media",mediaType:["image","video","audio"]}},"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn media"},{type:"upload",title:"Last opp"}],items:Object(d.a)(Object(d.a)({},Xn.items),{},{"ui:preview":{select:{imageUrl:"imageUrl",typeLabel:"typeLabel",title:"title",metadata:"metadata"},prepare:function(e){var t=e.formData,a=e.formContext,i=(e.index,t.mediaId,t.media),n=t.referenceId,r=t.reference,o="locale:"+(a.currentLocale||a.defaultLocale),l=t.runningHead&&t.runningHead[o],c=t.title&&t.title[o],d=l&&c&&l+": "+c||c,s=n&&r&&r.title,u=i&&i.imageUrl||r&&r.imageUrl,m=n&&r&&r.documentType,p=[];return n&&r&&r.title&&p.push(r.title),{imageUrl:u,typeLabel:m,title:d||s,metadata:p}}},link:Object(d.a)(Object(d.a)({},Xn.items.link),{},{linkMedia:Object(d.a)(Object(d.a)({},Xn.items.content.linkMedia),{},{"ui:sidebar":{query:{models:"media",mediaType:["image","video","audio"]}}})})})})}},settings:Zn},preview:{template:yo}},_o={id:1,schemaType:"documents",name:"device",schema:{type:"object",properties:{locale:{type:"string",default:"no"},documentType:{type:"string",default:"device"},id:{type:"string"},title:{type:"string"},content:{type:"object",properties:{deviceId:{type:"number"},deviceTitle:{type:"string"},deviceType:{type:"string",enum:["windows","ipad"],enumNames:["Windows","iPad"]},serialNumber:{type:"string"},placement:{type:"string"},backgroundImage:{type:"image",focalpoint:!0},startPageId:{type:"string",readonly:!0},hasPages:{type:"array",items:{type:"reference",documentType:"page",referenceType:"deviceHasPages",_reverseReferenceType:"pageIsPartOf",_reverseReference:"isPartOf[]",properties:{content:{type:"object",properties:{icon:{type:"string"}}}}}}}}}},uiSchema:{"ui:field":"pageEditor","ui:preview":{select:{imageUrl:"imageUrl",title:"title",description:"description",metadata:"metadata",typeLabel:"typeLabel",icon:"icon"},prepare:function(e){var t=e.formData,a=e.formContext,i=t.documentType,n=t.imageUrl,r=t.title,o=t.content,l=t.description,c=a&&a.defaultLocale,s=a&&a.currentLocale,u=(c||s||t.locale,[]),m=o&&o.backgroundImage,p=o&&o.hasPages,g=o&&o.deviceTitle,f=o&&o.deviceId,b=o&&o.deviceType,h=b&&i+"/"+b||i;m&&m.media&&m.media.imageUrl&&(n=m.media.imageUrl),p&&p.length&&u.push(p.length+" sider"),f&&u.push("#"+f),b&&u.push(b);var y=Object(d.a)(Object(d.a)({},Me),{},{windows:Me.deviceWin,ipad:Me.deviceMac});return{icon:b&&y[b]?y[b]:y.device,imageUrl:n,title:g||r,description:l,metadata:u,typeLabel:h}}},"ui:fieldset":["content"],settings:{"ui:field":"pageSettings","ui:nav":!0,"ui:fieldset":["device"],device:{"ui:layout":"section","ui:fieldset":["content"],content:{"ui:fieldset":["deviceTitle","deviceId"],deviceTitle:{"ui:title":"Intern tittel"},deviceId:{"ui:title":"DeviceId"}}}},content:{"ui:field":"kpDevice","ui:nav":!0,"ui:fieldset":["header","media","hasPages"],header:{"ui:layout":"section","ui:icon":"settings","ui:options":{expanded:!0,spacing:2},"ui:title":"Enhet","ui:preview":{select:{description:"description"},prepare:function(e){var t=e.formData;e.formContext.currentLocale;return{description:t.deviceTitle}}},"ui:fieldset":["deviceTitle","deviceId","deviceType","serialNumber","startPageId"],deviceTitle:{"ui:title":"Intern tittel"},deviceId:{"ui:title":"Id"},deviceType:{"ui:title":"Type enhet"},serialNumber:{"ui:title":"Serienummer"},leadtext:{"ui:title":"Ingress","ui:widget":"textarea"},bodytext:{"ui:title":"Br\xf8dtekst","ui:widget":"textarea"}},media:{"ui:layout":"section","ui:icon":"image","ui:title":"Bakgrunnsbilde","ui:options":{},"ui:fieldset":["backgroundImage"],backgroundImage:{"ui:buttons":[{icon:"search",title:"Finn bakgrunnsbilde",type:"sidebar"}]}},hasPages:{"ui:layout":"section","ui:icon":"menu","ui:title":"Innhold","ui:options":{draggable:!0},"ui:preview":{select:{title:"title"},prepare:function(e){var t=e.formData,a=t&&t.length;return a?{title:a+" sider"}:{title:"Ingen sider"}}},"ui:dialog":{query:{models:"documents",documentType:"page*"}},"ui:buttons":[{type:"sidebar",icon:"search",title:"Finn side"}],items:{"ui:options":{editable:!1},"ui:field":"kpDeviceLink"}}}},preview:{template:yo}},Zo=[].concat(Object(h.a)(Un),[Mn,Jn,vo,Fo,Uo,Ro,Vo,Jo,Go,Ko,_o]),$o={};Zo.map((function(e){var t=e.schemaType,a=e.name;t&&a&&($o[t+"/"+a]=e)}));var Yo=$o,Xo=function(e){e.schema,e.formData,Object(s.a)(e,["schema","formData"]),Object(u.c)();var t=Object(u.d)((function(e){return e.bulk})).count;return n.a.createElement("div",null,"Selected: ",t)},Qo={"ui:options":{spacing:2}},el=function(e){var t=e.schema,a=void 0===t?{}:t,i=e.formData,r=void 0===i?{}:i,o=(Object(s.a)(e,["schema","formData"]),Object(u.c)());return n.a.createElement("div",null,n.a.createElement("div",{style:{position:"absolute",bottom:"100px",left:0,right:0}},n.a.createElement("hr",null),JSON.stringify(a),n.a.createElement("hr",null),JSON.stringify(r)),n.a.createElement(Xo,null),n.a.createElement(ot.a,Object.assign({},In,{noValidate:!0,schema:a,uiSchema:Qo,formData:r,formContext:{},onChange:function(e){var t=e.formData;o(k({formData:t}))},onSubmit:function(e){var t=e.formData;o(function(e){var t=e.modelName,a=void 0===t?"documents":t,i=e.formData;return function(e,t){var n=t(),r=Object.values(n.bulk.bulkById).filter((function(e){return e.selected})),o=n.modelsById,l=p+"/admin/api/"+a;r.map((function(t){var a=t&&t.uniqueId,n=o&&o[a];if(!n)return!1;var r=Object(d.a)({},n);Object.keys(i).map((function(e){i[e]&&(r[e]=i[e]),"null"===i[e]&&(r[e]=null)})),fetch(l,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(r)}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){e(B(t))}))}))}}({formData:t}))}})))},tl=function(e){var t=e.children,a=Object(u.c)(),r=Object(u.d)((function(e){return e.bulk}));return Object(i.useEffect)((function(){var e;r.count?a(le("finder/subview")):a(le("finder")),r.count&&a((e={title:"Subview",description:r.count+" selected"},function(t){t(ge({subview:e}))}))}),[r.count]),n.a.createElement(n.a.Fragment,null,n.a.createElement(rt,Object.assign({},r,{expanded:r.count&&!0}),n.a.createElement(el,r)),t)},al=a(384),il=a(705),nl=Object(at.a)((function(e){return{finder:{position:"absolute",top:0,right:0,bottom:0,left:0},header:{position:"relative",height:e.spacing(8),display:"flex",alignItems:"center",zIndex:1,padding:e.spacing(0,1),"& + *":{marginTop:e.spacing(8),marginRight:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(2)}},body:{position:"absolute",top:0,right:0,bottom:0,left:0,overflowY:"scroll"},path:{flexBasis:0,flexGrow:1,margin:e.spacing(0,1)},view:{margin:e.spacing(1)}}})),rl=function(e){var t=e.parents,a=e.onSelect,i=e.viewOptions,r=e.view,o=e.onView,l=e.children,c=(Object(s.a)(e,["parents","onSelect","viewOptions","view","onView","children"]),nl());return n.a.createElement("div",{className:c.finder},n.a.createElement("header",{className:c.header},t&&n.a.createElement(al.a,{className:c.path,parents:t,onSelect:a}),i&&n.a.createElement(il.a,{className:c.view,options:i,value:r,onChange:o})),n.a.createElement("div",{className:c.body},l))};rl.defaultProps={};var ol=rl,ll=hi.a.getUiPreview,cl=function(e){var t=e.model,a=e.viewable,r=void 0!==a&&a,o=e.linkable,l=void 0===o||o,c=e.selectable,m=void 0===c||c,p=e.editable,g=void 0===p||p,f=e.deletable,b=void 0===f||f,h=e.deleted,y=void 0!==h&&h,v=e.restorable,j=void 0===v||v,O=e.erasable,k=void 0===O||O,E=e.erased,I=void 0!==E&&E,x=e.children,C=Object(s.a)(e,["model","viewable","linkable","selectable","editable","deletable","deleted","restorable","erasable","erased","children"]),T=Object(qi.a)(),w=T.t,A=(T.i18n,t),D=A.modelName,F=(A.id,A.uniqueId),U=(A.source,A.sourceId,Object(u.c)());Object(i.useEffect)((function(){D&&F&&!G[F]&&U(S({modelName:D,uniqueId:F}))}),[F]);var B=C.onClick,z=function(){C.onView&&C.onView()||C.history&&C.history.push(C.location.pathname+"/"+F)},H=function(e){e.stopPropagation(),C.onEdit&&C.onEdit()||C.history&&C.history.push(C.location.pathname+"/"+F+"/edit")},W=function(){C.onLink&&C.onLink()||C.history&&C.history.push(C.location.pathname+"/"+F+"/link")},M=function(){C.onDelete&&C.onDelete()||U(N({modelName:D,uniqueId:F}))},R=function(){C.onRestore&&C.onRestore()||U(q({modelName:D,uniqueId:F}))},V=function(){C.onErase&&C.onErase()||U(L({modelName:D,uniqueId:F}))},J=function(){C.onSelect&&C.onSelect()||U(P({modelName:D,uniqueId:F}))},G=Object(u.d)((function(e){return e.modelsById})),K=G&&G[F]||{},_=Object(u.d)((function(e){return e.bulk.bulkById})),Z=_&&_[F]||{},$=K&&K.documentType||t&&t.documentType,Y=$&&Yo&&Yo["documents/"+$],X=K&&K.mediaType||t&&t.mediaType,Q=X&&Yo&&Yo["media/"+X],ee=K&&K.collectionType||t&&t.collectionType,te=ee&&Yo&&Yo["collections/"+ee],ae=Y||Q||te,ie=ae&&K.uniqueId&&ll(Object(d.a)(Object(d.a)({},ae),{},{formData:K}))||{},ne=t=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},K),Z),t),ie),re=ne.selected,oe=ne.status;re&&(g=!1,b=!1),"trash"===oe&&(y=!0,b=!1),"erased"===oe&&(I=!0,m=!1,g=!1,b=!1);var le=X&&w("mediaType:"+X),ce=$&&w("documentType:"+$),de=ce||le,se=w("status:"+oe),ue=t.deletedByName||t.updatedByName||t.createdByName||"N/A",me=t.deletedAt||t.updatedAt||t.createdAt;t=Object(d.a)(Object(d.a)({},t),{},{modelLabel:de,mediaLabel:le,documentLabel:ce,statusLabel:se,author:ue,datetime:me});var pe=n.a.Children.map(x,(function(e,a){return n.a.isValidElement(e)?n.a.cloneElement(e,Object(d.a)(Object(d.a)({},t),{},{editable:g,onEdit:H,viewable:r,onView:z,linkable:l,onLink:W,selectable:m,selected:re,onSelect:J,deletable:b,deleted:y,onDelete:M,restorable:j,onRestore:R,erasable:k,erased:I,onErase:V,onClick:B},C)):e}));return n.a.createElement(n.a.Fragment,null,pe)},dl=function(e){e.resultsLoaded;var t=Object(s.a)(e,["resultsLoaded"]),a=Object(qi.a)("search"),i=a.t,r=(a.i18n,t.isLoading),o=t.resultsByPage,l=t.count,c=t.page,d=t.pages,u=(t.onPage,t.title||i("{{count}} hits",{count:l})),m=i("{{page}} of {{pages}} pages",{pages:d,page:c}),p=i("Searching, please wait")+"...",g=i("No hits"),f=o&&o[c];return r?n.a.createElement(ui.a,{title:p}):l?n.a.createElement(ui.a,Object.assign({},t,{title:u,description:m}),f&&f.map((function(e,a){return n.a.createElement(cl,Object.assign({},t,{model:e,key:a}),n.a.createElement(Ct.a,null))}))):n.a.createElement(ui.a,{title:g})},sl=a(528),ul=a(424),ml=function(e){e.resultsLoaded;var t=Object(s.a)(e,["resultsLoaded"]),a=Object(qi.a)("search"),i=a.t,r=(a.i18n,t.resultsByPage),o=t.count,l=t.page,c=t.pages,d=(t.onPage,t.title||i("{{count}} hits",{count:o})),u=i("{{page}} of {{pages}} pages",{pages:c,page:l}),m=i("Searching, please wait")+"...",p=i("No hits"),g=r&&r[l];return n.a.createElement(sl.a,Object.assign({},t,{loadingTitle:m,emptyTitle:p,title:d,description:u}),g&&g.map((function(e,a){return n.a.createElement(cl,Object.assign({},t,{model:e}),n.a.createElement(ul.a,Object.assign({},e,{key:a})))})))},pl=a(529),gl=a(425),fl=function(e){e.resultsLoaded;var t=Object(s.a)(e,["resultsLoaded"]),a=Object(qi.a)("search"),i=a.t,r=(a.i18n,t.isLoading),o=t.resultsByPage,l=t.count,c=t.page,d=t.pages,u=(t.onPage,t.title||i("{{count}} hits",{count:l})),m=i("{{page}} of {{pages}} pages",{pages:d,page:c}),p=i("Searching, please wait")+"...",g=i("No hits"),f=o&&o[c];return r?n.a.createElement(pl.a,{title:p}):l?n.a.createElement(pl.a,Object.assign({},t,{title:u,description:m}),f&&f.map((function(e,a){return n.a.createElement(cl,Object.assign({},t,{model:e,key:a}),n.a.createElement(gl.a,null))}))):n.a.createElement(pl.a,{title:g})},bl=a(530),hl=a(532),yl=function(e){e.resultsLoaded;var t=Object(s.a)(e,["resultsLoaded"]),a=Object(qi.a)("search"),i=a.t,r=(a.i18n,t.isLoading),o=t.resultsByPage,l=t.count,c=t.page,d=t.pages,u=(t.onPage,t.title||i("{{count}} hits",{count:l})),m=i("{{page}} of {{pages}} pages",{pages:d,page:c}),p=i("Searching, please wait")+"...",g=i("No hits"),f=o&&o[c];return r?n.a.createElement(bl.a,{title:p}):l?n.a.createElement(bl.a,Object.assign({},t,{title:u,description:m}),f&&f.map((function(e,a){return n.a.createElement(cl,Object.assign({},t,{model:e,key:a}),n.a.createElement(hl.a,null))}))):n.a.createElement(bl.a,{title:g})},vl=a(533),jl=a(535),Ol=function(e){var t=e.resultsLoaded,a=void 0===t?[]:t,i=e.mediaHeight,r=void 0===i?180:i,o=e.mediaLayout,l=void 0===o?"cover":o,c=Object(s.a)(e,["resultsLoaded","mediaHeight","mediaLayout"]),u=Object(qi.a)(["search"]),m=u.t,p=(u.i18n,c.query),g=c.start,f=c.isLoading,b=c.count,y=c.page,v=c.prevPage,j=c.nextPage,O=c.pages,k=c.onPage;a&&v&&(a=[{role:"button",title:m("Page {{page}}",{page:v})+" ...",mediaWidth:r,onClick:function(){return k(v)}}].concat(Object(h.a)(a))),a&&j&&(a=[].concat(Object(h.a)(a),[{role:"button",title:m("Page {{page}}",{page:j})+" ...",mediaWidth:r,onClick:function(){return k(j)}}]));var E=c.title||m("{{count}} hits",{count:b}),I=m("{{page}} of {{pages}} pages",{pages:O,page:y}),x=m("Searching, please wait")+"...",C=m("No hits");if(a.length&&f&&p.start>g)a.pop(),a=[].concat(Object(h.a)(a),[{role:"button",title:m("Loading page {{page}}",{page:j})+" ...",mediaWidth:r}]);else if(a.length&&f)a.shift(),a=[{role:"button",title:m("Loading page {{page}}",{page:v})+" ...",mediaWidth:r}].concat(Object(h.a)(a));else{if(f)return n.a.createElement(vl.a,{title:x});if(!b)return n.a.createElement(vl.a,{title:C})}return n.a.createElement(vl.a,Object.assign({},c,{pages:void 0,padding:0,spacing:2,title:E,description:I}),a&&a.map((function(e,t){var a,i;return e.mediaWidth&&e.mediaHeight?(a=e.mediaWidth,i=e.mediaHeight):e.imageWidth&&e.imageHeight&&(a=e.imageWidth,i=e.imageHeight),e=Object(d.a)(Object(d.a)({},e),{},{width:Math.floor(r*(a/i))||r,mediaHeight:r,mediaLayout:l}),n.a.createElement(cl,Object.assign({},c,{layout:"gallery",model:e,width:e.width,onClick:e&&e.onClick,key:t}),n.a.createElement(jl.a,null))})))},kl=Object(at.a)((function(e){return{module:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",margin:e.spacing(1)},header:{margin:e.spacing(2),flexBasis:0,flexGrow:1,color:"inherit",textAlign:"center"},title:{fontFamily:"Akkurat, sans-serif",fontWeight:"bold",fontSize:24},footer:{display:"flex",overflow:"hidden","& > * + *":{marginLeft:e.spacing(1)}},select:{}}})),El=function(e){var t=e.model,a=(Object(s.a)(e,["model"]),Object(u.c)()),r=t,o=r.modelName,l=r.uniqueId;Object(i.useEffect)((function(){o&&l&&!m[l]&&a(S({modelName:o,uniqueId:l}))}),[l]);var c=kl(),m=Object(u.d)((function(e){return e.modelsById})),p=m&&m[l]||{},g=t=Object(d.a)(Object(d.a)({},t),p),f=g.title,b=g.description,h=g.documentType,y=g.content;return n.a.createElement("div",{className:c.module},n.a.createElement("header",{className:c.header},n.a.createElement(hn.a,{className:c.title,component:"h2"},f),n.a.createElement(hn.a,{className:c.description,component:"h3"},b),n.a.createElement(Jt.a,null,h)),n.a.createElement("div",{className:c.content},JSON.stringify(y)),n.a.createElement("footer",{className:c.footer},"footer"))},Il=function(e){e.layout;var t=e.resultsLoaded,a=(e.onPage,Object(s.a)(e,["layout","resultsLoaded","onPage"]),function(){alert("edit")});return n.a.createElement(ii,null,n.a.createElement(ri,null,t&&t.map((function(e,t){return n.a.createElement(cl,{model:e,onEdit:a},n.a.createElement(di,null))}))),n.a.createElement(ri,null,n.a.createElement(El,{model:{title:"Untitled"}})))};Il.defaultProps={};var xl=Il,Cl=a(130),Sl=a(184),Tl=Object(at.a)((function(e){return{module:{position:"relative",width:function(e){return e.iconWidth+24},minWidth:function(e){return e.iconWidth+24},display:"flex",flexDirection:"column",alignItems:"center",margin:e.spacing(2),"& button":{opacity:0,"&:hover":{opacity:1}},"&:hover":{"& button":{opacity:.5},"& $image, & $icon":{opacity:.25}},"&[aria-selected=true]":{"&:hover":{"& $image, & $icon":{opacity:1}},"& $figure":{boxShadow:"none",outline:"1px solid",outlineColor:e.palette.action.selected},"& button[name=select]":{opacity:1}},"&[data-deleted=true]":{"& button[name=restore]":{opacity:.5,"&:hover":{opacity:1}},"& $image, & $icon":{opacity:.25},"& [data-name=title]":{color:e.palette.text.disabled,textDecoration:"line-through"}},"&[data-erased=true]":{"& $image, & $icon":{opacity:.25},"& [data-name=title]":{color:e.palette.text.disabled,textDecoration:"line-through"}}},toolbar:{position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center","& button":{position:"absolute","&[name=select]":{top:0,left:0,margin:e.spacing(-2)},"&[name=delete],&[name=restore]":{top:0,right:0,margin:e.spacing(-2)},"&[name=view]":{bottom:0,left:0,margin:e.spacing(-2)},"&[name=link]":{bottom:0,right:0,margin:e.spacing(-2)},"&[name=edit]":{},"&:hover":{opacity:1}}},figure:{position:"relative",minWidth:function(e){return e.iconWidth},minHeight:function(e){return e.iconHeight},padding:8,display:"flex",justifyContent:"center",alignItems:"center","& button":{margin:e.spacing(-1)},"&[aria-selected=true]":{backgroundColor:e.palette.selected}},icon:{fontSize:96,"& > svg":{fontSize:"inherit"}},image:{display:"block",width:96},content:{flexGrow:1,maxWidth:"100%",flexDirection:"column",overflow:"hidden",alignItems:"flex-start",justifyContent:"flex-start",margin:e.spacing(1)},header:{display:"flex",flexDirection:"column",alignItems:"center","& > *":{maxWidth:"100%",overflow:"hidden"}},status:{display:"flex",justifyContent:"center",alignItems:"baseline","& > * + *":{marginLeft:e.spacing(.5)}},footer:{width:"100%",maxWidth:"100%",overflow:"hidden",display:"flex",alignItems:"baseline",justifyContent:"flex-start","& * + *":{marginLeft:e.spacing(.5)}},settings:{zIndex:3,display:"flex",flexWrap:"none","& > * + *":{marginLeft:e.spacing(-1)}}}})),wl=function(e){var t,a,i=e.variant,r=void 0===i?"portrait":i,o=e.status,l=e.statusLabel,c=e.documentType,d=e.documentLabel,s=e.selectable,u=e.selected,m=e.onSelect,p=(e.editable,e.onEdit),g=(e.viewable,e.onView,e.linkable,e.onLink,e.deletable,e.deleted),f=(e.onDelete,e.restorable,e.onRestore,e.erasable,e.erased),b=(e.onErase,e.icon),h=e.imageUrl,y=e.untitled,v=e.title,j=(e.description,e.metadata,e.author),O=e.datetime;e.onClick;"landscape"===r?(a=180,t=120):(a=90,t=120);var k=Tl({iconWidth:a,iconHeight:t});return n.a.createElement(Ht.a,{className:k.module,status:o,selected:u,deleted:g,erased:f,onClick:u&&m},n.a.createElement(Cl.a,{className:k.figure,square:!0},!h&&b&&n.a.createElement(jt.a,{className:k.icon},b),h&&n.a.createElement(Sl.a,{className:k.image,imageUrl:h}),u&&n.a.createElement(Zt.a,{selectable:s,selected:u,className:k.toolbar})||n.a.createElement(Zt.a,Object.assign({className:k.toolbar},e))),n.a.createElement("div",{className:k.content},n.a.createElement("header",{className:k.header},n.a.createElement(Mt.a,{untitled:y,title:v,onClick:!u&&p}),n.a.createElement("div",{className:k.status},n.a.createElement(Jt.a,{label:d||c}),n.a.createElement(Rt.a,{statusLabel:l,status:l||o}))),n.a.createElement("footer",{className:k.footer},n.a.createElement(Vt.a,{author:j,datetime:O}))),n.a.createElement(_t.a,Object.assign({},e,{className:k.settings})))};wl.defaultProps={editable:!1,selectable:!1,selected:!1,deletable:!1,restorable:!1};var Nl=wl,ql=Object(at.a)((function(e){return{group:{position:"relative",overflow:"hidden","& + $group":{borderTop:"1px solid",borderColor:e.palette.divider}},header:{position:"sticky",height:e.spacing(8),display:"flex",alignItems:"center",zIndex:1,padding:e.spacing(0,1)},body:{display:"flex",flexWrap:"nowrap",minHeight:250}}})),Ll=function(e){var t=e.view,a=e.title,i=e.resultsLoaded,r=Object(s.a)(e,["view","title","resultsLoaded"]),o=Object(qi.a)("search"),l=o.t,c=(o.i18n,r.isLoading,r.resultsByPage,r.count,r.page,r.pages,r.onPage,l("Searching, please wait"),l("No hits"),ql()),d=t.replace("group/","");return i&&i.length?n.a.createElement("div",{className:c.group},n.a.createElement("header",{className:c.header},n.a.createElement(al.a,{title:a})),n.a.createElement("div",{className:c.body},i&&i.map((function(e,t){return n.a.createElement(cl,Object.assign({},r,{model:e,variant:d,key:t}),n.a.createElement(Nl,null))})))):n.a.createElement("div",{className:c.group},n.a.createElement("header",{className:c.header},n.a.createElement(al.a,{title:a})))},Pl=function(e){var t=e.view,a=void 0===t?"list":t,i=e.template,r=Object(s.a)(e,["view","template"]),o=Object(qi.a)(),l=o.t,c=(o.i18n,{list:dl,table:ml,icons:fl,masonry:yl,gallery:Ol,column:xl,"group/icons":Ll,"group/landscape":Ll,"group/portrait":Ll});Object(u.c)();!i&&c[a]?i=c[a]:i||(i="list");var d=i,m=r.sortOptions&&r.sortOptions.map((function(e){return"string"===typeof e||"number"===typeof e?{label:l("sort:"+e),value:e}:e})),p=r.rowsOptions&&r.rowsOptions.map((function(e){return"string"===typeof e||"number"===typeof e?{label:l("view:{{rows}} rows",{rows:e}),value:e}:e}));if(d)return n.a.createElement(d,Object.assign({},r,{view:a,sortOptions:m,rowsOptions:p}))};Pl.defaultProps={};var Al=Pl,Dl=function(e){var t=e.url,a=e.query,r=void 0===a?{}:a,o=e.sortOptions,l=void 0===o?[]:o,c=e.viewOptions,m=void 0===c?[]:c,p=Object(s.a)(e,["url","query","sortOptions","viewOptions"]),g=Object(u.c)(),f=Object(u.d)((function(e){return e.app})),h=Object(u.d)((function(e){return e.finder})),y=(p.location.pathname,p.location.search&&b.a.parse(p.location.search)),v=[];r.q&&v.push(r.q),y.q&&v.push(y.q),r=Object(d.a)(Object(d.a)({},r),{},{url:t,collectionId:r.collectionId||f&&f.collectionId,siteId:r.siteId||f&&f.siteId,page:y.page||1,rows:y.rows||10,sort:y.sort||r.sort||void 0,fl:r.fl||"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName",q:v&&v.join(" ")||void 0}),Object(i.useEffect)((function(){r.models&&g($e(r))}),[t,r.models,r.q,y.sort,y.rows]);var j=Object(u.d)((function(e){return e.searchByUrl})),O=j&&j[r.url]||{},k=y.view||p.view||m&&m[0]||"list";return n.a.createElement(tl,null,n.a.createElement(ol,Object.assign({},h,y,{onSelect:function(e){var t=e.url;t&&p.history.push(t)},view:k,viewOptions:m,onView:function(e){var t=p.location.search&&b.a.parse(p.location.search),a=p.location.pathname+"?"+b.a.stringify(Object(d.a)(Object(d.a)({},t),{},{view:e}));p.history.replace(a)}}),n.a.createElement(Al,Object.assign({},h,y,p,O,{view:k,onPage:function(e){var t=p.location.search&&b.a.parse(p.location.search),a=p.location.pathname+"?"+b.a.stringify(Object(d.a)(Object(d.a)({},t),{},{page:e}));p.history.replace(a),g($e(Object(d.a)(Object(d.a)({},r),{},{page:e})))},sortOptions:l,onSort:function(e){var t=p.location.search&&b.a.parse(p.location.search),a=p.location.pathname+"?"+b.a.stringify(Object(d.a)(Object(d.a)({},t),{},{sort:e}));p.history.replace(a)},onRows:function(e){var t=p.location.search&&b.a.parse(p.location.search),a=p.location.pathname+"?"+b.a.stringify(Object(d.a)(Object(d.a)({},t),{},{rows:e}));p.history.replace(a)}}))))};Dl.defaultProps={};var Fl=Dl,Ul=(a(1243),a(1244),Object(g.b)({name:"upload",initialState:{},reducers:{requestUpload:function(e,t){var a=t.payload,i=a.id,n=a.requested;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,{requested:n,received:0,count:0,resultsLoaded:[]}))},receiveUpload:function(e,t){var a=t.payload;a.id,a.results;return e},requestUploadModel:function(e,t){var a=t.payload,i=a.id;a.model;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)({},e[i])))},receiveUploadModel:function(e,t){var a=t.payload,i=a.id,n=a.data;return Object(d.a)(Object(d.a)({},e),{},Object(m.a)({},i,Object(d.a)(Object(d.a)({},e[i]),{},{count:e[i].count+1,resultsLoaded:[].concat(Object(h.a)(e[i].resultsLoaded),[n])})))},receiveUploadProgress:function(e,t){var a=t.payload;a.id,a.progress;return e},receiveUploadStatus:function(e,t){var a=t.payload;a.id,a.status;return e}}})),Bl=function(e){var t=e.id,a=e.acceptedFiles,i=void 0===a?[]:a,n=e.uploadData,r=void 0===n?{status:"upload"}:n;return function(e){var a=i.length||0;e(Ml({id:t,requested:a})),i&&i.map((function(a,i){e(zl({id:t,file:a,uploadData:r}))}))}},zl=function(e){var t=e.id,a=e.file,i=e.uploadData,n=void 0===i?{}:i;return function(e){console.log("getUploadMetadata",a);var i=a.name,r=a.type,o=a.size;n=Object(d.a)(Object(d.a)({},n),{},{title:n.title||i,filename:i,mimeType:r,mediaSize:o,content:Object(d.a)(Object(d.a)({},n.content),{},{title:i,filename:i})});var l=p+"/admin/api/media/upload";r.startsWith("image/")?l+="/image":r.startsWith("video/")?l+="/video":r.startsWith("audio/")?l+="/audio":l+="/misc",console.log("url",l);var c=JSON.stringify(n);fetch(l,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:c}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(i){return e(Hl({id:t,file:a,data:i}))}))}},Hl=function(e){var t=e.id,a=e.file,i=e.data;return function(e){i.uniqueId;var n=i.uploadUrl;e(Rl({id:t,data:i}));var r=new FormData;r.append("file",a);var o=new XMLHttpRequest;o.upload.addEventListener("progress",(function(e){return function(e){var t;t=e.lengthComputable?Math.round(100*e.loaded/e.total):100,console.log("PROGRESS",t)}(e)}),!1),o.open("POST",n),o.send(r)}},Wl=Ul.actions,Ml=Wl.requestUpload,Rl=(Wl.requestUploadModel,Wl.receiveUploadModel),Vl=(Wl.receiveUploadStatus,Wl.receiveUploadProgress,Ul.reducer),Jl=a(250),Gl=a(249),Kl=a.n(Gl),_l=Object(at.a)((function(e){var t;return{upload:{position:"sticky",zIndex:2,bottom:0,color:"inherit",minHeight:e.spacing(16),"&[aria-expanded=true]":{top:0,height:"100%","& $dropzone":{margin:0},"& $dropButton":{border:0}},"& + *":{marginTop:e.spacing(8)}},closeButton:{position:"absolute",zIndex:"2",top:"0",right:"0",margin:e.spacing(1)},dropzone:{position:"absolute",top:0,right:0,bottom:0,left:0,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",color:"inherit",margin:e.spacing(2)},dropButton:(t={position:"absolute",top:0,right:0,bottom:0,left:0,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:e.palette.divider,backgroundColor:e.palette.background.default},Object(m.a)(t,"backgroundColor","#eee"),Object(m.a)(t,"color",e.palette.text.secondary),Object(m.a)(t,"&:hover",{cursor:"pointer"}),Object(m.a)(t,"& > *",{margin:e.spacing(.5)}),t),label:{fontFamily:"Akkurat, sans-serif",fontSize:"14px",fontWeight:"normal"}}})),Zl=function(e){e.className;var t,a=e.accept,i=e.multiple,r=e.onUpload,o=e.onCancel,l=e.currentUpload,c=void 0===l?{}:l,d=(e.children,e.expanded),u=void 0!==d&&d,m=(Object(s.a)(e,["className","accept","multiple","onUpload","onCancel","currentUpload","children","expanded"]),Object(qi.a)("dialog")),p=m.t,g=(m.i18n,_l()),f=c.requested,b=c.received;t=u?b>0&&f<b?p("Uploading {{requested}} of {{received}}",{requested:f,received:b})+"...":p("Click or drop files to upload"):p("Upload more");var h=function(e){var t=e.className,a=e.onClick;return n.a.createElement(St.a,{className:t,onClick:a},n.a.createElement(Pa.a,null))};return n.a.createElement("div",{className:g.upload,"aria-expanded":u},n.a.createElement(Jl.a,{multiple:i,accept:a,onDrop:function(e,t){r&&r(e),console.log("acceptedFiles",e),console.log("rejectedFiles",t)}},(function(e){var a=e.getRootProps,i=e.getInputProps;return n.a.createElement("div",Object.assign({className:g.dropzone},a()),n.a.createElement("input",i()),n.a.createElement(Cl.a,{className:g.dropButton,elevation:1,square:!0},n.a.createElement(Kl.a,{className:g.icon}),n.a.createElement(hn.a,{className:g.label},t)))})),u&&n.a.createElement(h,{className:g.closeButton,onClick:o}))};Zl.defaultProps={multiple:!0,accept:"image/*, video/*, audio/*"};var $l=Zl,Yl=function(e){var t=Object(u.c)(),a=Object(u.d)((function(e){return e.app})),i=Object(u.d)((function(e){return e.finder})),r=e.location.pathname,o=(e.location.search&&b.a.parse(e.location.search),Object(u.d)((function(e){return e.uploadByUrl}))),l=o&&o[r]||{};return n.a.createElement(tl,null,n.a.createElement(ol,Object.assign({},i,e),n.a.createElement(Al,Object.assign({},l,e)),n.a.createElement($l,{onUpload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i={collectionId:a.collectionId,status:"upload"};t(Bl({id:r,acceptedFiles:e,uploadData:i}))}})))};Yl.defaultProps={};var Xl=Yl,Ql=a(190),ec=function(e){var t=e.treeRoot,a=e.treeParent,i=e.treeChildren,r=(e.onToggle,e.onSelect),o=e.onDragEnd,l=Object(s.a)(e,["treeRoot","treeParent","treeChildren","onToggle","onSelect","onDragEnd"]),c=Object(u.d)((function(e){return e.modelsById})),m=function(e){var t=e.url;r&&r({url:t})},p=function(e){var a=e.child,i=e.level,r=e.index;a=Object(d.a)(Object(d.a)({},a),{},{draggableId:t+"/"+a.id,droppableId:t+"/"+a.id,url:t+"/"+a.uniqueId});var o=c&&c[a.uniqueId],s=o&&o.children,u=l.location.pathname===a.url;a=Object(d.a)(Object(d.a)({},a),{},{selected:u,collapsible:!0,expanded:u||!0});var p=function(){return!!s&&n.a.createElement(g,{parent:a,children:s,level:i+1})};return n.a.createElement(Ql.b,{index:r,draggableId:a.draggableId,key:a.draggableId},(function(e,t){return n.a.createElement(cl,Object.assign({},l,{model:a,onSelect:function(){return m(a)},onToggle:function(){}}),n.a.createElement(ei,Object.assign({},a,{index:r,draggable:{provided:e,snapshot:t},level:i,renderChildren:p})))}))},g=function(e){var t=e.parent,a=e.children,i=e.index,r=e.level;return n.a.createElement(Ql.c,{isCombineEnabled:!0,index:i,droppableId:t.droppableId,key:t.droppableId},(function(e,t){return n.a.createElement(_a,{droppable:{provided:e,snapshot:t}},a&&a.map((function(e,t){return n.a.createElement(p,{child:e,level:r,index:t,key:t})})))}))};return n.a.createElement(Ga,null,n.a.createElement(Ql.a,{onDragEnd:o},a&&i&&n.a.createElement(g,{parent:a,children:i,index:0,level:1})))};ec.defaultProps={};var tc=ec,ac=function(e){var t=e.treeRoot,a=e.treeParent,r=e.treeParents,o=e.treeChildren,l=(e.onToggle,e.onSelect,e.onEdit,e.onCreate,e.onDragEnd),c=(Object(s.a)(e,["treeRoot","treeParent","treeParents","treeChildren","onToggle","onSelect","onEdit","onCreate","onDragEnd"]),Object(u.d)((function(e){return e.modelsById}))),m=Object(i.useState)([Object(d.a)(Object(d.a)({},a),{},{children:o})]),p=Object(fa.a)(m,2),g=p[0],f=p[1],b=function(e){var i,n=e.url,o=n&&((i=n)===t?null:i.replace(t+"/","")),l=o&&c&&c[o];if(l){var s=l.parents&&l.parents.map((function(e){var a=c&&c[e.uniqueId],i=a&&a.children;return Object(d.a)(Object(d.a)({},e),{},{selected:!0,children:i&&i.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{draggableId:t+"/"+e.id,droppableId:t+"/"+e.id,url:t+"/"+e.uniqueId})})),draggableId:t+"/"+e.id,droppableId:t+"/"+e.id,url:t+"/"+e.uniqueId})}));f([a].concat(Object(h.a)(s),[Object(d.a)(Object(d.a)({},l),{},{draggableId:t+"/"+l.id,droppableId:t+"/"+l.id,url:t+"/"+l.uniqueId})])),console.log("treeParents",r)}else f([a])};Object(i.useEffect)((function(){f([Object(d.a)(Object(d.a)({},a),{},{children:o})])}),[o]);var y=function(e){var a=e.child,i=void 0===a?{}:a,r=e.level,o=e.index;i=Object(d.a)(Object(d.a)({},i),{},{url:t+"/"+i.uniqueId,draggableId:t+"/"+i.id,droppableId:t+"/"+i.id});var l=c&&c[i.uniqueId],s=l&&l.children&&!0;return i=Object(d.a)(Object(d.a)(Object(d.a)({},i),l),{},{collapsible:s}),n.a.createElement(Ql.b,{index:o,draggableId:i.draggableId,key:i.draggableId},(function(e,t){return n.a.createElement(cl,{model:i,onSelect:function(){b(i)}},n.a.createElement(di,Object.assign({},i,{index:o,draggable:{provided:e,snapshot:t},level:r})))}))},v=function(e){var t=e.children,a=e.index,i=e.level,r=Object(s.a)(e,["children","index","level"]);return n.a.createElement(Ql.c,{isCombineEnabled:!0,index:a,droppableId:r.droppableId,key:r.droppableId},(function(e,r){return n.a.createElement(ri,{droppable:{provided:e,snapshot:r},key:a},t&&t.map((function(e,t){return n.a.createElement(y,{child:e,level:i,index:t,key:t})})))}))};return n.a.createElement(Ql.a,{onDragEnd:l},n.a.createElement(ii,null,g&&g.map((function(e,t){return n.a.createElement(v,Object.assign({},e,{index:t,level:t+2,key:t}))}))))};ac.defaultProps={};var ic=ac,nc=function(e){var t=e.url,a=e.query,r=Object(s.a)(e,["url","query"]),o=Object(u.c)(),l=Object(u.d)((function(e){return e.app})),c=Object(u.d)((function(e){return e.finder})),m=c.parent,p=(Object(u.d)((function(e){return e.modelsById})),r.location.search&&b.a.parse(r.location.search)),g=[];a.q&&g.push(a.q),p.q&&g.push(p.q),a=Object(d.a)(Object(d.a)({},a),{},{url:t,collectionId:a.collectionId||l&&l.collectionId,siteId:a.siteId||l&&l.siteId,page:p.page||1,rows:p.rows||10,sort:p.sort||a.sort||void 0,fl:a.fl||"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName",q:g&&g.join(" ")||void 0}),Object(i.useEffect)((function(){a.models&&o($e(a))}),[t,a.models,a.q,p.sort,p.rows]);var f,h=Object(u.d)((function(e){return e.searchByUrl})),y=h&&h[a.url]||{},v=y&&y.resultsLoaded,j=a.url,O=function(e){return e===j?null:e.replace(j+"/","")},k=v&&v.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{draggableId:j+"/"+e.id,droppableId:j+"/"+e.id,url:j+"/"+e.uniqueId})})),E=j&&Object(d.a)(Object(d.a)({},m),{},{children:k,draggableId:j,droppableId:j,url:j}),I=["list","column"],x=p.view||I[0],C={list:tc,column:ic};!f&&C[x]?f=C[x]:f||(f="list");var T=f;return n.a.createElement(ol,Object.assign({},c,{viewOptions:I,view:x,onView:function(e){var t=r.location.search&&b.a.parse(r.location.search),a=r.location.pathname+"?"+b.a.stringify(Object(d.a)(Object(d.a)({},t),{},{view:e}));r.history.replace(a)}}),n.a.createElement(T,Object.assign({},r,y,{treeRoot:j,treeParent:E,treeChildren:k,onToggle:function(e){e.url},onSelect:function(e){var t=e.url;p&&(t=t+"?"+b.a.stringify(p)),t&&r.history.push(t);var a=O(t);a&&S(a)},onCreate:function(e){var t=e.url,a=e.id,i=Number.isInteger(a)&&a||null,n=t&&t+"/new?"+b.a.stringify({documentType:"pageTopic",parentId:i});n&&r.history.push(n)},onDragEnd:function(e){var t,i,n,r=e.draggableId,l=e.source,c=e.destination,d=e.combine;l&&c&&l.droppableId!==c.droppableId?(t=O(r),i=O(c.droppableId),n=O(l.droppableId)):d&&d.draggableId!==l.droppableId&&r!==d.draggableId&&(t=O(r),i=O(d.draggableId),n=O(l.droppableId)),t&&t!==i&&function(e){var t=e.id,i=e.parentId,n=e.sourceId,r=e.destinationId,l={id:t,parentId:i};fetch("https://kompass.dimu.org/admin/api/documents",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(l)}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(e){t&&o(S({id:t})),i&&o(S({id:i}))||o($e(a)),n&&o(S({id:n})),r&&o(S({id:r}))}))}({id:t,parentId:i,sourceId:n})}})))};nc.defaultProps={};var rc={"finder/query":Fl,"finder/tree":nc,tree:nc,treeitem:nc,upload:Xl},oc=function(e){e.location.pathname;var t=Object(u.d)((function(e){return e.finder})).parent,a=Object(u.c)();Object(i.useEffect)((function(){a(le("finder"))}),[]);var r=t&&t.template,o=rc&&rc[r]||Fl;return n.a.createElement(_e,e,n.a.createElement(o,Object.assign({url:t&&t.url,query:t&&t.query,sortOptions:t&&t.sortOptions,view:t&&t.view,viewOptions:t&&t.viewOptions},e)))};oc.defaultProps={};var lc=oc,cc=Object(g.b)({name:"editor",initialState:{isLoading:!0,pathname:void 0,collectionId:void 0,uniqueId:void 0,parents:[],currentId:void 0,schema:{},uiSchema:{},formData:{},formContext:{isLoading:!0,isSaving:void 0},dialog:{}},reducers:{requestEditor:function(e,t){var a=t.payload.pathname;return Object(d.a)(Object(d.a)({},e),{},{pathname:a,isLoading:!0,formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{isLoading:!0})})},receiveEditor:function(e,t){var a=t.payload,i=a.pathname,n=a.uniqueId,r=a.languages;return Object(d.a)(Object(d.a)({},e),{},{pathname:i,uniqueId:n,isLoading:!1,formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{languages:r,isLoading:!1})})},requestParents:function(e,t){return e},receiveParents:function(e,t){var a=t.payload.parents;return Object(d.a)(Object(d.a)({},e),{},{parents:a,formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{parents:a})})},requestChildren:function(e,t){return e},receiveChildren:function(e,t){var a=t.payload.children;return Object(d.a)(Object(d.a)({},e),{},{children:a,formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{children:a})})},requestEdit:function(e,t){return{isLoading:!0,formData:{uniqueId:t.payload.uniqueId}}},receiveEdit:function(e,t){var a=t.payload,i=a.uniqueId,n=Object(s.a)(a,["uniqueId"]);return i?Object(d.a)(Object(d.a)({},e),{},{uniqueId:i,formData:Object(d.a)(Object(d.a)({},n),{},{uniqueId:i})}):Object(d.a)(Object(d.a)({},e),{},{formData:n})},requestSave:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isSaving:!0,formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{isSaving:!0})})},receiveSave:function(e,t){var a=t.payload,i=a.uniqueId,n=Object(s.a)(a,["uniqueId"]);return Object(d.a)(Object(d.a)({},e),{},{isSaving:!1,formData:Object(d.a)(Object(d.a)({},n),{},{uniqueId:i}),formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{isSaving:!1})})},receiveChange:function(e,t){var a=t.payload.formData;return Object(d.a)(Object(d.a)({},e),{},{formData:a})},receiveCurrentId:function(e,t){var a=t.payload.currentId;return Object(d.a)(Object(d.a)({},e),{},{currentId:a,formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{currentId:a})})},receiveCurrentLocale:function(e,t){var a=t.payload.currentLocale;return Object(d.a)(Object(d.a)({},e),{},{currentLocale:a,formContext:Object(d.a)(Object(d.a)({},e.formContext),{},{currentLocale:a})})},requestDialog:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{dialog:{}})},receiveDialog:function(e,t){var a=t.payload,i=a.id,n=a.schema,r=a.uiSchema,o=a.formData,l=a.onChange;return Object(d.a)(Object(d.a)({},e),{},{dialog:{id:i,expanded:!0,schema:n,uiSchema:r,formData:o,onChange:l}})}}}),dc=function(e){var t=e.url,a=e.uniqueId,i=(e.id,e.parentId,e.parents),n=void 0===i?[]:i;return function(e,i){var r=i(),o=r.finder.menuByUrl,l=r.finder.menuById,c=t.split("/");c.pop();var d=c.join("/"),s=o[d]||l[c.length-1];if(s){for(console.log("parents by last child",s);s;)n.push(s),s=s.parentId&&l[s.parentId]||!s.id&&s.parentUrl&&o[s.parentUrl];n=n.reverse()}else{var u,m=[];c.map((function(e){m.push(e),u=m.join("/"),console.log("parents by path",u),o[u]&&n.push(o[u])}))}a&&(n=n.filter((function(e){return e.uniqueId!==a}))),e(fc({parents:n}))}},sc=function(e){var t=e.modelName,a=void 0===t?"documents":t,i=e.uniqueId,n=Object(s.a)(e,["modelName","uniqueId"]);return function(e){var t=p+"/admin/api/"+a+"/"+i;i?(e(vc({uniqueId:i})),fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){e(jc(Object(d.a)(Object(d.a)({},t),{},{modelName:a}))),e(S(Object(d.a)(Object(d.a)({},t),{},{modelName:a})))}))):n&&e(jc(Object(d.a)(Object(d.a)({},n),{},{modelName:a})))}},uc=function(e){var t=e.modelName,a=void 0===t?"documents":t,i=Object(s.a)(e,["modelName"]);return function(e){var t=p+"/admin/api/"+a;e(Oc()),fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(i)}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(t){e(kc(Object(d.a)(Object(d.a)({},t),{},{modelName:a}))),e(S(Object(d.a)(Object(d.a)({},t),{},{modelName:a})))}))}},mc=cc.actions,pc=mc.requestEditor,gc=mc.receiveEditor,fc=(mc.requestParents,mc.receiveParents),bc=(mc.requestChildren,mc.receiveChildren,mc.receiveChange),hc=mc.receiveCurrentId,yc=mc.receiveCurrentLocale,vc=mc.requestEdit,jc=mc.receiveEdit,Oc=mc.requestSave,kc=mc.receiveSave,Ec=(mc.requestDialog,mc.receiveDialog,cc.reducer),Ic=a(78),xc=Object(at.a)((function(e){var t;return{dialog:(t={backgroundColor:e.palette.background.default},Object(m.a)(t,"backgroundColor","#eee"),Object(m.a)(t,"position","absolute"),Object(m.a)(t,"top",0),Object(m.a)(t,"right",0),Object(m.a)(t,"bottom",0),Object(m.a)(t,"left",0),t)}})),Cc=function(e){var t=e.children,a=xc();return n.a.createElement("section",{className:a.dialog},t)},Sc=a(11),Tc=a(1757),wc=a(1758),Nc=Object(at.a)((function(e){return{footer:{position:"absolute",zIndex:2,bottom:0,left:0,right:0,backgroundColor:"inherit","& + *":{marginBottom:e.spacing(8)}},navigation:{backgroundColor:"inherit",width:"100%"}}})),qc=Object(Sc.a)((function(e){return{root:{minHeight:e.spacing(8)}}}))(Tc.a),Lc=Object(Sc.a)((function(e){return{root:{},label:{fontFamily:"Akkurat, sans-serif",fontSize:"12px !important"},selected:{}}}))(wc.a),Pc=function(e){var t=e.menu,a=void 0===t?[]:t,r=e.tabIndex,o=void 0===r?0:r,l=Nc(),c=Object(i.useState)(o),d=Object(fa.a)(c,2),s=d[0],u=d[1];return n.a.createElement(Cl.a,{component:"footer",elevation:4,square:!0,className:l.footer},n.a.createElement(qc,{value:s,onChange:function(e,t){u(t),a[t].onClick&&a[t].onClick()},showLabels:!0,className:l.navigation},a&&a.map((function(e,t){return n.a.createElement(Lc,Object.assign({},e,{key:t}))}))))},Ac=a(96),Dc=a.n(Ac),Fc=a(809),Uc=a.n(Fc),Bc=a(382),zc=a.n(Bc),Hc=Object(at.a)((function(e){return{search:{display:"flex",position:"relative",backgroundColor:"white",color:"black",width:"100%",height:"64px",overflow:"hidden"},input:{backgroundColor:"transparent",flexGrow:1,height:"100%",paddingLeft:e.spacing(8),paddingRight:e.spacing(8),fontFamily:"Akkurat, sans-serif",fontSize:"18px",lineHeight:"1",color:"inherit",border:"none",outline:"none","&:focus + *":{opacity:1}},toggle:{position:"absolute",zIndex:"2",top:"0",left:"0",margin:e.spacing(1),"&[disabled]":{color:e.palette.text.secondary}},reset:{position:"absolute",zIndex:"2",top:"0",right:"0",margin:e.spacing(1)}}})),Wc=function(e){var t=e.className,a=e.onClick;return n.a.createElement(St.a,{className:t,onClick:a},n.a.createElement(Pa.a,null))},Mc=function(e){var t=e.className,a=e.disabled,i=e.onClick;return n.a.createElement(St.a,{disableRipple:!0,className:t,disabled:a,onClick:i},n.a.createElement(Dc.a,null))},Rc=function(e){var t=e.className,a=(e.variant,e.expanded),r=void 0===a||a,o=e.placeholder,l=void 0===o?"Search":o,c=(e.q,e.onFocus,e.onChange),d=e.onToggle,s=e.onClose,u=e.onReset,m=Object(i.useRef)(null),p=Hc();Object(i.useEffect)((function(){r&&m.current.focus()}),[r]);return n.a.createElement("div",{className:t||p.search,"aria-expanded":r},n.a.createElement(Mc,{className:p.toggle,onClick:function(e){d&&d(e)},disabled:!d}),n.a.createElement("input",{ref:m,className:p.input,type:"text",placeholder:l,onChange:function(e){c&&c(e.target.value,e)}}),n.a.createElement(Wc,{className:p.reset,onClick:function(){m.current&&m.current.value?(m.current.value="",u&&u()):s&&s()}}))},Vc=a(1716),Jc=a(1715),Gc=Object(Sc.a)((function(e){return{root:{minHeight:e.spacing(3)},indicator:{bottom:"auto",top:0}}}))(Vc.a),Kc=Object(Sc.a)((function(e){return{root:{textTransform:"none",letterSpacing:0,minWidth:0,minHeight:e.spacing(3),paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:e.spacing(2),color:"inherit","&:hover":{color:"inherit",opacity:1},"&$selected":{opacity:1},"&:focus":{opacity:1}},selected:{}}}))((function(e){return n.a.createElement(Jc.a,Object.assign({disableRipple:!0,label:n.a.createElement(Zc,e)},e))})),_c=Object(at.a)((function(e){return{label:{fontFamily:"Akkurat, sans-serif",fontSize:"14px"},title:{fontWeight:"bold"},count:{color:e.palette.text.secondary,marginLeft:e.spacing(.5)}}})),Zc=function(e){var t=e.title,a=e.count,i=_c();return n.a.createElement(hn.a,{className:i.label},n.a.createElement("b",{className:i.title},t),a&&n.a.createElement("i",{className:i.count},"(",a,")")||"")},$c=function(e){var t=e.tabs,a=void 0===t?[]:t,r=e.tabIndex,o=void 0===r?0:r,l=Object(i.useState)(o),c=Object(fa.a)(l,2),d=c[0],s=c[1];return n.a.createElement(Gc,{value:o||d,onChange:function(e,t){s(t),a[t].onClick&&a[t].onClick()},indicatorColor:"primary",textColor:"inherit"},a&&a.map((function(e,t){return n.a.createElement(Kc,Object.assign({},e,{value:t,key:t}))})))},Yc=Object(at.a)((function(e){return{header:{position:"sticky",zIndex:2,top:0,padding:0,marginLeft:e.spacing(2),marginRight:e.spacing(2),borderTop:"1px solid",borderColor:e.palette.divider},tabs:{},settings:{position:"absolute",top:0,right:0,margin:e.spacing(.75,.5)}}})),Xc=function(e){var t=e.tabs,a=e.tabIndex,i=e.settings,r=Yc();return n.a.createElement("header",{className:r.header},t&&n.a.createElement($c,{className:r.tabs,tabs:t,tabIndex:a}),i&&n.a.createElement(_t.a,{className:r.settings,settings:i}))},Qc=Object(at.a)((function(e){return{section:{position:"absolute",zIndex:1,top:0,right:0,bottom:0,left:0,overflowY:"scroll"}}})),ed=Object(Wr.a)((function(e){var t=e.height,a=e.onScroll,r=e.children,o=Qc(),l=Object(i.useRef)(),c=Ge.a.debounce((function(e){a&&a(e)}),500);return Object(i.useEffect)((function(){l.current&&l.current.offsetHeight,l.current&&l.current.children&&l.current.children[0]&&l.current.children[0].offsetHeight;return l.current.addEventListener("scroll",c),function(){l.current.removeEventListener("scroll",c)}}),[r,t]),n.a.createElement("section",{className:o.section,ref:l},r)})),td=Object(at.a)((function(e){return{loader:{display:"flex",alignItems:"baseline",color:e.palette.text.secondary,margin:e.spacing(2)},title:{fontFamily:"Akkurat, sans-serif",fontSize:"14px",color:e.palette.text.primary}}})),ad=function(e){var t,a=e.query,i=void 0===a?{}:a,r=e.results,o=void 0===r?{}:r,l=e.children,c=Object(qi.a)("search"),d=c.t,s=(c.i18n,td()),u=o.models,m=void 0===u?[]:u,p=o.count,g=o.rows,f=i.q&&i.q.replace("*","");return g&&!p?t=d("No hits"):m.length||(t=d("Searching, please wait",{q:f})+"..."),t?n.a.createElement("div",{className:s.loader},n.a.createElement(hn.a,{className:s.title},t)):l},id=Object(at.a)((function(e){var t;return{footer:{position:"relative",width:"100%",minHeight:e.spacing(16),display:"flex",alignItems:"center",justifyContent:"center"},button:(t={flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{cursor:"pointer"},border:"1px solid",borderColor:e.palette.divider,backgroundColor:e.palette.background.default},Object(m.a)(t,"backgroundColor","#eee"),Object(m.a)(t,"color",e.palette.text.secondary),Object(m.a)(t,"minHeight",e.spacing(12)),Object(m.a)(t,"padding",0),Object(m.a)(t,"margin",e.spacing(2)),Object(m.a)(t,"& > *",{margin:e.spacing(.5)}),t),label:{fontFamily:"Akkurat, sans-serif",fontSize:"14px",fontWeight:"normal"}}})),nd=function(e){var t=e.start,a=e.rows,i=(e.count,e.page,e.pages,e.nextPage),r=e.onPage,o=Object(qi.a)(["search"]),l=o.t,c=(o.i18n,id());if(!i)return!1;var d=t+a+1,s=l("Get results {{from}}\u2013{{to}}",{from:d,to:d+a-1})+" ...";return n.a.createElement("footer",{className:c.footer},n.a.createElement(Cl.a,{elevation:1,square:!0,component:"button",className:c.button,onClick:function(){return r(i)}},n.a.createElement(hn.a,{className:c.label},s)))},rd=a(258),od={table:ul.a,list:Ct.a,gallery:jl.a},ld=function(e){var t=e.app,a=(e.dialog,e.query,e.model),r=e.layout,o=void 0===r?"table":r,l=e.size,c=void 0===l?"medium":l,m=e.modelsSelected,p=void 0===m?[]:m,g=e.onAdd,f=e.onRemove,h=(Object(s.a)(e,["app","dialog","query","model","layout","size","modelsSelected","onAdd","onRemove"]),Object(qi.a)(["dialog"])),y=h.t,v=(h.i18n,Object(u.c)()),j={},O=Object(u.d)((function(e){return e.modelsById})),k={},E=a.uniqueId,I=a.source,x=a.sourceId,C=a.documentType,S=a.mediaType;Object(i.useEffect)((function(){L&&E&&!O[E]&&v(w({modelName:L,uniqueId:E}))}),[E]);var T,N=C&&t&&t.root+"/"+C,q=I&&"document/"+I,L="doc_schemas"===a.modelName?"schemas":a.modelName;"users"===L?T=j.user:"sites"===L?T=j.site:"collections"===L?T=j.collection:"doc_schemas"===L?T=j.schema:"documents"===L||C?j[N]?T=j[N]:I&&j[q]?T=j[q]:C&&(T=j[C]):("media"===L||S)&&(T=S&&j["media/"+S]);var P=Object(i.useState)(a),A=Object(fa.a)(P,2),D=A[0],F=A[1],U=I&&x&&k&&k[I+"/"+x]||E&&O&&O[E];Object(i.useEffect)((function(){var e={};T&&U&&(e=Object(rd.getUiPreview)(Object(d.a)(Object(d.a)({},T),{},{formData:U,formContext:{t:y}})));var t=Object(d.a)(Object(d.a)(Object(d.a)({},U),a),e),i=function(e){var t=e.imageUrl,a=e.uploadStatus,i=e.uploadProgress,n=t&&t.split("?"),r=n&&n[1]&&b.a.parse(n[1]);if(!r)return t;var o=b.a.stringify(Object(d.a)(Object(d.a)({},r),{},{uploadStatus:a,uploadProgress:i,dimension:"250x250"}));return n[0]+"?"+o}(t);F(Object(d.a)(Object(d.a)({},t),{},{imageUrl:i}))}),[U]);var B,z=D.status,H=D.createdAt,W=D.createdByName,M=D.updatedAt,R=D.updatedByName,V=D.deletedAt,J=D.deletedByName||R||W||"N/A",G=V||M||H,K=y("status:"+z||!1),_=o&&od[o];I&&x?B=p&&p.includes(I+"/"+x):E&&(B=p&&p.includes(E));var Z=!!U,$=Z?function(){console.log("ADD/REMOVE",U),B?f&&f(U):g&&g(U)}:void 0;return n.a.createElement(_,Object.assign({},D,{size:c,statusLabel:K,author:J,datetime:G,selectable:Z,selected:B,onClick:$}))},cd=function(e){var t=e.children;return n.a.createElement("div",null,t)},dd=function(e){var t=e.layout,a=void 0===t?"list":t,i=e.query,r=void 0===i?{}:i,o=e.results,l=void 0===o?{}:o,c=e.resultsLoaded,d=void 0===c?[]:c,u=e.selected,m=void 0===u?[]:u,p=e.onPage,g=Object(s.a)(e,["layout","query","results","resultsLoaded","selected","onPage"]);return n.a.createElement(ad,{query:r,results:l},n.a.createElement(cd,{padding:2},d&&d.map((function(e,t){return n.a.createElement(ld,Object.assign({model:e,layout:a,modelsSelected:m},g,{key:t}))}))),n.a.createElement(nd,Object.assign({},l,{onPage:p})))},sd=a(534),ud=(Object(at.a)((function(e){return{root:{display:"flex",alignItems:"baseline",fontFamily:"Akkurat, sans-serif",fontSize:"14px",color:e.palette.text.primary,"& * + *":{marginLeft:e.spacing(.5)},marginLeft:e.spacing(2),marginRight:e.spacing(2),borderTop:"1px solid",borderColor:e.palette.divider,paddingTop:e.spacing(1)},title:{fontFamily:"Akkurat, sans-serif",fontSize:"14px",fontWeight:"bold"},description:{fontFamily:"Akkurat, sans-serif",fontSize:"14px"}}})),function(e){e.layout;var t=e.query,a=void 0===t?{}:t,i=e.results,r=void 0===i?{}:i,o=e.resultsLoaded,l=void 0===o?[]:o,c=e.selected,u=void 0===c?[]:c,m=e.onPage,p=e.mediaHeight,g=void 0===p?120:p,f=e.mediaLayout,b=void 0===f?"cover":f,h=e.spacing,y=void 0===h?1:h,v=e.padding,j=void 0===v?2:v,O=Object(s.a)(e,["layout","query","results","resultsLoaded","selected","onPage","mediaHeight","mediaLayout","spacing","padding"]);return n.a.createElement(ad,{query:a,results:r},n.a.createElement(sd.a,{padding:j,spacing:y},l&&l.map((function(e,t){var a,i;return e.mediaWidth&&e.mediaHeight?(a=e.mediaWidth,i=e.mediaHeight):e.imageWidth&&e.imageHeight&&(a=e.imageWidth,i=e.imageHeight),e=Object(d.a)(Object(d.a)({},e),{},{width:Math.floor(g*(a/i))||g,mediaHeight:g,mediaLayout:b}),n.a.createElement(ld,Object.assign({},O,{layout:"gallery",model:e,modelsSelected:u,width:e.width,key:t}))}))),n.a.createElement(nd,Object.assign({},r,{onPage:m})))}),md=function(e){return e.children},pd=function(e){var t=e.layout,a=void 0===t?"list":t,i=e.query,r=void 0===i?{}:i,o=e.results,l=void 0===o?{}:o,c=Object(s.a)(e,["layout","query","results"]),d=l.uploads,u=l.resultsLoaded,m=l.selected,p=Object(qi.a)("upload"),g=p.t;p.i18n;if(r.q)return n.a.createElement(ad,c,n.a.createElement(md,{padding:2,title:"Searching uploads"},u&&u.map((function(e,t){return n.a.createElement(ld,Object.assign({model:e,layout:a,modelsSelected:m},c,{key:t}))}))),n.a.createElement(nd,c));if(!d.length)return!1;g("{{count}} new uploads today",{count:d.length});return n.a.createElement(md,{padding:2},d&&d.map((function(e,t){return n.a.createElement(ld,Object.assign({},c,{model:e,modelsSelected:m,layout:"list",key:t}))})))},gd=hi.a.getDefaultFormState,fd={list:dd,gallery:ud,uploads:pd},bd=function(e){var t,a=e.schema,r=e.formData,o=e.onChange,l=e.query,c=void 0===l?{}:l,m=e.search,g=void 0===m?{}:m,f=e.layout,b=void 0===f?"list":f,h=Object(s.a)(e,["schema","formData","onChange","query","search","layout"]),y=Object(qi.a)(["dialog"]),v=(y.t,y.i18n,Object(u.c)());t="array"===a.type?a.items:a;var j=Object(i.useState)([]),O=Object(fa.a)(j,2),k=O[0],E=O[1];Object(i.useEffect)((function(){!function(e){var t=("array"===a.type?e||[]:e&&[e]||[]).map((function(e){var t=e.media,a=e.mediaId;return t.source&&t.sourceId?t.source+"/"+t.sourceId:a}));E(t)}(r)}),[r]);var I=function(e){var t=gd(a,e);o(t)},x=function(e){var i,n=gd(t,{mediaId:e.uniqueId,media:e});i="array"===a.type?[].concat(r,n):n,I(i)},C=fd&&fd[b];return C?n.a.createElement(C,Object.assign({},h,g,{selected:k,query:c,onAdd:function(e){var t=e.uniqueId,a=e.sourceId,i=e.mediaType;if(console.log("addModel",e),a){console.log("sourceId",a);var n=Object(d.a)(Object(d.a)({},e),{},{identifier:a,mimeType:i,collectionId:c.collectionId});console.log("source",n),v(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(a){var i=e.collectionId,n=e.sourceId;fetch(p+"/admin/api/media/search?collectionId="+i+"&sourceId="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(i){i.models&&i.models[0]?(a(B(i.models[0])),t&&t(i.models[0])):a(D(e,t))}))}}(Object(d.a)(Object(d.a)({},e),{},{identifier:a,mimeType:i,collectionId:c.collectionId}),(function(e){return x(e)})))}else t&&x(e)},onRemove:function(e){var i,n=e&&e.uniqueId;console.log("remove",e),i="array"===a.type?function(e){var t=e.uniqueId;e.source,e.sourceId;return r.filter((function(e){return e.mediaId!==t}))}({uniqueId:n}):gd(t,{mediaId:void 0,media:{}}),I(i)}})):n.a.createElement("p",null,"No template for ",b)},hd=hi.a.getDefaultFormState,yd={list:dd,gallery:ud},vd=function(e){var t,a=e.schema,r=e.formData,o=e.onChange,l=e.query,c=void 0===l?{}:l,m=e.search,g=void 0===m?{}:m,f=e.layout,b=void 0===f?"list":f,h=Object(s.a)(e,["schema","formData","onChange","query","search","layout"]),y=Object(qi.a)(["dialog"]),v=(y.t,y.i18n,Object(u.c)());t="array"===a.type?a.items:a;var j=Object(i.useState)([]),O=Object(fa.a)(j,2),k=O[0],E=O[1],I=function(e){var t=[];t="array"===a.type?e||[]:e&&[e]||[],console.log("ITEMS",t);var i=t.map((function(e){var t=e.reference,a=(e.referenceId,t&&t.uniqueId);return t.source&&t.sourceId?t.source+"/"+t.sourceId:a}));E(i)};Object(i.useEffect)((function(){I(r)}),[r]);var x=function(e){var t=hd(a,e);console.log("NEW",t),o&&o(t),I(t)},C=function(e){console.log(t);var i,n=hd(t,{referenceId:e.uniqueId,reference:e});i="array"===a.type?r&&r.length&&[].concat(r,n)||[n]:n,x(i)},S=yd&&yd[b];return S?n.a.createElement(S,Object.assign({},h,g,{selected:k,query:c,onAdd:function(e){var t=e.source,a=e.sourceId,i=e.uniqueId;e.mediaType;console.log("addModel",e),a?(console.log("sourceId",a),h.addDocumentSource(Object(d.a)(Object(d.a)({},e),{},{collectionId:c.collectionId}),(function(e){return C(e)}))):t&&i?(delete e.uniqueId,console.log("sourceId",a),v(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(a){var i=e.collectionId,n=e.sourceId;fetch(p+"/admin/api/documents/search?collectionId="+i+"&sourceId="+n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()}),(function(e){return console.log("An error occurred.",e)})).then((function(i){i.models&&i.models[0]?(a(B(i.models[0])),t&&t(i.models[0])):a(A(e,t))}))}}(Object(d.a)(Object(d.a)({},e),{},{sourceId:i,collectionId:c.collectionId}),(function(e){return C(e)})))):i&&C(e)},onRemove:function(e){var i,n=e&&e.uniqueId;console.log("remove",e),i="array"===a.type?function(e){var t=e.uniqueId;return r.filter((function(e){return e.referenceId!==t}))}({uniqueId:n}):hd(t,{referenceId:void 0,reference:{}}),x(i)}})):n.a.createElement("p",null,"No template for ",b)},jd={list:dd,gallery:ud,uploads:pd},Od={default:Object(u.b)((function(e){return{searchByUrl:e.searchByUrl,uploadByUrl:e.uploadByUrl}}),(function(e){return Object(Ic.b)({},e)}))((function(e){var t,a=e.schema,r=e.formData,o=e.onChange,l=e.query,c=void 0===l?{}:l,u=e.results,m=void 0===u?{}:u,p=e.layout,g=void 0===p?"list":p,f=Object(s.a)(e,["schema","formData","onChange","query","results","layout"]),b=Object(qi.a)(["dialog"]);b.t,b.i18n;t="array"===a.type?a.items:a;var h=Object(i.useState)([]),y=Object(fa.a)(h,2),v=y[0],j=y[1],O=function(e){var t=("array"===a.type?e:[e]).map((function(e){return e.uniqueId}));j(t)};Object(i.useEffect)((function(){O(r)}),[r]);var k=function(e){var t=Object(rd.getDefaultFormState)(a,e);o(t),O(t)},E=jd&&jd[g];return E?n.a.createElement(E,Object.assign({},f,{results:Object(d.a)(Object(d.a)({},m),{},{selected:v}),query:c,onAdd:function(e){!function(e){var i,n=Object(rd.getDefaultFormState)(t,{uniqueId:e.uniqueId,model:e});i="array"===a.type?[].concat(r,n):n,k(i)}(e)},onRemove:function(e){var i,n=e&&e.uniqueId;console.log("remove",e),i="array"===a.type?function(e){var t=e.uniqueId;return r.filter((function(e){return e.uniqueId!==t}))}({uniqueId:n}):Object(rd.getDefaultFormState)(t,{uniqueId:void 0}),k(i)}})):n.a.createElement("p",null,"No template for ",g)})),media:bd,youtube:bd,vimeo:bd,sketchfab:bd,documents:vd,ekultur:vd},kd=function(e){var t=e.query,a=void 0===t?{}:t,i=Object(s.a)(e,["query"]),r=a.models&&Od&&Od[a.models]||Od.default;return r?n.a.createElement(r,Object.assign({},i,{query:a})):n.a.createElement("p",null,"No template for ",a.models)},Ed=function(e){var t=e.schema,a=e.formData,r=e.onChange,o=e.onClose,l=e.query,c=void 0===l?{}:l,m=(Object(s.a)(e,["schema","formData","onChange","onClose","query"]),Object(qi.a)(["dialog"])),p=m.t,g=(m.i18n,Object(u.c)()),f=Object(u.d)((function(e){return e.searchByUrl}));console.log("query",c);var b,h=Object(i.useState)(""),y=Object(fa.a)(h,2),v=y[0],j=y[1],O=Ge.a.debounce((function(e,t){j(e)}),500);c.q&&v?b=c.q+" "+v.trim()+"*":v?b=v.trim()+"*":c.q&&(b=c.q);var k=["updatedAt DESC","title"],E=Object(i.useState)(k[0]),I=Object(fa.a)(E,2),x=I[0],C=I[1],S={name:"sort",value:x,onChange:function(e,t){return C(t)},options:k.map((function(e){return{label:p("sort:"+e||!1),value:e}}))};c=Object(d.a)(Object(d.a)({},c),{},{url:"/dialog/search",start:0,rows:20,sort:x,status:"NOT trash",fl:"uniqueId,source,sourceId,documentType,mediaType,imageUrl,title,description,status,mediaWidth,mediaHeight,updatedAt,updatedByName",q:b});var T=["*","AHS","NF"],w=Object(i.useState)(T[0]),N=Object(fa.a)(w,2),q=N[0],L=N[1],P={name:"dmOwner",value:q,onChange:function(e,t){return L(t)},options:T.map((function(e){return{label:"owner:"+e,value:e}}))},A=function(e){return{title:"documents/"+e,layout:"list",settings:[P],query:{models:e,url:c.url+"/"+e+"/"+c.q,owner:q,siteId:c.siteId,collectionId:c.collectionId,rows:c.rows,q:c.q}}},D=[];"media"===c.models?D=function(){var e=[];return Array.isArray(c.mediaType)?e=c.mediaType:c.mediaType?e=[c.mediaType]:"media"===c.models&&(e=["image*","video*","audio*"]),e&&e.map((function(e){return"youtube"===e||"vimeo"==e||"sketchfab"===e?{title:"media/"+(t=e),layout:"gallery",query:{url:c.url+"/"+t+"/"+c.q,models:t,siteId:c.siteId,collectionId:c.collectionId,rows:c.rows,q:c.q}}:function(e){var t=c.url+"/"+e+"/"+c.q;return{title:"media/"+e,layout:e.includes("audio")?"list":"gallery",settings:[S],query:Object(d.a)(Object(d.a)({},c),{},{url:t,mediaType:e})}}(e);var t}))}():"documents"===c.models?D=function(){var e=[];return Array.isArray(c.documentType)?e=c.documentType:c.documentType?e=[c.documentType]:"documents"===c.models&&(e=["*"]),e&&e.map((function(e){return"ekultur"===e?A(e):function(e){return{title:"documents/"+e,layout:"list",settings:[S],query:Object(d.a)(Object(d.a)({},c),{},{url:c.url+"/"+e+"/"+c.q,documentType:e})}}(e)}))}():"ekultur"===c.models?D=[A("ekultur")]:c.models&&(D=[{title:c.models,query:Object(d.a)(Object(d.a)({},c),{},{models:c.models,url:c.url+"/"+c.models+"/"+c.q})}]);var F=Object(i.useState)(0),U=Object(fa.a)(F,2),B=U[0],z=U[1],H=D[B],W=D.map((function(e,t){var a,i=e.title,n=e.query,r=f&&f[n.url],o=r&&r.resultsLoaded;return"uploads"===e.layout?a=e.count:r&&r.count?a=r&&r.count:o&&o.length&&r.nextToken?a=o&&o.length&&o.length+"+":o&&o.length&&(a=o&&o.length&&o.length),{title:p(i),count:a,onClick:function(){return function(e){z(e)}(t)}}}));Object(i.useEffect)((function(){H&&H.query&&g($e(H.query))}),[B,c.q,c.sort,q]);var M=H&&H.query,R=M.url&&f&&f[M.url];Object(i.useEffect)((function(){D.map((function(e,t){var a=e.query;"media"===a.models&&B!==t&&g($e(Object(d.a)(Object(d.a)({},a),{},{rows:0}))),"documents"===a.models&&B!==t&&g($e(Object(d.a)(Object(d.a)({},a),{},{rows:0})))}))}),[c.q]);var V=Object(i.useState)(0),J=Object(fa.a)(V,2),G=J[0],K=J[1],_=Object(i.useState)(0),Z=Object(fa.a)(_,2),$=Z[0],Y=Z[1],X=Object(i.useState)(0),Q=Object(fa.a)(X,2),ee=Q[0],te=Q[1];Object(i.useEffect)((function(){R&&R.count&&function(){var e=Math.ceil(R.count/R.rows),t=Math.ceil((R.start+R.rows)/R.rows);K(e),Y(t);for(var a=0,i=t;i<=e;i++)if(!R.resultsByPage[i]){a=i;break}te(a)}()}),[R]);var ae={placeholder:"Search"};return ae.placeholder||(1===W.length&&"media"===M.models&&M.mediaType?ae.placeholder=p("Search media/"+M.mediaType):1===W.length&&"ekultur"===M.models?ae.placeholder=p("Search ekultur"):"media"===c.models?ae.placeholder=p("Search media"):"documents"===c.models?ae.placeholder=p("Search documents"):ae.placeholder=p("Search models")),n.a.createElement(Cc,null,n.a.createElement(ed,null,n.a.createElement(Rc,Object.assign({},ae,{expanded:!0,onChange:O,onClose:o,onReset:function(){b?(console.log("SearchDialog:reset"),j("")):(console.log("SearchDialog:close"),o&&o())}})),n.a.createElement(Xc,{tabs:W,tabIndex:B,settings:H&&H.settings}),n.a.createElement(kd,{schema:t,formData:a,onChange:r,query:M,layout:H&&H.layout,search:R,results:Object(d.a)(Object(d.a)({},R),{},{pages:G,page:$,nextPage:ee}),onPage:function(e){g($e(Object(d.a)(Object(d.a)({},M),{},{page:e,start:M.rows*(e-1),nextToken:R&&R.nextToken})))}})))},Id=function(e){var t=e.query,a=e.favourites,i=Object(s.a)(e,["query","favourites"]),r=Object(qi.a)(["dialog"]),o=r.t,l=(r.i18n,{placeholder:o("Search favorites")});return t.models&&a[t.models]&&(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?Object(d.a)(Object(d.a)({},t),{},{q:"uniqueId:"+e.join(" OR ")}):Object(d.a)(Object(d.a)({},t),{},{q:"uniqueId:false"})}(a[t.models])),n.a.createElement(Cc,null,n.a.createElement(Ed,Object.assign({query:t,search:l},i)))};Id.defaultProps={favourites:{media:[],documents:[]}};var xd=Object(u.b)((function(e){return{favourites:e.favourites}}),(function(e){return Object(Ic.b)({},e)}))(Id),Cd=Object(at.a)((function(e){var t;return{upload:{position:"sticky",zIndex:2,bottom:0,color:"inherit",minHeight:e.spacing(16),"&[aria-expanded=true]":{top:0,height:"100%","& $dropzone":{margin:0},"& $dropButton":{border:0}},"& + *":{marginTop:e.spacing(8)}},closeButton:{position:"absolute",zIndex:"2",top:"0",right:"0",margin:e.spacing(1)},dropzone:{position:"absolute",top:0,right:0,bottom:0,left:0,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",color:"inherit",margin:e.spacing(2)},dropButton:(t={position:"absolute",top:0,right:0,bottom:0,left:0,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:e.palette.divider,backgroundColor:e.palette.background.default},Object(m.a)(t,"backgroundColor","#eee"),Object(m.a)(t,"color",e.palette.text.secondary),Object(m.a)(t,"&:hover",{cursor:"pointer"}),Object(m.a)(t,"& > *",{margin:e.spacing(.5)}),t),label:{fontFamily:"Akkurat, sans-serif",fontSize:"14px",fontWeight:"normal"}}})),Sd=function(e){e.className;var t,a=e.accept,i=e.multiple,r=e.onUpload,o=e.onCancel,l=e.currentUpload,c=void 0===l?{}:l,d=(e.children,e.expanded),u=void 0!==d&&d,m=(Object(s.a)(e,["className","accept","multiple","onUpload","onCancel","currentUpload","children","expanded"]),Object(qi.a)("dialog")),p=m.t,g=(m.i18n,Cd()),f=c.requested,b=c.received;t=u?b>0&&f<b?p("Uploading {{requested}} of {{received}}",{requested:f,received:b})+"...":p("Click or drop files to upload"):p("Upload more");var h=function(e){var t=e.className,a=e.onClick;return n.a.createElement(St.a,{className:t,onClick:a},n.a.createElement(Pa.a,null))};return n.a.createElement("div",{className:g.upload,"aria-expanded":u},n.a.createElement(Jl.a,{multiple:i,accept:a,onDrop:function(e,t){r&&r(e),console.log("acceptedFiles",e),console.log("rejectedFiles",t)}},(function(e){var a=e.getRootProps,i=e.getInputProps;return n.a.createElement("div",Object.assign({className:g.dropzone},a()),n.a.createElement("input",i()),n.a.createElement(Cl.a,{className:g.dropButton,elevation:1,square:!0},n.a.createElement(Kl.a,{className:g.icon}),n.a.createElement(hn.a,{className:g.label},t)))})),u&&n.a.createElement(h,{className:g.closeButton,onClick:o}))};Sd.defaultProps={multiple:!0,accept:"image/*, video/*, audio/*"};var Td=Sd,wd=function(e){var t=e.schema,a=e.formData,r=e.onChange,o=e.onClose,l=e.query,c=e.upload,m=(Object(s.a)(e,["schema","formData","onChange","onClose","query","upload"]),Object(qi.a)(["dialog"])),p=m.t,g=(m.i18n,Object(u.c)()),f=(Object(u.d)((function(e){return e.searchByUrl})),{}),b=Object(i.useState)(""),h=Object(fa.a)(b,2),y=h[0],v=h[1],j=function(){y?v(""):o&&o()},O={placeholder:p("Search uploads")},k=Object(i.useState)(!1),E=Object(fa.a)(k,2),I=E[0],x=E[1],C=c.id&&f&&f[c.id],S=C&&C.models,T=S&&y&&S.filter((function(e){return!!e.title.includes(y)}))||S,w=p("Search uploads"),N=T&&[{title:p("media"),count:T.length}];return n.a.createElement(Cc,null,n.a.createElement(ed,null,n.a.createElement(Rc,Object.assign({},O,{placeholder:w,expanded:T&&!0,onChange:function(e){v(e)},onReset:j})),n.a.createElement(Xc,{tabs:N}),n.a.createElement(kd,{schema:t,formData:a,onChange:r,query:l,layout:"uploads",results:Object(d.a)(Object(d.a)({},C),{},{uploads:T||[]})}),n.a.createElement(Td,Object.assign({},c,{currentUpload:C,expanded:!C,onUpload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={collectionId:l.collectionId,status:"upload"};g(Bl({id:c.id,session:I,acceptedFiles:e,uploadData:t})),x(!0)},onCancel:j}))))};wd.defaultProps={upload:{id:"/dialog/upload",accept:["image/*"]},query:{}};var Nd=wd,qd=function(e){var t=e.query,a=e.favourites,r=e.uploadByUrl,o=Object(s.a)(e,["query","favourites","uploadByUrl"]),l=Object(qi.a)(["dialog"]),c=l.t,d=(l.i18n,Object(i.useState)("search")),u=Object(fa.a)(d,2),m=u[0],p=u[1],g=[];Array.isArray(t.mediaType)?g=t.mediaType:t.mediaType?g=[t.mediaType]:"media"===t.models&&(g=["image*","video*","audio*"]);var f={id:"/dialog/upload",accept:[]};g&&g.map((function(e){e.includes("image")&&f.accept.push("image/*"),e.includes("video")&&f.accept.push("video/*"),e.includes("audio")&&f.accept.push("audio/*")}));var b=a&&a.media&&a.media.length,h=r&&r[f.id]&&r[f.id].models,y=function(){return n.a.createElement(zt.a,{badgeContent:2,variant:"dot",invisible:!b&&!0,color:"primary"},n.a.createElement(Uc.a,null))},v=function(){return n.a.createElement(zt.a,{badgeContent:2,variant:"dot",invisible:!h&&!0,color:"primary"},h&&n.a.createElement(zc.a,null)||n.a.createElement(Kl.a,null))},j=[{label:c("Search"),icon:n.a.createElement(Dc.a,null),onClick:function(){return p("search")}},{label:c("Favorites"),icon:n.a.createElement(y,null),onClick:function(){return p("favourites")}},{label:c("Upload"),icon:n.a.createElement(v,null),onClick:function(){return p("upload")}}];return n.a.createElement(Cc,null,n.a.createElement(Pc,{menu:j}),"search"===m&&n.a.createElement(Ed,Object.assign({query:t},o)),"favourites"===m&&n.a.createElement(xd,Object.assign({query:t,favourites:a},o)),"upload"===m&&n.a.createElement(Nd,Object.assign({upload:f,query:t},o)))};qd.defaultProps={query:{models:"media",mediaType:"*"}};var Ld=Object(u.b)((function(e){return{favourites:e.favourites,uploadByUrl:e.uploadByUrl}}),(function(e){return Object(Ic.b)({},e)}))(qd),Pd=function(e){var t=e.schema,a=e.formData,i=Object(s.a)(e,["schema","formData"]);return n.a.createElement(Ed,Object.assign({schema:t,formData:a},i))};Pd.defaultProps={query:{models:"documents",documentType:"*"}};var Ad=Pd,Dd=hi.a.getUiOptions,Fd={media:Ld,documents:Ad,search:Ed},Ud=function(e){Object(u.c)();console.log("DIALOG",e);var t=e.schema,a=void 0===t?{}:t,r=e.uiSchema,o=void 0===r?{}:r,l=e.onChange,c=e.onClose,s=Object(i.useState)(e.formData),m=Object(fa.a)(s,2),p=m[0],g=m[1];Object(i.useEffect)((function(){g(e.formData)}),[e.formData]);var f,b=Object(u.d)((function(e){return e.app}));a&&"array"===a.type?f=a.items:a&&(f=a);var h=function(){var e=(o&&Dd(o)).dialog;return e&&e.query?Object(d.a)(Object(d.a)({},e.query),{},{siteId:b.siteId,collectionId:b.collectionId}):f.properties&&f.properties.referenceId?function(e){var t=f&&f.properties&&f.properties.reference,a=t&&t.properties.documentType;return e.documentType="*",a&&a.enum&&(e.documentType=a.enum),a&&a.default&&(e.documentType=a.default),Object(d.a)(Object(d.a)({},e),{},{models:"documents"})}({siteId:b.siteId,collectionId:b.collectionId}):f.properties&&f.properties.mediaId?function(e){var t=f&&f.properties&&f.properties.media,a=t&&t.properties.mediaType;return a&&a.enum&&(e.mediaType=a.enum),a&&a.default&&(e.mediaType=a.default),Object(d.a)(Object(d.a)({},e),{},{models:"media"})}({siteId:b.siteId,collectionId:b.collectionId}):{}}(),y=h.models,v=y&&Fd[y];return v?n.a.createElement(v,{query:h,schema:a,formData:p,onChange:function(e){g(e),l(e)},onClose:function(){console.log("Dialog:onClose"),c&&c()}}):n.a.createElement("div",null,"Missing template for ",JSON.stringify(e),".",n.a.createElement("button",{onClick:c},"Close"))},Bd=function(e){var t=e.expanded;e.schema,e.uiSchema,e.formData,e.formContext,e.onChange,e.onClose;return!!t&&n.a.createElement(Ud,e)},zd=function(e){var t=e.expanded,a=e.schema,i=void 0===a?{}:a,r=(e.uiSchema,e.formData),o=void 0===r?{}:r,l=(e.formContext,e.onChange,e.template,e.onClose),c=e.children;return!!t&&n.a.createElement("div",null,JSON.stringify(i),JSON.stringify(o),c,n.a.createElement("button",{onClick:function(){return l()}},"Close"))},Hd=function(e){var t=e.schema,a=e.uiSchema,r=e.onSubmit,o=Object(s.a)(e,["schema","uiSchema","onSubmit"]),l=Object(qi.a)("schema"),m=l.t,p=(l.i18n,Object(c.f)()),g=Object(i.useRef)(null),f=Object(u.c)();Object(i.useEffect)((function(){f(le("editor"))}),[]);var b=Object(u.d)((function(e){return e.app})),h=(b&&b.languages,Object(u.d)((function(e){return e.finder}))&&b.finder,Object(u.d)((function(e){return e.editor}))),y=h.formData,v=h.formContext.currentId,j=(h.formContext.currentLocale||y.locale,Object(i.useState)({})),O=Object(fa.a)(j,2),k=O[0],E=O[1],I=function(e){var t=e.id,a=e.formData,i=e.schema,n=e.uiSchema,r=e.onChange,o=e.template;console.log("Editor:onOverlay",e),k&&k.id?E({}):E(Object(d.a)(Object(d.a)({},e),{},{id:t,formData:a,schema:i,uiSchema:n,onChange:r,template:o||zd,expanded:!0}))},x=Object(i.useState)({}),C=Object(fa.a)(x,2),S=C[0],T=C[1],w=function(e){var t=e.id,a=e.formData,i=e.schema,n=e.uiSchema,r=e.onChange;console.log("Editor:onDialog",e),S&&S.id?T({}):T({id:t,formData:a,schema:i,uiSchema:n,onChange:r,expanded:!0})},N=function(e){var t=e.formData;r&&r({formData:t}),S&&S.id&&w({})},q=o.location.hash&&o.location.hash.replace("#","")||null;Object(i.useEffect)((function(){f(hc({currentId:q}))}),[q]);var L=function(e){var t=o.location.pathname+"#"+e;p.replace(t)},P=function(e){var t=e.id,a=Object(s.a)(e,["id"]);console.log("onToggle",a);var i=t.split("_");i.pop(),i=i.join("_");var n=void 0;n=t&&v&&v.startsWith(t)?i:t,L(n)},A=function(e){var t=e.id;console.log("onExpand",o),L(t)},D=function(e){var t=e.id;console.log("onCollapse",o),P({id:t})},F=Object(d.a)(Object(d.a)(Object(d.a)({t:m},h.formContext),o.formContext),{},{onLocale:function(e){f(yc({currentLocale:e}))},onToggle:P,onExpand:A,onCollapse:D,onEdit:A,onSave:D,onBack:function(){o.history.goBack()},onSelect:function(e){var t=e.url;o.history.push(t)},onEditReference:function(e){var t=e.id,a=e.referenceId,i=(e.reference,b.root+"/documents/"+a+"/edit");o.history.push({pathname:i,hash:t})},onSubmit:function(e){return N(e)},onDialog:w,sidebar:Object(d.a)(Object(d.a)({},S),{},{onClose:function(){return w({})},template:Bd}),onOverlay:I,overlay:Object(d.a)(Object(d.a)({},k),{},{onClose:function(){return I({})}})});return n.a.createElement(ot.a,Object.assign({},In,{ref:g,schema:t,uiSchema:a,formData:y,formContext:F,onChange:function(e){var t=e.formData;f(bc({formData:t}))},onSubmit:N}))};Hd.defaultProps={schema:{},formData:{},formContext:{}};var Wd=Hd,Md=a(542),Rd=function(e){var t=e.formData,a=void 0===t?{}:t,r=e.schema,o=e.uiSchema,l=e.children,c=Object(s.a)(e,["formData","schema","uiSchema","children"]).location.pathname,d=Object(u.d)((function(e){return e.app})),m=d&&d.languages,p=Object(u.d)((function(e){return e.finder})),g=p&&p.parents,f=Object(u.d)((function(e){return e.editor})),b=f.formData&&f.formData.uniqueId,h=(d.icon,a.title||d&&d.title||"Editor"),y=(f.isLoading?"Loading editor ...":!r&&"Loading schema ...")||!o&&"Loading uiSchema ..."||"Editor loaded",v=f.isLoading||!1,j=n.a.createElement(Md.a,{color:d.theme.palette.primary.main}),O=Object(u.c)();return Object(i.useEffect)((function(){O(function(e){var t=e.pathname,a=e.uniqueId,i=e.schema,n=e.uiSchema;return function(e,r){e(pc({pathname:t}));var o=r().app;e(dc({url:t,uniqueId:a})),i&&n&&e(gc({pathname:t,uniqueId:a,languages:o.languages}))}}({pathname:c,uniqueId:b,schema:r,uiSchema:o,languages:m,parents:g}))}),[c,g,b,r,o]),n.a.createElement(ve.a,{isLoading:v,icon:j,title:h,description:y},l)};Rd.defaultProps={};var Vd=Rd,Jd=a(750),Gd=a(766),Kd=a(733),_d=a(734),Zd=function(e){var t=Object(u.d)((function(e){return e.editor})).formData,a=t.mediaType,r=Yo&&Yo[a&&"media/"+a],o=r&&r.schema,l=r&&r.uiSchema,c=[{title:"JSON",value:"formData",template:function(){return n.a.createElement(Jd.a,null,t)}},{title:"uiSchema",value:"uiSchema",template:function(){return n.a.createElement(Jd.a,null,l)}},{title:"schema",value:"schema",template:function(){return n.a.createElement(Jd.a,null,o)}}];a&&(c=[{template:function(){return n.a.createElement(Gd.a,t)},title:"Preview",value:"preview"}].concat(Object(h.a)(c)));var d=Object(i.useState)(c[0].value),s=Object(fa.a)(d,2),m=s[0],p=s[1],g=c.find((function(e){return e.value===m})),f=g&&g.template;return n.a.createElement(Kd.a,null,f&&n.a.createElement(f,{formData:t}),n.a.createElement(_d.a,{options:c,value:m,onChange:function(e){p(e)}}))};Zd.defaultProps={};var $d=Zd,Yd=hi.a.getUiPreview,Xd=(hi.a.getDefaultFormState,function(e){var t=e.match.params.uniqueId,a=Object(u.c)();Object(i.useEffect)((function(){t&&a(sc({modelName:"media",uniqueId:t}))}),[t]);var r=Object(u.d)((function(e){return e.editor})),o=r.formData,l={isLoading:r&&r.isLoading,isSaving:r&&r.isSaving,onBack:function(){e.history.goBack()},onSelect:function(t){var a=t.url;a&&e.history.push(a)},preview:{template:$d}},c=t&&o&&o.mediaType,s=Yo&&Yo[c&&"media/"+c],m=s&&s.schema,p=s&&s.uiSchema,g=Object(u.d)((function(e){return e.app.collectionId}));return n.a.createElement(Vd,Object.assign({formData:o,schema:m,uiSchema:p},e),n.a.createElement(Wd,Object.assign({},e,{schema:m,uiSchema:p,formData:o,formContext:l,onSubmit:function(e){var t=e.formData,i=Yd({schema:m,uiSchema:p,formData:t});t=Object(d.a)(Object(d.a)(Object(d.a)({},t),i),{},{modelName:"media",collectionId:g,schemaId:1,locale:"no"}),a(uc(t))}})))});Xd.defaultProps={};var Qd=Xd,es=function(e){var t=Object(u.d)((function(e){return e.editor})).formData,a=t.documentType,r=Yo&&Yo[a&&"documents/"+a],o=r&&r.schema,l=r&&r.uiSchema,c=[{title:"JSON",value:"formData",template:function(){return n.a.createElement(Jd.a,null,t)}},{title:"uiSchema",value:"uiSchema",template:function(){return n.a.createElement(Jd.a,null,l)}},{title:"schema",value:"schema",template:function(){return n.a.createElement(Jd.a,null,o)}}];r.preview&&r.preview.template&&(c=[Object(d.a)(Object(d.a)({},r.preview),{},{title:"Preview",value:"preview"})].concat(Object(h.a)(c)));var s=Object(i.useState)(c[0].value),m=Object(fa.a)(s,2),p=m[0],g=m[1],f=c.find((function(e){return e.value===p})),b=f&&f.template;return n.a.createElement(Kd.a,null,n.a.createElement(b,{formData:t}),n.a.createElement(_d.a,{options:c,value:p,onChange:function(e){g(e)}}))};es.defaultProps={};var ts=es,as=hi.a.getUiPreview,is=(hi.a.getDefaultFormState,function(e){var t=e.match.params,a=t.uniqueId,r=(t.documentType,e.location.pathname,e.location.search&&b.a.parse(e.location.search)||{}),o=Object(u.c)(),l=Object(u.d)((function(e){return e.app})),c=Object(u.d)((function(e){return e.editor})).formData;Object(i.useEffect)((function(){r.documentType&&o(sc({collectionId:l.collectionId,schemaId:1,locale:"no",parentId:r.parentId||null,documentType:r.documentType,content:r.content&&JSON.parse(r.content)||{}}))}),[r.documentType]),Object(i.useEffect)((function(){a&&o(sc({uniqueId:a}))}),[a]);var s={preview:{template:ts}},m=c.documentType,p=Yo&&Yo[m&&"documents/"+m],g=p&&p.schema,f=p&&p.uiSchema,h=Object(u.d)((function(e){return e.app.collectionId}));return n.a.createElement(Vd,Object.assign({formData:c,schema:g,uiSchema:f},e),n.a.createElement(Wd,Object.assign({},e,{schema:g,uiSchema:f,formData:c,formContext:s,preview:p&&p.preview,onSubmit:function(t){var i=t.formData,n=as({schema:g,uiSchema:f,formData:i});i=Object(d.a)(Object(d.a)(Object(d.a)({},i),n),{},{locale:i.locale||"no",collectionId:i.collectionId||h,schemaId:1}),o(uc(i)),!a&&i.uniqueId&&function(t){var a=e.match,i=a.path,n=a.params,r=e.location,o=r.hash,l=(r.search,i);for(var c in o&&(l+=o),n){var d=void 0;"uniqueId"===c?d=t:"new"===c||(d=n[c]),l=(l=d?(l=l.replace(":"+c+"*",d)).replace(":"+c,d):(l=l.replace(":"+c+"*","")).replace(":"+c,"")).replace("//","/")}l=l.replace("new",t+"/edit"),e.history.replace(l)}(i.uniqueId)}})))});is.defaultProps={};var ns=is,rs=function(e){var t=Object(u.d)((function(e){return e.editor})),a=t.formData,r=t.formContext,o=a.collectionType,l=Yo&&Yo[o&&"collections/"+o],c=l&&l.schema,s=l&&l.uiSchema,m=[{title:"JSON",value:"formData",template:function(){return n.a.createElement(Jd.a,null,a)}},{title:"formContext",value:"formContext",template:function(){return n.a.createElement(Jd.a,null,r)}},{title:"uiSchema",value:"uiSchema",template:function(){return n.a.createElement(Jd.a,null,s)}},{title:"schema",value:"schema",template:function(){return n.a.createElement(Jd.a,null,c)}}];l.preview&&l.preview.template&&(m=[Object(d.a)(Object(d.a)({},l.preview),{},{title:"Preview",value:"preview"})].concat(Object(h.a)(m)));var p=Object(i.useState)(m[0].value),g=Object(fa.a)(p,2),f=g[0],b=g[1],y=m.find((function(e){return e.value===f})),v=y&&y.template;return n.a.createElement(Kd.a,null,n.a.createElement(v,{formData:a,formContext:r}),n.a.createElement(_d.a,{options:m,value:f,onChange:function(e){b(e)}}))};rs.defaultProps={};var os=rs,ls=hi.a.getUiPreview,cs=(hi.a.getDefaultFormState,function(e){var t=e.match.params.uniqueId,a=e.location.search&&b.a.parse(e.location.search)||{},r=Object(u.c)(),o=(Object(u.d)((function(e){return e.app})),Object(u.d)((function(e){return e.editor}))),l=o.formData;Object(i.useEffect)((function(){a.collectionType&&r(sc({modelName:"collections",collectionType:a.collectionType,defaultLocale:"no",content:a.content&&JSON.parse(a.content)||{}}))}),[a.collectionType]),Object(i.useEffect)((function(){t&&r(sc({modelName:"collections",uniqueId:t}))}),[t]);var c={preview:{template:os}},s=l.collectionType,m=Yo&&Yo[s&&"collections/"+s],p=m&&m.schema,g=m&&m.uiSchema;return Object(i.useEffect)((function(){o.isSaving&&l.uniqueId&&function(t){var a=e.match,i=a.path,n=a.params,r=e.location,o=r.hash,l=(r.search,i);for(var c in o&&(l+=o),n){var d=void 0;"uniqueId"===c?d=t:"new"===c||(d=n[c]),l=(l=d?(l=l.replace(":"+c+"*",d)).replace(":"+c,d):(l=l.replace(":"+c+"*","")).replace(":"+c,"")).replace("//","/")}l=l.replace("new",t+"/edit"),e.history.replace(l)}(l.uniqueId)}),[o.isSaving]),n.a.createElement(Vd,Object.assign({formData:l,schema:p,uiSchema:g},e),n.a.createElement(Wd,Object.assign({},e,{schema:p,uiSchema:g,formData:l,formContext:c,preview:m&&m.preview,onSubmit:function(e){var t=e.formData,a=t&&t.status,i=ls({schema:p,uiSchema:g,formData:t});t=Object(d.a)(Object(d.a)({},t),i),"copy"===a&&(t.name=t.name+" (copy)",t.status="draft",delete t.id,delete t.uniqueId),r(uc(t))}})))});cs.defaultProps={};var ds=cs,ss=function(e){var t=e.match.params.uniqueId,a=e.location.search&&b.a.parse(e.location.search)||{},i=Object(u.d)((function(e){return e.modelsById})),r=t&&i&&i[t];return r&&r.documentType||a.documentType?n.a.createElement(ns,e):r&&r.mediaType?n.a.createElement(Qd,e):r&&r.collectionType||a.collectionType?n.a.createElement(ds,e):n.a.createElement(ns,e)};ss.defaultProps={};var us=ss,ms=function(e){var t=e.location.pathname,a=Object(u.d)((function(e){return e.app})),r=Object(u.d)((function(e){return e.finder})),o=Object(u.d)((function(e){return e.modelsById})),l=Object(u.d)((function(e){return e.searchByUrl})),c=e.match.params.uniqueId;Object(i.useEffect)((function(){c&&p($e({url:t,models:"documents",collectionId:a&&a.collectionId,uniqueId:c,fl:"id,title,uniqueId,parentId"}))}),[c]);var d=o&&o[c]||{},s=d&&d.id,m=d&&d.parentId,p=Object(u.c)();Object(i.useEffect)((function(){p(le("finder"))}),[]);var g={url:t+"/parents",models:"documents",collectionId:a&&a.collectionId,q:"id:"+m,fl:"id,title,uniqueId,parentId"},f={url:t+"/children",models:"documents",collectionId:a&&a.collectionId,parentId:s,fl:"id,title,uniqueId,parentId"};Object(i.useEffect)((function(){m&&p($e(g)),s&&p($e(f))}),[m]);var b=l&&l[g.url]||{},y=b&&b.resultsLoaded&&b.resultsLoaded[0],v=y&&o&&o[y],j=l&&l[f.url]||{};return n.a.createElement(ol,{parents:[].concat(Object(h.a)(r.parents),[d])},v&&n.a.createElement(pl.a,null,n.a.createElement(cl,Object.assign({},e,{model:v}),n.a.createElement(gl.a,null))),n.a.createElement(pl.a,null,n.a.createElement(cl,Object.assign({},e,{model:d}),n.a.createElement(gl.a,null))),n.a.createElement(Al,Object.assign({},e,j,{view:"list",title:"Barn"})))};ms.defaultProps={};var ps=ms,gs=function(e){return n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/:root*/collections/:parents*/:uniqueId/edit",component:ds}),n.a.createElement(c.a,{path:"/:root*/media/:parents*/:uniqueId/edit",component:Qd}),n.a.createElement(c.a,{path:"/:root*/documents/:parents*/:uniqueId/edit",component:ns}),n.a.createElement(c.a,{path:"/:root*/:parents*/new",component:us}),n.a.createElement(c.a,{path:"/:root*/:parents*/:uniqueId/edit",component:us}),n.a.createElement(c.a,{path:"/:root*/:parents*/:uniqueId/view",component:ts}),n.a.createElement(c.a,{path:"/:root*/:parents*/:uniqueId/link",component:ps}),n.a.createElement(c.a,{path:"/:root*/:parents*",component:lc}),n.a.createElement(c.a,{path:"/:root*",component:lc}))},fs=function(e){var t=e.children,a=(Object(s.a)(e,["children"]),Object(u.d)((function(e){return e.app}))),i=a.icon&&Me[a.icon];return n.a.createElement(ve.a,{isLoading:a.isLoading,icon:i,title:a.title||"App",description:a.uniqueId&&"App loaded ..."},t)};fs.defaultProps={};var bs=function(e){var t=e.children,a=Object(s.a)(e,["children"]),r=Object(qi.a)(["search"]),o=r.t,l=(r.i18n,a.location.pathname,a.location.search&&b.a.parse(a.location.search)||{}),c=Object(u.c)(),m=Object(u.d)((function(e){return e.app})),p=m.search,g=p&&p.expanded,f=Object(u.d)((function(e){return e.finder})),y=(f.parents,f.parent),v=Object(i.useState)(l.q),j=Object(fa.a)(v,2),O=j[0],k=j[1],E=Object(i.useState)(l.q),I=Object(fa.a)(E,2),x=I[0],C=I[1];Ge.a.debounce((function(e,t){C(e)}),500);Object(i.useEffect)((function(){x?l.q=x.replace(" ","+"):delete l.q;var e=b.a.stringify(l),t=a.location.pathname+"?"+e,i=a.location.hash,n=i&&t+i||t;a.history&&a.history.replace(n)}),[x]);var S=m.root+"/search",T={url:S,collectionId:m&&m.collectionId,siteId:m&&m.siteId,models:"documents",page:1,rows:100},w=Object(d.a)(Object(d.a)({},T),{},{url:S+"/documents",models:"documents",fl:"uniqueId,title,documentType"}),N=Object(d.a)(Object(d.a)({},T),{},{url:S+"/media",models:"media",fl:"uniqueId,title,mediaType"});Object(i.useEffect)((function(){c($e(w)),c($e(N))}),[]);var q=Object(u.d)((function(e){return e.searchByUrl})),L=q&&q[w.url]||{},P=L&&L.resultsLoaded,A=q&&q[N.url]||{},D=A&&A.resultsLoaded,F=[];P&&(F=Object(h.a)(P)),D&&(F=[].concat(Object(h.a)(F),Object(h.a)(D)));var U=[{icon:"search",placeholder:o("Search everything"),title:o("Search for {{q}} in everything",{q:"[q]"}),url:S,query:Object(d.a)(Object(d.a)({},T),{},{url:S})}];if(y&&y.url&&y.url!==S){var B=Object(d.a)(Object(d.a)({},y.query),{},{collectionId:m&&m.collectionId,siteId:m&&m.siteId,url:y.url});U.push(Object(d.a)(Object(d.a)({},y),{},{query:B,icon:"search",placeholder:o("Everything in {{scope}}",{scope:y.title}),title:o("Search for {{q}} in {{scope}}",{q:"[q]",scope:y.title})}))}var z=U.map((function(e){var t=q&&q[e.query.url]&&q[e.query.url].results&&q[e.query.url].results.count||"-";return Object(d.a)(Object(d.a)({},e),{},{count:t})}));F&&(z=[].concat(Object(h.a)(z),Object(h.a)(F)));var H={open:g,freeSolo:!0,disableClearable:!0,options:z,autoHighlight:!0,disablePortal:!0,inputValue:O,groupBy:function(e){return e.modelName},onChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;console.log("onChange",t),console.log("onChange",i);var n=t.query,r=t.uniqueId,o=t.url,l=o&&n&&o+"?q="+O.replace(" ","+");l?a.history.replace(l):r&&a.history.replace(m.root+"/"+r+"/edit"),c(be())},onInputChange:function(e,t,a){(e&&e.target.value||"")&&k(e.target.value)}},W=Object(d.a)(Object(d.a)({},p),{},{autocompleteProps:H,onReset:function(){return console.log("onReset"),void(O?(k(""),C(""),delete l.q):c(fe()))},onToggle:function(){return k(l.q||""),void c(fe())}}),M=n.a.Children.map(t,(function(e,t){return n.a.isValidElement(e)?n.a.cloneElement(e,Object(d.a)({search:W},a)):e}));return n.a.createElement(n.a.Fragment,null,M)},hs=a(1759),ys=a(242),vs={MuiInputBase:{root:{fontFamily:"Akkurat, sans-serif",lineHeight:"1.25"}},MuiFilledInput:{root:{borderTopLeftRadius:"0",borderTopRightRadius:"0"}},MuiFormLabel:{root:{}},MuiFormHelperText:{root:{}},MuiButtonGroup:{grouped:{}},MuiButton:{root:{fontFamily:"Akkurat, sans-serif",fontWeight:"bold",textTransform:"none",borderRadius:1},outlined:{}}},js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#666";return gt()(e).hex()},Os=function(e){var t=e.primaryColor,a=e.secondaryColor;return{primary:{main:js(t)},secondary:{main:js(a||t)}}},ks=function(e){var t=e.palette,a=Object(s.a)(e,["palette"]);return Object(ys.a)({typography:{fontFamily:"Akkurat, sans-serif !important"},palette:t||Os(a),overrides:vs})},Es=Object(at.a)((function(e){return{root:{position:"absolute",backgroundColor:e.palette.background.default,zIndex:1,top:0,right:0,left:0,bottom:0,overflow:"hidden"}}})),Is=function(e){var t=e.className,a=e.theme,i=e.children,r=Es();return n.a.createElement(hs.a,{theme:ks(a)},n.a.createElement("main",{className:t||r.root},i))};Is.defaultProps={theme:{primaryColor:"blue"}};var xs=Is,Cs=Object(at.a)((function(e){return{body:{position:"relative",transition:".125s ease-out"}}})),Ss=function(e){var t=e.className,a=e.expanded,i=void 0!==a&&a,r=e.children,o=Cs();return n.a.createElement("div",{className:t||o.body,"aria-expanded":i},r)},Ts=Object(at.a)((function(e){return{buttongroup:{display:"flex","& > * + *":{marginLeft:e.spacing(1)}}}})),ws=function(e){var t=e.className,a=e.color,i=void 0===a?"primary":a,r=e.variant,o=void 0===r?"contained":r,l=e.children,c=Ts();return n.a.createElement("div",{color:i,variant:o,className:t||c.buttongroup},l)},Ns=Object(at.a)((function(e){return{root:{fontFamily:"Akkurat, sans-serif",fontWeight:"bold",textTransform:"none",borderRadius:1},icon:{marginRight:e.spacing(1),marginLeft:e.spacing(-.5)},toggle:{borderRadius:0,width:e.spacing(5)}}})),qs=function(e){var t,a=e.className,i=e.forwardedRef,r=e.icon,o=(e.role,e.size),l=void 0===o?"large":o,c=e.variant,d=void 0===c?"contained":c,u=e.color,p=void 0===u?"primary":u,g=e.disabled,f=e.expanded,b=e.controls,h=(e.children,e.onClick),y=e.onToggle,v=Object(s.a)(e,["className","forwardedRef","icon","role","size","variant","color","disabled","expanded","controls","children","onClick","onToggle"]),j=v.label,O=v.title,k=Ns();return h&&y?n.a.createElement(yt.a,{"aria-label":"action",color:p,ref:i},n.a.createElement(vt.a,{size:l,variant:d,className:a||k.root,disabled:g,onClick:h},r&&n.a.createElement(jt.a,{className:k.icon},r),j||O),n.a.createElement(vt.a,(t={size:l,variant:d,disabled:g,className:k.toggle},Object(m.a)(t,"size","small"),Object(m.a)(t,"aria-controls",f?b:void 0),Object(m.a)(t,"aria-expanded",f?"true":void 0),Object(m.a)(t,"aria-label","options"),Object(m.a)(t,"aria-haspopup","menu"),Object(m.a)(t,"onClick",y),t),n.a.createElement($a.a,null))):y?n.a.createElement(vt.a,{size:l,variant:d,color:p,className:a||k.root,disabled:g,onClick:y,ref:i},r&&n.a.createElement(jt.a,{className:k.icon},r),j||O,n.a.createElement($a.a,null)):n.a.createElement(vt.a,{size:l,variant:d,color:p,className:a||k.root,disabled:g,onClick:h},r&&n.a.createElement(jt.a,{className:k.icon},r),j||O)},Ls=a(1714),Ps=a(1712),As=Object(at.a)((function(e){return{dropdown:{minWidth:function(e){return e.minWidth}}}})),Ds=function(e){var t=e.className,a=e.minWidth,i=void 0===a?192:a,r=e.open,o=e.anchorEl,l=e.placement,c=void 0===l?"bottom-start":l,d=e.onClickAway,s=e.children,u=As({minWidth:i});return n.a.createElement(Ps.a,{open:r,style:{zIndex:2e3},role:void 0,transition:!0,anchorEl:o,placement:c},n.a.createElement(Ls.a,{onClickAway:d},n.a.createElement(Cl.a,{className:t||u.dropdown,elevation:16,square:!0},s)))},Fs=a(1752),Us=Object(at.a)((function(e){return{actionList:{width:"100%",paddingTop:e.spacing(1.5),paddingBottom:e.spacing(1.5),"& $root":{paddingTop:0,paddingBottom:0}}}})),Bs=function(e){var t=e.className,a=e.children,i=Us();return n.a.createElement(Fs.a,{className:t||i.actionList},a)},zs=a(410),Hs=Object(at.a)((function(e){return{actionListItem:{width:"100%",padding:0,"&[role=group] + *":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5)},"& + &[role=group]":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5),"& + *":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5)}}}}})),Ws=function(e){var t=e.className,a=e.role,i=e.children,r=Hs();return n.a.createElement(zs.a,{className:t||r.actionListItem,role:a},i)},Ms=a(670),Rs=a(511),Vs=a(512),Js=Object(at.a)((function(e){return{actionLink:{width:"100%",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),"& .MuiTypography-root":{fontFamily:"Akkurat, sans-serif"},"&[role=group] + *":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5)},"& + &[role=group]":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5),"& + *":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5)}}},icon:{color:"rgba(0,0,0,.54)"},text:{fontFamily:"Akkurat, sans-serif !important",fontSize:"inherit","& strong":{fontWeight:"bold"}}}})),Gs=function(e){var t=e.className,a=e.icon,i=e.label,r=e.title,o=e.description,l=e.onClick,c=Js();return!i&&r&&(i=r),i?n.a.createElement(Ms.a,{className:t||c.actionLink,onClick:l},a&&n.a.createElement(Rs.a,null,n.a.createElement(jt.a,{className:c.icon},a)),n.a.createElement(Vs.a,{className:c.text,primary:i,secondary:o})):null},Ks=function(e){var t=e.className,a=e.icons,i=void 0===a?{}:a,r=e.menu,o=void 0===r?[]:r,l=e.menuByUrl,c=e.onSelect,s=e.onToggle,u=function(e,t){s&&s(e)},m=function(e){var t=e.selected,a=e.url,i=e.icon,r=e.title,o=e.label,l=e.count;e.onClick;return n.a.createElement(Gs,{selected:t,url:a,icon:i,label:o||r,count:l,onClick:function(){return function(e){c&&c(e)}(e)}})};return!(!o||!o.length)&&n.a.createElement("nav",{className:t},n.a.createElement(Bs,{role:"tree"},o.map((function e(t,a){t.url&&l&&l[t.url]&&(t=Object(d.a)(Object(d.a)({},l[t.url]),t)),t.icon&&i[t.icon]&&(t=Object(d.a)(Object(d.a)({},t),{},{icon:i[t.icon]}));var r=t,o=r.role,c=r.children,s=r.hidden,p=r.selected;return s?n.a.createElement(Ws,{key:a,role:o},n.a.createElement(Bs,{role:o},c&&c.map(e))):c?n.a.createElement(Ws,{key:a,role:o||"treeitem",selected:p,expanded:!0,onToggle:function(e){return u(t)}},m(t),c&&n.a.createElement(Bs,{role:"tree"},c&&c.map(e))):n.a.createElement(Ws,Object.assign({},t,{key:a,role:o||"none"}),m(t))}))))};Ks.defaultProps={menu:[],menuByUrl:{}};var _s=Ks,Zs=function(e){var t=e.icons,a=void 0===t?{}:t,r=e.menuByUrl,o=void 0===r?{}:r,l=e.onSelect,c=Object(s.a)(e,["icons","menuByUrl","onSelect"]),d=Object(i.useState)(!1),u=Object(fa.a)(d,2),m=u[0],p=u[1],g=Object(i.useRef)(null),f=c.url,b=c.children,h=c.onClick,y=function(e){p((function(e){return!e}))},v=function(e){l&&l(e),p(!1)};return b&&f||b&&h?n.a.createElement(n.a.Fragment,null,n.a.createElement(qs,Object.assign({},c,{onClick:function(){return v(c)},forwardedRef:g,onToggle:y})),n.a.createElement(Ds,{open:m,anchorEl:g.current,onClickAway:y},n.a.createElement(_s,{icons:a,menu:b,menuByUrl:o,onSelect:v}))):b?n.a.createElement(n.a.Fragment,null,n.a.createElement(qs,Object.assign({},c,{expanded:m,forwardedRef:g,onToggle:y})),n.a.createElement(Ds,{open:m,anchorEl:g.current,onClickAway:y},n.a.createElement(_s,{icons:a,menu:b,menuByUrl:o,onSelect:v}))):n.a.createElement(qs,Object.assign({},c,{onClick:function(){return v(c)}}))};Zs.defaultProps={menu:[],menuByUrl:{}};var $s=Zs,Ys=function(e){var t=e.className,a=e.icons,i=void 0===a?{}:a,r=e.menu,o=void 0===r?[]:r,l=e.menuByUrl,c=e.onSelect,s=(e.onToggle,function(e,t){e.onClick&&e.onClick()||c&&c(e)});return!(!o||!o.length)&&n.a.createElement(ws,{variant:"contained",className:t},o.map((function(e,t){return e.url&&l&&l[e.url]&&(e=Object(d.a)(Object(d.a)({},l[e.url]),e)),e.icon&&i[e.icon]&&(e=Object(d.a)(Object(d.a)({},e),{},{icon:i[e.icon]})),n.a.createElement($s,Object.assign({},e,{icons:i,menuByUrl:l,key:t,onSelect:s}))})))};Ys.defaultProps={menu:[],menuByUrl:{}};var Xs=Ys,Qs=Object(at.a)((function(e){return{root:{boxSizing:"border-box",listStyle:"none",padding:0,margin:0,"&[role=tree]":{marginLeft:e.spacing(3)},"& > li + li":{marginTop:e.spacing(.5)},"& > li > ul > li + li":{marginTop:0},"&[role=group] > li + li":{marginTop:e.spacing(.5)}}}})),eu=function(e){var t=e.className,a=e.role,i=void 0===a?"tree":a,r=e.children,o=Qs();return n.a.createElement("ul",{className:t||o.root,role:i},r)},tu=Object(at.a)((function(e){return{root:{boxSizing:"border-box",position:"relative",display:"block",width:"100%",fontFamily:"Akkurat, sans-serif",fontSize:"14px",lineHeight:"24px","&[role=group] + *":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5)},"& + &[role=group]":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5),"& + *":{borderTop:"1px solid",borderTopColor:e.palette.divider,marginTop:e.spacing(1.5),paddingTop:e.spacing(1.5)}}},toggle:{position:"absolute",left:"-24px",padding:0,margin:0,opacity:.5},toggleCollapsed:{transition:".125s ease-in-out",transform:"rotate(-90deg)"},toggleExpanded:{transition:".125s ease-in-out",transform:"rotate(0deg)"},count:{position:"absolute",right:0,fontFamily:"Akkurat, sans-serif",fontSize:"12px",fontStyle:"normal",lineHeight:"24px",opacity:.5}}})),au=function(e){var t=e.expanded,a=void 0!==t&&t,i=e.onClick,r=tu(),o=a&&r.toggleExpanded||r.toggleCollapsed;return n.a.createElement(St.a,{className:r.toggle,onClick:i,"aria-expanded":a,size:"small"},n.a.createElement($a.a,{className:o}))},iu=function(e){var t=e.className,a=e.role,i=void 0===a?"treeitem":a,r=(e.count,e.expanded),o=void 0!==r&&r,l=e.onToggle,c=e.children,d=tu();return n.a.createElement("li",{className:t||d.root,role:i,"aria-expanded":o},l&&n.a.createElement(au,{expanded:o,onClick:l}),c)},nu=Object(at.a)((function(e){return{root:{boxSizing:"border-box",display:"flex",width:"100%",paddingRight:e.spacing(3),alignItems:"center",justifyContent:"start",fontFamily:"Akkurat, sans-serif",fontSize:"14px",lineHeight:"24px",color:e.palette.text.secondary,"&[aria-selected=true]":{"& $label":Object(m.a)({color:e.palette.text.primary},"color","dark"===e.palette.type&&e.palette.primary.light||e.palette.primary.dark)}},icon:{"&[aria-selected=true]":{color:e.palette.text.primary}},label:{display:"block",width:"100%",flexBasis:"100%",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",paddingLeft:"12px",paddingRight:"6px"},count:{position:"absolute",right:0,fontFamily:"Akkurat, sans-serif",fontSize:"12px",fontStyle:"normal",lineHeight:"24px",textAlign:"right",color:e.palette.text.secondary}}})),ru=function(e){var t,a=e.className,i=e.selected,r=e.icon,o=e.label,l=e.title,c=e.count,d=e.onClick,s=e.children,u=nu();return!o&&l&&(o=l),i&&(t="primary"),n.a.createElement(ua.a,{color:t,className:a||u.root,"aria-selected":i,onClick:d},r&&n.a.createElement(jt.a,{className:u.icon,"aria-selected":i},r),o&&n.a.createElement(hn.a,{component:"b",align:"left",noWrap:!0,className:u.label},o),c&&n.a.createElement(hn.a,{component:"i",align:"right",nowrap:"true",className:u.count},c),s)},ou=Object(at.a)((function(e){return{root:{boxSizing:"border-box",display:"flex",width:"100%",paddingRight:e.spacing(3),alignItems:"center",justifyContent:"start",fontFamily:"Akkurat, sans-serif",fontWeight:"bold",fontSize:"12px",lineHeight:"24px",color:e.palette.text.secondary,"&[aria-selected=true]":{"& $label":Object(m.a)({color:e.palette.text.primary},"color","dark"===e.palette.type&&e.palette.primary.light||e.palette.primary.dark)},marginBottom:e.spacing(1.5)},icon:{"&[aria-selected=true]":{color:e.palette.text.primary}},label:{display:"block",width:"100%",flexBasis:"100%",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit"},count:{position:"absolute",right:0,fontFamily:"Akkurat, sans-serif",fontSize:"12px",fontStyle:"normal",lineHeight:"24px",textAlign:"right",color:e.palette.text.secondary}}})),lu=function(e){var t,a=e.className,i=e.url,r=e.selected,o=(e.icon,e.label),l=e.title,c=(e.count,e.onClick),d=(e.children,ou());return!o&&l&&(o=l),r&&(t="primary"),i?n.a.createElement(ua.a,{color:t,className:a||d.root,"aria-selected":r,onClick:c},o&&n.a.createElement(hn.a,{component:"b",align:"left",noWrap:!0,className:d.label},o)):n.a.createElement("div",{color:t,className:a||d.root,"aria-selected":r},o&&n.a.createElement(hn.a,{component:"b",align:"left",noWrap:!0,className:d.label},o))},cu=function(){return n.a.createElement("p",null,"cal")},du=function(e){var t=e.className,a=e.icons,i=void 0===a?{}:a,r=e.menu,o=void 0===r?[]:r,l=e.menuByUrl,c=e.currentUrl,s=e.onSelect,u=e.onToggle,m=function(e,t){s&&s(e)},p=function(e,t){u&&u(e)},g=function(e){var t=e.selected,a=e.url,i=e.icon,r=e.title,o=e.label,l=e.count;return n.a.createElement(ru,{selected:t,url:a,icon:i,label:o||r,count:l,onClick:function(t){return m(e)}})};return!(!o||!o.length)&&n.a.createElement("nav",{className:t},n.a.createElement(eu,{role:"tree"},o.map((function e(t,a){t.url&&l&&l[t.url]&&(t=Object(d.a)(Object(d.a)({},l[t.url]),t)),t.icon&&i[t.icon]&&(t=Object(d.a)(Object(d.a)({},t),{},{icon:i[t.icon]})),t.url&&c&&t.url===c&&(t=Object(d.a)(Object(d.a)({},t),{},{expanded:!0,selected:!0})),t.url&&c&&c.startsWith(t.url)&&(t=Object(d.a)(Object(d.a)({},t),{},{expanded:!0}));var r=t,o=r.role,s=r.calendar,u=r.children,f=r.hidden,b=r.selected,h=r.expanded;return"section"===o?n.a.createElement(iu,{key:a,role:"group"},function(e){var t=e.selected,a=e.url,i=e.icon,r=e.title,o=e.label,l=e.count;return n.a.createElement(lu,{selected:t,url:a,icon:i,label:o||r,count:l,onClick:function(t){return m(e)}})}(t),u&&n.a.createElement(eu,{role:"group"},u&&u.map((function(t,a){return e(Object(d.a)(Object(d.a)({},t),{},{role:""}),a)})))):f?n.a.createElement(iu,{key:a,role:o},n.a.createElement(eu,{role:o},u&&u.map(e))):s?n.a.createElement(iu,{key:a,role:o||"treeitem",selected:b,expanded:h,onToggle:function(e){return p(t)}},g(t),h&&n.a.createElement(cu,s)):u&&u.length?n.a.createElement(iu,{key:a,role:o||"treeitem",selected:b,expanded:h,onToggle:function(e){return p(t)}},g(t),u&&h&&n.a.createElement(eu,{role:"tree"},u&&u.map(e))):n.a.createElement(iu,Object.assign({},t,{key:a,role:o||"none"}),g(t))}))))};du.defaultProps={menu:[],menuByUrl:{}};var su=du,uu=Object(at.a)((function(e){return{sidebar:{position:"relative"},action:{position:"relative",zIndex:2,margin:e.spacing(3)}}})),mu=function(e){var t=e.className,a=e.icons,i=void 0===a?{}:a,r=e.expanded,o=void 0!==r&&r,l=e.width,c=void 0===l?224:l,d=(e.calendar,e.menu),s=e.menuByUrl,u=void 0===s?{}:s,m=e.primaryAction,p=e.onSelect,g=e.children,f=uu({width:c});return n.a.createElement("aside",{className:t||f.sidebar,"aria-expanded":o},m&&n.a.createElement(Xs,{className:f.action,icons:i,primaryAction:[m],menuByUrl:u,onSelect:p}),d&&n.a.createElement(su,{icons:i,menu:d,menuByUrl:u,onSelect:p}),g)};mu.defaultProps={calendar:void 0};var pu=mu,gu=Object(at.a)((function(e){return{root:{position:"absolute",zIndex:1,top:0,right:0,left:0,bottom:0,transition:".125s ease-out"}}})),fu=function(e){var t=e.className,a=e.expanded,i=e.children,r=gu();return n.a.createElement("div",{className:t||r.root,"aria-expanded":a},i)},bu=a(1753),hu=a(1760),yu=Object(at.a)((function(e){return{search:{display:"flex",position:"relative",backgroundColor:"white",color:"black",width:"100%",height:e.spacing(8),overflow:"hidden"},field:{display:"flex",width:"100%",backgroundColor:"white",color:e.palette.text.primary},input:{backgroundColor:"transparent",flexGrow:1,width:"100%",height:"100%",fontFamily:"Akkurat, sans-serif",fontSize:"18px",lineHeight:"1",color:"inherit",border:"none",outline:"none","&:focus + *":{opacity:1}},toggle:{marginLeft:e.spacing(1)},reset:{marginRight:e.spacing(1)}}})),vu=function(e){var t=e.id,a=void 0===t?"nav-search":t,i=e.className,r=e.expanded,o=e.InputProps,l=void 0===o?{}:o,c=e.inputRef,s=e.inputProps,u=void 0===s?{}:s,m=e.inputClassName,p=e.placeholder,g=void 0===p?"Search":p,f=e.value,b=e.onChange,h=e.onFocus,y=e.onBlur,v=e.onToggle,j=e.onReset,O=yu(),k=function(){return n.a.createElement(St.a,{className:O.reset,onClick:j},n.a.createElement(Pa.a,null))},E=function(){return n.a.createElement(St.a,{className:O.toggle,disableRipple:!0,disabled:!v,onClick:v},n.a.createElement(Dc.a,null))},I=n.a.createElement(E,null),x=n.a.createElement(k,null),C=l.ref;return u.value&&(f=u.value),n.a.createElement(hu.a,{"aria-expanded":r,inputRef:c,id:a,ref:C,className:i||O.field,placeholder:g,onFocus:h,onBlur:y,onChange:b,value:f,startAdornment:I,endAdornment:x,inputProps:Object(d.a)(Object(d.a)({},u),{},{className:m||O.input,"aria-label":"Search"})})},ju=a(762),Ou=a(810),ku=a(550),Eu=a.n(ku),Iu=a(551),xu=a.n(Iu),Cu=Object(at.a)((function(e){return{search:{display:"flex",position:"relative",backgroundColor:e.palette.primary.main,width:"100%",height:e.spacing(8),overflow:"hidden"},field:{display:"flex",width:"100%",height:e.spacing(8),backgroundColor:"white",color:e.palette.text.primary},input:{backgroundColor:"transparent",flexGrow:1,height:"100%",width:"100%",fontFamily:"Akkurat, sans-serif",fontSize:18,lineHeight:1,color:"inherit",border:"none",outline:"none"},growingField:{position:"absolute",right:0,backgroundColor:"white",color:e.palette.text.primary,transition:".125s ease-out",width:e.spacing(16),height:e.spacing(5),margin:e.spacing(1.5),borderRadius:e.spacing(2.5),"& > input":{fontSize:16},"&[aria-expanded=true]":{borderRadius:0,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),margin:0,width:"100%",height:e.spacing(8),"& > input":{fontSize:18},"& > input + button":{display:"block"}},"& > button":{margin:0}},growingInput:{backgroundColor:"transparent",flexGrow:1,height:"100%",fontFamily:"Akkurat, sans-serif",fontSize:18,lineHeight:1,color:"inherit",border:"none",outline:"none","& + button":{display:"none"}},suggestRoot:{"& > $suggestPopper":{marginTop:0},"&[aria-expanded=true]":{"& > $suggestPopper":{marginTop:64}}},suggestOverlay:{position:"fixed",top:0,right:0,bottom:0,left:0,transition:".125s ease-out",backgroundColor:"rgba(0,0,0,.25)",pointerEvents:"none",opacity:0,"&[aria-expanded=true]":{opacity:1,pointerEvents:"all"}},suggestPopper:{position:"fixed",marginTop:64,width:"100%"},suggestPaper:{width:"100%",padding:0,margin:0,borderRadius:0,borderTopColor:e.palette.divider,boxShadow:e.shadows[2]},suggestList:{paddingTop:8,paddingBottom:8},suggestListItem:{display:"flex",justifyContent:"space-between",width:"100%",paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16},suggestIcon:{"& + $suggestLabel":{marginLeft:16}},suggestLabel:{flexGrow:1,fontFamily:"Akkurat, sans-serif",fontSize:14},suggestCount:{fontFamily:"Akkurat, sans-serif",fontSize:12,color:e.palette.text.secondary},suggestQuery:{textDecoration:"underline","&:before":{content:'"\xab"'},"&:after":{content:'"\xbb"'}},suggestGroupList:{padding:0,margin:0,"& > $suggestListItem":{paddingLeft:16}},suggestGroupLabel:{borderTop:"1px solid",marginTop:8,paddingTop:16,paddingLeft:16,marginBottom:8,borderTopColor:e.palette.divider,fontFamily:"Akkurat, sans-serif",fontSize:12,fontWeight:"normal",textTransform:"capitalize",color:e.palette.text.secondary}}})),Su=function(e){var t=e.id,a=void 0===t?"app-search":t,r=e.className,o=e.variant,l=void 0===o?"default":o,c=e.expanded,u=e.placeholder,m=void 0===u?"Search app":u,p=e.icons,g=e.options,f=(e.scopes,e.suggest,e.value,e.onChange),b=e.onFocus,y=e.onBlur,v=e.onToggle,j=e.onReset,O=e.autocompleteProps,k=Object(s.a)(e,["id","className","variant","expanded","placeholder","icons","options","scopes","suggest","value","onChange","onFocus","onBlur","onToggle","onReset","autocompleteProps"]),E=Cu(),I=Object(i.useRef)(null),x=E.field,C=E.input;"growing"===l&&(x=E.growingField,C=E.growingInput);if(g&&(O=Object(d.a)({options:g},O)),O){var S=O.options.filter((function(e){return e.query})),T=O.options.filter((function(e){return!e.query})),w=function(e,t){var a=xu()(e,t);return Eu()(e,a).map((function(e,t){return e.highlight?n.a.createElement("b",{className:E.suggestHighlight},e.text):e.text}))},N=function(e,t){var a=xu()(e,"[q]");return Eu()(e,a).map((function(e,a){return e.highlight?n.a.createElement("b",{className:E.suggestQuery},t):e.text}))};return n.a.createElement("div",{className:r||E.search,"aria-expanded":c},n.a.createElement("div",{className:E.suggestOverlay,"aria-expanded":c,onClick:v}),n.a.createElement(ju.a,Object.assign({id:a+"-suggest",classes:{root:E.suggestRoot,popper:E.suggestPopper,paper:E.suggestPaper,listbox:E.suggestList,option:E.suggestListItem,groupUl:E.suggestGroupList,groupLabel:E.suggestGroupLabel},fullWidth:!0,disablePortal:!0,open:c||!1,filterOptions:function(e,t){var a=t.inputValue,i=(t.selected,Object(Ou.a)(T,a,{keys:["title"],baseSort:function(e,t){return e.modelName<t.modelName?-1:1}}));return S&&(i=[].concat(Object(h.a)(S),Object(h.a)(i))),i},renderGroup:function(e){var t=e.group,a=e.children;return t?n.a.createElement("li",null,n.a.createElement("div",{className:E.suggestGroupLabel},t),n.a.createElement("ul",{className:E.suggestGroupList},a)):a},renderOption:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.inputValue,i=(t.selected,e.uniqueId,e.documentType),r=e.query,o=e.icon,l=e.placeholder,c=e.title,d=e.count;!o&&p&&p[i]&&(o=p[i]);var s=""==a&&l||r&&N(c,a)||w(c,a);return n.a.createElement(n.a.Fragment,null,o&&n.a.createElement(jt.a,{className:E.suggestIcon},o),n.a.createElement(hn.a,{className:E.suggestLabel},s),d&&n.a.createElement(hn.a,{className:E.suggestCount},d))},getOptionLabel:function(e){return e.q}},O,{renderInput:function(e){var t=e.InputProps,i=e.inputProps;return n.a.createElement(vu,{InputProps:t,id:a,className:x,expanded:c,inputRef:I,inputProps:Object(d.a)(Object(d.a)({},i),{},{placeholder:m}),inputClassName:C,onToggle:v,onReset:j})}})))}return n.a.createElement("div",{className:r||E.search,"aria-expanded":c},n.a.createElement(vu,Object.assign({},k,{id:a,className:x,expanded:c,inputRef:I,inputClassName:C,onFocus:function(e){c||v&&v(),b&&b(e)},onBlur:function(e){y&&y(e)},onChange:function(e){f&&f(e.target.value,e)},onToggle:v,onReset:j})))};Su.defaultProps={expanded:!0,placeholder:"Search"};var Tu=Su,wu=Object(at.a)((function(e){return{identifier:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1,height:e.spacing(8)},title:{fontFamily:"Akkurat, sans-serif",fontSize:"18px",fontWeight:"bold",color:function(t){return e.palette.header&&e.palette.header.title||e.palette.primary.contrastText}},divider:Object(m.a)({backgroundColor:e.palette.primary.contrastText,width:"1px",height:e.spacing(3),opacity:.85,margin:e.spacing(1.5)},e.breakpoints.down("xs"),{display:"none"}),subtitle:Object(m.a)({fontFamily:"Akkurat, sans-serif",fontSize:"18px",fontWeight:"normal",opacity:.85},e.breakpoints.down("xs"),{display:"none"})}})),Nu=function(e){var t=e.className,a=e.expanded,i=e.title,r=e.subtitle,o=wu();return n.a.createElement("div",{className:t||o.identifier,"aria-expanded":a},n.a.createElement(hn.a,{component:"h1",className:o.title,noWrap:!0},i),i&&r&&n.a.createElement("div",{className:o.divider}),n.a.createElement(hn.a,{component:"h2",className:o.subtitle,noWrap:!0},r))},qu=a(246),Lu=a.n(qu),Pu=Object(at.a)((function(e){return{subview:{backgroundColor:e.palette.background.default,color:"black"},section:{height:e.spacing(8),display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},button:{width:e.spacing(6),height:e.spacing(6),color:"inherit","& + $content":{paddingRight:e.spacing(8)}},content:{display:"flex",alignItems:"center",justifyContent:"center"},title:{fontFamily:"Akkurat, sans-serif",fontSize:"18px",fontWeight:"bold",marginLeft:e.spacing(1)},description:{fontFamily:"Akkurat, sans-serif",fontSize:"18px",fontWeight:"normal",marginLeft:"0.25em"}}})),Au=function(e){var t=e.className,a=e.expanded,i=e.title,r=e.description,o=e.onToggle,l=Pu();return n.a.createElement("div",{className:t||l.subview,"aria-expanded":a},n.a.createElement("div",{className:l.section},n.a.createElement(St.a,{className:l.button,onClick:o},n.a.createElement(Lu.a,null)),n.a.createElement("div",{className:l.content},n.a.createElement(hn.a,{component:"h1",className:l.title},i&&r&&i+":"||i),n.a.createElement(hn.a,{component:"h2",className:l.description},r))))},Du=a(240),Fu=a.n(Du),Uu=Object(at.a)((function(e){var t;return{header:{position:"relative",width:"100%",height:e.spacing(8),overflow:"hidden"},section:{position:"relative",width:"100%",height:e.spacing(8),marginTop:e.spacing(-8),transition:".125s ease-out","&[aria-expanded=true]":{marginTop:0},backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"space-between"},button:{margin:e.spacing(1),color:"inherit"},identifier:{position:"absolute",top:0,rigth:0,bottom:0,left:0,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:e.spacing(8),pointerEvents:"none"},subview:{backgroundColor:e.palette.background.default,color:e.palette.text.primary,position:"relative",width:"100%",height:e.spacing(8),marginTop:e.spacing(-8),transition:".125s ease-out","&[aria-expanded=true]":{marginTop:0}},growingSearch:{position:"absolute",zIndex:2,top:0,right:0,bottom:0,left:"auto",height:e.spacing(8),display:"flex",width:"auto",transition:".125s ease-out","&[aria-expanded=true]":{width:"100%"}},search:(t={position:"relative",height:e.spacing(8),transition:".125s ease-out",display:"flex"},Object(m.a)(t,"position","relative"),Object(m.a)(t,"backgroundColor","white"),Object(m.a)(t,"color",e.palette.text.primary),Object(m.a)(t,"width","100%"),Object(m.a)(t,"height",e.spacing(8)),Object(m.a)(t,"overflow","hidden"),Object(m.a)(t,"fontFamily","Akkurat, sans-serif"),Object(m.a)(t,"&[aria-expanded=true]",{marginTop:e.spacing(-8)}),t)}})),Bu=function(e){var t=e.className,a=e.icons,i=e.expanded,r=void 0===i||i,o=e.elevation,l=void 0===o?2:o,c=e.color,d=void 0===c?"primary":c,s=e.title,u=e.subtitle,m=e.sidebar,p=e.search,g=e.subview,f=e.children,b=Uu({color:d,search:p}),h=function(e){var t=e.onClick;return n.a.createElement(St.a,{className:b.button,onClick:t},n.a.createElement(Fu.a,null))},y=function(e){var t=e.onClick;return n.a.createElement(St.a,{className:b.button,onClick:t},n.a.createElement(Dc.a,null))},v=m&&m.collapsible,j=p&&"growing"===p.variant;return n.a.createElement(bu.a,{position:"absolute",className:t||b.header,component:"header","aria-expanded":r,elevation:r&&l},g&&n.a.createElement(Au,Object.assign({},g,{className:b.subview,expanded:g&&g.expanded})),n.a.createElement("section",{className:b.section,"aria-expanded":(p&&p.expanded,!0)},v&&n.a.createElement(h,{onClick:m&&m.onToggle}),n.a.createElement(Nu,{className:b.identifier,title:s,subtitle:u}),p&&!j&&n.a.createElement(y,{onClick:p&&p.onToggle})),p&&n.a.createElement(Tu,Object.assign({},p,{icons:a,className:j&&b.growingSearch||b.search})),f)};Bu.defaultProps={expanded:!0,search:void 0,subview:void 0};var zu=Bu,Hu=Object(at.a)((function(e){return{app:{position:"absolute",backgroundColor:e.palette.background.default,zIndex:1,top:0,right:0,left:0,bottom:0,overflow:"hidden",display:"flex",flexDirection:"column"},header:{position:"absolute",height:e.spacing(8),overflow:"hidden",marginTop:e.spacing(-8),transition:".125s ease-out","&[aria-expanded=true]":{marginTop:0,"& + *":{marginTop:e.spacing(8)}}},body:{position:"relative",transition:".125s ease-out",display:"flex",flexBasis:0,flexGrow:1},sidebar:{width:function(e){return e.sidebar.width},marginLeft:function(e){return-1*e.sidebar.width},transition:".125s ease-out","&[aria-expanded=true]":Object(m.a)({},e.breakpoints.up("sm"),{marginLeft:0}),"&[aria-expanded=true] + *":Object(m.a)({},e.breakpoints.up("sm"),{})},content:{flexGrow:1,display:"flex",flexDirection:"column",position:"relative"},navAction:{position:"relative",zIndex:2,margin:e.spacing(3)},navCalendar:{margin:e.spacing(2,.5)},navMenu:{}}})),Wu=function(e){var t=e.theme,a=void 0===t?void 0:t,i=e.header,r=void 0===i?{}:i,o=e.sidebar,l=void 0===o?{width:224}:o,c=e.search,s=void 0===c?void 0:c,u=e.subview,m=void 0===u?void 0:u,p=e.primaryAction,g=void 0===p?void 0:p,f=e.icons,b=void 0===f?{}:f,h=e.menu,y=e.menuByUrl,v=void 0===y?{}:y,j=e.currentUrl,O=void 0===j?void 0:j,k=e.onSelect,E=e.onToggle,I=e.children;l=Object(d.a)(Object(d.a)({},l),{},{width:256}),r=Object(d.a)({subview:m,search:s,sidebar:l},r);var x=Hu({header:r,sidebar:l});return n.a.createElement(xs,{theme:a,className:x.app},n.a.createElement(zu,Object.assign({},r,{icons:b,className:x.header})),n.a.createElement(Ss,{className:x.body},n.a.createElement(pu,Object.assign({},l,{className:x.sidebar}),g&&n.a.createElement(Xs,{className:x.navAction,icons:b,menu:[g],menuByUrl:v,onSelect:k}),h&&n.a.createElement(su,{className:x.navMenu,icons:b,menu:h,menuByUrl:v,currentUrl:O,onSelect:k,onToggle:E})),n.a.createElement(fu,{className:x.content},I)))};Wu.defaultProps={app:{},header:{expanded:!0}};var Mu,Ru,Vu=Wu,Ju=function(e){var t=e.location.pathname,a=e.location.search&&b.a.parse(e.location.search)||{},i=Object(u.c)(),r=Object(u.d)((function(e){return e.app})),o=Object(u.d)((function(e){return e.finder})),l=(a.date,a.view);l||(l="week");var c=Object(d.a)(Object(d.a)({},r.header),{},{title:r.title,subtitle:r.siteTitle}),s=Object(d.a)(Object(d.a)({},r.sidebar),{},{collapsible:!0,onToggle:function(){return i(he())}}),m=r.subview&&Object(d.a)(Object(d.a)({},r.subview),{},{onToggle:function(){return i(le("finder"))}});return n.a.createElement(bs,e,n.a.createElement(Vu,{theme:r.theme,icons:Me,header:c,sidebar:s,subview:m,primaryAction:o.primaryAction,menu:o&&o.menu,menuByUrl:o&&o.menuByUrl,currentUrl:t,onSelect:function(i){var n=i.url,r=i.date;console.log("onSelect",n),!n&&r&&(a.date=r,e.history.replace(t+"?"+b.a.stringify(a))),n&&e.history.push(n)},onToggle:function(e){var t=e.url;t&&i(X({url:t}))}},n.a.createElement(gs,e)))},Gu={role:"group",title:"Artikler",icon:"article",pathname:"article",query:{models:"documents",documentType:"article",status:"NOT trash"}},Ku={role:"group",icon:"photo",title:"Media",pathname:"media",query:{models:"media",mediaType:"*",collectionId:"*",status:"NOT trash"},children:[{title:"Images",pathname:"images",query:{models:"media",mediaType:"image"}},{title:"Video",pathname:"video",query:{models:"media",mediaType:"video"}},{title:"Audio",pathname:"audio",query:{models:"media",mediaType:"audio"}},{title:"Misc",pathname:"misc",query:{models:"media",mediaType:"misc"}},{title:"Apps",pathname:"apps",query:{models:"media",mediaType:"misc"}},{title:"Upload",pathname:"upload",template:"upload"}]},_u={role:"group",title:"Latest",pathname:"latest",icon:"access_time",query:(Mu={models:"documents",status:"NOT trash"},Object(m.a)(Mu,"models","documents"),Object(m.a)(Mu,"sort","updatedAt DESC"),Mu)},Zu={role:"group",icon:"delete",title:"Trash",pathname:"trash",query:(Ru={models:"documents",status:"trash"},Object(m.a)(Ru,"models","documents"),Object(m.a)(Ru,"sort","deletedAt DESC"),Ru)},$u={role:"group",icon:"search",title:"S\xf8k",pathname:"search",groupBy:"documentType",query:{models:"documents",sort:"updatedAt DESC"}},Yu={icon:"settings",title:"Settings",url:"/admin"},Xu={icon:"trending_flat",title:"Collections",url:"/"},Qu={theme:Fe,icon:"kpApp",url:"/:siteName/kp",root:"/kp",siteId:1,collectionId:54,title:"KulturPunkt",subtitle:"Museum",menu:[{type:"tree",role:"group",title:"KulturPunkt",icon:"kpMenu",url:"/:siteName/kp",template:"finder/tree",query:{rows:100,models:"documents",status:"NOT trash",documentType:"page*",q:"NOT parentId:*"}},Gu,{role:"section",title:"Sider",pathname:"pages",query:{models:"documents",documentType:"page*",status:"NOT trash"},children:[{title:"Hjemmeside",icon:"pageHome",pathname:"home",query:{models:"documents",documentType:"pageHome",status:"NOT trash"}},{title:"Tema",icon:"pageParent",pathname:"topic",query:{models:"documents",documentType:"pageTopic",status:"NOT trash"}},{title:"Kart",icon:"pageMap",pathname:"map",query:{models:"documents",documentType:"pageMap",status:"NOT trash"}}]},Ku,_u,Zu,$u,{role:"section",title:"Favoritter",pathname:"favourites",children:[{icon:"kioskMenu",title:"Kiosk",url:"/:siteName/kiosk"},Xu,Yu]}],primaryAction:{title:"Nytt innhold",pathname:"/create",children:[{icon:"article",title:"Ny artikkel",pathname:"/article/new?documentType=article"},{role:"group",children:[{icon:"pageHome",title:"Ny forside",pathname:"/pages/new?documentType=pageHome"},{icon:"pageMap",title:"Nytt kart",pathname:"/pages/new?documentType=pageMap"},{icon:"pageTopic",title:"Nytt tema",pathname:"/pages/new?documentType=pageTopic"}]}]},languages:["no","sv","en","de","es","fr"],search:{expanded:!1,placeholder:"S\xf8k i KulturPunkt"}},em=function(e){e.children;var t=Object(s.a)(e,["children"]),a=t.match.params.siteName,r=Object(u.c)(),o="/"+a+"/kp";return Object(i.useEffect)((function(){o&&r(ie(Object(d.a)(Object(d.a)({},Qu),{},{root:o,siteName:a,collectionType:"kp"})))}),[o]),n.a.createElement(Ve,t,n.a.createElement(Ju,t))};em.defaultProps={};var tm=em,am={theme:qe,icon:"kioskApp",url:"/:siteName/kp",root:"/kiosk",siteId:1,collectionId:54,title:"Kiosk",subtitle:"Museum",menu:[{icon:"kioskMenu",url:"/:siteName/kiosk",title:"Kiosk",view:"icons",viewOptions:["list","icons"],query:{models:"documents",documentType:"device*",status:"NOT trash"}},Gu,{role:"section",title:"Presentasjoner",pathname:"pages",view:"grid",query:{models:"documents",documentType:"page*"},children:[{title:"Mosaikk",icon:"pageGrid",pathname:"grid",query:{models:"documents",documentType:"pageGrid",status:"NOT trash"}},{title:"Tidslinje",icon:"pageTimeline",pathname:"timeline",query:{models:"documents",documentType:"pageTimeline",status:"NOT trash"}},{title:"Bildekart",icon:"pageAnnotate",pathname:"annotate",query:{models:"documents",documentType:"pageAnnotate",status:"NOT trash"}},{title:"Media",icon:"pageMedia",pathname:"media",query:{models:"documents",documentType:"pageMedia",status:"NOT trash"}},{title:"Liste",icon:"pageList",pathname:"list",query:{models:"documents",documentType:"pageList",status:"NOT trash"}}]},{role:"group",title:"Enheter",icon:"bug_report",pathname:"device",query:{models:"documents",documentType:"device",status:"NOT trash"}},Ku,$u,_u,Zu,{role:"section",title:"Favoritter",pathname:"favourites",children:[{icon:"kpMenu",title:"KulturPunkt",url:"/:siteName/kp"},Xu,Yu]}],primaryAction:{title:"Nytt innhold",pathname:"/create",children:[{icon:"article",title:"Ny artikkel",pathname:"/article/new?documentType=article"},{role:"group",children:[{icon:"pageGrid",title:"Ny mosaikkk",pathname:"/kiosk/new?documentType=pageGrid"},{icon:"pageTimeline",title:"Ny tidslinje",pathname:"/kiosk/new?documentType=pageTimeline"},{icon:"pageAnnotate",title:"Nytt bildekart",pathname:"/kiosk/new?documentType=pageAnnotate"},{icon:"pageMedia",title:"Ny media",pathname:"/kiosk/new?documentType=pageMedia"},{icon:"pageList",title:"Ny liste",pathname:"/kiosk/new?documentType=pageList"}]},{role:"group",children:[{icon:"bug_report",title:"Ny enhet",pathname:"/device/new?documentType=device"}]}]},languages:["no","sv","en","de","es","fr"],search:{expanded:!1,placeholder:"S\xf8k i Kiosk"}},im=function(e){e.children;var t=Object(s.a)(e,["children"]),a=t.match.params.siteName,r=Object(u.c)(),o="/"+a+"/kiosk";return Object(i.useEffect)((function(){o&&r(ie(Object(d.a)(Object(d.a)({},am),{},{root:o,siteName:a,collectionType:"kp"})))}),[o]),n.a.createElement(Ve,t,n.a.createElement(Ju,t))};im.defaultProps={};var nm=im,rm={theme:{palette:{primary:{main:"#D94353",light:"#EE7E8F",dark:"#AE3552"},secondary:{main:"#D94353",light:"#EE7E8F",dark:"#AE3552"}}},icon:"kpApp",root:"/admin",siteId:1,collectionId:54,title:"Kp+Kiosk admin",subtitle:"Museum",menu:[{title:"Admin",url:"/admin",role:"section",viewOptions:["icons"],query:{models:"collections",collectionType:"kp",status:"NOT trash"},children:[{icon:"folder",title:"Collections",pathname:"collections",query:{models:"collections",collectionType:"kp",status:"NOT trash"}},{icon:"business",title:"Sites",pathname:"sites",query:{models:"sites",status:"NOT trash"}},{icon:"people",title:"Users",pathname:"users",query:{models:"users",status:"NOT trash"}}]},{role:"section",title:"Favoritter",pathname:"favourites",children:[{icon:"folder",title:"Swich collection",url:"/"}]}],primaryAction:{title:"Nytt innhold",children:[{icon:"add",title:"Ny collection",url:"/admin/collections/new?collectionType=kp"}]},languages:["no","sv","en","de","es","fr"],search:{expanded:!1,placeholder:"S\xf8k i Kiosk"}},om=function(e){e.children;var t=Object(s.a)(e,["children"]),a=Object(u.c)();return Object(i.useEffect)((function(){a(oe(rm))}),[]),n.a.createElement(Ju,t)};om.defaultProps={};var lm=om,cm=Object(g.b)({name:"site",initialState:{isLoading:!0},reducers:{requestSite:function(e,t){return{isLoading:!0}},receiveSite:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1},t.payload)},requestSiteCollections:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{collections:void 0})},receiveSiteCollections:function(e,t){var a=t.payload.models;return Object(d.a)(Object(d.a)({},e),{},{collections:a})}}}),dm=cm.actions,sm=(dm.requestSite,dm.receiveSite,dm.requestSiteCollections,dm.receiveSiteCollections,cm.reducer),um=Object(g.b)({name:"collection",initialState:{isLoading:!0},reducers:{requestCollection:function(e,t){return{isLoading:!0}},receiveCollection:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1},t.payload)}}}),mm=um.actions,pm=(mm.requestCollection,mm.receiveCollection,um.reducer),gm=a(554),fm=function(e){var t=e.query,a=Object(s.a)(e,["query"]),i=function(e){var t=e.url;t&&a.history.push(t)},r=function(e){var t=e.id,a=e.siteName,r=e.title,o=(e.collectionType,"/"+a+"/kp"),l="/"+a+"/kiosk",c=n.a.createElement(gm.a,{onClick:function(){return i({url:o})}},"KulturPunkt"),d=n.a.createElement(gm.a,{onClick:function(){return i({url:l})}},"Kiosk");return n.a.createElement(Ht.a,null,n.a.createElement(Mt.a,null,r),n.a.createElement(Kt.a,null,"CollectionId: ",t," \u2013 SiteName: ",a," \u2013 ",c," \u2013 ",d))};return n.a.createElement(Fl,Object.assign({parents:[{title:"Switch collection"}],query:t,template:function(e){e.layout;var t=e.resultsLoaded;e.onPage,Object(s.a)(e,["layout","resultsLoaded","onPage"]);return n.a.createElement(ui.a,null,t&&t.map((function(e,t){return n.a.createElement(cl,{model:e},n.a.createElement(r,{model:e,key:t}))})))}},a))};fm.defaultProps={query:{models:"collections",siteId:"*",collectionId:"*",collectionType:"kp",fl:"id,uniqueId,title,collectionType,siteName,siteId",status:"NOT trash"}};var bm=fm,hm=function(e){return n.a.createElement(c.c,null,n.a.createElement(c.a,{path:"/admin",component:lm}),n.a.createElement(c.a,{path:"/:siteName/kiosk",component:nm}),n.a.createElement(c.a,{path:"/:siteName/kp",component:tm}),n.a.createElement(c.a,{path:"/",component:bm}))},ym=function(e){return n.a.createElement(l.a,null,n.a.createElement(hm,e))},vm=a(812),jm=a.n(vm),Om=Object(g.b)({name:"user",initialState:{isLoading:!0},reducers:{requestUser:function(e,t){return{isLoading:!0}},receiveUser:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1},t.payload)}}}),km=Om.actions,Em=(km.requestUser,km.receiveUser,Om.reducer),Im=Object(Ic.c)({user:Em,site:sm,collection:pm,app:ye,editor:Ec,finder:te,bulk:x,modelsById:M,searchByUrl:tt,uploadByUrl:Vl}),xm=[].concat(Object(h.a)(Object(g.c)({serializableCheck:{ignoredActions:["editor/receiveDialog"]}})),[jm.a]),Cm=Object(g.a)({reducer:Im,middleware:xm});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Sm=a(552),Tm=a(70),wm=(a(1704),a(813)),Nm={search:{"Fetching data, please wait":"Henter data, vennligst vent","No hits":"Ingen treff","{{count}} hits":"{{count}} treff","{{page}} of {{pages}} pages":"Side {{page}} av {{pages}}","More results":"Flere resultater","Next page":"Neste side","Previous page":"Forrige side","Page {{page}}":"Side {{page}}","Searching, please wait":"S\xf8ker, vennligst vent","Loading page {{page}}":"Henter side {{page}}","All documents":"Alle dokumenter","Search for {{q}} in all documents":"{{q}} i alle dokumenter","Everything in {{scope}}":"Alt i {{scope}}","Search everything":"S\xf8k i alt innhold","Search for {{q}} in everything":"{{q}} i alt innhold","Search in {{scope}}":"S\xf8k i {{scope}}","Search for {{q}} in {{scope}}":"{{q}} i {{scope}}","{{count}} suggestions":"{{count}} forslag"},editor:{Loading:"Laster",Saving:"Lagrer",Save:"Lagre","Save as draft":"Lagre som utkast","Save and publish":"Lagre og publiser","Save and exit":"Lagre og avslutt","Save as":"Lagre som","Empty trash":"T\xf8m papirkurv",Restore:"Gjenopprett",Erase:"Slett for alltid"},layout:{table:"Tabell",grid:"Grid",list:"Liste",gallery:"Galleri"},dialog:{Search:"S\xf8k","Search documents":"S\xf8k i dokumenter","Search media":"S\xf8k i media","Search media/image":"S\xf8k i bilder","Search media/video":"S\xf8k i videoer","Search media/audio":"S\xf8k i audio","Search media/misc":"S\xf8k i filer","Search ekultur":"S\xf8k i DigitaltMuseum","Search favorites":"S\xf8k i favoritter","Search uploads":"S\xf8k i opplastede filer","Search models":"S\xf8k i referanser",Favorites:"Favoritter",Upload:"Last opp","Upload media":"Last opp media",media:"Media","media/*":"Media","media/image":"Bilder","media/image*":"Bilder","media/video":"Video","media/video*":"Video","media/audio":"Audio","media/audio*":"Audio","media/misc":"Filer","media/misc*":"Filer","media/youtube":"YouTube","media/vimeo":"Vimeo","media/sketchfab":"Sketchfab","documents/*":"Dokumenter","documents/ekultur":"Objekter",youtube:"YouTube",vimeo:"Vimeo",sketchfab:"Sketchfab",ekultur:"Objekter"},upload:{"Uploading {{requested}} of {{received}}":"Laster opp {{requested}} av {{received}}","Click or drop files to upload":"Klikk eller dra filer her for \xe5 laste opp","Fetching unprocessed uploads":"Finner ubehandlede opplastninger","No unprocessed uploads":"Ingen ubehandlede opplastninger","{{count}} unprocessed uploads":"{{count}} ubehandlede opplastninger"},view:{"{{rows}} rows":"{{rows}} rader"},sort:{title:"Sortert alfabetisk","updatedAt DESC":"Sist oppdatert","createdAt ASC":"Opprettet dato, f\xf8rst","createdAt DESC":"Opprettet dato"},mediaType:{image:"Bilde",video:"Video",audio:"Audio"},documentType:{article:"Artikkel",pageHome:"Hjemmeside",pageTopic:"Tema",pageMap:"Kart",pageGrid:"Mosaikk",pageList:"Liste",pageAnnotate:"Bildekart",pageMedia:"Media",device:"Enhet"},status:{undefined:"Ukjent",error:"Feil",general:"N/A",draft:"Utkast",publish:"Publisert",trash:"Papirkurv",erased:"Slettet",restore:"Gjenopprettet",upload:"Ubehandlet",new:"Ny",copy:"Kopi"},uploadStatus:{init:"Laster opp",done:"Lastet opp",convert:"Konverterer media"},bylineTitle:{photographer:"Foto",rightsmanager:"Rettighetsforvalter",director:"Regiss\xf8r",photograph:"Foto",vector:"Grafikk",illustration:"Illustrasjon",painting:"Maleri"},license:{copyright:"Opphavsrett",by:"Navngivelse","by-sa":"Navngivelse-DelP\xe5SammeVilk\xe5r","by-nd":"Navngivelse-IngenBearbeidelse","by-nc":"Navngivelse-IkkeKommersiell","by-nc-sa":"Navngivelse-IkkeKommersiell-DelP\xe5SammeVilk\xe5r",pdm:"Public Domain Mark",pdd:"Public Domain Dedication"},licenseGroup:{by:"Kan gjenbrukes ved navngivelse","by-nd":"Kan kun gjenbrukes ved tillatelse","by-nc":"Kan ikke gjenbrukes kommersielt",pd:"\xc5pne lisenser (kan gjenbrukes)"}},qm=Object(d.a)({},Nm);Sm.a.use(wm.a).use(Tm.g).init({resources:{en:{editor:{Loading:"Loading",Saving:"Saving",Save:"Save","Save as draft":"Save as draft","Save and publish":"Save and publish","Save and exit":"Save and exit","Save as":"Save as"}},nb:Nm,nn:qm,sv:{editor:{Loading:"L\xe4sa",Saving:"Spara",Save:"Spara","Save as draft":"Spara som utkast","Save and publish":"Spara och publicera","Save and exit":"Spare och avsluta","Save as":"Spare som"}}},fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1}});Sm.a;o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(u.a,{store:Cm},n.a.createElement(ym,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},794:function(e){e.exports=JSON.parse('{"locale":"no","schemaId":58,"title":"1960-65: Fra nesten-nedrykk til ligagull","content":{"location":{"placeId":"ChIJaX_k53Kue0gR_lVE35YOk2w","lat":53.46305889999999,"lng":-2.2913401},"license":"none","headerImage":{"uploadProgress":100,"mediaId":"159675df-223e-4fb7-81fc-c55598c052fe","media":{"mediaType":"image","uniqueId":"159675df-223e-4fb7-81fc-c55598c052fe","createdAt":"2020-06-03T16:03:45","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=n69nGtiY6xvdS2ZrBXiN3GwY5fbWM9SnKTpTQrZACoDU4uZa8&public=true","mediaSize":199296,"filename":"FAC63_1536\u2006\xd7\u20061507.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-03T16:03:52","referenceCount":0,"imageWidth":1533,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJSc","mediaWidth":1533,"identifier":"012uPWFDhJSc","mediaHeight":1026,"imageHeight":1026,"id":1820,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJSc?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJSc?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJSc"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJSc"}},"collectionId":146,"imageSize":199296,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJSc?mediaType=image/png","title":"FAC63_1536\u2006\xd7\u20061507.jpg","content":{"iptcdata":{},"filename":"FAC63_1536\u2006\xd7\u20061507.jpg","title":"FAC63_1536\u2006\xd7\u20061507.jpg","exifdata":{}},"imageType":"png"}},"title":{"locale:no":"1960-65: Fra nesten-nedrykk til ligagull","locale:sv":"","locale:en":"","locale:de":"","locale:es":"","locale:fr":""},"leadtext":{"locale:no":"F\xf8rste halvdel av 1960-tallet ble noen innholdsrike \xe5r for Manchester United. Med et lag best\xe5ende av ungt og eldre, \xabgrovsmeder\xbb og superstjerner, gjeninntok klubben posisjonen som den ledende p\xe5 De britiske \xf8yer.\\n","locale:sv":"","locale:en":"","locale:de":"","locale:es":"","locale:fr":""},"bodytext":{},"sections":[{"titleHidden":false,"sectionLayout":"grid","sectionType":"ekultur","title":{"locale:no":"DM innhold","locale:es":"","locale:sv":"","locale:en":"","locale:de":"","locale:fr":""},"bodytext":{"locale:no":"123","locale:es":"","locale:sv":"","locale:en":"","locale:de":"","locale:fr":""},"references":[{"referenceType":"ekultur","referenceId":"021016880399","reference":{"createdAt":"2020-06-08T11:18:13","status":"publish","locale":"no","updatedAt":"2020-06-08T11:18:13","documentType":"Photograph","description":"","schemaId":1,"id":1422,"title":"Herr E. Andersson, Tredje Tv\xe4rgatan 28. Den 28 oktober 1939\\r\\n\\r\\n","imageUrl":"https://dms09.dimu.org/image/022yjUhKG6nS","uniqueId":"021016880399"}},{"referenceType":"ekultur","referenceId":"455bcdb3-f9f1-4862-8979-73cea43a39cf","reference":{"createdAt":"2020-06-16T07:30:38","status":"publish","locale":"no","updatedAt":"2020-06-16T07:30:38","documentType":"ekultur/photograph","description":"","schemaId":1,"id":1458,"title":"Portr\xe4tt av Gustaf Fredrik Lothigius, major vid S\xf6dermanlands regemente I 10. \\r\\nSe \xe4ven bild AMA.0008000, AMA.0006716,  AMA.0007995 och AMA.0021806.","imageUrl":"https://dms01.dimu.org/image/022waWFbdo7b","uniqueId":"455bcdb3-f9f1-4862-8979-73cea43a39cf"}},{"referenceType":"ekultur","referenceId":"cddd9718-b9c9-4b0b-b65f-200955d9140e","reference":{"createdAt":"2020-06-16T07:33:27","status":"publish","locale":"no","updatedAt":"2020-06-16T07:33:27","documentType":"ekultur/photograph","description":"","schemaId":1,"id":1460,"title":"gruppei4, familie, Ikke i protokoll.","imageUrl":"https://dms07.dimu.org/image/0331uxuv2uUC","uniqueId":"cddd9718-b9c9-4b0b-b65f-200955d9140e"}},{"referenceType":"ekultur","referenceId":"378ef8c4-2676-44d3-b54b-131be2f4ca99","reference":{"createdAt":"2020-06-16T07:33:31","status":"publish","locale":"no","updatedAt":"2020-06-16T07:33:31","documentType":"ekultur/thing","description":"","schemaId":1,"id":1461,"title":"Betsel","imageUrl":"https://dms07.dimu.org/image/0231wTZPGivs","uniqueId":"378ef8c4-2676-44d3-b54b-131be2f4ca99"}}]},{"title":{"locale:no":"Tekst med lenker","locale:es":"","locale:sv":"","locale:en":"","locale:de":"","locale:fr":""},"bodytext":{"locale:no":"Noe tekst som kan **boldes** eller settes i _kursiv_.","locale:es":"","locale:sv":"","locale:en":"","locale:de":"","locale:fr":""},"media":[{"mediaLayout":"frame","mediaId":"c0b24249-9e99-44f0-9109-03e4c3ca5590","media":{"createdAt":"2020-06-03T12:17:57","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=PCCd9A2vNhgiAcdvtpjeAuyAPuYbnQTyLX68jpdEhVssx4qSb&public=true","mediaSize":41143,"filename":"2013.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-16T06:46:55","referenceCount":0,"imageWidth":985,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL","mediaWidth":985,"identifier":"012uPWFDhJNL","mediaHeight":555,"imageHeight":555,"id":1818,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJNL?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJNL"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJNL"}},"uniqueId":"c0b24249-9e99-44f0-9109-03e4c3ca5590","collectionId":146,"mediaType":"image","imageSize":41143,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image/png","title":"2013.jpg","content":{"iptcdata":{},"filename":"2013.jpg","exifdata":{},"title":"2013.jpg"},"imageType":"png"},"content":{"size":"small"},"mediaFormat":"1:1"}],"sectionType":"text","links":[{"title":"VG","url":"http://vg.no"},{"title":"Dagbladet","url":"http://db.no"}]},{"title":{"locale:no":"Media grid","locale:es":"","locale:sv":"","locale:en":"","locale:de":"","locale:fr":""},"sectionType":"media","media":[{"layout":"frame","size":"medium","mediaId":"440954ab-912f-4865-8ca1-d5fb79948bc4","media":{"createdAt":"2020-06-11T08:59:19","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=QsmTLuLoWwNcZb5Nw3j4Ufv4U61dWDbMuL8YLRsZEvyZjZ4Cj&public=true","mediaSize":85336,"filename":"best+elton.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-11T08:59:30","referenceCount":0,"imageWidth":1200,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJX4","mediaWidth":1200,"identifier":"012uPWFDhJX4","mediaHeight":800,"imageHeight":800,"id":1870,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJX4?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJX4?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJX4"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJX4"}},"uniqueId":"440954ab-912f-4865-8ca1-d5fb79948bc4","collectionId":146,"mediaType":"image","imageSize":85336,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJX4?mediaType=image/png","title":"best+elton.jpg","content":{"iptcdata":{},"filename":"best+elton.jpg","exifdata":{"ColorSpace":1,"Orientation":1,"thumbnail":{},"YResolution":72,"ResolutionUnit":2,"PixelXDimension":1200,"PixelYDimension":800,"ExifIFDPointer":90,"XResolution":72},"title":"best+elton.jpg"},"imageType":"png"},"format":"1:1","content":{}},{"layout":"frame","size":"small","mediaId":"c0b24249-9e99-44f0-9109-03e4c3ca5590","media":{"createdAt":"2020-06-03T12:17:57","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=PCCd9A2vNhgiAcdvtpjeAuyAPuYbnQTyLX68jpdEhVssx4qSb&public=true","mediaSize":41143,"filename":"2013.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-16T06:46:55","referenceCount":0,"imageWidth":985,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL","mediaWidth":985,"identifier":"012uPWFDhJNL","mediaHeight":555,"imageHeight":555,"id":1818,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJNL?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJNL"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJNL"}},"uniqueId":"c0b24249-9e99-44f0-9109-03e4c3ca5590","collectionId":146,"mediaType":"image","imageSize":41143,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image/png","title":"2013.jpg","content":{"iptcdata":{},"filename":"2013.jpg","exifdata":{},"title":"2013.jpg"},"imageType":"png"},"format":"1:1","content":{}},{"layout":"frame","size":"small","mediaId":"d1103202-dc3e-4633-a070-c915fe6fdc95","media":{"createdAt":"2020-06-03T12:17:00","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=Pz6gPN9k8gNV7zBcXxwyEByQeMyHhPygeLfhbSypxz1nYDUXj&public=true","mediaSize":69272,"filename":"1999.jpg","uploadStatus":"done","status":"draft","updatedAt":"2020-06-12T11:05:30","referenceCount":0,"imageWidth":2600,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJNJ","mediaWidth":2600,"identifier":"012uPWFDhJNJ","mediaHeight":1671,"imageHeight":1671,"id":1816,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJNJ?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJNJ?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJNJ"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJNJ"}},"uniqueId":"d1103202-dc3e-4633-a070-c915fe6fdc95","collectionId":146,"mediaType":"image","imageSize":69272,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNJ?mediaType=image/png","title":"1999.jpg","content":{"iptcdata":{},"title":"1999.jpg","exifdata":{},"filename":"1999.jpg"},"imageType":"png"},"format":"1:1","content":{}}],"sectionLayout":"grid"},{"title":{"locale:no":"Video grid","locale:es":"","locale:sv":"","locale:en":"","locale:de":"","locale:fr":""},"sectionType":"media","media":[{"layout":"frame","size":"small","mediaId":"38b61182-750f-40cf-8f43-6a46451e8b2d","media":{"createdAt":"2020-06-18T12:34:46","mediaHeight":120,"sourceId":"424182213","referenceCount":0,"mimeType":"video/vimeo","resources":{"original":{"url":"https://i.vimeocdn.com/video/900964260_1920x1080.jpg?r=pad"},"jpg":{"mimeType":"image/jpg","url":"https://i.vimeocdn.com/video/900964260_640x360.jpg?r=pad"}},"imageUrl":"https://i.vimeocdn.com/video/900964260_640x360.jpg?r=pad","uniqueId":"38b61182-750f-40cf-8f43-6a46451e8b2d","uploadStatus":"init","content":{"resources":{"original":{"url":"https://i.vimeocdn.com/video/900964260_1920x1080.jpg?r=pad"},"jpg":{"mimeType":"image/jpg","url":"https://i.vimeocdn.com/video/900964260_640x360.jpg?r=pad"}},"playerUrl":"https://vimeo.com/424182213","imageUrl":"https://i.vimeocdn.com/video/900964260_640x360.jpg?r=pad"},"mediaType":"video/vimeo","status":"draft","updatedAt":"2020-06-18T12:34:46","duration":303,"description":"Sorry I turned off the commentary by accident in the second half lmao","source":"vimeo","id":1880,"title":"Marcus Rashford Vs Spurs 18-19 (Away)","collectionId":146,"mediaWidth":640,"identifier":"424182213"},"format":"1:1","content":{}},{"layout":"frame","size":"small","mediaId":"3f42114b-e1cd-4660-9919-516347652e2d","media":{"createdAt":"2020-06-18T12:34:52","mediaHeight":120,"sourceId":"a3-ElL9Mru0","referenceCount":0,"mimeType":"video/youtube","resources":{"original":{"url":"https://i.ytimg.com/vi/a3-ElL9Mru0/hqdefault.jpg"},"jpg":{"mimeType":"image/jpg","url":"https://i.ytimg.com/vi/a3-ElL9Mru0/mqdefault.jpg"}},"imageUrl":"https://i.ytimg.com/vi/a3-ElL9Mru0/mqdefault.jpg","uniqueId":"3f42114b-e1cd-4660-9919-516347652e2d","uploadStatus":"init","content":{"resources":{"original":{"url":"https://i.ytimg.com/vi/a3-ElL9Mru0/hqdefault.jpg"},"jpg":{"mimeType":"image/jpg","url":"https://i.ytimg.com/vi/a3-ElL9Mru0/mqdefault.jpg"}},"playerUrl":"https://www.youtube.com/watch?v=a3-ElL9Mru0","imageUrl":"https://i.ytimg.com/vi/a3-ElL9Mru0/mqdefault.jpg"},"mediaType":"video/youtube","status":"draft","updatedAt":"2020-06-18T12:34:52","description":"SUBSCRIBE \u25bb http://bit.ly/SSFootballSub PREMIER LEAGUE HIGHLIGHTS \u25bb http://bit.ly/SkySportsPLHighlights Marcus Rashford speaks exclusively to Sky ...","source":"youtube","id":1881,"title":"Marcus Rashford reacts to the government&#39;s u-turn on free school meals and returning to football (Sky Sports Football)","collectionId":146,"mediaWidth":320,"identifier":"a3-ElL9Mru0"},"format":"1:1","content":{}},{"layout":"frame","size":"small","mediaId":"fd99539b-8383-4af3-8294-e820c5baec99","media":{"createdAt":"2020-05-13T07:20:49","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=QS2NCTqdDqaisekkcjAYAfuH39xbKT1hQBc44pRQ2Zt7n2qXr&public=true","mediaSize":24645,"filename":"Getting_Real_txt.m4v","uploadStatus":"done","status":"draft","updatedAt":"2020-06-12T10:53:12","referenceCount":0,"imageWidth":0,"mediaUrl":"https://dms-test.dimu.org/image/012uP2PAnCEc","mediaWidth":0,"identifier":"012uP2PAnCEc","mediaHeight":0,"imageHeight":0,"id":1742,"mimeType":"image/jpeg","resources":{"ogv":{"mimeType":"video/ogv","url":"https://dms-test.dimu.org/multimedia/012uP2PAnCEc.ogv?mmid=012uP2PAnCEc"},"webm":{"mimeType":"video/webm","url":"https://dms-test.dimu.org/multimedia/012uP2PAnCEc.webm?mmid=012uP2PAnCEc"},"mp4":{"mimeType":"video/mp4","url":"https://dms-test.dimu.org/multimedia/012uP2PAnCEc.mp4?mmid=012uP2PAnCEc"},"download":{"mimeType":"video/mp4","url":"https://qdms-test.dimu.org/012uP2PAnCEc/012uP2PAnCEc.mp4"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uP2PAnCEc"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uP2PAnCEc"},"m3u8":{"mimeType":"application/x-mpegURL","url":"https://qdms-test.dimu.org/012uP2PAnCEc/index.m3u8"}},"uniqueId":"fd99539b-8383-4af3-8294-e820c5baec99","collectionId":146,"mediaType":"video","imageSize":24645,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uP2PAnCEc?mediaType=image/png","title":"Getting_Real_txt.m4v","content":{"title":"Getting_Real_txt.m4v","duration":170.01650793650794,"category":"movie","description":"Desc","filename":"Getting_Real_txt.m4v"},"duration":170,"imageType":"png"},"format":"1:1","content":{}}],"sectionLayout":"grid"},{"title":{"locale:no":"Media slideshow","locale:es":"","locale:sv":"","locale:en":"","locale:de":"","locale:fr":""},"sectionType":"media","media":[{"layout":"frame","size":"small","mediaId":"d1103202-dc3e-4633-a070-c915fe6fdc95","media":{"createdAt":"2020-06-03T12:17:00","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=Pz6gPN9k8gNV7zBcXxwyEByQeMyHhPygeLfhbSypxz1nYDUXj&public=true","mediaSize":69272,"filename":"1999.jpg","uploadStatus":"done","status":"draft","updatedAt":"2020-06-12T11:05:30","referenceCount":0,"imageWidth":2600,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJNJ","mediaWidth":2600,"identifier":"012uPWFDhJNJ","mediaHeight":1671,"imageHeight":1671,"id":1816,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJNJ?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJNJ?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJNJ"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJNJ"}},"uniqueId":"d1103202-dc3e-4633-a070-c915fe6fdc95","collectionId":146,"mediaType":"image","imageSize":69272,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNJ?mediaType=image/png","title":"1999.jpg","content":{"iptcdata":{},"title":"1999.jpg","exifdata":{},"filename":"1999.jpg"},"imageType":"png"},"format":"1:1","content":{}},{"layout":"frame","size":"small","mediaId":"440954ab-912f-4865-8ca1-d5fb79948bc4","media":{"createdAt":"2020-06-11T08:59:19","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=QsmTLuLoWwNcZb5Nw3j4Ufv4U61dWDbMuL8YLRsZEvyZjZ4Cj&public=true","mediaSize":85336,"filename":"best+elton.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-11T08:59:30","referenceCount":0,"imageWidth":1200,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJX4","mediaWidth":1200,"identifier":"012uPWFDhJX4","mediaHeight":800,"imageHeight":800,"id":1870,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJX4?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJX4?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJX4"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJX4"}},"uniqueId":"440954ab-912f-4865-8ca1-d5fb79948bc4","collectionId":146,"mediaType":"image","imageSize":85336,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJX4?mediaType=image/png","title":"best+elton.jpg","content":{"iptcdata":{},"filename":"best+elton.jpg","exifdata":{"ColorSpace":1,"Orientation":1,"thumbnail":{},"YResolution":72,"ResolutionUnit":2,"PixelXDimension":1200,"PixelYDimension":800,"ExifIFDPointer":90,"XResolution":72},"title":"best+elton.jpg"},"imageType":"png"},"format":"1:1","content":{}},{"layout":"frame","size":"small","mediaId":"89c44fa3-f186-4160-9877-47cd7d068582","media":{"createdAt":"2020-06-03T11:48:26","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=PzJJc5BdYkfhx6novZ2Gi3QK8UEqyaSJH8WxwGVePdvEns2EZ&public=true","mediaSize":151937,"filename":"bruce_robson_93.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-03T11:48:34","referenceCount":0,"imageWidth":1000,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJND","mediaWidth":1000,"identifier":"012uPWFDhJND","mediaHeight":552,"imageHeight":552,"id":1811,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJND?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJND?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJND"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJND"}},"uniqueId":"89c44fa3-f186-4160-9877-47cd7d068582","collectionId":146,"mediaType":"image","imageSize":151937,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJND?mediaType=image/png","title":"bruce_robson_93.jpg","content":{"iptcdata":{},"title":"bruce_robson_93.jpg","exifdata":{},"filename":"bruce_robson_93.jpg"},"imageType":"png"},"format":"1:1","content":{}},{"layout":"frame","size":"small","mediaId":"c0b24249-9e99-44f0-9109-03e4c3ca5590","media":{"createdAt":"2020-06-03T12:17:57","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=PCCd9A2vNhgiAcdvtpjeAuyAPuYbnQTyLX68jpdEhVssx4qSb&public=true","mediaSize":41143,"filename":"2013.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-16T06:46:55","referenceCount":0,"imageWidth":985,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL","mediaWidth":985,"identifier":"012uPWFDhJNL","mediaHeight":555,"imageHeight":555,"id":1818,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJNL?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJNL"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJNL"}},"uniqueId":"c0b24249-9e99-44f0-9109-03e4c3ca5590","collectionId":146,"mediaType":"image","imageSize":41143,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image/png","title":"2013.jpg","content":{"iptcdata":{},"filename":"2013.jpg","exifdata":{},"title":"2013.jpg"},"imageType":"png"},"format":"1:1","content":{}}],"sectionLayout":"slideshow"}],"image":{"mediaId":"159675df-223e-4fb7-81fc-c55598c052fe","media":{"createdAt":"2020-06-03T16:03:45","uploadUrl":"https://dms-test.dimu.org:8443/upload?aId=n69nGtiY6xvdS2ZrBXiN3GwY5fbWM9SnKTpTQrZACoDU4uZa8&public=true","mediaSize":199296,"filename":"FAC63_1536\u2006\xd7\u20061507.jpg","uploadStatus":"done","status":"upload","updatedAt":"2020-06-03T16:03:52","referenceCount":0,"imageWidth":1533,"mediaUrl":"https://dms-test.dimu.org/image/012uPWFDhJSc","mediaWidth":1533,"identifier":"012uPWFDhJSc","mediaHeight":1026,"imageHeight":1026,"id":1820,"mimeType":"image/jpeg","resources":{"original":{"url":"https://dms-test.dimu.org/image/012uPWFDhJSc?dimension=original"},"png":{"mimeType":"image/png","url":"https://dms-test.dimu.org/image/012uPWFDhJSc?mediaType=image%2Fpng"},"properties":{"mimeType":"application/json","url":"https://dms-test.dimu.org/properties/012uPWFDhJSc"},"jpeg":{"mimeType":"image/jpeg","url":"https://dms-test.dimu.org/image/012uPWFDhJSc"}},"uniqueId":"159675df-223e-4fb7-81fc-c55598c052fe","collectionId":146,"mediaType":"image","imageSize":199296,"description":"","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJSc?mediaType=image/png","title":"FAC63_1536\u2006\xd7\u20061507.jpg","content":{"iptcdata":{},"filename":"FAC63_1536\u2006\xd7\u20061507.jpg","title":"FAC63_1536\u2006\xd7\u20061507.jpg","exifdata":{}},"imageType":"png"},"uploadProgress":100}},"createdAt":"2020-06-03T16:03:47","uniqueId":"fe5963d4-6567-46f7-8782-31d0c13386fc","collectionId":146,"id":1417,"updatedAt":"2020-06-18T12:37:09","documentType":"article","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJSc?mediaType=image/png","referenceCount":4,"status":"new","parent":null,"metadata":["Sted","5 seksjoner"],"typeLabel":"article"}')},796:function(e){e.exports=JSON.parse('{"documentType":"page/grid","locale":"no","schemaId":59,"title":"1986\u20132013: Fergies fledglings","content":{"title":{"locale:no":"1986\u20132013: Fergies fledglings","locale:sv":"","locale:en":"","locale:de":"","locale:es":"","locale:fr":""},"mediaLayout":"gallery","annotateLayout":"imagemap","annotateColor":"black","backgroundImage":{"uploadProgress":100,"media":{"mediaType":"image"},"imageCropdata":{},"imageFilters":{},"imageFocalpoint":{}},"parallaxImage":{"uploadProgress":100,"media":{"mediaType":"image"},"imageCropdata":{},"imageFilters":{}},"linksLayout":"list","links":[{"placement":"bottom-left","referenceId":"ba586b8e-acfd-4f29-89f3-896aa44e2af0","color":"white","backgroundColor":"#456823","imageCropdata":{},"grid":"2:2","reference":{"documentType":"article","schemaId":58,"uniqueId":"ba586b8e-acfd-4f29-89f3-896aa44e2af0","id":1406,"createdAt":"2020-06-03T11:38:50","status":"new","title":"1986-90: Fergie kommer, ser og vinner!","description":"","locale":"no","updatedAt":"2020-06-03T11:38:50","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNB?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{"locale:sv":"","locale:de":"","locale:en":"","locale:fr":"","locale:es":"","locale:no":"Fergie kommer, ser og vinner!"},"titleColor":"white","top":50,"skin":"dark","runningHead":{"locale:sv":"","locale:de":"","locale:en":"","locale:fr":"","locale:es":"","locale:no":"1986-90:"},"media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"center","referenceId":"0310ef46-62ec-48bc-a5f6-22f4a2e101c1","color":"#ffffff","backgroundColor":"#7f7f7f","imageCropdata":{},"grid":"1:1","reference":{"documentType":"article","schemaId":58,"uniqueId":"0310ef46-62ec-48bc-a5f6-22f4a2e101c1","id":1407,"createdAt":"2020-06-03T11:48:29","status":"new","title":"1990-93: Champions!","description":"","locale":"no","updatedAt":"2020-06-03T11:48:29","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJND?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{},"titleColor":"#ffffff","top":50,"skin":"dark","runningHead":{},"media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"bottom-left","referenceId":"56270aee-cee8-471e-b90b-fa58b4f53ffe","color":"#ffffff","backgroundColor":"#7f7f7f","imageCropdata":{},"grid":"2:1","reference":{"documentType":"article","schemaId":58,"uniqueId":"56270aee-cee8-471e-b90b-fa58b4f53ffe","id":1410,"createdAt":"2020-06-03T12:12:33","status":"new","title":"1993-96: Fra Dobbel til Dobbel-Dobbelx","description":"","locale":"no","updatedAt":"2020-06-03T12:12:33","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNH?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{"locale:sv":"","locale:de":"","locale:en":"","locale:fr":"","locale:es":"","locale:no":"Fra dobbbel til Dobbel-dobbel"},"titleColor":"#ffffff","top":50,"skin":"dark","runningHead":{"locale:sv":"","locale:de":"","locale:en":"","locale:fr":"","locale:es":"","locale:no":"1993\u201396: "},"media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"bottom-left","referenceId":"16ed1ebf-1793-45da-8380-96c91f1a15cd","color":"#ffffff","backgroundColor":"#7f7f7f","imageCropdata":{},"grid":"2:2","reference":{"documentType":"article","schemaId":58,"uniqueId":"16ed1ebf-1793-45da-8380-96c91f1a15cd","id":1411,"createdAt":"2020-06-03T12:12:50","status":"new","title":"1996-99: Europa erobres p\xe5 nyx","description":"","locale":"no","updatedAt":"2020-06-03T12:12:50","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNJ?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{},"runningHead":{},"top":50,"skin":"dark","titleColor":"#ffffff","media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"top-left","referenceId":"4d8b6057-4f9e-499a-ba59-74f704613cc9","color":"#ffffff","backgroundColor":"#7f7f7f","imageCropdata":{},"grid":"1:1","reference":{"documentType":"article","schemaId":58,"uniqueId":"4d8b6057-4f9e-499a-ba59-74f704613cc9","id":1412,"createdAt":"2020-06-03T12:13:09","status":"new","title":"1999-2003: Tre, to, en, null\u2026men s\xe5 gullx","description":"","locale":"no","updatedAt":"2020-06-03T12:13:09","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNK?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{},"titleColor":"#ffffff","top":50,"skin":"dark","runningHead":{},"media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"center","referenceId":"245e3e3a-600d-41ab-8d1f-347fdafee8ef","color":"#ffffff","backgroundColor":"#7f7f7f","imageCropdata":{},"grid":"1:1","reference":{"documentType":"article","schemaId":58,"uniqueId":"245e3e3a-600d-41ab-8d1f-347fdafee8ef","id":1413,"createdAt":"2020-06-03T12:13:21","status":"new","title":"2003-06: T\xf8rke \u2013 men nytt fundament blir lagtx","description":"","locale":"no","updatedAt":"2020-06-03T12:13:21","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNF?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{"locale:sv":"","locale:de":"","locale:en":"","locale:fr":"","locale:es":"","locale:no":"2003\u201306"},"titleColor":"#ffffff","top":50,"skin":"dark","runningHead":{},"media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"center","referenceId":"de0eaef3-713c-4695-9a90-4e199f5b38a7","color":"#ffffff","backgroundColor":"#7f7f7f","imageCropdata":{},"grid":"1:1","reference":{"documentType":"article","schemaId":58,"uniqueId":"de0eaef3-713c-4695-9a90-4e199f5b38a7","id":1414,"createdAt":"2020-06-03T12:13:34","status":"new","title":"2006-09: Tilbake p\xe5 toppen \u2013 i England og Europax","description":"","locale":"no","updatedAt":"2020-06-03T12:13:34","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNG?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{"locale:sv":"","locale:de":"","locale:en":"","locale:fr":"","locale:es":"","locale:no":"2006\u201309"},"titleColor":"#ffffff","top":50,"skin":"dark","runningHead":{},"media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"top-left","referenceId":"e93f6366-e185-476d-8dc3-82ccca3f5f56","color":"#ffffff","backgroundColor":"#7f7f7f","imageCropdata":{},"grid":"1:1","reference":{"documentType":"article","schemaId":58,"uniqueId":"e93f6366-e185-476d-8dc3-82ccca3f5f56","id":1415,"createdAt":"2020-06-03T12:14:02","status":"new","title":"2009-13: Jubel og fortvilelse i Fergies siste \xe5rx","description":"","locale":"no","updatedAt":"2020-06-03T12:14:02","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{"locale:sv":"","locale:de":"","locale:en":"","locale:fr":"","locale:es":"","locale:no":"2009\u201313"},"titleColor":"#ffffff","top":50,"skin":"dark","runningHead":{},"media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0}],"isPartOf":[{"referenceType":"pageIsPartOf","referenceId":"b4a10846-d180-409d-aa47-777d141b8d62","reference":{"documentType":"presentation","schemaId":57,"uniqueId":"b4a10846-d180-409d-aa47-777d141b8d62","id":1405,"createdAt":"2020-06-03T11:34:03","status":"new","title":"Historie","description":"","locale":"no","updatedAt":"2020-06-03T11:34:03","imageUrl":null},"content":null}],"pageType":"mosaic","pageLinks":[{"placement":"top-left","color":"white","referenceId":"ba586b8e-acfd-4f29-89f3-896aa44e2af0","backgroundColor":"#456823","imageCropdata":{},"grid":"2:2","reference":{"documentType":"article","schemaId":58,"uniqueId":"ba586b8e-acfd-4f29-89f3-896aa44e2af0","id":1406,"createdAt":"2020-06-03T11:38:50","status":"new","title":"1986-90: Fergie kommer, ser og vinner!","description":"","locale":"no","updatedAt":"2020-06-03T11:38:50","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNB?mediaType=image/png"},"imageFocalpoint":{},"left":50,"title":{},"runningHead":{},"top":50,"skin":"dark","titleColor":"white","media":{},"imageFilters":{},"x":0,"titleSize":"medium","referenceType":"pageLink","description":{},"y":0},{"placement":"top-left","referenceId":"0310ef46-62ec-48bc-a5f6-22f4a2e101c1","media":{},"imageCropdata":{},"imageFilters":{},"x":0,"reference":{"documentType":"article","schemaId":58,"uniqueId":"0310ef46-62ec-48bc-a5f6-22f4a2e101c1","id":1407,"createdAt":"2020-06-03T11:48:29","status":"new","title":"1990-93: Champions!","description":"","locale":"no","updatedAt":"2020-06-03T11:48:29","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJND?mediaType=image/png"},"grid":"1:1","imageFocalpoint":{},"left":50,"top":50,"skin":"dark","y":0},{"placement":"top-left","referenceId":"56270aee-cee8-471e-b90b-fa58b4f53ffe","media":{},"imageCropdata":{},"imageFilters":{},"x":0,"reference":{"documentType":"article","schemaId":58,"uniqueId":"56270aee-cee8-471e-b90b-fa58b4f53ffe","id":1410,"createdAt":"2020-06-03T12:12:33","status":"new","title":"1993-96: Fra Dobbel til Dobbel-Dobbelx","description":"","locale":"no","updatedAt":"2020-06-03T12:12:33","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNH?mediaType=image/png"},"grid":"2:1","imageFocalpoint":{},"left":50,"top":50,"skin":"dark","y":0},{"placement":"top-left","referenceId":"16ed1ebf-1793-45da-8380-96c91f1a15cd","media":{},"imageCropdata":{},"imageFilters":{},"x":0,"reference":{"documentType":"article","schemaId":58,"uniqueId":"16ed1ebf-1793-45da-8380-96c91f1a15cd","id":1411,"createdAt":"2020-06-03T12:12:50","status":"new","title":"1996-99: Europa erobres p\xe5 nyx","description":"","locale":"no","updatedAt":"2020-06-03T12:12:50","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNJ?mediaType=image/png"},"grid":"2:2","imageFocalpoint":{},"left":50,"top":50,"skin":"dark","y":0},{"placement":"top-left","referenceId":"4d8b6057-4f9e-499a-ba59-74f704613cc9","media":{},"imageCropdata":{},"imageFilters":{},"x":0,"reference":{"documentType":"article","schemaId":58,"uniqueId":"4d8b6057-4f9e-499a-ba59-74f704613cc9","id":1412,"createdAt":"2020-06-03T12:13:09","status":"new","title":"1999-2003: Tre, to, en, null\u2026men s\xe5 gullx","description":"","locale":"no","updatedAt":"2020-06-03T12:13:09","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNK?mediaType=image/png"},"grid":"1:1","imageFocalpoint":{},"left":50,"top":50,"skin":"dark","y":0},{"placement":"top-left","referenceId":"245e3e3a-600d-41ab-8d1f-347fdafee8ef","media":{},"imageCropdata":{},"imageFilters":{},"x":0,"reference":{"documentType":"article","schemaId":58,"uniqueId":"245e3e3a-600d-41ab-8d1f-347fdafee8ef","id":1413,"createdAt":"2020-06-03T12:13:21","status":"new","title":"2003-06: T\xf8rke \u2013 men nytt fundament blir lagtx","description":"","locale":"no","updatedAt":"2020-06-03T12:13:21","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNF?mediaType=image/png"},"grid":"1:1","imageFocalpoint":{},"left":50,"top":50,"skin":"dark","y":0},{"placement":"top-left","referenceId":"de0eaef3-713c-4695-9a90-4e199f5b38a7","media":{},"imageCropdata":{},"imageFilters":{},"x":0,"reference":{"documentType":"article","schemaId":58,"uniqueId":"de0eaef3-713c-4695-9a90-4e199f5b38a7","id":1414,"createdAt":"2020-06-03T12:13:34","status":"new","title":"2006-09: Tilbake p\xe5 toppen \u2013 i England og Europax","description":"","locale":"no","updatedAt":"2020-06-03T12:13:34","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNG?mediaType=image/png"},"grid":"1:1","imageFocalpoint":{},"left":50,"top":50,"skin":"dark","y":0},{"placement":"top-left","referenceId":"e93f6366-e185-476d-8dc3-82ccca3f5f56","media":{},"imageCropdata":{},"imageFilters":{},"x":0,"reference":{"documentType":"article","schemaId":58,"uniqueId":"e93f6366-e185-476d-8dc3-82ccca3f5f56","id":1415,"createdAt":"2020-06-03T12:14:02","status":"new","title":"2009-13: Jubel og fortvilelse i Fergies siste \xe5rx","description":"","locale":"no","updatedAt":"2020-06-03T12:14:02","imageUrl":"https://dms-test.dimu.org/image/012uPWFDhJNL?mediaType=image/png"},"grid":"1:1","imageFocalpoint":{},"left":50,"top":50,"skin":"dark","y":0}],"pageTitle":{"locale:de":"","locale:es":"","locale:en":"","locale:fr":"","locale:sv":"","locale:no":"1986\u20132013: Fergies fledglings"},"pageImage":{"uploadProgress":100,"media":{"mediaType":"image"}},"annotateImage":{"imageCropdata":{},"imageFilters":{},"uploadProgress":100,"imageFocalpoint":{},"media":{"mediaType":"image"}}},"parent":null,"createdAt":"2020-06-03T11:52:31","status":"publish","uniqueId":"cb8dd33c-96e6-4f2b-a9b1-5199884c610f","id":1409,"collectionId":146,"referenceCount":17,"imageUrl":"/static/media/pageMosaic.8dd7bc1a.svg","updatedAt":"2020-06-16T10:07:50","metadata":[],"typeLabel":"page/grid"}')},829:function(e,t,a){e.exports=a(1705)},834:function(e,t,a){},835:function(e,t,a){},836:function(e,t,a){},837:function(e,t,a){}},[[829,1,2]]]);
//# sourceMappingURL=main.3423aa4e.chunk.js.map