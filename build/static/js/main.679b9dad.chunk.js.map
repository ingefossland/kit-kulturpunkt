{"version":3,"sources":["redux/settings.js","redux/bulk/bulkSlice.js","redux/modelsById/modelsByIdSlice.js","redux/finder/finderSlice.js","redux/app/appSlice.js","app/settings/kiosk/theme.js","app/settings/kiosk/action.js","app/settings/kiosk/index.js","app/settings/kiosk/app.js","app/settings/kiosk/menu.js","components/App/utils/theme.overrides.js","components/App/utils/createAppTheme.js","components/App/AppBase.js","components/App/AppBody.js","components/NavAction/NavActionButton.js","components/NavAction/NavActionDropdown.js","components/NavAction/NavActionMenuList.js","components/NavAction/NavActionMenuItem.js","components/NavAction/NavActionMenuLink.js","components/NavAction/NavActionMenu.js","components/NavAction/NavActionItem.js","components/NavAction/NavAction.js","components/NavMenu/NavMenuList.js","components/NavMenu/NavMenuItem.js","components/NavMenu/NavMenuLink.js","components/NavMenu/NavMenuLabel.js","components/NavMenu/NavMenu.js","components/App/AppSidebar.js","components/App/AppContent.js","components/NavSearch/NavSearch.js","components/App/AppSearch.js","components/App/AppIdentifier.js","components/NavPath/Path.js","components/NavPath/PathItem.js","components/NavPath/PathButton.js","components/NavPath/PathDropdown.js","components/NavPath/PathFiltersList.js","components/NavPath/PathFilters.js","components/NavPath/NavPath.js","components/App/AppSubview.js","components/App/AppHeader.js","components/App/AppInfo.js","components/App/AppLayout.js","redux/site/siteSlice.js","redux/collection/collectionSlice.js","components/Loader/Loader.js","icons/AppIcon.js","icons/MenuIcon.js","icons/EditorIcon.js","components/KpIcons/Article.js","components/KpIcons/Device.js","components/KpIcons/DeviceMac.js","components/KpIcons/DeviceWin.js","components/KpIcons/PageHome.js","components/KpIcons/PageGrid.js","components/KpIcons/PageMedia.js","components/KpIcons/PageTimeline.js","components/KpIcons/PageList.js","components/KpIcons/PageAnnotate.js","components/KpIcons/PageMap.js","components/KpIcons/PageParent.js","components/KpIcons/index.js","app/settings/kp/theme.js","icons/index.js","app/AppLoader.js","redux/searchByUrl/searchByUrlSlice.js","app/AppSearch.js","components/Finder/FinderBase.js","components/Finder/FinderSidebar.js","components/Finder/FinderSection.js","components/PrimusView/ViewBase.js","components/Finder/FinderHeader.js","components/Finder/FinderBody.js","components/Finder/FinderToolbar.js","components/NavView/NavViewButton.js","components/NavView/NavView.js","components/NavView/ViewOptions.js","components/NavView/RowsOptions.js","components/NavView/SortOptions.js","components/NavView/SizeOptions.js","components/PrimusView/ViewHeader.js","components/PrimusView/ViewLoader.js","components/PrimusView/EmptyView.js","components/PrimusView/ListView.js","components/Module/ModuleBase.js","components/Module/ModuleSelect.js","components/Module/ModulePrefix.js","components/Module/ModuleImage.js","components/Module/ModuleMedia.js","components/Module/ModuleTitle.js","components/Module/ModuleLabel.js","components/Module/ModuleMetadata.js","components/Module/ModuleDescription.js","components/Module/ModuleStatus.js","components/Module/ModuleDate.js","components/Module/ModuleByline.js","components/NavToolbar/NavToolbarOptions.js","components/NavToolbar/NavToolbarSettings.js","components/NavToolbar/ButtonSelect.js","components/NavToolbar/NavToolbarButton.js","components/NavToolbar/getToolbar.js","components/NavToolbar/NavToolbar.js","components/NavSettings/ListSettings.js","components/NavSettings/GridSettingsList.js","components/NavSettings/NavSettings.js","components/NavSettings/GridSettings.js","components/Module/CollapsedModule.js","components/Module/ModuleFormat.js","components/Module/ModuleTabs.js","components/Module/ModuleHeader.js","components/Module/ModuleBody.js","components/Module/ModuleFooter.js","components/Module/ModuleButtons.js","components/Module/ExpandedModule.js","components/Module/Module.js","components/Module/ModuleIdentifier.js","components/Module/ModuleToolbar.js","components/Module/ModuleActionbar.js","components/Module/ModuleSettings.js","components/PrimusView/utils/getGallery.js","components/PrimusView/utils/getImageUrl.js","components/PrimusView/ListModule.js","components/PrimusView/GridModule.js","components/PrimusView/GridView.js","components/PrimusView/Gallery.js","components/PrimusView/GalleryView.js","components/PrimusView/GalleryModule.js","components/PrimusView/TableView.js","components/PrimusView/TableModule.js","components/PrimusView/Masonry.js","components/PrimusView/MasonryView.js","components/PrimusView/MasonryModule.js","components/KpView/ViewBase.js","components/KpView/ViewHeader.js","components/KpView/ViewLoader.js","components/KpView/ViewPages.js","components/KpView/ListView.js","components/KpView/EmptyView.js","components/KpView/utils/getImageUrl.js","components/KpView/ListModule.js","components/KpView/Masonry.js","components/KpView/GridModule.js","components/KpView/GridView.js","components/KpView/Gallery.js","components/KpView/GalleryView.js","components/KpView/GalleryModule.js","components/KpView/TableModule.js","components/KpView/TableView.js","components/KpView/MasonryView.js","components/KpView/MasonryModule.js","components/KpView/IconsView.js","components/KpView/IconsModule.js","components/KpEditor/schemas/article/section/mediaSize.js","components/KpEditor/schemas/article/section/mediaFormat.js","components/KpEditor/schemas/article/index.js","components/KpEditor/schemas/article/schema.js","components/KpEditor/schemas/article/section/schema.js","components/KpEditor/schemas/article/section/sectionType.js","components/KpEditor/schemas/article/section/sectionText.js","components/KpEditor/schemas/article/section/sectionMedia.js","components/KpEditor/schemas/article/section/media.js","components/KpEditor/schemas/article/section/sectionDm.js","components/KpEditor/schemas/article/section/ekultur.js","components/KpEditor/schemas/article/section/sectionLinks.js","components/KpEditor/schemas/article/section/sectionAttachments.js","components/KpEditor/schemas/article/section/attachments.js","components/KpEditor/schemas/article/section/sectionQuote.js","components/KpEditor/schemas/article/uiSchema.js","components/KpEditor/schemas/article/settings/uiSchema.js","components/KpEditor/schemas/article/header/uiSchema.js","components/KpEditor/schemas/article/body/uiSchema.js","components/KpEditor/schemas/article/section/uiSchema.js","components/KpEditor/schemas/article/section/uiPreview.js","components/KpEditor/schemas/article/section/mediaUi.js","components/KpEditor/schemas/article/section/attachmentsUi.js","components/KpEditor/schemas/article/section/ekulturUi.js","components/KpEditor/schemas/article/section/linksUi.js","components/KpEditor/schemas/article/isPartOf/uiSchema.js","components/KpEditor/KpDeviceField.js","components/KpEditor/KpDeviceLinkField.js","components/KpEditor/KpLocation/GeopointField.js","components/KpEditor/KpLocation/GeopointLoader.js","components/KpEditor/KpLocation/GeopointBase.js","components/KpEditor/KpLocation/GeopointMap.js","components/KpEditor/KpLocation/GeopointMapCenter.js","components/KpEditor/KpLocation/GeopointPreview.js","components/KpEditor/KpLocation/GeopointSearch.js","components/KpEditor/KpLocation/GeopointEditor.js","components/KpEditor/KpLocation/Geopoint.js","components/KpEditor/KpLocation/Geocoder.js","components/KpEditor/KpLocation/registry.js","components/KpEditor/KpPageField.js","components/KpEditor/KpLink.uiSchema.js","components/KpEditor/KpLink.model.js","components/KpEditor/KpLink.schema.js","components/KpEditor/KpLinkMediaLayout.js","components/KpEditor/KpLinkReferenceLayout.js","components/KpEditor/KpLinkContentField.js","components/KpEditor/KpLinkField.js","components/KpEditor/KpLinkLayout.js","components/KpEditor/KpAnnotateImageField.js","components/KpEditor/KpAnnotateLinks.model.js","components/KpEditor/KpAnnotateLinks.uiSchema.js","components/KpEditor/KpAnnotateLinksField.js","components/KpEditor/registry.js","components/DocumentEditor/DocumentParentIdField.js","components/TreeView/TreeView.js","components/TreeView/TreeList.js","components/TreeView/TreeModule.js","components/ColumnView/ColumnView.js","components/ColumnView/ColumnList.js","components/ColumnView/ColumnModule.js","components/DocumentEditor/DocumentListRemove.js","components/DocumentEditor/DocumentParentsField.js","components/DocumentEditor/DocumentListSearch.js","components/DocumentEditor/DocumentChildrenField.js","components/DocumentEditor/DocumentLocaleField.js","components/DocumentEditor/DocumentCollectionIdField.js","components/DocumentEditor/registry.js","components/ReferenceEditor/ReferenceField.js","components/ReferenceEditor/registry.js","components/ThemeEditor/ThemePaletteColor.schema.js","components/ThemeEditor/ThemePalette.schema.js","components/ThemeEditor/ThemeEditor.schema.js","components/CollectionEditor/CollectionEditor.schema.js","components/ThemeEditor/ThemePaletteColor.uiSchema.js","components/ThemeEditor/ThemeEditor.uiSchema.js","components/CollectionEditor/CollectionEditor.model.js","components/CollectionEditor/CollectionEditor.uiSchema.js","components/CollectionEditor/CollectionSiteIdField.js","components/CollectionEditor/registry.js","components/PageEditor/PageEditorField.js","components/PageEditor/PageEditorLayout.js","components/PageEditor/PageContentField.js","components/PageEditor/PageMenu.js","components/PageEditor/PageContentLayout.js","components/PageEditor/PageSettingsField.js","components/PageEditor/PageSettingsLayout.js","components/PageEditor/registry.js","components/ThemeEditor/ThemeEditor.model.js","components/ThemeEditor/ThemePalette.model.js","components/ThemeEditor/ThemePaletteField.js","components/ThemeEditor/ThemePaletteColorField.js","components/ThemeEditor/ThemeColorWidget.js","components/ThemeEditor/registry.js","components/LocalizedString/LocalizedStringSettings.js","components/LocalizedString/LocalizedStringField.js","components/LocalizedString/registry.js","components/PrimusEditor/PrimusObjectFieldTemplate.js","components/PrimusEditor/utils/getMeasure.js","components/PrimusEditor/utils/getUpload.js","components/PrimusEditor/utils/getUploadProps.js","components/PrimusEditor/utils/getEventsProps.js","components/PrimusEditor/utils/arrayUtils.js","components/PrimusEditor/utils/getUiFieldset.js","components/PrimusEditor/utils/getUiMenu.js","components/PrimusEditor/PrimusEditorField.js","components/PrimusEditor/utils/getPrimusEventsMenu.js","components/PrimusEditor/utils/getPrimusMediaMenu.js","components/PrimusEditor/utils/getEditorAction.js","components/Editor/EditorBase.js","components/Editor/EditorPath.js","components/NavLocale/LocaleIcon.js","components/NavLocale/NavLocale.js","components/Editor/EditorLocale.js","components/Editor/EditorStatus.js","components/Editor/EditorAction.js","components/Editor/EditorToogle.js","components/Editor/EditorHeader.js","components/Editor/EditorFooter.js","components/Editor/EditorBody.js","components/Editor/EditorContent.js","components/Editor/EditorSection.js","components/Editor/EditorSidebar.js","components/Editor/EditorPreview.js","components/Editor/EditorOverlay.js","components/Editor/EditorLayout.js","components/PrimusEditor/PrimusEditorLayout.js","components/PrimusEditor/PrimusContentField.js","components/PrimusEditor/PrimusContentLayout.js","components/PrimusEditor/PrimusSectionField.js","components/PrimusEditor/PrimusSectionLayout.js","components/PrimusMedia/PrimusMediaArrayTemplate.js","components/PrimusMedia/ImageEditor.schema.js","components/PrimusMedia/ImageEditor.uiSchema.js","components/PrimusMedia/PrimusMedia.model.js","components/PrimusMedia/PrimusMedia.schema.js","components/PrimusMedia/PrimusMedia.uiSchema.js","components/PrimusMedia/ImageEditorToolbar.js","components/PrimusMedia/ImageEditorNavigation.js","components/PrimusMedia/ImagePreviewToolbar.js","components/PrimusMedia/ImagePreview.js","components/PrimusMedia/utils/getImagePoint.js","components/PrimusMedia/ImageAnnotationsMarkerDefault.js","components/PrimusMedia/ImageAnnotationsBase.js","components/PrimusMedia/ImageAnnotationsMarkerPrimus.js","components/PrimusMedia/ImageAnnotations.js","components/PrimusMedia/ImageCropperBase.js","components/PrimusMedia/ImageCropper.js","components/PrimusMedia/ImageEditorLayout.js","components/PrimusMedia/ImageEditor.model.js","components/PrimusMedia/PrimusMediaTheme.js","components/PrimusMedia/ImageEditorField.js","components/PrimusMedia/PrimusMediaEditorField.js","components/PrimusEditor/PrimusMediaField.js","components/PrimusEditor/PrimusMediaLayout.js","components/PrimusEditor/SelectAdornmentWidget.js","components/PrimusEditor/SelectNativeWidget.js","components/PrimusEditor/PrimusFieldsetLayout.js","components/PrimusEditor/AutocompleteOptionsField.js","components/PrimusEditor/KnavSearchField.js","components/PrimusEditor/AutocompleteTagsField.js","components/PrimusEditor/AutocompleteListField.js","components/PrimusEditor/KnavTagsField.js","components/PrimusEditor/PersonRoleField.js","components/PrimusEditor/PersonStatusField.js","components/PrimusEditor/DesignationField.js","components/PrimusEditor/Designation.model.js","components/PrimusEditor/Designation.schema.js","components/PrimusEditor/Designation.uiSchema.js","components/PrimusEditor/DesignationTagsField.js","components/PrimusEditor/ClassificationField.js","components/PrimusEditor/Classification.model.js","components/PrimusEditor/Classification.schema.js","components/PrimusEditor/ClassificationTagsField.js","components/PrimusEditor/MaterialField.js","components/PrimusEditor/Material.model.js","components/PrimusEditor/Material.schema.js","components/PrimusEditor/Material.uiSchema.js","components/PrimusEditor/MaterialTagsField.js","components/PrimusEditor/TechniqueField.js","components/PrimusEditor/Technique.model.js","components/PrimusEditor/Technique.schema.js","components/PrimusEditor/Technique.uiSchema.js","components/PrimusEditor/TechniqueTagsField.js","components/PrimusEditor/Color.model.js","components/PrimusEditor/Color.schema.js","components/PrimusEditor/Color.uiSchema.js","components/PrimusEditor/ColorTagsDropImage.js","components/PrimusEditor/ColorTagsAutocomplete.js","components/PrimusEditor/ColorTagsField.js","components/PrimusEditor/Measure.model.js","components/PrimusEditor/Measure.schema.js","components/PrimusEditor/Measure.uiSchema.js","components/PrimusEditor/MeasureTypeField.js","components/PrimusEditor/TextFieldPopper.js","components/PrimusEditor/MeasureField.js","components/PrimusEditor/MeasuresListField.js","components/PrimusEditor/MeasureTagsAutocompleteField.js","components/PrimusEditor/MeasureTagsField.js","components/PrimusEditor/PersonField.js","components/PrimusEditor/Person.schema.js","components/PrimusEditor/PersonRole.schema.js","components/PrimusEditor/Person.model.js","components/PrimusEditor/Person.uiSchema.js","components/PrimusEditor/KnavListLayout.js","components/PrimusEditor/KnavListItemLayout.js","components/PrimusEditor/KnavListArrayField.js","components/PrimusEditor/ListSearch.js","components/PrimusEditor/ListSearchLayout.js","components/PrimusEditor/ListResultsLayout.js","components/PrimusEditor/ListResultsItemLayout.js","components/PrimusEditor/ListResultsAddLayout.js","components/PrimusEditor/KnavListSearchField.js","components/PrimusEditor/KnavListField.js","components/PrimusEditor/PeopleListField.js","components/PrimusEditor/PeopleTagsField.js","components/PrimusEditor/PlaceStatusField.js","components/PrimusEditor/PlaceField.js","components/PrimusEditor/Place.schema.js","components/PrimusEditor/Place.model.js","components/PrimusEditor/Place.uiSchema.js","components/PrimusEditor/PlacesListField.js","components/PrimusEditor/PlaceTagsField.js","components/PrimusEditor/SearchAutocomplete.js","components/PrimusEditor/ObjectSearchField.js","components/PrimusEditor/ObjectField.js","components/PrimusEditor/Dating.schema.js","components/PrimusEditor/Dating.model.js","components/PrimusEditor/Dating.uiSchema.js","components/PrimusEditor/DatingField.js","components/PrimusEditor/EventType.schema.js","components/PrimusEditor/Event.model.js","components/PrimusEditor/Event.schema.js","components/PrimusEditor/Event.uiSchema.js","components/PrimusEditor/EventField.js","components/PrimusEditor/EventTypeField.js","components/PrimusEditor/EventType.model.js","components/PrimusEditor/EventType.uiSchema.js","components/PrimusEditor/EventsListField.js","components/PrimusEditor/LicenseIcons.js","components/PrimusEditor/icons/CC.js","components/PrimusEditor/icons/By.js","components/PrimusEditor/icons/Nd.js","components/PrimusEditor/icons/Nc.js","components/PrimusEditor/icons/Sa.js","components/PrimusEditor/icons/Pd.js","components/PrimusEditor/icons/Pdm.js","components/PrimusEditor/icons/Copyright.js","components/PrimusEditor/LicenseFieldAutocomplete.js","components/PrimusEditor/LicenseField.data.js","components/PrimusEditor/LicenseField.js","components/PrimusEditor/registry.js","components/PrimusMedia/PrimusMediaSectionField.js","components/PrimusMedia/PrimusMediaSectionLayout.js","components/PrimusMedia/ImageAnnotationsSectionField.js","components/PrimusMedia/ImageAnnotationsSectionLayout.js","components/PrimusMedia/ImageAnnotationsModuleField.js","components/PrimusMedia/ImageAnnotationsModuleLayout.js","components/NavToolbar/ButtonEdit.js","components/NavToolbar/ButtonView.js","components/NavToolbar/ButtonLink.js","components/NavToolbar/ButtonAdd.js","components/NavToolbar/ButtonRemove.js","components/NavToolbar/ButtonDelete.js","components/NavToolbar/ButtonRestore.js","components/NavToolbar/ButtonErase.js","components/PrimusMedia/registry.js","components/registry.js","components/KpEditor/schemas/page/schema.js","components/KpEditor/schemas/page/itemsUi.js","components/KpEditor/schemas/page/uiSchema.js","components/KpEditor/schemas/page/uiPreview.js","components/KpEditor/schemas/page/index.js","components/KpEditor/schemas/pageHome/schema.js","components/KpEditor/schemas/pageHome/itemsUi.js","components/KpEditor/schemas/pageHome/uiSchema.js","components/KpPreview/PageHeader.js","components/KpPreview/GridModule.js","components/KpPreview/utils/getPreviewItem.js","components/KpPreview/PreviewFormat.js","components/KpPreview/Grid.js","components/KpEditor/schemas/pageHome/index.js","components/KpEditor/schemas/pageHome/PreviewTemplate.js","components/KpEditor/schemas/pageTopic/schema.js","components/KpEditor/schemas/pageTopic/itemsUi.js","components/KpEditor/schemas/pageTopic/index.js","components/KpEditor/schemas/pageTopic/uiSchema.js","components/KpEditor/schemas/pageMap/schema.js","components/KpEditor/schemas/pageMap/itemsUi.js","components/KpEditor/schemas/pageMap/uiSchema.js","components/KpPreview/DefaultMapMarker.js","components/KpPreview/DefaultMap.js","components/KpPreview/RoundtripMapMarker.js","components/KpPreview/RoundtripMap.js","components/KpEditor/schemas/pageMap/PreviewTemplate.js","components/KpEditor/schemas/pageMap/index.js","components/KpEditor/schemas/pageGrid/schema.js","components/KpEditor/schemas/pageGrid/itemsUi.js","components/KpEditor/schemas/pageGrid/index.js","components/KpEditor/schemas/pageGrid/uiSchema.js","components/KpEditor/schemas/pageGrid/PreviewTemplate.js","components/KpEditor/schemas/pageList/schema.js","components/KpEditor/schemas/pageList/itemsUi.js","components/KpEditor/schemas/pageList/index.js","components/KpEditor/schemas/pageList/uiSchema.js","components/KpEditor/schemas/pageList/PreviewTemplate.js","components/KpEditor/schemas/pageTimeline/schema.js","components/KpEditor/schemas/pageTimeline/uiSchema.js","components/KpPreview/TimelineModule.js","components/KpPreview/Timeline.js","components/KpEditor/schemas/pageTimeline/index.js","components/KpEditor/schemas/pageTimeline/PreviewTemplate.js","components/KpEditor/schemas/pageAnnotate/schema.js","components/KpEditor/schemas/pageAnnotate/itemsUi.js","components/KpEditor/schemas/pageAnnotate/uiSchema.js","components/KpPreview/AnnotateImagemap.js","components/KpPreview/utils/getContrastColor.js","components/KpPreview/AnnotateLegends.js","components/KpPreview/Annotate.js","components/KpEditor/schemas/pageAnnotate/index.js","components/KpEditor/schemas/pageAnnotate/PreviewTemplate.js","components/KpEditor/schemas/pageMedia/schema.js","components/KpEditor/schemas/pageMedia/itemsUi.js","components/KpEditor/schemas/device/uiSchema.js","components/KpEditor/schemas/device/uiPreview.js","components/KpEditor/schemas/index.js","components/KpEditor/schemas/pageMedia/index.js","components/KpEditor/schemas/pageMedia/uiSchema.js","components/KpEditor/schemas/pageMedia/PreviewTemplate.js","components/KpEditor/schemas/device/index.js","components/KpEditor/schemas/device/schema.js","components/KpEditor/schemas/device/PreviewTemplate.js","app/schemas/index.js","app/utils/getUiPreview.js","app/FinderModel.js","app/FinderView.js","app/FinderViewList.js","app/FinderViewTable.js","app/FinderViewIcons.js","app/FinderViewGrid.js","app/FinderViewGallery.js","app/FinderViewMasonry.js","app/FinderResults.js","app/FinderQuery.js","components/PrimusPreview/ArticleBase.js","components/PrimusPreview/ArticleHeader.js","components/PrimusPreview/ArticleTypography.js","components/PrimusPreview/ArticleSection.js","components/PrimusPreview/MediaSlideshow.js","components/PrimusPreview/MetaList.js","components/PrimusPreview/MetaListItem.js","components/PrimusPreview/MetaLabel.js","components/PrimusPreview/MetaValue.js","components/PrimusPreview/MetaCode.js","components/PrimusPreview/Measures.js","components/PrimusPreview/Metadata.js","components/PrimusPreview/Classifications.js","components/PrimusPreview/Motif.js","components/PrimusPreview/Events.js","components/PrimusPreview/Colors.js","components/PrimusPreview/PreviewTemplate.js","components/PrimusPreview/DocumentPreview.js","components/PrimusPreview/EkulturPreview.js","components/PrimusPreview/KnavPreview.js","components/PrimusPreview/PersonPreview.js","components/PrimusPreview/PreviewScroller.js","app/BulkPreviewList.js","components/PrimusPreview/PreviewCols.js","components/PrimusPreview/PreviewGrid.js","app/BulkPreviewGallery.js","app/BulkPreviewMasonry.js","app/BulkPreview.js","app/BulkEditor.js","app/FinderLoader.js","app/Finder.js","redux/editor/editorSlice.js","app/EditorLoader.js","Dialog/DialogBase.js","Dialog/DialogFooter.js","Dialog/DialogSearch.js","Dialog/DialogTabs.js","Dialog/DialogHeader.js","Dialog/DialogSection.js","Dialog/ResultsLoader.js","Dialog/ResultsFooter.js","Dialog/DialogModel.js","Dialog/ResultsList.js","Dialog/ResultsGallery.js","Dialog/ResultsHeader.js","Dialog/ResultsUploads.js","Dialog/MediaResults.js","Dialog/DocumentsResults.js","Dialog/SearchResultsDefault.js","Dialog/SearchResults.js","Dialog/SearchDialog.js","Dialog/FavouritesDialog.js","redux/uploadByUrl/uploadByUrlSlice.js","Dialog/DialogUpload.js","Dialog/UploadDialog.js","Dialog/MediaDialog.js","Dialog/DocumentsDialog.js","Dialog/Dialog.js","app/EditorDialog.js","app/EditorSchema.js","app/Editor.js","app/AppSettings.js","app/DocumentPreview.js","components/PrimusEditor/schemas/artwork/schema.js","components/PrimusEditor/Artwork.model.js","components/PrimusEditor/schemas/artwork/index.js","components/PrimusEditor/schemas/artwork/uiSchema.js","components/PrimusEditor/schemas/artwork/basis.uiSchema.js","components/PrimusEditor/schemas/artwork/measure.uiSchema.js","components/PrimusEditor/schemas/artwork/metadata.uiSchema.js","components/PrimusEditor/schemas/artwork/motif.uiSchema.js","components/PrimusEditor/schemas/artwork/appearance.uiSchema.js","components/PrimusEditor/schemas/artwork/events.uiSchema.js","components/PrimusEditor/schemas/artwork/media.uiSchema.js","components/PrimusEditor/ArtworkPreview.js","app/DocumentEditor.js","app/DocumentViewer.js","app/MediaEditor.js","app/KpRoutes.js","app/KioskApp.js","app/settings/kp/action.js","app/settings/kp/index.js","app/settings/kp/app.js","app/settings/kp/menu.js","app/KpApp.js","app/AppRoutes.js","app/index.js","app/App.js","redux/user/userSlice.js","redux/rootReducer.js","redux/store.js","serviceWorker.js","translations/nb.js","translations/nn.js","i18n.js","translations/en.js","translations/sv.js","index.js"],"names":["API","bulkSlice","createSlice","name","initialState","items","count","isLoading","isSaving","formData","schema","bulkSchema","reducers","requestBulk","state","action","receiveBulkEditor","payload","bulkChange","bulkAdd","uniqueId","bulkItems","includes","bulkRemove","filter","id","length","bulkToggle","dispatch","getState","bulk","bulkReset","actions","modelsByIdSlice","requestModel","receiveModel","receiveModelProps","props","requestParents","parents","receiveParents","requestChildren","children","receiveChildren","requestReferences","references","receiveReferences","receiveParentId","parentId","receiveStatus","status","requestSave","receiveSave","getModel","modelName","sourceId","source","fetch","method","headers","then","response","json","error","console","log","loadModel","url","deleteModel","data","eraseModel","addDocumentSource","model","callback","undefined","toLowerCase","schemaId","JSON","stringify","body","addMediaSource","finderByIdSlice","sortOptions","sort","rowsOptions","rows","viewOptions","view","primaryAction","parent","parentsByUrl","menu","menuByUrl","menuById","sidebar","expanded","requestFinder","receiveFinder","expandSidebar","collapseSidebar","toggleSidebar","receiveSidebar","collapseView","expandView","receiveView","expandPreview","preview","collapsePreview","receivePreview","expandEditor","editor","collapseEditor","receiveEditor","requestViewOptions","receiveViewOptions","receiveSort","requestSortOptions","receiveSortOptions","requestPrimaryAction","receivePrimaryAction","requestMenu","receiveMenu","requestMenuByUrl","receiveMenuByUrl","requestMenuItem","item","receiveMenuItem","moveMenuItem","destination","expandMenuItem","collapseMenuItem","toggleMenuItem","getMenu","siteName","root","collectionId","getChild","sections","pathname","search","query","startsWith","replace","models","child","map","section","menuItem","getChildren","forEach","push","rootMenu","getPrimaryAction","getParents","finder","pathUrl","path","split","join","role","getEditor","requestMenuTree","receiveMenuTree","requestMenuTreeItem","receiveMenuTreeItem","appSlice","icon","version","title","siteTitle","siteId","theme","palette","type","header","subview","requestApp","collectionType","receiveApp","receiveTheme","toggleDarkMode","receiveAppSite","receiveAppCollection","requestSubview","receiveSubview","requestLayout","receiveLayout","toggleSearch","collapseSearch","toggleHeader","expandHeader","collapseHeader","toggleSubview","requestSchemasByName","schemasByName","receiveSchemasByName","receiveMenuItemByUrl","getApp","app","getAppProperties","getFinder","subtitle","documentType","mediaType","languages","MuiInputBase","fontFamily","lineHeight","MuiFilledInput","borderTopLeftRadius","borderTopRightRadius","MuiFormLabel","MuiFormHelperText","MuiButtonGroup","grouped","MuiButton","fontWeight","textTransform","borderRadius","outlined","getColor","color","Color","hex","getPalette","primaryColor","secondaryColor","primary","main","secondary","createAppTheme","createMuiTheme","typography","overrides","useStyles","makeStyles","position","backgroundColor","background","default","zIndex","top","right","left","bottom","overflow","display","flexDirection","AppBase","className","classes","ThemeProvider","defaultProps","flexGrow","transition","AppBody","aria-expanded","marginRight","spacing","marginLeft","toggle","width","ActionButton","forwardedRef","size","variant","disabled","controls","onClick","onToggle","label","ButtonGroup","aria-label","ref","dropdown","minWidth","NavActionDropdown","open","anchorEl","placement","onClickAway","Popper","style","ClickAwayListener","Paper","elevation","square","actionList","paddingTop","paddingBottom","ActionMenuList","actionListItem","padding","borderTop","borderTopColor","divider","marginTop","ActionMenuItem","actionLink","paddingLeft","paddingRight","text","fontSize","ActionMenuLink","description","ListItemIcon","ListItemText","NavMenu","icons","onSelect","_onToggle","event","renderLink","selected","_onSelect","renderItem","index","hidden","key","NavActionItem","useState","setExpanded","anchorRef","useRef","prevExpanded","NavActionButton","current","NavActionMenu","NavAction","boxSizing","listStyle","margin","MenuList","opacity","toggleCollapsed","transform","toggleExpanded","fontStyle","MenuToggle","toggleIcon","IconButton","MenuItem","alignItems","justifyContent","light","dark","flexBasis","textAlign","MenuLink","ButtonBase","aria-selected","Typography","component","align","noWrap","nowrap","marginBottom","NavMenuLabel","NavMenuCalendar","currentUrl","NavMenuLink","NavMenuList","calendar","NavMenuItem","renderLabel","AppSidebar","height","field","input","border","outline","reset","NavSearch","InputProps","inputRef","inputProps","inputClassName","placeholder","value","onChange","onFocus","onBlur","onReset","ButtonReset","ButtonToggle","disableRipple","startAdornment","endAdornment","InputBase","growingField","growingInput","suggestRoot","suggestOverlay","pointerEvents","suggestPopper","suggestPaper","boxShadow","shadows","suggestList","suggestListItem","suggestIcon","suggestLabel","suggestCount","suggestQuery","textDecoration","content","suggestGroupList","suggestGroupLabel","AppSearch","options","scopes","suggest","autocompleteProps","fieldClassName","scopeOptions","option","suggestOptions","_getOptionHighlight","q","matches","match","parse","part","highlight","suggestHighlight","_getOptionQuery","Autocomplete","popper","paper","listbox","groupUl","groupLabel","fullWidth","disablePortal","filterOptions","inputValue","filtered","matchSorter","keys","baseSort","a","b","renderGroup","group","renderOption","getOptionLabel","renderInput","target","identifier","contrastText","breakpoints","down","AppIdentifier","isDark","Path","Breadcrumbs","separator","cursor","PathItem","Link","href","data-url","PathButton","aria-controls","aria-haspopup","PathDropdown","onCollapse","list","button","ListItem","List","PathFilters","cols","SettingsButtonRef","React","forwardRef","SettingsOptions","setValue","filters","_options","_byValue","byValue","getOptions","Fragment","NavPath","handleSelect","back","AppSubview","onBack","rigth","growingSearch","AppHeader","ButtonSidebar","ButtonSearch","collapsibleSidebar","collapsible","AppBar","wrapper","info","AppInfo","appIcon","up","navAction","navCalendar","navMenu","AppLayout","siteSlice","requestSite","receiveSite","requestSiteCollections","collections","receiveSiteCollections","collectionSlice","requestCollection","receiveCollection","getCollectionById","apiUrl","collection","getCollectionByType","results","loader","Loader","imageUrl","data-is-loading","colors","AppIcon","SvgIcon","viewBox","x","y","fill","dominantBaseline","textAnchor","fillRule","clipRule","d","variants","MenuIcon","IconTemplate","EditorIcon","fillOpacity","ArticleIcon","DeviceIcon","fill-rule","clip-rule","DeviceMacIcon","DeviceWinIcon","PageHomeIcon","PageGridIcon","PageMediaIcon","cx","cy","r","PageListIcon","PageAnnotateIcon","PageMapIcon","PageParentIcon","Article","PageHome","PageGrid","PageMap","PageMedia","PageAnnotate","PageTimeline","PageList","PageParent","Device","DeviceMac","DeviceWin","kpColor","kpTheme","kioskColor","kioskTheme","kpIcons","AppLoader","useDispatch","useEffect","getCollection","useSelector","searchByUrlSlice","requestSearch","page","receiveError","toString","receiveSearch","requestPage","receivePage","nextPage","prevPage","start","pages","Math","ceil","currentPage","resultsByPage","resultsLoaded","Object","values","concat","p","getQuery","sq","qs","PrimusSearch","useTranslation","t","i18n","location","useLocation","history","useHistory","setInputValue","setQ","_","debounce","hash","searchByUrl","currentSearch","currentResults","setSuggest","scope","freeSolo","disableClearable","autoHighlight","groupBy","reason","searchUrl","onInputChange","searchProps","childrenWithProps","Children","isValidElement","cloneElement","FinderBase","FinderSidebar","overflowY","FinderSection","backgroundImage","alpha","rgb","getBackgroundImage","ViewBase","viewRef","onScroll","buttongroup","borderColor","borderLeft","arrow","NavViewButton","NavView","_onChange","ViewOptions","RowsOptions","currentOption","find","SortOptions","SizeOptions","minHeight","nav","toolbar","ViewHeader","viewAction","onView","onRows","onSort","sizeOptions","onSize","loading","ViewLoader","CircularProgress","LoadingView","paddingY","paddingX","ListView","footer","ModuleBase","deleted","erased","data-status","data-deleted","data-erased","data-elevated","check","selectButton","borderButton","ModuleSelect","ModulePrefix","selectable","cropbox","maxWidth","maxHeight","transformOrigin","userSelect","image","ModuleImage","layout","coverStyle","backgroundPosition","backgroundSize","backgroundRepeat","src","link","ModuleTitle","untitled","data-name","data-untitled","getContrastColor","ModuleLabel","ModuleMetadata","metadata","ModuleDescription","ModuleStatus","ModuleDate","date","locale","datetime","format","moment","fromNow","dateTime","byline","author","ModuleByline","NavToolbarOptions","ListOption","Dropdown","NavToolbarSettings","select","ButtonSelect","NavToolbarButton","getVisibilityOptions","hideable","deletable","restorable","removable","restored","onHide","onUnhide","onDelete","onRestore","onRemove","getToolbar","editable","editing","erasable","addable","onEdit","onSave","onErase","unshift","visibility","flexWrap","NavToolbar","ListSettings","GridItem","data-size","GridList","OptionsGrid","templates","_cols","_rows","grid","order","orderBy","GridSettingsList","settings","NavSettings","settingsProps","SettingsTemplate","template","renderSettings","module","media","uploadProgress","progress","CollapsedModule","typeLabel","statusLabel","ratio","ModuleFormat","w","data-minHeight","data-ratio","data-format","StyledTabs","withStyles","indicator","Tabs","StyledTab","letterSpacing","Tab","NavTabs","tabs","indicatorColor","textColor","tab","ModuleHeader","ModuleTabs","ModuleBody","ModuleFooter","overflowX","ModuleButtons","buttons","ModuleButton","data-variant","disableElevation","ExpandedModule","Module","ModuleIdentifier","ModuleToolbar","actionbar","ModuleSettings","getGalleryRow","gap","rowPlusGap","row","rowWidth","shift","delta","cutoff","cutsum","i","fractOfLen","floor","stillToCutOff","calculateCutOff","pixelsToRemove","j","getImageUrl","parseUrl","stringifyUrl","flexShrink","artist","ListModule","ModuleMedia","GridModule","GridView","gallery","Gallery","mediaSize","debug","useResizeDetector","maxMediaHeight","toArray","mediaWidth","mediaHeight","maxRows","getGallery","galleryChildren","data-layout","GalleryView","GalleryModule","mediaStyle","mediaLayout","container","table","tableLayout","borderCollapse","borderSpacing","TableView","sortable","_onSort","Label","head","tags","TableModule","colspan","ModuleValue","ModuleTags","Column","Array","isArray","masonry","Masonry","colSize","colWidth","transitionDuration","disableImagesLoaded","updateOnEachImageLoad","imagesLoadedOptions","MasonryView","MasonryModule","ViewPages","onPage","Pagination","documentLabel","mediaLabel","tag","gridTemplateColumns","gridGap","IconsView","outlineColor","figure","IconModule","viewable","linkable","onLink","schemaType","mediaFormat","uiSchema","prepare","localeId","formContext","currentLocale","sectionType","bodytext","links","attachments","cite","quote","reference","KpDeviceField","registry","startPageId","newRegistry","setStartPageId","newUiSchema","dialog","ObjectField","fields","KpDeviceLinkField","referenceId","getDefaultFormState","utils","getUiOptions","GeopointField","newFormData","GeopointLoader","GeopointBase","googleMapsApiKey","libraries","loadingElement","preventGoogleFontsLoading","memo","GeopointMap","center","zoom","setMap","handleChange","draggable","zoomControl","scaleControl","mapTypeControl","fullscreenControl","streetViewControl","clickableIcons","mapContainerClassName","onLoad","onZoomChanged","onDragEnd","lat","lng","point","crosshair","crosshairX","crosshairY","GeopointMapCenter","GeopointPreview","GeopointAutocomplete","autocomplete","setAutocomplete","types","onPlaceChanged","getPlace","TextField","overlay","geocoder","closeButton","GeocoderOverlay","onClose","GeopointSearch","place","geometry","placeId","place_id","Geopoint","setOverlay","Geocoder","KpPageField","idSchema","statusCode","statusMessage","createdAt","updatedAt","deletedAt","currentId","onExpand","onLocale","onSubmit","fieldset","idPrefix","$id","primaryId","secondaryId","defaultLocale","_onLocale","definitions","annotateImage","imageAnnotations","onAnnotateArrayChange","onAnnotateImageChange","mediaId","KpLinkMediaLayout","onDialog","Button","Buttongroup","removeMedia","findMedia","replaceMedia","KpLinkReferenceLayout","LinkRemoveButton","KpLinKContentField","referenceTitle","referenceDescription","_onMediaChange","_onReferenceChange","properties","linkContent","runningHead","KpLinkField","imageFocalpoint","imageCropdata","imageFilters","uiOptions","uiPreview","KpLinkContentField","cropdata","_onCropChange","focalpoint","_onFocalpoint","_onFiltersChange","pageType","getUiSchema","isLight","titleColor","KpLinkLayout","StartAdornment","badgeContent","Badge","badge","primaryButton","KioskAnnotateImageField","ImageAnnotations","itemsUi","localTitle","ImageAnnotateArrayField","ArrayField","KpAnnotateImageField","KpAnnotateLinksField","kpLocation","KpLinkModel","ParentIdField","uiQuery","fl","enumOptions","setEnumOptions","enumNames","setEnumNames","optionsEnum","optionsNames","SchemaField","newSchema","enum","treeView","treeList","level","columnView","columns","column","dragHandle","DocumentChildrenList","DocumentModule","DocumentParentsField","uniqueModel","modelsById","DocumentListRemove","DocumentChildrenSearch","queryQ","_onQuery","DocumentChildrenField","DocumentListSearch","LocaleField","lang","ISO6391","getNativeName","DocumentParentIdField","DocumentLocaleField","getUiButtons","buttonProps","onEditReference","uiButtons","onUpload","charAt","toUpperCase","slice","readonly","uiReference","uiContent","uiSchemaReference","uiSchemaContent","_action","widgets","paletteColor","colorUi","setModels","CollectionEditorModel","PageEditorField","PageEditor","OverlayTemplate","renderOverlay","PageContentField","menuWidth","menuList","PageMenu","PageContent","SidebarTemplate","renderSidebar","PreviewTemplate","renderPreview","PageSettingsField","CollectionThemePaletteField","CollectionThemePaletteColorField","createPalette","tinycolor","toHex","_getColor","swatch","getContrastText","CollectionThemeColorWidget","TextWidget","isValid","ThemePaletteField","ThemePaletteColorField","ThemeEditor","ThemePaletteModel","LocalizedStringSettings","SchemaFieldset","localizedUiSchema","help","widget","newUiOptions","hasFormat","flex","inline","CustomObjectFieldTemplate","direction","justify","fieldUiSchema","fieldUiOptions","aria-hidden","Grid","xs","sm","md","lg","xl","flexItem","getMeasureFromString","measureType","typings","measureValue","numberValue","parseFloat","depth","unitValue","unit","_getUploadUrl","file","uploadData","onAdd","onProgress","filename","mimeType","_getUploadData","uploadUrl","FormData","append","xhr","XMLHttpRequest","upload","addEventListener","lengthComputable","round","loaded","total","_onProgress","send","getUploadProps","images","keyedMedia","generateKeyedFormData","_onUploadChange","_onUploadAdd","newKeyedMediaRow","keyedToPlainFormData","_onUploadProgress","_onUpload","acceptedFiles","getUpload","getEventsProps","keyedEvents","onCurrentId","events","_onEventAdd","neyKeyedRow","generateRowId","_onEventsChange","shortid","generate","keyedFormData","keyedItem","retrieveSchema","toIdSchema","getUiFieldset","rootSchema","uiFieldset","fieldSchema","fieldFormData","fieldIdPrefix","fieldSelected","fieldIdSchema","getFieldByName","getUiMenu","uiMenu","PrimusEditorField","isEditing","dropzoneRef","onTogglePreview","getEditorAction","ObjectFieldTemplate","PrimusObjectFieldTemplate","_onUploadClick","_onEventAddClick","onDrop","getRootProps","getInputProps","EditorBase","breadcrumbs","textOverflow","whiteSpace","prefix","ButtonBack","EditorPath","_onBack","data-title","LocaleIcon","NavLocale","EditorLocale","message","statusLabels","StatusLabel","StatusDate","utc","local","StatusMessage","code","data-code","EditorStatus","statusDate","primaryToggle","iconButton","PrimaryIconButton","EditorAction","EditorToggle","leading","trailing","EditorHeader","EditorFooter","Toolbar","EditorBody","EditorContent","EditorSidebar","EditorPreview","EditorOverlay","EditorLayout","PrimusEditorLayout","PrimusEditorContentField","currentParents","currentSection","eventType","dating","getPrimusEventsMenu","imagesMenu","attachmentsMenu","getPrimusMediaMenu","Template","EditorSplitView","EditorMenu","PrimusEditorContentLayout","PrimusSectionField","PrimusSectionLayout","sortableHandle","scrollIntoView","behavior","data-collapsible","MediaArrayTemplate","LayoutField","hasToolbar","hasMoveUp","hasMoveDown","hasRemove","onAddIndexClick","onDropIndexClick","onReorderClick","itemUiSchema","itemProps","currentIndex","itemSchema","ImageEditorToolbar","ToolbarButton","MediaLayout","currentItem","onSelectIndex","MediaItem","scale","ImagePreviewToolbar","onZoomIn","onZoomOut","minScale","maxScale","ZoomInButton","ZoomOutButton","ScaleButton","ImagePreview","onTransformChange","TransformToolbar","prevScale","zoomIn","zoomOut","resetTransform","positionX","positionY","getImagePointEvent","offsetParent","offset","el","rect","getBoundingClientRect","window","scrollX","scrollY","getOffset","pageX","pageY","offsetWidth","offsetHeight","draghandle","marker","ImageAnnotationsMarker","onStart","onDrag","onStop","setCursor","bounds","handle","MarkerTemplate","markerTemplate","isDragging","setIsDragging","handleClick","stopPropagation","MarkerDefault","MarkerList","withResizeDetector","handleStop","coords","handleIndexChange","handleStart","shape","hoverColor","borderStyle","contrastColor","ButtonHandle","onResize","handleResize","handleButton","handleIcon","ButtonLabel","labelButton","ButtonRemove","removeButton","removeShape","removeIcon","ButtonColor","colorButton","colorIcon","MarkerPrimus","setShape","setSize","setWidth","setHeight","setColor","setContrastColor","setBorderColor","nextColor","setNextColor","prevColor","setPrevColor","setHoverColor","string","indexOf","toggleColor","newWidth","newHeight","ImageAnnotationsBase","ImageCropperBase","aspectRatio","cropperRef","ready","getImageData","imageWidth","naturalWidth","imageHeight","naturalHeight","setData","bind","crop","getData","viewMode","dragMode","initialAspectRatio","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","cropper","ImageCropper","formats","formatSelected","setFormatSelected","setAspectRatio","handleFormat","edit","canvas","ImageEditorField","onAnnotationsChange","onCropChange","ImageTemplate","editorExpanded","ImageEditorNavigation","PrimusMediaTheme","darkTheme","idParents","currentIdParents","_onFieldset","setTransform","pop","idParent","ImageEditorLayout","PrimusMediaEditorField","selectedItem","itemId","_onSelectIndex","PrimusMediaField","empty","asNumber","guessType","nums","Set","processValue","has","every","SelectWidget","required","multiple","autofocus","rawErrors","enumDisabled","emptyValue","Select","displayEmpty","autoFocus","getDisplayLabel","helperText","FormControl","InputLabel","htmlFor","native","InputLabelProps","shrink","SelectProps","FormHelperText","control","KnavSearchAutocomplete","selectOnFocus","clearOnBlur","handleHomeEndKeys","params","createFilterOptions","FilledInput","KnavSearchField","setResults","setOptions","getOption","uuid","specificType","displayValue","_getOption","borderBottom","borderBottomColor","sorthandle","remove","TagList","TagItem","system","systemId","SortableHandle","SortableTagItem","sortableElement","sortIndex","SortableTagList","sortableContainer","Option","AutocompleteTagsField","_onSortEnd","oldIndex","newIndex","arrayMove","_filterTags","defaultValue","renderTags","getTagProps","onSortEnd","helperClass","useDragHandle","AutcompleteWidget","AutocompleteList","PersonRoleField","StringField","SelectAdornmentWidget","DesignationField","DesignationTagsField","KnavTagsField","ClassificationField","_getOutlineId","EndAdornment","caption","partOf","MaterialField","MaterialTagsField","TechniqueTagsField","ColorTagsDropImageField","setImageUrl","_onDrop","useCallback","reader","FileReader","onabort","onerror","onload","result","readAsDataURL","usePalette","useDropzone","dropButton","dropIcon","dropLabel","_onDropColors","_onImageUrl","InputAdornment","ColorTagsDropImage","ColorTagsField","colorNames","ColorTagsAutocomplete","MeasureTypeField","TextFieldPopper","setOpen","autoComplete","MeasureField","dtStart","dtEnd","MeasuresListField","form","inputFormData","setInputFormData","PaperComponent","MeasureTagsField","MeasureTagsAutocompleteField","PersonField","ListSearchItem","listItem","PrimusListItemLayout","PrimusListArrayField","PrimusListLayout","searchInput","searchIcon","resetButton","resetIcon","SearchReset","ListSearch","buttonReset","ListSearchLayout","ListResultsLayout","ListResultsItemLayout","dense","cancelButton","PrimusListResultsAddLayout","KnavListSearchField","_onAdd","uiSearch","ListResults","ListResultsItem","ListResultsAdd","_onRemove","newData","setNewData","ListResultsAddLayout","PrimusListField","PeopleListField","KnavListField","PeopleTagsField","PlaceRoleField","PlaceStatusField","PlacesListField","PlaceField","PlacesTagsField","SearchAutocompleteWidget","getOptionSelected","PersonFieldSearch","begin","end","SearchAutocomplete","ObjectSearchField","DateRangeField","parts","person","EventField","EventTypeField","PrimusEventsField","LicenseIcons","licenses","licenseIcons","license","Icon","LicenseFieldAutocomplete","LicenseField","PrimusContentField","PrimusContentLayout","PrimusMediaLayout","ClassificationTagsField","TechniqueField","PlaceTagsField","EventsListField","DatingField","PrimusFieldsetLayout","SelectNativeWidget","DesignationModel","ClassificationModel","MeasureModel","TechniqueModel","MaterialModel","ColorModel","EventModel","EventTypeModel","PersonModel","PlaceModel","DatingModel","PrimusMediaSectionField","ImageAnnotationsArrayField","ImageAnnotationsArrayItemField","ImageAnnotationsArrayItemLayout","PrimusMediaSectionLayout","ImageAnnotationsSectionField","ImageAnnotationsSectionLayout","ImageAnnotationsModuleField","PrimusMediaModel","documentEditor","referenceEditor","collectionEditor","pageEditor","themeEditor","localizedString","primusEditor","primusMedia","kpEditor","kpLink","pageHeader","pageTitle","KioskPageHeader","titleSize","skin","getTextPlacement","Card","ImageBase","objectFit","CardContent","getPreviewItem","itemType","m","PreviewFormat","templateCols","gridTemplateRows","templateRows","gridColumnGap","colGap","gridRowGap","rowGap","gridItem","gridColumnStart","gridColumnEnd","colEnd","gridRowStart","gridRowEnd","rowEnd","MosaicGrid","rowHeight","repeat","PreviewGrid","PageHeader","MapLink","Map","defaultCenter","defaultZoom","KEY","markers","setMarkers","setOrigin","setDestination","setWaypoints","setCenter","uuidv4","mapId","setMapId","mapRef","newWaypoints","bootstrapURLKeys","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","google","maps","LatLngBounds","extend","LatLng","fitBounds","origin","waypoints","directions","setDirections","drawDirections","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","directionsService","DirectionsService","route","travelMode","TravelMode","WALKING","DirectionsStatus","OK","overviewPath","routes","overview_path","resultsPath","getDirections","mapTypes","DefaultMap","mapLayout","parallaxImage","card","cardMedia","cardContent","MosaicModule","CardMedia","alt","timeline","timelineItem","Timeline","TimelineItem","TimelineModule","PreviewTimeline","borderSize","ImagemapPreview","contentTitle","annotateColor","line","Imagemap","MarkerModule","data-index","AnnotatePreview","annotateLayout","Annotate","linkMedia","hasPages","deviceTitle","deviceId","deviceType","deviceIcons","article","pageHome","pageMap","pageTopic","pageGrid","pageList","pageTimeline","pageAnnotate","schemas","mediaSchemas","kpSchemas","getUiPreview","previewData","selection","single","plural","hasOwnProperty","getPreviewFilters","getPreviewData","FinderModel","_onRestore","restoreModel","selectModel","bulkCount","documentModel","mediaModel","collectionModel","schemaModel","capabilities","editUrl","_onEdit","_onDelete","_onErase","IconsModule","FinderView","ViewTemplate","FinderResults","selectedFormatted","Intl","NumberFormat","countFormatted","selectOptions","exportOptions","bulkOptions","EmptyView","FinderQuery","ArticleBase","ArticleHeader","ArticleSection","slideshow","figcaption","MediaSlideshow","setCurrentIndex","_onIndex","MetaList","MetaListItem","MetaLabel","MetaValue","verticalAlign","MetaCode","measures","object","rectangle","Measures","Rectangle","Measure","Metadata","MetaItemValue","e","MetaItem","Classifications","ClassificationItem","Events","EventList","EventPerson","EventPeople","people","EventPlace","EventPlaces","places","EventItem","Colors","Swatch","designations","materials","techniques","classifications","motifType","motifDescription","depictedPeople","depictedPlaces","motif","ArticleTypography","producer","owner","ownerName","biography","gender","birthDate","birthPlace","deathDate","deathPlace","names","reverse","scroller","PreviewScroller","BulkPreviewList","col","BulkPreviewGallery","BulkPreviewMasonry","BulkPreview","bulkTitle","previewOptions","PreviewList","PreviewGallery","PreviewMasonry","bulkAction","currentPreview","PreviewBase","PreviewOptions","BulkEditor","Schema","FinderLoader","PrimusFinder","editorSlide","requestEditor","requestEdit","receiveEdit","receiveChange","receiveCurrentId","receiveCurrentLocale","requestDialog","receiveDialog","EditorLoader","iconColor","DialogBase","navigation","Menu","BottomNavigation","BottomNavigationAction","DialogFooter","tabIndex","showLabels","AppSearchDefault","focus","DialogTabpanel","DialogTab","DialogLabel","DialogTabs","DialogHeader","parentRef","handleScroll","removeEventListener","ResultsLoader","ResultsFooter","from","to","layouts","ModuleLoader","modelsSelected","modelsBySource","modelSchema","appDocumentType","sourceDocumentType","setPreview","newModel","newImageUrl","uploadStatus","imageUrlParts","imageParams","newImageParams","dimension","createdByName","updatedByName","deletedByName","LayoutTemplate","ListLayout","ResultsList","DialogModel","ResultsGallery","ResultsUploads","uploads","MediaResults","setModelsSelected","getSelected","addModel","ResultsTemplate","getMediaSource","removeItem","DocumentsResults","getDocumentSource","connect","uploadByUrl","bindActionCreators","SearchResults","SearchDialog","userQ","setUserQ","handleQuery","trim","setSort","sortSettings","dmOwnerOptions","dmOwner","setDmOwner","dmOwnerSettings","mediaTypes","queryUrl","getMediaType","getMediaSections","documentTypes","getDocumentType","getDocumentSections","setTabIndex","currentTab","nextToken","handleTab","currentQuery","setPages","setCurrentPage","setNextPage","getPages","DialogSearch","FavouritesDialog","favourites","uniqueIds","getFavouritesQuery","documents","uploadByUrlSlice","requestUpload","requested","received","receiveUpload","requestUploadModel","receiveUploadModel","receiveUploadProgress","receiveUploadStatus","getUploadUrl","getUploadData","dropzone","DialogUpload","accept","onCancel","currentUpload","ButtonClose","rejectedFiles","UploadDialog","handleReset","uploadSession","setUploadSession","uploadModels","uploadResults","session","MediaDialog","setTemplate","mediaFavourites","mediaUploads","FavouriteBadge","invisible","UploadBadge","DocumentsDialog","EditorDialog","setFormData","documentSchema","getReferenceQuery","mediaSchema","getMediaQuery","DialogTemplate","Dialog","Editor","_onSubmit","saveModel","prevUniqueId","setPrevUniqueId","newLocation","hashId","setCurrentId","_onCurrentId","hashUrl","expandId","setDialog","_onDialog","EditorSchema","AppSettings","DocumentPreview","PreviewJSON","primusPerson","primusDating","primusPlace","primusClassification","primusMaterial","primusTechnique","primusColor","primusDesignation","primusMeasure","primusEvent","designation","material","technique","DocumentEditor","useParams","previewExpanded","setPreviewExpanded","_onExpandPreview","_onCollapsePreview","onExpandPreview","onCollapsePreview","DocumentViewer","MediaEditor","PrimusRoutes","DocumentCreate","Finder","KioskApp","editorParents","KpApp","AppRoutes","App","basename","userSlice","requestUser","receiveUser","combineReducers","user","userReducer","site","siteReducer","collectionReducer","appReducer","editorReducer","finderReducer","bulkReducer","modelsByIdReducer","searchByUrlReducer","uploadByUrlReducer","middleware","getDefaultMiddleware","logger","configureStore","reducer","rootReducer","Boolean","hostname","bylineTitle","licenseGroup","translations","use","LanguageDetector","initReactI18next","init","resources","en","nb","nn","sv","fallbackLng","interpolation","escapeValue","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","registration","unregister","catch"],"mappings":"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","file":"static/js/main.679b9dad.chunk.js","sourcesContent":["let API = \"https://kompass.dimu.org\";\n\nexport {\n    API,\n}","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { receiveModel, deleteModel, eraseModel } from \"../modelsById\"\n\nconst bulkSlice = createSlice({\n    name: 'bulk',\n    initialState: {\n        items: [],\n        count: 0,\n        isLoading: false,\n        isSaving: false,\n        formData: {\n\n        },\n        schema: {\n\n        },\n        bulkSchema: {\n            \"type\": \"object\",\n            \"properties\": {\n                \"status\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"draft\",\n                        \"publish\",\n                        \"delete\",\n                        \"erase\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Draft\",\n                        \"Publish\",\n                        \"Move to trash\",\n                        \"Erase permanently\"\n                    ],\n                    \"default\": false\n                },\n                \"parentId\": {\n                    \"type\": \"number\",\n                    \"enum\": [\n                        false,\n                        \"null\",\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Reset to null\",\n                    ],\n                    \"default\": false\n                },\n                \"documentType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"default\": false\n                }\n            }\n        },\n    }, \n    reducers: {\n        requestBulk(state, action) {\n            return {\n                ...state,\n                items: [],\n                count: 0,\n                formData: {},\n            }\n        },\n        receiveBulkEditor(state, action) {\n            const { schema, formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n                schema: schema\n            }\n\n        },\n        bulkChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n            }\n\n        },\n        bulkAdd(state, action) {\n            const { uniqueId } = action.payload\n\n            const bulkItems = state.items\n\n            if (bulkItems.includes(uniqueId)) {\n                return state\n            }\n\n            return {\n                ...state,\n                count: state.count + 1,\n                items: [\n                    ...bulkItems,\n                    uniqueId\n                ]\n            }\n\n        },\n        bulkRemove(state, action) {\n            const { uniqueId } = action.payload\n\n            const bulkItems = state.items.filter(id => id !== uniqueId)\n\n            return {\n                ...state,\n                count: bulkItems.length,\n                items: bulkItems\n            }\n\n        },\n    }\n})\n\nexport const bulkToggle = ({uniqueId}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkItems = state.bulk.items\n    const selected = bulkItems.includes(uniqueId)\n\n    if (selected) {\n        dispatch(bulkRemove({uniqueId}))\n    } else {\n        dispatch(bulkAdd({uniqueId}))\n    }\n\n}\n\nexport const bulkReset = () => (dispatch) => {\n    dispatch(requestBulk())\n}\n\nexport const bulkSubmit = ({modelName = \"documents\", formData}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n    const modelsById = state.modelsById\n\n    bulkModels.map(model => {\n\n        const uniqueId = model && model.uniqueId\n        const uniqueModel = modelsById && modelsById[uniqueId]\n\n        if (!uniqueModel) {\n            return false\n        }\n\n        if (uniqueModel.modelName) {\n            modelName = uniqueModel.modelName\n        }\n\n        let apiUrl = API + '/admin/api/documents' + modelName;\n\n        let newFormData = {\n            ...uniqueModel\n        }\n\n        Object.keys(formData).map(key => {\n\n            if (formData[key]) {\n                newFormData[key] = formData[key]\n            }\n\n            if (formData[key] === \"null\") {\n                newFormData[key] = null\n            }\n\n\n        })\n\n        const { status } = newFormData\n\n        if (status === \"delete\") {\n            dispatch(deleteModel(uniqueModel))\n\n        } else if (status === \"erase\") {\n            dispatch(eraseModel(uniqueModel))\n    \n        } else {\n\n            fetch(apiUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json; charset=utf-8\",\n                },\n                body: JSON.stringify(newFormData)\n            })\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveModel(formData))\n            })    \n    \n        }\n\n    \n\n    })\n\n    dispatch(requestBulk())\n\n\n}\n\nexport const getBulkEditor = () => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n\n    console.log('BULK', bulkModels)\n\n    const bulkSchema = state.bulk.bulkSchema\n\n    let properties = {}, formData = {}, multiple = {}\n\n    bulkModels.map(model => {\n\n        Object.keys(bulkSchema.properties).map(key => {\n\n            const value = model[key]\n            const property = properties[key] || bulkSchema.properties[key]\n\n            // set formData\n\n            if (formData[key] && formData[key] !== value) {\n                formData[key] = false\n                multiple[key] = true\n            } else if (!multiple[key] && !formData[key]) {\n                formData[key] = value\n            }\n\n            // set schema\n\n            if (property && value) {\n\n                if (property.enum && !property.enum.includes(value)) {\n                    properties[key] = {\n                        ...property,\n                        enum: [\n                            ...property.enum,\n                            value\n                        ],\n                        enumNames: [\n                            ...property.enumNames,\n                            value\n                        ]\n                    }\n\n                } else {\n                    properties[key] = property\n                }\n\n            }\n\n        })\n\n    })\n\n    const schema = {\n        ...bulkSchema,\n        properties: {\n            ...properties\n        }\n    }\n\n    dispatch(receiveBulkEditor({schema, formData}))\n\n\n}\n\nexport const { requestBulk, receiveBulkEditor, bulkChange, bulkAdd, bulkRemove } = bulkSlice.actions\nexport default bulkSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { bulkToggle } from '../bulk/'\nimport qs from 'query-string';\n\n\nconst modelsByIdSlice = createSlice({\n    name: 'modelsById',\n    initialState: {\n    }, \n    reducers: {\n        requestModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: true,\n                }\n            }\n\n        },\n        receiveModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: false,\n                    ...action.payload\n                }\n            }\n\n        },\n        receiveModelProps(state, action) {\n            const { uniqueId, ...props } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    ...props\n                }\n            }\n\n        },\n        requestParents(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parents: []\n                }\n            }\n\n        },\n        receiveParents(state, action) {\n            const { uniqueId, parents } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parents: parents\n                }\n            }\n\n        },\n        requestChildren(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: []\n                }\n            }\n\n        },\n        receiveChildren(state, action) {\n            const { uniqueId, children } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: children\n                }\n           }\n\n        },\n        requestReferences(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: []\n                }\n            }\n\n        },\n        receiveReferences(state, action) {\n            const { uniqueId, references } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: references\n                }\n           }\n\n        },\n        receiveParentId(state, action) {\n            const { uniqueId, parentId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parentId: parentId\n                }\n            }\n\n        },\n        receiveStatus(state, action) {\n            const { uniqueId, status } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    status: status\n                }\n            }\n\n        },\n        requestSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    isSaving: true\n                }\n\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isSaving: false,\n                    ...action.payload\n                }\n            }\n        }        \n    }\n})\n\n/** Get models from a list of results */\n\nexport const getModels = ({models}) => (dispatch, getState) => {\n\n    const state = getState()\n    const modelsById = state.modelsById\n\n    models && models.map(model => {\n        const { modelName, uniqueId } = model\n\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n\n\n    })\n\n}\n\n\n\n/** Get model from uniqueId */\n\nexport const getModel = ({modelName = \"documents\", id, uniqueId, source, sourceId}) => dispatch => {\n\n    uniqueId && dispatch(requestModel({uniqueId}))\n\n    if (!uniqueId && sourceId) {\n        uniqueId = sourceId\n    } else if (!uniqueId && id) {\n        uniqueId = id\n    }\n\n    const apiUrl = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n\n            let { uniqueId, source, sourceId } = formData\n\n            if (!uniqueId && source && sourceId) {\n                uniqueId = source + \"/\" + sourceId\n            }\n\n\n            dispatch(receiveModel({...formData, uniqueId: uniqueId, modelName}))\n//            dispatch(getParents({...formData, modelName}))\n//            dispatch(getChildren({...formData, modelName}))\n        })\n\n}\n\n/** Get parents from uniqueId */\n\nexport const getParents = ({modelName = \"documents\", uniqueId, id, parentId, parents}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/' + modelName + '/' + parentId;\n    \n    if (!parents) {\n        dispatch(requestParents({uniqueId}))\n        parents = []\n    }\n\n    if (parentId && parentId !== id) {\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(parent => {\n\n                parent && parent.uniqueId && parents.unshift(parent)\n\n                dispatch(getParents({parentId: parent.parentId, id, uniqueId, parents}))\n\n                /*\n                \n                if (parent && parent.parentId && parent.parentId !== parentId) {\n                    dispatch(getParents({parentId: parent.parentId, id, uniqueId, parents}))\n                }  else {\n                    dispatch(receiveParents({uniqueId, parents}))\n                }*/\n\n            })\n    \n    } else {\n        dispatch(receiveParents({uniqueId, parents}))\n    }\n\n}\n\n/** Get children from uniqueId */\n\nexport const getChildren = ({modelName = \"documents\", uniqueId, id}) => (dispatch, getState) => {\n\n    const query = qs.stringify({\n        parentId: id,\n    })\n\n    const apiUrl = API + '/admin/api/' + modelName + '/search?' + query;\n\n    dispatch(requestChildren({uniqueId}))\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results.models && dispatch(receiveChildren({uniqueId, children: results.models}))\n        })\n\n}\n\n/** Get references from uniqueId */\n\nexport const getReferences = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/references/' + modelName + '/' + uniqueId;\n\n    dispatch(requestReferences({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveReferences({...formData, uniqueId}))\n        })\n\n}\n\n\n/** Load model from uniqueId */\n\nexport const loadModel = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestModel({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel(formData))\n        })\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    formData && formData.uniqueId && dispatch(requestSave({uniqueId: formData.uniqueId}))\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n\n/** Delete */\n\nexport const deleteModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Restore */\n\nexport const restoreModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/restore/' + uniqueId;\n  \n    fetch(url, {\n        method: \"POST\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Erase */\n\nexport const eraseModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId + \"?erase=true\";\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(receiveStatus({modelName, uniqueId, status: \"erased\"}))\n    )\n\n}\n\n/** Select */\n\nexport const selectModel = ({modelName, uniqueId, selected, ...props}) => (dispatch, getState) => {\n\n    /*\n    dispatch(receiveModelProps({\n        modelName: modelName,\n        uniqueId: uniqueId,\n        selected: !selected\n    }))\n    */\n\n    dispatch(bulkToggle({uniqueId}))\n\n\n}\n\n/** Set parentId */\n\nexport const setParentId = ({modelName = \"documents\", uniqueId, parentId}) => dispatch => {\n//    dispatch(receiveParentId({uniqueId, parentId}))\n\n    const url = API + '/admin/api/' + modelName;\n\n    const formData = {\n        uniqueId: uniqueId,\n        parentId: parentId,\n    }\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n    \n/** Document source */\n\nexport const getDocumentSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/documents/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addDocumentSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addDocumentSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/documents'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\n/** Media source */\n\nexport const getMediaSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/media/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addMediaSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addMediaSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/media'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\nexport const { \n    requestModel, receiveModel, \n    receiveModelProps,\n    requestParents, receiveParents, \n    requestChildren, receiveChildren, \n    requestReferences, receiveReferences, \n    receiveStatus, receiveParentId,\n    requestSave, receiveSave\n} = modelsByIdSlice.actions\nexport default modelsByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { saveModel } from \"../modelsById/\";\nimport qs from 'query-string';\n\nconst finderByIdSlice = createSlice({\n    name: 'finder',\n    initialState: {\n        isLoading: true,\n        url: undefined,\n        sortOptions: [],\n        sort: undefined,\n        rowsOptions: [\n            10,\n            20,\n            30,\n            40,\n            50,\n        ],\n        rows: undefined,\n        viewOptions: [],\n        view: undefined,\n        primaryAction: {},\n        parent: {},\n        parents: [],\n        parentsByUrl: {},\n        menu: undefined,\n        menuByUrl: {},\n        menuById: {},\n        sidebar: {\n            expanded: true\n        },\n        view: {\n            expanded: true\n        },\n        preview: {\n            expanded: false\n        },\n        editor: {\n            expanded: false\n        }\n     }, \n    reducers: {\n        requestFinder(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                url: url,\n                isLoading: true,\n            }\n        },\n        receiveFinder(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                url: url,\n                isLoading: false,\n            }\n        },\n        expandSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: true\n                }\n            }\n        },\n        collapseSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: false\n                }\n            }\n        },\n        toggleSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: !state.sidebar.expanded\n                }\n            }\n        },\n        receiveSidebar(state, action) {\n            const { sidebar } = action.payload\n            return {\n                ...state,\n                sidebar: sidebar\n            }\n        },\n        collapseView(state, action) {\n            return {\n                ...state,\n                view: {\n                    ...state.view,\n                    expanded: false\n                }\n            }\n        },\n        expandView(state, action) {\n            return {\n                ...state,\n                view: {\n                    ...state.view,\n                    expanded: true\n                }\n            }\n        },\n        receiveView(state, action) {\n            const { view } = action.payload\n            return {\n                ...state,\n                view: view\n            }\n        },\n        expandPreview(state, action) {\n            return {\n                ...state,\n                preview: {\n                    ...state.preview,\n                    expanded: true\n                }\n            }\n        },\n        collapsePreview(state, action) {\n            return {\n                ...state,\n                preview: {\n                    ...state.preview,\n                    expanded: false\n                }\n            }\n        },\n        receivePreview(state, action) {\n            const { preview } = action.payload\n            return {\n                ...state,\n                preview: preview\n            }\n        },\n        expandEditor(state, action) {\n            return {\n                ...state,\n                editor: {\n                    ...state.editor,\n                    expanded: true\n                }\n            }\n        },\n        collapseEditor(state, action) {\n            return {\n                ...state,\n                editor: {\n                    ...state.editor,\n                    expanded: false\n                }\n            }\n        },\n        receiveEditor(state, action) {\n            const { editor } = action.payload\n            return {\n                ...state,\n                editor: editor\n            }\n        },\n        requestViewOptions(state, action) {\n            return {\n                ...state,\n                viewOptions: undefined,\n                view: undefined\n            }\n        },\n        receiveViewOptions(state, action) {\n            const { viewOptions, view } = action.payload\n            return {\n                ...state,\n                viewOptions: viewOptions,\n                view: view\n            }\n        },\n        receiveSort(state, action) {\n            const { sort } = action.payload\n            return {\n                ...state,\n                sort: sort\n            }\n        },\n        requestSortOptions(state, action) {\n            return {\n                ...state,\n                sortOptions: undefined,\n                sort: undefined\n            }\n        },\n        receiveSortOptions(state, action) {\n            const { sortOptions, sort } = action.payload\n            return {\n                ...state,\n                sortOptions: sortOptions,\n                sort: sort\n            }\n        },\n \n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents, parentsByUrl } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                parentsByUrl: parentsByUrl,\n                parent: parents && parents[parents.length-1]\n            }\n        },\n        requestPrimaryAction(state, action) {\n            return {\n                ...state,\n                primaryAction: {}\n            }\n        },\n        receivePrimaryAction(state, action) {\n            const { primaryAction } = action.payload\n            return {\n                ...state,\n                primaryAction: primaryAction\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const { menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        requestMenuItem(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        isLoading: true,\n                        url: url,\n                        ...item,\n                    }\n                }\n            }\n        },\n        receiveMenuItem(state, action) {\n            const { id, url, ...item } = action.payload\n\n            const count = item.children && item.children.length || null\n\n            if (id) {\n                return {\n                    ...state,\n                    menuById: {\n                        ...state.menuById,\n                        [id]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            url: url,\n                            count: count,\n                        }\n                    },\n                    menuByUrl: {\n                        ...state.menuByUrl,\n                        [url]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            count: count,\n                            url: url,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                isLoading: false,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        id: id,\n                        count: count,\n                        isLoading: false,\n                        url: url,\n                    }\n                }\n            }\n        },\n        moveMenuItem(state, action) {\n            const { source, destination } = action.payload\n\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [source.url]: source,\n                    [destination.url]: destination  \n                }\n            }\n\n        },\n        expandMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: true\n                    }\n                }\n            }\n        },\n        collapseMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: false\n                    }\n                }\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n        },\n    }\n})\n\nexport const getFinder = ({url = undefined, ...menuItem}) => (dispatch, getState) => {\n\n    const state = getState()\n    const app = state.app\n    const finder = state.finder\n\n    dispatch(requestFinder({url}))\n    dispatch(getMenu(app))\n    dispatch(getPrimaryAction(app))\n\n    finder.menu && dispatch(receiveFinder({url}))\n\n}\n\nexport const getOptions = ({viewOptions, view, sortOptions, sort}) => (dispatch) => {\n    dispatch(requestViewOptions())\n    dispatch(requestSortOptions())\n\n    viewOptions && dispatch(receiveViewOptions({viewOptions, view: view || viewOptions[0]}))\n    sortOptions && dispatch(receiveSortOptions({sortOptions, sort: sortOptions[0]}))\n}\n\nexport const getView = ({pathname, view}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveView({view}))\n   \n}\n\nexport const getSort = ({pathname, sort}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveSort({sort}))\n}\n\nexport const getMenu = ({siteName, menu, root, collectionId}) => (dispatch) => {\n\n    const getChild = ({parent, sections, children, url, pathname, search, query, viewOptions, sortOptions, ...item}) => {\n\n        if (pathname && pathname.startsWith(\"/\")) {\n            url = root + pathname\n        }\n\n        if (!url && parent.url) {\n            url = pathname && parent.url + \"/\" + pathname || parent.url\n        } else if (!url) {\n            url = pathname && root + \"/\" + pathname || root\n        }\n\n        if (url.includes(\":siteName\")) {\n            url = url.replace(\":siteName\", siteName)\n        }\n\n        if (search) {\n            url = url + \"?\" + search\n        }\n\n        if (query) {\n            query = {\n                ...query,\n                collectionId: query.collectionId || parent.collectionId\n            }\n        }\n\n        if (query && query.models === \"media\") {\n            viewOptions = viewOptions || [\"gallery\", \"icons\", \"list\", \"table\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (query && query.models === \"documents\") {\n            viewOptions = viewOptions || [\"list\", \"table\", \"icons\", \"column\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (sortOptions) {\n            query.sort = sortOptions[0]\n        }\n        \n        const child = {\n            ...item,\n            url: url,\n            query: query,\n            viewOptions: viewOptions,\n            sortOptions: sortOptions\n        }\n\n        if (sections) {\n            sections = sections.map(section => {\n\n                return {\n                    ...section,\n                    url: section.url.replace(\":siteName\", siteName)\n                }\n\n            })\n        }\n\n        const menuItem = {\n            ...child,\n            sections: sections,\n            children: children && children.length && getChildren({...child, children: children})\n        }\n\n        dispatch(receiveMenuItem(menuItem))\n\n        return menuItem\n\n    }\n\n    const getChildren = (parent) => {\n        let children = []\n  \n        parent && parent.children && parent.children.forEach((child) => {\n            child = getChild({...child, parent});\n            children.push(child);\n        });\n        \n        return children\n    }\n\n    const rootMenu = getChildren({\n        root: root,\n        children: menu,\n        collectionId: collectionId\n    })\n\n    dispatch(receiveMenu({menu: rootMenu}))\n    \n}\n\nexport const getPrimaryAction = ({primaryAction, root, collectionId}) => (dispatch) => {\n\n    const getChild = ({parent, children, url, pathname, search, query, viewOptions, sortOptions, ...item}) => {\n\n        if (pathname && pathname.startsWith(\"/\")) {\n            url = root + pathname\n        }\n\n        if (!url && parent.url) {\n            url = pathname && parent.url + \"/\" + pathname || parent.url\n        } else if (!url) {\n            url = pathname && root + \"/\" + pathname || root\n        }\n\n        if (url && search) {\n            url = url + \"?\" + search\n        }\n\n        const child = {\n            ...item,\n            root: parent.root,\n            url: url,\n        }\n\n        const menuItem = {\n            ...child,\n            children: children && children.length && getChildren({...child, children: children})\n        }\n\n        return menuItem\n\n    }\n\n    const getChildren = (parent) => {\n        let children = []\n  \n        parent.children.forEach((child) => {\n            child = getChild({...child, parent});\n            children.push(child);\n        });\n        \n        return children\n    }\n\n    const rootMenu = getChildren({\n        root: root,\n        children: [primaryAction],\n        collectionId: collectionId\n    })\n\n    dispatch(receivePrimaryAction({primaryAction: rootMenu[0]}))\n    \n}\n\nexport const getParents = ({url}) => (dispatch, getState) => {\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    let parent = false // url && menuByUrl && menuByUrl[url] \n\n    console.log('getParents', parent)\n\n    let parents = [];\n\n    if (parent) {\n\n        /*\n\n        while (parent) {\n            parents.push(parent)\n            parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n        }\n    \n        parents = parents.reverse()\n\n        */\n            \n    } else {\n\n        let path = [], pathUrl\n\n        const pathnames = url.split('/');\n\n        pathnames.map(pathname => {\n    \n            path.push(pathname)\n            pathUrl = path.join('/')\n\n            console.log('parents by path', path)\n            console.log('parents by path', pathUrl)\n\n            if (!pathUrl && menuByUrl[\"/\"]) {\n//                parents.push(menuByUrl[\"/\"])\n            }\n\n            const parent = menuByUrl[pathUrl]\n    \n            if (parent && parent.role !== \"section\") {\n                parents.push(parent)\n            }\n    \n        })\n    \n    }\n \n    let parentsByUrl = {}\n\n    parents.map(parent => {\n        if (parent.url) {\n            parentsByUrl[parent.url] = parent\n        }\n    })\n\n    dispatch(receiveParents({parents, parentsByUrl}))\n  \n}\n\nexport const getMenuItem = (item) => (dispatch) => {\n    const { type = \"default\", url, children} = item\n\n    if (type === \"tree\") {\n        dispatch(getMenuTree(item))\n    } else if (children) {\n        dispatch(getMenuParent(item))        \n    } else if (url) {\n        dispatch(getMenuChild(item))\n    } \n    \n}\n\nconst getMenuParent = ({children, level = 0, ...parent}) => dispatch => {\n    dispatch(requestMenuItem(parent))\n\n    children.map((child) => {\n        dispatch(getMenuItem({\n            ...child,\n            parentUrl: parent.url,\n            level: level + 1\n        }))\n    })\n\n    dispatch(receiveMenuItem({\n        ...parent,\n        children: children,\n        level: level,\n    }))\n}\n\nconst getMenuChild = ({level, ...child}) => dispatch => {\n    dispatch(requestMenuItem(child))\n    dispatch(receiveMenuItem({\n        ...child,\n        level: level\n    }))\n}\n\nexport const getMenuTree = ({level = 0, ...parent}) => dispatch => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { query } = parent\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const { models, count } = results\n\n        const parentUrl = parent.url\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                level: level + 1,\n                parentId: parentUrl,\n                parentUrl: parentUrl,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(getMenuTreeNode(child))\n\n            return child\n\n        })\n\n        dispatch(receiveMenuItem({\n            ...parent,\n            id: parentUrl,\n            level: level,\n            parentUrl: parentUrl,\n            children: children,\n            count\n        }))\n\n    })\n\n}\n\nexport const getMenuTreeNode = (item) => (dispatch) => {\n\n    const { url, uniqueId } = item\n\n    const query = {\n        models: \"documents\",\n        uniqueId: uniqueId\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const model = results.models && results.models[0]\n        const parent = {\n            ...item,\n            ...model,\n            type: \"treeitem\",\n            url: url,\n            query: {\n                models: \"documents\",\n                parentId: model && model.id\n            }\n        }\n\n        dispatch(getMenuTreeChildren(parent))\n    \n    })\n\n}\n\nexport const getMenuTreeChildren = ({level = 0, ...parent}) => (dispatch) => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { parentUrl } = parent\n\n    const query = {\n        models: \"documents\",\n        parentId: parent.id\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const { models, count } = results\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                parentUrl: parentUrl,\n                level: level + 1,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(receiveMenuItem(child))\n\n            return child\n\n        })\n\n        if (children && children.length) {\n            parent = {\n                ...parent,\n                level: level,\n                count: count,\n                children: children\n            }\n        }\n \n        dispatch(receiveMenuItem({\n            ...parent,\n            level: level\n        }))\n         \n    })\n\n}\n\nexport const sortMenuTree = ({source, destination, item}) => (dispatch, getState) => {\n\n    const state = getState()\n    const finder = state.finder\n    const menuByUrl = finder.menuByUrl\n    const menuById = finder.menuById\n\n    const itemNode = item.id && menuById[item.id]\n\n    let sourceNode = source.url && {\n        ...menuByUrl[source.url],\n        children: [...menuByUrl[source.url].children]\n    }\n\n    sourceNode.children.splice(source.index, 1)\n\n    let destinationNode = destination.url && {\n        ...menuByUrl[destination.url],\n        children: menuByUrl[destination.url].children && [...menuByUrl[destination.url].children, itemNode] || [itemNode]\n    }\n\n\n    dispatch(receiveMenuItem({\n        ...sourceNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...destinationNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...itemNode,\n        parentUrl: destinationNode.url,\n        parentId: destinationNode.id\n    }))\n\n    const id = itemNode.id;\n    const parentId = destinationNode.id\n\n    if (id && parentId === destinationNode.url) {\n        dispatch(saveModel({\n            id: id,\n            parentId: null\n        }))\n    } else if (id && parentId) {\n        dispatch(saveModel({\n            id: id,\n            parentId: parentId\n        }))\n    }\n\n}\n\nexport const getEditor = (editor) => dispatch => {\n    dispatch(receiveEditor({editor}))\n}\n\nexport const getPreview = (preview) => dispatch => {\n    dispatch(receivePreview({preview}))\n}\n\nexport const getLayout = (layout = \"default\") => dispatch => {\n\n    if (layout === \"editor\") {\n        dispatch(collapseSidebar())\n        dispatch(collapseView())\n        dispatch(expandPreview())\n        dispatch(expandEditor())\n    }\n\n    if (layout === \"finder\") {\n        dispatch(expandSidebar())\n        dispatch(expandView())\n        dispatch(collapsePreview())\n        dispatch(collapseEditor())\n    }\n\n\n}\n\nexport const { \n    requestFinder, receiveFinder, \n    requestMenu, receiveMenu,\n    expandSidebar, collapseSidebar, receiveSidebar, toggleSidebar,\n    expandView, collapseView, receiveView,\n    expandPreview, collapsePreview, receivePreview,\n    expandEditor, collapseEditor, receiveEditor,\n\n    requestPrimaryAction, receivePrimaryAction,\n    requestViewOptions, receiveViewOptions,\n    requestSortOptions, receiveSortOptions, receiveSort,\n    requestMenuByUrl, receiveMenuByUrl, \n    requestMenuTree, receiveMenuTree, \n    requestMenuTreeItem, receiveMenuTreeItem, \n    requestMenuItem, receiveMenuItem, \n    moveMenuItem,\n    expandMenuItem, collapseMenuItem, toggleMenuItem, \n    requestParents, receiveParents } = finderByIdSlice.actions\n\nexport default finderByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getFinder } from \"../finder/\"\n\nconst appSlice = createSlice({\n    name: 'app',\n    initialState: {\n        icon: undefined,\n        isLoading: true,\n        version: \"0.1.1\",\n        title: undefined,\n        siteName: undefined,\n        siteTitle: undefined,\n        siteId: undefined,\n        collectionId: undefined,\n        theme: {\n            palette: {\n                type: \"light\"\n            }\n        },\n        header: {\n        },\n        sidebar: {\n        },\n        subview: {\n            expanded: false\n        },\n        search: {\n        },\n    }, \n    reducers: {\n        requestApp(state, action) {\n            const { root, icon, title, siteName, collectionType } = action.payload\n            return {\n                ...state,\n                root: root,\n                icon: icon,\n                title: title,\n                siteName: siteName,\n                collectionType: collectionType,\n                isLoading: true,\n            }\n        },\n        receiveApp(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        receiveTheme(state, action) {\n            const { theme } = action.payload\n            return {\n                ...state,\n                theme: theme\n            }\n        },\n        toggleDarkMode(state, action) {\n            const type = state.theme.palette.type\n\n            return {\n                ...state,\n                theme: {\n                    ...state.theme,\n                    palette: {\n                        ...state.theme.palette,\n                        type: type === \"dark\" && \"light\" || \"dark\"\n                    }\n                }\n            }\n        },\n        receiveAppSite(state, action) {\n            const { id, title } = action.payload\n            return {\n                ...state,\n                siteId: id,\n                siteTitle: title\n            }\n        },\n        receiveAppCollection(state, action) {\n            const { id } = action.payload\n            return {\n                ...state,\n                collectionId: id,\n            }\n        },\n        requestSubview(state, action) {\n            return {\n                ...state,\n                subview: undefined,\n            }\n        },\n        receiveSubview(state, action) {\n            const { subview } = action.payload\n            return {\n                ...state,\n                subview: {\n                    ...state.subview,\n                    ...subview\n                },\n            }\n        },\n        requestLayout(state, action) {\n            return {\n                ...state,\n            }\n        },\n        receiveLayout(state, action) {\n            const { header, sidebar, subview } = action.payload\n            return {\n                ...state,\n                header: header,\n                sidebar: sidebar,\n                subview: subview\n            }\n        },\n        toggleSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: !state.search.expanded,\n                }\n            }\n        },\n        collapseSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: false,\n                }\n            }\n        },\n        toggleHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: !state.header.expanded,\n                }\n            }\n        },\n        expandHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: true,\n                }\n            }\n        },\n        collapseHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: false,\n                }\n            }\n        },\n        toggleSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: !state.sidebar.expanded,\n                }\n            }\n        },\n        toggleSubview(state, action) {\n            return {\n                ...state,\n                subview: {\n                    ...state.subview,\n                    expanded: !state.subview.expanded,\n                }\n            }\n        },\n        requestSchemasByName(state, action) {\n            return {\n                ...state,\n                schemasByName: {}\n            }\n        },\n        receiveSchemasByName(state, action) {\n            const { schemasByName } = action.payload\n            return {\n                ...state,\n                schemasByName: schemasByName\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const { menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n\n        },\n        receiveMenuItemByUrl(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        url: url\n                    }\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents\n            }\n        }\n    }\n})\n\nexport const getApp = (app) => dispatch => {\n    dispatch(requestApp(app))\n    dispatch(getAppProperties(app))\n}\n\nexport const getSiteApp = (app) => dispatch => {\n    dispatch(requestApp(app))\n    dispatch(getAppSite(app))\n}\n\nexport const getAppSite = ({siteName, ...app}) => dispatch => {\n\n    const query = qs.stringify({\n        name: siteName,\n        fl: \"id,name,title\"\n    })\n\n    const apiUrl = API + '/admin/api/sites/search?' + query;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const site = results.models && results.models[0] || {}\n\n        dispatch(receiveAppSite(site))\n\n        dispatch(getAppCollection({\n            ...app,\n            siteId: site.id,\n            siteName: site.name,\n            siteTitle: site.title\n        }))\n\n    })\n\n}\n\nexport const getAppCollection = ({siteId, collectionType, ...app}) => dispatch => {\n\n    const query = qs.stringify({\n        siteId: siteId,\n        collectionType: collectionType,\n        fl: \"id,name,title\"\n    })\n\n    const apiUrl = API + \"/admin/api/collections/search?\" + query;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const collection = results.models && results.models[0] || {}\n\n        dispatch(receiveAppCollection(collection))\n\n        dispatch(getAppProperties({\n            ...app,\n            collectionId: collection.id,\n        }))\n\n    })\n\n}\n\nexport const getAppProperties = (app) => dispatch => {\n\n    dispatch(receiveApp(app))\n    dispatch(getFinder(app))\n\n}\n\nexport const getSubview = (subview) => dispatch => {\n\n    dispatch(receiveSubview({\n        subview: subview\n    }))\n\n}\n\nexport const getLayout = (layout = \"default\") => dispatch => {\n\n    if (layout === \"editor\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: false\n            },\n            sidebar: {\n                expanded: false\n            },\n            subview: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: true\n            },\n            subview: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder/subview\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: false\n            },\n            subview: {\n                expanded: true\n            }\n        }))\n    }\n\n}\n\nexport const getAppSearch = ({expanded, q}) => dispatch => {\n    dispatch(toggleSearch({expanded, q}))  \n}\n\nexport const getParents = ({pathname}) => (dispatch, getState) => {\n\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    let parents = [];\n  \n    const pathnames = pathname.split('/');\n  \n    let url = '';\n  \n    pathnames.forEach((path) => {\n\n        if (path) {\n            url = url + '/' + path;\n        } else {\n            url = '/';\n        }\n    \n        if (menuByUrl && menuByUrl[url] && menuByUrl[url].title) {\n            parents.push(menuByUrl[url]);\n        }\n        \n        if (url == '/') {\n            url = '';\n        }\n\n    });\n\n    dispatch(receiveParents({parents:parents}))\n  \n}\n\nexport const getSchemasByName = ({schemas = []}) => dispatch => {\n\n    dispatch(requestSchemasByName())\n\n    let schemasByName = {}\n\n    schemas.map(schema => {\n\n        if (schema.name) {\n            schemasByName[schema.name] = schema\n        }\n\n    })\n\n    dispatch(receiveSchemasByName({schemasByName}))\n    \n}\n\nexport const getMenuItem = ({pathname}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    if (menuItem && menuItem.type === \"tree\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    if (menuItem && menuItem.type === \"treeitem\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    \n}\n \nconst getMenuTree = (parent) => dispatch => {\n\n    const { query } = parent\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => \n       dispatch(getMenuTreeChildren({parent, results}))\n    )\n\n}\n\nconst getMenuTreeChildren = ({parent, results}) => dispatch => {\n    const { models } = results;\n\n\n    let children = []\n\n    if (models) {\n        models.map((model) => {\n\n            const { template, query } = parent\n            const { collectionId, models } = query;\n\n            const { id, title, uniqueId } = model;\n                \n            let url = parent.url + \"/\" + uniqueId;\n        \n            const child = {\n                ...model,\n                template: template,\n                type: \"treeitem\",\n                pathname: url,\n                url: url,\n                query: {\n                    collectionId: collectionId,\n                    models: models,\n                    parentId: id\n                }\n            }\n            \n            children.push(child)\n        })\n    \n    }\n    \n    if (children.length) {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"tree\", count: children.length, children: children}))\n        \n        children.map((child) => {\n//            dispatch(receiveMenuItemByUrl(child))\n            dispatch(getMenuTree(child))\n        })\n        \n    } else {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"treeitem\"}))\n\n    }\n\n}\n\n\nconst getMenuChildren = ({children = [], level = 0}) => dispatch => {\n\n    children.forEach((child) => {\n\n        let item = {\n            ...child,\n            level: level\n        }\n\n        if (item.children) {\n            dispatch(getMenuChildren({children: item.children, level: level++}))\n        }\n\n        dispatch(receiveMenuItemByUrl(item))\n\n    });\n\n}\n\n/*\nexport const getMenuByUrl = ({menu = []}) => dispatch => {\n    dispatch(requestMenuByUrl())\n    dispatch(getMenuChildren({children: menu}))\n}*/\n\n\nexport const { \n    requestApp, receiveApp, \n    receiveAppSite, receiveAppCollection, \n    receiveTheme, toggleDarkMode,\n    requestLayout, receiveLayout, \n    requestSubview, receiveSubview, \n    toggleHeader, expandHeader, collapseHeader,\n    toggleSearch, collapseSearch,\n    toggleSidebar, \n    toggleSubview, \n    requestSchemasByName, \n    receiveSchemasByName, \n    requestMenu, receiveMenu, \n    toggleMenuItem, requestMenuByUrl, \n    receiveMenuByUrl, receiveMenuItemByUrl, \n    requestParents, receiveParents\n} = appSlice.actions\nexport default appSlice.reducer","export default {\n    \"palette\": {\n        \"media\": \"#303030\",\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        },\n        \"primary\": {\n            \"main\": \"#20734b\"\n        }\n    }\n}","\nconst artifacts = {\n    icon: \"article\",\n    title: \"Nytt objekt\",\n    pathname: \"/create?documentType=artifact\"\n}\n\n\nexport default {\n    title: \"Create\",\n    pathname: \"/create?documentType=artifact\",\n    \"children\": [\n        artifacts\n    ]\n\n}","import app from \"./app\"\nexport default app","import theme from \"./theme\"\nimport primaryAction from \"./action\"\nimport menu from \"./menu\"\n\nexport default {\n    theme: theme,\n    icon: \"kioskApp\",\n    url: \"/kiosk\",\n    root: \"/kiosk\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"Kiosk\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    sidebar: {\n        expanded: true\n    },\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n//        \"variant\": \"growing\",\n        \"expanded\": false,\n        \"placeholder\": \"Søk i Kiosk\"\n    }\n}","const contentTypes = [\n    {\n        pathname: \"article\",\n        title: \"Artikler\",\n        icon: \"article\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"article\",\n        }\n    },\n    {\n        pathname: \"device\",\n        title: \"Enheter\",\n        icon: \"device\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"device\",\n        }\n    },\n    {\n        pathname: \"grid\",\n        title: \"Mosaikk\",\n        icon: \"pageGrid\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageGrid\",\n        }\n    },\n    {\n        pathname: \"timeline\",\n        title: \"Tidslinje\",\n        icon: \"pageTimeline\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageTimeline\",\n        }\n    },\n    {\n        pathname: \"annotate\",\n        title: \"Bildekart\",\n        icon: \"pageAnnotate\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageAnnotate\",\n        }\n    },\n    {\n        pathname: \"media\",\n        title: \"Media\",\n        icon: \"pageMedia\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageMedia\",\n        }\n    },\n    {\n        pathname: \"list\",\n        icon: \"pageList\",\n        title: \"Liste\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageList\",\n        }\n    },\n\n]\n\nconst mediaTypes = [\n    {\n        pathname: \"image\",\n        title: \"Bilder\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"image\",\n        }\n    },\n    {\n        pathname: \"video\",\n        title: \"Video\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"video\",\n        }\n    },\n    {\n        pathname: \"audio\",\n        title: \"Audio\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"audio\",\n        }\n    },\n\n]\n\nconst shortcuts = [\n    {\n        pathname: \"latest\",\n        title: \"Latest\",\n        icon: \"access_time\",\n        query: {\n            models: \"documents\",\n            status: \"NOT trash\",\n            models: \"documents\",\n            sort: \"updatedAt DESC\"\n        }\n        },\n    {\n        icon: \"delete\",\n        title: \"Trash\",\n        pathname: \"trash\",\n        query: {\n            models: \"documents\",\n            status: \"trash\",\n            models: \"documents\",\n            sort: \"deletedAt DESC\",\n        }\n    }\n\n]\n\nconst favourites = [\n    {\n        url: \"/kp\",\n        title: \"KulturPunkt\",\n        icon: \"kpMenu\",\n    }\n]\n\nexport default [\n    {\n        url: \"/kiosk\",\n        title: \"Alt innhold\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"*\",\n        }\n    },\n    {\n        title: \"Innhold\",\n        pathname: \"content\",\n        role: \"section\",\n        children: contentTypes\n    },\n    {\n        title: \"Media\",\n        pathname: \"media\",\n        role: \"section\",\n        children: mediaTypes\n    },\n    {\n        title: \"Snarveier\",\n        pathname: \"shortcuts\",\n        role: \"section\",\n        children: shortcuts\n    },\n    {\n        title: \"Favoritter\",\n        pathname: \"favourites\",\n        role: \"section\",\n        children: favourites\n    }\n\n]","export default {\n    MuiInputBase: {\n        root: {\n            fontFamily: \"Akkurat, sans-serif\",\n            lineHeight: \"1.25\"\n        }\n    },\n    MuiFilledInput: {\n        root: {\n            borderTopLeftRadius: \"0\",\n            borderTopRightRadius: \"0\"\n        }\n    },\n    MuiFormLabel: {\n        root: {\n        }\n    },\n    MuiFormHelperText: {\n        root: {\n        }\n    },\n    MuiButtonGroup: {\n        grouped: {\n        }\n    },\n    MuiButton: {\n        root: {\n            fontFamily: \"Akkurat, sans-serif\",\n            fontWeight: \"bold\",\n            textTransform: \"none\",\n            borderRadius: 1,\n        },\n        outlined: {\n        },\n    }\n}","import Color from 'color';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport overrides from \"./theme.overrides\"\n\nconst getColor = (color = \"#666\") => {\n    return Color(color).hex();\n}\n\nconst getPalette = ({primaryColor, secondaryColor}) => {\n\n    return {\n        primary: {\n            main: getColor(primaryColor), \n        },\n        secondary: {\n            main: getColor(secondaryColor || primaryColor), \n        }\n    }\n\n}\n\n\nexport const createAppTheme = ({palette, ...theme}) => {\n\n    return createMuiTheme({\n        typography: {\n            fontFamily: \"Akkurat, sans-serif !important\"\n        },\n        palette: palette || getPalette(theme),\n        overrides: overrides\n    })\n\n\n}\n\nexport default createAppTheme","import React, { useState, useEffect } from 'react';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createAppTheme } from \"./utils/createAppTheme\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n\n        display: \"flex\",\n        flexDirection: \"column\",\n\n    },\n}));\n\n/** AppBase sets a backgroundColor and supplies a theme to the application */\n\nconst AppBase = ({className, theme, children}) => {\n    const classes = useStyles()\n\n    return (\n        <ThemeProvider theme={createAppTheme(theme)}>\n            <main className={className || classes.root}>\n                {children}\n            </main>\n        </ThemeProvider>\n    )\n}\n\nAppBase.defaultProps = {\n    /** MUI theme or primaryColor */\n    theme: {\n        primaryColor: \"blue\"\n    }\n}\n\nexport default AppBase","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        flexGrow: 1,\n        position: \"relative\",\n        transition: \".125s ease-out\",\n    },\n}));\n\nconst AppBody = ({className, expanded = false, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.body} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n}\n\nexport default AppBody;","import React, { useState, useRef, forwardRef } from 'react';\nimport DropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        borderRadius: 1,\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        marginLeft: theme.spacing(-.5)\n    },\n    toggle: {\n        borderRadius: 0,\n        width: theme.spacing(5),\n    },\n}));\n\nconst ActionButton = ({className, forwardedRef, icon, role, size = \"large\", variant = \"contained\", color = \"primary\", disabled, expanded, controls, children, onClick, onToggle, ...item}) => {\n    const { label, title } = item;\n\n    const classes = useStyles()\n\n    if (onClick && onToggle) {\n        return (\n            <ButtonGroup aria-label=\"action\" color={color} ref={forwardedRef}>\n                <Button size={size} variant={variant} className={className || classes.root} disabled={disabled} onClick={onClick}> \n                    { icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { label || title }\n                </Button>\n                <Button size={size} variant={variant} disabled={disabled} className={classes.toggle}\n                    size=\"small\"\n                    aria-controls={expanded ? controls : undefined}\n                    aria-expanded={expanded ? 'true' : undefined}\n                    aria-label=\"options\"    \n                    aria-haspopup=\"menu\"\n                    onClick={onToggle}>\n                    <DropDownIcon />\n                </Button>\n            </ButtonGroup>\n        )\n    }\n\n    if (onToggle) {\n        return (\n            <Button size={size} variant={variant} color={color} className={className || classes.root} disabled={disabled} onClick={onToggle} ref={forwardedRef}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { label || title }\n                <DropDownIcon />\n            </Button>\n        )\n    }\n    \n    return (\n        <Button size={size} variant={variant} color={color} className={className || classes.root} disabled={disabled} onClick={onClick}>\n            { icon && <Icon className={classes.icon}>{icon}</Icon> }\n            { label || title }\n        </Button>\n    )\n}\n\nexport default ActionButton;","import React from 'react';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dropdown: {\n        minWidth: props => { return props.minWidth },\n    },\n}));\n\nconst NavActionDropdown = ({className, minWidth = 192, open, anchorEl, placement = \"bottom-start\", onClickAway, children}) => {\n\n    const classes = useStyles({minWidth})\n\n    return (\n        <Popper open={open} style={{zIndex: 2000}}\n            role={undefined} transition anchorEl={anchorEl} placement={placement}>\n            <ClickAwayListener onClickAway={onClickAway}>\n                <Paper className={className || classes.dropdown} elevation={16} square={true}>\n                    {children}\n                </Paper>\n            </ClickAwayListener>\n        </Popper>\n    )\n}\n\nexport default NavActionDropdown;","import React from 'react';\nimport MenuList from \"@material-ui/core/MenuList\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionList: {\n        width: \"100%\",\n        paddingTop: theme.spacing(1.5),\n        paddingBottom: theme.spacing(1.5),\n    },\n}));\n\nconst ActionMenuList = ({className, children}) => {\n    const classes = useStyles()\n\n    return (\n        <MenuList className={className || classes.actionList}>\n            {children}\n        </MenuList>\n    )\n\n}\n\nexport default ActionMenuList","import React from 'react';\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionListItem: {\n        width: \"100%\",\n        padding: 0,\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n        }\n    }\n}));\n\nconst ActionMenuItem = ({className, role, children}) => {\n    const classes = useStyles()\n\n    return (\n        <ListItem className={className || classes.actionListItem} role={role}>\n            {children}\n        </ListItem>\n    )\n\n}\n\nexport default ActionMenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase'\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Icon from '@material-ui/core/Icon';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionLink: {\n        width: \"100%\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        \"& .MuiTypography-root\": {\n            fontFamily: \"Akkurat, sans-serif\",\n        },\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n\n    },\n    icon: {\n        color: \"rgba(0,0,0,.54)\"\n    },\n    text: {\n        fontFamily: \"Akkurat, sans-serif !important\",\n        fontSize: \"inherit\",\n        \"& strong\": {\n            fontWeight: \"bold\"\n        }\n    }\n}));\n\nconst ActionMenuLink = ({className, icon, label, title, description, onClick}) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    if (!label) {\n        return null\n    }\n\n    return (\n        <MenuItem className={className || classes.actionLink} onClick={onClick}>\n            { icon && <ListItemIcon><Icon className={classes.icon}>{icon}</Icon></ListItemIcon> }\n            <ListItemText className={classes.text} primary={label} secondary={description}></ListItemText>\n        </MenuItem>\n    )\n\n}\n\nexport default ActionMenuLink","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuList from \"./NavActionMenuList\"\nimport MenuItem from \"./NavActionMenuItem\"\nimport MenuLink from \"./NavActionMenuLink\"\n\n/** Menu component. Takes */\n\nconst NavMenu = ({className, icons = {}, menu = [], menuByUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count, onClick } = item;\n\n        return (\n            <MenuLink selected={selected} url={url} icon={icon} label={label || title} count={count} onClick={() => _onSelect(item)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        const { role, children, hidden, selected } = item;\n\n        const expanded = true\n\n        if (hidden) {\n            return (\n                <MenuItem key={index} role={role}>\n                    <MenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </MenuList>\n                </MenuItem>\n            )\n        }\n\n        if (children) {\n            return (\n                <MenuItem key={index} role={role || \"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <MenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </MenuList>\n                    }\n                </MenuItem>\n            )\n        }\n\n        return (\n            <MenuItem {...item} key={index} role={role || \"none\"}>\n                { renderLink(item) }\n            </MenuItem>\n        )\n\n    }\n\n    if (!menu || !menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <MenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </MenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","import React, { useState, useRef, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavActionButton from \"./NavActionButton\"\nimport NavActionDropdown from \"./NavActionDropdown\"\nimport NavActionMenu from \"./NavActionMenu\"\n\nconst NavActionItem = ({variant = \"contained\", icons = {}, menuByUrl = {}, onSelect, ...props}) => {\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null);\n\n    const { url, children, onClick } = props\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onSelect = (item) => {\n        onSelect && onSelect(item)\n        setExpanded(false);\n    }\n\n    // combo\n\n    if (children && url || children && onClick) {\n\n        return (\n            <>\n                <NavActionButton {...props} variant={variant} onClick={() => _onSelect(props)} forwardedRef={anchorRef} onToggle={_onToggle} />\n                <NavActionDropdown open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                    <NavActionMenu icons={icons} menu={children} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                </NavActionDropdown>\n            </>\n        )\n\n    }\n\n    // children\n\n    if (children) {\n\n        return (\n            <>\n                <NavActionButton {...props} variant={variant} expanded={expanded} forwardedRef={anchorRef} onToggle={_onToggle} />\n                <NavActionDropdown open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                    <NavActionMenu icons={icons} menu={children} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                </NavActionDropdown>\n            </>\n        )\n        \n    }\n\n    // single\n\n    return (\n        <NavActionButton {...props} variant={variant} onClick={() => _onSelect(props)} />\n    )\n\n    return null\n\n}\n\n\nNavActionItem.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavActionItem.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n}\n\nexport default NavActionItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavActionItem from \"./NavActionItem\"\n\n/** Action menu component */\n\nconst NavAction = ({className, variant = \"contained\", icons = {}, menu = [], menuByUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        item.onClick && item.onClick() || onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        return (\n                <NavActionItem {...item} variant={item.variant || variant} icons={icons} menuByUrl={menuByUrl} key={index} onSelect={_onSelect} />\n        )\n\n    }\n\n    if (!menu || !menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            { menu.map(renderItem)}\n        </nav>\n    )\n\n}\n\nNavAction.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavAction.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavAction;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        \"&[role=tree]\": {\n            marginLeft: theme.spacing(3)\n        },\n        \"& > li + li\": {\n            marginTop: theme.spacing(.5)\n        },\n        \"& > li > ul > li + li\": {\n            marginTop: 0\n        },\n        \"&[role=group] > li + li\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n}));\n\nconst MenuList = ({className, role = \"tree\", children}) => {\n    const classes = useStyles()\n\n    return (\n        <ul className={className || classes.root} role={role}>\n            { children }\n        </ul>\n    )\n}\n\nexport default MenuList","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        display: \"block\",\n        width: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n\n        \"&[role=group] + *\": {\n//            borderTop: \"1px solid\",\n//            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n//            borderTop: \"1px solid\",\n//            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n//                borderTop: \"1px solid\",\n//                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        left: \"-24px\",\n        padding: 0,\n        margin: 0,\n        opacity: 0.5\n    },\n    toggleCollapsed: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\"\n    },\n    toggleExpanded: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(0deg)\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        opacity: 0.5\n    }\n}));\n\nconst MenuToggle = ({expanded = false, onClick}) => {\n    const classes = useStyles();\n    const toggleIcon = expanded && classes.toggleExpanded || classes.toggleCollapsed\n\n    return (\n        <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded} size=\"small\">\n            <ToggleIcon className={toggleIcon} />\n        </IconButton>\n    )\n}\n\nconst MenuItem = ({className, role = \"treeitem\", count, expanded = false, onToggle, children}) => {\n    const classes = useStyles();\n\n    return (\n        <li className={className || classes.root} role={role} aria-expanded={expanded}>\n            { onToggle && <MenuToggle expanded={expanded} onClick={onToggle} /> }\n            { children }\n        </li>\n    )\n}\n\nexport default MenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        }\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        },\n\n        \"& + $label\": {\n            marginLeft: 12\n        }\n\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst MenuLink = ({className, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    return (\n        <ButtonBase color={color} className={className || classes.root} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon} aria-selected={selected}>{icon}</Icon> }\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            { count && <Typography component=\"i\" align=\"right\" nowrap=\"true\" className={classes.count}>{count}</Typography> }\n            { children }\n        </ButtonBase>\n    )\n}\n\nexport default MenuLink","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"12px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        },\n        marginBottom: theme.spacing(.5),\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        }\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontWeight: \"bold\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n//        paddingLeft: \"12px\",\n//        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst NavMenuLabel = ({className, url, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    if (!url) {\n        return (\n            <div color={color} className={className || classes.root} aria-selected={selected}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            </div>\n        )\n    }\n\n    return (\n        <ButtonBase color={color} className={className || classes.root} aria-selected={selected} onClick={onClick}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n        </ButtonBase>\n    )\n\n}\n\nexport default NavMenuLabel","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavMenuList from \"./NavMenuList\"\nimport NavMenuItem from \"./NavMenuItem\"\nimport NavMenuLink from \"./NavMenuLink\"\nimport NavMenuLabel from \"./NavMenuLabel\"\n\nconst NavMenuCalendar = () => { return <p>cal</p>}\n\n/** Menu component */\n\nconst NavMenu = ({className, icons = {}, menu = [], menuByUrl, currentUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLink selected={selected} url={url} icon={icon} label={label || title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderLabel = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLabel selected={selected} url={url} icon={icon} label={label || title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        if (item.url && currentUrl && item.url === currentUrl) {\n            item = {\n                ...item,\n                expanded: true,\n                selected: true\n            }\n        }\n\n        if (item.url && currentUrl && currentUrl.startsWith(item.url)) {\n            item = {\n                ...item,\n                expanded: true,\n            }\n        }\n\n        const { role, calendar, children, hidden, selected, expanded } = item;\n\n        if (role === \"section\") {\n\n            return (\n                <NavMenuItem key={index} role=\"group\">\n                    { renderLabel(item) }\n\n                    { children && \n                        <NavMenuList role=\"group\">\n                        { children && children.map((item, index) => renderItem({...item, role: ''}, index))}\n                        </NavMenuList>\n                    }\n\n                </NavMenuItem>\n            )\n\n            \n        }\n\n        if (hidden) {\n            return (\n                <NavMenuItem key={index} role={role}>\n                    <NavMenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </NavMenuList>\n                </NavMenuItem>\n            )\n        }\n\n        if (calendar) {\n            return (\n                <NavMenuItem key={index} role={role || \"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { expanded &&\n                        <NavMenuCalendar {...calendar} /> \n                    }\n                </NavMenuItem>\n            )\n\n        }\n\n        if (children && children.length) {\n            return (\n                <NavMenuItem key={index} role={role || \"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <NavMenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </NavMenuList>\n                    }\n                </NavMenuItem>\n            )\n        }\n\n        return (\n            <NavMenuItem {...item} key={index} role={role || \"none\"}>\n                { renderLink(item) }\n            </NavMenuItem>\n        )\n\n    }\n\n    if (!menu || !menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <NavMenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </NavMenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NavAction from \"../NavAction/NavAction\"\nimport NavMenu from \"../NavMenu/NavMenu\"\n\nconst useStyles = makeStyles(theme => ({\n    sidebar: {\n        position: \"relative\",\n    },\n    action: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    }\n}));\n\nconst AppSidebar = ({className, icons = {}, expanded = false, width = 224, calendar, menu, menuByUrl = {}, primaryAction, onSelect, children}) => {\n\n    const classes = useStyles({width})\n\n    return (\n        <aside className={className || classes.sidebar} aria-expanded={expanded}>\n            { primaryAction && <NavAction className={classes.action} icons={icons} primaryAction={[primaryAction]} menuByUrl={menuByUrl} onSelect={onSelect} />}\n            { menu && <NavMenu icons={icons} menu={menu} menuByUrl={menuByUrl} onSelect={onSelect} /> }\n            { children }\n        </aside>\n    )\n\n}\n\nAppSidebar.propTypes = {\n    className: PropTypes.string,\n    expanded: PropTypes.bool,\n    calendar: PropTypes.shape({\n        date: PropTypes.string\n    }),\n    menu: PropTypes.array\n}\n\nAppSidebar.defaultProps = {\n    calendar: undefined\n}\n\nexport default AppSidebar;","import React, { Component } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        transition: \".125s ease-out\"\n    },\n}));\n\nconst AppContent = ({className, expanded, children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n}\n\nexport default AppContent;","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport TextField from \"@material-ui/core/TextField\"\nimport InputBase from \"@material-ui/core/InputBase\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n    },\n    field: {\n        display: \"flex\",\n        width: \"100%\",\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        width: \"100%\",\n        height: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"1\",\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"&:focus + *\": {\n            opacity: 1\n        }\n    },\n    toggle: {\n        marginLeft: theme.spacing(1),\n    },\n    reset: {\n        marginRight: theme.spacing(1),\n    }\n}));\n\nconst NavSearch = ({\n    id = \"nav-search\",\n    className,\n    expanded,\n    InputProps = {},\n    inputRef,\n    inputProps = {},\n    inputClassName,\n    placeholder = \"Search\",\n    value,\n    onChange,\n    onFocus,\n    onBlur,\n    onToggle,\n    onReset\n}) => {\n\n    const classes = useStyles()\n\n    const ButtonReset = () => {\n        return (\n            <IconButton className={classes.reset} onClick={onReset}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n    \n    const ButtonToggle = () => {\n        return (\n            <IconButton className={classes.toggle} disableRipple disabled={!onToggle} onClick={onToggle}>\n                <SearchIcon />\n            </IconButton>\n        )\n    }\n\n    const startAdornment = <ButtonToggle />\n    const endAdornment = <ButtonReset />\n\n    const ref = InputProps.ref\n\n    if (inputProps.value) {\n        value = inputProps.value\n    }\n\n    return (\n        <InputBase\n            aria-expanded={expanded}\n            inputRef={inputRef}\n            id={id}\n            ref={ref}\n            className={className || classes.field}\n            placeholder={placeholder}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            onChange={onChange}\n            value={value}\n            startAdornment={startAdornment}\n            endAdornment={endAdornment}\n            inputProps={{\n                ...inputProps,\n                className: inputClassName || classes.input,\n                'aria-label': 'Search',\n            }}\n        />        \n    )\n\n    /*\n    \n    return (\n        <div className={className || classes.search} aria-expanded={expanded}>\n            <div ref={InputProps.ref} className={fieldClassName || classes.field} aria-expanded={expanded || \"false\"}>\n                <ButtonToggle onClick={_onToggle} disabled={!onToggle && true || false} />\n                <input id={id} ref={inputRef} type=\"text\"\n                    placeholder={placeholder}\n                    onChange={_onChange}\n                    {...inputProps} \n                    className={inputClassName || classes.input} \n                    />\n                {InputProps.endAdornment || <ButtonReset onClick={_onReset} /> }\n            </div>\n            {children}\n        </div>\n    )\n\n    */\n}\n\nNavSearch.propTypes = {\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default NavSearch;","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavSearch from \"../NavSearch/NavSearch\"\n\nimport Typography from '@material-ui/core/Typography';\nimport Icon from '@material-ui/core/Icon';\n\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { matchSorter } from 'match-sorter'\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: theme.palette.primary.main,\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n    },\n    field: {\n        display: \"flex\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n        width: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        lineHeight: 1,\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n    },\n    growingField: {\n        position: \"absolute\",\n        right: 0,\n    \n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n        transition: \".125s ease-out\",\n\n        width: theme.spacing(16),\n        height: theme.spacing(5),\n        margin: theme.spacing(1.5),\n        borderRadius: theme.spacing(2.5),\n\n        \"& > input\": {\n            fontSize: 16\n        },\n\n        \"&[aria-expanded=true]\": {\n            borderRadius: 0,\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            margin: 0,\n            width: \"100%\",\n            height: theme.spacing(8),\n\n            \"& > input\": {\n                fontSize: 18,\n            },\n\n            \"& > input + button\": {\n                display: \"block\"\n            }\n\n\n        },\n\n        \"& > button\": {\n            margin: 0\n        }\n\n    },\n    growingInput: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        lineHeight: 1,\n        color: \"inherit\",\n\n//        textOverflow: \"ellipsis\",\n//        overflow: \"hidden\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"& + button\": {\n            display: \"none\"\n        },\n\n    },\n    suggestRoot: {\n\n        \"& > $suggestPopper\": {\n            marginTop: 0\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"& > $suggestPopper\": {\n                marginTop: 64\n            }\n\n        }\n    },\n    suggestOverlay: {\n        position: \"fixed\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        transition: \".125s ease-out\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        pointerEvents: \"none\",\n        opacity: 0,\n        \"&[aria-expanded=true]\": {\n            opacity: 1,\n            pointerEvents: \"all\",\n        }\n    },\n    suggestPopper: {\n        position: \"fixed\",\n        marginTop: 64,\n        width: \"100%\",\n    },\n    suggestPaper: {\n        width: \"100%\",\n        padding: 0,\n        margin: 0,\n        borderRadius: 0,\n//        borderTop: \"1px solid\",\n        borderTopColor: theme.palette.divider,\n        boxShadow: theme.shadows[2]\n    },\n    suggestList: {\n        paddingTop: 8,\n        paddingBottom: 8\n    },\n    suggestListItem: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n        paddingTop: 8,\n        paddingRight: 16,\n        paddingBottom: 8,\n        paddingLeft: 16,\n    },\n    suggestIcon: {\n        \"& + $suggestLabel\": {\n            marginLeft: 16\n        }\n    },\n    suggestLabel: {\n        flexGrow: 1,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14\n    },\n    suggestCount: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n        color: theme.palette.text.secondary\n    },\n    suggestQuery: {\n        textDecoration: \"underline\",\n        \"&:before\": {\n            content: '\"«\"'\n        },\n        \"&:after\": {\n            content: '\"»\"'\n        },\n    },\n\n    suggestGroupList: {\n        padding: 0,\n        margin: 0,\n\n        \"& > $suggestListItem\": {\n            paddingLeft: 16\n        },\n\n    },\n    suggestGroupLabel: {\n        borderTop: \"1px solid\",\n        marginTop: 8,\n        paddingTop: 16,\n        paddingLeft: 16,\n        marginBottom: 8,\n        borderTopColor: theme.palette.divider,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n        fontWeight: \"normal\",\n        textTransform: \"capitalize\",\n        color: theme.palette.text.secondary\n\n\n    },\n    \n}));\n\n\nconst AppSearch = ({\n    id = \"app-search\",\n    className,\n    variant = \"default\",\n    expanded,\n    placeholder = \"Search app\",\n    icons,\n    options,\n    scopes,\n    suggest,\n    value,\n    onChange,\n    onFocus,\n    onBlur,\n    onToggle,\n    onReset,\n    autocompleteProps,\n    ...props}) => {\n\n    const classes = useStyles()\n\n    const inputRef = useRef(null)\n\n    let fieldClassName = classes.field\n    let inputClassName = classes.input\n\n    if (variant === \"growing\") {\n        fieldClassName = classes.growingField\n        inputClassName = classes.growingInput\n    }\n\n    const _onFocus = (event) => {\n        if (!expanded) {\n            onToggle && onToggle()\n        }\n\n        onFocus && onFocus(event)\n    }\n\n    const _onBlur = (event) => {\n        onBlur && onBlur(event)\n    }\n\n    const _onChange = (event) => {\n        onChange && onChange(event.target.value, event)\n    }\n\n    if (options) {\n\n        autocompleteProps = {\n            options: options,\n            ...autocompleteProps\n        }\n\n    }\n\n    if (autocompleteProps) {\n\n        // keep query options\n\n        const scopeOptions = autocompleteProps.options && autocompleteProps.options.filter(option => option.query)\n        const suggestOptions = autocompleteProps.options && autocompleteProps.options.filter(option => !option.query)\n\n        const _filterOptions = (options, state) => {\n            const { inputValue, selected } = state\n\n            // keep query options\n\n//            let query = options.filter(option => option.query)\n//            let items = options.filter(option => !option.query)\n\n            const baseSort = (a, b) => ( a.modelName < b.modelName ? -1: 1 )\n\n            let filtered = matchSorter(suggestOptions, inputValue, { keys: ['title'], baseSort: baseSort })\n\n            /*\n\n            if (state.inputValue !== '') {\n              filtered.push({\n                inputValue: state.inputValue,\n                title: `Add \"${state.inputValue}\"`,\n              });\n            }\n\n            */\n\n            if (scopeOptions) {\n                filtered = [\n                    ...scopeOptions,\n                    ...filtered\n                ]\n            }\n\n            return filtered;\n        \n        }\n    \n        const _getOptionLabel = (option) => {\n            return option.q\n        }\n   \n        const _getOptionHighlight = (label, q) =>  {\n\n            const matches = match(label, q);\n            const parts = parse(label, matches);\n        \n            return parts.map((part, index) => {\n                if (part.highlight) {\n                    return <b className={classes.suggestHighlight}>{part.text}</b>\n                }\n                return part.text\n            })\n\n        }\n\n        const _getOptionQuery = (label, q) =>  {\n\n            const matches = match(label, \"[q]\");\n            const parts = parse(label, matches);\n        \n            return parts.map((part, index) => {\n                if (part.highlight) {\n                    return <b className={classes.suggestQuery}>{q}</b>\n                }\n                return part.text\n            })\n\n        }\n\n        const _renderGroup = ({group, children}) => {\n\n            if (group) {\n                return (\n                    <li>\n                        <div className={classes.suggestGroupLabel}>{group}</div>\n                        <ul className={classes.suggestGroupList}>{children}</ul>\n                    </li>\n                )\n            }\n\n            return children\n\n        }\n\n        const _renderOption = (option = {}, state) => {\n            const { inputValue, selected } = state\n    \n            let { uniqueId, documentType, query, icon, placeholder, title, count } = option\n    \n            if (!icon && icons && icons[documentType]) {\n                icon = icons[documentType]\n            }\n\n            // highlight\n\n            const label = inputValue == '' && placeholder || query && _getOptionQuery(title, inputValue) || _getOptionHighlight(title, inputValue)\n    \n            return (\n                <>\n                    {icon && <Icon className={classes.suggestIcon}>{icon}</Icon>}\n                    <Typography className={classes.suggestLabel}>\n                        {label}\n                    </Typography>\n                    { count && <Typography className={classes.suggestCount}>{count}</Typography> }\n                </>\n            ) \n    \n        }\n\n        return (\n            <div className={className || classes.search} aria-expanded={expanded}>\n                <div className={classes.suggestOverlay} aria-expanded={expanded} onClick={onToggle}></div>\n                <Autocomplete\n                    id={id + \"-suggest\"}\n                    classes={{\n                        root: classes.suggestRoot,\n                        popper: classes.suggestPopper,\n                        paper: classes.suggestPaper,\n                        listbox: classes.suggestList,\n                        option: classes.suggestListItem,\n                        groupUl: classes.suggestGroupList,\n                        groupLabel: classes.suggestGroupLabel,\n                    }}\n                    fullWidth={true}\n                    disablePortal={true}\n                    open={expanded || false}\n                    filterOptions={_filterOptions}\n                    renderGroup={_renderGroup}\n                    renderOption={_renderOption}\n                    getOptionLabel={_getOptionLabel}\n        \n                    {...autocompleteProps}\n    \n                    renderInput={({InputProps, inputProps}) => {\n                        return (\n                            <NavSearch\n                                InputProps={InputProps}\n                                id={id}\n                                className={fieldClassName}\n                                expanded={expanded}\n                                inputRef={inputRef}\n                                inputProps={{\n                                    ...inputProps,\n                                    placeholder: placeholder\n                                }}\n                                inputClassName={inputClassName}\n    //                            onFocus={_onFocus}\n    //                            onBlur={_onBlur}\n    //                            onChange={_onChange}\n                                onToggle={onToggle}\n                                onReset={onReset}\n                                />\n                        )\n                    }}\n                />        \n            </div>\n        )\n\n    }\n\n    // default search\n    \n    return (\n        <div className={className || classes.search} aria-expanded={expanded}>\n            <NavSearch {...props}\n                id={id}\n                className={fieldClassName}\n                expanded={expanded}\n                placeholder={placeholder}\n                inputRef={inputRef}\n                inputClassName={inputClassName}\n                onFocus={_onFocus}\n                onBlur={_onBlur}\n                onChange={_onChange}\n                onToggle={onToggle}\n                onReset={onReset}\n                />\n        </div>\n    )\n\n\n\n\n}\n\nAppSearch.defaultProps = {\n    expanded: true,\n    placeholder: \"Search\"\n}\n\nAppSearch.propTypes = {\n    /** Expanded */\n    expanded: PropTypes.bool,\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default AppSearch;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    identifier: {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n//        width: \"100%\",\n        flexGrow: 1,\n        height: theme.spacing(8),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        color: props => { return theme.palette.header && theme.palette.header.title || theme.palette.primary.contrastText },\n    },\n    divider: {\n        backgroundColor: theme.palette.primary.contrastText,\n        width: \"1px\",\n        height: theme.spacing(3),\n        opacity: 0.85,\n        margin: theme.spacing(1.5),\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        },\n\n    },\n    subtitle: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"normal\",\n        opacity: 0.85,\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        },\n\n    }\n}));\n\nconst AppIdentifier = ({className, expanded, title, subtitle}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.identifier} aria-expanded={expanded}>\n            <Typography component=\"h1\" className={classes.title} noWrap>{title}</Typography>\n            { title && subtitle && <div className={classes.divider}></div> }\n            <Typography component=\"h2\" className={classes.subtitle} noWrap>{subtitle}</Typography>\n        </div>\n    )\n\n}\n\nAppIdentifier.propTypes = {\n    title: PropTypes.string,\n    subtitle: PropTypes.string\n}\n\nexport default AppIdentifier;","import React from 'react';\nimport Color from 'color';\nimport SeparatorIcon from '@material-ui/icons/NavigateNext';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nconst getColor = (color) => {\n    color = Color(color);\n\n    if (color.isDark()) {\n        return color.hex()\n    } else {\n        return 'black'\n    }\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n//        fontSize: \"18px\",\n//        lineHeight: \"24px\",\n        listStyle: \"none\",\n        color: getColor(theme.palette.primary.main),\n        '& li[aria-hidden]': {\n            marginLeft: theme.spacing(0.5),\n            marginRight: theme.spacing(0.5)\n        },\n        \"& li\": {\n        }\n    }\n}));\n\nconst Path = ({className, children}) => {\n    const classes = useStyles();\n    \n    return (\n        <Breadcrumbs className={className || classes.root} separator={<SeparatorIcon />}>\n            {children}\n        </Breadcrumbs>\n    )\n\n}\n\nexport default Path;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"18px\",\n        lineHeight: \"24px\",\n        color: \"inherit\",\n        \"&[data-url]\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst PathItem = ({url, onClick, children}) => {\n    const classes = useStyles();\n\n    if (url) {\n        return (\n            <Link className={classes.root} href={!onClick && url} data-url={url} onClick={onClick}>\n                { children }\n            </Link>\n        )\n    }\n\n    return (\n        <Typography className={classes.root} href={url} onClick={onClick}>\n            { children }\n        </Typography>\n    )\n\n}\n\nexport default PathItem","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\nimport ButtonBase from '@material-ui/core/ButtonBase';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: \"18px\",\n        lineHeight: \"24px\",\n    },\n    icon: {\n    },\n    label: {\n    }\n}));\n\nconst PathButton = ({style, icon, title, label, value, disabled, expanded, controls, onToggle, forwardedRef}) => {\n\n    const classes = useStyles()\n\n    return (\n        <ButtonBase className={classes.root} style={style} ref={forwardedRef}\n            disabled={disabled} \n            aria-controls={expanded ? controls : undefined}\n            aria-expanded={expanded ? 'true' : undefined}\n            aria-label=\"options\"    \n            aria-haspopup=\"menu\"\n            onClick={onToggle}>\n                {label || title || value}\n        </ButtonBase>\n    )\n\n}\n\nexport default PathButton","import React from 'react';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\n\n//import \"./SettingsDropdown.scss\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: '6px',\n        marginBottom: '6px'\n    },\n}));\n\n\nconst PathDropdown = ({children, expanded, onCollapse, anchorEl, placement = \"bottom-start\"}) => {\n    const classes = useStyles()\n\n    return (\n        <Popper open={expanded} style={{zIndex: 2000}} role={undefined} transition anchorEl={anchorEl} placement={placement}>\n            <ClickAwayListener onClickAway={onCollapse}>\n                <Paper elevation={16} square={true} className={classes.root} aria-expanded={expanded}>\n                    {children}\n                </Paper>\n            </ClickAwayListener>\n        </Popper>\n    )\n}\n\nexport default PathDropdown","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport IconSelected from '@material-ui/icons/Check';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        position: \"relative\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n    },\n    item: {\n        display: \"block\",\n        padding: theme.spacing(0.25),\n        minWidth: theme.spacing(20),\n    },\n    button: {\n        width: \"100%\",\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        padding: theme.spacing(0.5),\n        \"&:hover\": {\n            backgroundColor: \"rgba(0,0,0,.15)\",\n        },\n        \"&[aria-selected=true]\": {\n            color: \"blue\"\n        }\n    },\n    icon: {\n        color: \"inherit\",\n        minWidth: theme.spacing(2),\n        marginLeft: theme.spacing(0.5),\n        marginRight: theme.spacing(0.5),\n        opacity: 0,\n        \"&[aria-selected=true]\": {\n            opacity: 1            \n        }\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: '14px',\n        lineHeight: '24px',\n        margin: theme.spacing(1)\n    }\n}));\n\nconst ListItem = ({style, value, icon, label, title, selected, onClick, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <li className={classes.item}>\n            <ButtonBase className={classes.button} aria-selected={selected} onClick={onClick}>\n                { selected && <IconSelected className={classes.icon} aria-selected={selected} /> }\n                { !selected && <IconSelected className={classes.icon} aria-selected={selected} /> }\n                <b className={classes.label}>{label || title}</b>\n            </ButtonBase>\n        </li>\n    )\n}\n\nconst List = ({children, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <ul className={classes.list}>\n            {children}\n        </ul>\n    )\n}\n\nconst PathFilters = ({cols, rows, value, options = [], onSelect, ...props}) => {\n\n    return (\n        <List>\n            {options.map((item, index) => (\n                <ListItem {...item} selected={item.value === value} key={index} onClick={() => onSelect(item)}>{item.value}</ListItem>\n            ))}\n        </List>\n    )\n\n}\n\nexport default PathFilters;","import React from 'react';\nimport _ from \"lodash\"\n\nimport SettingsButton from \"./PathButton\"\nimport SettingsDropdown from \"./PathDropdown\"\nimport SettingsList from \"./PathFiltersList\"\n\nconst getOptions = ({filters = []}) => {\n\n    let _options = [], _byValue = {};\n\n    filters.map((item, index) => {\n\n        if (typeof item === \"string\") {\n            item = { label: item, value: item }\n        }\n\n        _options.push(item)\n        _byValue[item.value] = item\n\n    })\n\n    return {\n        options: _options,\n        byValue: _byValue\n    }\n\n}\n\nconst SettingsButtonRef = React.forwardRef((props, ref) => {\n    return <SettingsButton {...props} forwardedRef={ref} />;\n});\n\nconst SettingsOptions = ({name, label, type = \"options\", onSelect, children, ...props}) => {\n    const [value, setValue] = React.useState(props.value);\n    const [expanded, setExpanded] = React.useState(false);\n    const anchorRef = React.useRef(null);\n    const { options, byValue } = getOptions(props)\n    const current = byValue[value] || options[0]\n\n    const handleToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const handleSelect = (item) => {\n        onSelect && onSelect(item)\n        setValue(item.value);\n        setExpanded(false);\n    }\n\n    const handleCollapse = () => {\n        setExpanded(false);\n    };\n\n    return (\n        <React.Fragment>\n            <SettingsButtonRef {...current} value={value} type={type} onToggle={handleToggle} expanded={expanded} ref={anchorRef} />\n            <SettingsDropdown expanded={expanded} anchorEl={anchorRef.current} onCollapse={handleCollapse}>\n                <SettingsList value={current && current.value} options={options} onSelect={handleSelect} />\n            </SettingsDropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default SettingsOptions","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Path from \"./Path\"\nimport PathFilters from \"./PathFilters\"\n\nimport PathItem from \"./PathItem\"\n\nconst NavPath = ({className, parents, filters, title, onSelect, children }) => {\n\n    const handleSelect = (item) => {\n        item.onClick && item.onClick()\n        onSelect && onSelect(item)\n    }\n\n    return (\n        <Path className={className}>\n            {parents && parents.map((parent, index) => (\n                <PathItem {...parent} onClick={() => handleSelect(parent)} key={index}>{parent.label || parent.title}</PathItem>\n            ))}\n            {filters && <PathFilters filters={filters} onSelect={handleSelect} />}\n            {title && <PathItem>{title}</PathItem>}\n            {children}\n        </Path>\n    )\n\n}\n\nexport default NavPath;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport BackIcon from '@material-ui/icons/ArrowBack';\n\nimport { NavPath } from \"../NavPath\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    subview: {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.secondary,\n    },\n    section: {\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        color: \"inherit\"\n    },\n    back: {\n        width: theme.spacing(6),\n        height: theme.spacing(6),\n    },\n}));\n\nconst AppSubview = ({className, expanded, parents, title, description, onBack, onSelect}) => {\n    const classes = useStyles()\n\n    const _onSelect = (item, event) => {\n        onSelect && onSelect(item, event)\n    }\n   \n    const _onBack = (event) => {\n        if (onBack) {\n            onBack(event)\n        } else if (onSelect && parents.length) {\n            onSelect(parents[parents.length-1], event)\n        }\n    }\n\n    return (\n        <div className={className || classes.subview} aria-expanded={expanded}>\n            <div className={classes.section}>\n                <IconButton className={classes.back} onClick={_onBack}>\n                    <BackIcon />\n                </IconButton>\n                <NavPath parents={parents} title={title} description={description} onSelect={_onSelect} />\n            </div>\n        </div>\n    )\n\n\n}\n\nAppSubview.propTypes = {\n    className: PropTypes.string,\n    expanded: PropTypes.bool,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    onBack: PropTypes.func\n}\n\nexport default AppSubview;","import React, { useState } from 'react';\nimport PropTypes from \"prop-types\"\nimport AppBar from '@material-ui/core/AppBar';\nimport AppSearch from \"./AppSearch\"\nimport AppIdentifier from \"./AppIdentifier\"\nimport AppSubview from \"./AppSubview\"\n\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"relative\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n\n        marginTop: theme.spacing(-8),\n\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0,\n            \n            \"& + *\": {\n//                marginTop: theme.spacing(8),\n            }\n        },\n\n    },\n    section: {\n        position: \"relative\",\n        width: \"100%\",\n\n        height: theme.spacing(8),\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\": {\n            marginTop: 0\n        },\n\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n\n    },\n    button: {\n        margin: theme.spacing(1),\n        color: \"inherit\"\n    },\n    identifier: {\n        position: \"absolute\",\n        top: 0,\n        rigth: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        pointerEvents: \"none\"\n    },\n    subview: {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary,\n        position: \"relative\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n        \"&[aria-expanded=true]\": {\n            marginTop: 0\n        }\n    },\n    growingSearch: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"auto\",\n        height: theme.spacing(8),\n        display: \"flex\",\n\n        width: \"auto\",\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\": {\n            width: \"100%\",\n        }\n\n    },\n    search: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        transition: \".125s ease-out\",\n\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        fontFamily: \"Akkurat, sans-serif\",\n\n        \"&[aria-expanded=true]\": {\n            marginTop: theme.spacing(-8),\n        }\n    }\n}));\n\n\nconst AppHeader = ({className, position = \"relative\", icons, expanded = true, elevation = 2, color = \"primary\", title, subtitle, sidebar, search, subview, children }) => {\n\n    const classes = useStyles({color, search})\n\n    const ButtonSidebar = ({onClick}) => {\n        return (\n            <IconButton className={classes.button} onClick={onClick}>\n                <MenuIcon />\n            </IconButton>\n        )\n\n    }\n\n    const ButtonSearch = ({onClick}) => {\n        return (\n            <IconButton className={classes.button} onClick={onClick}>\n                <SearchIcon />\n            </IconButton>\n        )\n    }\n\n    const collapsibleSidebar = sidebar && sidebar.collapsible\n    const growingSearch = search && search.variant === \"growing\"\n\n    return (\n        <AppBar position={position} className={className || classes.header} component=\"header\" aria-expanded={expanded} elevation={expanded && elevation}>\n            { subview && <AppSubview {...subview} className={classes.subview} expanded={subview && subview.expanded} /> }\n            <section className={classes.section} aria-expanded={search && search.expanded && false || true}>\n                { collapsibleSidebar && <ButtonSidebar onClick={sidebar && sidebar.onToggle} /> }\n                <AppIdentifier className={classes.identifier} title={title} subtitle={subtitle} />\n                { search && !growingSearch && <ButtonSearch onClick={search && search.onToggle} /> }\n            </section>\n            { search && <AppSearch {...search} icons={icons} className={growingSearch && classes.growingSearch || classes.search} /> }\n            { children }\n        </AppBar>\n    )\n}\n\nAppHeader.defaultProps = {\n    expanded: true,\n    search: undefined,\n    subview: undefined\n}\n\nAppHeader.propTypes = {\n    expanded: PropTypes.bool,\n    elevation: PropTypes.number,\n    color: PropTypes.string,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    sidebar: PropTypes.shape({\n        expanded: PropTypes.bool,\n        onToggle: PropTypes.func\n    }),\n    search: PropTypes.shape({\n        expanded: PropTypes.bool,\n        placeholder: PropTypes.string,\n        onToggle: PropTypes.func\n    }),\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool,\n        title: PropTypes.string,\n        subtitle: PropTypes.string,\n        onToggle: PropTypes.func\n    })\n}\n\nexport default AppHeader;","import React, { useEffect, useState } from 'react';\nimport Typography from \"@material-ui/core/Typography\"\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        position: \"absolute\",\n        bottom: 0,\n        left: 0,\n        margin: 14,\n    },\n    info: {\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    icon: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontSize: 64,\n        color: theme.palette.text.primary,\n        \"& > *\": {\n            fontSize: \"inherit\",\n            color: \"inherit\"\n        }\n    },\n    content: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        marginLeft: 8\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        color: theme.palette.text.primary\n    },\n    version: {\n        fontFamily: \"Akkurat mono, monospace\",\n        fontSize: 12,\n        color: theme.palette.text.secondary\n    }\n\n}));\n\n\nconst AppInfo = ({className, icons, icon, title, version, onClick}) => {\n    const classes = useStyles()\n    const appIcon = icons && icons[icon]\n\n    return (\n        <div className={className || classes.wrapper}>\n            <div className={classes.info}>\n                <Icon className={classes.icon} onClick={onClick}>\n                    {appIcon}\n                </Icon>\n                <div className={classes.content}>\n                    <Typography className={classes.title}>{title}</Typography>\n                    <Typography className={classes.version}>{version}</Typography>\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\nAppInfo.defaultProps = {\n}\n\nexport default AppInfo","\nimport React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport { AppBase, AppHeader, AppSidebar, AppContent, AppBody } from \"./\"\n\nimport NavAction from \"../NavAction/NavAction\"\nimport NavMenu from \"../NavMenu/NavMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    app: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n\n        display: \"flex\",\n        flexDirection: \"column\"\n\n    },\n    header: {\n        position: \"absolute\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0,\n            \n            \"& + *\": {\n                marginTop: theme.spacing(8),\n            }\n        },\n    },\n    body: {\n        position: \"relative\",\n        transition: \".125s ease-out\",\n        display: \"flex\",\n\n        flexBasis: 0,\n        flexGrow: 1\n\n    },\n    sidebar: {\n        width: props => { return props.sidebar.width },\n        marginLeft: props => { return props.sidebar.width * -1 },\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            [theme.breakpoints.up('sm')]: {\n                marginLeft: 0,\n            }\n        },\n        \"&[aria-expanded=true] + *\":  {\n            [theme.breakpoints.up('sm')]: {\n //               marginLeft: props => { return props.sidebar.width },\n            }\n        },\n    },\n    content: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\",\n        height: \"100%\"\n    },\n    navAction: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    },\n\n    navCalendar: {\n        margin: theme.spacing(2,.5)\n    },\n\n    navMenu: {\n//        margin: theme.spacing(2)\n    },\n\n}));\n\n/** AppLayout is a wrapper for all apps using AppHeader */\n\nconst AppLayout = ({\n    theme = undefined, \n    header = {}, \n    sidebar = {\n        width: 224\n    }, \n    search = undefined, \n    subview = undefined,\n    primaryAction = undefined,\n    icons = {},\n    menu, \n    menuByUrl = {},\n    currentUrl = undefined,\n    onSelect,\n    onToggle,\n    children\n}) => {\n\n    sidebar = {\n        ...sidebar,\n        width: 256\n    }\n\n    header = {\n        subview: subview,\n        search: search,\n        sidebar: sidebar,\n        ...header\n    }\n\n\n    const classes = useStyles({header, sidebar})\n\n    return (\n        <AppBase theme={theme} className={classes.app}>\n            <AppHeader {...header} icons={icons} className={classes.header} />\n            <AppBody className={classes.body}>\n                {children}\n            </AppBody>\n        </AppBase>\n    )    \n    return (\n        <AppBase theme={theme} className={classes.app}>\n            <AppHeader {...header} icons={icons} className={classes.header} />\n            <AppBody className={classes.body}>\n                <AppSidebar {...sidebar} className={classes.sidebar}>\n                    { primaryAction && <NavAction className={classes.navAction} icons={icons} menu={[primaryAction]} menuByUrl={menuByUrl} onSelect={onSelect} />}\n                    { menu && <NavMenu className={classes.navMenu} icons={icons} menu={menu} menuByUrl={menuByUrl} currentUrl={currentUrl} onSelect={onSelect} onToggle={onToggle} />}\n                </AppSidebar>\n                <AppContent className={classes.content}>\n                    { children }\n                </AppContent>\n            </AppBody>\n        </AppBase>\n    )\n\n}\n\nAppLayout.defaultProps = {\n    app: {\n\n    },\n    header: {\n        expanded: true\n    },\n}\n\nAppLayout.propTypes = {\n    /** App properties */\n    app: PropTypes.shape({\n        uniqueId: PropTypes.string,\n        title: PropTypes.string\n    }),\n    /** Header properties */\n    header: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Search properties */\n    search: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Subview properties */\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n}\n\nexport default AppLayout;","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst siteSlice = createSlice({\n    name: 'site',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestSite(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveSite(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        requestSiteCollections(state, action) {\n            return {\n                ...state,\n                collections: undefined\n            }\n        },\n        receiveSiteCollections(state, action) {\n            const { models } = action.payload\n            return {\n                ...state,\n                collections: models\n            }\n        }\n    }\n})\n\nexport const getSite = ({id, uniqueId, name}) => dispatch => {\n\n    if (id) {\n        dispatch(getSiteById({id}))\n    } else if (uniqueId) {\n        dispatch(getSiteById({id: uniqueId}))\n    } else if (name) {\n        dispatch(getSiteByName({name}))\n    }\n\n}    \n\nexport const getSiteById = ({id}) => dispatch => {\n    const apiUrl = API + '/admin/api/sites/' + id;\n\n    dispatch(requestSite({id}))\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(site => {\n            dispatch(receiveSite(site))\n        })\n    \n}\n\nexport const getSiteByName = ({name}) => dispatch => {\n    const apiUrl = API + '/admin/api/sites/search?name=' + name + \"&fl=id\";\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        results.models && results.models[0] && dispatch(getSiteById(results.models[0]))\n    })\n\n}\n\nexport const { \n    requestSite, receiveSite,\n    requestSiteCollections, receiveSiteCollections\n} = siteSlice.actions\n\nexport default siteSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getSite } from \"../site\"\n\nconst collectionSlice = createSlice({\n    name: 'collection',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestCollection(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveCollection(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getCollection = ({id, uniqueId, siteName, collectionType}) => dispatch => {\n\n    if (id) {\n        dispatch(getCollectionById({id}))\n    } else if (uniqueId) {\n        dispatch(getCollectionById({id: uniqueId}))\n    } else if (siteName && collectionType) {\n        dispatch(getCollectionByType({siteName, collectionType}))\n    }\n\n}\n\nexport const getCollectionById = ({id}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/collections/' + id;\n\n    dispatch(requestCollection({id}))\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(collection => {\n            dispatch(receiveCollection(collection))\n        })\n    \n}\n\nexport const getCollectionByType = ({siteName, collectionType}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/collections/search?siteName=' + siteName + \"&collectionType=\"+ collectionType +\"&fl=id\";\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        results.models && results.models[0] && dispatch(getCollectionById(results.models[0]))\n    })\n\n\n}\n\n\nexport const { requestCollection, receiveCollection } = collectionSlice.actions\nexport default collectionSlice.reducer","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        position: \"fixed\",\n        zIndex: 2000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: \"white\",\n        color: \"black\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        opacity: 0,\n        transition: \".5s ease-out\",\n        pointerEvents: \"none\",\n        \"[data-is-loading=true] &\": {\n            opacity: 1\n        }\n    },\n    icon: {\n        width: 64,\n        height: 64,\n\n        \"& > svg\": {\n            fontSize: 64,\n        },\n\n        \"& > img\": {\n            width: theme.spacing(8),\n            height: theme.spacing(8)\n        },\n\n        transition: \".5s ease-out\",\n        transform: \"scale(3)\",\n        opacity: 0,\n\n        \"[data-is-loading=true] &\": {\n            opacity: 1,\n            transform: \"scale(1)\"\n        }\n\n    },\n    content: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        \"& * + *\": {\n            margin: theme.spacing(.5)\n        },\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"16px\",\n        color: theme.palette.text.primary\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst Loader = ({className, isLoading = true, icon, imageUrl, title, description, children}) => {\n    const classes = useStyles()\n\n\n    return (\n        <div data-is-loading={isLoading}>\n            <div className={classes.loader}>\n                <Icon className={classes.icon}>\n                    { icon }\n                </Icon>\n                <div className={classes.content}>\n                    <h2 className={classes.title}>{title}</h2>\n                    <p className={classes.description}>{description}</p>\n                </div>\n            </div>\n            {!isLoading && children}\n        </div>\n    )\n\n}\n\nLoader.defaultProps = {\n    title: \"App\",\n    description: \"Loading app\"\n}\n\nLoader.propTypes = {\n    /** Wheter app is loading or not, if not */\n    isLoading: PropTypes.bool,\n    /** SVG icon */\n    icon: PropTypes.node,\n    /** ImageUrl, displayed if no icon is present */\n    imageUrl: PropTypes.string,\n    /** Loading title, normally the title of the app that is loading */\n    title: PropTypes.string,\n    /** Description. Consider changing this on load progress */\n    description: PropTypes.string,\n}\n\n\nexport default Loader\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nimport PropTypes from \"prop-types\"\n\nconst colors = {\n    \"blue\": \"#0067b6\",\n    \"red\": \"#eb314e\"\n}\n\nconst AppIcon = ({color, text, variant = \"outlined\", ...props}) => {\n\n    color = colors[color] || color\n\n    if (variant === \"filled\") {\n\n        return (\n            <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n                <rect x=\"10\" y=\"10\" width=\"44\" height=\"44\" fill={color}></rect>\n                <text x=\"32\" y=\"34\" fill=\"white\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"18\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n            </SvgIcon>\n        )\n            \n    }\n\n    return (\n        <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M54 10H10V54H54V10ZM51 13H13V51H51V13Z\" fill={color}/>\n            <text x=\"32\" y=\"34\" fill=\"currentColor\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"18\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n    \n}\n\nAppIcon.propTypes = {\n    fontSize: PropTypes.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string,PropTypes.number]),\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default AppIcon","import React from \"react\";\nimport PropTypes from \"prop-types\"\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst MenuIconFilled = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"currentColor\"\n    const color = \"white\"\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill=\"white\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst MenuIconOutlined = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"white\"\n    const color = \"currentColor\"\n    const borderColor = color\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={borderColor}></rect>\n            <rect x=\"3.5\" y=\"3.5\" width=\"17\" height=\"17\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill={color} fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst variants = {\n    \"outlined\": MenuIconOutlined,\n    \"filled\": MenuIconFilled,\n}\n\nconst MenuIcon = ({color, text, variant = \"outlined\", ...props}) => {\n    const IconTemplate = variants && variants[variant]\n\n    if (!IconTemplate) {\n        return \"<p>Failed</p>\"\n    }\n\n    return (\n        <IconTemplate color={color} text={text} {...props} />\n    )\n    \n}\n\nMenuIcon.propTypes = {\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default MenuIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst colors = {\n    \"blue\": \"#0067b6\",\n    \"red\": \"#eb314e\"\n}\n\nexport const EditorIcon = ({color = \"grey\", ...props}) => {\n    color = colors[color] || color\n\n    return (\n        <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M54 10H10V54H54V10ZM51 13H13V51H51V13Z\" fill={color}/>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M40.71 25.63C41.1 26.02 41.1 26.65 40.71 27.04L38.88 28.87L35.13 25.12L36.96 23.29C37.35 22.9 37.98 22.9 38.37 23.29L40.71 25.63ZM23 41V37.25L34.06 26.19L37.81 29.94L26.75 41H23Z\" fill=\"currentColor\" fillOpacity=\"0.54\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default EditorIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst ArticleIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M18.5 20.5L18.5 3.5L5.5 3.5L5.5 20.5H18.5ZM20 2L4 2L4 22H20V2Z\"/>\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"5\" height=\"1\" />\n        </SvgIcon>\n    )\n}\n\nexport default ArticleIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M13.3333 10.6667H10.6667V13.3333H13.3333V10.6667ZM12.4444 12.4444H11.5556V11.5556H12.4444V12.4444ZM16 11.5556V10.6667H15.1111V9.77778C15.1111 9.28889 14.7111 8.88889 14.2222 8.88889H13.3333V8H12.4444V8.88889H11.5556V8H10.6667V8.88889H9.77778C9.28889 8.88889 8.88889 9.28889 8.88889 9.77778V10.6667H8V11.5556H8.88889V12.4444H8V13.3333H8.88889V14.2222C8.88889 14.7111 9.28889 15.1111 9.77778 15.1111H10.6667V16H11.5556V15.1111H12.4444V16H13.3333V15.1111H14.2222C14.7111 15.1111 15.1111 14.7111 15.1111 14.2222V13.3333H16V12.4444H15.1111V11.5556H16ZM14.2222 14.2222H9.77778V9.77778H14.2222V14.2222Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceMacIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M14.3442 11.5628C14.3325 10.475 15.2302 9.95122 15.2706 9.92587C14.7644 9.18771 13.978 9.08756 13.6979 9.07571C13.0284 9.00882 12.3924 9.47162 12.053 9.47206C11.7139 9.47256 11.1891 9.08932 10.6343 9.10057C9.90452 9.11204 9.23287 9.52639 8.85753 10.1798C8.10181 11.4962 8.66833 13.4436 9.40813 14.5094C9.76981 15.0304 10.2008 15.617 10.7662 15.595C11.3106 15.573 11.5159 15.2422 12.1736 15.2414C12.8314 15.2405 13.0171 15.592 13.5926 15.5803C14.1784 15.5692 14.5488 15.0472 14.9064 14.5233C15.3202 13.917 15.4898 13.3303 15.5 13.3001C15.4873 13.2943 14.3575 12.863 14.3442 11.5628Z\"/>\n            <path d=\"M13.2636 8.37228C13.564 8.00874 13.7658 7.50352 13.7106 7C13.2784 7.01756 12.755 7.28809 12.4446 7.65119C12.1666 7.97291 11.9231 8.48713 11.9889 8.98061C12.4707 9.01793 12.9633 8.73544 13.2636 8.37228Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceMacIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceWinIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M8 9.13617L11.2693 8.69092L11.2708 11.8445L8.00299 11.8631L8 9.13617ZM11.2678 12.2078L11.2703 15.3641L8.00254 14.9148L8.00235 12.1866L11.2678 12.2078ZM11.6641 8.63267L15.999 8V11.8044L11.6641 11.8388V8.63267ZM16 12.2375L15.999 16.0247L11.6641 15.4129L11.658 12.2304L16 12.2375Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceWinIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageHomeIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M11 16V13H13V16H15.5V12H17L12 7.5L7 12H8.5V16H11Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageHomeIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"4\" y=\"12\" width=\"16\" height=\"1\"/>\n            <rect x=\"15\" y=\"13\" width=\"1\" height=\"5\"/>\n            <rect x=\"10\" y=\"6\" width=\"1\" height=\"6\"/>\n        </SvgIcon>\n    )\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMediaIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M18 16.1382H6L9 12.2873L11.1382 14.8618L14.1382 11L18 16.1382Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageMediaIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"17\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1.5\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageListIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"8\" height=\"1\" />\n\n\n        </SvgIcon>\n    )\n\n}\n\nexport default PageListIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageAnnotateIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <circle cx=\"7\" cy=\"12\" r=\"1\"/>\n            <circle cx=\"12\" cy=\"8\" r=\"1\"/>\n            <rect x=\"15\" y=\"11\" width=\"1\" height=\"5\"/>\n            <rect x=\"13\" y=\"13\" width=\"5\" height=\"1\"/>\n\n\n\n\n        </SvgIcon>\n    )\n}\n\nexport default PageAnnotateIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMapIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <rect x=\"17.5355\" y=\"10\" width=\"1\" height=\"5\" transform=\"rotate(45 17.5355 10)\" />\n            <rect x=\"18.2426\" y=\"13.5355\" width=\"1\" height=\"5\" transform=\"rotate(135 18.2426 13.5355)\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1\" />\n            <circle cx=\"11\" cy=\"12\" r=\"1\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageMapIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageParentIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"9\" y=\"8\" width=\"6\" height=\"4\"/>\n            <rect x=\"5\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"10\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"15\" y=\"14\" width=\"4\" height=\"2\"/>\n        </SvgIcon>\n    )\n\n}\n\nexport default PageParentIcon","import React from \"react\"\n\nimport Article from \"./Article\"\n\nimport Device from \"./Device\"\nimport DeviceMac from \"./DeviceMac\"\nimport DeviceWin from \"./DeviceWin\"\n\nimport PageHome from \"./PageHome\"\nimport PageGrid from \"./PageGrid\"\nimport PageMedia from \"./PageMedia\"\nimport PageTimeline from \"./PageTimeline\"\nimport PageList from \"./PageList\"\nimport PageAnnotate from \"./PageAnnotate\"\nimport PageMap from \"./PageMap\"\nimport PageParent from \"./PageParent\"\n\n\nexport {\n    Article,\n    Device,\n    DeviceMac,\n    DeviceWin,\n\n    PageHome,\n    PageGrid,\n    PageMedia,\n    PageTimeline,\n    PageList,\n    PageAnnotate,\n    PageMap,\n    PageParent\n}\n\nexport default {\n    \"article\": <Article />,\n\n    \"pageHome\": <PageHome />,\n    \"pageGrid\": <PageGrid />,\n    \"pageMap\": <PageMap />,\n\n    \"pageMedia\": <PageMedia />,\n    \"pageAnnotate\": <PageAnnotate />,\n    \"pageTimeline\": <PageTimeline />,\n    \"pageList\": <PageList />,\n    \"pageParent\": <PageParent />,\n    \"pageTopic\": <PageParent />,\n\n    \"device\": <Device />,\n    \"deviceMac\": <DeviceMac />,\n    \"deviceWin\": <DeviceWin />\n\n}","export default {\n    \"palette\": {\n        \"media\": \"#303030\",\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        },\n        \"primary\": {\n            \"main\": \"#49777F\"\n        }\n    }\n}","import React from \"react\"\nimport AppIcon from \"./AppIcon\"\nimport MenuIcon from \"./MenuIcon\"\nimport EditorIcon from \"./EditorIcon\"\n\nimport kpIcons from \"../components/KpIcons\"\nimport kpTheme from \"../app/settings/kp/theme\"\nimport kioskTheme from \"../app/settings/kiosk/theme\"\n\nconst kpColor = kpTheme.palette.primary.main\nconst kioskColor = kioskTheme.palette.primary.main\n\nexport default {\n    ...kpIcons,\n    \"app\": <AppIcon />,\n    \"editor\": <EditorIcon />,\n    \"primusApp\": <AppIcon variant=\"outlined\" color=\"red\" text=\"Pr\" />,\n    \"primusMenu\": <MenuIcon variant=\"filled\" text=\"Pr\" />,\n    \"kpApp\": <AppIcon variant=\"outlined\" color={kpColor} text=\"Kp\" />,\n    \"kpMenu\": <MenuIcon variant=\"outlined\" text=\"Kp\" />,\n    \"kioskApp\": <AppIcon variant=\"filled\" color={kioskColor} text=\"Ki\" />,\n    \"kioskMenu\": <MenuIcon variant=\"filled\" text=\"Ki\" />\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getCollection } from '../redux/collection';\nimport { Loader } from \"../components/Loader\"\nimport icons from \"../icons/\"\n\nconst AppLoader = ({icon, siteName, collectionId, children, ...props}) => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        collectionId && dispatch(getCollection({id: collectionId}))\n    }, [siteName, collectionId])\n\n    const collection = useSelector(state => state.collection)\n\n    const isLoading = collection.isLoading\n    const title = collectionId && \"Loading collection \" + collectionId || \"Loading\"\n\n    return (\n        <Loader\n            icon={icons[icon]}\n            isLoading={isLoading}\n            title={title}>\n                {collection.id && children}\n        </Loader>\n    )\n\n}\n\nAppLoader.defaultProps = {\n}\n\nexport default AppLoader","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getModels } from \"../modelsById\"\n\nconst searchByUrlSlice = createSlice({\n    name: 'search',\n    initialState: {\n    }, \n    reducers: {\n        requestSearch(state, action) {\n            const { models, url, page, apiUrl, query } = action.payload\n\n            if (state[url] && state[url].page) {\n                return {\n                    ...state,\n                    [url]: {\n                        ...state[url],\n                        isLoading: true,\n                        apiUrl: apiUrl,\n                        query: {\n                            ...query,\n                            models: models,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: true,\n                    url: url,\n                    apiUrl: apiUrl,\n                    query: {\n                        ...query,\n                        models: models,\n                    }\n                }\n            }\n        },\n        receiveError(state, action) {\n            const { url, error } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: false,\n                    error: error.toString()\n                }\n            }\n\n        },\n        receiveSearch(state, action) {\n            const { url, results } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    isLoading: false,\n                    results: results\n                }\n            }\n        },\n        requestPage(state, action) {\n            const { url, page } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    isLoading: true\n                }\n            }            \n        },\n        receivePage(state, action) {\n            const { url, page, results } = action.payload\n\n            const { start, rows, count } = results\n\n            const pages = Math.ceil(count/rows)\n            const currentPage = Math.ceil((start+rows)/rows)\n\n            const resultsByPage = {\n                ...state[url].resultsByPage,\n                [page]: results.models\n            }\n\n            let resultsLoaded = []\n\n            Object.values(resultsByPage).map(page => {\n                resultsLoaded = resultsLoaded.concat(page)\n            })\n\n            let nextPage, prevPage\n\n            for (let p = page; p <= pages; p++) {\n                if (!resultsByPage[p]) {\n                    nextPage = p\n                    break\n                }\n            }    \n\n            for (let p = page; p >= 1; p--) {\n                if (!resultsByPage[p]) {\n                    prevPage = p\n                    break\n                }\n            }    \n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    count: count,\n                    start: start,\n                    rows: rows,\n                    page: currentPage,\n                    pages: pages,\n                    nextPage: nextPage,\n                    prevPage: prevPage,\n                    resultsByPage: resultsByPage,\n                    resultsLoaded: resultsLoaded\n                }\n            }\n\n        }\n    }\n})\n\nexport const getQuery = ({models, url, page = 1, ...query}) => dispatch => {\n\n    if (page > 1 && query.rows) {\n        query.start = query.rows * (page-1)\n    }\n\n    if (query.collectionId && query.collectionId === \"*\") {\n        delete query.collectionId\n    }\n\n    if (query.siteId && query.siteId === \"*\") {\n        delete query.siteId\n    }\n    \n    const sq = qs.stringify(query)\n\n    let apiUrl = API + '/admin/api/' + models + '/search';\n\n    if (sq) {\n        apiUrl = apiUrl + '?' + sq;\n    }\n\n    if (page === 1) {\n        dispatch(requestSearch({models, url, page, apiUrl, query}))\n    } else {\n        dispatch(requestPage({models, url, page, apiUrl, query}))\n    }\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        dispatch(receiveSearch({url, results}))\n        dispatch(receivePage({url, page, results}))\n\n//        results.models && dispatch(getModels(results))\n\n    })\n\n}\n\n\n\n\nexport const { requestSearch, receiveSearch, requestPage, receivePage, receiveError } = searchByUrlSlice.actions\nexport default searchByUrlSlice.reducer","import React, { useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useTranslation } from 'react-i18next';\n\nimport { toggleSearch, collapseSearch } from '../redux/app';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport icons from \"../icons\"\n\nimport _ from \"lodash\"\nimport qs from 'query-string';\n\nconst PrimusSearch = ({children, ...props}) => {\n    const { t, i18n } = useTranslation(['search']);\n\n    const dispatch = useDispatch()\n    const location = useLocation()\n    const history = useHistory()\n\n    const sq = location.search && qs.parse(location.search) || {}\n\n\n    const app = useSelector(state => state.app)\n    const search = app.search\n    const expanded = search && search.expanded\n\n    const finder = useSelector(state => state.finder)\n    const parents = finder.parents\n    const parent = finder.parent\n\n    // search\n\n    const [inputValue, setInputValue] = useState(sq.q)\n    const [q, setQ] = useState(sq.q)\n\n    const _onQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    useEffect(() => {\n        if (q) {\n            sq.q = q.replace(' ', '+')\n        } else {\n            delete sq.q\n        }\n\n        let query = qs.stringify(sq)\n\n        const pathname = location.pathname + \"?\" + query;\n        const hash = location.hash;\n\n        const url = hash && pathname + hash || pathname\n        \n        history.replace(url)\n        \n    }, [q])\n\n    const _onReset = () => {\n\n        console.log('onReset')\n\n        if (inputValue) {\n            setInputValue(\"\")\n            setQ(\"\")\n            delete sq.q\n        } else {\n            dispatch(toggleSearch())\n        }\n\n    }\n\n    const _onToggle = () => {\n        setInputValue(sq.q || \"\")\n        dispatch(toggleSearch())\n    }\n\n    const _onClickOutside = () => {\n        dispatch(toggleSearch())\n    }\n\n    // suggest from current location search\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    const currentSearch = searchByUrl && searchByUrl[location.pathname] || {} \n    const currentResults = currentSearch && currentSearch.resultsLoaded\n\n    const [suggest, setSuggest] = useState([])\n\n    useEffect(() => {\n        setSuggest(currentResults)\n    }, [currentResults])\n\n\n    // scopes\n\n    const query = {}\n\n    const searchRoot = \"/\"\n\n    let scopes = [\n        {\n            icon: \"search\",\n            placeholder: t(\"Search everything\"),\n            title: t(\"Search for {{q}} in everything\", {q: \"[q]\"}),\n            url: searchRoot,\n            query: {\n                ...query,\n                url: searchRoot,\n            }\n        }\n    ]\n\n    if (parent && parent.url && parent.url !== searchRoot) {\n\n        const query = {\n            ...parent.query,\n            collectionId: app && app.collectionId,\n            siteId: app && app.siteId,\n            url: parent.url\n        }\n\n        scopes.push({\n            ...parent,\n            query: query,\n            icon: \"search\",\n            placeholder: t(\"Everything in {{scope}}\", {scope: parent.title}),\n            title: t(\"Search for {{q}} in {{scope}}\", {q: \"[q]\", scope: parent.title}),\n        })\n    }\n\n    // options\n\n    let options = scopes.map(scope => {\n\n        const count = searchByUrl && searchByUrl[scope.query.url] && searchByUrl[scope.query.url].results && searchByUrl[scope.query.url].results.count || \"-\"\n\n        return {\n            ...scope,\n            count: count\n        }\n\n    })\n\n    if (suggest) {\n        options = [\n            ...options,\n            ...suggest\n        ]\n    }\n\n\n    const _onChange = (event, option = {}, reason) => {\n        console.log(\"onChange\", option)\n        console.log(\"onChange\", reason)\n\n        const { query, uniqueId, url } = option\n\n        const searchUrl = url && query && url + \"?q=\" + inputValue.replace(' ', '+')\n\n        if (searchUrl) {\n            history.replace(searchUrl)\n        } else if (uniqueId) {\n            history.replace(app.root + \"/\" + uniqueId + \"/edit\")\n        }\n\n        dispatch(collapseSearch())\n\n    }\n\n    const _onInputChange = (event, option, reason) => {\n        const value = event && event.target.value || \"\"\n        value && setInputValue(event.target.value)\n//        value && _onQuery(value)\n    }\n\n    const autocompleteProps = {\n        open: expanded,\n        freeSolo: true,\n        disableClearable: true,\n        options: options,\n        autoHighlight: true,\n        disablePortal: true,\n        inputValue: inputValue,\n        groupBy: (options) => options.modelName,\n//        filterOptions: _filterOptions,\n        onChange: _onChange,\n        onInputChange: _onInputChange\n    }\n\n    // search\n\n    const searchProps = {\n        ...search,\n        autocompleteProps: autocompleteProps,\n        onReset: () => _onReset(),\n        onToggle: () => _onToggle()\n    }\n\n    // merge with children\n\n    const childrenWithProps = React.Children.map(children, (child, index) => {\n        // checking isValidElement is the safe way and avoids a typescript error too\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, { \n                search: searchProps,\n                ...props\n            });\n        }\n        return child;\n    });\n\n    return (\n        <>\n            {childrenWithProps}\n        </>\n    )\n\n    \n}\n\nexport default PrimusSearch","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: props => { return props.backgroundColor || theme.palette.background.default },\n\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        width: \"100%\",\n        height: \"100%\"\n\n        \n    },\n}));\n\nconst FinderBase = ({backgroundColor, expanded = true, children}) => {\n    const classes = useStyles({backgroundColor})\n\n    return (\n        <div className={classes.root} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default FinderBase;","import React, { useEffect, useState, useMemo } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    sidebar: {\n        flexBasis: 0,\n        flexGrow: 0,\n        width: 0,\n        height: \"100%\",\n        overflow: \"hidden\",\n        position: \"relative\",\n\n        \"&[aria-expanded=true]\": {\n            flexBasis: props => { return props.width },\n        }\n\n    },\n\n\n}));\n\nconst FinderSidebar = ({\n    width = 240,\n    expanded = true,\n    children\n}) => {\n\n    const classes = useStyles({width})\n\n    return (\n        <aside className={classes.sidebar} aria-expanded={expanded}>\n            {children}\n        </aside>\n    )\n\n}\n\nexport default FinderSidebar;","import React, { useEffect, useState, useMemo } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    \n    section: {\n        flexBasis: 1,\n        flexGrow: 0,\n        width: 0,\n        height: \"100%\",\n        overflowY: \"hidden\",\n        position: \"relative\",\n\n        \"&[aria-expanded=true]\": {\n            flexGrow: 1,\n            width: \"auto\"\n        },\n\n        \"& + $section\": {\n            boxShadow: theme.shadows[4]\n        }\n\n    }\n\n}));\n\nconst FinderSection = ({\n    expanded = true,\n    children\n}) => {\n\n    const classes = useStyles()\n\n\n    return (\n        <div className={classes.section} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default FinderSection;","import React, { useRef, useState, useMemo, useLayoutEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n        width: \"100%\",\n        height: \"100%\",\n\n        \"& > header\": {\n            position: \"sticky\",\n            zIndex: 2,\n            top: 0\n        }\n\n    }\n\n}));\n\nconst ViewBase = ({children}) => {\n\n    const viewRef = useRef(null)\n\n    const [scrollTop, setScrollTop] = useState(45)\n \n    const _onScroll = (event) => {\n//        setScrollTop(viewRef.current.scrollTop)\n    }\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view} ref={viewRef} onScroll={_onScroll}>\n            {children}\n        </div>\n\n    )\n\n}\n\nexport default ViewBase;","import React from 'react';\nimport Color from 'color';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst getBackgroundImage = (backgroundColor) => {\n    const color = Color(backgroundColor);\n\n    const c1 = color.alpha(0).rgb()\n    const c2 = color.alpha(.75).rgb()\n    const c3 = color.alpha(1).rgb()\n\n    return \"linear-gradient(to bottom, \"+c1+\") 0%, \"+c2+\" 75%, \"+c3+\" 100%)\"\n\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        backgroundColor: props => { return props.backgroundColor || theme.palette.background.default},\n        backgroundImage: props => { return getBackgroundImage(props.backgroundColor || theme.palette.background.default)},\n        height: theme.spacing(8),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n\n        \"& + *\": {\n            marginTop: theme.spacing(6)\n        }\n\n    },\n}));\n\nconst FinderHeader = ({backgroundColor, className, children}) => {\n    const classes = useStyles({backgroundColor})\n\n    return (\n        <header className={className || classes.root}>\n            {children }\n        </header>\n    )\n\n}\n\nexport default FinderHeader;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 1,\n        width: \"100%\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n        padding: props => { return theme.spacing(props.padding) }\n    },\n    body: {\n        display: \"block\",\n        width: \"100%\",\n        paddingTop: theme.spacing(8),\n        paddingRight: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        paddingLeft: theme.spacing(2),\n    }\n}));\n\nconst FinderBody = ({padding = 2, children}) => {\n    const classes = useStyles({padding})\n\n    return (\n        <div>\n            {children}\n        </div>\n    )\n\n}\n\nexport default FinderBody;","import React, { Component } from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"inherit\",\n        display: \"flex\",\n        margin: theme.spacing(-0.5)\n    },\n    button: {\n        padding: theme.spacing(0.5)\n    },\n    icon: {\n        fontSize: \"18px\",\n        marginRight: theme.spacing(1)\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n    }\n\n}));\n\nconst ToolbarButton = ({icon, label, title, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <ButtonBase className={classes.button} onClick={onClick}>\n            { icon && <i className={classes.icon}><Icon>{icon}</Icon></i> }\n            <b className={classes.label}>{label || title}</b>\n        </ButtonBase>\n    )\n\n}\n\nconst FinderToolbar = ({buttons = []}) => {\n    const classes = useStyles()\n\n    if (!buttons.length) {\n        return null\n    }\n\n    return (\n        <nav className={classes.root}>\n            { buttons.map((button, index) => {\n                return (\n                    <ToolbarButton {...button} key={index} />\n                )\n            })}\n        </nav>\n    )\n    \n} \n\nexport default FinderToolbar;","import React, { useRef, useState } from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport DropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nimport { NavActionDropdown, NavActionMenu} from \"../NavAction\"\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: theme.spacing(.5, 1),\n    },\n    arrow: {\n        marginLeft: theme.spacing(-1)\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            marginLeft: 0,\n//            display: \"none\"\n        }\n        \n    }\n}));\n\nconst NavViewButton = ({title, label, value, icon, selected, children, onClick, onSelect}) => {\n\n    const classes = useStyles()\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null);\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onSelect = ({onClick, ...item}) => {\n        onClick && onClick() || onSelect && onSelect(item)\n        setExpanded(false);\n    }\n\n    if (children) {\n        return (\n            <>\n            <ButtonBase className={classes.button} aria-selected={selected} onClick={_onToggle} ref={anchorRef}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon> }\n                <div className={classes.label}>{title || label}</div>\n                <DropDownIcon className={classes.arrow} />\n            </ButtonBase>\n            <NavActionDropdown placement=\"bottom-end\" open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                <NavActionMenu menu={children} onSelect={_onSelect} />\n            </NavActionDropdown>\n            </>\n        )\n\n    }\n\n    return (\n        <ButtonBase className={classes.button} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon}>{icon}</Icon> }\n            <div className={classes.label}>{title}</div>\n        </ButtonBase>\n    )\n\n        \n}\n\nexport default NavViewButton","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport NavViewButton from \"./NavViewButton\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst icons = {\n    \"list\": \"view_headline\",\n    \"icons\": \"apps\",\n    \"details\": \"view_stream\",\n    \"table\": \"view_stream\",\n    \"masonry\": \"view_quilt\",\n    \"gallery\": \"view_compact\",\n    \"grid\": \"view_module\",\n    \"column\": \"view_column\",\n}\n\n\nconst NavView = ({className, options = [], value, onChange}) => {\n\n    const classes = useStyles()\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n\n    return (\n        <nav className={className}>\n            <div className={classes.buttongroup}>\n                { options && options.map((item, index) => {\n\n                    if (typeof item === \"string\") {\n                        item = {\n                            title: item,\n                            value: item,\n                            onClick: () => _onChange(item.value)\n                        }\n                    }\n                    \n                    return (\n                        <NavViewButton {...item} selected={value === item.value} key={index}/>\n                    )\n                    \n                })}\n            </div>\n        </nav>\n    )\n\n        \n}\n\nexport default NavView","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst icons = {\n    \"list\": \"view_stream\",\n    \"table\": \"view_column\",\n    \"gallery\": \"view_compact\",\n    \"masonry\": \"view_quilt\",\n    \"icons\": \"apps\",\n    \"details\": \"view_stream\",\n    \"grid\": \"view_module\",\n    \"column\": \"view_column\",\n}\n\n\nconst ViewOptions = ({className, options = [], value, onChange}) => {\n    const { t, i18n } = useTranslation('view');\n    const classes = useStyles()\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    options = options.map(option => {\n\n        if (typeof option === \"string\") {\n            return {\n                icon: icons && icons[option],\n                title: t(option),\n                value: option,\n                onClick: () => _onChange(option)\n            }\n        }\n\n        return option\n\n    })\n\n    return (\n        <nav className={className || classes.buttongroup}>\n            { options && options.map((option, index) => {\n                const { title, icon, onClick } = option\n                \n                return (\n                    <ButtonBase title={title} key={index} aria-selected={option.value === value} className={classes.button} onClick={onClick}>\n                        <Icon className={classes.icon}>{icon}</Icon>\n                    </ButtonBase>\n                )\n                \n            })}\n        </nav>\n    )\n\n        \n}\n\nexport default ViewOptions","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport NavViewButton from \"./NavViewButton\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst RowsOptions = ({className, options = [], value, onChange}) => {\n    const { t, i18n } = useTranslation('rows');\n\n    const classes = useStyles()\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    options = options.map(option => {\n\n        if (typeof option === \"string\" || typeof option === \"number\") {\n            return {\n                title: t(\"{{rows}} rows\", {rows: option}),\n                value: option,\n                onClick: () => _onChange(option)\n            }\n        }\n\n        return option\n\n    })\n\n    const currentOption = value && options.find(option => option.value === value)\n\n    return (\n        <nav className={className}>\n            <NavViewButton {...currentOption} label={value} value={value} children={options} />\n        </nav>\n    )\n\n        \n}\n\nexport default RowsOptions","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport NavViewButton from \"./NavViewButton\"\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst SortOptions = ({className, options = [], value, onChange}) => {\n    const { t, i18n } = useTranslation('sort');\n\n    const classes = useStyles()\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    options = options.map(option => {\n\n        if (typeof option === \"string\" || typeof option === \"number\") {\n            return {\n                title: t(option),\n                value: option,\n                onClick: () => _onChange(option)\n            }\n        }\n\n        return option\n\n    })\n\n    const currentOption = value && options.find(option => option.value === value)\n\n    return (\n        <nav className={className}>\n            <NavViewButton {...currentOption} children={options} />\n        </nav>\n    )\n\n        \n}\n\nexport default SortOptions","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport NavViewButton from \"./NavViewButton\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst SizeOptions = ({className, options = [], value, onChange}) => {\n    const { t, i18n } = useTranslation('size');\n\n    const classes = useStyles()\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    options = options.map(option => {\n\n        if (typeof option === \"string\" || typeof option === \"number\") {\n            return {\n                title: t(option),\n                value: option,\n                onClick: () => _onChange(option)\n            }\n        }\n\n        return option\n\n    })\n\n    const currentOption = value && options.find(option => option.value === value)\n\n    return (\n        <nav className={className}>\n            <NavViewButton {...currentOption} label={value} value={value} children={options} />\n        </nav>\n    )\n\n        \n}\n\nexport default SizeOptions","import React, { useRef, useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { NavPath } from \"../NavPath\"\nimport { NavView, ViewOptions, RowsOptions, SortOptions, SizeOptions } from \"../NavView\"\nimport { NavAction } from \"../NavAction\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        minHeight: 96,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: theme.spacing(2),\n        boxSizing: \"border-box\"\n    },\n    title: {\n\n    },\n    nav: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n\n    }\n\n}));\n\nconst ViewHeader = ({\n    parents = [],\n    title,\n    description,\n\n    viewAction,\n\n    view,\n    viewOptions,\n    onView,\n\n    rows,\n    rowsOptions,\n    onRows,\n\n    sort,\n    sortOptions,\n    onSort,\n\n    size,\n    sizeOptions,\n    onSize,\n\n    options,\n    onSelect,\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            <NavPath parents={parents} title={title} description={description} onSelect={onSelect} />\n\n            <div className={classes.nav}>\n\n                { options && <NavView className={classes.toolbar} options={options} onChange={onSelect} /> }\n\n                { sortOptions && <SortOptions options={sortOptions} value={sort} onChange={onSort} /> }\n                { rowsOptions && <RowsOptions options={rowsOptions} value={rows} onChange={onRows} /> }\n                { sizeOptions && <SizeOptions options={sizeOptions} value={size} onChange={onSize} /> }\n                { viewOptions && <ViewOptions options={viewOptions} value={view} onChange={onView} /> }\n\n                { viewAction && <NavAction menu={[viewAction]} /> }\n\n            </div>\n\n        </header>\n    )\n\n}\n\nexport default ViewHeader;","import React from \"react\"\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    loading: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& + *\": {\n            opacity: .75\n        }\n\n    }\n}));\n\nconst ViewLoader = ({isLoading = true, children}) => {\n\n    const classes = useStyles()\n\n    if (isLoading) {\n        return (\n            <>\n                <div className={classes.loading}>\n                    <CircularProgress />\n                </div>\n                {children}\n            </>\n        )\n    }\n\n    return children\n\n}\n\nexport default ViewLoader;","import React from \"react\"\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    icon: {\n        fontSize: 48,\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n    },\n    \n}));\n\nconst LoadingView = () => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view}>\n            <Icon className={classes.icon}>\n                <SearchIcon />\n            </Icon>\n            <Typography>Sorry, we couldn't find any hits.</Typography>\n        </div>\n    )\n\n}\n\nexport default LoadingView;","import React, { useRef, useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        display: \"block\",\n        padding: props => { return theme.spacing(props.paddingY,props.paddingX) },\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n\n    },\n}));\n\nconst ListView = ({padding = 0, paddingX, paddingY, header, footer, children}) => {\n\n    if (!paddingX) {\n        paddingX = padding\n    }\n\n    if (!paddingY) {\n        paddingY = padding\n    }\n\n    const classes = useStyles({padding, paddingX, paddingY})\n\n    return (\n        <div className={classes.list}>\n            {header}\n            {children}\n            {footer}\n        </div>\n    )\n\n}\n\nexport default ListView;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Paper from '@material-ui/core/Paper'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        \"&[data-status=trash]\": {\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n        },\n        \"&.sortable-helper\": {\n            boxShadow: theme.shadows[12],\n            zIndex: 2000\n        }\n    }\n}));\n\n/** ModuleBase is used as a wrapper for all modules, setting common variables that other modules need.  */\n\nconst ModuleBase = ({\n        id, \n        className,\n        component,\n        status, \n        selected,\n        deleted,\n        erased,\n        expanded, \n        elevation, \n        onClick, \n        children\n    }) => {\n\n    const classes = useStyles();\n\n    if (component === \"tr\") {\n        return (\n            <tr id={id}\n                className={className || classes.root}\n                data-status={status}\n                data-deleted={deleted}\n                data-erased={erased}\n                aria-expanded={expanded}\n                aria-selected={selected}>\n                    {children}\n            </tr>\n        )\n    }\n\n    if (!elevation) {\n        return (\n            <article id={id}\n                className={className || classes.root}\n                data-status={status}\n                data-deleted={deleted}\n                data-erased={erased}\n                aria-expanded={expanded}\n                aria-selected={selected}\n                role={onClick && \"button\"}\n                onClick={onClick}>\n                    {children}\n            </article>\n        )\n    }\n\n\n    return (\n        <Paper id={id} \n            component={component}\n            className={className || classes.root}\n            data-status={status}\n            data-deleted={deleted}\n            data-erased={erased}\n            data-elevated={true}\n            aria-expanded={expanded}\n            aria-selected={selected}\n            elevation={elevation}\n            square={true}\n            role={onClick && \"button\"}\n            onClick={onClick}>\n                { children }\n        </Paper>\n    )\n\n}\n\nModuleBase.defaultProps = {\n    component: \"article\",\n    elevation: 0,\n\n\n}\n\nModuleBase.propTypes = {\n    /** Id */\n    id: PropTypes.string,\n    /** className */\n    className: PropTypes.string,\n    /** Which component to use */\n    component: PropTypes.string,\n    /** Elevation */\n    elevation: PropTypes.number,\n    /** Status */\n    status: PropTypes.string,\n    /** Expanded or not */\n    expanded: PropTypes.bool,\n    /** Selected or not */\n    selected: PropTypes.bool,\n    /** Deleted or not */\n    deleted: PropTypes.bool,\n    /** Erased or not */\n    erased: PropTypes.bool,\n    /** onClick */\n    onClick: PropTypes.func\n}\n\nexport default ModuleBase;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport SelectIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    icon: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        borderRadius: \"100%\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n\n        border: \"1px solid\",\n        margin: -1,\n        borderColor: \"transparent\",\n\n        \"&[aria-selected=true]\": {\n            opacity: 1,\n            margin: -2,\n            border: \"2px solid\",\n            borderColor: theme.palette.primary.main,\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText,\n            boxShadow: theme.shadows[2],\n\n            \"& > $check\": {\n                fontSize: 20\n            }\n\n        }\n        \n    },\n    check: {\n        color: \"currentColor\"\n    },\n    selectButton: {\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        },\n        \n        \"&[aria-selected=true]\" : {\n            opacity: 1\n        }\n        \n    },\n    borderButton: {\n\n        \"& $icon\": {\n            border: \"1px dotted\",\n            borderColor: \"currentColor\",\n            opacity: .5,\n        },\n\n        \"& $check\": {\n            fontSize: 20\n        },\n\n        \"&[aria-selected=true] $icon\" : {\n            opacity: 1,\n            margin: -2,\n            border: \"2px solid\",\n            borderColor: theme.palette.primary.main,\n        }\n\n\n    },\n}));\n\nconst ModuleSelect = ({className, border = false, selected = false, onClick}) => {\n    const classes = useStyles();\n\n    if (border) {\n\n        return (\n            <IconButton className={className || classes.borderButton} aria-selected={selected} color=\"inherit\" name=\"select\" aria-label=\"select\" onClick={onClick}>\n                <Icon className={classes.icon} aria-selected={selected}>\n                    <SelectIcon className={classes.check} />\n                </Icon>\n            </IconButton>\n        )\n        \n    }\n\n    return (\n        <IconButton className={className || classes.selectButton} aria-selected={selected} color=\"inherit\" name=\"select\" aria-label=\"select\" onClick={onClick}>\n            <Icon className={classes.icon} aria-selected={selected}>\n                <SelectIcon className={classes.check}  />\n            </Icon>\n        </IconButton>\n    )\n\n}\n\nexport default ModuleSelect;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\n//import ButtonDraggable from \"../NavToolbar/ButtonDraggable\"\n//import ButtonCollapsible from \"../NavToolbar/ButtonCollapsible\"\nimport ModuleSelect from \"./ModuleSelect\"\n\nconst ButtonDraggable = () => (<p>drag</p>)\nconst ButtonCollapsible = () => (<p>collapse</p>)\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    icon: {\n        margin: theme.spacing(1.5)\n    }\n}));\n\nconst ModulePrefix = ({ className, startAdornment, icon, onClick, selectable, selected, onSelect }) => {\n\n    const classes = useStyles()\n\n    if (startAdornment) {\n        return (\n            <div className={className || classes.root}>\n                { startAdornment }\n            </div>\n        )    \n    }\n\n    if (selectable) {\n        return (\n            <div className={className || classes.root}>\n                { selectable && <ModuleSelect selected={selected} onClick={onSelect} /> }\n            </div>\n        )    \n    }\n\n    if (icon && onClick) {\n        return (\n            <IconButton className={className || classes.root} onClick={onClick}>\n                <Icon>{icon}</Icon>\n            </IconButton>\n        )    \n    }\n\n    if (icon) {\n        return (\n            <div className={className || classes.root}  >\n                <Icon className={classes.icon}>{icon}</Icon>\n            </div>\n        )    \n    }\n\n    return false\n\n}\n\nModulePrefix.propTypes = {\n    className: PropTypes.string,\n    startAdornment: PropTypes.node,\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    icon: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default ModulePrefix;\n","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Paper from '@material-ui/core/Paper';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        width: props => { return props.width },\n        height: props => { return props.height },\n        margin: \"0\",\n    },\n    cropbox: {\n        display: \"block\",\n        position: \"absolute\",\n//        backgroundColor: props => { return props.backgroundColor },\n        boxShadow: props => { return props.elevation && theme.shadows[props.elevation] },\n        backgroundColor: theme.palette.action.selected,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\",\n        overflow: \"hidden\",\n        opacity: \"1\",\n        transformOrigin: \"50% 50%\",\n        transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1)\",\n        transform: \"scale(1)\",\n        userSelect: \"none\",\n        \"&[aria-selected=true]\": {\n            transform: \"scale(0.8)\",\n        }\n    },\n    image: {\n        display: \"block\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"50%\",\n        transform: \"translateX(-50%)\",        \n        maxWidth: props => { return props.maxWidth },\n        maxHeight: props => { return props.maxHeight },\n        margin: \"auto\"\n    },\n}));\n\nconst ModuleImage = ({className, elevation = 0, selected = false, imageUrl, backgroundColor = \"transparent\", layout = \"contain\", width = 56, height = 56, maxWidth = \"100%\", maxHeight = \"100%\", margin = 0, onClick, ...props}) => {\n    const classes = useStyles({...props, elevation, backgroundColor, width, height, maxWidth, maxHeight, margin})\n\n    const coverStyle = {\n        backgroundPosition: \"50% 50%\",\n        backgroundImage: \"url(\"+imageUrl+\")\",\n        backgroundSize: layout,\n        backgroundRepeat: \"no-repeat\" \n    }\n\n    if (selected) {\n//        elevation = elevation * 4\n    }\n\n    if (layout === \"cover\") {\n        return (\n            <div className={className || classes.root} aria-selected={selected} onClick={onClick}>\n                <div className={classes.cropbox} aria-selected={selected} style={coverStyle}>\n                    <img src={imageUrl} className={classes.image} style={{display: \"none\"}} />\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className={className || classes.root} aria-selected={selected} onClick={onClick}>\n            <div className={classes.cropbox} aria-selected={selected}>\n                <img src={imageUrl} className={classes.image} />\n            </div>\n        </div>\n    )\n}\n\nModuleImage.propTypes = {\n    imageUrl: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    margin: PropTypes.number\n};\n\nexport default ModuleImage;","import ModuleImage from \"./ModuleImage\"\nexport default ModuleImage","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        lineHeight: 1.5,\n        fontWeight: \"bold\",\n        maxWidth: props => { return props.maxWidth },\n        color: theme.palette.text.primary,\n    },\n    link: {\n        color: \"inherit\",\n        \"&:hover\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst ModuleTitle = ({className, maxWidth = \"100%\", title, untitled = \"Untitled\", onClick, children}) => {\n\n    const classes = useStyles({maxWidth})\n\n    if (!title && children) {\n        title = children\n    }\n\n    if (onClick) {\n        return (\n            <Typography data-name=\"title\" data-untitled={!title} className={className || classes.title} component=\"h2\" noWrap={true}>\n                <Link className={classes.link} onClick={onClick}>{title || untitled}</Link>\n            </Typography>\n        )\n    }\n\n    return (\n        <Typography data-name=\"title\" data-untitled={!title} className={className || classes.title} component=\"h2\" noWrap={true}>{title || untitled}</Typography>\n    )\n}\n\nModuleTitle.propTypes = {\n    maxWidth: PropTypes.string,\n    untitled: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n};\n\nModuleTitle.defaultProps = {\n    onClick: undefined,\n};\n\n\nexport default ModuleTitle;","import React from 'react';\nimport Color from 'color';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst getContrastColor = (color) => {\n\n    color = Color(color);\n\n    if (color.isDark()) {\n        return \"white\"\n    } else {\n        return \"black\"\n    }\n\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"inline-block\",\n        fontSize: \"12px\",\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"inherit\",\n        fontWeight: \"bold\",\n        padding: \".125em .75em\",\n        border: \"1px solid\",\n        backgroundColor: props => { return props.color || \"transparent\" },\n        borderColor: props => { return props.color || theme.palette.divider },\n        color: props => { return props.color && getContrastColor(props.color) || theme.palette.text.secondary },\n        borderRadius: \"1.25em\",\n    }\n}));\n\nconst ModuleLabel = ({className, component = \"h4\", label, color, children}) => {\n    const classes = useStyles({color})\n\n    if (!label && children) {\n        label = children\n    }\n\n    if (!label) {\n        return false\n    }\n\n    return (\n        <span className={className || classes.root}>\n           <Typography className={classes.label} noWrap={true} component={component}>{label}</Typography>\n        </span>\n    )\n}\n\nModuleLabel.propTypes = {\n    component: PropTypes.string,\n    label: PropTypes.string,\n    color: PropTypes.string\n};\n\nModuleLabel.defaultProps = {\n    label: undefined,\n    color: undefined\n};\n\nexport default ModuleLabel;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"normal\",\n        color: theme.palette.text.secondary\n    }\n}));\n\n/** ModuleMetadata takes an array of strings and displays them on a single line */\n\nconst ModuleMetadata = ({className, metadata = []}) => {\n    const classes = useStyles()\n\n    if (!metadata) {\n        return false\n    }\n\n    metadata = metadata.join(' – ')\n    \n    return (\n        <Typography className={className || classes.root} noWrap={true} component=\"h3\">{metadata}</Typography>\n    )\n}\n\nModuleMetadata.propTypes = {\n    component: PropTypes.string,\n    metadata: PropTypes.array,\n}\n\nexport default ModuleMetadata;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"normal\",\n        color: props => { return props.color || theme.palette.text.secondary }\n    }\n}));\n\nconst ModuleDescription = ({className, color, description, children}) => {\n    const classes = useStyles({color})\n\n    if (!description && children) {\n        description = children\n    }\n\n    if (!description || typeof(description) === \"undefined\") {\n        return false\n    }\n\n    return (\n        <Typography className={className || classes.root} noWrap={true} component=\"h3\">{description}</Typography>\n    )\n}\n\nModuleDescription.propTypes = {\n    description: PropTypes.string,\n}\n\nexport default ModuleDescription;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"bold\",\n        color: theme.palette.text.secondary\n    }\n}));\n\n/** ModuleStatus, draft, publish, trash, erased */\n\nconst ModuleStatus = ({component = \"h3\", status, children}) => {\n\n    const classes = useStyles()\n\n    if (!status && children) {\n        status = children\n    }\n\n    if (!status) {\n        return false\n    }\n\n    return (\n        <Typography className={classes.label} noWrap={true} component={component}>{status}</Typography>\n    )\n}\n\nModuleStatus.propTypes = {\n    status: PropTypes.string,\n};\n\nexport default ModuleStatus;","import React from 'react';\nimport moment from 'moment';\nimport \"moment/locale/nb\";\nimport \"moment/locale/nn\";\nimport \"moment/locale/sv\";\n\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary\n    }\n}));\n\n/** Module date, uses moment.js */\n\nconst ModuleDate = ({className, locale = \"nb\", datetime, format = \"relative\"}) => {\n    const classes = useStyles()\n\n    if (!datetime) {\n        return false\n    }\n\n    // format value\n\n    moment.locale(locale)\n\n    let date;\n    \n    if (format === \"relative\") {\n        date = moment(datetime).fromNow()\n    } else if (format) {\n        date = moment(datetime).format(format)\n    } else {\n        date = moment(datetime).format()\n    }\n\n    return (\n        <time dateTime={datetime} className={className || classes.root}>{date}</time>\n    )\n}\n\nModuleDate.propTypes = {\n    /** Locale string */\n    locale: PropTypes.string,\n    /** Datetime as YYYY-MM-DD */\n    datetime: PropTypes.string,\n    /** Moment.js format */\n    format: PropTypes.string,\n};\n\nexport default ModuleDate;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport ModuleDate from \"./ModuleDate\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    byline: {\n//        display: \"flex\",\n//        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary,\n    },\n    author: {\n        display: \"inline\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        fontWeight: \"normal\",\n    },\n    datetime: {\n        display: \"inline\",\n        fontStyle: \"normal\",\n        fontWeight: \"normal\"\n    }\n}));\n\nconst ModuleByline = ({author, datetime, locale = \"nb\", format = \"relative\"}) => {\n    const classes = useStyles()\n\n    if (!datetime) {\n        return false\n    }\n\n    return (\n        <Typography className={classes.byline} noWrap={true} component=\"h3\">\n            <ModuleDate datetime={datetime} locale={locale} format={format} className={classes.datetime} />\n            {' '}\n            <b className={classes.author}>by {author}</b>\n        </Typography>\n    )\n}\n\nModuleByline.propTypes = {\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    locale: PropTypes.string,\n    format: PropTypes.string,\n};\n\nexport default ModuleByline;","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Button from '@material-ui/core/Button';\n\nconst NavToolbarOptions = ({options = [], ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = ({type = \"listitem\", icon, title, onClick, ...props}) => {\n\n        if (type === \"button\") {\n            return (\n                <ListItem>\n                    <Button {...props} fullWidth={true} onClick={onClick}>\n                        {title}\n                    </Button>\n                </ListItem>\n            )\n        }\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title} />\n            </ListItem>\n        )\n\n    }\n    \n    return (\n        <React.Fragment>\n            <IconButton onClick={_onToggle} ref={anchorRef}>\n                <Icon>{button && button.icon}</Icon>\n            </IconButton>\n\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavToolbarOptions","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Button from '@material-ui/core/Button';\n\nconst NavToolbarSettings = ({options = [], value, ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = (option) => {\n        const { icon, title, label, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>\n                {value}\n            </Button>\n\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavToolbarSettings","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport SelectIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        color: \"inherit\",\n    },\n    select: {\n        color: \"inherit\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"1px solid\",\n        borderColor: \"currentColor\",\n        margin: -1,\n    },\n    selected: {\n        color: \"inherit\",\n        display: \"block\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"2px solid\",\n        margin: -2,\n        borderColor: theme.palette.primary.main,\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        boxShadow: theme.shadows[2],\n\n        \"& svg\": {\n            width: theme.spacing(2.5),\n            height: theme.spacing(2.5),\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%,-50%)\",\n//            color: \"currentColor\"\n        }        \n\n    }\n}));\n\nconst ButtonSelect = ({className, selected = false, onClick}) => {\n    const classes = useStyles();\n\n    if (selected) {\n\n        return (\n            <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" name=\"select\" value=\"select\" aria-label=\"select\" onClick={onClick}>\n                <div className={classes.selected}>\n                    <SelectIcon />\n                </div>\n            </IconButton>\n        )\n\n    }\n\n    return (\n        <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" name=\"select\" value=\"select\" aria-label=\"select\" onClick={onClick}>\n            <SelectIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonSelect;","import React from \"react\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport ButtonSelect from \"./ButtonSelect\"\n\nconst NavToolbarButton = (props) => {\n\n    const {name, icon, disabled, onClick} = props\n\n    if (name === \"select\") {\n        return <ButtonSelect {...props} />\n    }\n\n    return (\n        <IconButton name={name} onClick={onClick} disabled={disabled}>\n            <Icon>{icon}</Icon>\n        </IconButton>    \n    )\n\n}\n\nexport default NavToolbarButton","\nconst getVisibilityOptions = (props) => {\n    const { hideable, hidden, deletable, deleted, restorable, restored, removable } = props\n    const { onHide, onUnhide, onDelete, onRestore, onRemove } = props\n\n    // hideable\n\n    let options = []\n    \n    if (hideable) {\n        \n        options.push({\n            name: \"hidden\",\n            icon: \"visibility\",\n            title: \"Visible\",\n            onClick: onUnhide\n        })\n\n        options.push({\n            name: \"hidden\",\n            icon: \"visibility_off\",\n            title: \"Hidden\",\n            onClick: onHide\n        })\n        \n    }\n    \n    // deletable && restorable\n    \n    if (deletable && restorable) {\n        \n        if (deleted) {\n            options.push({\n                type: \"button\",\n                variant: \"outlined\",\n                name: \"restore\",\n                title: \"Restore\",\n                onClick: onRestore\n            })            \n        } else {\n            options.push({\n                type: \"button\",\n                variant: \"outlined\",\n                name: \"delete\",\n                title: \"Delete\",\n                onClick: onDelete\n            })            \n        }\n\n    // deletable\n        \n    } else if (deletable && onDelete) {\n\n        options.push({\n            type: \"button\",\n            variant: \"outlined\",\n            name: \"delete\",\n            title: \"Delete\",\n            onClick: onDelete\n        })            \n\n    // removable\n\n    } else if (removable) {\n\n        options.push({\n            type: \"button\",\n            variant: \"outlined\",\n            name: \"remove\",\n            title: \"Remove\",\n            onClick: onRemove\n        })            \n\n    }\n    \n    // set icon\n\n    let icon;\n\n    if (deleted && restorable) {\n        icon = \"restore\"\n    } else if (deleted) {\n        icon = \"delete\"\n    } else if (hidden) {\n        icon = \"visibility_off\"\n    } else {\n        icon = \"visibility\"\n    }\n    \n    return {\n        name: \"visibility\",\n        icon: icon,\n        options: options\n    }\n    \n}\n\nconst getToolbar = (props, toolbar = []) => {\n    const { selectable, selected, editable, editing, hideable, hidden, deletable, deleted, restorable, restored, erasable, erased, addable, removable } = props\n    const { onSelect, onEdit, onSave, onHide, onUnhide, onDelete, onRestore, onErase, onRemove } = props\n\n    // erased, no way back\n\n    if (erased) {\n        return toolbar\n    }\n\n    // editable\n\n    if (editable && editing) {\n        toolbar.unshift({\n            name: \"save\",\n            label: \"Save\",\n            onClick: onSave\n        })\n    } else if (editable) {\n        toolbar.unshift({\n            name: \"edit\",\n            icon: \"edit\",\n            onClick: onEdit\n        })\n    }\n\n    // deleted\n\n    if (deleted) {\n            \n        toolbar = [];\n\n        if (restorable) {\n            toolbar.push({\n                name: \"restore\",\n                icon: \"restore\",\n                onClick: onRestore\n            });\n        }\n\n        if (erasable) {\n            toolbar.push({\n                name: \"erase\",\n                icon: \"delete_forever\",\n                onClick: onErase\n            });\n        }\n\n        if (!toolbar.length) {\n            toolbar.push({\n                name: \"delete\",\n                icon: \"delete\",\n                disabled: true\n            });\n        }\n\n        \n        return toolbar;\n\n    // hideable => visibility options\n    \n    } else if (hideable && (deletable || restorable)) {\n\n        let visibility = getVisibilityOptions(props)\n        toolbar.push(visibility)\n\n    // hideable\n\n    } else if (hideable && hidden) {\n\n        toolbar.push({\n            name: \"hidden\",\n            icon: \"visibility_off\",\n            onClick: onUnhide\n        })\n\n    } else if (hideable) {\n\n        toolbar.push({\n            name: \"hidden\",\n            icon: \"visibility\",\n            onClick: onHide\n        })\n       \n    // deletable\n\n    } else if (deletable) {\n        toolbar.push({\n            name: \"delete\",\n            icon: \"delete\",\n            onClick: onDelete\n        })\n\n    // removable\n        \n    } else if (removable) {\n        toolbar.push({\n            name: \"remove\",\n            icon: \"remove_circle\",\n            onClick: onRemove\n        })\n        \n    }\n\n    // selectable\n\n    if (selectable && selected) {\n        toolbar.push({\n            name: \"select\",\n            selected: selected,\n            label: \"Select\",\n            onClick: onSelect\n        })\n    } else if (selectable) {\n        toolbar.push({\n            name: \"select\",\n            selected: selected,\n            icon: \"select\",\n            onClick: onSelect\n        })\n    }\n\n    return toolbar\n\n}\n\n\n\nexport default getToolbar","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport NavToolbarOptions from \"./NavToolbarOptions\"\nimport NavToolbarSettings from \"./NavToolbarSettings\"\nimport NavToolbarButton from \"./NavToolbarButton\"\n\nimport getToolbar from \"./getToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\"\n    }\n}));\n\n/** NavToolbar renders buttons and options based on capabilities. */\n\nconst NavToolbar = ({className, toolbar, ...props}) => {\n    const classes = useStyles()\n\n    if (!toolbar) {\n        toolbar = getToolbar(props)\n    }\n\n    if (!toolbar.length) {\n        return false\n    }\n\n    return (\n        <div className={className || classes.toolbar}>\n            { toolbar && toolbar.map((button, index) => {\n\n                const { value, options } = button\n\n                if (value) {\n                    return <NavToolbarSettings {...button} />\n                }\n\n                if (options) {\n                    return <NavToolbarOptions {...button} />\n                }\n            \n                return <NavToolbarButton {...button} />\n                \n            })}\n        </div>\n    )\n\n}\n\nNavToolbar.propTypes = {\n    toolbar: PropTypes.array,\n\n    hideable: PropTypes.bool,\n    hidden: PropTypes.bool,\n    onHide: PropTypes.func,\n    onUnhide: PropTypes.func,\n\n    editable: PropTypes.bool,\n    editing: PropTypes.bool,\n    onEdit: PropTypes.func,\n\n    deletable: PropTypes.bool,\n    deleted: PropTypes.bool,\n    onDelete: PropTypes.func,\n\n    erasable: PropTypes.bool,\n    erased: PropTypes.bool,\n    onErase: PropTypes.func,\n\n    restorable: PropTypes.bool,\n    restored: PropTypes.bool,\n    onRestore: PropTypes.func,\n\n    removable: PropTypes.bool,\n    removed: PropTypes.bool,\n    onRemove: PropTypes.func,\n}\n\nexport default NavToolbar;\n","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Button from '@material-ui/core/Button';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nconst ListSettings = ({options = [], value, ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = (option) => {\n        const { icon, title, label, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>{value}</Button>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default ListSettings","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\n\nconst gridUnit = 56;\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        position: \"relative\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        width: props => { return props.cols * gridUnit + \"px\" },\n        height: props => { return props.rows * gridUnit + \"px\" },\n    },\n    item: {\n        position: \"absolute\",\n        display: \"block\",\n        top: 0,\n        left: 0,\n        backgroundColor: \"rgba(0,0,0,.125)\",\n    },\n    button: {\n        outline: \"1px solid white\",\n        width: props => { return props.cols * gridUnit + \"px\" },\n        height: props => { return props.rows * gridUnit + \"px\" },\n\n        \"&:hover\": {\n            backgroundColor: \"rgba(0,0,0,.5)\",\n            color: \"white\",\n        },\n        \"&[aria-selected=true]\": {\n            backgroundColor: \"blue\",\n            color: \"white\"\n        }\n    },\n    label: {\n        position: \"absolute\",\n        top: 'auto',\n        right: 0,\n        bottom: 0,\n        left: 'auto',\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: '12px',\n        padding: theme.spacing(0.5)\n    }\n}));\n\nconst GridItem = ({size, value, label, selected, onClick, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <li className={classes.item}>\n            <ButtonBase className={classes.button} data-size={size} aria-selected={selected} onClick={onClick}>\n                <b className={classes.label}>{label}</b>\n            </ButtonBase>\n        </li>\n    )\n}\n\nconst GridList = ({children, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <ul className={classes.list}>\n            {children}\n        </ul>\n    )\n}\n\nconst OptionsGrid = ({cols, rows, value, options = [], onSelect, ...props}) => {\n\n    return (\n        <GridList cols={cols} rows={rows}>\n            {options.map((item, index) => (\n                <GridItem {...item} selected={item.value === value} key={index} onClick={() => onSelect(item)}>{item.value}</GridItem>\n            ))}\n        </GridList>\n    )\n\n}\n\nexport default OptionsGrid;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport ListSettings from \"./ListSettings\"\nimport GridSettings from \"./GridSettings\"\n\nconst templates = {\n    \"list\": ListSettings,\n    \"grid\": GridSettings,\n}\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    }\n}));\n\n/** NavSettings renders settings with options. Each setting should have an onChange function. */\n\nconst NavSettings = ({className, settings = []}) => {\n    const classes = useStyles()\n\n    if (!settings.length) {\n        return false\n    }\n\n    const renderSettings = ({template, ...props}, index) => {\n\n        let SettingsTemplate\n\n        if (template && typeof template === \"function\") {\n            SettingsTemplate = template\n        } else if (template && templates[template]) {\n            SettingsTemplate = templates[template]\n        } else {\n            SettingsTemplate = ListSettings\n        }\n\n        return <SettingsTemplate {...props} key={index} />\n            \n    }\n    \n    return (\n        <div className={className || classes.settings}>\n            { settings && settings.map((settingsProps, index) => {\n                return renderSettings(settingsProps)\n            })}\n        </div>\n    )\n\n}\n\nNavSettings.propTypes = {\n    settings: PropTypes.array,\n}\n\nexport default NavSettings;\n","import React, { useState, useRef } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\nimport Button from '@material-ui/core/Button';\nimport _ from \"lodash\"\n\nimport GridSettingsList from \"./GridSettingsList\"\n\nconst getOptions = ({options = []}) => {\n    let _cols = 0, _rows = 0, _options = [], _byValue = {};\n\n    options.map((item, index) => {\n\n        if (typeof item === \"string\") {\n            item = { label: item, value: item }\n        }\n\n        const size = item.value;\n        const grid = size.split(':');\n        const cols = grid[0] * 1\n        const rows = grid[1] * 1\n\n        if (cols > _cols) {\n            _cols = cols\n        }\n\n        if (rows > _rows) {\n            _rows = rows\n        }\n\n        item = {\n            ...item,\n            order: cols * rows,\n            size: size,\n            cols: cols,\n            rows: rows\n        }\n\n        _options.push(item)\n        _byValue[item.value] = item\n\n    })    \n\n    _options = _.orderBy(_options, 'order', 'desc'); \n\n    return {\n        byValue: _byValue,\n        options: _options,\n        cols: _cols,\n        rows: _rows,\n    }\n\n}\n\n\nconst GridSettings = ({type = \"grid\", name, label, value, onChange, ...props}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    \n    const { options, byValue, cols, rows } = getOptions(props)\n    const current = byValue[value] || options[0]\n\n\n    const onSelect = (item) => {\n        if (onChange) {\n            onChange(name, item.value)\n        }\n        setExpanded(false);\n    }\n\n    const onCollapse = () => {\n        setExpanded(false);\n    }\n\n    return (\n        <React.Fragment>\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>{current.label}</Button>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <GridSettingsList value={current && current.value} cols={cols} rows={rows} options={options} onSelect={onSelect} />\n            </Dropdown>\n        </React.Fragment>            \n    )\n\n}\n\nexport default GridSettings;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleBase from \"./ModuleBase\"\nimport ModulePrefix from \"./ModulePrefix\"\n\nimport ModuleMedia from './ModuleMedia';\nimport ModuleTitle from './ModuleTitle';\nimport ModuleLabel from './ModuleLabel';\nimport ModuleMetadata from './ModuleMetadata';\nimport ModuleDescription from './ModuleDescription';\nimport ModuleStatus from './ModuleStatus';\nimport ModuleByline from './ModuleByline';\n\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\nimport NavSettings from \"../NavSettings/NavSettings\"\n\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n\n            \"& *\": {\n                pointerEvents: \"none\"\n            },\n\n            \"&[aria-selected=true]\": {\n            },\n\n        },\n\n        \"&[data-elevated=true]\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1)\n        },\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&.sortable-helper\": {\n            borderTopColor: \"transparent\",\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n            \"& $settings\": {\n                display: \"none\"\n            },\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n        },\n\n        \"&[data-status=erased]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n        \"&[data-status=trash]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n    },\n    primaryAction: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },\n    body: {\n    },\n    media: {\n        display: \"flex\",\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    uploadProgress: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    progress: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.primary.main,\n//        opacity: 0.25,\n        height: theme.spacing(.25),\n        top: \"auto\",\n        right: \"auto\",\n        bottom: 0,\n        left: 0,\n        width: props => { return props.uploadProgress + \"%\" }\n    }\n\n}));\n\n/** CollapsedModule for listing documents */\n\nconst CollapsedModule = (props) => {\n\n    const {uploadProgress, imageUrl, untitled, typeLabel, type, title, description, metadata, status, statusLabel, author, datetime, selected, onClick } = props\n\n\n    const classes = useStyles({uploadProgress: uploadProgress})\n\n    return (\n        <ModuleBase {...props} className={classes.module} role={onClick && \"button\"} status={status} selected={selected} onClick={onClick}>\n            <ModulePrefix className={classes.primaryAction} selected={selected} {...props} />\n            <div className={classes.media}>\n                <ModuleMedia backgroundColor=\"transparent\" imageUrl={imageUrl} width={48} height={48} />\n            </div>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && props.onEdit} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel || status} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={typeLabel || type} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n            { uploadProgress && \n                <div className={classes.uploadProgress}>\n                    <div className={classes.progress}></div>\n                </div>                \n            }\n            <NavSettings {...props} className={classes.settings} />\n            <NavToolbar {...props} className={classes.toolbar} />\n        </ModuleBase>\n    )    \n\n}\n\nCollapsedModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nCollapsedModule.defaultProps = {\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default CollapsedModule;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: props => { return props.minHeight },\n        paddingBottom: props => { return props.ratio * 100 + \"%\" },\n    }\n}));\n\nconst ModuleFormat = ({format, minHeight, children}) => {\n\n    let ratio;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        ratio = h/w;\n    }\n\n    const classes = useStyles({ratio, minHeight})\n\n    if (ratio || minHeight) {\n\n        return (\n            <div className={classes.format}\n                data-minHeight={minHeight}\n                data-ratio={ratio} \n                data-format={format}>\n                { children }\n            </div>\n        )\n           \n    }\n\n    return children\n\n}\n\nexport default ModuleFormat","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst useStyles = makeStyles({\n});\n\nconst StyledTabs = withStyles({\n    root: {\n        padding: 0,\n        margin: 0,\n        minHeight: \"36px\"\n    },\n    indicator: {\n      backgroundColor: '#666',\n    },\n})(Tabs);\n\nconst StyledTab = withStyles(theme => ({\n    root: {\n      textTransform: 'none',\n      minWidth: 0,\n      minHeight: \"36px\",\n      paddingLeft: 0,\n      paddingRight: 0,\n      marginLeft: 0,\n      marginRight: theme.spacing(2),\n      fontFamily: \"Akkurat, sans-serif\",\n      fontSize: \"14px\",\n      fontWeight: \"bold\",\n      letterSpacing: 0,\n      color: \"inherit\",\n      '&:hover': {\n        color: \"inherit\",\n        opacity: 1,\n      },\n      '&$selected': {\n        opacity: 1,\n      },\n      '&:focus': {\n        opacity: 1,\n      },\n    },\n    selected: {},\n  }))(props => <Tab disableRipple {...props} />);\n\nconst NavTabs = ({className, tabs = []}) => {\n    const classes = useStyles();\n    const [value, setValue] = React.useState(0);\n\n    const onTabIndex = (event, index) => {\n        setValue(index);\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    };\n\n    return (\n        <nav className={className || classes.root}>\n            <StyledTabs\n                value={value}\n                onChange={onTabIndex}\n                indicatorColor=\"primary\"\n                textColor=\"inherit\"\n            >\n                { tabs && tabs.map((tab, index) => {\n                    return (\n                        <StyledTab label={tab.label || tab.title} value={index} key={index} />\n                    )\n                })}\n            </StyledTabs>\n        </nav>\n    );\n}\n\nexport default NavTabs;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModuleTabs from \"./ModuleTabs\"\nimport ModuleTitle from './ModuleTitle';\n\nimport NavSettings from \"../NavSettings/NavSettings\"\n//import NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        },\n\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"16px\",\n        lineHeight: \"24px\",\n        fontWeight: \"bold\",\n    },\n    tabs: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1),\n        color: \"inherit\"\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n    },\n    toolbar: {\n        display: \"flex\",\n        color: \"inherit\"\n    },\n}));\n\n/** Used in ExpandedModule, will show a title, menu or list children */\n\nconst ModuleHeader = ({className, status, title, menu, settings, toolbar, children}) => {\n    const classes = useStyles()\n\n    if (children) {\n        return (\n            <header className={classes.header}>\n                {children}\n            </header>\n        )\n    }\n\n    return (\n        <header className={className || classes.header}>\n            { menu && <ModuleTabs className={classes.tabs} tabs={menu} />}\n            { !menu && <ModuleTitle className={classes.title} status={status} title={title} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n    \n}\n\nexport default ModuleHeader;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        position: \"relative\"\n    }\n}));\n\nconst ModuleBody = ({className, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.body}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default ModuleBody;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        padding: props => { return theme.spacing(props.padding) }\n    }\n}));\n\n/** ModuleFooter */\n\nconst ModuleFooter = ({className, padding = 2, children}) => {\n    const classes = useStyles({padding});\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <footer className={className || classes.footer}>\n            { children }\n        </footer>\n    )\n\n}\n\nexport default ModuleFooter;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    buttongroup: {\n        width: \"100%\",\n        overflowX: \"scroll\",\n        borderRadius: 0,\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1),\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    label: {\n\n    }\n}));\n\nconst ModuleButtons = ({className, spacing = 1, buttons = []}) => {\n    const classes = useStyles({spacing});\n\n    if (!buttons.length) {\n        return false\n    }\n\n    const ModuleButton = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n    \n        return (\n            <Button {...props} type=\"button\" data-size={size} data-variant={variant} disableElevation={true} color={color} variant={variant} size={size} className={classes.button}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon>}\n                <b className={classes.label}>{title}</b>\n            </Button>\n        )\n    \n    }\n    \n    return (\n        <ButtonGroup color=\"primary\" className={className || classes.buttongroup}>\n            { buttons && buttons.map((button, index) => {\n                return (\n                    <ModuleButton {...button} className={classes.button} key={index} />\n                )\n            })}\n        </ButtonGroup>\n    )\n\n}\n\nexport default ModuleButtons;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleFormat from \"./ModuleFormat\"\nimport ModuleBase from \"./ModuleBase\"\nimport ModuleHeader from \"./ModuleHeader\"\nimport ModuleBody from \"./ModuleBody\"\nimport ModuleFooter from \"./ModuleFooter\"\nimport ModuleButtons from \"./ModuleButtons\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        minHeight: props => { return props.minHeight },\n        marginTop: props => { return props.minHeight && 0 },\n        paddingRight: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        paddingLeft: theme.spacing(2),\n        flexGrow: 1\n    },\n    footer: {\n        borderTop: \"1px solid\", \n        borderColor: theme.palette.divider,\n        padding: theme.spacing(2),\n    }\n\n}));\n\nconst ExpandedModule = ({id, buttons, children, ...props }) => {\n    const classes = useStyles(props)\n\n    return (\n        <ModuleBase className={classes.module} id={id} expanded={true} elevation={4}>\n            <ModuleFormat {...props}>\n                <ModuleHeader {...props} className={classes.header} />\n                <ModuleBody className={classes.body}>\n                    {children}\n                </ModuleBody>\n            </ModuleFormat>\n            <ModuleFooter {...props} className={classes.footer}>\n                { buttons && <ModuleButtons buttons={buttons} /> }\n            </ModuleFooter>\n        </ModuleBase>\n    )    \n\n}\n\nExpandedModule.propTypes = {\n    title: PropTypes.string,\n    menu: PropTypes.array,\n    buttons: PropTypes.array,\n    children: PropTypes.node\n}\n\nexport default ExpandedModule;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport CollapsedModule from \"./CollapsedModule\"\nimport ExpandedModule from \"./ExpandedModule\"\n\n/** Module, use for documents or media objects */\n\nconst Module = ({\n    editable,\n    expanded,\n    buttons,\n    onSave,\n    children,\n    ...props\n}) => {\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onSave\n                }\n            ]\n        }\n\n    }\n\n    if (expanded) {\n        return (\n            <ExpandedModule {...props} buttons={buttons}>\n                {children}\n            </ExpandedModule>\n        )\n    }\n\n    return (\n        <CollapsedModule\n            {...props}\n            editable={editable}\n        />\n    )\n\n}\n\nModule.defaultProps = {\n    padding: 2,\n    editable: false\n}\n\nModule.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default Module;\n","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    identifier: {\n        fontFamily: \"Akkurat mono, monospace !important\",\n        fontSize: props => { return props.fontSize },\n        color: props => { return props.color || theme.palette.text.secondary },\n    }\n}));\n\nconst ModuleIdentifier = ({component = \"h4\", fontSize = 12, color, children}) => {\n    const classes = useStyles({fontSize, color})\n\n    return (\n        <Typography className={classes.identifier} noWrap>{children}</Typography>\n    )\n}\n\nModuleIdentifier.propTypes = {\n};\n\nModuleIdentifier.defaultProps = {\n};\n\nexport default ModuleIdentifier;","import React from 'react';\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst ModuleToolbar = (props) => {\n    return <NavToolbar {...props} />\n}\n\nexport default ModuleToolbar;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport NavSettings from \"../NavSettings/NavSettings\"\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    actionbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    settings: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n\n\n    },\n}));\n\n\nconst ModuleActionbar = ({ className, settings, toolbar, children, ...props }) => {\n    const classes = useStyles()\n\n    if (children) {\n        return (\n            <div className={className || classes.actionbar}>\n                {children}\n            </div>\n        )    \n    }\n\n    return (\n        <div className={className || classes.actionbar}>\n            <NavSettings className={classes.settings} settings={settings} />\n            <NavToolbar {...props} className={classes.toolbar} toolbar={toolbar} />\n        </div>\n    )    \n\n}\n\nModuleActionbar.propTypes = {\n    settings: PropTypes.array,\n    toolbar: PropTypes.array\n}\n\nexport default ModuleActionbar;\n","import React from 'react';\nimport NavSettings from \"../NavSettings/NavSettings\"\n\nconst ModuleSettings = (props) => {\n    return <NavSettings {...props} />\n}\n\nexport default ModuleSettings;\n","const calculateCutOff = ({rowWidth, delta, row = []}) => {\n    let cutoff = [];\n    let cutsum = 0;\n\n    for(var i in row) {\n        var item = row[i];\n        var fractOfLen = item.width / rowWidth;\n\n        cutoff[i] = Math.floor(fractOfLen * delta);\n        cutsum += cutoff[i];\n    }\n\n    var stillToCutOff = delta - cutsum;\n    while(stillToCutOff > 0) {\n        for(i in cutoff) {\n            cutoff[i]++;\n            stillToCutOff--;\n            if (stillToCutOff < 0) break;\n        }\n    }\n\n    return cutoff;\n\n}\n\nconst getGalleryRow = ({maxWidth, gap, items = []}) => {\n    const rowPlusGap = maxWidth + gap;\n\n    var row = [];\n    var rowWidth = 0;\n\n    while (items.length > 0 && rowWidth < rowPlusGap) {\n        let item = items.shift();\n        row.push(item);\n        rowWidth += (item.width + gap);\n    }\n\n    let delta = rowWidth - rowPlusGap;\n\n    if (row.length > 0 && delta > 0) {\n        var cutoff = calculateCutOff({rowWidth, gap, delta, row});\n        for(var i in row) {\n            var pixelsToRemove = cutoff[i];\n            let item = row[i];\n            item.maxWidth = item.width - pixelsToRemove;\n        }\n    } else {\n        for(var j in row) {\n            let item = row[j];\n            item.maxWidth = item.width;\n        }\n    }\n\n    return row;\n    \n}\n\n    \nexport const getGallery = ({maxWidth, maxRows, items = [], gap = 0}) => {\n    if (!maxWidth) return [];\n\n    let rows = []\n\n    while (items.length > 0) {\n        rows.push(getGalleryRow({maxWidth, gap, items}));\n    }\n\n    let cols = []\n\n    for (var r in rows) {\n        for (var i in rows[r]) {\n            var item = rows[r][i];\n            if (maxRows) {\n                if(r < maxRows) {\n                    cols.push(item);\n                }\n            }  else {\n                cols.push(item);\n            }\n        }\n    }\n\n    return cols\n\n}","import qs from 'query-string';\n\nexport const getImageUrl = ({imageUrl, uploadProgress = 0}) => {\n\n    if (!imageUrl) {\n        return false\n    }\n\n    const { url, query } = qs.parseUrl(imageUrl)\n    return qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n}","import React, { useEffect, useState } from \"react\"\n\nimport { \n    ModuleSelect, \n    ModuleTitle,\n    ModuleDescription,\n    ModuleLabel,\n    ModuleIdentifier,\n    ModuleToolbar\n } from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        display: \"flex\",\n        height: 56,\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected\n        },\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n\n    },\n    media: {\n        flexGrow: 0,\n        flexShrink: 0,\n        width: 48,\n        height: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    },\n    header: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        paddingLeft: 8,\n        paddingRight: 8,\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 16,\n\n    },\n    artist: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n\n    },\n    toolbar: {\n        flexGrow: 0\n    }\n}));\n\nconst ListModule = ({\n    placeholder = false,\n    children,\n\n    uniqueId,\n\n    title,\n    description,\n    label,\n    identifier,\n\n    onClick,\n\n    selectable,\n    selected,\n    onSelect,\n\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const imageUrl = getImageUrl(props)\n\n    if (placeholder) {\n        return (\n            <div className={classes.item} onClick={onClick}>\n                { children || title }\n            </div>\n        )\n    }\n\n    const ModuleMedia = () => {\n\n        return (\n            <div className={classes.media}>\n                <img src={imageUrl} className={classes.image} />\n            </div>\n        )\n\n    }\n\n    return (\n        <div className={classes.item} aria-selected={selected} onClick={onClick}>\n            { selectable &&\n                <ModuleSelect \n                    selected={selected}\n                    onClick={onClick ? undefined : onSelect}\n                />\n            }\n            <ModuleMedia />\n            <header className={classes.header}>\n                <ModuleTitle maxWidth=\"50%\">{title}</ModuleTitle>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleDescription>{description}</ModuleDescription>\n            </header>\n            <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            {!onClick && <ModuleToolbar {...props} /> }\n        </div>\n    )\n\n\n}\n\nexport default ListModule;","import React, { useEffect, useState } from \"react\"\n\nimport { \n    ModuleSelect, \n    ModuleTitle,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleLabel\n } from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        minWidth: props => { return props.width },\n        maxWidth: \"100%\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"&[aria-selected=true]\": {\n\n            \"& $media\": {\n                backgroundColor: \"#ff0\",\n            },\n\n            \"& $image\": {\n                maxWidth: \"90%\",\n                maxHeight: \"90%\",\n                boxShadow: theme.shadows[2]\n            }\n    \n        },\n\n        position: \"relative\"\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n    },\n    media: {\n        backgroundColor: \"grey\",\n        width: \"100%\",\n        height: props => { return props.height },\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: 0,\n\n\n\n\n    },\n    header: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        maxWidth: \"100%\",\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 16,\n    },\n    artist: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n\n    },\n}));\n\nconst GridModule = ({placeholder, width = 160, height = 160, selected, identifier, label, imageUrl, title, artist, onClick}) => {\n\n    const classes = useStyles({width, height})\n\n    if (placeholder) {\n        return (\n            <div className={classes.item} aria-selected={selected} onClick={onClick}>\n                <div className={classes.media}>\n                    {title}\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.item} aria-selected={selected} onClick={onClick}>\n\n            <div className={classes.media}>\n                <img src={imageUrl} className={classes.image} />\n            </div>\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleDescription>{artist}</ModuleDescription>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </header>\n            <div className={classes.toolbar}>\n                <ModuleSelect selected={selected} />\n            </div>\n        </div>\n    )\n\n\n}\n\nexport default GridModule;","import React, { useRef, useEffect, useState } from \"react\"\nimport GridModule from \"./GridModule\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    grid: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        flexWrap: \"wrap\",\n\n        \"& > *\": {\n            width: 160,\n            flexBasis: 160,\n            flexShrink: 0,\n            flexGrow: 0,\n            margin: theme.spacing(1)\n        }\n\n\n    },\n}));\n\nconst GridView = ({items = [], children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.grid}>\n            {items && items.map((item, index) => <GridModule {...item} key={index} />)}\n            {children}\n        </div>\n    )\n\n}\n\nexport default GridView;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useResizeDetector } from 'react-resize-detector';\nimport { getGallery } from \"./utils/getGallery\"\n\nconst useStyles = makeStyles(theme => ({\n    gallery: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        margin: props => { return props.spacing && theme.spacing(props.spacing * -0.5) },\n\n        \"& > *\": {\n            margin: props => { return props.spacing && theme.spacing(props.spacing * 0.5) },\n        }\n\n    },\n}));\n\nconst Gallery = ({mediaSize = 200, spacing = 1, padding = 0, children, debug = false}) => {\n\n    const { width, height, ref } = useResizeDetector()\n\n\n    const maxMediaHeight = mediaSize\n    const maxWidth = width - (spacing * 8)\n    const gap = spacing * 8\n\n    const classes = useStyles({padding, spacing});\n\n    // set items width + height for use in gallery\n\n    let items = children && React.Children.toArray(children).map((child, index) => {\n\n        const mediaWidth = child.props.mediaWidth * 1 || 1\n        const mediaHeight = child.props.mediaHeight * 1 || 1\n\n        const width = Math.floor(maxMediaHeight * (mediaWidth / mediaHeight)) + gap\n        const height = maxMediaHeight\n\n        return {\n            mediaWidth: mediaWidth,\n            mediaHeight: mediaHeight,\n            width: width,\n            height: height\n        }\n    })\n\n\n    // get gallery items based on width + height\n\n    const gallery = items && getGallery({items, maxWidth, gap})\n    const galleryChildren = React.Children.toArray(children)\n\n    return (\n        <div ref={ref} className={classes.gallery} data-layout=\"gallery\">\n            {gallery && gallery.map((item, index) => {\n\n                const { width, height, maxWidth } = item;\n\n                const child = galleryChildren[index]\n\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, {\n                        maxWidth: maxWidth,\n                        mediaWidth: width,\n                        mediaHeight: height,\n                    })\n                }\n\n            })}\n        </div>        \n    )\n\n}\n\nGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default Gallery;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Gallery from \"./Gallery\"\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        display: \"block\",\n        padding: theme.spacing(0,2),\n    },\n}));\n\nconst GalleryView = ({mediaSize = 200, spacing = 2, header, footer, children, debug = false}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view}>\n            <Gallery padding={2} spacing={spacing} mediaSize={mediaSize}>\n                {header}\n                {children}\n                {footer}\n            </Gallery>\n        </div>        \n    )\n\n}\n\nGalleryView.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default GalleryView;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleTitle,\n    ModuleImage,\n    ModuleLabel,\n    ModuleIdentifier,\n    ModuleDescription,\n    ModuleSelect,\n    ModuleToolbar\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        maxWidth: props => { return props.maxWidth },\n        userSelect: \"none\",\n        marginBottom: 8,\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .5\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n            \"& $media\": {\n                opacity: .5 \n            },\n            \"& button\": {\n                opacity: 1\n            }\n        },        \n\n        \"&[data-erased=true]\": {\n            \"& $media\": {\n                opacity: .25 \n            }\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            },\n\n        }\n\n    },\n    placeholder: {\n        display: \"block\",\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        \n    },\n    media: {\n        display: \"block\",\n        backgroundColor: theme.palette.action.selected,\n        position: \"relative\",\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        width: \"100%\",\n        height: props => { return props.mediaHeight },\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n            color: \"white\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }     \n        \n    },\n    content: {\n        position: \"relative\",\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n\n        \"& + $footer\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n            paddingTop: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n        \"& > * + *\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n\n}));\n\nconst GalleryModule = ({\n    placeholder,\n    children,\n    onClick,\n\n    width = \"100%\", \n    maxWidth = 180, \n    mediaWidth = 180,\n    mediaHeight = 180,\n    mediaStyle, \n    mediaLayout = \"cover\", \n\n//    selectable,\n//    selected,\n//    onSelect,\n\n    title,\n    description,\n    label,\n    identifier,\n//    imageUrl,\n\n    ...props\n    \n}) => {\n\n    const { selected } = props\n\n    const classes = useStyles({\n        width: width,\n        maxWidth: maxWidth,\n        mediaWidth: mediaWidth,\n        mediaHeight: mediaHeight,\n    })\n\n    const imageUrl = getImageUrl(props)\n    const defaultImageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n\n    if (placeholder) {\n        return (\n            <div className={classes.module}>\n                <div className={classes.placeholder} role={onClick && \"button\"} onClick={onClick}>\n                    { children || title }\n                </div>\n            </div>\n        )\n    }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleDescription>{description}</ModuleDescription>\n            </header>\n        )\n\n    }\n\n    const ModuleFooter = () => {\n        return (\n            <footer className={classes.footer}>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n\n        return (\n            <footer className={classes.footer}>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n    }\n\n    return (\n        <article className={classes.module} aria-selected={selected}>\n            <figure className={classes.media} role={onClick && \"button\"} aria-selected={selected} onClick={onClick}>\n                <ModuleImage elevation={1} selected={selected} layout=\"cover\" imageUrl={imageUrl || defaultImageUrl} className={classes.image} />\n            </figure>\n            <div className={classes.content}>\n                <ModuleHeader />\n                <ModuleFooter />\n            </div>\n            <ModuleToolbar className={classes.toolbar} {...props} />\n        </article>\n    )    \n\n}\n\n\nGalleryModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default GalleryModule;\n","import React, { useRef, useEffect, useState } from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        width: \"100%\",\n        overflowX: \"scroll\"\n\n    },\n    table: {\n        tableLayout: \"fixed\",\n        borderCollapse: \"collapse\",\n        borderSpacing: 0,\n        width: \"100%\",\n\n        \"& th\": {\n            width: \"50%\",\n            width: 320,\n//            position: \"sticky\"\n        },\n\n        \"& td\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n        },\n\n        \"& > thead > tr > th\": {\n            paddingLeft: theme.spacing(2),\n        },\n \n        \"& > tbody > tr\": {\n\n            \"& > *\": {\n                borderTop: \"1px solid\",\n                borderColor: theme.palette.divider,\n\n                \"&[aria-selected=true]\": {\n                    backgroundColor: theme.palette.action.selected,\n                }\n    \n            }\n\n        }\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        textTransform: \"capitalize\",\n\n        marginBottom: theme.spacing(1),\n    },\n    link: {\n        \"&:hover\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst TableView = ({cols = [], header, footer, children, sortable, sort, onSort}) => {\n    const classes = useStyles()\n\n    const _onSort = (name) => {\n        onSort && onSort(name)\n    }\n\n    const Label = ({name}) => {\n\n        let arrow\n\n        if (sort && sort === name) {\n            arrow = \"↓\"\n        } else if (sort && sort.startsWith(name)) {\n            arrow = \"↑\"\n        }\n\n        return (\n            <Typography noWrap className={classes.label}>{arrow} {name}</Typography>\n        )\n\n    }\n\n    return (\n        <div className={classes.container}>\n            <table className={classes.table}>\n                <thead className={classes.head}>\n                    <tr>\n                        { cols.map((name, index) => {\n\n                            const selected = sort && sort.startsWith(name)\n\n                            if (index === 0) {\n                                return <th aria-selected={selected} onClick={() => _onSort(name)}><Label name={name} key={index}/></th>\n                            }\n\n                            return <td aria-selected={selected} onClick={() => _onSort(name)}><Label name={name} key={index} /></td>\n\n                        })}\n                    </tr>\n                </thead>\n                <tbody className={classes.body}>\n                    {header}\n                    {children}\n                    {footer}\n                </tbody>\n            </table>\n        </div>\n    )\n\n}\n\nTableView.defaultProps = {\n    cols: [\n        \"artist\",\n        \"dating\",\n        \"materials\",\n        \"techniques\",\n        \"identifier\",\n    ]\n}\n\nexport default TableView;","import React, { useEffect, useState } from \"react\"\n\nimport { \n    ModuleSelect, \n    ModuleTitle,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleLabel,\n    ModuleToolbar\n } from \"../Module\"\n\nimport Badge from '@material-ui/core/Badge';\n\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    row: {\n        position: \"relative\",\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected\n        },\n        \"&:hover\": {\n            \"& $toolbar\": {\n                display: \"block\"\n            }\n        },\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n        \n    },\n    placeholder: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        width: \"100%\",\n        minHeight: 48,\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        lineHeight: 1.5\n    },\n    toolbar: {\n        position: \"absolute\",\n        right: 0,\n        display: \"none\"\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        width: \"100%\"\n    },\n    media: {\n        flexBasis: 36,\n        width: 36,\n        height: 36,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n        fontSize: 16,\n        flexGrow: 1,\n        padding: theme.spacing(1)\n    },\n    value: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        color: theme.palette.text.secondary,\n    },\n    tags: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        color: theme.palette.text.secondary,\n\n        \"& * + *\": {\n            \"&:before\": {\n                content: '\", \"'\n            }\n        }\n    },\n    count: {\n    }\n}));\n\nconst TableModule = ({cols = [], sort, placeholder, selectable, selected, onSelect, ...props}) => {\n    const classes = useStyles()\n\n    const { title, onClick } = props\n\n    const imageUrl = getImageUrl(props)\n\n    if (placeholder) {\n        return (\n            <tr className={classes.row} role={onClick && \"button\"} onClick={onClick}>\n                <td colspan={cols.length}><div className={classes.placeholder}>{title}</div></td>\n            </tr>\n        )\n    }\n\n    const ModuleValue = ({children}) => {\n        return (\n            <Typography className={classes.value} noWrap>{children}</Typography>\n        )\n    }\n\n    const ModuleTags = ({items = []}) => {\n\n        const count = items.length\n\n        return (\n            <Typography className={classes.tags} noWrap>\n                { items && items.map((value, index) => <span key={index}>{value}</span> )}\n            </Typography>\n        )\n        \n   }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleSelect selected={selected} onClick={onSelect} />\n\n                <div className={classes.media}>\n                    <img src={imageUrl} className={classes.image} />\n                </div>\n\n                <ModuleTitle className={classes.title}>{title}</ModuleTitle>\n                <ModuleToolbar className={classes.toolbar} {...props} />\n\n            </header>\n        )\n    }\n\n    const Column = ({name}) => {\n\n        const value = props[name]\n\n        if (name === \"title\") {\n            return <ModuleHeader>{value}</ModuleHeader>\n        }\n\n        if (name === \"identifier\") {\n            return <ModuleIdentifier>{value}</ModuleIdentifier>\n        }\n\n        if (Array.isArray(value) && value.length > 1) {\n            return <ModuleTags items={value} />\n        } else if (Array.isArray(value)) {\n            return <ModuleValue>{value[0]}</ModuleValue>\n        }\n\n        return <ModuleValue>{value}</ModuleValue>\n\n    }\n\n    return (\n        <tr className={classes.row} role={onClick && \"button\"} aria-selected={selected} onClick={onClick}>\n            { cols.map((name, index) => {\n\n                const selected = sort && sort.startsWith(name)\n\n                if (index === 0) {\n                    return <th aria-selected={selected}><Column name={name} key={index} /></th>\n                }\n\n                return <td aria-selected={selected}><Column name={name} key={index} /></td>\n\n            })}\n        </tr>\n    )\n\n\n}\n\nTableModule.defaultProps = {\n    cols: [\n        \"title\",\n        \"artist\",\n        \"dating\",\n        \"materials\",\n        \"techniques\",\n        \"identifier\",\n    ]\n}\n\n\nexport default TableModule;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useResizeDetector } from 'react-resize-detector';\nimport MasonryComponent from 'react-masonry-component';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        margin: props => { return props.spacing && theme.spacing(props.spacing * -0.5) },\n    },\n    masonry: {\n\n        \"& > *\": {\n            width: \"auto\",\n            maxWidth: props => { return props.maxWidth },\n            margin: props => { return props.spacing && theme.spacing(props.spacing * 0.5) },\n        }\n\n    },\n}));\n\nconst Masonry = ({colSize, cols = 3, spacing = 1, padding = 0, children, header, footer, debug = false}) => {\n\n    const { width, height, ref } = useResizeDetector()\n\n    if (colSize) {\n        cols = Math.floor(width / colSize)\n    }\n\n    const colWidth = (width / cols) - (spacing * 8)\n    const maxWidth = Math.floor(colWidth)\n\n    const classes = useStyles({padding, spacing, maxWidth});\n\n    // set items width + height for use in gallery\n\n    const imagesLoadedOptions = { background: '.my-bg-image-el' }\n\n    const masonryOptions = {\n        transitionDuration: 0\n    };\n\n\n    return (\n        <div className={classes.wrapper} ref={ref}>\n            <MasonryComponent\n                className={classes.masonry} // default ''\n    //            elementType={'ul'} // default 'div'\n                options={masonryOptions} // default {}\n                disableImagesLoaded={false} // default false\n                updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n                imagesLoadedOptions={imagesLoadedOptions} // default {}\n            >\n                {children}\n            </MasonryComponent>\n        </div>\n    );\n\n\n}\n\nMasonry.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default Masonry;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Masonry from \"./Masonry\"\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        display: \"block\",\n        padding: props => { return theme.spacing(props.paddingY,props.paddingX) }\n    },\n}));\n\nconst MasonryView = ({colSize, cols = 3, padding = 0, paddingX = 2, paddingY, spacing = 2, header, footer, children, debug = false}) => {\n\n    if (!paddingX) {\n        paddingX = padding\n    }\n\n    if (!paddingY) {\n        paddingY = padding\n    }\n\n    const classes = useStyles({padding, paddingX, paddingY, spacing})\n\n    return (\n        <div className={classes.view}>\n            {header}\n            <Masonry colSize={colSize} cols={cols} spacing={spacing}>\n                {children}\n            </Masonry>\n            {footer}\n        </div>        \n    )\n\n}\n\nMasonryView.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default MasonryView;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleTitle,\n    ModuleImage,\n    ModuleLabel,\n    ModuleIdentifier,\n    ModuleDescription,\n    ModuleSelect,\n    ModuleToolbar\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        maxWidth: props => { return props.maxWidth },\n        userSelect: \"none\",\n        marginBottom: 8,\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .5\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n            \"& $media\": {\n                opacity: .5 \n            },\n            \"& button\": {\n                opacity: 1\n            }\n        },        \n\n        \"&[data-erased=true]\": {\n            \"& $media\": {\n                opacity: .25 \n            }\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            },\n\n        }\n\n    },\n    placeholder: {\n        display: \"block\",\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n        height: theme.spacing(7),\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        \n    },\n    media: {\n        display: \"block\",\n        backgroundColor: theme.palette.action.selected,\n        position: \"relative\",\n        width: \"100%\",\n        height: \"auto\",\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n        display: \"block\",\n        width: \"100%\",\n        height: \"auto\"\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n            color: \"white\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }     \n        \n    },\n    content: {\n        position: \"relative\",\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n\n        \"& + $footer\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n            paddingTop: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n        \"& > * + *\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n\n}));\n\nconst MasonryModule = ({\n    placeholder,\n    children,\n    onClick,\n\n    width = \"100%\", \n    maxWidth, \n    mediaStyle, \n    mediaLayout = \"cover\", \n\n    title,\n    description,\n    label,\n    identifier,\n\n    ...props\n    \n}) => {\n\n    const { selected } = props\n\n    const classes = useStyles({\n        width: width,\n        maxWidth: maxWidth,\n    })\n\n    const imageUrl = getImageUrl(props)\n    const defaultImageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n\n    if (placeholder) {\n        return (\n            <div className={classes.module}>\n                <div className={classes.placeholder} role={onClick && \"button\"} onClick={onClick}>\n                    { children || title }\n                </div>\n            </div>\n        )\n    }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleDescription>{description}</ModuleDescription>\n            </header>\n        )\n\n    }\n\n    const ModuleFooter = () => {\n        return (\n            <footer className={classes.footer}>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n\n        return (\n            <footer className={classes.footer}>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n    }\n\n    return (\n        <article className={classes.module} aria-selected={selected}>\n            <figure className={classes.media} role={onClick && \"button\"} aria-selected={selected} onClick={onClick}>\n                <img src={imageUrl || defaultImageUrl} className={classes.image} />\n                <ModuleToolbar className={classes.toolbar} {...props} />\n            </figure>\n            <div className={classes.content}>\n                <ModuleHeader />\n                <ModuleFooter />\n            </div>\n        </article>\n    )    \n\n}\n\n\nMasonryModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default MasonryModule;\n","import React, { useRef, useState, useMemo, useLayoutEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n        width: \"100%\",\n        height: \"100%\",\n\n        \"& > header\": {\n            position: \"sticky\",\n            zIndex: 2,\n            top: 0\n        }\n\n    }\n\n}));\n\nconst ViewBase = ({children}) => {\n\n    const viewRef = useRef(null)\n\n    const [scrollTop, setScrollTop] = useState(45)\n \n    const _onScroll = (event) => {\n//        setScrollTop(viewRef.current.scrollTop)\n    }\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view} ref={viewRef} onScroll={_onScroll}>\n            {children}\n        </div>\n\n    )\n\n}\n\nexport default ViewBase;","import React, { useRef, useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { NavPath } from \"../NavPath\"\nimport { NavView, ViewOptions, RowsOptions, SortOptions, SizeOptions } from \"../NavView\"\nimport { NavAction } from \"../NavAction\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        minHeight: 96,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: theme.spacing(2),\n        boxSizing: \"border-box\"\n    },\n    title: {\n\n    },\n    nav: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n\n    }\n\n}));\n\nconst ViewHeader = ({\n    parents = [],\n    title,\n    description,\n\n    viewAction,\n\n    view,\n    viewOptions,\n    onView,\n\n    rows,\n    rowsOptions,\n    onRows,\n\n    sort,\n    sortOptions,\n    onSort,\n\n    size,\n    sizeOptions,\n    onSize,\n\n    options,\n    onSelect,\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            <NavPath parents={parents} title={title} description={description} onSelect={onSelect} />\n\n            <div className={classes.nav}>\n\n                { options && <NavView className={classes.toolbar} options={options} onChange={onSelect} /> }\n\n                { sortOptions && <SortOptions options={sortOptions} value={sort} onChange={onSort} /> }\n                { rowsOptions && <RowsOptions options={rowsOptions} value={rows} onChange={onRows} /> }\n                { sizeOptions && <SizeOptions options={sizeOptions} value={size} onChange={onSize} /> }\n                { viewOptions && <ViewOptions options={viewOptions} value={view} onChange={onView} /> }\n\n                { viewAction && <NavAction menu={[viewAction]} /> }\n\n            </div>\n\n        </header>\n    )\n\n}\n\nexport default ViewHeader;","import React from \"react\"\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    loading: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& + *\": {\n            opacity: .75\n        }\n\n    }\n}));\n\nconst ViewLoader = ({isLoading = true, children}) => {\n\n    const classes = useStyles()\n\n    if (isLoading) {\n        return (\n            <>\n                <div className={classes.loading}>\n                    <CircularProgress />\n                </div>\n                {children}\n            </>\n        )\n    }\n\n    return children\n\n}\n\nexport default ViewLoader;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst useStyles = makeStyles(theme => ({\n    pages: {\n        paddingTop: theme.spacing(1)\n    }\n}));\n\nconst ViewPages = ({className, pages = 0, page, onPage}) => {\n    const classes = useStyles()\n\n    if (pages < 2) {\n        return false\n    }\n\n    const _onChange = (event, value) => {\n        onPage && onPage(value, event)\n    };\n  \n    return (\n        <div className={className || classes.pages}>\n            <Pagination count={pages} page={page} onChange={_onChange} />\n        </div>\n    );\n\n    \n}\n\nViewPages.defaultProps = {\n}\n\nViewPages.propTypes = {\n    className: PropTypes.string,\n    pages: PropTypes.number,\n    page: PropTypes.number,\n    onPage: PropTypes.func\n}\n\nexport default ViewPages","import React, { useRef, useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        display: \"block\",\n        padding: props => { return theme.spacing(props.paddingY,props.paddingX) },\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n\n    },\n}));\n\nconst ListView = ({padding = 0, paddingX, paddingY, header, footer, children}) => {\n\n    if (!paddingX) {\n        paddingX = padding\n    }\n\n    if (!paddingY) {\n        paddingY = padding\n    }\n\n    const classes = useStyles({padding, paddingX, paddingY})\n\n    return (\n        <div className={classes.list}>\n            {header}\n            {children}\n            {footer}\n        </div>\n    )\n\n}\n\nexport default ListView;","import React from \"react\"\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    icon: {\n        fontSize: 48,\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n    },\n    \n}));\n\nconst LoadingView = () => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view}>\n            <Icon className={classes.icon}>\n                <SearchIcon />\n            </Icon>\n            <Typography>Sorry, we couldn't find any hits.</Typography>\n        </div>\n    )\n\n}\n\nexport default LoadingView;","import qs from 'query-string';\n\nexport const getImageUrl = ({imageUrl, uploadProgress = 0}) => {\n\n    if (!imageUrl) {\n        return false\n    }\n\n    const { url, query } = qs.parseUrl(imageUrl)\n    return qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport icons from \"../KpIcons\"\nimport { getImageUrl } from \"./utils\"\n\n\nimport {\n    ModuleSelect,\n    ModuleBase,\n    ModuleTitle,\n    ModuleImage,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleToolbar,\n    ModuleSettings,\n    ModuleStatus,\n    ModuleByline\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"& button\": {\n            opacity: 0.5,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n            \"& button\": {\n                opacity: .5,\n            },\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: \"white\",\n\n            \"& button[value=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& button[value=restore]\": {\n                opacity: .5,\n\n                \"&:hover\": {\n                    opacity: 1,\n                },\n    \n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& [data-name=title]\": {\n                color: theme.palette.text.disabled,\n                textDecoration: \"line-through\"\n            }\n\n        },\n\n        \"&[data-erased=true]\": {\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& [data-name=title]\": {\n                color: theme.palette.text.disabled,\n                textDecoration: \"line-through\"\n            }\n\n        }\n\n\n    },\n\n    media: {\n        width: 48,\n        height: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 24,\n        color: theme.palette.text.secondary,\n\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    image: {\n        position: \"relative\",\n        display: \"block\",\n        width: 48,\n        height: 48,\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst ListModule = ({\n    placeholder = false,\n    children,\n\n    uniqueId,\n\n    untitled,\n    title,\n    description,\n    label,\n    identifier,\n\n    onClick,\n\n    startAdornment,\n\n    selectable,\n    selected,\n    onSelect,\n\n    ...props\n}) => {\n\n    const { author, datetime, documentType, documentLabel, mediaType, mediaLabel, metadata, onEdit, status, statusLabel, deleted, erased } = props\n\n    const icon = props.icon || props.documentType && icons[props.documentType]\n\n    const classes = useStyles()\n\n\n    const imageUrl = getImageUrl(props)\n\n    if (placeholder) {\n        return (\n            <div className={classes.item} onClick={onClick}>\n                { children || title }\n            </div>\n        )\n    }\n\n    return (\n        <ModuleBase className={classes.module} status={status} selected={selected} deleted={deleted} erased={erased} onClick={onClick}>\n\n            { startAdornment || selectable &&\n                <ModuleSelect \n                    selected={selected}\n                    onClick={onClick ? undefined : onSelect}\n                />\n            }\n\n            <div className={classes.media}>\n                { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { imageUrl && <ModuleImage className={classes.image} imageUrl={imageUrl} width={48} height={48} /> }\n            </div>\n\n\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && onEdit} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel || status} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={documentLabel || documentType || mediaLabel || mediaType} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n            <ModuleSettings {...props} className={classes.settings} />\n            <ModuleToolbar {...props} className={classes.toolbar} />\n        </ModuleBase>\n    )    \n\n}\n\nListModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useResizeDetector } from 'react-resize-detector';\nimport MasonryComponent from 'react-masonry-component';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        margin: props => { return props.spacing && theme.spacing(props.spacing * -0.5) },\n    },\n    masonry: {\n\n        \"& > *\": {\n            width: \"auto\",\n            maxWidth: props => { return props.maxWidth || \"auto\" },\n            margin: props => { return props.spacing && theme.spacing(props.spacing * 0.5) },\n        }\n\n    },\n}));\n\nconst Masonry = ({colSize, cols = 3, spacing = 1, padding = 0, children, header, footer, debug = false}) => {\n\n    const { width, height, ref } = useResizeDetector()\n\n    if (colSize && width) {\n        cols = Math.floor(width / colSize)\n    }\n\n    const colWidth = (width / cols) - (spacing * 8)\n    const maxWidth = colWidth && Math.floor(colWidth)\n\n    const classes = useStyles({padding, spacing, maxWidth});\n\n    // set items width + height for use in gallery\n\n    const imagesLoadedOptions = { background: '.my-bg-image-el' }\n\n    const masonryOptions = {\n        transitionDuration: 0\n    };\n\n    return (\n        <div className={classes.wrapper} ref={ref}>\n            <MasonryComponent\n                className={classes.masonry} // default ''\n    //            elementType={'ul'} // default 'div'\n                options={masonryOptions} // default {}\n                disableImagesLoaded={false} // default false\n                updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n                imagesLoadedOptions={imagesLoadedOptions} // default {}\n            >\n                {children}\n            </MasonryComponent>\n        </div>\n    );\n\n\n}\n\nMasonry.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default Masonry;","import React, { useEffect, useState } from \"react\"\n\nimport { \n    ModuleSelect, \n    ModuleTitle,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleLabel\n } from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        minWidth: props => { return props.width },\n        maxWidth: \"100%\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"&[aria-selected=true]\": {\n\n            \"& $media\": {\n                backgroundColor: \"#ff0\",\n            },\n\n            \"& $image\": {\n                maxWidth: \"90%\",\n                maxHeight: \"90%\",\n                boxShadow: theme.shadows[2]\n            }\n    \n        },\n\n        position: \"relative\"\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n    },\n    media: {\n        backgroundColor: \"grey\",\n        width: \"100%\",\n        height: props => { return props.height },\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: 0,\n\n\n\n\n    },\n    header: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        maxWidth: \"100%\",\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 16,\n    },\n    artist: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n\n    },\n}));\n\nconst GridModule = ({width = 160, height = 160, selected, identifier, label, imageUrl, title, artist, onClick}) => {\n\n    const classes = useStyles({width, height})\n\n    return (\n        <div className={classes.item} aria-selected={selected} onClick={onClick}>\n\n            <div className={classes.media}>\n                <img src={imageUrl} className={classes.image} />\n            </div>\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleDescription>{artist}</ModuleDescription>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </header>\n            <div className={classes.toolbar}>\n                <ModuleSelect selected={selected} />\n            </div>\n        </div>\n    )\n\n\n}\n\nexport default GridModule;","import React, { useRef, useEffect, useState } from \"react\"\nimport GridModule from \"./GridModule\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    grid: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        flexWrap: \"wrap\",\n\n        \"& > *\": {\n            width: 160,\n            flexBasis: 160,\n            flexShrink: 0,\n            flexGrow: 0,\n            margin: theme.spacing(1)\n        }\n\n\n    },\n}));\n\nconst GridView = ({items = [], maxWidth = 160, maxHeight = 160}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.grid}>\n\n            {items && items.map((item, index) => {\n\n                item = {\n                    ...item,\n                    width: maxWidth,\n                    maxHeight: maxHeight,\n                //                    mediaLayout: mediaLayout\n                }\n\n                return (\n                    <GridModule {...item} key={index} />\n                )\n \n             })}\n        </div>\n    )\n\n}\n\nexport default GridView;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useResizeDetector } from 'react-resize-detector';\nimport { getGallery } from \"./utils/getGallery\"\n\nconst useStyles = makeStyles(theme => ({\n    gallery: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        margin: props => { return props.spacing && theme.spacing(props.spacing * -0.5) },\n\n        \"& > *\": {\n            margin: props => { return props.spacing && theme.spacing(props.spacing * 0.5) },\n        }\n\n    },\n}));\n\nconst Gallery = ({mediaSize = 200, spacing = 1, padding = 0, children, debug = false}) => {\n\n    const { width, height, ref } = useResizeDetector()\n\n\n    const maxMediaHeight = mediaSize\n    const maxWidth = width - (spacing * 8)\n    const gap = spacing * 8\n\n    const classes = useStyles({padding, spacing});\n\n    // set items width + height for use in gallery\n\n    let items = children && React.Children.toArray(children).map((child, index) => {\n\n        const mediaWidth = child.props.mediaWidth * 1 || 1\n        const mediaHeight = child.props.mediaHeight * 1 || 1\n\n        const width = Math.floor(maxMediaHeight * (mediaWidth / mediaHeight)) + gap\n        const height = maxMediaHeight\n\n        return {\n            mediaWidth: mediaWidth,\n            mediaHeight: mediaHeight,\n            width: width,\n            height: height\n        }\n    })\n\n\n    // get gallery items based on width + height\n\n    const gallery = items && getGallery({items, maxWidth, gap})\n    const galleryChildren = React.Children.toArray(children)\n\n    return (\n        <div ref={ref} className={classes.gallery} data-layout=\"gallery\">\n            {gallery && gallery.map((item, index) => {\n\n                const { width, height, maxWidth } = item;\n\n                const child = galleryChildren[index]\n\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, {\n                        maxWidth: maxWidth,\n                        mediaWidth: width,\n                        mediaHeight: height,\n                    })\n                }\n\n            })}\n        </div>        \n    )\n\n}\n\nGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default Gallery;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Gallery from \"./Gallery\"\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        display: \"block\",\n        padding: theme.spacing(0,2),\n    },\n}));\n\nconst GalleryView = ({mediaSize = 200, spacing = 2, header, footer, children, debug = false}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view}>\n            <Gallery padding={2} spacing={spacing} mediaSize={mediaSize}>\n                {header}\n                {children}\n                {footer}\n            </Gallery>\n        </div>        \n    )\n\n}\n\nGalleryView.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default GalleryView;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleTitle,\n    ModuleImage,\n    ModuleLabel,\n    ModuleIdentifier,\n    ModuleDescription,\n    ModuleSelect,\n    ModuleToolbar\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        maxWidth: props => { return props.maxWidth },\n        userSelect: \"none\",\n        marginBottom: 8,\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .5\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n            \"& $media\": {\n                opacity: .5 \n            },\n            \"& button\": {\n                opacity: 1\n            }\n        },        \n\n        \"&[data-erased=true]\": {\n            \"& $media\": {\n                opacity: .25 \n            }\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            },\n\n        }\n\n    },\n    placeholder: {\n        display: \"block\",\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        \n    },\n    media: {\n        display: \"block\",\n        backgroundColor: theme.palette.action.selected,\n        position: \"relative\",\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        width: \"100%\",\n        height: props => { return props.mediaHeight },\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n            color: \"white\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }     \n        \n    },\n    content: {\n        position: \"relative\",\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n\n        \"& + $footer\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n            paddingTop: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n        \"& > * + *\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n\n}));\n\nconst GalleryModule = ({\n    placeholder,\n    children,\n    onClick,\n\n    width = \"100%\", \n    maxWidth = 180, \n    mediaWidth = 180,\n    mediaHeight = 180,\n    mediaStyle, \n    mediaLayout = \"cover\", \n\n//    selectable,\n//    selected,\n//    onSelect,\n\n    title,\n    description,\n    label,\n    identifier,\n//    imageUrl,\n\n    ...props\n    \n}) => {\n\n    const { selected } = props\n\n    const classes = useStyles({\n        width: width,\n        maxWidth: maxWidth,\n        mediaWidth: mediaWidth,\n        mediaHeight: mediaHeight,\n    })\n\n    const imageUrl = getImageUrl(props)\n    const defaultImageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n\n    if (placeholder) {\n        return (\n            <div className={classes.module}>\n                <div className={classes.placeholder} role={onClick && \"button\"} onClick={onClick}>\n                    { children || title }\n                </div>\n            </div>\n        )\n    }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleDescription>{description}</ModuleDescription>\n            </header>\n        )\n\n    }\n\n    const ModuleFooter = () => {\n        return (\n            <footer className={classes.footer}>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n\n        return (\n            <footer className={classes.footer}>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n    }\n\n    return (\n        <article className={classes.module} aria-selected={selected}>\n            <figure className={classes.media} role={onClick && \"button\"} aria-selected={selected} onClick={onClick}>\n                <ModuleImage elevation={1} selected={selected} layout=\"cover\" imageUrl={imageUrl || defaultImageUrl} className={classes.image} />\n            </figure>\n            <div className={classes.content}>\n                <ModuleHeader />\n                <ModuleFooter />\n            </div>\n            <ModuleToolbar className={classes.toolbar} {...props} />\n        </article>\n    )    \n\n}\n\n\nGalleryModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default GalleryModule;\n","import React, { useEffect, useState } from \"react\"\n\nimport { \n    ModuleSelect, \n    ModuleTitle,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleLabel\n } from \"../Module\"\n\nimport ListModule from \"./ListModule\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    row: {\n        \"&[aria-selected=true]\": {\n            backgroundColor: \"#ff0\"\n        }\n    },\n    media: {\n        width: 48,\n        height: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    },\n    header: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    rows: {\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    cols: {\n        display: \"flex\",\n        flexDirection: \"row\",\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 16,\n\n    },\n    artist: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n\n    },\n    toolbar: {\n        flexGrow: 0\n    },\n    tags: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 12,\n    },\n    tag: {\n\n        \"& + $tag\": {\n            \"&:before\": {\n                content: '\", \"'\n            }\n        }\n\n    }\n}));\n\nconst TableModule = ({selected, label, imageUrl, title, identifier, materials, techniques, producer = {}, dating = {}, onClick}) => {\n\n    const classes = useStyles()\n\n    const ModuleTags = ({items}) => {\n\n        if (!items) {\n            return false\n        }\n\n        return (\n            <div className={classes.tags}>\n                { items.map(({value}, index) => <span className={classes.tag} key={index}>{value}</span> )}\n            </div>\n        )\n        \n\n    }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleSelect selected={selected} />\n                <div className={classes.media}>\n                    <img src={imageUrl} className={classes.image} />\n                </div>\n\n                <div className={classes.rows}>\n                <ModuleTitle>{title}</ModuleTitle>\n\n                    <div className={classes.cols}>\n                        <ModuleLabel>{label}</ModuleLabel>\n                        <ModuleDescription>{ producer.name }</ModuleDescription>\n                        <ModuleDescription>{ dating.value }</ModuleDescription>\n                    </div>\n\n                </div>\n\n\n\n            </header>\n        )\n    }\n\n    return (\n        <tr className={classes.row} aria-selected={selected} onClick={onClick}>\n\n            <th>\n                <ModuleHeader />\n            </th>\n\n            <td>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </td>\n\n            <td>\n                <ModuleDescription>{ producer.name }</ModuleDescription>\n            </td>\n\n            <td>\n                <ModuleDescription>{ dating.value }</ModuleDescription>\n            </td>\n\n            <td>\n                <ModuleTags items={materials} />\n            </td>\n\n            <td>\n                <ModuleTags items={techniques} />\n            </td>\n\n        </tr>\n    )\n\n\n}\n\nexport default TableModule;","import React, { useRef, useEffect, useState } from \"react\"\nimport TableModule from \"./TableModule\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        width: \"100%\",\n        overflowX: \"scroll\"\n\n    },\n    table: {\n        width: \"100%\",\n        borderCollapse: \"collapse\",\n        borderSpacing: 0,\n\n        \"& th\": {\n            zIndex: 1,\n            left: 0,\n            width: \"25%\",\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"& td\": {\n            borderTop: \"1px solid\",\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"& th, & td\": {\n        },\n\n        \"& > tr + tr\": {\n\n            \"& > *\": {\n                borderTop: \"1px solid\",\n                borderColor: theme.palette.divider\n            }\n\n        }\n\n\n    },\n}));\n\nconst TableView = ({items = [], itemsById = {}, onSelect}) => {\n\n    const classes = useStyles()\n\n    const _onSelect = (item) => {\n        onSelect && onSelect(item)\n    }\n\n    const cols = [\n        \"header\",\n        \"identifier\",\n        \"producer\",\n        \"dating\",\n        \"materials\",\n        \"technique\",\n    ]\n \n    return (\n        <div className={classes.wrapper}>\n\n            <table className={classes.table}>\n\n                <thead className={classes.head}>\n\n                    <tr>\n                        { cols.map((col, index) => <th>{col}</th>)}\n                    </tr>\n\n                </thead>\n\n                <tbody className={classes.body}>\n\n                    {items && items.map((item, index) => {\n\n                        return (\n                            <TableModule {...item} key={index} onClick={() => _onSelect(item)}/>\n                        )\n        \n                    })}\n\n                </tbody>\n\n            </table>\n        </div>\n    )\n\n}\n\nexport default TableView;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Masonry from \"./Masonry\"\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        display: \"block\",\n        padding: props => { return theme.spacing(props.paddingY,props.paddingX) }\n    },\n}));\n\nconst MasonryView = ({colSize, cols = 3, padding = 0, paddingX = 2, paddingY, spacing = 2, header, footer, children, debug = false}) => {\n\n    if (!paddingX) {\n        paddingX = padding\n    }\n\n    if (!paddingY) {\n        paddingY = padding\n    }\n\n    const classes = useStyles({padding, paddingX, paddingY, spacing})\n\n    return (\n        <div className={classes.view}>\n            {header}\n            <Masonry colSize={colSize} cols={cols} spacing={spacing}>\n                {children}\n            </Masonry>\n            {footer}\n        </div>        \n    )\n\n}\n\nMasonryView.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default MasonryView;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleTitle,\n    ModuleImage,\n    ModuleLabel,\n    ModuleIdentifier,\n    ModuleDescription,\n    ModuleSelect,\n    ModuleToolbar\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        maxWidth: props => { return props.maxWidth },\n        userSelect: \"none\",\n        marginBottom: 8,\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .5\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n            \"& $media\": {\n                opacity: .5 \n            },\n            \"& button\": {\n                opacity: 1\n            }\n        },        \n\n        \"&[data-erased=true]\": {\n            \"& $media\": {\n                opacity: .25 \n            }\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            },\n\n        }\n\n    },\n    placeholder: {\n        display: \"block\",\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n        height: theme.spacing(7),\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        \n    },\n    media: {\n        display: \"block\",\n        backgroundColor: theme.palette.action.selected,\n        position: \"relative\",\n        width: \"100%\",\n        height: \"auto\",\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n        display: \"block\",\n        width: \"100%\",\n        height: \"auto\"\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n            color: \"white\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }     \n        \n    },\n    content: {\n        position: \"relative\",\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n\n        \"& + $footer\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n            paddingTop: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n        \"& > * + *\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n\n}));\n\nconst MasonryModule = ({\n    placeholder,\n    children,\n    onClick,\n\n    width = \"100%\", \n    maxWidth, \n    mediaStyle, \n    mediaLayout = \"cover\", \n\n    title,\n    description,\n    label,\n    identifier,\n\n    ...props\n    \n}) => {\n\n    const { selected } = props\n\n    const classes = useStyles({\n        width: width,\n        maxWidth: maxWidth,\n    })\n\n    const imageUrl = getImageUrl(props)\n    const defaultImageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n\n    if (placeholder) {\n        return (\n            <div className={classes.module}>\n                <div className={classes.placeholder} role={onClick && \"button\"} onClick={onClick}>\n                    { children || title }\n                </div>\n            </div>\n        )\n    }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleDescription>{description}</ModuleDescription>\n            </header>\n        )\n\n    }\n\n    const ModuleFooter = () => {\n        return (\n            <footer className={classes.footer}>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n\n        return (\n            <footer className={classes.footer}>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </footer>\n        )\n    }\n\n    return (\n        <article className={classes.module} aria-selected={selected}>\n            <figure className={classes.media} role={onClick && \"button\"} aria-selected={selected} onClick={onClick}>\n                <img src={imageUrl || defaultImageUrl} className={classes.image} />\n                <ModuleToolbar className={classes.toolbar} {...props} />\n            </figure>\n            <div className={classes.content}>\n                <ModuleHeader />\n                <ModuleFooter />\n            </div>\n        </article>\n    )    \n\n}\n\n\nMasonryModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default MasonryModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    grid: {\n       display: 'grid',\n       gridTemplateColumns: 'repeat(auto-fit, minmax(192px, max-content))',\n       gridGap: 0,\n       padding: 'initial',\n       justifyContent: 'center',\n    },\n\n}));\n\n/** IconsView */\n\nconst IconsView = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.grid}>\n            { children }\n        </div>\n    )    \n\n}\n\n\nIconsView.defaultProps = {\n}\n\nIconsView.propTypes = {\n    title: PropTypes.string,\n    description: PropTypes.string,\n    items: PropTypes.array,\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node\n    ])\n}\n\nexport default IconsView;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from \"@material-ui/core/Paper\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport {\n    ModuleBase,\n    ModuleTitle,\n    ModuleImage,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline,\n    ModuleSelect,\n    ModuleToolbar,\n    ModuleSettings\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: 192,\n        minWidth: 192,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        margin: theme.spacing(1),\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            }\n\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"&:hover\": {\n\n                \"& $image, & $icon\": {\n                    opacity: 1\n                },\n    \n            },\n\n            \"& $figure\": {\n                boxShadow: \"none\",\n                outline: \"1px solid\",\n                outlineColor: theme.palette.action.selected\n            },\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& button[name=restore]\": {\n                opacity: .5,\n\n                \"&:hover\": {\n                    opacity: 1,\n                },\n\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& [data-name=title]\": {\n                color: theme.palette.text.disabled,\n                textDecoration: \"line-through\"\n            }\n\n\n        },\n\n        \"&[data-erased=true]\": {\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& [data-name=title]\": {\n                color: theme.palette.text.disabled,\n                textDecoration: \"line-through\"\n            }\n\n        }\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },    \n    figure: {\n        position: \"relative\",\n        minWidth: 96,\n        width: 96,\n        minHeight: 96 * 4/3,\n        padding: 8,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            margin: theme.spacing(-1)\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.selected\n        }\n\n    },\n    icon: {\n        fontSize: 96,\n\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    image: {\n        display: \"block\",\n        width: 96,\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n\n        \"& > *\": {\n            maxWidth: \"100%\",\n            overflow: \"hidden\"\n        }\n\n    },\n    status: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"baseline\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n\n}));\n\n/** IconModule for listing documents */\n\nconst IconModule = (props) => {\n\n    const {\n        status,\n        statusLabel,\n    \n        documentType,\n        documentLabel,\n    \n        selectable,\n        selected,\n        onSelect,\n    \n        editable,\n        onEdit,\n    \n        viewable,\n        onView,\n    \n        linkable,\n        onLink,\n    \n        deletable,\n        deleted,\n        onDelete,\n    \n        restorable,\n        onRestore,\n    \n        erasable,\n        erased,\n        onErase,\n    \n        icon,\n        imageUrl,\n        untitled,\n    \n        title,\n        description,\n        metadata,\n        author,\n        datetime,\n    \n        onClick,\n    } = props\n\n    const classes = useStyles()\n\n    return (\n        <ModuleBase className={classes.module} status={status} selected={selected} deleted={deleted} erased={erased} onClick={selected && onSelect}>\n\n            <Paper className={classes.figure} square={true}>\n                { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { imageUrl && <ModuleImage className={classes.image} imageUrl={imageUrl} /> }\n                { selected && <ModuleToolbar selectable={selectable} selected={selected} className={classes.toolbar} /> || <ModuleToolbar className={classes.toolbar} {...props} /> }\n            </Paper>\n\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle untitled={untitled} title={title} onClick={!selected && onEdit} />\n                    <div className={classes.status}>\n                        <ModuleLabel label={documentLabel || documentType} />\n                        <ModuleStatus statusLabel={statusLabel} status={statusLabel || status} />\n                    </div>\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleByline author={author} datetime={datetime} />\n                </footer>\n            </div>\n            <ModuleSettings {...props} className={classes.settings} />\n        </ModuleBase>\n    )    \n\n}\n\nIconModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nIconModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default IconModule;\n","export default {\n    \"type\": \"string\",\n    \"format\": \"size\",\n    \"enum\": [\n      \"small\",\n      \"medium\",\n      \"large\",\n      \"xl\"\n    ],\n    \"enumNames\": [\n      \"Small\",\n      \"Medium\",\n      \"Large\",\n      \"XL\"\n    ],\n    \"default\" : \"small\"\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"1:1\",\n        \"2:1\",\n        \"4:3\"\n    ],\n    \"default\" : \"1:1\"\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\n//import PreviewTemplate from \"@frontend-components/admin/lib/components/AppKp/preview/Article\"\n\nexport default {\n    id: 1,\n    schemaType: \"documents\",\n    name: 'article',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import section from './section/schema'\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"article\"\n        },\n        \"collectionId\": {\n            \"type\": \"number\",\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"location\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"lat\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        },\n                        \"lng\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        },\n                        \"zoom\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        }\n                    }\n                },\n                \"keywords\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [],\n                    },\n                    \"uniqueItems\": true\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\",\n                    \"properties\": {\n                        \"content\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"headline\": {\n                                    \"type\": \"localizedString\"\n                                },\n                                \"caption\": {\n                                    \"type\": \"localizedString\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"author\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"type\": \"string\"\n                        },\n                        \"description\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"sections\" : {\n                    \"type\": \"array\",\n                    \"items\": section\n                },\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"topic\",\n                        \"referenceType\": \"articleIsPartOf\",\n                        \"_reverseReferenceType\": \"topicHasArticles\",\n                        \"_reverseReference\": \"hasArticles[]\"\n                    }\n                }\n            }\n        }\n    }\n}","import sectionType from './sectionType';\nimport sectionText from './sectionText';\nimport sectionMedia from './sectionMedia';\nimport sectionDm from './sectionDm';\nimport sectionLinks from './sectionLinks';\nimport sectionAttachments from './sectionAttachments';\nimport sectionQuote from './sectionQuote';\n  \nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": sectionType,\n        \"title\": {\n            \"type\" : \"localizedString\"\n        },\n        \"titleHidden\": {\n            \"type\" : \"boolean\"\n        }\n    },\n    \"dependencies\": {\n        \"sectionType\" : {\n            \"oneOf\": [\n                sectionText,\n                sectionMedia,\n                sectionDm,\n                sectionLinks,\n                sectionAttachments,\n                sectionQuote,\n            ]\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"text\",\n        \"media\",\n        \"dm\",\n        \"links\",\n        \"attachments\",\n        \"quote\"\n    ],\n    \"enumNames\": [\n        \"Tekst\",\n        \"Media\",\n        \"DM\",\n        \"Lenker\",\n        \"Vedlegg\",\n        \"Sitat\"\n    ],\n    \"default\" : \"text\"\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"text\"]\n        },\n        \"leadtext\": {\n            \"type\": \"localizedString\"\n        },\n        \"bodytext\": {\n            \"type\": \"localizedString\"\n        }\n    }\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"media\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"list\",\n                \"grid\",\n                \"slideshow\",\n            ],\n            \"enumNames\": [\n                \"Liste\",\n                \"Grid\",\n                \"Slideshow\",\n            ],\n            \"default\" : \"grid\"\n          },\n        \"media\": media\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","import ekultur from \"./ekultur\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"dm\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"grid\",\n              \"grid-wide\",\n              \"slideshow\",\n              \"slideshow-wide\"\n            ],\n            \"enumNames\": [\n              \"Grid\",\n              \"Grid Wide\",\n              \"Slideshow\",\n              \"Slideshow Wide\"\n            ],\n            \"default\" : \"grid\"\n          },\n        \"references\": ekultur\n    }\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"reference\",\n        \"referenceType\": \"ekultur\"\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"links\"]\n        },\n        \"links\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"url\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}","import attachments from \"./attachments\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"attachments\"]\n        },\n        \"attachments\": attachments\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"quote\"]\n        },\n        \"quote\": {\n            \"type\": \"localizedString\"\n        },\n        \"cite\": {\n            \"type\": \"string\"\n        }\n    }\n}","import header from \"./header/uiSchema\";\nimport body from \"./body/uiSchema\";\nimport isPartOf from \"./isPartOf/uiSchema\";\nimport settings from \"./settings/uiSchema\";\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\",\n            \"isPartOf\"\n        ],\n        \"header\": header,\n        \"body\": body,\n        \"isPartOf\": isPartOf\n    }\n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n        \"geocoder\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"documentType\",\n            \"collectionId\",\n            \"locale\",\n            \"content\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"documentType\": {\n        },\n        \"collectionId\": {\n//            \"ui:field\": \"documentCollectionId\",\n            \"ui:query\": {\n                \"collectionType\": \"kp\"\n            }\n        },\n        \"locale\": {\n//            \"ui:field\": \"documentLocale\"\n        },\n        \"content\": {\n            \"ui:fieldset\": [\n                \"keywords\",\n                \"license\",\n                \"location\"\n            ],\n            \"keywords\": {\n                \"ui:widget\": \"tags\",\n                \"ui:title\": \"Nøkkelord\",\n                \"ui:help\": \"Beskrivende stikkord.\",\n            },\n            \"license\": {\n//                \"ui:widget\": \"selectLicense\",\n                \"ui:title\": \"Lisens\",\n                \"ui:help\": \"Velg en lisens for dette innholdet.\",\n            },\n            \"location\": {\n                \"ui:options\": {\n                    \"grid\": true,\n                    \"spacing\": 2,\n                },\n                \"ui:fieldset\": [\n                    \"map\",\n                    \"info\"\n                ],\n                \"map\": {\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                    \"ui:options\": {\n                        \"minWidth\": 200,\n                        \"minHeight\": 200\n                    },\n                    \"ui:field\": \"kpGeopoint\",\n                    \"ui:layout\": \"kpGeopoint\",\n                    \"ui:overlay\": {\n                        \"template\": \"kpGeocoder\"\n                    }\n                },\n                \"info\": {\n                    \"ui:options\": {\n                        \"spacing\": 2,\n                    },\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                }\n            }\n        }\n    },\n    \"geocoder\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Lokasjon\",\n        \"ui:icon\": \"near_me\",\n        \"ui:options\": {\n            \"position\": \"absolute\",\n            \"padding\": 2,\n            \"grid\": false\n        },\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"location\"\n            ],\n            \"location\": {\n                \"ui:field\": \"kpGeopoint\",\n                \"ui:layout\": \"kpGeocoder\",\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\",\n    ],\n    \"ui:layout\": \"section\",\n    \"ui:options\" : {\n        \"collapsible\": true,\n        \"expanded\": true,\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Header\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.title && formData.title[localeId]  \n    \n            return {\n                description: description\n            }\n    \n        }\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:field\": \"media\",\n//        \"ui:minHeight\": 240,\n        \"ui:options\": {\n            \"editable\": true,\n            \"hotspot\": true\n        },\n        \"ui:buttons\": [\n            {\n                \"title\": \"Finn hovedbilde\",\n                \"icon\": \"search\",\n                \"type\": \"sidebar\"\n            },\n        ],\n        \"ui:fieldset\": [\n            \"media\",\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"author\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"author\": {\n            \"fieldset\": [\n                \"name\",\n                \"description\"\n            ],\n            \"name\": {\n                \"ui:title\": \"Forfatter\"\n            },\n            \"description\": {\n                \"ui:title\": \"Forfatter, beskrivelse\",\n            },\n        }        \n    }\n\n}","import section from \"../section/uiSchema\";\n\nexport default {\n    \"ui:fieldset\": [\n        \"sections\"\n    ],\n    \"sections\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Innhold\",\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\" \n            },\n            prepare({formData = []}) {\n    \n                let description;\n    \n                if (formData.length && formData.length === 1) {\n                    description = formData.length + \" seksjon\"\n                } else if (formData.length) {\n                    description = formData.length + \" seksjoner\"\n                } else {\n                    description = \"Ingen seksjoner\"\n                }\n    \n                return {\n                    \"description\": description\n                }\n            }\n        },\n        \"ui:options\" : {\n            \"collapsible\": true,\n            \"expanded\": true,\n            \"draggable\": true,\n            \"spacing\": 0,\n        },\n        \"ui:buttons\" : [\n            {\n                \"icon\": \"subject\",\n                \"title\" : \"Tekst\",\n                \"item\" : {\n                    \"sectionType\" : \"text\"\n                }\n            },\n            {\n                \"icon\": \"insert_photo\",\n                \"title\" : \"Media\",\n                \"item\" : {\n                    \"sectionType\" : \"media\"\n                }\n            },\n            {\n                \"icon\": \"fingerprint\",\n                \"title\" : \"DM\",\n                \"item\" : {\n                    \"sectionType\" : \"dm\"\n                }\n            },\n            {\n                \"icon\": \"insert_link\",\n                \"title\" : \"Lenker\",\n                \"item\" : {\n                    \"sectionType\" : \"links\"\n                }\n            },\n            {\n                \"icon\": \"attach_file\",\n                \"title\" : \"Vedlegg\",\n                \"item\" : {\n                    \"sectionType\" : \"attachments\"\n                }\n            },\n            {\n                \"icon\": \"format_quote\",\n                \"title\" : \"Sitat\",\n                \"item\" : {\n                    \"sectionType\" : \"quote\"\n                }\n            }\n        ],\n        \"items\": section\n    }\n}","import media from \"./mediaUi\"\nimport attachments from \"./attachmentsUi\"\nimport links from \"./linksUi\"\nimport ekultur from \"./ekulturUi\"\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"editable\": true,\n        \"hideable\": true,\n        \"removable\": true,\n        \"spacing\": 2\n    },\n    \"ui:settings\": [\n        \"sectionType\",\n        \"sectionLayout\"\n    ],\n    \"sectionType\": {\n        \"ui:enumIcons\": {\n            \"text\": \"subject\",\n            \"media\": \"insert_photo\",\n            \"links\": \"insert_link\",\n            \"attachments\": \"attach_file\",\n            \"quote\": \"format_quote\",\n            \"dm\": \"fingerprint\"\n        }\n    },\n    \"ui:fieldset\": [\n        \"head\",\n        \"body\"\n    ],\n    \"head\": {\n        \"ui:fieldset\": [\n            \"title\",\n            \"titleHidden\",\n            \"description\"\n        ],\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"title\": {\n            \"ui:xs\": 9,\n            \"ui:label\": false,\n            \"ui:placeholder\": \"Tittel\"\n        },\n        \"titleHidden\": {\n            \"ui:gridCols\": 3,\n            \"ui:title\": \"Skjul tittel\",\n            \"ui:widget\": \"switch\"\n        },\n        \"description\" : {\n            \"ui:gridCols\": 12,\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\" : \"textarea\",\n        }\n    },\n    \"body\": {\n        \"ui:fieldset\": [\n            \"media\",\n            \"attachments\",\n            \"references\",\n            \"bodytext\",\n            \"links\",\n            \"quote\",\n            \"cite\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"media\": media,\n        \"attachments\": attachments,\n        \"references\": ekultur,\n        \"bodytext\" : {\n            \"ui:title\": \"Brødtekst\",\n            \"ui:widget\" : \"texteditor\"\n        },\n        \"quote\" : {\n            \"ui:title\": \"Sitat\",\n            \"ui:widget\" : \"textarea\"\n        },\n        \"cite\" : {\n            \"ui:title\": \"Byline\",\n        },\n        \"links\" : links\n    }\n}","export default {\n    \"select\": {\n        \"title\": \"title\",\n        \"untitled\": \"untitled\",\n        \"description\": \"description\"\n    },\n    prepare({formData, formContext}) {\n        const localeId = \"locale:no\"\n        const title = formData.title && formData.title[localeId]\n\n        const sectionType = formData.sectionType\n        const untitled = \"Untitled \" + sectionType\n\n        const { bodytext, media, references, links, attachments, cite, quote } = formData\n\n        let description;\n\n        if (sectionType === \"text\") {\n            description = bodytext && bodytext[localeId]\n        }\n\n        if (sectionType === \"media\") {\n            description = media && media.length + \" media\"\n        }\n\n        if (sectionType === \"dm\") {\n            description = references && references.length + \" referanser\"\n        }\n\n        if (sectionType === \"links\") {\n            description = links && links.length + \" lenker\"\n        }\n\n        if (sectionType === \"attachments\") {\n            description = attachments && attachments.length + \" vedlegg\"\n        }\n\n        if (sectionType === \"quote\") {\n            description = []\n\n            cite && description.push(cite)\n            quote && quote[localeId] && description.push(quote[localeId])\n\n            description = description.join(\": \")\n        }\n\n        return {\n            title: title,\n            untitled: untitled,\n            description: description\n        }\n\n    }\n}","export default {\n    \"ui:title\": \"Media\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video/*\",\"audio/*\",\"youtube\",\"vimeo\",\"sketchfab\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\"\n        }\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:settings\": [\n            \"mediaSize\",\n            \"mediaFormat\"\n        ],\n        \"ui:fieldset\": [\n            \"content\",\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Vedlegg\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"misc\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn vedlegg\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Referanser\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"ekultur\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn referanse\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"title\": \"title\"\n            },\n            prepare({formData}) {\n                const { imageUrl, title } = formData.reference;\n\n                return {\n                    imageUrl: imageUrl,\n                    title: title\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Lenker\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": {\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\"\n            },\n            prepare({formData}) {\n                return {\n                    description: formData.url\n                }\n            }\n        },\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:options\": {\n                \"grid\": true,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"title\",\n                \"url\"\n            ],\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"url\": {\n                \"ui:title\": \"URL\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Er en del av\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\" \n        },\n        prepare({formData = []}) {\n\n            let description;\n\n            if (formData.length) {\n                description = formData.length + \" tema\"\n            } else {\n                description = \"Ingen tema\"\n            }\n\n            return {\n                \"description\": description\n            }\n        }\n    },\n    \"ui:options\" : {\n        \"draggable\": true,\n        \"collapsible\": true,\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn tema\"\n        },\n        {\n            \"title\": \"Legg til\"\n        }\n    ]\n}","import React from 'react';\n\nconst KpDeviceField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props;\n\n    const setStartPageId = (startPageId) => {\n        props.onChange({\n            ...formData,\n            startPageId: startPageId\n        })\n    }\n\n    const startPageId = formData && formData.startPageId\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            startPageId: startPageId,\n            setStartPageId: setStartPageId\n        }\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} registry={newRegistry} />\n    )\n\n\n}\n\nexport default KpDeviceField","import React from 'react';\nimport { ModuleLabel } from \"../Module\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\n\nconst KpDeviceLinkField = (props) => {\n\n    const {\n        formData,\n        formContext,\n    } = props\n\n\n    const { startPageId, setStartPageId } = formContext\n    const { referenceId, reference } = formData\n\n    const isStartPage = startPageId && referenceId === startPageId\n\n    const toggleStartPage = (id) => {\n        setStartPageId && setStartPageId(id)\n    }\n\n\n    const StartPageSettings = () => {\n\n        if (isStartPage) {\n            return (\n                <ButtonBase onClick={() => toggleStartPage(undefined)}>\n                    <ModuleLabel backgroundColor=\"black\">Startpage</ModuleLabel>\n                </ButtonBase>\n            )\n        }\n\n        return (\n            <ButtonBase onClick={() => toggleStartPage(referenceId)}>\n                <ModuleLabel>Startpage</ModuleLabel>\n            </ButtonBase>\n        )\n    }\n\n    const settings = [\n        StartPageSettings\n    ]\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:documentType\": reference && reference.documentType,\n        \"ui:imageUrl\": reference && reference.imageUrl,\n        \"ui:title\": reference && reference.title,\n        \"ui:layout\": \"kpLink\"\n    }\n\n    const { ObjectField } = props.registry.fields\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nexport default KpDeviceLinkField;\n","\nimport React, { Component } from 'react';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst GeopointField = (props) => {\n    const { registry, schema, uiSchema, formData, formContext } = props\n    const { ObjectField } = registry.fields;\n\n    const _onChange = (formData) => {\n \n        const newFormData = getDefaultFormState(schema, formData)\n        \n        console.log('GeopointField:onChange', newFormData)\n\n        if (props.onChange) {\n            props.onChange(newFormData);\n        }\n        \n    }   \n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:location\": formData || {},\n        \"ui:onChange\": _onChange\n    }\n\n    return (\n        <ObjectField {...props} onChange={_onChange} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default GeopointField;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointLoader = () => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n                Loading ...\n        </div>\n    )        \n\n}\n\nexport default GeopointLoader;","import React, { memo } from 'react';\nimport { LoadScript } from '@react-google-maps/api';\nimport GeopointLoader from \"./GeopointLoader\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointBase = ({className, googleMapsApiKey, children, onClick}) => {\n    const classes = useStyles()\n\n\n    return (\n        <div className={className || classes.root} onClick={onClick}>\n            <LoadScript\n                libraries={[\"places\"]}\n                loadingElement={GeopointLoader}\n                googleMapsApiKey={googleMapsApiKey}\n                preventGoogleFontsLoading={true}>\n                    {children}\n            </LoadScript>\n        </div>\n    )        \n\n}\n\nGeopointBase.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n}\n\nexport default memo(GeopointBase);","import React, { useState } from 'react';\nimport { GoogleMap } from '@react-google-maps/api';\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    map: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointMap = ({id = \"map\", className, center, zoom, onChange, onClick, options, children}) => {\n    const [map, setMap] = useState(null) \n\n    const handleChange = () => {\n        map && onChange && onChange(map)\n    }\n\n    const classes = useStyles()\n\n    if (onClick) {\n        return (\n            <GoogleMap\n                id={id}\n                options={{\n                    draggable: false,\n                    zoomControl: false,\n                    scaleControl: false,\n                    mapTypeControl: false,\n                    fullscreenControl: false,\n                    streetViewControl: false,\n                }}\n                clickableIcons={false}\n                mapContainerClassName={className || classes.map}\n                center={center}\n                zoom={zoom}\n                onClick={onClick}\n                onLoad={(map) => setMap(map)}>\n                {children}\n            </GoogleMap>\n        )\n    }\n    \n    return (\n        <GoogleMap\n            id={id}\n            options={options}\n            clickableIcons={false}\n            mapContainerClassName={className || classes.map}\n            center={center}\n            zoom={zoom}\n            onLoad={(map) => setMap(map)}\n            onZoomChanged={handleChange}\n            onDragEnd={handleChange}\n        >\n            {children}\n        </GoogleMap>\n    )        \n\n}\n\nGeopointMap.defaultProps = {\n    options: {\n        scaleControl: false,\n        draggable: false,\n        mapTypeControl: false,\n        fullscreenControl: false,\n        streetViewControl: false\n    },\n    center: {\n        lat: undefined,\n        lng: undefined,\n    },\n    zoom: 12\n}\n\nexport default GeopointMap;","import React, { useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%,-50%)\",\n        pointerEvents: \"none\",\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n    },\n    point: {\n        position: \"absolute\",\n        backgroundColor: \"white\",\n        borderRadius: \"50%\",\n        width: \"100%\",\n        height: \"100%\",\n        opacity: 0.25\n    },\n    crosshair: {\n        position: \"absolute\",\n        display: \"block\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    crosshairX: {\n        display: \"block\",\n        position: \"absolute\",\n        left: \"-15%\",\n        top: \"50%\",\n        backgroundColor: \"black\",\n        width: \"130%\",\n        height: \"1px\"\n    },\n    crosshairY: {\n        display: \"block\",\n        position: \"absolute\",\n        left: \"50%\",\n        top: \"-15%\",\n        backgroundColor: \"black\",\n        width: \"1px\",\n        height: \"130%\"\n    }\n}));\n\nconst GeopointMapCenter = ({size = 8}) => {\n\n    const classes = useStyles({size})\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.point}>\n            </div>\n            <div className={classes.crosshair}>\n                <div className={classes.crosshairX}></div>\n                <div className={classes.crosshairY}></div>\n            </div>\n        </div>\n    )\n\n}\n\nexport default GeopointMapCenter;","import React, { useState, useEffect } from 'react';\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\n\nconst GeopointPreview = ({id = \"map\", location, onClick}) => {\n    const { lat, lng, zoom } = location\n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <GeopointMap id={id + \"-preview\"} center={center} zoom={zoom} onClick={onClick}>\n            <GeopointMapCenter />\n        </GeopointMap>\n    )        \n}\n\nGeopointPreview.defaultProps = {\n}\n\nexport default GeopointPreview;","import React, { useState } from 'react';\nimport { Autocomplete } from '@react-google-maps/api';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n\n    },\n    input: {\n        backgroundColor: \"white\",\n\n        \"& .MuiFilledInput-root\": {\n//            backgroundColor: \"rgba(255,255,255,.9)\",\n\n            \"&.Mui-focused\": {\n                backgroundColor: \"white\"\n            }\n\n        }\n\n        \n    }\n}));\n\nconst GeopointAutocomplete = ({className, onChange}) => {\n    const [autocomplete, setAutocomplete] = useState(null) \n\n    const handleChange = () => {\n        if (autocomplete !== null) {\n            onChange && onChange(autocomplete.getPlace())\n        } else {\n            console.log('Autocomplete is not loaded yet!')\n        }        \n    }\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.root}>\n            <Autocomplete\n                options={{\n                    types: \"geocode\"\n                }}\n                onLoad={(autocomplete) => setAutocomplete(autocomplete)}\n                onPlaceChanged={handleChange}\n            >\n                <TextField className={classes.input} label=\"Find location\" placeholder=\"Enter a place\" variant=\"filled\" fullWidth />\n            </Autocomplete>\n      </div>\n    )        \n\n}\n\nexport default GeopointAutocomplete;","import React, { memo, useEffect } from 'react';\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\nimport GeopointSearch from \"./GeopointSearch\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: \"fixed\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        zIndex: 2000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    geocoder: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: theme.spacing(4)\n    },\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        margin: theme.spacing(2)\n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: \"auto\",\n        margin: theme.spacing(2.5)\n\n    }\n}));\n\nconst GeocoderOverlay = ({id = \"map\", location, onChange, onClose}) => {\n    const { lat, lng, zoom } = location;\n\n    const _onChange = (location) => {\n        onChange && onChange(location)\n    }\n\n    const _onMapChange = (map) => {\n        console.log('map', map)\n\n        let lat, lng\n\n        if (map && map.center) {\n            lat = map.center.lat()\n            lng = map.center.lng()\n        }\n            \n        const zoom = map && map.zoom;\n\n        if (lat && lng) {\n            _onChange({\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const _onSearch = (place) => {\n        console.log('place', place)\n\n        let lat, lng\n\n        if (place && place.geometry && place.geometry.location) {\n            lat = place.geometry.location.lat()\n            lng = place.geometry.location.lng()\n        }\n\n        if (lat && lng) {\n            _onChange({\n                placeId: place && place.place_id,\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const classes = useStyles() \n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <div className={classes.overlay}>\n            <div className={classes.geocoder}>\n                <GeopointMap id={id + \"-editor\"} center={center} zoom={zoom} onChange={_onMapChange}>\n                    <GeopointMapCenter />\n                    <GeopointSearch className={classes.search} onChange={_onSearch} />\n                </GeopointMap>\n\n                <IconButton className={classes.closeButton} onClick={() => onClose()}>\n                    <CloseIcon></CloseIcon>\n                </IconButton>\n            </div>\n        </div>\n    )        \n}\n\nGeocoderOverlay.defaultProps = {\n    formData: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default GeocoderOverlay;","import React, { useState, useEffect } from 'react';\nimport GeopointBase from \"./GeopointBase\"\nimport GeopointPreview from \"./GeopointPreview\"\nimport GeocoderEditor from \"./GeopointEditor\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        width: \"100%\",\n        position: props => { return props.position },\n        flexBasis: props => { return props.minWidth },\n        minWidth: props => { return props.minWidth },\n        minHeight: props => { return props.minHeight },\n    },\n}));\n\nconst Geopoint = (props) => {\n    const { id, position = \"relative\", minWidth = 164, minHeight = 164, googleMapsApiKey, location } = props;\n    const { lat, lng, zoom } = location\n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    const classes = useStyles({position, minWidth, minHeight})\n\n    const [overlay, setOverlay] = useState(false)\n\n    const _onEdit = () => {\n        setOverlay(true)\n    }\n\n    const _onClose = () => {\n        setOverlay(false)\n    }\n\n    return (\n        <GeopointBase\n            className={classes.root}\n            googleMapsApiKey={googleMapsApiKey}>\n                <GeopointPreview {...props} onClick={_onEdit} />\n                {overlay && <GeocoderEditor {...props} onClose={() => _onClose()} /> }\n        </GeopointBase>\n    )        \n}\n\nGeopoint.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    location: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default Geopoint;","import React, { memo } from 'react';\nimport GeopointBase from \"./GeopointBase\"\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\nimport GeopointSearch from \"./GeopointSearch\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    geocoder: {\n        backgroundColor: \"#e5e3df\",\n        width: \"100%\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        margin: theme.spacing(2)\n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: \"auto\",\n        margin: theme.spacing(2)\n\n    }\n}));\n\nconst Geocoder = ({googleMapsApiKey, location, onChange, onClose}) => {\n    const { lat, lng, zoom } = location;\n\n    const handleChange = (location) => {\n        onChange && onChange(location)\n    }\n\n    const handleMapChange = (map) => {\n        console.log('map', map)\n\n        let lat, lng\n\n        if (map && map.center) {\n            lat = map.center.lat()\n            lng = map.center.lng()\n        }\n            \n        const zoom = map && map.zoom;\n\n        if (lat && lng) {\n            handleChange({\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const handleSearch = (place) => {\n        console.log('place', place)\n\n        let lat, lng\n\n        if (place && place.geometry && place.geometry.location) {\n            lat = place.geometry.location.lat()\n            lng = place.geometry.location.lng()\n        }\n\n        if (lat && lng) {\n            handleChange({\n                placeId: place && place.place_id,\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const classes = useStyles() \n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <GeopointBase\n            className={classes.root}\n            googleMapsApiKey={googleMapsApiKey}>\n                <GeopointMap center={center} zoom={zoom} onChange={handleMapChange}>\n                    <GeopointMapCenter />\n                    <GeopointSearch className={classes.search} onChange={handleSearch} />\n                </GeopointMap>\n\n                { onClose && <IconButton className={classes.closeButton} onClick={() => onClose()}>\n                    <CloseIcon></CloseIcon>\n                </IconButton> }\n\n        </GeopointBase>\n    )        \n}\n\nGeocoder.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    location: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default Geocoder;","import GeopointField from './GeopointField';\n\nimport Geopoint from './Geopoint';\nimport Geocoder from './Geocoder'\n\nexport default {\n    \"fields\": {\n        \"kpGeopoint\": GeopointField,\n        \"kpGeopointLayout\": Geopoint,\n        \"kpGeocoderLayout\": Geocoder,\n    },\n}","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst KpPageField = (props) => {\n    const { idSchema, schema, uiSchema, formData, formContext, registry } = props;\n    const { uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { isLoading, isSaving, currentId, currentLocale, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const getPrimaryAction = () => {\n\n        if (isLoading) {\n            return {\n                label: t(\"Loading\") + \" ...\",\n                disabled: true\n            }\n        } else if (isSaving) {\n            return {\n                label: t(\"Saving\") + \" ...\",\n                disabled: true\n            }\n        }\n\n        let primary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save as draft\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"draft\"}}, event),\n                },\n                {\n                    label: t(\"Save and publish\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"publish\"}}, event),\n                },\n            ]\n        }\n\n        let secondary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save and exit\"),\n                }\n            ]\n\n        }\n\n        if (uniqueId) {\n            secondary.children.push({\n                label: t(\"Save as\") + \" ...\",\n                onClick: (event) =>  onSubmit({formData: {...formData, status: \"copy\"}}, event),\n            })\n        }\n        \n\n        return {\n            type: \"save\",\n            label: t(\"Save\"),\n            onClick: (event) => onSubmit({formData}, event),\n            children: [\n                primary,\n                secondary\n            ]\n        }\n    \n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getPrimaryAction()\n\n    // toggle fieldset\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggle = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale || formContext.languages && formContext.languages[0]\n//    const [currentLocale, setCurrentLocale] = useState(defaultLocale)\n\n    const _onLocale = (locale) => {\n\n\n        onLocale && onLocale(locale)\n//        setCurrentLocale(locale)\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:layout\": \"pageEditor\",\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggle\": () => _onToggle()\n    }\n\n    const _onChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange(newFormData)\n    }\n\n\n    const _onAnnotateArrayChange = (links = []) => {\n        console.log('onAnnotateArrayChange', links)\n\n        _onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                links: links\n            }\n        })\n\n    }\n\n    const _onAnnotateImageChange = (links = []) => {\n        console.log('onAnnotateImageChange', links)\n\n        _onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                links: links\n            }\n        })\n \n    }\n\n    const annotateImage = formData && formData.content && formData.content.backgroundImage\n    const imageAnnotations = formData && formData.content && formData.content.links\n    \n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            currentLocale: currentLocale,\n            annotateImage: annotateImage,\n            imageAnnotations: imageAnnotations,\n            onAnnotateArrayChange: _onAnnotateArrayChange,\n            onAnnotateImageChange: _onAnnotateImageChange,\n\n        }\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} registry={newRegistry} formContext={newRegistry.formContext} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default KpPageField;","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"kpLink\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale || \"no\";\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"backgroundColor\": {\n        \"ui:widget\": \"color\"\n    },\n    \"color\": {\n        \"ui:widget\": \"color\",\n        \"ui:settingsVariant\": \"text\"\n    },\n    \"grid\": {\n        \"ui:widget\": \"grid\",\n        \"ui:maxCols\": 5,\n        \"ui:maxRows\": 3\n    },\n    \"placement\": {\n        \"ui:widget\": \"placement\",\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"content\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                \"ui:settings\": [\n                    \"color\"\n                ]\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"titleColor\": {\n                \"ui:widget\": \"color\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markør\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import schema from \"./KpLink.schema\"\nimport uiSchema from \"./KpLink.uiSchema\"\nimport formData from \"./KpLink.formData\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData\n}","export default  {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\"\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","import React, { Component } from 'react';\nimport { ImagePreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n\n        minHeight: 256,\n\n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n    buttongroup: {\n        zIndex: 2,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    preview: {\n        margin: 0\n    }\n}));\n\n\n\nconst KpLinkMediaLayout = (props) => {\n\n    const { mediaId, media, referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const Button = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n        \n        return (\n            <ButtonBase className={classes.button}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon>}\n                <b className={classes.label}>{title}</b>\n            </ButtonBase>\n        )\n    \n    }\n\n    const Buttongroup = ({buttons = []}) => {\n\n        const classes = useStyles({spacing: 1})\n    \n        if (!buttons.length) {\n            return null\n        }\n    \n        return (\n            <div className={classes.buttongroup}>\n                { buttons && buttons.map((button, index) => {\n                    return (\n                        <Button {...button} key={index} />\n                    )\n                })}\n            </div>\n        )\n        \n    }\n\n    const removeMedia = {\n        icon: \"remove_circle\",\n        title: \"Fjern bilde\",\n        onClick: () => onChange({mediaId: undefined, media: {}})\n    }\n\n    const findMedia = {\n        icon: \"search\",\n        title: \"Finn bilde\",\n        onClick: () => onDialog(props)\n    }\n\n    const replaceMedia = {\n        icon: \"search\",\n        title: \"Endre bilde\",\n        onClick: () => onDialog(props)\n    }\n\n\n    if (media && media.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={media.imageUrl} />\n                <Buttongroup className={classes.buttons} buttons={[removeMedia]} />\n            </div>\n        )\n    }\n\n    if (referenceId && reference && reference.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={reference.imageUrl} />\n                <Buttongroup className={classes.buttons} buttons={[replaceMedia]} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.root} data-name=\"media\">\n            <Buttongroup className={classes.buttons} buttons={[findMedia]} />\n        </div>\n    )\n\n}\n\nexport default KpLinkMediaLayout","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ListModule from \"../KpView/ListModule\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\nconst useStyles = makeStyles(theme => ({\n    reference: {\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        \n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n}));\n\nconst KpLinkReferenceLayout = (props) => {\n\n    const { referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const _onAddLink = () => {\n        onDialog && onDialog(props)\n    }\n\n    const _onRemoveLink = () => {\n        onChange && onChange({\n            referenceId: undefined, \n            reference: {}\n        })\n    }\n\n    const LinkAddButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkIcon />\n            </IconButton>\n        )\n    }\n\n    const LinkRemoveButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkOffIcon />\n            </IconButton>\n        )\n    }\n\n\n    if (referenceId && reference) {\n        return (\n            <div className={classes.reference}>\n                <ListModule {...reference} startAdornment={<LinkRemoveButton onClick={_onRemoveLink} />} />\n            </div>\n        )\n    }\n\n    return (\n        <ButtonBase className={classes.reference} onClick={_onAddLink}>\n            <ListModule untitled=\"Legg til lenke\" icon={<LinkIcon />} />\n        </ButtonBase>\n    )\n\n}\n\nexport default KpLinkReferenceLayout","import React, { Component } from 'react';\n\n//import KpLinkContentLayout from \"./KpLinkContentLayout\"\nimport KpLinkMediaLayout from \"./KpLinkMediaLayout\"\nimport KpLinkReferenceLayout from \"./KpLinkReferenceLayout\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KpLinKContentField = (props) => {\n\n    const { formData, formContext, schema, uiSchema, registry} = props\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n    const mediaType = media && media.mediaType\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n    const referenceDescription = reference && reference.description\n\n    /*\n    const imageUrl = media.imageUrl || reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n    */\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const _onMediaChange = ({mediaId, media}) => {\n\n        console.log('MEDIA change', media)\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            mediaId: mediaId,\n            media: media\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onMediaDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    mediaId: schema.properties.mediaId,\n                    media: schema.properties.media\n                }\n            },\n            formData: {\n                mediaId: mediaId,\n                media: media\n            },\n            onChange: _onMediaChange\n        })\n\n    }\n\n    const _onReferenceChange = ({referenceId, reference}) => {\n\n        console.log(\"KpLink:onChange\", referenceId)\n\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            referenceId: referenceId,\n            reference: reference\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onReferenceDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    referenceId: schema.properties.referenceId,\n                    reference: schema.properties.reference\n                }\n            },\n            onChange: _onReferenceChange\n        })\n\n    }\n    \n    const newUiSchema = {\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n            \"grid\": true,\n        },\n        \"linkMedia\": {\n            \"ui:layout\": KpLinkMediaLayout,\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\",\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:xs\": 4,\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": media,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:onDialog\": _onMediaDialog,\n            \"ui:onChange\": _onMediaChange,\n        },\n        \"linkContent\": {\n            \"ui:xs\": 8,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                ...uiSchema.linkContent.runningHead,\n                \"color\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\",\n                \"ui:placeholder\": referenceTitle,\n                ...uiSchema.linkContent.title,\n                \"titleColor\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n                \"ui:placeholder\": referenceDescription,\n                \"ui:widget\": \"textarea\"\n            },\n        },\n        \"linkReference\": {\n            \"ui:layout\": KpLinkReferenceLayout,\n            \"ui:xs\": 12,\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:dialog\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:onDialog\": _onReferenceDialog,\n            \"ui:onChange\": _onReferenceChange,\n        },\n    }\n\n    const { ObjectField } = registry.fields\n\n\n    return <ObjectField {...props} uiSchema={newUiSchema} />\n\n    return (\n        <p>{JSON.stringify(uiSchema)}</p>\n    )\n\n}\n\nexport default KpLinKContentField","import React from 'react';\nimport Color from 'color';\nimport model from \"./KpLink.model\"\n\nimport KpLinkContentField from \"./KpLinkContentField\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KpLinkField = (props) => {\n    const { formData, formContext, registry } = props\n\n    const schema = {\n        ...model.schema,\n        ...props.schema\n    }\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n\n    const imageUrl = media.imageUrl || referenceId && reference && reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const getContrastColor = (hex) => {\n        const color = Color(hex)\n        return color.isLight() && \"black\" || \"white\"\n    }\n\n    const _onChange = (formData) => {\n\n        if (formData.backgroundColor !== backgroundColor) {\n            formData.color = getContrastColor(formData.backgroundColor)\n        }\n\n        if (formData.color !== color) {\n            formData.titleColor = formData.color\n        }\n\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange && props.onChange(newFormData)\n    }\n\n    const _onCropChange = (imageCropdata) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageCropdata: imageCropdata\n        })\n    }\n\n    const _onFocalpoint = (imageFocalpoint) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFocalpoint: imageFocalpoint\n        })\n    }\n\n    const _onFiltersChange = (imageFilters) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFilters: imageFilters\n        })\n     }\n    \n    const getUiSchema = () => {\n\n        let uiSchema = {\n            ...model.uiSchema,\n            ...props.uiSchema,\n            \"ui:layout\": \"kpLink\",\n            \"ui:documentType\": reference && reference.documentType,\n        }\n    \n        const uiOptions = getUiOptions(uiSchema);\n\n        let fieldset = []\n\n        const uiPreview = {\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": mediaId,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:imageUrl\": imageUrl,\n            \"ui:imageCropdata\": imageCropdata,\n            \"ui:imageFilters\": imageFilters,\n            \"ui:imageFocalpoint\": imageFocalpoint,\n        }\n\n        if (uiSchema.content) {\n            uiSchema.content = {\n                ...uiSchema.content,\n                ...uiPreview,\n                \"ui:field\": KpLinkContentField,\n            }\n\n            fieldset.push('content')\n\n        }\n\n        if (uiSchema.imageCropdata && imageUrl) {\n            uiSchema.imageCropdata = {\n                ...uiSchema.imageCropdata,\n                ...uiPreview,\n                \"ui:onChange\": (cropdata) => _onCropChange(cropdata),\n            }\n\n            fieldset.push('imageCropdata')\n        }\n\n        if (uiSchema.imageFocalpoint && imageUrl) {\n            uiSchema.imageFocalpoint = {\n                ...uiSchema.imageFocalpoint,\n                ...uiPreview,\n                \"ui:onChange\": (focalpoint) => _onFocalpoint(focalpoint),\n            }\n\n            fieldset.push('imageFocalpoint')\n\n        }\n\n        if (uiSchema.imageFilters && imageUrl) {\n            uiSchema.imageFilters = {\n                ...uiSchema.imageFilters,\n                ...uiPreview,\n                \"ui:onChange\": (filters) => _onFiltersChange(filters),\n            }\n\n            fieldset.push('imageFilters')\n        }\n\n        if (formContext.pageType === \"annotate\") {\n            uiSchema.imageAnnotations = {\n                ...uiSchema.imageAnnotations,\n                ...uiPreview\n            }\n\n            fieldset.push('imageAnnotations')\n        }\n\n        return {\n            ...uiSchema,\n            \"ui:layout\": \"kpLink\",\n            \"ui:options\": uiOptions,\n            \"ui:fieldset\": fieldset,\n            \"color\": {\n                ...uiSchema.color,\n                \"ui:backgroundColor\": formData && formData.backgroundColor\n            },\n            \"link\": {\n                ...uiSchema.link,\n                \"linkContent\": {\n                    ...uiSchema.content.linkContent,\n                    \"titleColor\": {\n                        \"ui:backgroundColor\": formData && formData.backgroundColor\n                    }\n                }\n            }\n        }\n\n    }\n\n    const uiSchema = getUiSchema()\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} schema={schema} uiSchema={uiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default KpLinkField","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '@material-ui/core/Badge';\n\nimport ListModule from \"../KpView/ListModule\"\n\nimport {\n    ModuleBase,\n    ModuleFormat,\n    ModuleHeader,\n    ModuleBody,\n    ModuleFooter,\n    ModuleButtons,\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        position: \"relative\",\n        flexGrow: 1,\n        padding: theme.spacing(2)\n    },\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        padding: props => { return theme.spacing(props.padding) }\n    }\n\n}));\n\nconst KpLinkLayout = ({\n    editable,\n    expanded,\n    buttons,\n    onCollapse,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles(props)\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onCollapse\n                }\n            ]\n        }\n\n        return (\n            <ModuleBase className={classes.module} expanded={true} elevation={4}>\n                <ModuleFormat {...props}>\n                    <ModuleHeader {...props} className={classes.header} />\n                    <ModuleBody className={classes.body}>\n                        {children}\n                    </ModuleBody>\n                </ModuleFormat>\n                <ModuleFooter {...props} className={classes.footer}>\n                    {buttons && <ModuleButtons buttons={buttons} />}\n                </ModuleFooter>\n            </ModuleBase>\n        )    \n    }\n\n    const StartAdornment = ({startAdornment, badgeContent}) => {\n\n        return (\n            <Badge className={classes.badge} badgeContent={badgeContent} color=\"primary\">\n                {startAdornment}\n            </Badge>\n        )\n    \n    }\n    \n\n    return (\n        <ListModule\n            {...props}\n            primaryButton={<StartAdornment {...props} />}\n            editable={editable}\n        />\n    )\n\n}\n\nKpLinkLayout.defaultProps = {\n    padding: 2,\n    editable: true\n}\n\nKpLinkLayout.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default KpLinkLayout;\n","import React, { useState, useEffect } from 'react';\nimport { ImageAnnotations } from \"@kit-ui/admin\"\nimport model from \"./KpAnnotateImage.model\"\n\nconst KioskAnnotateImageField = ({formData, formContext, ...props}) => {\n    const { annotateImage = {}, imageAnnotations, onAnnotateImageChange } = formContext\n    const { mediaId, media, imageFilters } = annotateImage\n\n    const { ObjectField } = props.registry.fields\n\n    const uiSchema = {\n        \"ui:layout\": ImageAnnotations,\n        \"ui:imageUrl\": media && media.imageUrl,\n        \"ui:imageFilters\": imageFilters,\n        \"ui:imageAnnotations\": imageAnnotations,\n        \"ui:onChange\": onAnnotateImageChange\n    }\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} /> \n    )\n\n}\n\nexport default KioskAnnotateImageField;","import uiSchema from \"./KpAnnotateLinks.uiSchema\"\n\nexport default {\n    uiSchema: uiSchema\n}","import itemsUi from \"./KpLink.uiSchema\"\n\nexport default {\n    \"ui:field\": \"kpAnnotateLinks\",\n    \"ui:options\": {\n        \"sortable\": true\n    },\n    \"items\": {\n        ...itemsUi,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale || formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title || title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import React from 'react';\nimport model from \"./KpAnnotateLinks.model\"\n\nconst ImageAnnotateArrayField = ({uiSchema, registry, ...props}) => {\n    const { ArrayField } = registry.fields;\n    const { onAnnotateArrayChange } = registry.formContext\n\n    uiSchema = {\n        ...model.uiSchema,\n        ...uiSchema\n    }\n\n    return (\n        <ArrayField {...props} uiSchema={uiSchema} registry={registry} onChange={onAnnotateArrayChange} />\n    )\n\n}\n\nexport default ImageAnnotateArrayField;","import KpDeviceField from \"./KpDeviceField\"\nimport KpDeviceLinkField from \"./KpDeviceLinkField\"\n\nimport kpLocation from \"./KpLocation/registry\"\n\nimport KpPageField from \"./KpPageField\"\nimport KpLinkField from \"./KpLinkField\"\nimport KpLinkLayout from \"./KpLinkLayout\"\nimport KpLinkModel from \"./KpLink.model\"\n\nimport KpAnnotateImageField from \"./KpAnnotateImageField\"\nimport KpAnnotateLinksField from \"./KpAnnotateLinksField\"\n\nexport default {\n    \"fields\": {\n        \"kpPage\": KpPageField,\n        \"kpLink\": KpLinkField,\n        \"kpLinkLayout\": KpLinkLayout,\n        \"kpAnnotateImage\": KpAnnotateImageField,\n        \"kpAnnotateLinks\": KpAnnotateLinksField,\n\n        \"kpDevice\": KpDeviceField,\n        \"kpDeviceLink\": KpDeviceLinkField,\n\n        ...kpLocation.fields,\n    },\n    \"widgets\": {\n    },\n    \"models\": {\n        \"kpLink\": KpLinkModel,\n    }\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst ParentIdField = (props) => {\n    const { formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    const query = {\n        url: pathname + \"/parentId\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        collectionId && pathname && dispatch(getQuery(query))\n    }, [pathname])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded || []\n        // const options = models.length && getOptionsTree(models) || []\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No parentId\"\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default ParentIdField","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeView: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        \n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n    },\n\n}));\n\nconst TreeView = ({droppable, children, ...props}) => {\n\n    const classes = useStyles();\n\n    if (droppable && droppable.provided) {\n        const { provided, snapshot } = droppable\n        const { droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeView}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeView}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeView","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeList: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n    },\n\n}));\n\nconst TreeList = ({droppable, children, ...props}) => {\n\n    const classes = useStyles();\n\n    if (droppable && droppable.provided) {\n        const { provided, snapshot } = droppable\n        const { droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeList}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeList}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeList","import React, { useEffect, useState } from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport DragIcon from '@material-ui/icons/DragHandle';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { ModuleBase, ModuleTitle, NavToolbar } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            maxHeight: theme.spacing(6),\n\n            \"& $toolbar\": {\n                display: \"none\"\n            },\n\n            \"& $children\": {\n                display: \"none\"\n            },\n\n            \"& $toggle\": {\n                display: \"none\"\n            },\n\n            \"& $level\": {\n                marginLeft: 0\n            }\n\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n    },\n    children: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    toolbar: {\n\n    },\n    level: {\n        marginLeft: props => { return props.level * 48 },\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    },\n    content: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    },\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 24,\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    toggle: {\n        width: 48,\n        position: \"absolute\",\n        left: -48,\n\n        \"& $toggleIcon\": {\n            transition: \".125s ease-in-out\",\n            transform: \"rotate(-90deg)\",\n        },\n\n        \"&[aria-expanded=true] $toggleIcon\": {\n//            transition: \".125s ease-in-out\",\n            transform: \"rotate(0deg)\"\n        },\n    },\n    toggleIcon: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\",\n    }\n\n}));\n\nconst TreeModule = ({\n    selectable,\n    selected,\n    onSelect,\n    collapsible, \n    expanded = false,\n    onToggle,\n    draggable, \n    level, \n    title,\n    imageUrl,\n    icon, \n    renderChildren,\n...props}) => {\n\n    const classes = useStyles({level});\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ButtonToggle = ({onClick}) => {\n    \n        return (\n            <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded}>\n                <ToggleIcon className={classes.toggleIcon} />\n            </IconButton>\n        )\n    }\n\n    const ModuleContent = () => {\n\n        return (\n            <div className={classes.content}>\n                <div className={classes.media}>\n                    { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { imageUrl && <img className={classes.image} src={imageUrl} /> }\n                </div>\n                <ModuleTitle>{title}</ModuleTitle>\n            </div>\n\n        )\n\n    }\n\n    const _onToggle = (event) => {\n        event.stopPropagation()\n        onToggle && onToggle()\n    }\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n    if (draggable && draggable.provided) {\n\n        const { provided, snapshot, } = draggable\n        const { isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module}\n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={_onSelect}>\n                <div className={classes.level}>\n                    {collapsible && <ButtonToggle onClick={_onToggle} /> || \"\" }\n                    <DragHandle dragHandleProps={provided.dragHandleProps} />\n                    <ModuleContent />\n                    <NavToolbar {...props} className={classes.toolbar} />\n                </div>\n                {renderChildren && <div className={classes.children}>{renderChildren()}</div> }\n            </div>\n        )\n    \n\n    }\n\n\n    return (\n        <div className={classes.module} onClick={_onSelect}>\n            <div className={classes.level}>\n                {collapsible && <ButtonToggle onClick={onToggle} /> }\n                <ModuleContent />\n            </div>\n            {renderChildren && <div className={classes.children}>{renderChildren()}</div> }\n        </div>\n    )\n\n}\n\nexport default TreeModule","import React, { forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ViewHeader, ViewPages } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    columnView: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n    },\n    columns: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1\n        },\n\n        \"& > * + *\": {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n    },\n\n}));\n\nconst ColumnView = ({children}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <div className={classes.columnView}>\n            <ViewHeader />\n            <div className={classes.columns}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nexport default ColumnView;","import React, { forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    column: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"&:hover\": {\n                width: theme.spacing(32),\n                minWidth: theme.spacing(32),\n            }\n\n        }\n\n    },\n\n}));\n\nconst ColumnList = ({droppable, expanded, children, ...props}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    if (droppable) {\n        const { provided, snapshot } = droppable\n        const { droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div data-is-dragging-over={isDraggingOver} className={classes.column} {...droppableProps} ref={innerRef}>\n                {children}\n                {provided.placeholder}\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.column} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default ColumnList;","import React, { forwardRef} from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DragIcon from '@material-ui/icons/DragHandle';\n\nimport { ModuleBase, ModuleTitle, NavToolbar } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"auto\",\n        width: \"100%\",\n        maxWidth: \"100%\",\n        minWidth: theme.spacing(16),\n        overflow: \"hidden\",\n\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"&[aria-expanded=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n\n        width: \"100%\",\n\n        marginTop: 8,\n        marginBottom: 8,\n\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        color: \"inherit\",\n\n        \"& > *\": {\n            color: \"inherit\"\n        }\n\n    },\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 24,\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    dragHandle: {\n        margin: theme.spacing(.5)\n    },\n    toolbar: {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    }\n    \n}));\n\nconst ColumnModule = ({\n    selectable,\n    selected,\n    onSelect,\n    collapsible, \n    expanded = false,\n    onToggle,\n    draggable, \n    level, \n    title,\n    imageUrl,\n    icon, \n    ...props}) => {\n\n    const classes = useStyles()\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ButtonToggle = ({onClick}) => {\n    \n        return (\n            <IconButton className={classes.toggleButton} onClick={onClick} aria-expanded={expanded}>\n                <SelectIcon className={classes.toggleIcon} />\n            </IconButton>\n        )\n    }\n\n    const ModuleContent = () => {\n\n        return (\n            <div className={classes.content}>\n                <div className={classes.media}>\n                    { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { imageUrl && <img className={classes.image} src={imageUrl} /> }\n                </div>\n                <ModuleTitle>{title}</ModuleTitle>\n            </div>\n\n        )\n\n    }\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n    if (draggable) {\n        const { provided, snapshot } = draggable\n        const { isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module} \n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                onClick={props.onSelect}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={_onSelect}>\n                    <DragHandle dragHandleProps={provided.dragHandleProps} />\n                    <ModuleContent />\n                    <NavToolbar {...props} className={classes.toolbar} />\n                    {collapsible && <ButtonToggle onClick={onSelect} /> || \"\" }\n\n            </div>\n        )   \n\n    }\n\n    return (\n        <div className={classes.module} aria-selected={selected}>\n            <ModuleContent />\n            <NavToolbar {...props} className={classes.toolbar} />\n            {collapsible && <ButtonToggle onClick={onSelect} /> || \"\" }\n        </div>\n    )\n\n}\n\nexport default ColumnModule;","import React, { useState, useEffect } from 'react';\nimport _ from \"lodash\"\n\nimport { \n    ListView, \n    ListModule, \n    ButtonAdd, \n    ButtonRemove\n} from \"@kit-ui/admin\"\n\nconst DocumentChildrenList = ({title, resultsLoaded, onRemove, onEdit}) => {\n\n    const DocumentModule = (model) => {\n\n        return (\n            <ListModule {...model}\n                primaryButton={<ButtonRemove onClick={() => onRemove(model)} />}\n                editable={true}\n                onEdit={() => onEdit(model)}\n            />\n        )\n\n    }\n\n    return (\n\n        <ListView title={title}>\n            {resultsLoaded && resultsLoaded.map((model, index) => <DocumentModule {...model} key={index} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenList","import React, { useState, useEffect } from 'react';\nimport { WidgetSearch, List, ListModule, ButtonAdd, ButtonRemove } from \"../\"\nimport _ from \"lodash\"\n\nimport DocumentListRemove from \"./DocumentListRemove\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getParents } from '../../redux/modelsById';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\n\nconst DocumentParentsField = (props) => {\n    const { schema, idSchema, uiSchema, formContext } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // currentParent\n\n    const query = {\n        url: pathname + \"/parents\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"id:\"+parentId,\n        ...uiQuery\n    }\n\n    useEffect(() => {\n        parentId && dispatch(getQuery(query))\n    }, [parentId])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const uniqueModel = useSelector(state => state.modelsById[uniqueId])\n\n    // actions\n\n    const onSelect = formContext && formContext.onSelect\n\n    const _onRemove = ({uniqueId}) => {\n\n    }\n\n    const _onEdit = ({uniqueId}) => {\n        const id = idSchema && idSchema.$id\n        const url = app.root + \"/\" + uniqueId + \"/edit#\" + id\n        onSelect && onSelect({url})\n    }\n\n\n    return (\n        <div>\n\n            <DocumentListRemove {...currentSearch} title=\"Parents\" onRemove={_onRemove} onEdit={_onEdit} />\n\n            {JSON.stringify(uniqueModel.parents)}\n\n\n\n        </div>\n    )\n\n\n    \n\n}\n\nexport default DocumentParentsField","import React, { useState, useEffect } from 'react';\nimport _ from \"lodash\"\n\nimport { \n    ListSearch,\n    ListView, \n    ListModule, \n    ButtonAdd, \n    ButtonRemove\n} from \"@kit-ui/admin\"\n\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst DocumentChildrenSearch = (props) => {\n    const { schema, uiSchema } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const id = formData && formData.id\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // add children\n\n    const [q, setQ] = useState(\"\")\n    const [list, setList] = useState([])\n\n    const queryQ = [\n        \"uniqueId:NOT \" + uniqueId,\n        \"parentId:NOT \" + id,\n        q\n    ]\n\n    const query = {\n        url: pathname + \"/children/search\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: queryQ.join(' '),\n        ...uiQuery\n    }\n\n    // query\n\n    useEffect(() => {\n        query && dispatch(getQuery(query))\n    }, [q])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n    const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n\n    // onAdd and onRemove\n\n    const _onAdd = ({uniqueId}) => {\n        uniqueId && setList([...list, uniqueId])\n    }\n\n    const _onQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    return (\n\n        <ListView title=\"Add children\">\n            <ListSearch onChange={_onQuery} />\n            {resultsLoaded && resultsLoaded.map(model => <ListModule {...model} primaryButton={<ButtonAdd />} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenSearch","import React, { useState, useEffect } from 'react';\nimport { WidgetSearch, List, ListModule, ButtonAdd, ButtonRemove } from \"../\"\nimport _ from \"lodash\"\n\nimport DocumentListRemove from \"./DocumentListRemove\"\nimport DocumentListSearch from \"./DocumentListSearch\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\n\nconst DocumentChildrenField = (props) => {\n    const { schema, idSchema, uiSchema, formContext } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // currentChildren\n\n    const query = {\n        url: pathname + \"/children\",\n        models: \"documents\",\n        collectionId: collectionId,\n        parentId: formData.id,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery(query))\n    }, [uniqueId, parentId])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    // actions\n\n    const onSelect = formContext && formContext.onSelect\n\n    const _onRemove = ({uniqueId}) => {\n\n    }\n\n    const _onEdit = ({uniqueId}) => {\n        const id = idSchema && idSchema.$id\n        const url = app.root + \"/\" + uniqueId + \"/edit#\" + id\n        onSelect && onSelect({url})\n    }\n\n    return (\n        <div>\n\n            <DocumentListRemove {...currentSearch} title=\"Children\" onRemove={_onRemove} onEdit={_onEdit} />\n\n            <DocumentListSearch {...props} />\n\n        </div>\n    )\n\n\n    \n\n}\n\nexport default DocumentChildrenField","import React, { useState, useEffect } from 'react';\nimport ISO6391 from 'iso-639-1'\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst LocaleField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const languages = formContext && formContext.languages || []\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const getOptions = () => {\n\n        let optionsEnum = [\n        ], optionsNames = [\n        ]\n\n        languages && languages.map(lang => {\n            const label = ISO6391.getNativeName(lang) + \" (\"+lang+\")\" || lang\n            optionsEnum.push(lang)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [languages])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default LocaleField","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst CollectionIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const pathname = useSelector(state => state.editor.pathname)\n\n    const query = {\n        url: pathname + \"/collectionId\",\n        models: \"collections\",\n        fl: \"id,collectionType,uniqueId,title\",\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        pathname && dispatch(getQuery(query))\n    }, [pathname])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded || []\n        // const options = models.length && getOptionsTree(models) || []\n\n        let optionsEnum = [\n            null,\n            formData,\n        ], optionsNames = [\n            \"No collectionId\",\n            \"CollectionId \" + formData,\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.collectionType+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default CollectionIdField","import DocumentParentIdField from \"./DocumentParentIdField\"\nimport DocumentParentsField from \"./DocumentParentsField\"\nimport DocumentChildrenField from \"./DocumentChildrenField\"\nimport DocumentLocaleField from \"./DocumentLocaleField\"\nimport DocumentCollectionIdField from \"./DocumentCollectionIdField\"\n\nexport default {\n    fields: {\n        \"documentParentId\": DocumentParentIdField,\n        \"documentParents\": DocumentParentsField,\n        \"documentChildren\": DocumentChildrenField,\n        \"documentLocale\": DocumentLocaleField,\n        \"documentCollectionId\": DocumentCollectionIdField\n    }\n\n}","import React from \"react\"\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst ReferenceField = (props) => {\n    const { schema, idSchema, uiSchema = {}, formData = {}, formContext } = props;\n    const { referenceId, reference = {} } = formData;\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const getUiButtons = () => {\n        const buttons = uiOptions && uiOptions.buttons || [\"save\",\"edit\"]\n\n        const buttonProps = {\n            ...props,\n            referenceId: referenceId,\n            reference: reference,\n            id: idSchema && idSchema.$id\n        }\n\n        const { onSave, onEditReference, onDialog, onUpload } = formContext\n\n        let uiButtons = []\n        \n        buttons.map(button => {\n\n            if (typeof button === \"string\") {\n                button = {\n                    type: button,\n                    title: button.charAt(0).toUpperCase() + button.slice(1)\n                }\n            }\n\n            const { type = \"button\" } = button\n\n            if (type === \"save\") {\n                button.onClick = () => onSave && onSave(buttonProps)\n            } else if (type === \"edit\") {\n                button.onClick = () => onEditReference && onEditReference(buttonProps)\n            }\n\n            /*\n            if (type === \"dialog\" || type === \"sidebar\") {\n                button.onClick = () => onDialog && onDialog(buttonProps)\n            } else if (type === \"upload\") {\n                button.onClick = () => onUpload && onUpload(buttonProps)\n            }\n            */\n\n            button = {\n                ...button,\n                type: \"button\",\n                disabled: props.disabled || props.readonly\n            }\n\n            uiButtons.push(button)\n        })\n\n        return uiButtons\n\n    }\n\n    const getUiSchema = () => {\n\n        let fieldset = uiOptions.fieldset || []\n\n        if (!uiOptions.fieldset && schema.properties) {\n            \n            Object.keys(schema.properties).map(name => {\n                \n                const type = schema.properties[name] && schema.properties[name].type || undefined;\n                \n                if (type === \"object\") {\n                    fieldset.push(name)\n                }\n\n                if (type === \"array\") {\n                    fieldset.push(name)\n                }\n                \n            })\n            \n        }\n\n        let uiReference, uiContent\n\n        if (fieldset && fieldset.includes('reference')) {\n            const uiSchemaReference = uiSchema && uiSchema.reference;\n            uiReference = {\n                \"ui:title\": \"Reference\",\n                ...uiSchemaReference\n            }\n\n        }\n\n        if (fieldset && fieldset.includes('content')) {\n            const uiSchemaContent = uiSchema && uiSchema.content;\n            uiContent = {\n                \"ui:title\": \"Innhold\",\n                ...uiSchemaContent\n            }\n        }\n\n        const layout = uiOptions.layout || \"module\"\n\n        return {\n            \"ui:editable\": true,\n            \"ui:deletable\": referenceId && true,\n            \"ui:restorable\": referenceId && true,\n            \"ui:removable\": !referenceId && true,\n            \"ui:layout\": layout,\n            \"ui:fieldset\": fieldset,\n            \"ui:buttons\": getUiButtons(),\n            \"ui:nav\": \"tabs\",\n            \"reference\": uiReference,\n            \"content\": uiContent,\n            \"ui:preview\": {\n                \"select\": {\n                    \"_action\": \"_action\",\n                    \"type\": \"type\",\n                    \"title\": \"title\",\n                    \"description\": \"description\",\n                    \"imageUrl\": \"imageUrl\",\n                    \"status\": \"status\",\n                    \"referenceId\": \"referenceId\",\n                    \"reference\": \"reference\"\n                },\n                prepare({formData = {}}) {\n                    const { _action, reference, referenceId } = formData;\n            \n                    let status = reference && reference.status;\n            \n                    if (_action === \"delete\") {\n                        status = \"trash\"\n                    }\n            \n                    return {\n                        _action: _action,\n                        type: reference && reference.documentType,\n                        title: reference && reference.title,\n                        description: reference && reference.description,\n                        imageUrl: reference && reference.imageUrl,\n                        status: status,\n                        referenceId: referenceId,\n                        reference: reference\n                    }\n                }                \n            },\n            ...uiSchema,\n        }\n        \n    }\n\n    const _onChange = (formData) => {\n        const { _action, referenceId, reference = {} } = formData;\n\n        // if no referenceId, action = \"create\"\n\n        if (!referenceId) {\n            formData._action = \"create\"\n        }\n\n        // if reference dont have a uniqueId, action = \"create\"\n\n        if (!reference) {\n            formData.reference = {}\n        }\n\n        if (!reference.uniqueId) {\n            formData.reference._action = \"create\"\n        }\n\n        props.onChange && props.onChange(formData)\n\n\n    }\n\n\n    const { ObjectField } = props.registry.fields\n\n    const newUiSchema = getUiSchema()\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default ReferenceField","import ReferenceField from \"./ReferenceField\"\n\nexport default {\n    fields: {\n        \"reference\": ReferenceField,\n    },\n    widgets: {}\n}","\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"main\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"light\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"dark\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"contrastText\": {\n            \"type\": \"string\",\n//            \"format\": \"color\"\n        },\n    }\n}","import paletteColor from \"./ThemePaletteColor.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"primary\": paletteColor,\n        \"secondary\": paletteColor\n    }\n}","import palette from \"./ThemePalette.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"type\": {\n            \"type\": \"string\",\n            \"enum\": [\"light\",\"dark\"],\n            \"enumNames\": [\"Light\",\"Dark\"],\n            \"default\": \"light\"\n        },\n        \"palette\": palette,\n        \"colors\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"string\",\n                \"format\": \"color\"\n            }\n        }\n    }\n}","import theme from \"../ThemeEditor/ThemeEditor.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"modelName\": {\n            \"type\": \"string\",\n            \"default\": \"collections\",\n            \"readOnly\": true\n        },\n        \"collectionType\": {\n            \"type\": \"string\",\n            \"default\": \"primus\",\n            \"readOnly\": true\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"readOnly\": true\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"siteId\": {\n            \"type\": \"number\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"name\": {\n                    \"type\": \"string\",\n                    \"readOnly\": true\n                },\n                \"title\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                },\n                \"siteId\": {\n                    \"type\": \"number\"\n                },\n                \"theme\": theme,\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"main\",\n        \"light\",\n        \"dark\"\n    ],\n    \"ui:options\": {\n        \"grid\": true,\n    },\n    \"main\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:size\": \"large\",\n        \"ui:xs\": 12,\n    },\n    \"light\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:xs\": 6,\n    },\n    \"dark\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:xs\": 6,\n    }\n}","import colorUi from \"./ThemePaletteColor.uiSchema\"\n\nexport default {\n    \"ui:fieldset\": [\n        \"type\",\n        \"palette\",\n        \"colors\"\n    ],\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"palette\": {\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"primary\": {\n            ...colorUi,\n            \"ui:field\": \"themePaletteColor\",\n            \"ui:layout\": \"fieldset\",\n            \"ui:title\": \"Primary\",\n            \"ui:options\": {\n                \"xs\": 6,\n                \"grid\": true\n            },\n        },\n        \"secondary\": {\n            ...colorUi,\n            \"ui:field\": \"themePaletteColor\",\n            \"ui:layout\": \"fieldset\",\n            \"ui:title\": \"Secondary\",\n            \"ui:options\": {\n                \"xs\": 6,\n                \"grid\": true\n            }\n        },\n    },\n    \"colors\": {\n        \"ui:title\": \"Additional colors\",\n        \"ui:layout\": \"fieldset\",\n        \"ui:sortable\": true,\n        \"items\": {\n            \"ui:widget\": \"themePaletteColor\",\n            \"ui:title\": \"Color\"\n        }\n    }\n}","import schema from \"./CollectionEditor.schema\"\nimport uiSchema from \"./CollectionEditor.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","import theme from \"../ThemeEditor/ThemeEditor.uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": {\n        \"ui:fieldset\": [\n            \"modelName\",\n            \"collectionType\",\n            \"title\",\n            \"name\",\n            \"siteId\"\n        ],\n        \"siteId\": {\n            \"ui:field\": \"collectionSiteId\"\n        }\n    },\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"theme\"\n        ],\n        \"header\": {\n            \"ui:title\": \"Informasjon\",\n            \"ui:icon\": \"info\",\n            \"ui:layout\": \"section\",\n            \"ui:options\": {\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"title\",\n                \"description\",\n                \"siteId\"\n            ],\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n                \"ui:widget\": \"textarea\"\n            },\n            \"siteId\": {\n                \"ui:title\": \"Eier\",\n                \"ui:field\": \"collectionSiteId\"\n            },\n        \n        },\n        \"theme\": {\n            ...theme,\n            \"ui:title\": \"Theme\",\n            \"ui:icon\": \"palette\",\n            \"ui:layout\": \"section\",\n            \"ui:options\": {\n                \"spacing\": 2\n            },\n        }\n    }\n}","import React, { useState, useEffect } from 'react';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst CollectionSiteIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const [models, setModels] = useState([])\n\n    const _getQuery = () => {\n\n        const apiUrl = \"https://kompass.dimu.org/admin/api/sites\"\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results.models && setModels(results.models)\n        })\n\n    }\n\n    useEffect(() => {\n        _getQuery(uiQuery)\n    }, [])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const getOptions = () => {\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No siteId\"\n        ]\n\n        models && models.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [models])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default CollectionSiteIdField","import CollectionEditorModel from \"./CollectionEditor.model\"\nimport CollectionSiteIdField from \"./CollectionSiteIdField\"\n\nexport default {\n    fields: {\n        \"collectionSiteId\": CollectionSiteIdField,\n    },\n    models: {\n        \"collectionEditor\": CollectionEditorModel\n    }\n\n}","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst PageEditorField = (props) => {\n    const { idSchema, schema, uiSchema, formData, formContext, registry } = props;\n    const { uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { isLoading, isSaving, currentId, currentLocale, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const getPrimaryAction = () => {\n\n        if (isLoading) {\n            return {\n                label: t(\"Loading\") + \" ...\",\n                disabled: true\n            }\n        } else if (isSaving) {\n            return {\n                label: t(\"Saving\") + \" ...\",\n                disabled: true\n            }\n        }\n\n        let primary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save as draft\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"draft\"}}, event),\n                },\n                {\n                    label: t(\"Save and publish\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"publish\"}}, event),\n                },\n            ]\n        }\n\n        let secondary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save and exit\"),\n                }\n            ]\n\n        }\n\n        if (uniqueId) {\n            secondary.children.push({\n                label: t(\"Save as\") + \" ...\",\n                onClick: (event) =>  onSubmit({formData: {...formData, status: \"copy\"}}, event),\n            })\n        }\n        \n\n        return {\n            type: \"save\",\n            label: t(\"Save\"),\n            onClick: (event) => onSubmit({formData}, event),\n            children: [\n                primary,\n                secondary\n            ]\n        }\n    \n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getPrimaryAction()\n\n    // toggle fieldset\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggle = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale || formContext.languages && formContext.languages[0]\n//    const [currentLocale, setCurrentLocale] = useState(defaultLocale)\n\n    const _onLocale = (locale) => {\n\n\n        onLocale && onLocale(locale)\n//        setCurrentLocale(locale)\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:layout\": \"pageEditor\",\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggle\": () => _onToggle()\n    }\n\n    const { ObjectField } = registry.fields;\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...formContext,\n            currentLocale: currentLocale\n        }\n    }\n\n    return (\n        <ObjectField {...props} registry={newRegistry} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageEditorField;","import React from 'react'\nimport { EditorBase, EditorHeader, EditorBody, EditorFooter, EditorOverlay } from \"@kit-ui/admin\"\n\nconst PageEditor = ({collapsible, expanded, overlay, onToggle, onSelect, children, ...props}) => {\n\n    const renderOverlay = () => {\n        const OverlayTemplate = overlay && overlay.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={overlay && overlay.expanded}>\n                { OverlayTemplate && <OverlayTemplate {...overlay} /> }\n            </EditorOverlay>\n        )\n    }\n\n    return (\n        <EditorBase>\n            <EditorHeader {...props} collapsible={collapsible} expanded={expanded} onToggle={onToggle} onSelect={onSelect} />\n            <EditorBody elevation={1} expanded={expanded}>\n                {children}\n            </EditorBody>\n            <EditorFooter {...props} />\n            { overlay && renderOverlay() }\n        </EditorBase>\n    )\n}\n\nexport default PageEditor;","import React, { useState } from 'react'\n\nconst PageContentField = (props) => {\n    const { uiSchema, formContext, registry } = props\n    const { dialog, preview } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": dialog,\n        \"ui:preview\": preview,\n        \"ui:layout\": \"pageContent\"\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageContentField;","import React from 'react';\nimport { NavMenuList, NavMenuItem, NavMenuLink } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    menu: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: \"auto\",\n        left: 0,\n        bottom: 0,\n        margin: 0,\n        width: props => { return props.menuWidth },\n        transition: \".125s ease-out\",\n\n        \"& + *\": {\n            position: \"absolute\",\n            zIndex: 1,\n            top: 0,\n            right: 0,\n            left: 0,\n            bottom: 0,\n            margin: 0,\n            overflowY: \"scroll\"\n        },\n\n        \"&[aria-expanded=true] + *\":  {\n            marginLeft: props => { return props.menuWidth },\n        }\n    },\n    menuList: {\n        margin: theme.spacing(2, 0),\n        \"& > li + li\": {\n            marginTop: theme.spacing(1)\n        }\n    }\n}));\n\nconst PageMenu = ({className, menuWidth = 224, menu = undefined}) => {\n    const classes = useStyles({menuWidth});\n\n    if (!menu) {\n        return false\n    }\n\n    return (\n        <aside className={className || classes.menu} aria-expanded={true}>\n            <NavMenuList className={classes.menuList}>\n                {menu.map((item, index) => {\n                    return (\n                        <NavMenuItem key={index}>\n                            <NavMenuLink {...item} />\n                        </NavMenuItem>\n                    )\n                })}\n            </NavMenuList>\n        </aside>\n    )\n\n}\n\nexport default PageMenu;","import React from 'react';\nimport { EditorSection, EditorContent, EditorPreview, EditorSidebar } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    content: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n\n        transition: \".125s ease-out\",\n        transform: \"translateY(100%)\",\n\n        \"&[aria-expanded=true]\": {\n            transform: \"translateY(0)\",\n        }\n    },\n    wrapper: {\n        backgroundColor: \"inherit\", \n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst PageContent = ({id, selected = true, sidebar, preview, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    const renderSidebar = () => {\n        const SidebarTemplate = sidebar && sidebar.template;\n\n        return (\n            <EditorSidebar expanded={sidebar && sidebar.expanded}>\n                { SidebarTemplate && <SidebarTemplate {...sidebar} /> }\n            </EditorSidebar>\n        )\n    }\n\n    const renderPreview = () => {\n        const PreviewTemplate = preview && preview.template;\n        return (\n            <EditorPreview expanded={true}>\n                { PreviewTemplate && <PreviewTemplate {...preview} /> }\n            </EditorPreview>\n        )\n    }  \n\n    return (\n        <EditorSection id={id} expanded={selected} className={classes.content}>\n            { sidebar && renderSidebar() }\n            <EditorSection elevation={0} className={classes.wrapper}>\n                { preview && renderPreview() }\n                <EditorContent elevation={0}>\n                    { menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n                    {children}\n                </EditorContent>\n            </EditorSection>\n        </EditorSection>\n    )\n\n}\n\nexport default PageContent;","import React, { useState } from 'react'\n\nconst PageSettingsField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props\n    const { dialog } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:layout\": \"pageSettings\",\n        \"ui:field\": undefined\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageSettingsField;","import React from 'react';\n\nimport { EditorSection, EditorContent, EditorOverlay } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        \"&[aria-expanded=true]\": {\n            top: 0\n        }\n\n    },\n}));\n\nconst PageSettings = ({id, expanded = true, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    /*\n\n    const renderDialog = () => {\n        const DialogTemplate = dialog && dialog.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={dialog && dialog.expanded}>\n                { DialogTemplate && <DialogTemplate {...dialog} /> }\n            </EditorOverlay>\n        )\n    }\n\n    */\n\n    return (\n        <EditorSection id={id} elevation={0} className={classes.settings} aria-expanded={expanded}>\n            {menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n            <EditorContent expanded={true}>\n                {children}\n            </EditorContent>\n        </EditorSection>\n    )\n\n}\n\nexport default PageSettings;","import PageEditorField from \"./PageEditorField\"\nimport PageEditor from \"./PageEditorLayout\"\nimport PageContentField from \"./PageContentField\"\nimport PageContent from \"./PageContentLayout\"\nimport PageSettingsField from \"./PageSettingsField\"\nimport PageSettings from \"./PageSettingsLayout\"\n\nexport default {\n    fields: {\n        \"pageEditor\": PageEditorField,\n        \"pageEditorLayout\": PageEditor,\n        \"pageContent\": PageContentField,\n        \"pageContentLayout\": PageContent,\n        \"pageSettings\": PageSettingsField,\n        \"pageSettingsLayout\": PageSettings\n    }\n\n}","import schema from \"./ThemeEditor.schema\"\nimport uiSchema from \"./ThemeEditor.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","import schema from \"./ThemePalette.schema\"\n\nexport default {\n    schema: schema\n}","import React, { useState, useEffect } from 'react';\nimport createPalette from '@material-ui/core/styles/createPalette';\n\nconst CollectionThemePaletteField = (props) => {\n\n    const { onChange } = props\n\n    const { ObjectField } = props.registry.fields\n\n    const _onChange = (formData) => {\n\n        if (formData.primary.main) {\n//            formData = createPalette({primary: {main: formData.primary.main}})\n        }\n\n        onChange && onChange(formData)\n\n    }\n\n    return (\n        <div>\n            <ObjectField {...props} onChange={_onChange} />\n        </div>\n    )\n    \n}\n\nexport default CollectionThemePaletteField;\n","import React, { useState, useEffect } from 'react';\nimport createPalette from '@material-ui/core/styles/createPalette';\nimport tinycolor from 'tinycolor2';\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst CollectionThemePaletteColorField = (props) => {\n    const { formData, onChange } = props\n\n    const { ObjectField } = props.registry.fields\n\n    const _getColor = ({main, light, dark, ...color}) => {\n\n        return {\n            ...color,\n            main: \"#\" + tinycolor(main).toHex(),\n            light: \"#\" + tinycolor(light).toHex(),\n            dark: \"#\" + tinycolor(dark).toHex(),\n        }\n\n    }\n\n    const _onChange = ({main, light, dark}) => {\n\n        let palette, color\n\n        if (main && main !== formData.main) {\n            palette = createPalette({primary: { main: main }})\n        }\n\n        if (palette && palette.primary) {\n            onChange && onChange(_getColor(palette.primary))\n        }\n\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n\n\n    const uiSchema = {\n        ...props.uiSchema,\n        main: {\n            ...props.uiSchema.main,\n            \"ui:title\": uiOptions.title.charAt(0) + \" – main\"\n        },\n        light: {\n            ...props.uiSchema.light,\n            \"ui:title\": uiOptions.title.charAt(0) + \" – light\"\n        },\n        dark: {\n            ...props.uiSchema.dark,\n            \"ui:title\": uiOptions.title.charAt(0) + \" – dark\"\n        }\n    }\n\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} onChange={_onChange} />\n    )\n\n\n}\n\nexport default CollectionThemePaletteColorField;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\"\nimport tinycolor from 'tinycolor2';\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\" \n\nconst useStyles = makeStyles(theme => ({\n    swatch: {\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return theme.palette.getContrastText(props.backgroundColor) },\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& input\": {\n            fontFamily: \"Akkurat mono, monospace\",\n            fontSize: props => { return props.size === \"large\" && 24 },\n            paddingBottom: props => { return props.size === \"large\" && 10 + 24 }\n        },\n\n        \"& *\": {\n            color: \"inherit\"\n        }\n\n    }\n}));\n\nconst CollectionThemeColorWidget = (props) => {\n\n    const {\n        onChange,\n        registry,\n        options\n    } = props\n\n    const [value, setValue] = useState(props.value)\n\n    const classes = useStyles({backgroundColor: props.value, size: options && options.size})\n\n    const _getColor = (color) => {\n        return \"#\" + tinycolor(color).toHex()\n    }\n\n    useEffect(() => {\n        setValue(props.value)\n    }, [props.value])\n\n    const _onChange = (value) => {\n\n        if (tinycolor(value).isValid()) {\n            onChange && onChange(_getColor(value))\n        }\n\n        setValue(value)\n\n    }\n\n    const { TextWidget } = registry.widgets\n\n    return (\n        <TextWidget {...props} className={classes.swatch} value={value} onChange={_onChange} />\n    )\n\n}\n\nCollectionThemeColorWidget.defaultProps = {\n    value: \"#666\"\n}\n\nCollectionThemeColorWidget.propTypes = {\n    value: PropTypes.string,\n    onChange: PropTypes.func\n}\n\nexport default CollectionThemeColorWidget;","import ThemeEditor from \"./ThemeEditor.model\"\n\nimport ThemePaletteModel from \"./ThemePalette.model\"\nimport ThemePaletteField from \"./ThemePaletteField\"\n\nimport ThemePaletteColorField from \"./ThemePaletteColorField\"\nimport ThemeColorWidget from \"./ThemeColorWidget\"\n\nexport default {\n    fields: {\n        \"themePalette\": ThemePaletteField,\n        \"themePaletteColor\": ThemePaletteColorField,\n    },\n    widgets: {\n        \"themeColor\": ThemeColorWidget\n    },\n    models: {\n        \"themeEditor\": ThemeEditor,\n        \"themePalette\": ThemePaletteModel\n    }\n\n}","import React, { forwardRef, useState, useEffect, useRef } from 'react';\nimport PropTypes from \"prop-types\"\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: \"fixed\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        zIndex: 3000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    header: {\n        height: theme.spacing(6),\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        padding: theme.spacing(2)\n    },\n    editor: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: theme.spacing(4)\n    },\n    closeButton: {\n    },\n    icon: {\n        width: 20,\n        height: 20,\n//        borderRadius: \"50%\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n//        boxShadow: theme.shadows[1]\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 11,\n        textTransform: \"uppercase\",\n        fontWeight: \"bold\",\n        lineHeight: '1',\n        textAlign: \"center\",\n    }    \n}));\n\nconst LocalizedStringSettings = (props) => {\n\n    const { name, schema, formContext } = props;\n\n    const languages = formContext.languages || [\"en\"];\n    const defaultLocale = formContext.defaultLocale || languages[0]\n    const currentLocale = formContext.currentLocale || defaultLocale\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onExpand = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const classes = useStyles()\n\n    const { ObjectField } = props.registry.fields\n\n    const uiSchema = {\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        }\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n    const title = uiOptions.title || name\n\n    const Overlay = ({expanded, children}) => {\n\n        if (!expanded) {\n            return false\n        }\n\n        return (\n            <div className={classes.overlay}>\n\n                <div className={classes.editor}>\n\n                    <header className={classes.header}>\n                        <Typography>{title}</Typography>\n                        <IconButton className={classes.closeButton} onClick={() => _onCollapse()}>\n                            <CloseIcon></CloseIcon>\n                        </IconButton>\n                    </header>\n\n                    {children}\n                </div>\n\n            </div>\n        )\n\n    }\n\n    return (\n        <IconButton>\n            <div className={classes.icon}>\n                <div className={classes.label}>{currentLocale}</div>\n            </div>\n        </IconButton>\n    )\n\n    return (\n        <React.Fragment>\n            <IconButton onClick={_onExpand} ref={anchorRef}>\n                <div className={classes.icon}>\n                    <div className={classes.label}>{currentLocale}</div>\n                </div>\n            </IconButton>\n            <Overlay expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <ObjectField {...props} uiSchema={uiSchema} />\n            </Overlay>\n        </React.Fragment>\n    )\n\n}\n\nLocalizedStringSettings.defaultProps = {\n}\n\nLocalizedStringSettings.propTypes = {\n}\n\nexport default LocalizedStringSettings;","import React from 'react';\nimport LocalizedStringSettings from \"./LocalizedStringSettings\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\n/** Localized string  */\n\nconst LocalizedStringField = (props) => {\n    const { schema, uiSchema, formContext } = props;\n    const uiOptions = getUiOptions(uiSchema)\n\n    const languages = formContext.languages || [\"en\"];\n    const defaultLocale = formContext.defaultLocale || languages[0]\n    const currentLocale = formContext.currentLocale || defaultLocale\n\n    const getUiSchema = () => {\n\n        let localizedUiSchema = {\n            \"ui:fieldset\": [\n                \"locale:\"+currentLocale\n            ]\n        }\n    \n        Object.keys(schema.properties).map(name => {\n            const localeProps = name.split(':')\n            const locale = localeProps[1]\n\n            const title = uiOptions.title && uiOptions.title + \":\" + locale;\n            const help = uiOptions.help;\n\n            const endAdornment = <LocalizedStringSettings {...props} />\n\n            localizedUiSchema[name] = {\n                ...uiSchema,\n                \"ui:field\": undefined,\n                \"ui:options\": {\n                    \"endAdornment\": endAdornment,\n                    \"widget\": uiOptions.widget || \"text\",\n                    \"title\": title, \n                    \"language\": locale,\n                    \"help\": help,\n                },\n            }\n        \n        })\n    \n        return {\n            ...localizedUiSchema,\n            \"ui:collapsible\": true,\n            \"ui:expanded\": false\n        }\n        \n    }\n\n    const { SchemaFieldset } = props.registry.fields;\n\n    const newUiSchema = getUiSchema()\n    const newUiOptions = getUiOptions(newUiSchema)\n\n    return (\n        <SchemaFieldset  {...props} uiSchema={newUiSchema} fieldset={newUiOptions.fieldset} />\n    )\n\n}\n\nexport default LocalizedStringField;","import LocalizedStringField from \"./LocalizedStringField\"\n\nexport default {\n    \"fields\": {\n        \"localizedString\": LocalizedStringField\n    },\n    \"layouts\": {\n    },\n    \"widgets\": {\n    }\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst useStyles = makeStyles(theme => ({\n    fieldset: {\n        padding: props => { return theme.spacing(props.padding) },\n    },\n    nav: {\n        \"& > [aria-hidden=true]\": {\n            display: props => { return !props.hasFormat && \"none\"},\n            opacity: 0,\n            pointerEvents: \"none\",\n        }\n    },\n    flex: {\n        display: \"flex\",\n        flexDirection: props => { return !props.inline && \"column\" }, \n        alignItems: props => { return props.inline && \"center\" },\n        margin: props => { return theme.spacing(props.spacing * -1/2) },\n\n        \"& > *\": {\n            margin: props => { return theme.spacing(props.spacing * 1/2) }   \n        }\n\n    },\n}));\n    \nconst CustomObjectFieldTemplate = (props) => {\n    const uiOptions = getUiOptions(props.uiSchema)\n\n    const { layout, nav, grid, inline = false, spacing = 0, padding = 0, direction, justify, alignItems, format, minHeight } = uiOptions\n\n    const hasFormat = format || minHeight || false\n\n    const classes = useStyles({inline, padding, spacing, direction, justify, alignItems, hasFormat})\n\n    // nav\n\n    if (nav) {\n        return (\n            <div className={classes.nav} role=\"tablist\">\n                {props.properties.map((field, index) => {\n                    const fieldUiSchema = field.uiSchema || props.uiSchema[field.name] || {}\n                    const fieldUiOptions = getUiOptions(fieldUiSchema) || {}\n\n                    return (\n                        <div role=\"tab\" data-name={field.name} aria-hidden={!fieldUiOptions.selected} key={index}>\n                            { field.content }\n                        </div>\n                    )\n\n                })}\n            </div>\n        )\n    }\n\n    // grid\n\n    if (grid) {\n        return (\n            <div className={classes.fieldset}>\n                <Grid className={classes.grid}\n                        container\n                        spacing={spacing}\n                        direction={direction || \"row\"}\n                        justify={justify || \"flex-start\"}\n                        alignItems={alignItems || \"flex-start\"}\n                    >\n                    {props.properties.map((field, index) => {\n                        const fieldUiSchema = field.uiSchema || props.uiSchema[field.name] || {}\n                        const fieldUiOptions = getUiOptions(fieldUiSchema) || {}\n\n                        const { xs, sm, md, lg, xl } = fieldUiOptions\n\n                        return (\n                            <Grid data-name={field.name} item key={index} xs={xs} sm={sm} md={md} lg={lg} xl={xl} key={index}>\n                                { field.content }\n                            </Grid>\n                        )\n                    })}\n                </Grid>\n            </div>\n        )\n    }\n\n    // flex\n\n    const flex = inline && true || spacing && true\n\n    if (!layout) {\n        return (\n            <div className={classes.fieldset}>\n                <div className={classes.flex}>\n                    { props.properties.map((field, index) => {\n                        return (\n                            <div className={classes.flexItem} data-name={field.name} key={index}>\n                                { field.content }\n                            </div>\n                        )\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    return props.properties.map((field, index) => {\n        return field.content\n    })\n\n}\n\nexport default CustomObjectFieldTemplate","export const getMeasureFromString = (value) => {\n    const typings = value && value.split(\":\")\n\n    let measureType, measureValue = value\n\n    if (typings.length > 1) {\n        measureType = typings[0]\n        measureValue = typings[1]\n    }\n\n    const numberValue = measureValue.replace(/,/g, '.')\n    const split = numberValue && numberValue.split(\"x\") || []\n\n    const width = split && split[0] && parseFloat(split[0])\n    const height = split && split[1] && parseFloat(split[1])\n    const depth = split && split[2] && parseFloat(split[2])\n\n    const unitValue = split && split.length && split[split.length-1]\n\n    const unit = width && unitValue && unitValue.replace(/[0-9,.]/g, '')\n\n    let size = []\n\n    width && size.push(width)\n    height && size.push(height)\n    depth && size.push(depth)\n\n    size = size.join('×')\n\n    if (unit) {\n        size = size + unit\n    }\n    \n    return {\n        measureType: measureType,\n        width: width,\n        height: height,\n        depth: depth,\n        unit: unit,\n        size: size,\n        value: value\n    }\n\n}","const API = \"https://kompass.dimu.org\"\n\nconst _getUploadUrl = ({file, uploadData, onAdd, onProgress}) => {\n    const { name, type, size } = file\n\n    uploadData = {\n        ...uploadData,\n        title: uploadData.title || name,\n        filename: name,\n        mimeType: type,\n        mediaSize: size,\n        content: {\n            ...uploadData.content,\n            title: name,\n            filename: name\n        }\n    }\n\n    // where to upload?\n\n    let apiUrl = API + '/admin/api/media/upload';\n\n    if (type.startsWith('image/')) {\n        apiUrl = apiUrl + '/image'\n    } else if (type.startsWith('video/')) {\n        apiUrl = apiUrl + '/video'\n    } else if (type.startsWith('audio/')) {\n        apiUrl = apiUrl + '/audio'\n    } else {\n        apiUrl = apiUrl + '/misc'\n    }\n\n    console.log('apiUrl', apiUrl);\n\n    const payload = JSON.stringify(uploadData);\n\n    fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: payload\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(model => _getUploadData({file, model, onAdd, onProgress}))          \n\n}\n\nconst _getUploadData = ({file, model, onAdd, onProgress}) => {\n    const { uniqueId, uploadUrl } = model;\n\n    onAdd && onAdd(model)\n\n    const _onProgress = (event) => {\n        let uploadProgress;\n\n        if (event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n\n        onProgress && onProgress({\n            uniqueId,\n            uploadProgress\n        })\n\n    }\n\n    // do the upload\n\n    let payload = new FormData();\n    payload.append('file', file);\n\n    var xhr = new XMLHttpRequest();\n        xhr.upload.addEventListener(\"progress\", (event) => _onProgress(event), false);\n        xhr.open(\"POST\", uploadUrl);\n        xhr.send(payload);\n\n}\n\nconst getArrayUpload = ({acceptedFiles = [], uploadData = {}, onAdd}) => {\n\n    acceptedFiles && acceptedFiles.map((file, index) => {\n        _getUploadUrl({file, uploadData, onAdd})\n    })\n\n}\n\nconst getUpload = ({file, uploadData = {}, onAdd, onProgress}) => {\n    _getUploadUrl({file, uploadData, onAdd, onProgress})\n}\n\n\nexport {\n    getUpload,\n    getArrayUpload\n}","import { \n    getUpload, \n    generateKeyedFormData, \n    keyedToPlainFormData\n } from \"./\"\n\nexport const getUploadProps = ({formData, formContext, onChange}) => {\n\n    const { id, collectionId } = formContext;\n\n    let media = []\n\n    formData.content.images && formData.content.images.map(item => {\n        media.push(item)\n    })\n\n    let keyedMedia = generateKeyedFormData(media || [])\n\n//    let keyedMedia = generateKeyedFormData(formData.content.media || [])\n\n    const _onUploadChange = (media = []) => {\n\n        const images = media.filter(item => item.media.mediaType === \"image\") || []\n        const attachments = media.filter(item => item.media.mediaType !== \"image\") || []\n\n        onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                media: media,\n                attachments: attachments,\n                images: images\n            }\n        })\n    }\n\n    const _onUploadAdd = ({uniqueId, ...media}) => {\n\n        const newKeyedMediaRow = {\n            key: uniqueId,\n            item: {\n                mediaId: uniqueId,\n                media: {\n                    ...media,\n                    uniqueId: uniqueId,\n                    uploadProgress: 0\n                }\n            },\n        };\n\n        keyedMedia = [...keyedMedia, newKeyedMediaRow];\n        _onUploadChange(keyedToPlainFormData(keyedMedia))\n    }\n\n    const _onUploadProgress = ({uniqueId, uploadProgress}) => {\n\n        const media = keyedMedia[uniqueId]\n\n        keyedMedia[uniqueId] = {\n            ...keyedMedia[uniqueId],\n            media: {\n                ...media,\n                uploadProgress: uploadProgress\n            }\n        }\n\n        console.log('uploadProgress', uploadProgress)\n\n        _onUploadChange(keyedToPlainFormData(keyedMedia))\n\n    }\n\n    const _onUpload = (acceptedFiles) => {\n\n        console.log('upload', acceptedFiles)\n\n        const uploadData = {\n            parentId: id,\n            collectionId: collectionId,\n            status: \"upload\"\n        }\n\n        acceptedFiles && acceptedFiles.map((file, index) => {\n            getUpload({file, uploadData, onAdd: _onUploadAdd, onProgress: _onUploadProgress})\n        })\n    \n    }        \n\n    return {\n        _onUpload: _onUpload\n    }\n\n\n\n}","import { \n    generateRowId, \n    generateKeyedFormData, \n    keyedToPlainFormData\n } from \".\"\n\nexport const getEventsProps = ({formData, formContext, onChange}) => {\n\n    const { onCurrentId } = formContext\n\n    let keyedEvents = generateKeyedFormData(formData.content.events || [])\n\n    const _onEventsChange = (events = []) => {\n\n        onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                events: events,\n            }\n        })\n\n\n    }\n\n    const _onEventAdd = (item) => {\n\n        console.log('add event', item)\n\n        const newIndex = keyedEvents.length\n\n        const neyKeyedRow = {\n            key: generateRowId(),\n            item: {\n            },\n        };\n\n        keyedEvents = [...keyedEvents, neyKeyedRow];\n        _onEventsChange(keyedToPlainFormData(keyedEvents))\n\n\n    }\n\n    return {\n        _onEventAdd: (item) => _onEventAdd(item)\n    }\n\n\n}","import shortid from \"shortid\";\n\nexport const generateRowId = () => {\n    return shortid.generate()\n}\n\nexport const generateKeyedFormData = (formData) => {\n    return !Array.isArray(formData)\n      ? []\n      : formData.map(item => {\n          return {\n            key: generateRowId(),\n            item,\n          };\n        });\n}\n\nexport const keyedToPlainFormData = (keyedFormData) => {\n    return keyedFormData.map(keyedItem => keyedItem.item);\n}","import _ from \"lodash\";\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, retrieveSchema, getDefaultFormState, toIdSchema } = utils;\n\nexport const getUiFieldset = (props) => {\n    const { idSchema, idPrefix, schema, uiSchema, formData, formContext } = props\n    const { rootSchema } = props.registry\n\n    const currentId = formContext && formContext.currentId\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    if (!fieldset) {\n        return false\n    }\n \n    let uiFieldset = []\n\n    const getFieldByName = (name) => {\n\n        const fieldSchema = schema && schema.properties && schema.properties[name] && retrieveSchema(schema.properties[name], props.registry.definitions, formData && formData[name])\n        const fieldFormData = fieldSchema && formData && formData[name] && getDefaultFormState(fieldSchema, formData && formData[name])\n        const fieldUiSchema = uiSchema && uiSchema[name] || {}\n        const fieldUiOptions = fieldUiSchema && getUiOptions(fieldUiSchema)\n\n        const fieldIdPrefix = idSchema.$id + \"_\" + name;\n        const fieldSelected = currentId && currentId.startsWith(fieldIdPrefix)\n\n        if (fieldSchema) {\n\n            const fieldIdSchema = toIdSchema(\n                fieldSchema,\n                fieldIdPrefix,\n                rootSchema,\n                fieldFormData,\n                idPrefix\n            );\n    \n            return {\n                ...props,\n                idPrefix: fieldIdPrefix,\n                idSchema: fieldIdSchema,\n                name: name,\n                schema: fieldSchema,\n                uiSchema: {\n                    ...fieldUiSchema,\n                    \"ui:selected\": fieldSelected\n                },\n                uiOptions: fieldUiOptions,\n                formData: fieldFormData,\n                onChange: (value) => props.onChange({...formData, [name]: value})\n            }\n        }\n\n        if (fieldUiSchema && fieldUiOptions.fieldset) {\n\n            const fieldIdSchema = toIdSchema(\n                schema,\n                fieldIdPrefix,\n                rootSchema,\n                formData,\n                idPrefix\n            );\n            \n            return {\n                ...props,\n                idPrefix: fieldIdPrefix,\n                idSchema: fieldIdSchema,\n                name: name,\n                schema: schema,\n                uiSchema: {\n                    ...fieldUiSchema,\n                    \"ui:selected\": fieldSelected\n                },\n                uiOptions: fieldUiOptions,\n                formData: formData\n            }\n        }\n\n    }\n\n    let selected\n\n    fieldset.map((name, index) => {\n        const field = getFieldByName(name)\n\n        if (field) {\n            uiFieldset.push(field)\n\n            if (field.uiSchema[\"ui:selected\"]) {\n                selected = true\n            }\n    \n        }\n\n    })\n\n    if (uiFieldset[0] && !selected) {\n        uiFieldset[0].uiSchema = {\n            ...uiFieldset[0].uiSchema,\n            \"ui:selected\": true\n        }\n    }\n\n\n    return uiFieldset\n    \n}\n\nexport default getUiFieldset","import _ from 'lodash';\nimport { getUiFieldset } from \"./\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nexport const getUiMenu = (props) => {\n    const { uiSchema, formContext } = props;\n    const uiOptions = getUiOptions(uiSchema || {})\n\n    const onExpand = formContext && formContext.onExpand\n\n    const uiFieldset = getUiFieldset(props)\n\n    let uiMenu = []\n\n    if (uiFieldset) {\n\n        uiMenu = uiFieldset.map(field => {\n\n            const { name, idPrefix, uiSchema } = field\n\n            const uiOptions = getUiOptions(uiSchema)\n\n            return {\n                id: idPrefix,\n                name: name,\n                icon: uiOptions['icon'] || undefined,\n                label: uiOptions['title'] || name,\n                selected: uiOptions.selected,\n                onClick: () => onExpand({id: idPrefix})\n            }\n\n\n        })\n\n    }\n\n    if (!uiMenu.length) {\n        return false\n    }\n\n    return uiMenu\n    \n}\n\nexport default getUiMenu","import React, { useState, useRef, createRef } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport Dropzone from 'react-dropzone'\n\nimport PrimusObjectFieldTemplate from \"./PrimusObjectFieldTemplate\"\n\nimport { \n    getUploadProps,\n    getEventsProps,\n    getEditorAction,\n } from \"./utils\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusEditorField = (props) => {\n    const { idSchema, schema, formData, formContext, onChange } = props;\n    const { imageUrl, uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { isEditing = true, isLoading, isSaving, currentId, currentLocale, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const uiOptions = getUiOptions(props.uiSchema)\n\n    const { _onUpload } = getUploadProps(props)\n    const { _onEventAdd } = getEventsProps(props)\n\n    // dropzone\n\n    const dropzoneRef = useRef(null)\n\n    const _onUploadClick = () => {\n        dropzoneRef && dropzoneRef.current && dropzoneRef.current.open()\n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getEditorAction({t, ...props})\n\n    // toggle fieldset\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggleSettings = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale || formContext.languages && formContext.languages[0]\n\n    const _onLocale = (locale) => {\n        onLocale && onLocale(locale)\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusEditor\",\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggleSettings\": () => _onToggleSettings(),\n        \"ui:onTogglePreview\": formContext && formContext.onTogglePreview\n    }\n\n    const { ObjectField } = props.registry.fields;\n\n    const registry = {\n        ...props.registry,\n        ObjectFieldTemplate: PrimusObjectFieldTemplate,\n        formContext: {\n            ...formContext,\n            imageUrl: imageUrl,\n            uniqueId: uniqueId,\n            currentLocale: currentLocale,\n            _onUpload: _onUpload,\n            _onUploadClick: _onUploadClick,\n            _onEventAddClick: _onEventAdd\n        }\n    }\n\n    return (\n        <>\n            <Dropzone ref={dropzoneRef} onDrop={_onUpload}>\n                {({getRootProps, getInputProps}) => (\n                    <div {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    <p>Drag 'n' drop some files here, or click to select files</p>\n                    </div>\n                )}\n            </Dropzone>\n            <ObjectField {...props} formContext={registry.formContext} registry={registry} uiSchema={uiSchema} />\n        </>\n    )\n\n}\n\nexport default PrimusEditorField;","import _ from 'lodash';\nimport { getUiFieldset } from \".\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nexport const getPrimusEventsMenu = ({parent, onAdd, ...props}) => {\n    const { formData, formContext } = props;\n    const { _onEventAddClick } = formContext\n\n    const events = formData.events && formData.events.map((event, index) => {\n\n        const title = event.eventType && event.eventType.value || \"Event \" + index\n        const count = event.dating && event.dating.value || null\n\n        return {\n            id: parent.id + \"_\" + index,\n            title: title,\n            count: count,\n            name: index,\n        }\n    }) || []\n\n    return {\n        ...parent,\n        role: \"section\",\n        children: [\n            ...events,\n            {\n                \"icon\": \"add\",\n                \"title\": \"Legg til\",\n                \"onClick\": onAdd\n            }\n        ]\n    }\n\n}","import _ from 'lodash';\nimport { getUiFieldset } from \"./\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nexport const getPrimusMediaMenu = ({parent, onAdd, ...props}) => {\n    const { formData, formContext } = props;\n    const { _onUploadClick } = formContext\n    \n    const imagesMenu = formData.images && formData.images.length && {\n        \"title\": \"Bilder\",\n        \"id\": parent.id + \"_images_0\",\n        \"count\": formData.images && formData.images.length\n    }\n\n    const attachmentsMenu = formData.attachments && formData.attachments.length && {\n        \"title\": \"Dokumenter\",\n        \"id\": parent.id + \"_attachments_0\",\n        \"count\": formData.attachments && formData.attachments.length\n    }\n\n    return {\n        ...parent,\n        role: \"section\",\n        \"children\": [\n            imagesMenu,\n            attachmentsMenu,\n            {\n                \"icon\": \"add\",\n                \"title\": \"Last opp\",\n                \"onClick\": onAdd\n            }\n        ]\n    }\n\n}","// primary action\n\nexport const getEditorAction = ({t, formData, formContext}) => {\n\n    const { isLoading, isSaving, onSubmit, preview, onTogglePreview } = formContext\n    const { uniqueId } = formData\n\n    if (preview && preview.expanded) {\n        return {\n            type: \"edit\",\n            onClick: onTogglePreview\n        }\n\n    }\n\n    if (isLoading) {\n        return {\n            label: t(\"Loading\") + \" ...\",\n            disabled: true\n        }\n    } else if (isSaving) {\n        return {\n            label: t(\"Saving\") + \" ...\",\n            disabled: true\n        }\n    }\n\n    let primary = {\n        role: \"group\",\n        children: [\n            {\n                label: t(\"Save as draft\"),\n                onClick: (event) => onSubmit({formData: {...formData, status: \"draft\"}}, event),\n            },\n            {\n                label: t(\"Save and publish\"),\n                onClick: (event) => onSubmit({formData: {...formData, status: \"publish\"}}, event),\n            },\n        ]\n    }\n\n    let secondary = {\n        role: \"group\",\n        children: [\n            {\n                label: t(\"Save and exit\"),\n            }\n        ]\n\n    }\n\n    if (uniqueId) {\n        secondary.children.push({\n            label: t(\"Save as\") + \" ...\",\n            onClick: (event) =>  onSubmit({formData: {...formData, status: \"copy\"}}, event),\n        })\n    }\n    \n\n    return {\n        type: \"save\",\n        label: t(\"Save\"),\n        onClick: (event) => onSubmit({formData}, event),\n        children: [\n            primary,\n            secondary\n        ]\n    }\n\n}","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"inherit\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst EditorBase = ({className, elevation = 1, expanded = true, children}) => {\n\n    const classes = useStyles()\n\n    if (!elevation) {\n        return (\n            <div className={className || classes.root} aria-expanded={expanded}>\n                {children}\n            </div>\n        )\n    }\n\n    return (\n        <Paper elevation={elevation} square={true} className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </Paper>\n    )\n\n}\n\nexport default EditorBase;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\n\nimport PathIcon from '@material-ui/icons/NavigateNext';\nimport IconButton from '@material-ui/core/IconButton';\nimport BackIcon from '@material-ui/icons/ArrowBack';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"nowrap\",\n        maxWidth: \"100%\",\n    },\n    back: {\n        marginLeft: theme.spacing(1),\n\n        \"& + $breadcrumbs\": {\n            marginLeft: theme.spacing(1),\n        },\n\n        [theme.breakpoints.up('sm')]: {\n//            display: \"none\"\n        }\n    },\n    breadcrumbs: {\n        marginLeft: theme.spacing(2),\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        lineHeight: \"24px\",\n\n        color: theme.palette.primary.main,\n\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n\n        \"& a:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& li[aria-hidden=true]\": {\n            marginLeft: theme.spacing(.5),\n            marginRight: theme.spacing(.5),\n        },\n\n        [theme.breakpoints.down('sm')]: {\n            \"& li\": {\n                display: \"none\",\n            },\n            \"& li:last-child\": {\n                display: \"block\",\n                maxWidth: \"100%\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n            }\n        },\n\n    },\n    identifier: {\n/*        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        */\n        whiteSpace: \"nowrap\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        color: theme.palette.primary.main,\n    },\n    prefix: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        lineHeight: \"24px\",\n        marginRight: theme.spacing(1),\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        }\n\n    },\n    icon: {\n        marginRight: theme.spacing(1)\n    },\n    parent: {\n        display: \"flex\",\n        color: theme.palette.text.primary\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"normal\",\n        lineHeight: \"24px\",\n\n        \"&[data-title=true]\": {\n            fontWeight: \"bold\",\n        },\n \n    },\n    subtitle: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"24px\",\n        marginLeft: theme.spacing(1),\n    },\n    uniqueId: {\n        fontFamily: \"Akkurat Mono, monospace\",\n        fontSize: \"16px\",\n        lineHeight: \"24px\",\n        textTransform: \"uppercase\",\n        marginLeft: theme.spacing(1),\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst ButtonBack = ({label, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={classes.back} onClick={onClick}>\n            <BackIcon />\n        </IconButton>\n    )\n\n}\n\nconst EditorPath = ({className, status, parents = [], title, subtitle, identifier, untitled = \"Untitled\", onSelect, onBack}) => {\n    const classes = useStyles();\n\n    const _onSelect = (item, event) => {\n        if (onSelect) {\n            onSelect(item, event)\n        }\n    }\n   \n    const _onBack = (event) => {\n        if (onBack) {\n            onBack(event)\n        }\n    }\n\n    if (parents && parents.length) {\n        return (\n            <div className={className}>\n                <ButtonBack className={classes.back} onClick={(event) => _onBack(event)} />\n                <Breadcrumbs className={classes.breadcrumbs} separator={<PathIcon />}>\n                    { parents && parents.map((parent, index) => {\n                        return (\n                            <Link className={classes.parent} noWrap={true} onClick={(event) => _onSelect(parent, event)} key={index}>{parent.title}</Link>\n                        )\n                    })}\n                    <Typography className={classes.identifier} data-status={status} noWrap={true}>\n                        <b className={classes.title} data-status={status} data-title={title && true}>{title || untitled}</b>\n                        { subtitle && <i className={classes.subtitle}>{subtitle}</i> }\n                        { identifier && <i className={classes.uniqueId}>{identifier}</i> }\n                    </Typography>\n                </Breadcrumbs>\n            </div>\n        )\n    }\n\n    return (\n        <div className={className}>\n            <ButtonBack onClick={(event) => _onBack(event)} />\n            <Breadcrumbs className={classes.breadcrumbs} separator={<PathIcon />}>\n                <Typography className={classes.identifier} data-status={status} noWrap={true}>\n                    <b className={classes.title} data-status={status} data-title={title && true}>{title || untitled}</b>\n                    { subtitle && <i className={classes.subtitle}>{subtitle}</i> }\n                    { identifier && <i className={classes.uniqueId}>{identifier}</i> }\n                </Typography>\n            </Breadcrumbs>\n        </div>\n    )\n\n}\n\nexport default EditorPath;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    icon: {\n        display: 'flex',\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontSize: 24,\n        width: '1.25em',\n        height: '1.25em',\n        border: \"1px solid\",\n        borderColor: \"#ccc\",\n        margin: \"-0.125em\"\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: '0.5em',\n        fontWeight: \"bold\",\n        textTransform: \"uppercase\",\n        lineHeight: '1',\n        textAlign: \"center\",\n    }\n}));\n\nconst LocaleIcon = ({value}) => {\n    const classes = useStyles()\n    return (\n        <div className={classes.icon}>\n            <b className={classes.label}>{value}</b>\n        </div>\n    )\n}\n\nexport default LocaleIcon;","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Button from '@material-ui/core/Button';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ISO6391 from 'iso-639-1'\n\nimport LocaleIcon from \"./LocaleIcon\"\n\nconst NavLocale = ({options = [], value, onChange}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n        setExpanded(false);\n    }\n\n    const ListOption = (option) => {\n        const { title, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                <ListItemIcon><Icon><LocaleIcon value={value} /></Icon></ListItemIcon>\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n            <IconButton onClick={_onToggle} ref={anchorRef}>\n                <LocaleIcon value={value} />\n            </IconButton>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n\n                        if (typeof option === \"string\") {\n                            option = {\n                                title: ISO6391.getNativeName(option) || option,\n                                value: option\n                            }\n                        }\n\n                        const value = option.value\n\n                        return <ListOption {...option} key={index} onClick={() => _onChange(value)} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavLocale","import React, { useState, useRef } from 'react';\nimport NavLocale from \"../NavLocale/NavLocale\"\n\nconst EditorLocale = ({className, currentLocale = undefined, languages = [], onLocale}) => {\n\n    if (!languages.length || languages.length === 1) {\n        return null\n    }\n\n    return (\n        <NavLocale options={languages} value={currentLocale || languages[0]} onChange={onLocale} />\n    )\n        \n}\n\nexport default EditorLocale","import React from 'react';\nimport moment from 'moment';\nimport \"moment/locale/nb\";\nimport \"moment/locale/nn\";\nimport \"moment/locale/sv\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        margin: theme.spacing(1)\n    },\n    status: {\n        display: \"inline\",\n        fontWeight: \"bold\",\n        \"&[data-status=error]\": {\n            color: theme.palette.error.main\n        }\n    },\n    message: {\n        display: \"inline\",\n        marginLeft: theme.spacing(1),\n        \"&[data-status=error]\": {\n            color: theme.palette.error.main\n        }\n    },\n    datetime: {\n        display: \"inline\",\n        marginLeft: theme.spacing(1)\n    }\n}));\n\nconst statusLabels = {\n    \"new\": \"Ny\",\n    \"draft\": \"Utkast\",\n    \"publish\": \"Publisert\",\n    \"error\": \"Feil\"\n}\n\nconst StatusLabel = ({className, locale = \"nb\", status, children}) => {\n    const classes = useStyles()\n\n    const statusLabel = children || statusLabels[status] || status\n\n    return (\n        <span className={className || classes.status} data-status={status}>{statusLabel}</span>\n    )\n\n}\n\nconst StatusDate = ({className, locale = \"nb\", format = \"relative\", datetime, children}) => {\n    const classes = useStyles()\n\n    datetime = children || datetime\n    \n    if (!datetime) {\n        return false\n    }\n\n    // format value\n\n    moment.locale(locale)\n\n    let date;\n    \n    if (format === \"relative\") {\n        date = moment.utc(datetime).local().fromNow()\n    } else if (format) {\n        date = moment.utc(datetime).local().format(format)\n    }\n\n    return (\n        <time datetime={datetime} className={className || classes.datetime}>{date}</time>\n    )\n}\n\nconst StatusMessage = ({className, status, code, children}) => {\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <span data-status={status} data-code={code} className={className || classes.message}>{children}</span>\n    )\n}\n\nconst EditorStatus = ({className, status, statusLabel, statusDate, statusCode, statusMessage}) => {\n    const classes = useStyles()\n\n    return (\n        <Typography className={className || classes.root} noWrap>\n            <StatusLabel className={classes.status} status={status}>{statusLabel}</StatusLabel>\n            <StatusMessage className={classes.message} status={status} code={statusCode}>{statusMessage}</StatusMessage>\n            {!statusMessage && <StatusDate className={classes.datetime}>{statusDate}</StatusDate> }\n        </Typography>\n    )\n\n}\n\nexport default EditorStatus;","import React, { useState, useRef, forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport DropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ViewIcon from '@material-ui/icons/RemoveRedEye';\n\nimport NavAction from \"../NavAction/NavAction\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontSize: \"14px\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"inherit\",\n        fontWeight: \"bold\",\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n    },\n    primaryButton: {\n        borderRadius: 0,\n        minWidth: theme.spacing(7),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        height: theme.spacing(5),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontWeight: \"bold\"\n    },\n    primaryToggle: {\n        borderRadius: 0,\n        width: theme.spacing(5),\n        height: theme.spacing(5),\n    },\n    iconButton: {\n        fontSize: \"inherit\",\n        minWidth: theme.spacing(5),\n        minHeight: theme.spacing(5),\n        border: \"1px solid\",\n        borderColor: \"rgba(0,0,0,.25)\",\n\n        [theme.breakpoints.down('xs')]: {\n            border: \"none\",\n        },\n\n    },\n    icon: {\n        fontSize: \"18px\",\n    }\n}));\n\nconst PrimaryButton = ({disabled, label, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <Button variant=\"contained\" color=\"primary\" className={classes.primaryButton} disabled={disabled} onClick={onClick}>\n            { label }\n        </Button>\n    )\n}\n\nconst PrimaryComboButton = ({forwardedRef, disabled, expanded, controls, label, onClick, onToggle}) => {\n    const classes = useStyles()\n\n    return (\n        <ButtonGroup aria-label=\"action\" color=\"primary\" ref={forwardedRef}>\n            <Button variant=\"contained\" className={classes.primaryButton} disabled={disabled} onClick={onClick}> \n                {label}\n            </Button>\n            <Button variant=\"contained\" className={classes.primaryToggle}\n                size=\"small\"\n                aria-controls={expanded ? controls : undefined}\n                aria-expanded={expanded ? 'true' : undefined}\n                aria-label=\"options\"    \n                aria-haspopup=\"menu\"\n                onClick={onToggle}>\n                <DropDownIcon />\n            </Button>\n        </ButtonGroup>\n    )\n}\n\nconst PrimaryIconButton = ({onClick, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <ButtonBase className={classes.iconButton} onClick={onClick}>\n            {children}\n        </ButtonBase>\n    )\n\n}\n\nconst EditorAction = ({className, primaryAction}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null);\n    const classes = useStyles()\n\n    if (!primaryAction) {\n        return false\n    }\n   \n    const handleToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const handleSelect = ({onClick}) => {\n        onClick && onClick()\n        setExpanded(false);\n    }\n\n//    const primaryAction = action && action[0]\n\n    if (primaryAction && primaryAction.type === \"view\") {\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryIconButton {...primaryAction}>\n                    <ViewIcon className={classes.icon} />\n                </PrimaryIconButton>\n            </nav>\n        )\n    } else if (primaryAction && primaryAction.type === \"edit\") {\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryIconButton {...primaryAction}>\n                    <EditIcon className={classes.icon} />\n                </PrimaryIconButton>\n            </nav>\n        )\n    }\n\n    // NavAction\n\n    if (primaryAction) {\n        return (\n            <NavAction className={className || classes.root} menu={[primaryAction]} placement=\"bottom-end\" />\n        )\n    }\n\n    /*\n\n    if (primaryAction && primaryAction.children) {\n\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryComboButton {...primaryAction} expanded={expanded} forwardedRef={anchorRef} onToggle={handleToggle} />\n                <Popper open={expanded} style={{zIndex: 2000}}\n                        role={undefined} transition anchorEl={anchorRef.current} placement=\"bottom-start\">\n                        <ClickAwayListener onClickAway={handleToggle}>\n                            <div>\n                            <Paper elevation={1} square={true} aria-expanded={expanded}>\n                                <MenuList>\n                                    {primaryAction.children.map((item, index) => (\n                                        <MenuItem {...item} key={index} onClick={() => handleSelect(item)}>\n                                            { item.label || item.title }\n                                        </MenuItem>\n                                    ))}\n                                </MenuList>\n                            </Paper>\n                            </div>\n                        </ClickAwayListener>\n                </Popper>\n            </nav>\n        )\n        \n    }\n\n    if (primaryAction) {\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryButton {...primaryAction} />\n            </nav>\n        )\n    }\n\n    */\n\n}\n\nexport default EditorAction;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/MoreHoriz';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(0deg)\",\n\n        \"&[aria-expanded=true]\": {\n            transition: \".125s ease-in-out\",\n            transform: \"rotate(90deg)\"\n        }\n\n    }\n}));\n\nconst EditorToggle = ({expanded, onClick}) => {\n    const classes = useStyles();\n  \n    return (\n        <IconButton className={classes.root} color=\"inherit\" aria-label=\"toggle\" aria-expanded={expanded} onClick={onClick}>\n            <ToggleIcon />\n        </IconButton>\n    );\n\n}\n\nexport default EditorToggle;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EditorPath from \"./EditorPath\"\nimport EditorLocale from \"./EditorLocale\"\nimport EditorStatus from \"./EditorStatus\"\nimport EditorAction from \"./EditorAction\"\nimport EditorToggle from \"./EditorToogle\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        flexWrap: \"nowrap\",\n        maxWidth: \"100%\",\n        width: \"100%\",\n        minHeight: theme.spacing(8),\n\n        \"& + *\": {\n            marginTop: theme.spacing(8)\n        }\n\n    },\n    leading: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"nowrap\",\n        maxWidth: \"100%\",\n    },\n    path: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"nowrap\",\n    },\n    locale: {\n        marginLeft: theme.spacing(1)\n    },\n    trailing: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\",\n        }\n    },\n    status: {\n        fontSize: \"14px\",\n        margin: theme.spacing(1.5)\n    },\n    action: {\n        fontSize: \"14px\",\n    }\n}));\n\nconst EditorHeader = ({collapsible, expanded, onToggle, onSelect, className, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <header className={className || classes.root}>\n            <div className={classes.leading}>\n                <EditorPath {...props} className={classes.path} onSelect={onSelect} />\n                <EditorLocale {...props} className={classes.locale} />\n                { collapsible && <EditorToggle expanded={expanded} onClick={onToggle} /> }\n            </div>\n            <div className={classes.trailing}>\n                <EditorStatus {...props} className={classes.status} />\n                <EditorAction {...props} className={classes.action} />\n            </div>\n        </header>\n    )\n\n}\n\nEditorHeader.defaultProps = {\n    untitled: \"Untitled\"\n}\n\nEditorHeader.propTypes = {\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    statusDate: PropTypes.string,\n    statusCode: PropTypes.string,\n    statusMessage: PropTypes.string,\n    untitled: PropTypes.string,\n    title: PropTypes.string,\n    parents: PropTypes.array,\n    languages: PropTypes.array,\n    currentLocale: PropTypes.string,\n    onLocale: PropTypes.func,\n    primaryAction: PropTypes.object,\n\n} \n\nexport default EditorHeader;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport EditorStatus from \"./EditorStatus\"\nimport EditorAction from \"./EditorAction\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 3,\n\n        top: \"auto\",\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n//        backgroundColor: theme.palette.primary.main,\n//        color: theme.palette.primary.contrastText,\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        height: theme.spacing(7),\n        fontSize: \"16px\",\n\n        [theme.breakpoints.up('sm')]: {\n            display: \"none\",\n        }\n    },\n    status: {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: theme.spacing(5),\n        minWidth: theme.spacing(14),\n        justifyContent: \"center\",\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        fontSize: \"14px\",\n        opacity: 0.5\n    },\n    action: {\n        borderLeft: \"1px solid\",\n        borderColor: \"rgba(255,255,255,0.25)\",\n\n        \"& > *\": {\n            height: theme.spacing(7),\n        },\n\n        \"& button\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            height: theme.spacing(7),\n            minWidth: theme.spacing(7),\n        }\n\n    }\n}));\n\nconst EditorFooter = ({className, id, elevation = 6, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <AppBar component=\"footer\" elevation={elevation} square={true} className={className || classes.root}>\n            <Toolbar>\n                <EditorStatus {...props} className={classes.status} />\n                <EditorAction {...props} className={classes.action} />\n            </Toolbar>\n        </AppBar>\n    )\n\n}\n\nexport default EditorFooter;","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst EditorBody = ({className, elevation = 1, expanded = true, children}) => {\n\n    const classes = useStyles()\n\n    if (!elevation) {\n        return (\n            <section className={className || classes.root} aria-expanded={expanded}>\n                {children}\n            </section>\n        )\n    }\n\n    return (\n        <Paper elevation={elevation} square={true} className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </Paper>\n    )\n\n}\n\nexport default EditorBody;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        transition: \".125s ease-out\",\n        overflowY: \"scroll\",\n    }\n}));\n\nconst EditorContent = ({className, expanded = false, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default EditorContent;","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst EditorSection = ({className, elevation = 1, expanded = false, children}) => {\n\n    const classes = useStyles()\n\n    if (!elevation) {\n        return (\n            <div className={className || classes.root} aria-expanded={expanded}>\n                {children}\n            </div>\n        )\n    }\n\n    return (\n        <Paper elevation={elevation} square={true} className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </Paper>\n    )\n\n}\n\nexport default EditorSection;","import React, { Component } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    sidebar: {\n        position: \"absolute\",\n        backgroundColor: \"#eee\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"50%\",\n        marginLeft: \"-50%\",\n        overflow: \"hidden\",\n        transition: \".25s ease-out\",\n        \"& + *\": {\n            transition: \".25s ease-out\",\n        },\n        \"&[aria-expanded=true]\": {\n            marginLeft: 0,\n            \"& + *\": {\n                marginLeft: \"50%\",\n                marginRight: \"-50%\",\n            }\n        }\n    }\n}));\n\nconst EditorSidebar = ({className, expanded, children}) => {\n    const classes = useStyles()\n\n    return (\n        <aside className={className || classes.sidebar} aria-expanded={expanded}>\n            {children}\n        </aside>\n    )\n    \n}\n\n\nexport default EditorSidebar;","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        backgroundColor: \"#333\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"50%\",\n        overflow: \"hidden\",\n\n        \"& + *\": {\n            marginRight: \"50%\"\n        }\n\n    }\n}));\n\nconst EditorPreview = ({className, expanded, children}) => {\n    const classes = useStyles()\n\n    return (\n        <aside className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </aside>\n    )\n    \n}\n\n\nexport default EditorPreview;","import React from 'react'\nimport Paper from \"@material-ui/core/Paper\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: props => { return props.position },\n        zIndex: 2000,\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        transition: \".25s ease-out\",\n\n        opacity: 0,\n        pointerEvents: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            pointerEvents: \"all\",\n            opacity: 1            \n        }\n\n    },\n    content: {\n        position: props => { return props.position },\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: theme.palette.background.paper,\n        margin: theme.spacing(2)\n    }\n}));\n\nconst EditorOverlay = ({className, position = \"absolute\", elevation = 12, expanded, children}) => {\n    const classes = useStyles({position})\n\n    return (\n        <aside className={classes.overlay} aria-expanded={expanded}>\n            <Paper className={className || classes.content} elevation={elevation} square={true}>\n                { children }\n            </Paper>\n        </aside>\n    )\n}\n\nEditorOverlay.defaultProps = {\n    position: \"absolute\",\n    expanded: false\n}\n\nexport default EditorOverlay;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport EditorBase from \"./EditorBase\"\nimport EditorHeader from \"./EditorHeader\"\nimport EditorBody from \"./EditorBody\"\nimport EditorContent from \"./EditorContent\"\nimport EditorSidebar from \"./EditorSidebar\"\nimport EditorPreview from \"./EditorPreview\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    app: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0            \n        },\n    }\n}));\n\n/** AppLayout is a wrapper for all apps using AppHeader */\n\nconst EditorLayout = ({app = {}, theme = {}, header = {}, sidebar = {}, search = undefined, subview = undefined, menu, menuByUrl = {}, preview, children}) => {\n\n    if (!theme && app.theme) {\n        theme = app.theme\n    }\n\n    header = {\n        title: app && app.title,\n        subtitle: app && app.subtitle,\n        ...header,\n        subview: subview,\n        menu: menu,\n        search: search\n    }\n\n    sidebar = {\n        ...sidebar,\n        primaryAction: app.primaryAction,\n        menu: app.menu,\n        menuByUrl: menuByUrl\n    }\n\n    const classes = useStyles({header})\n\n    return (\n        <EditorBase>\n            <EditorHeader />\n            <EditorBody>\n                <EditorSidebar {...sidebar}>\n                </EditorSidebar>\n                <EditorContent>\n                    {children}\n                </EditorContent>\n                { preview && <EditorPreview>\n                    { preview && preview.children }\n                </EditorPreview> }\n            </EditorBody>\n        </EditorBase>\n    )\n\n}\n\nEditorLayout.defaultProps = {\n    app: {\n\n    },\n    header: {\n        expanded: true\n    },\n}\n\nEditorLayout.propTypes = {\n    /** App properties */\n    app: PropTypes.shape({\n        uniqueId: PropTypes.string,\n        title: PropTypes.string\n    }),\n    /** Header properties */\n    header: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Search properties */\n    search: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Subview properties */\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n}\n\nexport default EditorLayout;","import React from 'react'\nimport { EditorBase, EditorHeader, EditorBody, EditorFooter, EditorOverlay } from \"../Editor\"\n\nconst PrimusEditorLayout = ({collapsible, expanded, overlay, onToggle, onSelect, children, ...props}) => {\n\n    const renderOverlay = () => {\n        const OverlayTemplate = overlay && overlay.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={overlay && overlay.expanded}>\n                { OverlayTemplate && <OverlayTemplate {...overlay} /> }\n            </EditorOverlay>\n        )\n    }\n\n    return (\n        <EditorBase>\n            <EditorHeader {...props} collapsible={collapsible} expanded={expanded} onToggle={onToggle} onSelect={onSelect} />\n            <EditorBody elevation={1} expanded={expanded}>\n                {children}\n            </EditorBody>\n            <EditorFooter {...props} />\n            { overlay && renderOverlay() }\n        </EditorBase>\n    )\n}\n\nexport default PrimusEditorLayout;","import React, { useState } from 'react';\nimport { getUiMenu, getPrimusEventsMenu, getPrimusMediaMenu } from \"./utils\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusEditorContentField = (props) => {\n    const { formData, formContext } = props\n    const { uniqueId, currentId, onCurrentId, _onEventAddClick, _onUploadClick } = formContext\n\n    const currentParents = currentId && currentId && currentId.split(\"_\")\n    const currentSection = currentParents && currentParents[2] || \"basis\"\n    const currentName = currentParents && currentParents[currentParents.length-1] || \"basis\"\n\n    const _onSelect = ({id, onClick, url, pathname}) => {\n\n        if (id && id.includes(\"media_\")) {\n            id = id.replace(\"media_\", \"\")\n        }\n\n        onClick && onClick()\n        id && onCurrentId(id)\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n\n    let uiMenu\n\n    if (uniqueId) {\n\n        uiMenu = getUiMenu(props)\n\n        uiMenu = uiMenu.map(item => {\n\n            if (item.name === \"events\") {\n                return getPrimusEventsMenu({...props, parent: item, onAdd: _onEventAddClick})\n            }\n\n            if (item.name === \"media\") {\n                return getPrimusMediaMenu({...props, parent: item, onAdd: _onUploadClick})\n            }\n\n            return item\n\n        })\n    \n    }\n\n    let preview = {\n        ...formContext.preview,\n        hidden: false\n    }\n\n    let uiFieldset\n\n    if (!uniqueId) {\n        uiFieldset = [\"basis\"]\n    } else if (currentSection === \"images\" || currentSection === \"attachments\") {\n        uiFieldset = [currentSection]\n        preview.hidden = true\n    } else {\n        uiFieldset = uiOptions.fieldset\n    }\n\n    let uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusContent\",\n        \"ui:menu\": uiMenu,\n        \"ui:preview\": preview,\n        \"ui:onSelect\": _onSelect,\n        \"ui:fieldset\": uiFieldset,\n    }\n\n\n    const { ObjectField } = props.registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n    \n}\n\nexport default PrimusEditorContentField;","import React from 'react';\nimport { NavMenu } from \"../NavMenu\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n        boxShadow: theme.shadows[2],\n\n        /*\n\n        transition: \".125s ease-out\",\n        transform: \"translateY(100%)\",\n\n        \"&[aria-expanded=true]\": {\n            transform: \"translateY(0)\",\n        }\n\n        */\n    },\n    split: {\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n    },\n    menu: {\n        flexGrow: 0,\n        flexShrink: 0,\n        flexBasis: 224,\n        paddingTop: 24,\n        paddingRight: 24,\n\n        \"&[aria-hidden=true]\": {\n            display: \"none\",\n            flexGrow: 0,\n            flexShrink: 1,\n            flexBasis: 0,\n        }\n        \n    },\n    body: {\n        flexGrow: 1,\n        flexBasis: \"100%\",\n        height: \"100%\",\n        position: \"relative\",\n        overflowY: \"scroll\",\n\n        \"&[aria-hidden=true]\": {\n            display: \"none\",\n            flexGrow: 0,\n            flexShrink: 1,\n            flexBasis: 0,\n        }\n        \n    },\n    preview: {\n        flexGrow: 1,\n        flexBasis: \"100%\",\n        height: \"100%\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        transition: \".25s ease-in-out\",\n\n        \"&[aria-hidden=true]\": {\n            flexGrow: 0,\n            flexShrink: 1,\n            flexBasis: 0,\n        }\n\n    }\n}));\n\nconst EditorSidebar = ({template, expanded, ...props}) => {\n    const classes = useStyles();\n\n    if (!template) {\n        return false\n    }\n\n    const Template = template\n\n    return (\n        <div className={classes.sidebar} aria-expanded={expanded}>\n            <Template {...props} />\n        </div>\n    )\n\n}\n\nconst EditorSplitView = ({children}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.split}>\n            {children}\n        </div>\n    )\n\n}\n\nconst EditorBody = ({expanded = true, hidden = false, children}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.body} aria-expanded={expanded} aria-hidden={hidden}>\n            {children}\n        </div>\n    )\n\n}\n\nconst EditorPreview = ({template, hidden, expanded, ...props}) => {\n    const classes = useStyles();\n\n    if (!template) {\n        return false\n    }\n\n    const Template = template\n\n    return (\n        <div className={classes.preview} aria-hidden={hidden} aria-expanded={expanded}>\n            <Template {...props} />\n        </div>\n    )\n\n}\n\nconst EditorMenu = ({expanded = true, hidden = false, currentUrl, onSelect, menu}) => {\n    const classes = useStyles();\n\n    if (!menu) {\n        hidden = true\n    }\n\n    return (\n        <div className={classes.menu} aria-expanded={expanded} aria-hidden={hidden}>\n            <NavMenu currentUrl={currentUrl} menu={menu} onSelect={onSelect} />\n        </div>\n    )\n}\n\n\nconst PrimusEditorContentLayout = ({id, selected = true, sidebar = {}, preview = {}, menu = undefined, currentUrl, onSelect, children}) => {\n    const classes = useStyles();\n\n    const content = {\n        hidden: preview.expanded && true || false\n    }\n\n    return (\n        <div className={classes.view}>\n            { sidebar && <EditorSidebar {...sidebar} /> }\n            <EditorSplitView>\n                <EditorMenu {...content} currentUrl={currentUrl} menu={menu} onSelect={onSelect} />\n                <EditorBody {...content} >\n                    {children}\n                </EditorBody>\n                { preview && <EditorPreview {...preview} /> }\n            </EditorSplitView>\n        </div>\n    )\n\n\n}\n\nexport default PrimusEditorContentLayout;","import React, { useState } from 'react';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusSectionField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusSection\",\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"ui:field\": undefined,\n    }\n\n    const { SchemaField } = props.registry.fields;\n\n    return (\n        <SchemaField {...props} uiSchema={uiSchema} />\n    )\n    \n}\n\nexport default PrimusSectionField;","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n            margin: 0\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        color: theme.palette.text.primary,\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    body: {\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n    footer: {\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n    },\n    buttongroup: {\n        display: \"flex\",\n        margin: theme.spacing(-1),\n\n        \"& > $button\": {\n            margin: theme.spacing(1),\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        padding: theme.spacing(2),\n        minWidth: theme.spacing(16),\n        minHeight: theme.spacing(7),\n    },\n\n}));\n\nconst PrimusSectionLayout = ({currentId, id, sortableHandle, addable, collapsible, expanded, onExpand, onAdd, onDelete, onCollapse, padding = 2, spacing = 2, title = \"Section\", description, children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                {!expanded && sortableHandle}\n                <Typography className={classes.title}>{title}</Typography>\n                {description && <Typography className={classes.description}>{description}</Typography> }\n            </header>\n\n            { expanded && \n                <div className={classes.body}>\n                {children}\n                </div> }\n\n            { collapsible && expanded && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onCollapse}>Lagre og lukk</Button>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onDelete}>Slett</Button>\n                    </div>\n                </footer>\n            }\n\n            { addable && onAdd && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onAdd}>Legg til</Button>\n                    </div>\n                </footer>\n            }\n\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React, { useState, useEffect } from \"react\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst MediaArrayTemplate = (props) => {\n\n    const { LayoutField } = props.registry.fields\n\n    const renderItem = (item, index) => {\n        const { hasToolbar, hasMoveUp, hasMoveDown, hasRemove } = item\n        const { onAddIndexClick, onDropIndexClick, onReorderClick } = item\n        const itemUiSchema = item.children.props && item.children.props.uiSchema || {}\n\n        const uiSchema = {\n            ...itemUiSchema,\n            \"ui:removable\": hasRemove,\n        }\n        const itemProps = {\n            ...item.children.props,\n            formContext: props.formContext, \n            hasToolbar: hasToolbar,\n            hasMoveUp: hasMoveUp,\n            hasMoveDown: hasMoveDown,\n            hasRemove: hasRemove,\n            onAddIndexClick: onAddIndexClick,\n            onDropIndexClick: onDropIndexClick,\n            onReorderClick: onReorderClick,\n        }\n\n        const uiOptions = getUiOptions(uiSchema || {})\n\n        /*\n\n        \n        const uiToolbar = getUiToolbar({\n            ...itemProps,\n            \"uiSchema\": uiSchema,\n        })\n\n        */\n\n        const arrayItem = React.cloneElement(item.children, {\n            ...itemProps,\n            uiSchema: {\n                ...uiSchema,\n//                    \"ui:toolbar\": uiToolbar,\n//                    \"ui:layout\": uiOptions.layout || ArrayItemLayout\n            },\n        })\n    \n        return arrayItem\n    };\n\n    const { uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { currentIndex } = uiOptions\n\n    return props.items && props.items.map((item, index) => {\n        return renderItem(item, index)\n    })\n\n    \n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            {props.items && props.items.map((item, index) => {\n\n                if (currentIndex === index) {\n                    return renderItem(item, index)\n                }\n\n            })}\n        </LayoutField>\n\n    )\n\n}\n\nexport default MediaArrayTemplate","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"mediaType\": {\n                    \"type\": \"string\"\n                },\n                \"title\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"creator\": {\n                    \"type\": \"string\"\n                },\n                \"headline\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                },\n                \"credit\": {\n                    \"type\": \"string\"\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n            }\n        },\n        \"imageCropdata\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"x\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"y\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"width\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"height\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"rotate\": {\n                    \"type\": \"number\",\n                    \"readonly\": true,\n                }\n            }\n        },\n        \"imageAnnotations\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"top\": {\n                        \"type\": \"number\",\n                        \"default\": 50,\n                        \"readonly\": true\n                    },\n                    \"left\": {\n                        \"type\": \"number\",\n                        \"default\": 50,\n                        \"readonly\": true\n                    },\n                    \"x\": {\n                        \"type\": \"number\",\n                        \"default\": 0,\n                        \"readonly\": true\n                    },\n                    \"y\": {\n                        \"type\": \"number\",\n                        \"default\": 0,\n                        \"readonly\": true\n                    },\n                    \"radius\": {\n                        \"type\": \"number\",\n                        \"minimum\": 1,\n                        \"maximum\": 100,\n                        \"default\": 1\n                    },\n                    \"title\": {\n                        \"type\": \"string\",\n                    },\n                    \"description\": {\n                        \"type\": \"string\",\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"preview\",\n        \"content\",\n        \"imageCropdata\",\n        \"imageAnnotations\"\n    ],\n    \"content\": {\n        \"ui:title\": \"Rediger innhold\",\n        \"ui:field\": \"primusSection\",\n\n        \"ui:fieldset\": [\n            \"creator\",\n            \"credit\",\n            \"license\"\n        ],\n\n\n        \"creator\": {\n            \"ui:title\": \"Fotograf\",\n        },\n        \"headline\": {\n            \"ui:title\": \"Overskrift\"\n        },\n        \"description\": {\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"credit\": {\n            \"ui:title\": \"Kreditering\",\n            \"ui:widget\": \"textarea\",\n            \"ui:help\": \"Fotograf og/eller byrå\"\n        },\n        \"license\": {\n            \"ui:title\": \"Rettigheter\",\n            \"ui:field\": \"primusLicense\",\n            \"ui:help\": \"Velg en lisens eller rettigheter\"\n        }\n\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Annoteringer\",\n        \"ui:field\": \"primusImageAnnotationsSection\",\n        \"ui:options\": {\n            \"sortable\": true\n        },\n        \"items\": {\n            \"ui:layout\": \"module\"\n        }\n    }\n}","import schema from \"./PrimusMedia.schema\"\nimport uiSchema from \"./PrimusMedia.uiSchema\"\nimport formData from \"./PrimusMedia.formData\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData\n}","import itemSchema from \"./ImageEditor.schema\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": itemSchema\n}","import itemUiSchema from \"./ImageEditor.uiSchema\"\n\nexport default {\n    \"items\": itemUiSchema\n}","\n\nimport React, { useState } from 'react';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n \n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        left: 0,\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\",\n        margin: theme.spacing(.5),\n    },\n    button: {\n\n        \"& + *\": {\n            marginLeft: theme.spacing(-.5)\n        },\n\n        \"&[aria-selected=true]\": {\n            color: theme.palette.primary.main\n        }\n\n    }\n}));\n\nconst ImageEditorToolbar = ({className, toolbar = [], action}) => {\n\n    const classes = useStyles()\n\n    const ToolbarButton = ({name, icon, onClick}) => {\n\n        const selected = name === action\n\n        return (\n            <IconButton className={classes.button} aria-selected={selected} onClick={onClick}>\n                <Icon>{icon}</Icon>\n            </IconButton>\n        )\n\n    }\n\n    return (\n        <nav className={className || classes.toolbar}>\n            {toolbar.map((button, index) => <ToolbarButton {...button} key={index} />)}\n        </nav>\n    )\n    \n\n}\n\nexport default ImageEditorToolbar;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport qs from 'query-string';\n\nconst useStyles = makeStyles(theme => ({\n\n    list: {\n        flexGrow: 0,\n        display: \"flex\",\n        height: 56,\n\n        \"& > $item\": {\n            width: \"auto\"\n        }\n\n    },\n    item: {\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: 0,\n\n        border: \"1px solid\",\n        borderColor: \"transparent\",\n\n        \"&[aria-selected=true]\": {\n            borderColor: \"white\"\n        },\n\n        \"& > img\": {\n            height: \"100%\",\n            width: \"auto\",\n            margin: \"auto\"\n        }\n\n    },    \n}));\n\nconst MediaLayout = ({\n    currentItem = {}, items, onSelect, onSelectIndex\n}) => {\n    const classes = useStyles();\n\n    const MediaItem = ({ selected, mediaId, media, index }) => {\n//        const selected = currentItem.mediaId === mediaId\n\n        const { uploadProgress } = media\n\n        const { url, query } = qs.parseUrl(media.imageUrl)\n        const imageUrl = qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n        return (\n            <figure className={classes.item} aria-selected={selected} onClick={() => onSelectIndex(index)}>\n                <img src={imageUrl} />\n            </figure>\n        )\n    \n    }\n    \n    return (\n        <div className={classes.list}>\n            {items && items.map((item, index) => <MediaItem {...item} index={index} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default MediaLayout;","import React, { useState } from 'react';\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport ZoomInIcon from \"@material-ui/icons/AddCircle\"\nimport ZoomOutIcon from \"@material-ui/icons/RemoveCircle\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n \n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\",\n        margin: theme.spacing(.5),\n\n\n        \"& > * + *\": {\n\n        }\n\n    },\n    scale: {\n        fontFamily: \"Akkurat mono, monospace\",\n        fontSize: 16,\n        color: \"white\",\n    },\n    button: {\n        color: \"white\",\n    },\n}));\n\nconst ImagePreviewToolbar = ({className, onReset, onZoomIn, onZoomOut, scale, minScale, maxScale, ...props}) => {\n\n    const classes = useStyles()\n\n    const ZoomInButton = () => {\n\n        const disabled = props.disabled || scale >= maxScale\n\n        return (\n            <IconButton className={classes.button} disabled={disabled} onClick={onZoomIn}>\n                <ZoomInIcon className={classes.icon} />\n            </IconButton>\n        )\n\n    }\n\n    const ZoomOutButton = () => {\n\n        const disabled = props.disabled || scale <= minScale\n\n        return (\n            <IconButton className={classes.button} disabled={disabled} onClick={onZoomOut}>\n                <ZoomOutIcon className={classes.icon} />\n            </IconButton>\n        )\n\n    }\n\n    const ScaleButton = () => {\n\n        const label = Math.floor(scale * 100) + \"%\"\n\n        return (\n            <ButtonBase className={classes.scale} onClick={onReset}>\n                {label}\n            </ButtonBase>\n        )\n\n    }\n\n    return (\n        <nav className={className || classes.toolbar}>\n            <ZoomOutButton />\n            <ScaleButton />\n            <ZoomInButton  />\n            { /* JSON.stringify(props, 0, 2) */}\n        </nav>\n    )\n    \n\n}\n\nexport default ImagePreviewToolbar;","import React, { useState } from 'react';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ImagePreviewToolbar from \"./ImagePreviewToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    preview: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        overflow: \"visible\",\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& .react-transform-component\": {\n\n            overflow: \"visible\"\n        }\n    },\n\n    figure: {\n        padding: 0,\n        margin: 0,\n        zIndex: 1,\n    },\n\n}));\n\nconst ImagePreview = ({imageUrl, onTransformChange, children, options = {}}) => {\n    const classes = useStyles();\n\n\n    const TransformToolbar = ({prevScale, scale, zoomIn, zoomOut, resetTransform, positionX, positionY, options: { disabled, minScale, maxScale }, ...props}) => {\n\n        return <ImagePreviewToolbar \n            {...props}\n            disabled={disabled}\n            scale={scale}\n            minScale={minScale}\n            maxScale={maxScale}\n            onReset={resetTransform}\n            onZoomIn={zoomIn}\n            onZoomOut={zoomOut}\n            />\n        \n    }\n\n    return (\n        <div className={classes.preview}>\n            <TransformWrapper \n                options={options}>\n                {(props) => (\n                    <React.Fragment>\n                        <TransformToolbar {...props} />\n                        <TransformComponent>\n                            <figure className={classes.figure}>\n                                <img src={imageUrl} />\n                                {children}\n                            </figure>\n                        </TransformComponent>\n                    </React.Fragment>\n            )}\n            </TransformWrapper>\n        </div>\n    )\n    \n\n}\n\nexport default ImagePreview;","export const getOffset = (el) => {\n    const rect = el.getBoundingClientRect();\n    return {\n      left: rect.left + window.scrollX,\n      top: rect.top + window.scrollY\n    };\n  }\n\nexport const getImagePointEvent = (event, parent) => {\n\n    if (!parent) {\n        parent = event.target.offsetParent\n    }\n\n    const offset = getOffset(parent);\n\n    const x = event.pageX - offset.left;\n    const y = event.pageY - offset.top;\n\n    const left = (x) / (parent.offsetWidth) * 100 \n    const top = (y) / (parent.offsetHeight) * 100 \n\n    const fx = (x / parent.offsetWidth - 0.5) * 2;\n    const fy = (y / parent.offsetHeight - 0.5) * -2;\n\n    return {\n        x: fx,\n        y: fy,\n        top: top,\n        left: left\n    }\n\n}","import React, { useRef, useState, useEffect } from 'react';\n// import \"./ImageAnnotationsMarker.scss\"\nimport Draggable, { DraggableCore } from 'react-draggable';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImagePointEvent } from \"./utils/getImagePoint\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n//        top: props => { return props.top + \"%\" || \"50%\"},\n//        left: props => { return props.left + \"%\" || \"50%\"},\n    },\n    draghandle: {\n        position: \"absolute\",\n        display: \"block\",\n\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n\n        transform: \"translate(-50%, -50%)\",\n        borderRadius: \"50%\",\n\n        \"&:hover\": {\n            cursor: props => { return props.cursor || \"move\" }\n        }\n\n    },\n    marker: {\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n \n        backgroundColor: theme.palette.primary.main, \n        color: theme.palette.primary.contrastText,\n\n        top: \"0\",\n        left: \"0\",\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        borderRadius: \"50%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        pointerEvents: \"none\"\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ImageAnnotationsMarker = ({index, position, size = 4, onStart, onDrag, onStop}) => {\n    const [cursor, setCursor] = useState(\"grab\") \n\n    const handleStart = (event, data) => {\n        setCursor('grabbing')\n        onStart && onStart(event, data)\n    }\n\n    const handleDrag = (event, data) => {\n        onDrag && onDrag(event, data)\n    }\n\n    const handleStop = (event, data) => {\n        setCursor('grab')\n        onStop && onStop(event, data)\n    }    \n\n    const classes = useStyles({size, zIndex: index, cursor: cursor})\n\n    if (!position) {\n        return false\n    }\n\n    return (\n        <Draggable\n            bounds=\"parent\"\n            handle=\".draghandle\"\n            position={position}\n            onStart={handleStart}\n            onDrag={handleDrag}\n            onStop={handleStop}>\n            <div className={classes.root}>\n                <div className={classes.draghandle + \" draghandle\"}></div>\n                <div className={classes.marker}>\n                    <div className={classes.label}>\n                        {index+1}\n                    </div>\n                </div>\n            </div>\n        </Draggable>\n    )\n}\n\nexport default ImageAnnotationsMarker","import React, { useState, useRef, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ImagePreview from \"./ImagePreview\"\n\nimport MarkerDefault from \"./ImageAnnotationsMarkerDefault\"\nimport { withResizeDetector } from 'react-resize-detector';\nimport { getImagePointEvent } from \"./utils/getImagePoint\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    list: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst ImageAnnotations = ({\n        className, \n        imageUrl, \n        imageCropdata = {}, \n        imageFocalpoint = {}, \n        imageFilters = {}, \n        imageAnnotations = [], \n        markerTemplate, \n        onChange,\n        ...props\n    }) => {\n\n    const [isDragging, setIsDragging] = useState(false)\n\n    const handleClick = (event) => {\n        event.stopPropagation()\n\n        const point = getImagePointEvent(event)\n\n        setIsDragging(false)\n\n        let newFormData;\n\n        if (imageAnnotations.length) {\n            newFormData = [...imageAnnotations, point]\n        } else {\n            newFormData = [point]\n        }\n \n        onChange && onChange(newFormData)\n    }\n\n\n    const handleIndexChange = (data, index) => {\n\n        const marker = {\n            ...imageAnnotations[index],\n            ...data\n        }\n\n        const newFormData = imageAnnotations.map((item, i) => {\n            const jsonValue = typeof marker === \"undefined\" ? null : marker;\n            return index === i ? jsonValue : item;\n        });        \n\n        onChange && onChange(newFormData)\n\n\n    }\n\n    let MarkerTemplate;\n\n    if (markerTemplate) {\n        MarkerTemplate = markerTemplate\n    } else {\n        MarkerTemplate = MarkerDefault\n    }\n\n    const classes = useStyles()\n\n    const MarkerList = withResizeDetector(({width, height}) => {\n\n        const handleStart = (event, data, index) => {\n            event.stopPropagation()\n\n            setIsDragging(true)\n        }\n    \n        const handleDrag = (event, data, index) => {\n    //        setIsDragging(true)\n        }\n    \n        const handleStop = (event, data, index) => {\n\n            const x = data.x;\n            const y = data.y;\n    \n            const left = (x/width) * 100 \n            const top = (y/height) * 100 \n\n            const fx = (x/width - 0.5) * 2;\n            const fy = (y/height - 0.5) * -2;\n    \n            const coords = {\n                left: left,\n                top: top,\n                x: fx,\n                y: fy\n            }\n\n            console.log('COORDS', coords)\n\n            handleIndexChange(coords, index)\n            setIsDragging(false)\n\n        }\n\n        return (\n            <div className={classes.list} onClick={!isDragging ? onChange && handleClick : undefined}>\n                { imageAnnotations && imageAnnotations.length && imageAnnotations.map((marker, index) => {\n\n                    const left = marker.left || 0\n                    const top = marker.top || 0\n\n                    const x = left * width/100;\n                    const y = top * height/100;\n\n                    if (!onChange) {\n                        return (\n                            <MarkerTemplate {...marker} index={index} key={index}\n                                position={{\n                                    x: x,\n                                    y: y\n                                }}\n                            /> \n                        )\n                    }\n\n                    return (\n                        <MarkerTemplate {...marker} index={index} key={index}\n                                position={{\n                                    x: x,\n                                    y: y\n                                }}\n                                onStart={(event, data) => handleStart(event, data, index)}\n                                onDrag={(event, data) => handleDrag(event, data, index)}\n                                onStop={(event, data) => handleStop(event, data, index)}\n                            /> \n                    )\n                }) || \"\"}\n            </div>\n        )\n     \n    })\n\n    return (\n        <ImagePreview imageUrl={imageUrl} options={{disabled: true}}>\n            <MarkerList />\n        </ImagePreview>\n    )\n\n\n}\n\nexport default ImageAnnotations;","import React, { useState, useEffect } from 'react';\nimport Draggable, { DraggableCore } from 'react-draggable';\nimport { Transform } from 'stream';\nimport Color from 'color';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DragIcon from \"@material-ui/icons/DragHandle\"\nimport RemoveIcon from \"@material-ui/icons/RemoveCircle\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n//        top: props => { return props.top + \"%\" || \"50%\"},\n//        left: props => { return props.left + \"%\" || \"50%\"},\n        zIndex: props => { return props.zIndex },\n    },\n    shape: {\n        position: \"absolute\",\n        top: \"100%\",\n        left: \"100%\",\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        backgroundColor: props => { return props.color }\n\n    },\n    size: {\n        display: \"block\",\n        position: \"absolute\",\n//        top: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n//        right: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n//        bottom: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n//        left: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n        top: 0,\n        left: 0,\n        width: props => { return props.shape === \"circle\" && theme.spacing(props.size) || theme.spacing(props.width) },\n        height: props => { return props.shape === \"circle\" && theme.spacing(props.size) || theme.spacing(props.height) },\n\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& $colors\": {\n            display: \"none\"\n        },\n        \"&:hover $colors\": {\n            display: \"flex\"\n        },\n\n        \"& $removeButton\": {\n            display: \"none\"\n        },\n        \"&:hover $removeButton\": {\n            display: \"flex\"\n        },\n       \n        \"& $handleButton\": {\n            display: \"none\"\n        },\n        \"&:hover $handleButton\": {\n            display: \"flex\"\n        },\n\n\n        \"&:hover $shape\": {\n            backgroundColor: props => { return props.hoverColor },\n//            borderColor: \"transparent\",\n            borderStyle: \"dotted\",\n        },\n\n        \"&:hover $labelButton\": {\n        }\n\n    },\n    shape: {\n        display: \"block\",\n        position: \"absolute\",\n        top: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n        right: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n        bottom: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n        left: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n\n        border: \"2px solid\",\n        color: props => { return props.contrastColor},\n        borderColor: props => { return props.color},\n        borderRadius: props => { return props.shape === \"circle\" && \"50%\" || \"0\" },\n\n        \"&:hover\": {\n            cursor: props => { return props.cursor || \"move\" }\n        }\n    },\n    labelButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontFamily: \"Akkurat Mono, monspace\",\n        fontSize: \"14px\",\n        width: props => { return props.shape === \"circle\" && theme.spacing(3.5) || theme.spacing(4) },\n        height: props => { return props.shape === \"circle\" && theme.spacing(3.5) || theme.spacing(4) },\n        backgroundColor: props => { return props.color },\n        border: \"1px solid\",\n        borderColor: props => { return props.color },\n        color: props => { return props.contrastColor },\n        borderRadius: props => { return props.shape === \"rectangle\" && \"50%\" || \"0\" },\n    },\n    removeButton: {\n        position: \"absolute\",\n        top: theme.spacing(-2),\n        right: theme.spacing(-2),\n    },\n    removeShape: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: props => { return props.color },\n        width: \"18px\",\n        height: \"18px\",\n        borderRadius: \"9px\",\n    },\n    removeIcon: {\n        display: \"block\",\n        backgroundColor: props => { return props.contrastColor || theme.palette.text.primary },\n        width: \"9px\",\n        height: \"2px\",\n    },\n    colors: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    colorButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    colorIcon: {\n        display: \"block\",\n        backgroundColor: props => { return props.color },\n        width: theme.spacing(1.5),\n        height: theme.spacing(1.5),\n        borderRadius: theme.spacing(1),\n        margin: theme.spacing(1)\n    },\n    handleButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: props => { return props.top && \"0\" || \"auto\" },\n        right: props => { return props.right && \"0\" || \"auto\" },\n        bottom: props => { return props.bottom && \"0\"  || \"auto\" },\n        left: props => { return props.left && \"0\"  || \"auto\" },\n        margin: theme.spacing(-1)\n    },\n    handleIcon: {\n        display: \"block\",\n        backgroundColor: props => { return props.color },\n        width: theme.spacing(1),\n        height: theme.spacing(1),\n        margin: theme.spacing(1)\n    }\n}));\n\nconst ButtonHandle = ({color, top, right, bottom, left, onResize}) => {\n    const classes = useStyles({color, top, left, bottom, right})\n\n    const handleResize = ({x, y}) => {\n        if (left) {\n            x = x * -1\n        }\n\n        if (top) {\n            y = y * -1\n        }\n\n        onResize && onResize({x, y})\n\n    }\n\n    const handleStart = (event, data) => {\n        console.log('onStart', data)\n    }\n\n    const handleDrag = (event, data) => {\n        console.log('onDrag', data)\n    }\n\n    const handleStop = (event, data) => {\n        console.log('onStop', data)\n        handleResize(data)\n    }\n\n    return (\n        <Draggable\n            position={{x: 0, y: 0}}\n            onStart={handleStart}\n            onDrag={handleDrag}\n            onStop={handleStop}>\n                <ButtonBase className={classes.handleButton}>\n                    <i className={classes.handleIcon}></i>\n                </ButtonBase>\n        </Draggable>\n    )\n\n}\n\nconst ButtonLabel = ({index, color, contrastColor, shape, onClick}) => {\n    const classes = useStyles({color, contrastColor, shape})\n\n    return (\n        <ButtonBase className={classes.labelButton} onClick={onClick}>\n            {index+1}\n        </ButtonBase>\n    )\n\n}\n\nconst ButtonRemove = ({className, color, contrastColor, onClick}) => {\n    const classes = useStyles({color, contrastColor})\n\n    return (\n        <IconButton className={className || classes.removeButton} onClick={onClick}>\n            <b className={classes.removeShape}>\n                <i className={classes.removeIcon}></i>\n            </b>\n        </IconButton>\n    )\n}\n\nconst ButtonColor = ({color, onClick}) => {\n    const classes = useStyles({color})\n\n    return (\n        <ButtonBase className={classes.colorButton} onClick={color && onClick}>\n            <i className={classes.colorIcon}></i>\n        </ButtonBase>\n    )\n}\n\nconst MarkerPrimus = ({index, position, onStart, onDrag, onStop, ...props}) => {\n\n    const colors = [\n        \"white\",\n        \"#bbb\",\n        \"#777\",\n        \"#333\",\n        \"black\",\n        \"red\",\n        \"green\",\n        \"blue\",\n        \"#FF8080\",\n        \"#80FF80\",\n        \"#8080FF\",\n        \"yellow\",\n        \"#0ff\",\n        \"#f0f\",\n        \"#ffff08\",\n        \"#08ffff\",\n        \"#ff08ff\"\n    ]\n\n    const [cursor, setCursor] = useState(\"grab\") \n    const [shape, setShape] = useState(props.shape || \"circle\") \n    const [size, setSize] = useState(props.size || 12) \n    const [width, setWidth] = useState(props.width || props.size || 12) \n    const [height, setHeight] = useState(props.height || props.size || 12) \n\n    const [color, setColor] = useState(props.color || color[0]) \n    const [contrastColor, setContrastColor] = useState(color[0]) \n    const [borderColor, setBorderColor] = useState(color[0]) \n    const [nextColor, setNextColor] = useState(color[0]) \n    const [prevColor, setPrevColor] = useState(color[0]) \n    const [hoverColor, setHoverColor] = useState(color[0]) \n\n    useEffect(() => {\n//        setCoords({top: top, left: left})\n        setContrastColor(Color(color).isDark() && \"white\" || \"black\")\n        setBorderColor(Color(color).isDark() && \"rgba(255,255,255,.5)\" || \"rgba(0,0,0,.5)\")\n        setHoverColor(Color(color).alpha(0.25).rgb().string())\n        setNextColor(colors[colors.indexOf(color)+1] || colors[0])\n        setPrevColor(colors[colors.indexOf(color)-1] || colors[colors.length-1])\n    }, [color, index])\n\n    const toggleColor = (color) => {\n        setColor(color)\n    }\n\n    const toggleShape = () => {\n        if (shape === \"circle\") {\n            setShape('rectangle')\n            setWidth(size)\n            setHeight(size)\n        } else {\n            setShape('circle')\n            setSize((width+height)/2)\n        }\n    }\n\n    const handleStart = (event, data) => {\n        event.stopPropagation()\n        setCursor('grabbing')\n        onStart && onStart(event, data)\n    }\n\n    const handleDrag = (event, data) => {\n        event.stopPropagation()\n        onDrag && onDrag(event, data)\n    }\n\n    const handleStop = (event, data) => {\n        event.stopPropagation()\n        setCursor('grab')\n        onStop && onStop(event, data)\n    }\n\n    const handleResize = ({x, y}) => {\n\n        const newWidth = width + x/8\n        const newHeight = height + y/8\n\n        setWidth(newWidth)\n        setHeight(newHeight)\n        setSize((newWidth+newHeight)/2)\n    }\n\n    const classes = useStyles({size, width, height, zIndex: index, color, contrastColor, hoverColor, cursor, shape})\n\n    return (\n        <Draggable\n            bounds=\"parent\"\n            handle=\".draghandle\"\n            position={position}\n            onStart={handleStart}\n            onDrag={handleDrag}\n            onStop={handleStop}>\n            <div className={classes.root}>\n                <div className={classes.size}>\n                    <div className={classes.shape + \" draghandle\"}></div>\n                    <ButtonHandle top left color={color} onResize={handleResize} />\n                    <ButtonHandle bottom left color={color} onResize={handleResize} />\n                    <ButtonHandle bottom right color={color} onResize={handleResize} />\n                    <ButtonRemove className={classes.removeButton} color={color} contrastColor={contrastColor} />\n                    <div className={classes.colors}>\n                        <ButtonColor color={prevColor} onClick={() => toggleColor(prevColor)} />\n                        <ButtonLabel shape={shape} color={color} contrastColor={contrastColor} index={index} onClick={toggleShape} />\n                        <ButtonColor color={nextColor} onClick={() => toggleColor(nextColor)} />\n                    </div>\n                </div>\n            </div>\n        </Draggable>\n    )\n}\n\nMarkerPrimus.defaultProps = {\n    color: \"white\"\n}\n\nexport default MarkerPrimus","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ImageAnnotationsBase from \"./ImageAnnotationsBase\"\nimport ImageAnnotationsMarkerPrimus from \"./ImageAnnotationsMarkerPrimus\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n//        backgroundColor: \"#333\",\n//        color: \"white\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    preview: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        marginTop: theme.spacing(7),\n        marginBottom: theme.spacing(6)\n    },\n    footer: {\n        position: \"absolute\",\n        top: \"auto\",\n        right: 0,\n        left: 0,\n        bottom: 0,\n        paddingTop: theme.spacing(1),\n        height: theme.spacing(5),\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        textAlign: \"center\"\n    }\n}));\n\n\nconst ImageAnnotations = ({className, imageUrl, imageAnnotations = [], imageFocalpoint, imageCropdata, imageFilters, markerTemplate, onChange, ...props}) => {\n    const classes = useStyles()\n\n    const _onChange = (imageAnnotations) => {\n        onChange && onChange(imageAnnotations)\n    }\n\n    return (\n        <ImageAnnotationsBase \n            imageUrl={imageUrl}\n            imageAnnotations={imageAnnotations}\n//            imageCropdata={imageCropdata}\n//            imageFilters={imageFilters}\n//            imageFocalpoint={imageFocalpoint}\n            markerTemplate={markerTemplate}\n            onChange={_onChange} />\n    )\n\n    return (\n        <div className={className || classes.root}>\n            <div className={classes.preview}>\n                <ImageAnnotationsBase \n                    imageUrl={imageUrl}\n                    imageAnnotations={imageAnnotations}\n                    imageCropdata={imageCropdata}\n                    imageFilters={imageFilters}\n                    imageFocalpoint={imageFocalpoint}\n                    markerTemplate={markerTemplate}\n                    onChange={_onChange} />\n            </div>\n            <footer className={classes.footer}>\n                <Typography nowrap className={classes.description}>\n                    Klikk for å legge til en markør\n                </Typography>\n            </footer>\n        </div>\n    )\n\n}\n\nexport default ImageAnnotations;","import React, { useRef, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport Cropper from 'react-cropper';\nimport 'cropperjs/dist/cropper.css'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst ImageCropperBase = ({className, imageUrl, imageCropdata, options, aspectRatio, onChange}) => {\n    const classes = useStyles()\n    const cropperRef = useRef(null);\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl for cropper</p>\n        )\n    }\n\n    const onReady = () => {\n\n        const currentImage = cropperRef && cropperRef.current\n\n        if (!currentImage) {\n            return\n        }\n\n        const image = cropperRef && cropperRef.current && cropperRef.current.getImageData();\n        const imageWidth = image && image.naturalWidth\n        const imageHeight = image && image.naturalHeight\n\n        const x = imageCropdata && imageCropdata.x * imageWidth / 100 || 0\n        const y = imageCropdata && imageCropdata.y * imageHeight / 100 || 0\n        const width = imageCropdata && imageCropdata.width * imageWidth / 100 || imageWidth\n        const height = imageCropdata && imageCropdata.height * imageHeight / 100  || imageHeight\n\n        cropperRef.current.setData({\n            ...imageCropdata,\n            x: x,\n            y: y,\n            width: width,\n            height: height\n        });\n\n//        cropperRef.current.setData(imageCropdata);\n    }\n\n    const onCrop = () => {\n        const data = cropperRef.current.getData();\n        const image = cropperRef.current.getImageData();\n\n        const imageWidth = image && image.naturalWidth\n        const imageHeight = image && image.naturalHeight\n\n        const x = data.x / imageWidth * 100\n        const y = data.y / imageHeight * 100\n\n        const width = data.width / imageWidth * 100\n        const height = data.height / imageHeight * 100\n\n        const newFormData = {\n            ...data,\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        }\n\n        onChange && onChange(newFormData)\n\n    }\n\n    options = {\n        ...options,\n        aspectRatio: aspectRatio\n    }\n\n    return (\n        <Cropper\n            className={className || classes.root}\n            ref={cropperRef}\n            src={imageUrl}\n            {...options}\n            ready={onReady.bind(this)}\n            crop={onCrop.bind(this)} />\n    )\n\n}\n\nImageCropperBase.propTypes = {\n    imageUrl: PropTypes.string\n}\n\nImageCropperBase.defaultProps = {\n    imageUrl: undefined,\n    options: {\n        viewMode: 0,\n        dragMode: \"crop\",\n        initialAspectRatio: undefined,\n        aspectRatio: undefined,\n        responsive: true,\n        restore: true,\n        checkCrossOrigin: false,\n        checkOrientation: true,\n        modal: true,\n        guides: true,\n        center: true,\n        highlight: true,\n        background: true,\n        autoCrop: true,\n        autoCropArea: 1,\n        movable: true,\n        rotatable: true,\n        scalable: true,\n        zoomable: true,\n        zoomOnTouch: true,\n        zoomOnWheel: true,\n        wheelZoomRatio: 0.1,\n        cropBoxMovable: true,\n        cropBoxResizable: true,\n        toggleDragModeOnDblclick: true\n    },\n    imageCropdata: {\n        \"x\": undefined,\n        \"y\": undefined,\n        \"width\": undefined,\n        \"height\": undefined,\n        \"rotate\": undefined\n    }\n}\n\nexport default ImageCropperBase;","import React, { useState } from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport CropIcon from '@material-ui/icons/Crop';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ImageCropperBase from \"./ImageCropperBase\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    cropper: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        marginBottom: theme.spacing(6),\n\n        \"& .cropper-container\": {\n            backgroundImage: \"none\"\n        },\n        \"& .cropper-modal\": {\n            backgroundColor: \"inherit\"\n        }\n    },\n    footer: {\n        position: \"absolute\",\n        top: \"auto\",\n        right: 0,\n        left: 0,\n        bottom: 0,\n        height: theme.spacing(6),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        textAlign: \"center\",\n        minWidth: theme.spacing(5),\n        color: \"inherit\",\n        \"&[aria-selected=true]\": {\n            color: theme.palette.primary.main\n        }\n    },\n    icon: {\n        fontSize: \"16px\"\n    }\n}));\n\n\nconst ImageCropper = ({className, imageUrl, imageCropdata = {}, formats, onChange, ...props}) => {\n    const classes = useStyles()\n\n    const _onChange = (imageCropdata) => {\n        onChange && onChange(imageCropdata)\n    }\n\n    const [formatSelected, setFormatSelected] = useState(null)\n    const [aspectRatio, setAspectRatio] = useState(null)\n\n    const resetFormat = () => {\n        setFormatSelected(null)\n        setAspectRatio(null)\n    }\n\n    const handleFormat = (format) => {\n        const ratio = format.split(':')\n\n        setFormatSelected(format)\n        setAspectRatio(ratio[0]/ratio[1])\n    }\n\n    return (\n        <div className={className || classes.root}>\n            <ImageCropperBase className={classes.cropper} imageUrl={imageUrl} imageCropdata={imageCropdata} aspectRatio={aspectRatio} onChange={_onChange} />\n            <footer className={classes.footer}>\n                    <ButtonBase className={classes.button} aria-selected={!formatSelected} onClick={() => resetFormat(undefined)}><CropIcon className={classes.icon} /></ButtonBase>\n                        { formats && formats.map((format, index) => {\n                        return (\n                            <ButtonBase aria-selected={formatSelected === format} className={classes.button} size=\"small\" onClick={() => handleFormat(format)}>{format}</ButtonBase>\n                        )\n                    })}\n            </footer>\n        </div>\n    )\n\n}\n\nImageCropper.defaultProps = {\n    imageUrl: undefined,\n    /* ImageCropdata defined as percentages */\n    imageCropdata: {\n        \"x\": 0,\n        \"y\": 0,\n        \"width\": undefined,\n        \"height\": undefined,\n        \"rotate\": 0\n    },\n    formats: [\n        \"16:9\",\n        \"4:3\",\n        \"3:2\",\n        \"1:1\",\n        \"2:3\"\n    ]\n}\n\nexport default ImageCropper;","import React, { useState } from 'react';\nimport ImageEditorToolbar from \"./ImageEditorToolbar\"\nimport ImageEditorNavigation from \"./ImageEditorNavigation\"\n\nimport ImagePreview from \"./ImagePreview\"\nimport ImageAnnotations from \"./ImageAnnotations\"\nimport ImageCropper from \"./ImageCropper\"\n\n\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n    },\n    split: {\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\",\n    },\n    view: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\"\n    },\n    edit: {\n        backgroundColor: theme.palette.background.paper,\n        position: \"relative\",\n        flexBasis: 480,\n\n        display: \"none\",\n        \n        \"&[aria-expanded=true]\": {\n            display: \"block\"\n        },\n    \n    },\n    canvas: {\n        position: \"relative\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        flexGrow: 1,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n    },\n}));\n\nconst ImageEditorField = ({\n    expanded = true,\n    toolbar,\n    action,\n    imageUrl,\n    imageAnnotations = [],\n    onAnnotationsChange,\n    imageCropdata = {},\n    onCropChange,\n    items = [],\n    currentIndex,\n    onSelectIndex,\n    transform = {},\n    onTransformChange,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles();\n\n    if (!expanded) {\n        return false\n    }\n\n    const ImageTemplate = () => {\n\n\n        if (action === \"imageCropdata\") {\n            return (\n                <ImageCropper imageUrl={imageUrl} imageCropdata={imageCropdata} onChange={onCropChange} />\n            )\n        }\n\n        if (action === \"imageAnnotations\") {\n            return (\n                <ImageAnnotations imageUrl={imageUrl} imageAnnotations={imageAnnotations} onChange={onAnnotationsChange} />\n            )\n        }\n\n        return (\n            <ImagePreview imageUrl={imageUrl} transform={transform} onTransformChange={onTransformChange} />\n        )\n        \n    }\n\n    let editorExpanded = true\n\n    if (action === \"preview\") {\n        editorExpanded = false\n    }\n\n    return (\n        <div className={classes.media}>\n            <div className={classes.split}>\n                <div className={classes.view}>\n                    <ImageEditorToolbar toolbar={toolbar} action={action} classes={classes.toolbar} />\n                    <div className={classes.canvas}>\n                        <ImageTemplate />\n                    </div>\n                    <ImageEditorNavigation items={items} onSelectIndex={onSelectIndex} />\n                </div>\n\n                <div className={classes.edit} aria-expanded={editorExpanded}>\n                    {children}\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\nexport default ImageEditorField;","import schema from \"./ImageEditor.schema\"\nimport uiSchema from \"./ImageEditor.uiSchema\"\nimport formData from \"./ImageEditor.formData\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData\n}","import React, { useEffect, useState } from \"react\"\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst PrimusMediaTheme = ({children}) => {\n\n    const darkTheme = createMuiTheme({\n        \"palette\": {\n            \"type\": \"dark\",\n            \"primary\": {\n                \"main\": \"#D94353\",\n                \"light\": \"#EE7E8F\",\n                \"dark\": \"#AE3552\"\n            }\n        }\n    })\n\n    return (\n        <ThemeProvider theme={darkTheme}>\n            {children}\n        </ThemeProvider>\n    )\n\n\n}\n\nexport default PrimusMediaTheme;","import React, { useState } from 'react';\nimport ImageEditorLayout from \"./ImageEditorLayout\"\nimport model from \"./ImageEditor.model\"\n\nimport PrimusMediaTheme from \"./PrimusMediaTheme\"\n\nconst ImageEditorField = (props) => {\n\n    const { idSchema, formData, formContext, onChange } = props\n    const idPrefix = idSchema.$id\n\n    const { currentId, onCurrentId } = formContext\n\n    const idParents = idPrefix && idPrefix.split(\"_\") || []\n    const currentIdParents = currentId && currentId.split(\"_\") || []\n\n    let fieldset\n\n    if (currentIdParents.length > idParents.length) {\n        fieldset = currentIdParents[idParents.length]\n    }\n\n    const _onSelectIndex = (index) => {\n\n        let idParents = idPrefix && idPrefix.split(\"_\")\n        idParents.pop()\n\n        let idParent = idParents.join('_') + \"_\" + index\n\n        let id\n\n        if (fieldset) {\n            id = idParent + \"_\" + fieldset\n        } else {\n            id = idParent\n        }\n\n        onCurrentId && onCurrentId(id)\n\n    }\n\n    const _onFieldset = (fieldset) => {\n\n        let id\n\n        if (fieldset) {\n            id = idPrefix + \"_\" + fieldset\n        } else {\n            id = idPrefix\n        }\n\n        onCurrentId && onCurrentId(id)\n\n    }\n\n    const _onAnnotationsChange = (imageAnnotations = []) => {\n        onChange && onChange({\n            ...formData,\n            imageAnnotations: imageAnnotations\n        })\n    }\n\n    const _onCropChange = (imageCropdata = {}) => {\n        onChange && onChange({\n            ...formData,\n            imageCropdata: imageCropdata\n        })\n    }\n\n    const [transform, setTransform] = useState({scale: 1})\n\n    const _onTransformChange = (props) => {\n\n        const { scale, positionX, positionY } = props\n\n        console.log(props)\n\n        setTransform({\n            scale: scale,\n            positionX: positionX,\n            positionY: positionY\n        })\n    }\n\n    const toolbar = [\n        {\n            name: \"preview\",\n            icon: \"remove_red_eye\",\n            onClick: () => _onFieldset()\n        },\n        {\n            name: \"content\",\n            icon: \"edit\",\n            onClick: () => _onFieldset(\"content\")\n        },\n        /*\n        {\n            name: \"imageCropdata\",\n            icon: \"crop\",\n            onClick: () => _onFieldset(\"imageCropdata\")\n        },*/\n        {\n            name: \"imageAnnotations\",\n            icon: \"label\",\n            onClick: () => _onFieldset(\"imageAnnotations\")\n        }\n    ]\n\n    const imageUrl = formData.media && formData.media.imageUrl\n    const imageAnnotations = formData.imageAnnotations || []\n    const imageCropdata = formData.imageCropdata || {}\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:collapsible\": true,\n        \"ui:onSelectIndex\": _onSelectIndex,\n        \"ui:imageUrl\": imageUrl,\n        \"ui:imageAnnotations\": imageAnnotations,\n        \"ui:onAnnotationsChange\": _onAnnotationsChange,\n        \"ui:imageCropdata\": imageCropdata,\n        \"ui:onCropChange\": _onCropChange,\n        \"ui:fieldset\": [fieldset],\n        \"ui:action\": fieldset || \"preview\",\n        \"ui:toolbar\": toolbar,\n        \"ui:transform\": transform,\n        \"ui:onTransformChange\": _onTransformChange,\n        \"ui:layout\": ImageEditorLayout\n    }\n\n    const { LayoutField, ObjectField } = props.registry.fields\n\n    return (\n        <PrimusMediaTheme>\n            <ObjectField {...props} uiSchema={uiSchema} />\n        </PrimusMediaTheme>\n    )\n\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <ObjectField {...props} />\n        </LayoutField>\n    )\n\n}\n\nexport default ImageEditorField;","import React, { useState, useEffect } from \"react\"\nimport MediaArrayTemplate from \"./PrimusMediaArrayTemplate\"\nimport model from \"./PrimusMedia.model\"\n\nimport ImageEditorField from \"./ImageEditorField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst PrimusMediaEditorField = (props) => {\n    const { idSchema, formData, formContext, onChange } = props\n\n    const { currentId, onCurrentId } = formContext\n\n    const _onSelectIndex = (index) => {\n        const itemId = idSchema.$id + \"_\" + index\n        onCurrentId && onCurrentId(itemId)\n    }\n\n    const { ArrayField } = props.registry.fields\n\n    let selectedItem\n\n    const items = formData.map((item, index) => {\n\n        const itemId = idSchema.$id + \"_\" + index\n\n        let selected = false\n\n        if (currentId && currentId.startsWith(itemId)) {\n            selected = true\n            selectedItem = item\n        }\n\n        return {\n            ...item,\n            selected: selected,\n            onSelect: () => _onSelectIndex(index)\n        }\n\n    })\n\n    if (!selectedItem && items.length) {\n        items[0] = {\n            ...items[0],\n            selected: true\n        }\n    }\n\n    const uiSchema = {\n        \"ui:ArrayFieldTemplate\": MediaArrayTemplate,\n        \"items\": {\n            ...model.uiSchema.items,\n            \"ui:items\": items,\n            \"ui:field\": ImageEditorField,\n        }\n    }\n\n    return <ArrayField {...props} uiSchema={uiSchema} />\n\n}\n\nexport default PrimusMediaEditorField","import React, { useState, useEffect } from \"react\"\nimport PrimusMediaEditorField from \"../PrimusMedia/PrimusMediaEditorField\"\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst PrimusMediaField = (props) => {\n    const { formData, formContext, onChange } = props\n\n\n    let uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusMedia\"\n    }\n\n    const id = props.idSchema.$id\n    const currentId = formContext.currentId\n\n    if (currentId && currentId.includes(\"_images\")) {\n        return <PrimusMediaEditorField {...props} />\n    }\n\n    const { ObjectField } = props.registry.fields\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n\n\n\n}\n\nexport default PrimusMediaField","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n//        paddingLeft: props => { return theme.spacing(props.padding) },\n//        paddingRight: props => { return theme.spacing(props.padding) },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    body: {\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n    footer: {\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n\n    },\n\n}));\n\nconst PrimusSectionLayout = ({id, sortableHandle, collapsible, expanded, onExpand, onDelete, onCollapse, currentId, padding = 2, spacing = 2, title = \"Section\", children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                {sortableHandle}\n                <Typography className={classes.title}>{title}</Typography>\n            </header>\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from \"react\";\n\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { WidgetProps } from \"@rjsf/core\";\nimport { utils } from \"@rjsf/core\";\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    select: {\n        fontSize: 14,\n        height: 24,\n        borderRadius: 12,\n        margin: theme.spacing(.5),\n    },\n    empty: {\n        color: theme.palette.text.secondary\n    }\n}));\n\n\nconst { getUiOptions, asNumber, guessType } = utils;\n\nconst nums = new Set([\"number\", \"integer\"]);\n\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\nconst processValue = (schema, value) => {\n    // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n    const { type, items } = schema;\n\n    if (value === \"\") {\n        return undefined;\n    } else if (type === \"array\" && items && nums.has(items.type)) {\n        return value.map(asNumber);\n    } else if (type === \"boolean\") {\n        return value === \"true\";\n    } else if (type === \"number\") {\n        return asNumber(value);\n    }\n\n    // If type is undefined, but an enum is present, try and infer the type from\n    // the enum values\n    if (schema.enum) {\n        if (schema.enum.every((x) => guessType(x) === \"number\")) {\n            return asNumber(value);\n        } else if (schema.enum.every((x) => guessType(x) === \"boolean\")) {\n            return value === \"true\";\n        }\n    }\n\n    return value;\n}\n\nconst SelectWidget = ({\n    schema,\n    uiSchema = {},\n    id,\n    options,\n//    label,\n    required,\n    disabled,\n    readonly,\n    value,\n    multiple,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    rawErrors = [],\n    ...props\n}) => {\n\n    const { enumOptions, enumDisabled } = options;\n    const emptyValue = multiple ? [] : \"\";\n\n    const uiOptions = getUiOptions(uiSchema)\n    const label = options.title || schema.name\n    const helperText = uiOptions.help\n\n    const _onChange = ({ target: { value } }) => onChange(processValue(schema, value));\n    const _onBlur = ({ target: { value } }) => onBlur(id, processValue(schema, value));\n    const _onFocus = ({ target: { value } }) => onFocus(id, processValue(schema, value));\n\n    const classes = useStyles()\n\n    return (\n        <Select\n            id={id}\n            variant=\"outlined\"\n            className={classes.select}\n            value={typeof value === \"undefined\" ? emptyValue : value}\n            displayEmpty={true}\n            required={required}\n            disabled={disabled || readonly}\n            autoFocus={autofocus}\n            error={rawErrors.length > 0}\n            onChange={_onChange}\n            onBlur={_onBlur}\n            onFocus={_onFocus}\n            >\n                <MenuItem value=\"\"><em className={classes.empty}>{label}</em></MenuItem>\n\n                {(enumOptions).map(({ value, label }, i) => {\n                    const disabled = enumDisabled && (enumDisabled).indexOf(value) != -1;\n                    return (\n                        <MenuItem key={i} value={value} disabled={disabled}>{label}</MenuItem>\n                    )\n                })}\n        </Select>\n    )\n\n}\n\nexport default SelectWidget;\n","import React from \"react\";\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\n\nimport { WidgetProps } from \"@rjsf/core\";\nimport { utils } from \"@rjsf/core\";\n\nconst { getDisplayLabel, asNumber, guessType } = utils;\n\nconst nums = new Set([\"number\", \"integer\"]);\n\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\nconst processValue = (schema, value) => {\n    // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n    const { type, items } = schema;\n\n    if (value === \"\") {\n        return undefined;\n    } else if (type === \"array\" && items && nums.has(items.type)) {\n        return value.map(asNumber);\n    } else if (type === \"boolean\") {\n        return value === \"true\";\n    } else if (type === \"number\") {\n        return asNumber(value);\n    }\n\n    // If type is undefined, but an enum is present, try and infer the type from\n    // the enum values\n    if (schema.enum) {\n        if (schema.enum.every((x) => guessType(x) === \"number\")) {\n            return asNumber(value);\n        } else if (schema.enum.every((x) => guessType(x) === \"boolean\")) {\n            return value === \"true\";\n        }\n    }\n\n    return value;\n}\n\nconst SelectWidget = ({\n    schema,\n    uiSchema = {},\n    id,\n    options,\n//    label,\n    required,\n    disabled,\n    readonly,\n    value,\n    multiple,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    rawErrors = [],\n    ...props\n}) => {\n\n    const { enumOptions, enumDisabled } = options;\n    const emptyValue = multiple ? [] : \"\";\n\n    const displayLabel = getDisplayLabel(\n        schema,\n        uiSchema\n        /* TODO: , rootSchema */\n    );\n\n    const label = options.title || props.title || props.label || schema.title\n\n    const variant = options.variant || \"filled\"\n    const size = options.size\n\n    const helperText = options.help || null\n\n    const _onChange = ({ target: { value } }) => onChange(processValue(schema, value));\n    const _onBlur = ({ target: { value } }) => onBlur(id, processValue(schema, value));\n    const _onFocus = ({ target: { value } }) => onFocus(id, processValue(schema, value));\n\n    return (\n        <FormControl fullWidth={true} variant={variant}>\n        <InputLabel variant={variant} htmlFor={id}>{label}</InputLabel>\n        <Select\n            native={true}\n            variant={variant}\n            size={size}\n            fullWidth={true}\n            id={id}\n            value={typeof value === \"undefined\" ? emptyValue : value}\n            required={required}\n            disabled={disabled || readonly}\n            autoFocus={autofocus}\n            error={rawErrors.length > 0}\n            onChange={_onChange}\n            onBlur={_onBlur}\n            onFocus={_onFocus}\n            InputLabelProps={{\n                shrink: true,\n            }}\n            SelectProps={{\n                multiple: typeof multiple === \"undefined\" ? false : multiple,\n            }}>\n\n            <option aria-label=\"None\" value=\"\" />\n\n            {(enumOptions).map(({ value, label }, i) => {\n                const disabled = enumDisabled && (enumDisabled).indexOf(value) != -1;\n                return (\n                    <option key={i} value={value} disabled={disabled}>{label}</option>\n                )\n            })}\n        </Select>\n        { helperText && <FormHelperText>{helperText}</FormHelperText> }\n        </FormControl>\n    )\n\n}\n\nexport default SelectWidget;\n","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n        userSelect: \"none\",\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    body: {\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n\n}));\n\nconst PrimusSectionLayout = ({id, currentId, padding = 2, spacing = 2, title = \"Section\", children}) => {\n    const classes = useStyles({padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    return (\n        <section ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header}>\n                <Typography className={classes.title}>{title}</Typography>\n            </header>\n\n            <div className={classes.body}>\n                {children}\n            </div>\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport Typography from \"@material-ui/core/Typography\"\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport Icon from \"@material-ui/core/Icon\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    icon: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\n\nconst KnavSearchAutocomplete = ({\n    id, \n    label, \n    helperText,\n    icon = <SearchIcon />,\n    startAdornment, \n    endAdornment, \n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        console.log('params', params)\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n//                label: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n                <span className={classes.title}>\n                    {title}\n                </span>\n\n                {' '}\n\n                { description && <i component=\"i\" className={classes.description}>{description}</i> }\n            </Typography>\n        ) \n\n    }\n    \n    const _renderInput = ({InputProps, inputProps}) => {\n\n        if (variant === \"base\") {\n            return (\n                <InputBase\n                    ref={InputProps.ref}\n                    inputProps={inputProps}\n                    fullWidth={true}\n                    endAdornment={endAdornment}\n                />\n            )\n\n        } else {\n\n            if (!startAdornment && icon) {\n                startAdornment = <Icon className={classes.icon}>{icon}</Icon>\n            }\n\n            return (\n                <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                    <InputLabel className={classes.label} variant={variant} htmlFor={inputProps.id}>{label}</InputLabel>\n                    <FilledInput\n                        ref={InputProps.ref}\n                        inputProps={inputProps}\n                        fullWidth={true}\n                        startAdornment={startAdornment}\n                        endAdornment={endAdornment}\n                    />\n                    { helperText && <FormHelperText>{helperText}</FormHelperText> }\n                </FormControl>\n            )\n        }\n\n    }\n\n    const _onChange = (event, value) => {\n\n        let formData = {}\n\n        if (typeof value === 'string') {\n            formData = {\n                value: value,\n            }\n        } else if (value && value.inputValue) {\n            // Create a new value from the user input\n            formData = {\n                value: value.inputValue,\n            }\n        } else {\n            formData = value\n        }\n\n//        setValue(formData)\n        onChange && onChange(formData)\n\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            freeSolo\n            id={id + \"-suggest\"}\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            options={options}\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderInput={_renderInput}\n        />        \n    )\n    \n}\n\nexport default KnavSearchAutocomplete","import React, { useState, useEffect } from \"react\"\nimport Autocomplete from \"./AutocompleteOptionsField\"\n\nimport _ from \"lodash\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KnavSearchField = (props) => {\n\n    const { idSchema, schema, uiSchema, formData = {}, onChange } = props\n\n    const id = idSchema.$id\n\n    // query\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { locale = \"no\", placeholder = \"Søk\", query = {} } = uiOptions\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        let qs = Object.keys(query).map(key => {\n            return key + \":\" + query[key]\n        }) || []\n\n        q && qs.push(\"compoundName:\" + q)\n\n        const apiUrl = \"https://kulturnav.org/api/summary/\" + qs.join(',')\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    const itemsSelected = []\n\n    const _getOption = (item) => {\n\n        if (uiOptions.getOption) {\n            return uiOptions.getOption(item)\n        }\n\n        const name = item.name && item.name[locale]\n        const uuid = item.uuid\n\n        const label = name\n        const value = name\n\n        let metadata = []\n\n        item.specificType && item.specificType.map(type => {\n            if (type.displayValue && type.displayValue[locale]) {\n                metadata.push(type.displayValue[locale])\n            }\n        })\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n            description: metadata.join(\"/\")\n        }\n    \n\n    }\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const option = _getOption(item)\n\n            const { uuid, label, value } = option\n\n            uuid && label && value && options.push(option)\n\n        })\n\n        setOptions(options)    \n\n    }, [results])\n    \n    let [q, setQ] = useState(\"\")\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n        _onQuery(q)\n    }\n\n    const _onChange = (option) => {\n       option && onChange({\n//           ...formData,\n           ...option\n       })\n    }\n\n    // label, helperText, variant\n\n    const label = uiOptions.title\n    const helperText = uiOptions.help\n    const variant = uiOptions.variant\n\n    const icon = uiOptions.icon\n    const endAdornment = uiOptions.endAdornment\n\n\n    const { LayoutField } = props.registry.fields\n\n    return (\n        <LayoutField {...props}>\n            <Autocomplete\n                id={id}\n                icon={icon}\n                label={label}\n                helperText={helperText}\n                variant={variant}\n                options={options}\n                formData={formData}\n                value={formData}\n                onChange={_onChange}\n                onInputChange={_onInputChange}\n                endAdornment={endAdornment}\n            />\n        </LayoutField>\n    )\n\n\n}\n\nKnavSearchField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default KnavSearchField","import React, { useState} from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n                <span className={classes.title}>\n                    {title}\n                </span>\n                {' '}\n                { description && <i component=\"i\" className={classes.description}>{description}</i> }\n            </Typography>\n        ) \n\n    }\n\n    const _renderInput = (params) => {\n\n        if (props.renderInput) {\n            return props.renderInput({...params, label, placeholder})\n        }\n\n        return (\n            <TextField {...params}\n                variant={variant}\n                label={label}\n                placeholder={placeholder}\n             />\n        )\n    }\n\n    const _renderTags = (tags, getTagProps) => {\n\n        if (props.renderTags) {\n            return props.renderTags(tags, getTagProps)\n        }\n\n        return tags.map((option, index) => (\n            <Chip variant=\"outlined\" label={option.value} {...getTagProps({index})} />\n        ))\n\n    }\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = {\n                    value: value,\n                }\n            } else if (value && value.inputValue) {\n                // Create a new value from the user input\n                value = {\n                    value: value.inputValue,\n                }\n            } else {\n                value = value\n            }\n\n            return value\n\n        })\n\n    }\n\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            multiple\n            freeSolo\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React, { useState} from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport RemoveIcon from '@material-ui/icons/RemoveCircle';\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { \n    sortableContainer,\n    sortableElement,\n    sortableHandle,    \n} from 'react-sortable-hoc';\n\nimport SortableIcon from '@material-ui/icons/DragHandle';\nimport arrayMove from \"array-move\"\n\nconst useStyles = makeStyles(theme => ({\n    field: {\n        \"& .MuiAutocomplete-input\": {\n            flexBasis: \"100%\"\n        }\n    },\n    tags: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    tag: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        padding: 8,\n        marginLeft: -8,\n        marginRight: -12,\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n\n        \"&.sortable-helper\": {\n            backgroundColor: theme.palette.background.paper,\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n\n            \"& $remove\": {\n                display: \"none\"\n            }\n\n        }\n\n    },\n    sorthandle: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        },\n        marginRight: 4\n    },\n    remove: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        }\n\n    },\n    option: {\n        flexGrow: 1,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n    },\n    code: {\n        border: '1px solid',\n        borderColor: theme.palette.divider,\n        padding: theme.spacing(.5),\n        borderRadius: 2,\n        fontSize: 11,\n        lineHeight: 1,\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n\n    }\n}));\n\nconst TagList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tags}>\n            {children}\n        </div>\n    )\n}\n\nconst TagItem = ({value, label, description, system, systemId, onDelete }) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tag}>\n            <SortableHandle />\n            <Option title={value} description={description} system={system} systemId={systemId} />\n            <RemoveIcon onClick={onDelete} className={classes.remove} />\n        </div>\n    )\n\n}\n\nconst SortableHandle = sortableHandle(() => {\n    const classes = useStyles()\n\n    return (\n        <SortableIcon className={classes.sorthandle} />\n    )\n\n})\n\nconst SortableTagItem = sortableElement(({props, sortIndex, item}) => {\n    return(\n        <TagItem {...item} />\n    )\n})\n\nconst SortableTagList = sortableContainer(({items = [], ...props}) => {\n\n    return (\n        <TagList>\n            {items.map((item, index) => (\n                <SortableTagItem key={`item-${index}`} index={index} sortIndex={index} item={item} />\n            ))}\n        </TagList>\n    )\n\n})\n\n\nconst Option = ({title, description, system, systemId}) => {\n\n    const classes = useStyles()\n\n    let code\n\n    if (system && systemId) {\n        code = system + \" \" + systemId\n    }\n\n    return (\n        <Typography className={classes.option}>\n            <span className={classes.title}>{title}</span>\n            {' '}\n            { description && <span className={classes.description}>{description}</span> }\n            {' '}\n            { code && <span className={classes.code}>{code}</span> }\n        </Typography>\n    )\n\n\n}\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Option {...option} title={title} />\n        )\n\n    }\n\n    const _renderInput = (params) => {\n\n        return (\n            <TextField {...params}\n                className={classes.field}\n                variant=\"filled\"\n                label={label}\n                placeholder={placeholder}\n            />\n        )\n    }\n\n    const _onSortEnd = ({oldIndex, newIndex}) => {\n        const newFormData = arrayMove(value, oldIndex, newIndex)\n        onChange && onChange(newFormData)\n    };\n\n    const _renderTags = (tags, getTagProps) => {\n\n        const items = tags.map((option, index) => {\n            return {\n                ...option,\n                ...getTagProps({index})\n            }\n        })\n\n        return <SortableTagList\n            onSortEnd={_onSortEnd}\n            helperClass=\"sortable-helper\"\n            useDragHandle={true}\n            items={items} />\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n\n    }\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = {\n                    value: value,\n                }\n            } else if (value && value.inputValue) {\n                // Create a new value from the user input\n                value = {\n                    value: value.inputValue,\n                }\n            } else {\n                value = value\n            }\n\n            return value\n\n        })\n\n    }\n\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            multiple\n            freeSolo\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            disableClearable\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React, { useState, useEffect } from \"react\"\nimport AutocompleteTags from \"./AutocompleteTagsField\"\nimport AutocompleteList from \"./AutocompleteListField\"\n\nimport _ from \"lodash\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KnavSearchField = (props) => {\n\n    const { idSchema, schema, uiSchema, formData = {}, onChange } = props\n\n    const id = idSchema.$id\n\n    // query\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { locale = \"no\", query = {} } = uiOptions\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        let qs = Object.keys(query).map(key => {\n            return key + \":\" + query[key]\n        }) || []\n\n        q && qs.push(\"compoundName:\" + q)\n\n        const apiUrl = \"https://kulturnav.org/api/summary/\" + qs.join(',')\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    const itemsSelected = []\n\n    const _getOption = (item) => {\n\n        if (uiOptions.getOption) {\n            return uiOptions.getOption(item)\n        }\n\n        const name = item.name && item.name[locale]\n        const uuid = item.uuid\n\n        const label = name\n        const value = name\n\n        let metadata = []\n\n        item.specificType && item.specificType.map(type => {\n            if (type.displayValue && type.displayValue[locale]) {\n                metadata.push(type.displayValue[locale])\n            }\n        })\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n            description: metadata.join(\"/\")\n        }\n    \n\n    }\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const option = _getOption(item)\n\n            const { uuid, label, value } = option\n            uuid && label && value && options.push(option)\n\n        })\n\n        setOptions(options)    \n\n    }, [results])\n    \n    let [q, setQ] = useState(\"\")\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n        _onQuery(q)\n    }\n\n    const _onChange = (formData) => {\n        formData && onChange(formData)\n    }\n\n    // label, helperText, variant\n\n    const label = uiOptions.title\n    const placeholder = uiOptions.placeholder\n    const helperText = uiOptions.help\n    const variant = uiOptions.variant\n\n    const icon = uiOptions.icon\n    const endAdornment = uiOptions.endAdornment\n\n    const { LayoutField } = props.registry.fields\n\n    // widget\n\n    const AutcompleteWidget = uiOptions[\"widget\"] || AutocompleteList\n\n    return (\n        <LayoutField {...props}>\n            <AutcompleteWidget\n                id={id}\n                icon={icon}\n                label={label}\n                placeholder={placeholder}\n                helperText={helperText}\n                variant={variant}\n                options={options}\n                value={formData}\n                onChange={_onChange}\n                onInputChange={_onInputChange}\n                endAdornment={endAdornment}\n            />\n        </LayoutField>\n    )\n\n\n}\n\nKnavSearchField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default KnavSearchField","import React, { useState, useEffect } from \"react\"\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\nconst PersonRoleField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (role) => {\n        onChange({\n            ...formData,\n            role: role\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.role,\n        \"ui:title\": \"Role\",\n        \"ui:widget\": SelectAdornmentWidget\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.role}\n            uiSchema={uiSchema}\n            formData={formData && formData.role}\n            onChange={_onChange}\n            />\n    )\n\n}\n\nPersonRoleField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonRoleField","import React, { useState, useEffect } from \"react\"\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonRoleField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (status) => {\n        onChange({\n            ...formData,\n            status: status\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.status,\n        \"ui:title\": \"Status\",\n        \"ui:widget\": SelectAdornmentWidget\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.status}\n            uiSchema={uiSchema}\n            formData={formData && formData.status}\n            onChange={_onChange}\n        />\n    )\n\n}\n\nPersonRoleField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonRoleField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst DesignationField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Betegnelse\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"a05e6cbb-26db-4861-a9fe-68857c2e707d\"\n        },\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nDesignationField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default DesignationField","import schema from \"./Designation.schema\"\nimport uiSchema from \"./Designation.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusPerson\",\n    \"ui:title\": \"Aktør\",\n    \"status\": {\n        \"ui:title\": \"Status\"\n    },\n    \"role\": {\n        \"ui:title\": \"Rolle\"\n    }\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst DesignationTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Betegnelse\",\n        ...props.uiSchema,\n        \"ui:locale\": \"no\",\n        \"ui:placeholder\": \"Legg til betegnelse\",\n        \"ui:query\": {\n            \"entity.dataset\": \"a05e6cbb-26db-4861-a9fe-68857c2e707d\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nDesignationTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default DesignationTagsField","import React, { useState, useEffect } from \"react\"\nimport KnavSearchField from \"./KnavSearchField\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst ClassificationField = (props) => {\n\n    const locale = \"no\"\n\n    const _getOutlineId = (text) => {\n        return text.match(/\\(([^)]+)\\)/)[1]\n    }\n\n    const _getOption = (item) => {\n\n        const name = item.name && item.name[locale]\n        const caption = item.caption && item.caption[locale]\n        const uuid = item.uuid\n\n        const id = caption && _getOutlineId(caption)\n\n        let parent\n\n        if (item.partOf && item.partOf.displayValue && item.partOf.displayValue[locale]) {\n            parent = item.partOf.displayValue[locale]\n        }\n\n        const parentId = parent && _getOutlineId(parent)\n\n        const description = \"Outline \" + id\n\n        const label = name\n        const value = name\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n            description: description,\n            system: \"Outline\",\n            systemId: id,\n        }        \n\n\n    }\n\n    const EndAdornment = () => {\n\n        const { system, systemId } = props.formData \n\n        if (system && systemId) {\n            return (\n                <div>\n                    {system} {systemId}\n                </div>\n            )\n        }\n\n        return false\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Klassifikasjon\",\n        \"ui:endAdornment\": <EndAdornment />,\n        \"ui:locale\": locale,\n        \"ui:getOption\": _getOption,\n        \"ui:query\": {\n            \"entity.dataset\": \"a8797483-ff02-4a4c-adf1-b406cbcd6fc2\"\n        },\n//        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nClassificationField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default ClassificationField","import schema from \"./Classification.schema\"\n\nexport default {\n    schema: schema,\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\nconst ClassificationField = (props) => {\n\n    const locale = \"no\"\n\n    const _getOutlineId = (text) => {\n        return text.match(/\\(([^)]+)\\)/)[1]\n    }\n\n    const _getOption = (item) => {\n\n        const name = item.name && item.name[locale]\n        const caption = item.caption && item.caption[locale]\n        const uuid = item.uuid\n\n        const id = caption && _getOutlineId(caption)\n\n        let parent\n\n        if (item.partOf && item.partOf.displayValue && item.partOf.displayValue[locale]) {\n            parent = item.partOf.displayValue[locale]\n        }\n\n        const parentId = parent && _getOutlineId(parent)\n\n        const description = \"Outline \" + id\n\n        const label = name\n        const value = name\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n//            description: description,\n            system: \"Outline\",\n            systemId: id,\n        }        \n\n\n    }\n\n    const formData = props.formData && props.formData.map(item => {\n        return {\n            ...item,\n            description: undefined\n        }\n    })\n\n\n    const uiSchema = {\n        \"ui:title\": \"Klassifikasjon\",\n        \"ui:placeholder\": \"Legg til klassifikasjon\",\n        \"ui:locale\": locale,\n        \"ui:getOption\": _getOption,\n        \"ui:query\": {\n            \"entity.dataset\": \"a8797483-ff02-4a4c-adf1-b406cbcd6fc2\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} formData={formData} uiSchema={uiSchema} />\n    )\n\n}\n\nClassificationField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default ClassificationField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MaterialField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Materiale\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"64ac501d-7595-45fb-b1d9-07b74660b824\"\n//            \"entityType\": \"Person\"\n        },\n//        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    const { LayoutField } = props.registry.fields\n\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <KnavSearchField {...props} uiSchema={uiSchema} />\n        </LayoutField>\n    )\n\n}\n\nMaterialField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default MaterialField","import schema from \"./Material.schema\"\nimport uiSchema from \"./Material.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusMaterial\",\n    \"ui:title\": \"Materiale\",\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MaterialTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Materiale\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"64ac501d-7595-45fb-b1d9-07b74660b824\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nMaterialTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default MaterialTagsField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MaterialField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Teknikk\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"79535e9b-47c7-4b91-9ec5-73f3ccd40d1a\"\n        },\n//        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nMaterialField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default MaterialField","import schema from \"./Technique.schema\"\nimport uiSchema from \"./Technique.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusTechnique\",\n    \"ui:title\": \"Teknikk\",\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst TechniqueTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Teknikk\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"79535e9b-47c7-4b91-9ec5-73f3ccd40d1a\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nTechniqueTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default TechniqueTagsField","import schema from \"./Color.schema\"\nimport uiSchema from \"./Color.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\",\n        },\n        \"label\": {\n            \"type\": \"string\",\n        },\n        \"hex\": {\n            \"type\": \"string\",\n        }\n    }\n}","export default {\n}","import React, { useCallback, useState, useEffect, useRef } from \"react\"\nimport Dropzone, { useDropzone } from 'react-dropzone'\nimport Palette, { usePalette } from 'react-palette'\n\nconst ColorTagsDropImageField = ({className = \"MuiAutocomplete-dropzone\", children, onClick, onChange, ...props}) => {\n\n    const [imageUrl, setImageUrl] = useState(props.imageUrl || null)\n\n    useEffect(() => {\n        setImageUrl(props.imageUrl)\n    }, [props.imageUrl])\n\n    const _onDrop = useCallback((acceptedFiles) => {\n        acceptedFiles.forEach((file) => {\n            const reader = new FileReader()\n    \n            reader.onabort = () => console.log('file reading was aborted')\n            reader.onerror = () => console.log('file reading has failed')\n            reader.onload = () => {\n                setImageUrl(reader.result)\n            }\n            reader.readAsDataURL(file)\n          \n        })\n        \n      }, [])\n    \n\n    const { data, loading, error } = usePalette(imageUrl)\n\n    useEffect(() => {\n\n        let colors = [\"vibrant\",\"lightVibrant\",\"darkVibrant\",\"muted\",\"lightMuted\",\"darkMuted\"]\n\n        let formData = []\n\n        colors.map(color => {\n            const value = data && data[color]\n\n            value && formData.push({\n                label: color,\n                value: data && data[color]\n            })\n        })\n\n        formData.length && onChange && onChange(formData)\n\n    }, [data])\n\n    const { getRootProps, getInputProps } = useDropzone({onDrop: _onDrop})\n\n    if (onClick) {\n        return (\n            <div className={className} onClick={onClick}>\n                {children}\n            </div>\n        )\n    }\n\n    return (\n        <div className={className} {...getRootProps()}>\n            <input {...getInputProps()} />\n            {children}\n        </div>\n      )\n\n\n}\n\n\nexport default ColorTagsDropImageField","import React, { useState} from 'react';\n\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport ColorTagsDropImage from \"./ColorTagsDropImage\"\nimport ColorDropIcon from \"@material-ui/icons/CenterFocusStrong\"\n\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport RemoveIcon from '@material-ui/icons/RemoveCircle';\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { \n    sortableContainer,\n    sortableElement,\n    sortableHandle,    \n} from 'react-sortable-hoc';\n\nimport SortableIcon from '@material-ui/icons/DragHandle';\nimport arrayMove from \"array-move\"\n\nconst useStyles = makeStyles(theme => ({\n    field: {\n        \"& .MuiAutocomplete-input\": {\n            flexGrow: 1,\n            flexShrink: 0,\n        },\n        \"& .MuiInputAdornment-positionEnd\": {\n        },\n    },\n\n    dropButton: {\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            color: theme.palette.text.primary\n        }\n\n\n    },\n    dropIcon: {\n        fontSize: 18,\n        margin: theme.spacing(.5)\n    },\n    dropLabel: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n    },\n\n    tags: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    tag: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        padding: 8,\n        marginLeft: -8,\n        marginRight: -12,\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n\n    },\n    sorthandle: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        },\n        marginRight: 4\n    },\n    remove: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        }\n\n    },\n\n    option: {\n        flexGrow: 1,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n\n    },\n    swatch: {\n        backgroundColor: props => { return props.backgroundColor },\n        width: 20,\n        height: 20,\n        borderRadius: 10\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\nconst TagList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tags}>\n            {children}\n        </div>\n    )\n}\n\nconst TagItem = ({value, label, onDelete }) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tag}>\n            <SortableHandle />\n            <Option title={label} value={value} />\n            <RemoveIcon onClick={onDelete} className={classes.remove} />\n        </div>\n    )\n\n}\n\nconst Option = ({title, value, hex}) => {\n\n    let backgroundColor\n\n    if (value && value.startsWith('#')) {\n        backgroundColor = value\n    }\n\n    const classes = useStyles({backgroundColor})\n\n    return (\n        <div className={classes.option}>\n            <div className={classes.swatch}></div>\n            <Typography className={classes.title}>{title}</Typography>\n        </div>\n    )\n\n}\n\nconst SortableHandle = sortableHandle(() => {\n    const classes = useStyles()\n\n    return (\n        <SortableIcon className={classes.sorthandle} />\n    )\n\n})\n\nconst SortableTagItem = sortableElement(({props, sortIndex, item}) => {\n    return(\n        <TagItem {...item} />\n    )\n})\n\nconst SortableTagList = sortableContainer(({items = [], ...props}) => {\n\n    return (\n        <TagList>\n            {items.map((item, index) => (\n                <SortableTagItem key={`item-${index}`} index={index} sortIndex={index} item={item} />\n            ))}\n        </TagList>\n    )\n\n})\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    formData = [], \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        /*\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        */\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Option {...option} title={title} />\n        )\n\n    }\n\n    const _onDropColors = (colors) => {\n\n        const tags = [\n            ...formData,\n            ...colors\n        ]\n\n        const newFormData = _filterTags(tags)\n        onChange && onChange(newFormData)\n\n    }\n\n    const [imageUrl, setImageUrl] = useState(null)\n\n    const _onImageUrl = () => {\n        props.imageUrl && setImageUrl(props.imageUrl)\n    }\n\n    const _renderInput = (params) => {\n\n        const endAdornment = (\n            <InputAdornment position=\"end\">\n                <ColorTagsDropImage imageUrl={imageUrl} onClick={!imageUrl && props.imageUrl && _onImageUrl} onChange={_onDropColors}>\n                    <ButtonBase className={classes.dropButton} size=\"small\">\n                        <ColorDropIcon className={classes.dropIcon} />\n                        <Typography className={classes.dropLabel}>Hent farger fra bilde</Typography>\n                    </ButtonBase>\n                </ColorTagsDropImage>\n            </InputAdornment>\n        )\n\n\n        return (\n            <TextField {...params}\n                helperText={helperText}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: endAdornment\n                }}\n                className={classes.field}\n                variant=\"filled\"\n                label={label}\n                placeholder={placeholder}\n            />\n        )\n    }\n\n    const _onSortEnd = ({oldIndex, newIndex}) => {\n        const newFormData = arrayMove(formData, oldIndex, newIndex)\n        onChange && onChange(newFormData)\n    };\n\n    const _renderTags = (tags, getTagProps) => {\n\n        const items = tags.map((option, index) => {\n            return {\n                ...option,\n                ...getTagProps({index})\n            }\n        })\n\n        return <SortableTagList\n            onSortEnd={_onSortEnd}\n            helperClass=\"sortable-helper\"\n            useDragHandle={true}\n            items={items} />\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n\n    }\n    /*    \n    const _renderTags = (tags, getTagProps) => {\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n    }*/\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = {\n                    value: value,\n                }\n            } else if (value && value.inputValue) {\n                // Create a new value from the user input\n                value = {\n                    value: value.inputValue,\n                }\n            } else {\n                value = value\n            }\n\n            return value\n\n        })\n\n    }\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            multiple\n            freeSolo\n            value={formData}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            disableClearable\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React, { useRef } from \"react\"\nimport ColorTagsAutocomplete from \"./ColorTagsAutocomplete\"\nimport colorNames from \"./Color.names\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst ColorTagsField = (props) => {\n\n    const { formData, formContext, uiSchema } = props\n\n    const options = Object.keys(colorNames).map(name => {\n\n        const hex = colorNames[name]\n\n        return {\n            label: name,\n            value: colorNames[name],\n            hex: hex\n        }\n\n    })\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const title = uiOptions.title\n    const placeholder = \"Legg til farge\"\n    const helperText = uiOptions.help\n\n    return (\n        <ColorTagsAutocomplete {...props}\n            imageUrl={formContext.imageUrl}\n            options={options}\n            label={title}\n            placeholder={placeholder}\n            helperText={helperText}\n            value={formData}\n        />\n    )\n\n}\n\nColorTagsField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default ColorTagsField","import schema from \"./Measure.schema\"\nimport uiSchema from \"./Measure.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\",\n        },\n        \"measureType\": {\n            \"type\": \"string\",\n        },\n        \"description\": {\n            \"type\": \"string\"\n        },\n        \"width\": {\n            \"type\": \"number\"\n        },\n        \"height\": {\n            \"type\": \"number\"\n        },\n        \"depth\": {\n            \"type\": \"number\"\n        },\n        \"unit\": {\n            \"type\": \"string\",\n        }\n    }\n}","export default {\n    \"ui:title\": \"Mål\",\n    \"ui:help\": \"Bredde x Dybde x Høyde\",\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2,\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"measureType\",\n        \"width\",\n        \"height\",\n        \"depth\",\n        \"unit\",\n        \"description\",\n    ],\n    \"value\": {\n        \"ui:title\": \"Mål\"\n    },\n    \"measureType\": {\n        \"ui:title\": \"Type mål\",\n        \"ui:variant\": \"standard\",\n//        \"ui:widget\": \"selectNative\",\n        \"ui:xs\": 12\n    },\n    \"description\": {\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\",\n        \"ui:variant\": \"standard\",\n        \"ui:xs\": 12\n    },\n    \"width\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Bredde\",\n        \"ui:xs\": 3\n    },\n    \"height\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Høyde\",\n        \"ui:xs\": 3\n    },\n    \"depth\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Dybde\",\n        \"ui:xs\": 3\n    },\n    \"unit\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Enhet\",\n//        \"ui:widget\": \"selectNative\",\n        \"ui:xs\": 3\n    }\n\n}","import React, { useState, useEffect } from \"react\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MeasureTypeField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (measureType) => {\n        onChange({\n            ...formData,\n            measureType: measureType\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.measureType,\n        \"ui:title\": \"Type\",\n        \"ui:widget\": \"selectAdornment\"\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.status}\n            uiSchema={uiSchema}\n            formData={formData && formData.status}\n            onChange={_onChange}\n        />\n    )\n\n}\n\nMeasureTypeField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default MeasureTypeField","import React, { useState, useEffect, useRef } from \"react\"\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\n\nimport Icon from \"@material-ui/core/Icon\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n        position: \"relative\",\n    },\n    grid: {\n        display: \"flex\"\n    },\n    icon: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n    overlay: {\n        position: \"fixed\",\n        zIndex: 1000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: \"rgba(0,0,0,.1)\"\n    },\n    paper: {\n        padding: theme.spacing(2)\n    },\n\n}));\n\nconst TextFieldPopper = ({\n    id=\"popperfield\",\n    variant=\"filled\",\n    label,\n    helperText,\n    value=\"\",\n    onChange,\n    endAdornment,\n    children\n}) => {\n\n    const classes = useStyles()\n\n    const inputRef = useRef(null)\n\n    const [open, setOpen] = useState(false)\n\n    const _onFocus = () => {\n        setOpen(true)\n    }\n\n    const _onBlur = () => {\n        setOpen(false)\n    }\n\n    return (\n        <>\n        <ClickAwayListener onClickAway={_onBlur}>\n            <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                <InputLabel className={classes.label} variant={variant} htmlFor={id}>{label}</InputLabel>\n                <FilledInput\n                    id={id}\n                    autoComplete=\"off\"\n                    ref={inputRef}\n                    fullWidth={true}\n                    value={value}\n\n                    onFocus={_onFocus}\n    //                onBlur={_onBlur}\n                    onChange={onChange}\n                    endAdornment={endAdornment}\n                />\n                { helperText && <FormHelperText>{helperText}</FormHelperText> }\n\n\n                <Popper disablePortal={true} open={open} style={{width: \"100%\", zIndex: 2000}} role={undefined} transition anchorEl={inputRef.current} placement=\"bottom\">\n                    <Paper className={classes.paper} elevation={1}>\n                        {children}\n                    </Paper>\n                </Popper>\n\n            </FormControl>\n        </ClickAwayListener>\n        </>\n    )\n\n\n\n}\n\nexport default TextFieldPopper","import React, { useState, useEffect } from \"react\"\nimport moment from \"moment\"\nimport model from \"./Measure.model\"\n\nimport MeasureTypeField from \"./MeasureTypeField\"\nimport TextFieldPopper from \"./TextFieldPopper\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MeasureField = (props) => {\n\n    const { formData, idSchema } = props\n    const { dtStart, dtEnd } = props.formData\n    \n    let description;\n\n    if (dtStart && dtEnd && dtStart !== dtEnd) {\n       description = moment(dtStart).format(\"YYYY-MM-DD\") + \"–\" + moment(dtEnd).format(\"YYYY-MM-DD\")\n    } else if (dtStart) {\n        description = moment(dtStart).format(\"YYYY-MM-DD\")\n    }\n\n    const schema = {\n        ...props.schema,\n        properties: {\n            ...props.schema.properties,\n            ...model.schema.properties,\n        }\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:field\": undefined,\n    }\n\n    const _onChange = (formData) => {\n        let { width, height, depth, unit } = formData\n\n        let values = []\n\n        if (width && height && depth) {\n            values = [width, height, depth]\n        } else if (width && height) {\n            values = [width, height]\n        } else if (width) {\n            values = [width]\n        }\n\n        let value = values && values.join('x')\n\n        if (unit) {\n            value = value + unit\n        }\n\n        formData = {\n            ...formData,\n            value: value\n        }\n\n        props.onChange(formData)\n        \n    }\n\n    const units = schema.properties.unit.enum\n\n    const _onInputChange = (event) => {\n\n        const value = event.target.value\n\n        const numberValue = value.replace(/,/g, '.')\n\n        const split = numberValue && numberValue.split(\"x\") || []\n\n        const width = split && split[0] && parseFloat(split[0])\n        const height = split && split[1] && parseFloat(split[1])\n        const depth = split && split[2] && parseFloat(split[2])\n\n        const unitValue = split && split.length && split[split.length-1]\n    \n        const unit = unitValue && unitValue.replace(/[0-9,.]/g, '')\n    \n        props.onChange({\n            width: width,\n            height: height,\n            depth: depth,\n            unit: unit,\n            value: value\n        })\n\n    }\n\n    const { LayoutField, ObjectField } = props.registry.fields\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const id = idSchema.value.$id\n    const value = formData.value\n    const label = uiOptions.title\n    const helperText = uiOptions.help\n\n    return (\n        <LayoutField {...props}>\n            <TextFieldPopper id={id} value={value} label={label} helperText={helperText} onChange={_onInputChange}>\n                <ObjectField {...props} schema={schema} uiSchema={uiSchema} onChange={_onChange} />\n            </TextFieldPopper>\n        </LayoutField>\n    )\n\n\n\n}\n\nexport default MeasureField","import React, { useState, useEffect } from \"react\"\nimport model from \"./Measure.model\"\n\nconst MeasuresListField = (props) => {\n\n    const schema = {\n        \"type\": \"array\",\n        \"items\": model.schema\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"items\": {\n            \"ui:field\": \"primusMeasure\"\n        }\n    \n    }\n\n    const { ArrayField } = props.registry.fields\n\n    return (\n        <ArrayField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nMeasuresListField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default MeasuresListField","import React, { useState} from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport RemoveIcon from '@material-ui/icons/RemoveCircle';\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport MeasureField from \"./MeasureField\"\nimport model from \"./Measure.model\"\n\nimport { getMeasureFromString } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    field: {\n        \"& .MuiAutocomplete-input\": {\n            flexBasis: \"100%\"\n        }\n    },\n    form: {\n        backgroundColor: \"white\",\n        padding: theme.spacing(2)\n    },\n    tags: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    tag: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        padding: 8,\n        marginLeft: -4,\n        marginRight: -4,\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n\n    },\n    remove: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        }\n\n    },\n    option: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n    },\n    code: {\n        border: '1px solid',\n        borderColor: theme.palette.divider,\n        padding: theme.spacing(.5),\n        borderRadius: 2,\n        fontSize: 11,\n        lineHeight: 1,\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n\n    }\n}));\n\nconst TagList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tags}>\n            {children}\n        </div>\n    )\n}\n\nconst TagItem = ({value, label, description, system, systemId, onDelete }) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tag}>\n            <Option title={value} description={description} system={system} systemId={systemId} />\n            <RemoveIcon onClick={onDelete} className={classes.remove} />\n        </div>\n    )\n\n}\n\nconst Option = ({title, description, system, systemId}) => {\n\n    const classes = useStyles()\n\n    let code\n\n    if (system && systemId) {\n        code = system + \" \" + systemId\n    }\n\n    return (\n        <Typography className={classes.option}>\n            <span className={classes.title}>{title}</span>\n            {' '}\n            { description && <span className={classes.description}>{description}</span> }\n            {' '}\n            { code && <span className={classes.code}>{code}</span> }\n        </Typography>\n    )\n\n\n}\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _renderInput = (params) => {\n\n        return (\n            <TextField {...params}\n                className={classes.field}\n                variant=\"filled\"\n                helperText=\"Mål: Høyde x Bredde x Dybde\"\n                label={label}\n                placeholder={placeholder}\n            />\n        )\n    }\n\n    const _renderTags = (tags, getTagProps) => {\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n\n    }\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = getMeasureFromString(value)\n            } else if (value && value.inputValue) {\n                value = getMeasureFromString(value.inputValue)\n            } else {\n                value = getMeasureFromString(value.value)\n            }\n\n            return value\n\n        })\n\n    }\n\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const [inputFormData, setInputFormData] = useState({})\n\n    const _onInputChange = (event, value, reason) => {\n        value && setInputFormData(getMeasureFromString(value))\n    }\n\n    const { schema, uiSchema } = model;\n\n    const PaperComponent = () => {\n        return (\n            <div className={classes.form}>\n                <MeasureField {...props} schema={schema} uiSchema={uiSchema} formData={inputFormData} />\n            </div>\n        )\n    }\n\n    return (\n        <Autocomplete\n            PaperComponent={PaperComponent}\n            multiple\n            freeSolo\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            disableClearable\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React from \"react\"\nimport MeasureTagsAutocompleteField from \"./MeasureTagsAutocompleteField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\n\nconst MeasureTagsField = (props) => {\n\n    const { formData, uiSchema } = props\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const title = uiOptions.title\n    const placeholder = \"Legg til mål\"\n\n    return (\n        <MeasureTagsAutocompleteField {...props}\n            options={[]}\n            label={title}\n            placeholder={placeholder}\n            value={formData}\n         />\n    )\n\n}\n\nMeasureTagsField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default MeasureTagsField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Person\",\n        \"ui:icon\": \"person\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Person\"\n        },\n//        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPersonField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonField","import role from \"./PersonRole.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"certain\",\n                \"uncertain\"\n            ],\n            \"enumNames\": [\n                \"Sikker\",\n                \"Usikker\"\n            ]\n        },\n        \"role\": role,\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"artist\",\n        \"curator\",\n        \"seller\",\n        \"buyer\"\n    ],\n    \"enumNames\": [\n        \"Kunstner\",\n        \"Kurator\",\n        \"Selger\",\n        \"Kjøper\"\n    ],\n    \"default\": \"artist\"\n}","import schema from \"./Person.schema\"\nimport uiSchema from \"./Person.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"ui:field\": \"primusPerson\",\n    \"ui:title\": \"Aktør\",\n    \"status\": {\n        \"ui:title\": \"Status\"\n    },\n    \"role\": {\n        \"ui:title\": \"Rolle\"\n    }\n}","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n    },\n \n}));\n\nconst ListSearchItem = ({className, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.list}>\n            {children}\n        </div>\n    )\n}\n\nListSearchItem.propTypes = {\n}\n\nexport default ListSearchItem;","import React from \"react\"\nimport { NavToolbar } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    listItem: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\", \n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        backgroundColor: \"white\",\n        backgroundColor: \"rgba(0,0,0,.09)\",\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n    },\n    startAdornment: {\n        height: theme.spacing(7),\n        marginRight: theme.spacing(1),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    endAdornment: {\n        height: theme.spacing(7),\n        marginLeft: theme.spacing(1),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n    },\n    toolbar: {\n    }\n}));\n\nconst PrimusListItemLayout = ({children, startAdornment, toolbar}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.listItem}>\n            { startAdornment && <div className={classes.startAdornment}>{startAdornment}</div> }\n            <div className={classes.content}>\n                {children}\n            </div>\n            <div className={classes.endAdornment}>\n                <NavToolbar toolbar={toolbar} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PrimusListItemLayout","import React, { useState, useEffect } from \"react\"\nimport PrimusListLayout from \"./KnavListLayout\"\nimport PrimusListItemLayout from \"./KnavListItemLayout\"\n\nconst PrimusListArrayField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:sortable\": true,\n        \"ui:layout\": PrimusListLayout,\n        \"items\": {\n            ...props.uiSchema.items,\n            \"ui:layout\": PrimusListItemLayout,\n            \"ui:variant\": \"base\"\n        }\n    }\n\n    const { ArrayField } = props.registry.fields\n\n    return (\n        <ArrayField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPrimusListArrayField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PrimusListArrayField","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        zIndex: 2,\n        position: \"relative\",\n        backgroundColor: \"transparent\",\n        color: \"black\",\n        height: \"36px\",\n        overflow: \"hidden\",\n        fontFamily: \"Akkurat, sans-serif\",\n    },\n    searchInput: {\n        backgroundColor: \"white\",\n        flexBasis: \"100%\",\n        padding: \"9px 42px\",\n        border: \"1px solid\",\n        borderColor: \"#ccc\",\n        borderRadius: \"18px\",\n        fontFamily: \"inherit\",\n        fontSize: \"14px\",\n        lineHeight: \"18px\",\n        color: \"inherit\",\n        outline: \"none\",\n\n        \"&:focus + *:first-child\": {\n            opacity: 1\n        }\n    },\n    searchIcon: {\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        zIndex: 2,\n        top: \"0\",\n        left: \"0\",\n        fontSize: \"20px\",\n        lineHeight: \"24px\",\n        width: '20px',\n        height: '20px',\n        padding: \"0\",\n        margin: \"8px 13px\",\n        opacity: \".5\"\n    },\n    resetButton: {\n        position: \"absolute\",\n        zIndex: 3,\n        top: theme.spacing(1),\n        right: theme.spacing(1),\n    },\n    resetIcon: {\n        width: '20px',\n        height: '20px',\n    }\n}));\n\nconst SearchReset = ({onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <ButtonBase className={classes.resetButton} onClick={onClick}>\n            <CloseIcon className={classes.resetIcon} />\n        </ButtonBase>\n    )\n}\n\nconst ListSearch = ({className, placeholder = \"Search\", q, onChange, onReset}) => {\n    const [value, setValue] = useState(q);\n\n    useEffect(() => {\n        setValue(q);\n    },[q])\n\n    const classes = useStyles()\n\n    const handleChange = (event) => {\n        setValue(event.target.value);\n\n        if (onChange) {\n            onChange(event.target.value, event)\n        }\n\n    }\n\n    const handleReset = (event) => {\n        setValue(\"\");\n\n        if (onReset) {\n            onReset(event)\n        } else if (onChange) {\n            onChange(\"\", event)\n        }\n\n    }\n\n    return (\n        <nav className={className || classes.root}>\n            <input className={classes.searchInput} type=\"text\"\n                value={value}\n                placeholder={placeholder}\n                onChange={handleChange} />\n            <SearchIcon className={classes.searchIcon} />\n            { value && <SearchReset className={classes.buttonReset} onClick={handleReset} /> }\n        </nav>\n    )\n}\n\nListSearch.propTypes = {\n    placeholder: PropTypes.string,\n    q: PropTypes.string,\n    onChange: PropTypes.func,\n    onReset: PropTypes.func\n}\n\nexport default ListSearch;","import React, { useState, useEffect } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        \"& > * + *\": {\n            marginTop: theme.spacing(2)\n        }\n\n    },\n}));\n\nconst ListSearchLayout = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.search}>\n            {children}\n        </div>\n    )\n}\n\nListSearchLayout.propTypes = {\n}\n\nexport default ListSearchLayout;","import React, { useState, useEffect } from 'react';\n\nimport List from \"@material-ui/core/List\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    results: {\n        \"& > *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        }\n\n    },\n}));\n\nconst ListResultsLayout = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.results}>\n            {children}\n        </div>\n    )\n}\n\nListResultsLayout.propTypes = {\n}\n\nexport default ListResultsLayout;","import React, { useState, useEffect } from 'react';\n\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\n\nimport Button from \"@material-ui/core/ButtonBase\"\n\nimport Icon from \"@material-ui/core/Icon\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport PersonIcon from \"@material-ui/icons/Person\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        backgroundColor: \"white\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected\n        }\n\n    },\n}));\n\nconst ListResultsItemLayout = ({label, description, value, selected, onClick}) => {\n\n    const classes = useStyles()\n\n    return (\n        <ListItem dense button className={classes.item} aria-selected={selected} onClick={onClick}>\n            <ListItemIcon>\n                <PersonIcon />\n            </ListItemIcon>\n            <ListItemText secondary={description}>\n                {label} {selected && true }\n            </ListItemText>\n        </ListItem>\n    )\n}\n\nListResultsItemLayout.propTypes = {\n}\n\nexport default ListResultsItemLayout;","import React from \"react\"\nimport { NavToolbar } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport FormControl from '@material-ui/core/FormControl';\n\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\n\nimport Button from \"@material-ui/core/ButtonBase\"\n\nimport Icon from \"@material-ui/core/Icon\"\nimport AddIcon from \"@material-ui/icons/Add\"\n\n\n\nconst useStyles = makeStyles(theme => ({\n    editor: {\n        backgroundColor: \"white\"\n    },\n    header: {\n        padding: theme.spacing(2),\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16\n    },\n    body: {\n        padding: theme.spacing(2),\n    },\n    footer: {\n        padding: theme.spacing(2),\n        display: \"flex\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    primaryButton: {\n        display: \"flex\",\n        border: \"1px solid\",\n        padding: theme.spacing(1, 2),\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n    },\n    cancelButton: {\n        display: \"flex\",\n        margin: theme.spacing(1, 2),\n        fontFamily: \"Akkurat, sans-serif\",\n    }\n}));\n\nconst PrimusListResultsAddLayout = ({children, expanded, label = \"Legg til\", onToggle, onSave}) => {\n\n    const classes = useStyles()\n\n    if (expanded) {\n\n        return (\n            <div className={classes.editor}>\n\n                <header className={classes.header}>{label}</header>\n\n                <div className={classes.body}>\n                    {children}\n                </div>\n\n                <footer className={classes.footer}>\n                    <Button className={classes.primaryButton} onClick={onSave}>Lagre og legg til</Button>\n                    <Button className={classes.cancelButton} onClick={onToggle}>Avbryt</Button>\n                </footer>\n                \n            </div>\n        )\n\n    }\n\n    return (\n        <ListItem button className={classes.item} aria-expanded={false} onClick={onToggle}>\n            <ListItemIcon>\n                <AddIcon />\n            </ListItemIcon>\n            <ListItemText>\n                {label}\n            </ListItemText>\n        </ListItem>\n    )\n\n\n    \n}\n\nexport default PrimusListResultsAddLayout","import React, { useState, useEffect } from \"react\"\nimport _ from \"lodash\"\n\nimport ListSearch from \"./ListSearch\"\nimport ListSearchLayout from \"./ListSearchLayout\"\n\nimport ListResultsLayout from \"./ListResultsLayout\"\nimport ListResultsItemLayout from \"./ListResultsItemLayout\"\nimport ListResultsAddLayout from \"./ListResultsAddLayout\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KnavListSearchField = (props) => {\n\n    const { schema, uiSchema, formData, onChange } = props\n\n    const _onAdd = (item) => {\n\n        if (formData && Array.isArray(formData)) {\n            onChange([\n                ...formData,\n                item\n            ])\n        } else {\n            onChange([item])\n        }\n\n\n    }\n\n    const _onRemove = ({value}) => {\n\n        const newFormData = formData.filter(item => {\n            if (!item.value === value) {\n                return item\n            }\n        })\n\n    }\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiSearch = uiOptions && uiOptions.search || {}\n\n    const { locale = \"no\", placeholder = \"Søk\", query = {} } = uiSearch\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        let qs = Object.keys(query).map(key => {\n            return key + \":\" + query[key]\n        }) || []\n\n        qs.push(\"compoundName:\" + q)\n\n        const apiUrl = \"https://kulturnav.org/api/summary/\" + qs.join(',')\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    const itemsSelected = formData.length && formData.map(item => {\n        return item.value\n    }) || []\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const name = item.name && item.name[locale]\n            const uuid = item.uuid\n\n            const label = name\n            const value = name\n    \n            let metadata = []\n\n            item.specificType && item.specificType.map(type => {\n                if (type.displayValue && type.displayValue[locale]) {\n                    metadata.push(type.displayValue[locale])\n                }\n            })\n\n            value && uuid && options.push({\n                uuid: uuid,\n                label: label,\n                value: value,\n                description: metadata.join('/')\n            })\n\n        })\n\n        setOptions(options)\n\n    }, [results])\n\n    const ListResults = () => {\n\n        return (\n            <ListResultsLayout>\n                { options.length && options.map((item, index) => <ListResultsItem {...item} key={index} />) || \"\" }\n                <ListResultsAdd />\n            </ListResultsLayout>\n        )\n    }\n\n    const ListResultsItem = (item) => {\n\n        const { uuid, value, description } = item\n\n        if (item.selected) {\n            return <ListResultsItemLayout {...item} onClick={() => _onRemove(item)} />\n        }\n\n        return <ListResultsItemLayout {...item} onClick={() => _onAdd(item)} />\n    }\n\n    const [expanded, setExpanded] = useState(false)\n    const [newData, setNewData] = useState({})\n\n    const ListResultsAdd = () => {\n\n        const { ObjectField } = props.registry.fields\n\n        const _onChange = (formData) => {\n            setNewData(formData)\n        }\n\n        const _onSubmit = () => {\n            _onAdd(newData)\n            setNewData({})\n        }\n    \n        const _onToggle = () => {\n            setExpanded(expanded => !expanded)\n        }\n    \n        return (\n            <ListResultsAddLayout expanded={expanded} onToggle={_onToggle} onSave={_onSubmit}>\n\n                <ObjectField {...props}\n                    formData={newData} \n                    schema={{\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"label\": {\n                                \"type\": \"string\"\n                            },\n                            \"description\": {\n                                \"type\": \"string\"\n                            }\n                        }\n                    }}\n                    uiSchema={{\n                        \"ui:spacing\": 2,\n                        \"label\": {\n                            \"ui:title\": \"Tittel\",\n                            \"ui:variant\": \"standard\"\n                        },\n                        \"description\": {\n                            \"ui:title\": \"Beskrivelse\",\n                            \"ui:variant\": \"standard\"\n                        }\n                    }}\n                    onChange={_onChange}\n                />\n\n\n            </ListResultsAddLayout>\n        )\n\n    }\n\n    return (\n        <ListSearchLayout registry={props.registry} uiSchema={{\"ui:spacing\": 2}}>\n            <ListSearch placeholder={placeholder} onChange={_onQuery} />\n            <ListResults />\n        </ListSearchLayout>\n    )\n\n}\n\nKnavListSearchField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default KnavListSearchField","import React, { useState, useEffect } from \"react\"\nimport _ from \"lodash\"\n\nimport PrimusListArrayField from \"./KnavListArrayField\"\nimport KnavListSearchField from \"./KnavListSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\nconst PrimusListField = (props) => {\n\n    const { LayoutField } = props.registry.fields\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:spacing\": 2\n    }\n\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <PrimusListArrayField {...props} />\n            <KnavListSearchField {...props} />\n        </LayoutField>\n    )\n\n}\n\nPrimusListField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PrimusListField","import React, { useState, useEffect } from \"react\"\nimport KnavListField from \"./KnavListField\"\nimport PersonField from \"./PersonField\"\nimport model from \"./Person.model\"\n\nconst PeopleListField = (props) => {\n\n    const schema = {\n        \"type\": \"array\",\n        \"items\": model.schema\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:search\": {\n            \"placeholder\": \"Finn person\",\n            \"query\": {\n                \"entityType\": \"Person\"\n            }\n        },\n        \"items\": {\n            ...model.uiSchema,\n            \"ui:field\": PersonField,\n        }\n    }\n\n    return (\n        <KnavListField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nPeopleListField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PeopleListField","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PeopleTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Personer\",\n        \"ui:placeholder\": \"Legg til person\",\n        ...props.uiSchema,\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Person\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPeopleTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default PeopleTagsField","import React, { useState, useEffect } from \"react\"\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PlaceRoleField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (status) => {\n        onChange({\n            ...formData,\n            status: status\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.status,\n        \"ui:title\": \"Status\",\n        \"ui:widget\": SelectAdornmentWidget\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.status}\n            uiSchema={uiSchema}\n            formData={formData && formData.status}\n            onChange={_onChange}\n        />\n    )\n\n}\n\nPlaceRoleField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PlaceRoleField","import React, { useState, useEffect } from \"react\"\nimport PlaceStatusField from \"./PlaceStatusField\"\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PlaceStatusField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Sted\",\n//        \"ui:icon\": \"person\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Place\"\n        },\n        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPersonField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonField","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"certain\",\n                \"uncertain\"\n            ],\n            \"enumNames\": [\n                \"Sikker\",\n                \"Usikker\"\n            ]\n        },\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","import schema from \"./Place.schema\"\nimport uiSchema from \"./Place.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"ui:field\": \"primusPlace\",\n    \"ui:title\": \"Sted\",\n    \"status\": {\n        \"ui:title\": \"Status\"\n    },\n    \"role\": {\n        \"ui:title\": \"Rolle\"\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport KnavListField from \"./KnavListField\"\nimport PlaceField from \"./PlaceField\"\nimport model from \"./Place.model\"\n\nconst PlacesListField = (props) => {\n\n    const schema = {\n        \"type\": \"array\",\n        \"items\": model.schema\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:search\": {\n            \"placeholder\": \"Finn sted\",\n            \"query\": {\n                \"entityType\": \"Place\"\n            },\n        }, \n        \"items\": {\n            ...model.uiSchema,\n            \"ui:field\": PlaceField\n        }\n    \n    }\n\n    return (\n        <KnavListField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nPlacesListField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PlacesListField","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PlacesTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Steder\",\n        \"ui:placeholder\": \"Legg til sted\",\n        ...props.uiSchema,\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Place\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPlacesTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default PlacesTagsField","import React, { useState, useEffect } from \"react\"\n\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Typography from \"@material-ui/core/Typography\";\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport Icon from \"@material-ui/core/Icon\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport data from \"./data/people.json\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    icon: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\nconst SearchAutocompleteWidget = ({\n        id, \n        label, \n        helperText,\n        icon = <SearchIcon />,\n        startAdornment, \n        endAdornment, \n        variant = \"filled\", \n        options, \n        value, \n        onChange,\n        onInputChange,\n        ...props\n    }) => {\n\n    const classes = useStyles()\n\n    const _getOptionHighlight = (label, q) =>  {\n\n        const matches = match(label, q);\n        const parts = parse(label, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n\n        let { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n                <span className={classes.title}>\n                    {title}\n                </span>\n\n                {' '}\n\n                { description && <i component=\"i\" className={classes.description}>{description}</i> }\n            </Typography>\n        ) \n\n    }\n\n    if (!startAdornment) {\n        startAdornment = <Icon className={classes.icon}>{icon}</Icon>\n    }\n\n    const _renderInput = ({InputProps, inputProps}) => {\n\n        if (variant === \"base\") {\n            return (\n                <InputBase\n                    ref={InputProps.ref}\n//                    InputProps={InputProps}\n                    inputProps={inputProps}\n                    fullWidth={true}\n//                    startAdornment={startAdornment}\n                    endAdornment={endAdornment}\n                />\n            )\n\n        } else {\n            return (\n                <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                    <InputLabel className={classes.label} variant={variant} htmlFor={inputProps.id}>{label}</InputLabel>\n                    <FilledInput\n                        ref={InputProps.ref}\n//                        InputProps={InputProps}\n                        inputProps={inputProps}\n                        fullWidth={true}\n                        startAdornment={startAdornment}\n                        endAdornment={endAdornment}\n                    />\n                    { helperText && <FormHelperText>{helperText}</FormHelperText> }\n                </FormControl>\n            )\n        }\n\n\n    }\n    \n\n    return (\n        <Autocomplete\n            id={id + \"-suggest\"}\n            fullWidth={true}\n            options={options || []}\n            getOptionLabel={(option) => option.label}\n            getOptionSelected={(option) => option.value === value.value}\n\n            renderOption={_renderOption}\n\n            value={value}\n            onInputChange={onInputChange}\n            onChange={onChange}\n            \n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nSearchAutocompleteWidget.defaultProps = {\n    options: [\n        {\n            value: \"\",\n            label: \"Reset\"\n        }\n    ]\n}\n\nexport default SearchAutocompleteWidget","import React, { useState, useEffect } from \"react\"\nimport SearchAutocomplete from \"./SearchAutocomplete\"\n\nimport _ from \"lodash\"\nimport data from \"./data/people.json\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonFieldSearch = ({idSchema, schema, uiSchema, formData, onChange, ...props}) => {\n\n    const id = idSchema.$id\n    const locale = \"no\"\n\n//    const options = []\n\n    /*\n\n    data.map(item => {\n\n        const label = item.name[locale]\n        const value = item.uuid\n\n        const birthYear = item.begin\n        const deathYear = item.end\n\n        const description = [birthYear,deathYear].join(\"–\")\n        \n        label && value && options.push({\n            label: label,\n            value: value,\n            birthYear: birthYear,\n            deathYear: deathYear,\n            description: description\n        })\n    })\n\n    */\n\n    // query\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        const apiUrl = \"https://kulturnav.org/api/summary/entityType:Person,compoundName:\" + q\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const label = item.name[locale]\n            const value = item.uuid\n    \n            const birthYear = item.begin\n            const deathYear = item.end\n    \n            const description = [birthYear,deathYear].join(\"–\")\n            \n            label && value && options.push({\n                label: label,\n                value: value,\n//                birthYear: birthYear,\n//                deathYear: deathYear,\n                description: description\n            })\n        })\n\n        setOptions(options)\n    \n//        console.log(\"OPTIONS\", options)\n\n    }, [results])\n    \n    let [q, setQ] = useState(\"\")\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n        _onQuery(q)\n\n//        event.target.value && setQ(event.target.value)\n    }\n\n    const _onChange = (event, option, reason) => {\n       option && onChange({\n           ...formData,\n           ...option\n       })\n    }\n\n    const _getHelperText = () => {\n        const { label, description } = formData\n        return label + \" (\" + description + \")\"\n    }\n\n    const uiOptions = getUiOptions(uiSchema)\n    const label = uiOptions.title\n    const helperText = q || uiOptions.help || _getHelperText()\n    const variant = uiOptions.variant\n\n    const icon = \"person\"\n    const endAdornment = props.endAdornment\n\n    return (\n        <SearchAutocomplete\n            id={id}\n            icon={icon}\n            label={label}\n            helperText={helperText}\n            variant={variant}\n            options={options}\n            value={formData}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            endAdornment={endAdornment}\n        />\n    )\n\n\n}\n\nPersonFieldSearch.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonFieldSearch","import React, { useState, useEffect } from \"react\"\nimport ObjectSearchField from \"./ObjectSearchField\"\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonField = (props) => {\n\n    const { LayoutField } = props.registry.fields\n\n    const uiSchema = {\n        ...props.uiSchema,\n    }\n\n    /*\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    */\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <ObjectSearchField {...props} endAdornment={undefined} />\n        </LayoutField>\n    )\n\n}\n\nPersonField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonField","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\",\n        },\n        \"dtStart\": {\n            \"type\": \"string\",\n//            \"format\": \"date\"\n        },\n        \"dtEnd\": {\n            \"type\": \"string\",\n//            \"format\": \"date\"\n        },\n        \"basis\": {\n            \"type\": \"string\",\n        }\n    }\n}","import schema from \"./Dating.schema\"\nimport uiSchema from \"./Dating.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"ui:title\": \"Datering\",\n    \"ui:help\": \"Datering [fra-til]\",\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2,\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"dtStart\",\n        \"dtEnd\",\n        \"basis\"\n    ],\n    \"value\": {\n        \"ui:title\": \"Datering\",\n    },\n    \"dtStart\": {\n        \"ui:xs\": 6,\n        \"ui:title\": \"Fra\",\n        \"ui:variant\": \"standard\"\n    },\n    \"dtEnd\": {\n        \"ui:xs\": 6,\n        \"ui:title\": \"Til\",\n        \"ui:variant\": \"standard\"\n    },\n    \"basis\": {\n        \"ui:xs\": 12,\n        \"ui:title\": \"Dateringrunnlag\",\n        \"ui:widget\": \"textarea\",\n        \"ui:variant\": \"standard\"\n    }\n\n}","import React, { useState, useEffect } from \"react\"\nimport moment from \"moment\"\nimport model from \"./Dating.model\"\n\nimport TextFieldPopper from \"./TextFieldPopper\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst DateRangeField = (props) => {\n\n    const { formData, idSchema } = props\n    const { dtStart, dtEnd } = props.formData\n    \n    let description;\n\n    if (dtStart && dtEnd && dtStart !== dtEnd) {\n       description = moment(dtStart).format(\"YYYY-MM-DD\") + \"–\" + moment(dtEnd).format(\"YYYY-MM-DD\")\n    } else if (dtStart) {\n        description = moment(dtStart).format(\"YYYY-MM-DD\")\n    }\n\n    const schema = {\n        ...props.schema,\n        properties: {\n            ...props.schema.properties,\n            ...model.schema.properties,\n        }\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:field\": undefined,\n    }\n\n    const _onChange = (formData) => {\n        let { dtStart, dtEnd } = formData\n\n        let values = []\n\n        if (dtStart && dtEnd && dtStart !== dtEnd) {\n            values = [dtStart,dtEnd]\n        } else if (dtStart) {\n            values = [dtStart]\n        }\n\n        const value = values && values.join(\"–\")\n\n        formData = {\n            ...formData,\n            dtStart: dtStart,\n            dtEnd: dtEnd,\n            value: value\n        }\n\n        props.onChange(formData)\n        \n    }\n\n    const _onInputChange = (event) => {\n\n        const value = event.target.value\n        const parts = value.split('-') || []\n\n        const dtStart = parts[0]\n        const dtEnd = parts[1] || null\n\n        props.onChange({\n            dtStart: dtStart,\n            dtEnd: dtEnd,\n            value: value\n        })\n\n    }\n\n    const { ObjectField } = props.registry.fields\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const id = idSchema.value.$id\n    const value = formData.value\n    const label = uiOptions.title\n    const helperText = uiOptions.help\n\n    return (\n        <TextFieldPopper id={id} value={value} label={label} helperText={helperText} onChange={_onInputChange}>\n            <ObjectField {...props} schema={schema} uiSchema={uiSchema} onChange={_onChange} />\n        </TextFieldPopper>\n    )\n\n\n\n}\n\nexport default DateRangeField","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"uuid\": {\n            \"type\": \"string\"\n        },\n        \"value\": {\n            \"type\": \"string\"\n        },\n    }\n}","import schema from \"./Event.schema\"\nimport uiSchema from \"./Event.uiSchema\"\n\nexport default {\n    \"schema\": schema,\n    \"uiSchema\": uiSchema\n}","import eventType from \"./EventType.schema\"\nimport person from \"./Person.schema\"\nimport place from \"./Place.schema\"\nimport dating from \"./Dating.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"eventType\": eventType,\n        \"dating\": dating,\n        \"place\": place,\n        \"title\": {\n            \"type\": \"string\",\n        },\n        \"description\": {\n            \"type\": \"string\",\n        },\n        \"people\": {\n            \"type\": \"array\",\n            \"minItems\": 1,\n            \"items\": person\n        },\n        \"places\": {\n            \"type\": \"array\",\n            \"items\": place\n        }\n    }\n}","export default {\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\",\n            \"description\" : \"description\",\n        },\n        prepare({formData: { eventType, dating}, formContext}) {\n            const title = eventType && eventType.value\n            const description = dating && dating.value\n\n            return {\n                title: title,\n                description: description,\n            }\n        }\n    },\n    \"ui:title\": \"Hendelse\",\n    \"ui:fieldset\": [\n        \"eventType\",\n        \"dating\",\n        \"description\",\n        \"people\",\n        \"places\"\n    ],\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"eventType\": {\n        \"ui:field\": \"primusEventType\",\n        \"ui:xs\": 6,\n    },\n    \"dating\": {\n        \"ui:xs\": 6,\n        \"ui:field\": \"primusDating\",\n    },\n    \"title\": {\n        \"ui:xs\": 12,\n        \"ui:title\": \"Tittel\"\n    },\n    \"description\": {\n        \"ui:xs\": 12,\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"people\": {\n        \"ui:xs\": 12,\n        \"ui:field\": \"primusPeopleTags\",\n        \"ui:title\": \"Relaterte personer\",\n    },\n    \"places\": {\n        \"ui:xs\": 12,\n        \"ui:field\": \"primusPlaceTags\",\n        \"ui:title\": \"Relaterte steder\",\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport model from \"./Event.model\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst EventField = (props) => {\n\n    const { ObjectField } = props.registry.fields\n\n    const schema = {\n        ...model.schema,\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n    }\n\n    return (\n        <ObjectField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nEventField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default EventField","import React, { useState, useEffect } from \"react\"\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst EventTypeField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Hendelsestype\",\n        \"ui:icon\": \"person\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Person\"\n        },\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nEventTypeField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default EventTypeField","import schema from \"./EventType.schema\"\nimport uiSchema from \"./EventType.uiSchema\"\n\nexport default {\n    \"schema\": schema,\n    \"uiSchema\": uiSchema\n}","export default {\n    \"ui:title\": \"Hendelsestype\",\n    \"ui:field\": \"knavSearchField\",\n    \"ui:locale\": \"no\",\n    \"ui:query\": {\n        \"entity.dataset\": \"4118813d-3fd0-4db0-9d84-0b8040d3e23f\"\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport event from \"./Event.model\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst PrimusEventsField = (props) => {\n\n\n    const Layout = ({children}) => {\n        return children\n    }\n\n    const uiSchema = {\n        \"ui:layout\": Layout,\n        \"items\": event.uiSchema\n    }\n\n    const { ArrayField } = props.registry.fields\n\n\n    return <ArrayField {...props} uiSchema={uiSchema} />\n\n}\n\nexport default PrimusEventsField","import React from \"react\"\n\nimport CC from \"./icons/CC\"\nimport By from \"./icons/By\"\nimport Nd from \"./icons/Nd\"\nimport Nc from \"./icons/Nc\"\nimport Sa from \"./icons/Sa\"\nimport Pd from \"./icons/Pd\"\nimport Pdm from \"./icons/Pdm\"\nimport Copyright from \"./icons/Copyright\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    icons: {\n        display: \"flex\",\n        alignItems: \"center\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    icon: {\n        fontSize: \"inherit\",\n        fill: \"currentColor\",\n        \"& *\": {\n            fill: \"currentColor\"\n        }\n    }\n}))\n\nconst icons = {\n    \"cc\": CC,\n    \"by\": By,\n    \"nd\": Nd,\n    \"nc\": Nc,\n    \"sa\": Sa,\n    \"pd\": Pd,\n    \"pdm\": Pdm,\n    \"copyright\": Copyright,\n}\n\nconst LicenseIcons = ({className, value}) => {\n\n    const licenses = value && value.split('-') || value && [value]\n\n    const classes = useStyles()\n\n    let licenseIcons = []\n\n    licenses && licenses.map(license => {\n\n        const icon = icons && icons[license]\n\n        if (icon) {\n            licenseIcons.push(icon)\n        }\n\n    })\n\n    if (!licenseIcons.length) {\n        return false\n    }\n\n    return (\n        <div className={className || classes.icons}>\n            {licenseIcons.map((Icon, index) => <Icon className={classes.icon} key={index} /> )}\n        </div>\n    )\n\n\n\n}\n\nexport default LicenseIcons","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9781 0C15.3347 0 18.1927 1.17189 20.5496 3.51455C21.6776 4.64295 22.5352 5.93259 23.121 7.38237C23.7064 8.83251 24 10.3715 24 12.0002C24 13.6431 23.7101 15.1825 23.1322 16.6176C22.5536 18.0532 21.6997 19.3214 20.5717 20.4213C19.4006 21.5782 18.0719 22.4644 16.5858 23.0786C15.1004 23.6929 13.5643 24 11.9788 24C10.3933 24 8.87526 23.697 7.42512 23.0891C5.97534 22.4824 4.6752 21.6037 3.52506 20.4539C2.37491 19.3042 1.50002 18.0074 0.900014 16.5644C0.300005 15.1214 0 13.6003 0 12.0002C0 10.4143 0.30338 8.88951 0.910514 7.42512C1.51765 5.96072 2.40004 4.65007 3.55693 3.4928C5.84259 1.16477 8.64951 0 11.9781 0ZM12.0216 2.16453C9.27877 2.16453 6.97136 3.12192 5.09971 5.03595C4.15657 5.99334 3.43168 7.06811 2.92467 8.261C2.41691 9.4539 2.16378 10.7004 2.16378 12.0006C2.16378 13.2865 2.41691 14.5259 2.92467 15.718C3.43205 16.9116 4.15657 17.9759 5.09971 18.9115C6.04247 19.8476 7.10636 20.5612 8.29288 21.0547C9.47827 21.5475 10.7214 21.7938 12.0216 21.7938C13.3071 21.7938 14.5529 21.5445 15.7615 21.0442C16.9686 20.5436 18.0569 19.8228 19.0289 18.88C20.9002 17.0515 21.8355 14.7587 21.8355 12.0009C21.8355 10.6723 21.5925 9.41527 21.1068 8.2295C20.6219 7.04374 19.9143 5.98697 18.9865 5.0577C17.0568 3.12905 14.7359 2.16453 12.0216 2.16453ZM11.8712 10.0078L10.2635 10.8437C10.0918 10.487 9.8814 10.2365 9.63165 10.0937C9.38152 9.95116 9.14939 9.87953 8.93489 9.87953C7.86387 9.87953 7.32762 10.5864 7.32762 12.0009C7.32762 12.6437 7.46337 13.1575 7.7345 13.5433C8.006 13.9292 8.40613 14.1223 8.93489 14.1223C9.63503 14.1223 10.1278 13.7792 10.4139 13.0937L11.8922 13.8437C11.5779 14.4299 11.1422 14.8904 10.5849 15.226C10.0284 15.562 9.41377 15.7296 8.74214 15.7296C7.67075 15.7296 6.80598 15.4015 6.14897 14.7437C5.49196 14.0867 5.16346 13.1725 5.16346 12.0013C5.16346 10.8583 5.49571 9.95153 6.15985 9.2799C6.82398 8.60863 7.66325 8.27263 8.67801 8.27263C10.1642 8.27188 11.2281 8.85051 11.8712 10.0078ZM18.7927 10.0078L17.2068 10.8437C17.0354 10.487 16.8243 10.2365 16.5745 10.0937C16.324 9.95116 16.0844 9.87953 15.8567 9.87953C14.7854 9.87953 14.2491 10.5864 14.2491 12.0009C14.2491 12.6437 14.3852 13.1575 14.6564 13.5433C14.9275 13.9292 15.3272 14.1223 15.8567 14.1223C16.5561 14.1223 17.0493 13.7792 17.3346 13.0937L18.8347 13.8437C18.5065 14.4299 18.0633 14.8904 17.5068 15.226C16.9495 15.562 16.3424 15.7296 15.6854 15.7296C14.5994 15.7296 13.732 15.4015 13.0825 14.7437C12.4314 14.0867 12.1067 13.1725 12.1067 12.0013C12.1067 10.8583 12.4386 9.95153 13.1035 9.2799C13.7672 8.60863 14.6065 8.27263 15.6209 8.27263C17.1066 8.27188 18.1645 8.85051 18.7927 10.0078Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3491 0 18.1924 1.15688 20.5069 3.47137C22.8349 5.80013 24 8.643 24 12C24 15.3716 22.8566 18.1785 20.5706 20.421C18.1421 22.8071 15.2783 24 11.9786 24C8.73525 24 5.92125 22.821 3.53587 20.4637C1.179 18.1065 0 15.2858 0 12C0 8.71463 1.179 5.87175 3.53587 3.47175C5.85037 1.15687 8.664 0 11.9786 0ZM12.0214 2.1645C9.29287 2.1645 6.98588 3.12187 5.1 5.03587C3.1425 7.03613 2.16412 9.35775 2.16412 12.0004C2.16412 14.6576 3.13538 16.9579 5.07788 18.8996C7.02075 20.8429 9.33488 21.8137 12.0206 21.8137C14.6918 21.8137 17.0209 20.8361 19.0065 18.8782C20.8924 17.064 21.8351 14.7713 21.8351 11.9996C21.8351 9.27113 20.8777 6.95025 18.9641 5.0355C17.0501 3.1215 14.7356 2.1645 12.0214 2.1645ZM15.2359 9.02137V13.9282H13.8649V19.7565H10.1359V13.9286H8.76487V9.02137C8.76487 8.80687 8.83988 8.625 8.9895 8.475C9.13988 8.32538 9.32213 8.25 9.53588 8.25H14.4649C14.6648 8.25 14.8436 8.325 15.0004 8.475C15.1567 8.625 15.2359 8.80725 15.2359 9.02137ZM10.3282 5.93588C10.3282 4.80788 10.8851 4.24313 12 4.24313C13.1149 4.24313 13.6714 4.80713 13.6714 5.93588C13.6714 7.05 13.1141 7.60725 12 7.60725C10.8859 7.60725 10.3282 7.05 10.3282 5.93588Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3353 0 18.1778 1.16438 20.5069 3.49313C22.8349 5.80763 24 8.643 24 12C24 15.3578 22.8566 18.1714 20.5706 20.4427C18.1567 22.8142 15.2921 24 11.9786 24C8.73525 24 5.92125 22.8214 3.53587 20.4637C1.179 18.1072 0 15.2865 0 12.0004C0 8.72925 1.179 5.8935 3.53587 3.4935C5.86425 1.16438 8.67863 0 11.9786 0ZM12.0214 2.1645C9.29287 2.1645 6.98588 3.129 5.1 5.05763C3.1425 7.04363 2.16412 9.35775 2.16412 12C2.16412 14.6719 3.13538 16.9714 5.07788 18.9C7.02075 20.8433 9.33488 21.8141 12.0206 21.8141C14.6918 21.8141 17.0209 20.8361 19.0065 18.8786C20.8924 17.0501 21.8351 14.7578 21.8351 12C21.8351 9.25762 20.8777 6.94313 18.9641 5.05763C17.064 3.12825 14.7495 2.1645 12.0214 2.1645ZM16.5431 9.171V11.2282H7.82175V9.171H16.5431ZM16.5431 13.0286V15.0848H7.82175V13.0286H16.5431Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9783 0C15.3495 0 18.1924 1.15688 20.5069 3.471C22.8349 5.7855 24 8.62837 24 12C24 15.372 22.857 18.1785 20.5706 20.4218C18.1425 22.8075 15.2779 24 11.9783 24C8.721 24 5.907 22.8142 3.53587 20.4431C1.179 18.0855 0 15.2719 0 12C0 8.71425 1.179 5.87138 3.53587 3.47137C5.85 1.15725 8.664 0 11.9783 0ZM2.7 8.7645C2.343 9.75 2.16412 10.8289 2.16412 12.0004C2.16412 14.6576 3.13538 16.9579 5.07788 18.9004C7.035 20.8294 9.3495 21.7935 12.0206 21.7935C14.721 21.7935 17.049 20.8155 19.0069 18.8576C19.707 18.1864 20.2564 17.4863 20.6561 16.7569L16.1351 14.7427C15.9773 15.5002 15.5955 16.1179 14.9888 16.596C14.3805 17.0745 13.6631 17.3501 12.8348 17.421V19.2641H11.442V17.421C10.1134 17.4075 8.89875 16.929 7.79925 15.9859L9.44925 14.3145C10.2345 15.0428 11.1277 15.4069 12.1279 15.4069C12.5419 15.4069 12.8959 15.3146 13.1891 15.1282C13.4816 14.943 13.6286 14.6362 13.6286 14.2069C13.6286 13.9065 13.521 13.6639 13.3069 13.4783L12.15 12.9851L10.7359 12.342L8.82862 11.5061L2.7 8.7645ZM12.0214 2.14275C9.29287 2.14275 6.98588 3.10688 5.1 5.0355C4.62825 5.50725 4.18538 6.04275 3.77138 6.64313L8.35725 8.7C8.55712 8.0715 8.9355 7.56788 9.49313 7.1895C10.0496 6.81113 10.6999 6.60038 11.4431 6.55725V4.71413H12.8362V6.55725C13.9365 6.61463 14.9362 6.98588 15.8362 7.67138L14.2717 9.27863C13.5994 8.80725 12.9146 8.57175 12.2145 8.57175C11.8429 8.57175 11.511 8.64338 11.2185 8.78588C10.9256 8.92875 10.779 9.17175 10.779 9.5145C10.779 9.61462 10.8146 9.71438 10.8859 9.8145L12.4072 10.5008L13.4573 10.9721L15.3862 11.829L21.5351 14.5718C21.7357 13.7288 21.8355 12.8719 21.8355 12.0004C21.8355 9.243 20.8785 6.92175 18.9645 5.0355C17.0644 3.10688 14.7491 2.14275 12.0214 2.14275Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3353 0 18.1778 1.16438 20.5069 3.49313C22.8349 5.80763 24 8.643 24 12C24 15.3578 22.8566 18.1714 20.5706 20.4427C18.1567 22.8142 15.2921 24 11.9786 24C8.73525 24 5.92125 22.8214 3.53587 20.4641C1.179 18.1072 0 15.2865 0 12.0004C0 8.72925 1.179 5.8935 3.53587 3.4935C5.86425 1.16438 8.67863 0 11.9786 0ZM12.0214 2.1645C9.29287 2.1645 6.98588 3.129 5.1 5.05763C3.1425 7.04363 2.16412 9.35775 2.16412 12C2.16412 14.6719 3.13538 16.9714 5.07788 18.9C7.02075 20.8433 9.33488 21.8141 12.0206 21.8141C14.6918 21.8141 17.0209 20.8357 19.0065 18.8786C20.8924 17.0501 21.8351 14.7574 21.8351 12C21.8351 9.25762 20.8777 6.94313 18.9641 5.05763C17.064 3.12825 14.7495 2.1645 12.0214 2.1645ZM6.66412 10.3069C6.8925 8.83538 7.485 7.69613 8.44238 6.88913C9.39938 6.08213 10.5634 5.67862 11.9351 5.67862C13.8202 5.67862 15.321 6.28613 16.4351 7.49963C17.5492 8.71388 18.1065 10.2713 18.1065 12.171C18.1065 14.0141 17.5279 15.546 16.3714 16.767C15.2134 17.988 13.7141 18.5992 11.8706 18.5992C10.5135 18.5992 9.342 18.1924 8.3565 17.3779C7.37063 16.5634 6.77813 15.4065 6.57788 13.9065H9.6C9.67125 15.3637 10.5499 16.0924 12.2359 16.0924C13.0781 16.0924 13.7572 15.7279 14.2714 14.9996C14.7862 14.2714 15.0435 13.2994 15.0435 12.0855C15.0435 10.8139 14.8076 9.84638 14.3366 9.18188C13.8649 8.51775 13.1869 8.1855 12.3004 8.1855C10.6999 8.1855 9.80025 8.89237 9.60037 10.3065H10.479L8.10075 12.6851L5.72213 10.3065L6.66412 10.3069Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3491 0 18.1961 1.161 20.5174 3.48225C22.839 5.8035 24 8.64262 24 12C24 15.3578 22.8566 18.1639 20.5706 20.421C18.1567 22.8071 15.2921 24 11.9786 24C8.721 24 5.91037 22.821 3.54637 20.4637C1.18162 18.1065 0 15.2858 0 12C0 8.71463 1.179 5.87175 3.53587 3.47175C5.85037 1.15687 8.664 0 11.9786 0ZM12.0109 2.1645C9.2895 2.1645 6.9855 3.12187 5.10037 5.03587C3.14288 7.02187 2.1645 9.34312 2.1645 12.0004C2.1645 14.6576 3.13575 16.9579 5.07862 18.8996C7.0215 20.8429 9.33562 21.8137 12.0214 21.8137C14.7071 21.8137 17.0355 20.8361 19.0073 18.8782C20.8931 17.0494 21.8359 14.7566 21.8359 11.9996C21.8359 9.25688 20.8785 6.93563 18.9649 5.0355C17.0501 3.1215 14.7319 2.1645 12.0109 2.1645ZM6.36413 15.2573V8.6145H9.66412C11.2924 8.6145 12.1069 9.36413 12.1069 10.8645C12.1069 11.1218 12.0675 11.3678 11.9891 11.604C11.9108 11.8399 11.7746 12.075 11.5819 12.3113C11.3891 12.5471 11.1 12.7399 10.7141 12.8899C10.3286 13.0395 9.8715 13.1149 9.34313 13.1149H8.03588V15.2576H6.36413V15.2573ZM8.01413 9.85687V11.8714H9.42825C9.771 11.8714 10.0283 11.7746 10.2 11.5819C10.3718 11.3895 10.4576 11.1499 10.4576 10.8637C10.4576 10.1925 10.1002 9.8565 9.38587 9.8565H8.0145V9.85687H8.01413ZM12.5565 15.2573V8.6145H15.1286C16.1854 8.6145 17.0138 8.886 17.6145 9.42862C18.2138 9.97162 18.5137 10.8075 18.5137 11.9359C18.5137 13.0646 18.2134 13.9009 17.6145 14.4431C17.0138 14.9857 16.1854 15.2573 15.1286 15.2573H12.5565ZM14.2076 10.0073V13.8649H15.1714C15.7571 13.8649 16.182 13.6901 16.4464 13.3395C16.7107 12.9896 16.8428 12.5224 16.8428 11.9362C16.8428 11.3505 16.7107 10.8829 16.4464 10.5326C16.182 10.1827 15.75 10.008 15.15 10.008L14.2076 10.0073Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M12 0C5.37275 0 0 5.37275 0 12C0 18.6265 5.37275 24 12 24C18.6272 24 24 18.6265 24 12C24 5.37269 18.6272 0 12 0ZM12 21.7499C6.62356 21.7499 2.24975 17.3757 2.24975 12C2.24975 10.8746 2.44369 9.79381 2.79637 8.78787L6.60969 10.4859C6.507 10.9962 6.45131 11.5286 6.45131 12.0784C6.45131 16.869 10.0271 18.2188 12.2768 18.2188C13.6035 18.2188 14.7517 17.7906 15.6505 17.1623C15.8213 17.0399 15.9761 16.9167 16.1182 16.7913L14.3689 14.6658C14.3176 14.7244 14.264 14.7801 14.2091 14.83C13.5286 15.4752 12.7808 15.4752 12.6136 15.4752C10.7833 15.4752 10.0171 13.544 10.0068 11.997L20.5166 16.6762C20.5291 16.6784 20.5393 16.6784 20.5496 16.6806C18.8912 19.6999 15.6806 21.7499 12 21.7499ZM21.3957 14.4913L10.556 9.65306C10.9471 8.94481 11.5696 8.4125 12.5011 8.4125C13.0411 8.4125 13.4693 8.59137 13.8066 8.81725C13.9466 8.91844 14.0683 9.01956 14.1709 9.1215L16.1249 7.11038C14.8125 5.982 13.3204 5.78037 12.3446 5.78037C10.0516 5.78037 8.42906 6.77163 7.47263 8.27688L3.84775 6.66019C5.59237 4.00606 8.59437 2.24937 12 2.24937C17.3764 2.24937 21.7506 6.62288 21.7506 12C21.7506 12.8703 21.6341 13.7127 21.4192 14.5163C21.4104 14.5075 21.4046 14.5001 21.3957 14.4913Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M12 0C14.0574 0 16.0313 0.516971 17.9217 1.55091C19.812 2.58486 21.295 4.06266 22.3708 5.98433C23.4569 7.89556 24 9.90078 24 12C24 14.0888 23.4674 16.0836 22.4021 17.9843C21.3473 19.8747 19.8695 21.3525 17.9687 22.4178C16.0783 23.4726 14.0888 24 12 24C9.91123 24 7.91645 23.4726 6.01567 22.4178C4.12533 21.3525 2.64752 19.8747 1.58225 17.9843C0.527415 16.0836 0 14.0888 0 12C0 9.90078 0.537859 7.89556 1.61358 5.98433C2.69974 4.06266 4.18799 2.58486 6.07833 1.55091C7.96867 0.516971 9.94256 0 12 0ZM12 2.36554C10.3499 2.36554 8.7624 2.77807 7.2376 3.60313C5.72324 4.4282 4.53264 5.61358 3.6658 7.15927C2.79896 8.69452 2.36554 10.3081 2.36554 12C2.36554 13.671 2.78851 15.2689 3.63446 16.7937C4.49086 18.3185 5.68146 19.5091 7.20627 20.3655C8.73107 21.2115 10.329 21.6345 12 21.6345C13.671 21.6345 15.2689 21.2115 16.7937 20.3655C18.3185 19.5091 19.5039 18.3185 20.3499 16.7937C21.2063 15.2689 21.6345 13.671 21.6345 12C21.6345 10.3185 21.201 8.70496 20.3342 7.15927C19.4674 5.61358 18.2715 4.4282 16.7467 3.60313C15.2324 2.77807 13.6501 2.36554 12 2.36554ZM14.9138 13.7859L17.436 14.6319C17.0392 15.9478 16.3812 16.9556 15.4621 17.6554C14.5431 18.3551 13.4465 18.705 12.1723 18.705C10.3864 18.705 8.9295 18.1201 7.80157 16.9504C6.67363 15.7807 6.10966 14.1671 6.10966 12.1097C6.10966 10.7624 6.36031 9.56136 6.86162 8.50653C7.36292 7.4517 8.08355 6.66319 9.0235 6.14099C9.97389 5.6188 11.0339 5.3577 12.2037 5.3577C13.4883 5.3577 14.5587 5.6658 15.4151 6.28198C16.282 6.88773 16.9556 7.84856 17.436 9.16449L14.8982 9.75979C14.6057 8.99739 14.2245 8.44386 13.7546 8.09922C13.295 7.75457 12.7467 7.58225 12.1097 7.58225C11.1593 7.58225 10.3812 7.94256 9.77546 8.66319C9.16971 9.37337 8.86684 10.4909 8.86684 12.0157C8.86684 13.5405 9.16449 14.6632 9.75979 15.3838C10.3551 16.1044 11.0705 16.4648 11.906 16.4648C12.6057 16.4648 13.2115 16.2611 13.7232 15.8538C14.235 15.436 14.6319 14.7467 14.9138 13.7859Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport Typography from \"@material-ui/core/Typography\"\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport LicenseIcons from \"./LicenseIcons\"\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    icons: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n        display: \"flex\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        display: \"flex\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\n\nconst LicenseFieldAutocomplete = ({\n    id, \n    label, \n    helperText,\n    endAdornment, \n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        console.log('params', params)\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        /*\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        */\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.label || \"\";\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, value } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n\n                <LicenseIcons {...option} />\n\n                <span className={classes.title}>\n                    {title}\n                </span>\n\n                {' '}\n\n                { value && <i component=\"i\" className={classes.description}>{value}</i> }\n            </Typography>\n        ) \n\n    }\n    \n    const _renderInput = ({InputProps, inputProps}) => {\n\n        if (variant === \"base\") {\n            return (\n                <InputBase\n                    ref={InputProps.ref}\n                    inputProps={inputProps}\n                    fullWidth={true}\n                    endAdornment={endAdornment}\n                />\n            )\n\n        } else {\n\n            const startAdornment = <LicenseIcons className={classes.icons} {...value} />\n\n            return (\n                <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                    <InputLabel className={classes.label} variant={variant} htmlFor={inputProps.id}>{label}</InputLabel>\n                    <FilledInput\n                        ref={InputProps.ref}\n                        inputProps={inputProps}\n                        fullWidth={true}\n                        startAdornment={startAdornment}\n                        endAdornment={endAdornment}\n                    />\n                    { helperText && <FormHelperText>{helperText}</FormHelperText> }\n                </FormControl>\n            )\n        }\n\n    }\n\n    const _onChange = (event, value) => {\n\n        let formData = {}\n\n        if (typeof value === 'string') {\n            formData = {\n                value: value,\n            }\n        } else if (value && value.inputValue) {\n            // Create a new value from the user input\n            formData = {\n                value: value.inputValue,\n            }\n        } else {\n            formData = value\n        }\n\n//        setValue(formData)\n        onChange && onChange(formData)\n\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            freeSolo\n            id={id + \"-suggest\"}\n            groupBy={(option) => option.group}\n\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            options={options}\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderInput={_renderInput}\n        />        \n    )\n    \n}\n\nexport default LicenseFieldAutocomplete","export default [\n    {\n        \"groupId\": 0,\n        \"label\": \"Ingen lisens\",\n        \"value\": \"none\"\n    },\n    {\n        \"groupId\": 1,\n        \"group\": \"by-nd\",\n        \"label\": \"Opphavsrett\",\n        \"value\": \"copyright\"\n    },\n    {\n        \"groupId\": 2,\n        \"group\": \"by\",\n        \"label\": \"Navngivelse\",\n        \"system\": \"cc\",\n        \"value\": \"by\"\n    },\n    {\n        \"groupId\": 2,\n        \"group\": \"by\",\n        \"label\": \"Navngivelse-DelPåSammeVilkår\",\n        \"system\": \"cc\",\n        \"value\": \"by-sa\"\n    },\n    {\n        \"groupId\": 3,\n        \"group\": \"by-nd\",\n        \"label\": \"Navngivelse-IngenBearbeidelse\",\n        \"system\": \"cc\",\n        \"value\": \"by-nd\"\n    },\n    {\n        \"groupId\": 4,\n        \"group\": \"by-nc\",\n        \"label\": \"Navngivelse-IkkeKommersiell\",\n        \"system\": \"cc\",\n        \"value\": \"by-nc\"\n    },\n    {\n        \"groupId\": 4,\n        \"group\": \"by-nc\",\n        \"label\": \"Navngivelse-IkkeKommersiell-DelPåSammeVilkår\",\n        \"system\": \"cc\",\n        \"value\": \"by-nc-sa\"\n    },\n    {\n        \"groupId\": 1,\n        \"group\": \"by-nd\",\n        \"label\": \"Navngivelse-IkkeKommersiell-IngenBearbeidelser\",\n        \"system\": \"cc\",\n        \"value\": \"by-nc-nd\"\n    },\n    {\n        \"groupId\": 5,\n        \"group\": \"pd\",\n        \"label\": \"Public Domain Mark\",\n        \"system\": \"cc\",\n        \"value\": \"pdm\"\n    },\n    {\n        \"groupId\": 5,\n        \"group\": \"pd\",\n        \"label\": \"Public Domain Dedication\",\n        \"value\": \"pdd\"\n    }\n]","import React, { useState, useEffect } from \"react\"\nimport LicenseFieldAutocomplete from \"./LicenseFieldAutocomplete\"\nimport data from \"./LicenseField.data\"\n\nimport _ from \"lodash\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\n\nconst LicenseField = (props) => {\n\n    const { idSchema, schema, uiSchema, formData = {}, onChange } = props\n\n    const id = idSchema.$id\n\n    // options\n\n    const options = data\n\n    // query\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n//        _onQuery(q)\n    }\n\n    const _onChange = (option) => {\n\n        console.log('option', option)\n\n       option && onChange({\n           ...option\n       })\n    }\n\n    // label, helperText, variant\n\n    const label = uiOptions.title || \"License\"\n    const helperText = uiOptions.help\n    const variant = uiOptions.variant\n\n    const endAdornment = uiOptions.endAdornment\n\n    const { LayoutField } = props.registry.fields\n\n\n    return (\n        <LayoutField {...props}>\n            <LicenseFieldAutocomplete\n                id={id}\n                label={label}\n                helperText={helperText}\n                variant={variant}\n                options={options}\n                formData={formData}\n                value={formData}\n                onChange={_onChange}\n                onInputChange={_onInputChange}\n                endAdornment={endAdornment}\n            />\n        </LayoutField>\n    )\n\n\n}\n\nLicenseField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default LicenseField","// primus editor\n\nimport PrimusEditorField from \"./PrimusEditorField\"\nimport PrimusEditorLayout from \"./PrimusEditorLayout\"\n\nimport PrimusContentField from \"./PrimusContentField\"\nimport PrimusContentLayout from \"./PrimusContentLayout\"\n\nimport PrimusSectionField from \"./PrimusSectionField\"\nimport PrimusSectionLayout from \"./PrimusSectionLayout\"\n\nimport PrimusMediaField from \"./PrimusMediaField\"\nimport PrimusMediaLayout from \"./PrimusMediaLayout\"\n\n// etcetera\n\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\nimport SelectNativeWidget from \"./SelectNativeWidget\"\nimport PrimusFieldsetLayout from \"./PrimusFieldsetLayout\"\n\n// knav\n\nimport KnavSearchField from \"./KnavSearchField\"\nimport KnavTagsField from \"./KnavTagsField\"\n\n\n// designation\n\nimport DesignationField from \"./DesignationField\"\nimport DesignationModel from \"./Designation.model\"\nimport DesignationTagsField from \"./DesignationTagsField\"\n\n// classification\n\nimport ClassificationField from \"./ClassificationField\"\nimport ClassificationModel from \"./Classification.model\"\nimport ClassificationTagsField from \"./ClassificationTagsField\"\n\n// materials\n\nimport MaterialField from \"./MaterialField\"\nimport MaterialModel from \"./Material.model\"\nimport MaterialTagsField from \"./MaterialTagsField\"\n\n// techniques\n\nimport TechniqueField from \"./TechniqueField\"\nimport TechniqueModel from \"./Technique.model\"\nimport TechniqueTagsField from \"./TechniqueTagsField\"\n\n// color\n\nimport ColorModel from \"./Color.model\"\nimport ColorTagsField from \"./ColorTagsField\"\n\n// measure\n\nimport MeasureField from \"./MeasureField\"\nimport MeasureModel from \"./Measure.model\"\nimport MeasuresListField from \"./MeasuresListField\"\nimport MeasureTagsField from \"./MeasureTagsField\"\n\n// person\n\nimport PersonField from \"./PersonField\"\nimport PersonModel from \"./Person.model\"\nimport PeopleListField from \"./PeopleListField\"\nimport PeopleTagsField from \"./PeopleTagsField\"\n\n// place\n\nimport PlaceField from \"./PlaceField\"\nimport PlaceModel from \"./Place.model\"\nimport PlacesListField from \"./PlacesListField\"\nimport PlaceTagsField from \"./PlaceTagsField\"\n\n// object?\n\nimport ObjectField from \"./ObjectField\"\n\n// dating\n\nimport DatingField from \"./DatingField\"\nimport DatingModel from \"./Dating.model\"\n\n// events\n\nimport EventField from \"./EventField\"\nimport EventModel from \"./Event.model\"\n\nimport EventTypeField from \"./EventTypeField\"\nimport EventTypeModel from \"./EventType.model\"\nimport EventsListField from \"./EventsListField\"\n\n// license\n\nimport LicenseField from \"./LicenseField\"\n\n\nexport default {\n    \"fields\": {\n        \"primusEditor\": PrimusEditorField,\n        \"primusEditorLayout\": PrimusEditorLayout,\n\n        \"primusContent\": PrimusContentField,\n        \"primusContentLayout\": PrimusContentLayout,\n\n        \"primusSection\": PrimusSectionField,\n        \"primusSectionLayout\": PrimusSectionLayout,\n\n        \"primusMedia\": PrimusMediaField,\n        \"primusMediaLayout\": PrimusMediaLayout,\n\n        \"knavSearchField\": KnavSearchField,\n        \"knavTagsField\": KnavTagsField,\n\n        \"primusClassification\": ClassificationField,\n        \"primusClassificationTags\": ClassificationTagsField,\n\n        \"primusDesignation\": DesignationField,\n        \"primusDesignationTags\": DesignationTagsField,\n\n        \"primusMeasure\": MeasureField,\n        \"primusMeasures\": MeasuresListField,\n        \"primusMeasureTags\": MeasureTagsField,\n\n        \"primusMaterial\": MaterialField,\n        \"primusMaterialTags\": MaterialTagsField,\n\n        \"primusTechnique\": TechniqueField,\n        \"primusTechniqueTags\": TechniqueTagsField,\n\n        \"primusColorTags\": ColorTagsField,\n\n        \"primusObject\": ObjectField,\n\n        \"primusPerson\": PersonField,\n        \"primusPeople\": PeopleListField,\n        \"primusPeopleTags\": PeopleTagsField,\n\n        \"primusPlace\": PlaceField,\n        \"primusPlaces\": PlacesListField,\n        \"primusPlaceTags\": PlaceTagsField,\n\n        \"primusEvent\": EventField,\n        \"primusEvents\": EventsListField,\n\n        \"primusEventType\": EventTypeField,\n        \"primusEvents\": EventsListField,\n\n        \"primusDating\": DatingField,\n\n        \"primusLicense\": LicenseField,\n\n        \"primusFieldsetLayout\": PrimusFieldsetLayout,\n//        \"primusList\": PrimusListField,\n//        \"primusListLayout\": PrimusListLayout,\n//        \"primusListItemLayout\": PrimusListItemLayout,\n    },\n    \"widgets\": {\n        \"selectAdornment\": SelectAdornmentWidget,\n        \"selectNative\": SelectNativeWidget,\n    },\n    \"models\": {\n        \"primusDesignation\": DesignationModel,\n        \"primusClassification\": ClassificationModel,\n        \"primusMeasure\": MeasureModel,\n        \"primusTechnique\": TechniqueModel,\n        \"primusMaterial\": MaterialModel,\n        \"primusColor\": ColorModel,\n\n        \"primusEvent\": EventModel,\n        \"primusEventType\": EventTypeModel,\n\n        \"primusPerson\": PersonModel,\n        \"primusPlace\": PlaceModel,\n        \"primusDating\": DatingModel,\n    }\n}","import React, { useState } from 'react';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusMediaSectionField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusMediaSection\",\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"ui:field\": undefined,\n    }\n\n    const { SchemaField } = props.registry.fields;\n\n    return (\n        <SchemaField {...props} uiSchema={uiSchema} />\n    )\n    \n}\n\nexport default PrimusMediaSectionField;","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n            margin: 0\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    body: {\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n    footer: {\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n    },\n    buttongroup: {\n        display: \"flex\",\n        margin: theme.spacing(-1),\n\n        \"& > $button\": {\n            margin: theme.spacing(1),\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        padding: theme.spacing(2),\n        minWidth: theme.spacing(16),\n        minHeight: theme.spacing(7),\n    },\n\n}));\n\nconst PrimusSectionLayout = ({currentId, id, sortableHandle, collapsible, expanded, onExpand, onAdd, onDelete, onCollapse, padding = 2, spacing = 2, title = \"Section\", description, children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                {!expanded && sortableHandle}\n                <Typography className={classes.title}>{title}</Typography>\n                {description && <Typography className={classes.description}>{description}</Typography> }\n            </header>\n\n            { expanded && \n                <div className={classes.body}>\n                {children}\n                </div> }\n\n            { collapsible && expanded && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onCollapse}>Lagre og lukk</Button>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onDelete}>Slett</Button>\n                    </div>\n                </footer>\n            }\n\n            { onAdd && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onAdd}>Legg til</Button>\n                    </div>\n                </footer>\n            }\n\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from 'react';\n\nconst ImageAnnotationsArrayField = (props) => {\n\n    const { ArrayField } = props.registry.fields\n\n    const { formData = [] } = props\n\n    const count = formData.length || 0\n\n    const title = count + \" markeringer\"\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:title\": title,\n        \"ui:options\": {\n            \"sortable\": true,\n            \"spacing\": 0,\n            \"padding\": 2,\n            \"addable\": false\n        },\n        \"ui:layout\": \"primusImageAnnotationsSection\",\n        \"items\": {\n            \"ui:field\": \"primusImageAnnotationsModule\",\n        }\n    }\n\n    return (\n        <ArrayField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nexport default ImageAnnotationsArrayField;","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n            margin: 0\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        color: theme.palette.text.primary,\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    helperText: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    body: {\n\n    },\n    footer: {\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n    },\n\n\n}));\n\nconst PrimusSectionLayout = ({currentId, id, collapsible, expanded, onExpand, onAdd, onDelete, onCollapse, padding = 2, spacing = 2, title = \"Section\", description, children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                <Typography className={classes.title}>{title}</Typography>\n                {description && <Typography className={classes.description}>{description}</Typography> }\n            </header>\n\n            <div className={classes.body}>\n            {children}\n            </div>\n\n            <footer className={classes.footer}>\n                <Typography className={classes.helperText}>Klikkk på bildet for å legge til en markering.</Typography>\n            </footer>\n\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from 'react';\n\nconst ImageAnnotationsArrayItemField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:options\": {\n            \"collapsible\": true\n        },\n        \"ui:layout\": \"primusImageAnnotationsModule\",\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"untitled\": \"untitled\",\n                \"title\": \"title\"\n            },\n            prepare({formData, index}) {\n\n                const count = index + 1\n\n                return {\n                    title: formData.title,\n                    untitled: \"Markering \" + count,\n                    badgeContent: count\n                }\n            }\n        },\n        \"ui:fieldset\": [\n            \"title\",\n            \"description\",\n        ],\n        \"title\": {\n            \"ui:title\": \"Tittel\",\n        },\n        \"description\": {\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\": \"textarea\"\n        }\n    }\n\n    const { ObjectField } = props.registry.fields\n\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nexport default ImageAnnotationsArrayItemField;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '@material-ui/core/Badge';\n\nimport { ModuleTitle } from \"../Module\"\nimport { NavToolbar } from \"../NavToolbar\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        userSelect: \"none\",\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&.sortable-helper\": {\n            borderTopColor: \"transparent\",\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n            \"& $settings\": {\n                display: \"none\"\n            },\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n        },\n\n\n    },\n    badge: {\n        position: \"relative\",\n        \"& .MuiBadge-badge\": {\n            pointerEvents: \"none\",\n            margin: theme.spacing(1)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n        \n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    title: {\n        flexGrow: 1,\n        fontFamily: \"Akkurat, sans-serif\",\n        color: theme.palette.text.primary,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary,\n        }\n\n    },\n    body: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n\n        \"& > * + *\": {\n            marginTop: theme.spacing(2)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst StartAdornment = ({startAdornment, badgeContent}) => {\n\n    const classes = useStyles({})\n\n    return (\n        <Badge className={classes.badge} badgeContent={badgeContent} color=\"primary\">\n            {startAdornment}\n        </Badge>\n    )\n\n}\n\nconst ImageAnnotationsArrayItemLayout = ({expanded, onToggle, onExpand, onCollapse, untitled, title, onClick, children, ...props }) => {\n    const classes = useStyles({})\n\n    return (\n        <article className={classes.module} onClick={onToggle}>\n            <header className={classes.header}>\n                <StartAdornment {...props} />\n                <ModuleTitle className={classes.title} untitled={untitled} title={title} />\n                <NavToolbar {...props} className={classes.toolbar} />\n            </header>\n            { expanded && \n                <div className={classes.body}>\n                    {children}\n                </div>\n            }\n        </article>\n    )    \n\n}\n\nImageAnnotationsArrayItemLayout.defaultProps = {\n}\n\nexport default ImageAnnotationsArrayItemLayout;\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonEdit = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"edit\" aria-label=\"edit\" onClick={onClick}>\n            <EditIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonEdit;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ViewIcon from '@material-ui/icons/Visibility';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonView = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"view\" aria-label=\"view\" onClick={onClick}>\n            <ViewIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonView;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonLink = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"link\" aria-label=\"link\" onClick={onClick}>\n            <LinkIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonLink;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonAdd = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"add\" aria-label=\"add\" onClick={onClick}>\n            <AddIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonAdd;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonRemove = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"remove\" aria-label=\"remove\" onClick={onClick}>\n            <RemoveIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonRemove;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonDelete = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"delete\" aria-label=\"delete\" onClick={onClick}>\n            <DeleteIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonDelete;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonRestore = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"restore\" aria-label=\"restore\" onClick={onClick}>\n            <RestoreIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonRestore;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport EraseIcon from '@material-ui/icons/DeleteForever';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonErase = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"erase\" aria-label=\"erase\" onClick={onClick}>\n            <EraseIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonErase;","import PrimusMediaEditorField from \"./PrimusMediaEditorField\"\nimport PrimusMediaModel from \"./PrimusMedia.model\"\n\nimport PrimusMediaSectionField from \"./PrimusMediaSectionField\"\nimport PrimusMediaSectionLayout from \"./PrimusMediaSectionLayout\"\n\nimport ImageAnnotationsSectionField from \"./ImageAnnotationsSectionField\"\nimport ImageAnnotationsSectionLayout from \"./ImageAnnotationsSectionLayout\"\n\nimport ImageAnnotationsModuleField from \"./ImageAnnotationsModuleField\"\nimport ImageAnnotationsModuleLayout from \"./ImageAnnotationsModuleLayout\"\n\nexport default {\n    \"fields\": {\n        \"primusMediaEditor\": PrimusMediaEditorField,\n        \"primusMediaSection\": PrimusMediaSectionField,\n        \"primusMediaSectionLayout\": PrimusMediaSectionLayout,\n        \"primusImageAnnotationsSection\": ImageAnnotationsSectionField,\n        \"primusImageAnnotationsSectionLayout\": ImageAnnotationsSectionLayout,\n        \"primusImageAnnotationsModule\": ImageAnnotationsModuleField,\n        \"primusImageAnnotationsModuleLayout\": ImageAnnotationsModuleLayout,\n\n    },\n    \"widgets\": {\n    },\n    \"models\": {\n        \"primusMedia\": PrimusMediaModel\n    }\n}","\n\nimport kpEditor from \"./KpEditor/registry\"\n\nimport documentEditor from \"./DocumentEditor/registry\"\nimport referenceEditor from \"./ReferenceEditor/registry\"\nimport collectionEditor from \"./CollectionEditor/registry\"\nimport pageEditor from \"./PageEditor/registry\"\nimport themeEditor from \"./ThemeEditor/registry\"\n\nimport localizedString from \"./LocalizedString/registry\"\n\nimport primusEditor from \"./PrimusEditor/registry\"\nimport primusMedia from \"./PrimusMedia/registry\"\n\n\nexport default {\n    \"fields\": {\n        ...documentEditor.fields,\n        ...referenceEditor.fields,\n        ...collectionEditor.fields,\n        ...pageEditor.fields,\n        ...themeEditor.fields,\n        ...localizedString.fields,\n        ...primusEditor.fields,\n        ...primusMedia.fields,\n        ...kpEditor.fields\n    },\n    \"widgets\": {\n        ...documentEditor.widgets,\n        ...referenceEditor.widgets,\n        ...collectionEditor.widgets,\n        ...pageEditor.widgets,\n        ...themeEditor.widgets,\n        ...primusEditor.widgets,\n        ...primusMedia.widgets,\n        ...kpEditor.widgets\n    },\n    \"models\": {\n        ...documentEditor.models,\n        ...referenceEditor.models,\n        ...collectionEditor.models,\n        ...pageEditor.models,\n        ...themeEditor.models,\n        ...primusEditor.models,\n        ...primusMedia.models,\n        ...kpEditor.models\n    }\n}","import registry from \"../../../registry\"\nconst { models } = registry\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"pageHome\",\n                \"pageTopic\",\n                \"pageMap\"\n            ],\n            \"enumNames\": [\n                \"Startside\",\n                \"Tema\",\n                \"Kart\"\n            ]\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"collectionId\": {\n            \"type\": \"string\",\n        },\n        \"parentId\": {\n            \"type\": \"string\",\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"mapLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"default\",\"roundtrip\"],\n                    \"default\": \"default\"\n                },\n                \"mediaLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"gallery\",\"autoplay\"],\n                    \"default\": \"gallery\"\n                },\n                \"annotateLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"imagemap\",\"legends\"],\n                    \"default\": \"imagemap\"\n                },\n                \"annotateColor\": {\n                    \"type\": \"string\",\n                    \"format\": \"color\",\n                    \"enum\": [\"red\",\"green\",\"blue\",\"black\",\"white\"]\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"annotations\": true,\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"parallaxImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"linksLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        \"list\",\n                        \"mosaic\",\n                        \"imagelegend\",\n                        \"imagemap\",\n                        \"gallery\",\n                        \"autoplay\",\n                        \"timeline\"\n                    ],\n                    \"enumNames\": [\n                        \"Liste\",\n                        \"Mosaikk\",\n                        \"Bildeforklaring\",\n                        \"Bildekart\",\n                        \"Mediagalleri\",\n                        \"Autoplay\",\n                        \"Tidslinje\"\n                    ],\n                    \"default\" : \"list\"\n                },\n                \"links\": {\n                    \"type\": \"array\",\n                    \"items\": models.kpLink.schema\n                },\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"presentation\",\n                        \"referenceType\": \"pageIsPartOf\",\n                        \"_reverseReferenceType\": \"presentationHasPages\",\n                        \"_reverseReference\": \"hasPages[]\"\n                    }\n                }\n\n            }\n        }\n    }\n}","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi\n}","import itemsUi from \"./itemsUi\"\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:preview\": uiPreview,\n    \"ui:field\": \"kpPage\",\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n//        \"ui:field\": KpPageContentField,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Presentasjon\",\n            \"ui:preview\": {\n                \"select\": {\n                    \"description\": \"description\"\n                },\n                prepare({formData, formContext}) {\n                    const { title } = formData;\n        \n                    const localeId = \"locale:\" + formContext.currentLocale\n                    const description = title && title[localeId]\n        \n                    return {\n                        description: description\n                    }\n        \n                }\n            },\n            \"ui:fieldset\": [\n                \"title\",\n            ],\n            \"ui:options\": {\n                \"expanded\": true,\n                \"collapsible\": true,\n                \"spacing\": 2,\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n        },\n        \"media\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Media\",\n            \"ui:fieldset\": [\n                \"media\",\n            ],\n            \"ui:options\": {\n                \"collapsible\": true,\n                \"spacing\": 2,\n            },\n            \"ui:fieldset\": [\n                \"backgroundImage\"\n            ],\n            \"backgroundImage\": {\n                \"ui:layout\": \"media\",\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn bakgrunnsbilde\"\n                    }\n                ],\n                \"ui:fieldset\": [\n                    \"media\",\"imageCropdata\",\"imageFilters\"\n                ],\n                \"media\": {\n                    \"ui:title\": \"Bakgrunnsbilde\"\n                }\n            },\n            \"parallaxImage\": {\n                \"ui:layout\": \"media\",\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn parallaxbilde\"\n                    }\n                ],\n                \"media\": {\n                    \"ui:title\": \"Parallaxbilde\"\n                }\n            }\n        },\n        \"body\": {\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: { links }, formContext}) {\n\n                    return {\n                        title: links && links.length + \" lenker\"\n                    }\n        \n                }\n            },\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Innhold\",\n            \"ui:icon\": \"link\",\n            \"ui:fieldset\": [\n                \"links\"\n            ],\n            \"ui:settings\": [\n        //        \"linksLayout\"\n            ],\n            \"links\": {\n                \"items\": itemsUi,\n                \"ui:options\": {\n                    \"spacing\": 0,\n                    \"sortable\": true\n                },\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn innhold\",\n                    },\n                    {\n                        \"type\": \"add\",\n                        \"title\": \"Legg til\"\n                    }\n                ],\n            }\n        },\n    }\n}","import icons from \"../../../KpIcons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\",\n        \"icon\": \"icon\"\n    },\n    prepare({formData, formContext}) {\n        const { parents, children, parentId, documentType, content } = formData\n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale || currentLocale || formData.locale\n        const localeId =  \"locale:\" + locale\n\n        let metadata = []\n\n        let path = []\n\n        parents && parents.map(parent => {\n            path.push(parent.title)\n        })\n\n        path.length && metadata.push(\"/\" + path.join('/'))\n\n        parentId && metadata.push(\"Parent: \" + parentId)\n\n        const backgroundImage = content && content.backgroundImage\n\n        const imageUrl = backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl\n\n        const icon = documentType && icons[documentType]\n        const title = content && content.title && content.title[localeId] || formData.title\n        const description = content && content.description && content.description[localeId]\n\n        \n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            title: title || \"Untitled\",\n            description: description,\n            metadata: metadata,\n            typeLabel: documentType,\n        }\n    \n    }\n  \n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'page',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" lenker\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi,\n            }\n        }\n    }\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    pageHeader: {\n        position: props => { return props.position },\n        zIndex: 2,\n        height: \"6em\",\n        padding: \"2em 4em\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    pageTitle: {\n        fontSize: \"2em\",\n    }\n}));\n\nconst KioskPageHeader = ({title, position = \"relative\"}) => {\n\n    const classes = useStyles({position})\n\n    return (\n        <header className={classes.pageHeader}>\n            <Typography className={classes.pageTitle}>{ title }</Typography>\n        </header>\n    )\n}\n\nexport default KioskPageHeader","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { ImageBase } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color},\n    },\n    media: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    content: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    runningHead: {\n        fontSize: props => { return props.titleSize === \"large\" && \"1.25em\" || props.titleSize === \"medium\" && \"1em\" || \"0.875em\" },\n        color: props => { return props.titleColor || props.color },\n        textTransform: \"uppercase\",\n        lineHeight: 1.5\n    },\n    title: {\n        fontSize: props => { return props.titleSize === \"large\" && \"2em\" || props.titleSize === \"medium\" && \"1.5em\" || \"1.25em\" },\n        color: props => { return props.titleColor || props.color },\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst GridModule = ({imageUrl, mediaWidth, mediaHeight, imageCropdata, imageFilters, runningHead, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n\n    const classes = useStyles({...props, justifyContent, alignItems})\n\n    return (\n        <Card className={classes.module} onClick={onClick}>\n            { imageUrl && <ImageBase imageUrl={imageUrl} imageFilters={imageFilters} imageCropdata={imageCropdata} objectFit=\"cover\" /> }\n\n            <CardContent className={classes.content}>\n                { runningHead && <Typography className={classes.runningHead} component=\"h3\">{runningHead}</Typography> }\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                { description && <Typography className={classes.description} component=\"p\">{description}</Typography> }\n            </CardContent>\n\n        </Card>\n    )\n\n}\n\nexport default GridModule","import Color from 'color';\n\nexport const getPreviewItem = (item) => {\n    const { index, referenceId, reference, mediaId, media, grid, localeId, backgroundColor, color } = item;\n\n//    const primaryColor = Color(backgroundColor)\n//    const contrastColor = primaryColor.isLight() && \"black\" || \"white\"\n\n\n    const imageUrl = media && media.imageUrl || referenceId && reference && reference.imageUrl;\n    const runningHead = item.runningHead && item.runningHead[localeId];\n    const title = item.title && item.title[localeId] || referenceId && reference && reference.title || \"Untitled\";\n    const description = item.description && item.description[localeId];\n\n    let itemType;\n\n    if (referenceId) {\n        itemType = \"link\"\n    } else if (mediaId) {\n        itemType = \"media\"\n    }    \n\n    // grid\n    const m = grid && grid.split(':');\n    const cols = m && m[0] || 1\n    const rows = m && m[1] || 1\n\n    // id\n    const id = \"root_content_body_links_\" + index\n\n    // colors\n\n    return {\n        ...item,\n        id: id,\n        itemType: itemType,\n        imageUrl: imageUrl,\n        runningHead: runningHead,\n        title: title,\n        description: description,\n        cols: cols,\n        rows: rows\n    }\n    \n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    /*\n    perspective: {\n        perspective: \"1000px\",\n        perspectiveOriginX: \"25%\",\n        perspectiveOriginY: \"75%\",\n    },\n    transform: {\n        transform: \"rotateY(-45deg)\",\n    },\n    */\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: props => { return props.paddingBottom },\n    }\n}));\n\nconst PreviewFormat = ({format, children}) => {\n\n    let paddingBottom;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        const ratio = h/w;\n\n        paddingBottom = ratio * 100 + \"%\";\n    }\n\n    const classes = useStyles({paddingBottom})\n\n    if (paddingBottom) {\n        return (\n            <div className={classes.root}>\n                <div className={classes.format} data-format={format}>\n                    { children }\n                </div>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default PreviewFormat","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport PageHeader from \"./PageHeader\"\nimport KioskMosaicModule from \"./GridModule\"\nimport { getPreviewItem } from \"./utils\"\n\nimport PreviewFormat from \"./PreviewFormat\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: \"5.5em 3.5em 1.5em 3.5em\",\n    },\n    grid: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"grid\",\n        gridTemplateColumns: props => { return props.templateCols },\n        gridTemplateRows: props => { return props.templateRows },\n        gridColumnGap: props => { return props.colGap },\n        gridRowGap: props => { return props.rowGap },\n    },\n    gridItem: {\n        gridColumnStart: \"auto\",\n        gridColumnEnd: props => { return props.colEnd },\n        gridRowStart: \"auto\",\n        gridRowEnd: props => { return props.rowEnd },\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst MosaicGrid = ({localeId, items, cols = 5, rows = 3, onCurrentId}) => {\n\n    const colWidth = (100/cols);\n    const rowHeight = (100/rows);\n\n    const classes = useStyles({\n        templateCols: (colWidth + \"% \").repeat(cols),\n        templateRows: (rowHeight + \"% \").repeat(rows),\n    })\n\n    const GridItem = ({id, cols, rows, index, ...item}) => {\n\n        const classes = useStyles({\n            colEnd: \"span \" + cols,\n            rowEnd: \"span \" + rows\n        })\n        \n        return (\n            <div className={classes.gridItem}>\n                <KioskMosaicModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    \n    }\n    \n    return (\n        <div className={classes.grid}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                return (\n                    <GridItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewGrid = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] || formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <div className={classes.root}>\n                <PageHeader title={pageTitle} />\n                <div className={classes.body}>\n                    <MosaicGrid localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n                </div>\n            </div>\n        </PreviewFormat>\n    )\n\n}\n\nexport default PreviewGrid","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\";\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageHome',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import React from 'react';\nimport Grid from \"../../../KpPreview/Grid\"\n\nconst PageGridPreview = ({formData, formContext}) => {\n\n    return <Grid formData={formData} formContext={formContext} />\n\n}\n\nexport default PageGridPreview\n\n","import schema from \"../page/schema\"\nexport default schema","import itemsUi from \"../page/itemsUi\"\n\nexport default {\n    ...itemsUi\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\";\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTopic',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" lenker\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi,\n            }\n        }\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:preview\": {\n        \"select\": {\n            \"badgeContent\": \"badgeContent\",\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const runningHead = formData.runningHead && formData.runningHead[localeId] \n            const title = formData.title && formData.title[localeId] \n            const badgeContent = index + 1\n\n            const localTitle = runningHead && title && runningHead + \": \" + title || title\n            const referenceTitle = referenceId && reference && reference.title\n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                badgeContent: badgeContent,\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: localTitle || referenceTitle,\n                metadata: metadata,\n            }\n\n        }\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" markører\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n                \"mapLayout\",\n            ]\n        }\n    }\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n    },\n    marker: {\n\n    }\n}));\n\nconst MapLink = ({title}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.link}>\n            <PlaceIcon />\n        </div>\n    )\n\n    return (\n        <div className={classes.link}>\n            <IconButton>\n                <PlaceIcon />\n            </IconButton>\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./DefaultMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, items = []}) => {\n\n    const [markers, setMarkers] = useState(items)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = items && items[0] && items[0].lat \n        const lng = items && items[0] && items[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        items && items.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [items])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, result) => {\n\n        const path = result.routes[0].overview_path\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  drawDirections(google, result)\n                  setDirections(result)\n              } else {\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n//        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n\n        \"& $media\": {\n            transition: \".125s ease-out\",\n            transform: \"scale(1)\"\n        },\n\n        \"&[aria-expanded=true] $media\": {\n            transform: \"scale(2)\"\n        },\n\n        \"&:hover $media\": {\n            transform: \"scale(2)\"\n        }\n\n    },\n    label: {\n        position: \"absolute\",\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, .5),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    media: {\n        position: \"absolute\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(-.5, 0),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundSize: \"cover\",\n\n    },\n    image: {\n\n    }\n}));\n\nconst MapLink = ({reference, media, index}) => {\n    const classes = useStyles()\n\n    const imageUrl = media && media.imageUrl || reference && reference.imageUrl\n\n    return (\n        <div className={classes.link} aria-expanded={index === 0}>\n            <figure className={classes.media} style={{backgroundImage: \"url(\"+imageUrl+\")\"}}></figure>\n            <i className={classes.label}>{index+1}</i>\n            <PlaceIcon />\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./RoundtripMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, items = []}) => {\n\n    const [markers, setMarkers] = useState(items)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = items && items[0] && items[0].lat \n        const lng = items && items[0] && items[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        items && items.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [items])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} count={index+1} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, path) => {\n\n        setDirections(path)\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  const overviewPath = result.routes[0].overview_path\n                  const resultsPath = overviewPath.length && overviewPath || markers\n                  drawDirections(google, resultsPath)\n              } else {\n                drawDirections(google, markers)\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n            Debug:\n            {JSON.stringify(directions)}\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React from 'react';\n\nimport DefaultMap from \"../../../KpPreview/DefaultMap\"\nimport RoundtripMap from \"../../../KpPreview/RoundtripMap\"\n\nconst mapTypes = {\n    \"default\": DefaultMap,\n    \"roundtrip\": RoundtripMap\n}\n\nconst MapPagePreview = ({formData: { content }, formContext, ...props}) => {\n\n    const { links, mapLayout } = content\n\n    const Template = mapLayout && mapTypes[mapLayout] || DefaultMap\n\n    if (!links) {\n        return <p>No links to display</p>\n    }\n\n    return <Template items={links} />\n\n}\n\nexport default MapPagePreview\n\n","import schema from \"./schema\"\nimport uiSchema from \"./uiSchema\"\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMap',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:settings\": [\n        \"grid\",\n        \"placement\",\n        \"backgroundColor\",\n        \"color\"\n    ],\n\n\n    \"content\": {\n        ...itemsUi.content,\n        \"linkContent\": {\n            ...itemsUi.content.linkContent,\n            \"title\": {\n                ...itemsUi.content.linkContent.title,\n                \"ui:settings\": [\n                    \"titleSize\",\n                    \"titleColor\",\n                ],\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageGrid',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" markører\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n                \"mapLayout\",\n            ]\n        }\n    }\n}","import React from 'react';\nimport Grid from \"../../../KpPreview/Grid\"\n\nconst PageGridPreview = ({formData, formContext}) => {\n\n    return <Grid formData={formData} formContext={formContext} />\n\n}\n\nexport default PageGridPreview\n\n","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:settings\": [\n        \"grid\",\n        \"placement\",\n        \"backgroundColor\",\n        \"color\"\n    ],\n\n\n    \"content\": {\n        ...itemsUi.content,\n        \"linkContent\": {\n            ...itemsUi.content.linkContent,\n            \"title\": {\n                ...itemsUi.content.linkContent.title,\n                \"ui:settings\": [\n                    \"titleSize\",\n                    \"titleColor\",\n                ],\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageList',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" markører\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n                \"mapLayout\",\n            ]\n        }\n    }\n}","import React from 'react';\nimport Grid from \"../../../KpPreview/Grid\"\n\nconst PageGridPreview = ({formData, formContext}) => {\n\n    return <Grid formData={formData} formContext={formContext} />\n\n}\n\nexport default PageGridPreview\n\n","import schema from \"../page/schema\"\nexport default schema","import uiSchema from \"../page/uiSchema\"\n//import itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"media\": {\n            ...uiSchema.content.media,\n            \"ui:title\": \"Bakgrunnsbilder\",\n            \"ui:options\": {\n                \"collapsible\": true,\n                \"grid\": true,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"backgroundImage\",\n                \"parallaxImage\"\n            ],\n            \"backgroundImage\": {\n                ...uiSchema.content.media.backgroundImage,\n                \"ui:xs\": 6\n            },\n            \"parallaxImage\": {\n                ...uiSchema.content.media.parallaxImage,\n                \"ui:xs\": 6\n            }\n        }\n    }\n    \n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        width: '16em',\n        backgroundColor: props => { return props.backgroundColor },\n    },\n    cardMedia: {\n        width: \"100%\",\n        paddingBottom: props => { return 9/16 * 100 + \"%\" },\n    },\n    cardContent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    title: {\n        fontSize: \"2em\",\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst MosaicModule = ({imageUrl, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n    const classes = useStyles({...props, backgroundColor: \"white\", justifyContent, alignItems})\n   \n    return (\n        <Card className={classes.card} onClick={onClick}>\n            { imageUrl && \n                <CardMedia\n                    className={classes.cardMedia}\n                    alt={title}\n                    image={imageUrl}\n                    title={title} />\n            }\n            <CardContent className={classes.cardContent}>\n                <Typography className={classes.title} variant=\"h6\" component=\"h2\">\n                    {title}\n                </Typography>\n                {description &&\n                    <Typography className={classes.description} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                        {description}\n                    </Typography>\n                }\n            </CardContent>\n        </Card>\n    )\n\n}\n\nexport default MosaicModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport PreviewFormat from \"./PreviewFormat\"\nimport PageHeader from \"./PageHeader\"\nimport TimelineModule from \"./TimelineModule\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    body: {\n        overflowX: \"scroll\",\n    },\n    timeline: {\n        display: \"flex\",\n        margin: \"0 3.5em\",\n    },\n    timelineItem: {\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst Timeline = ({localeId, items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n    const TimelineItem = ({id, cols, rows, index, ...item}) => {\n        return (\n            <div className={classes.timelineItem}>\n                <TimelineModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    }\n    \n    return (\n        <div className={classes.timeline}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, localeId: localeId, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] || formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <div className={classes.root}>\n                <PageHeader title={pageTitle}  />\n                <div className={classes.body}>\n                    <Timeline localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n                </div>\n            </div>\n        </PreviewFormat>\n    )\n\n}\n\nexport default PreviewTimeline","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTimeline',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import React from 'react';\nimport Timeline from \"../../../KpPreview/Timeline\"\n\nconst PageTimelinePreview = ({formData, formContext}) => {\n\n    return <Timeline formData={formData} formContext={formContext} />\n\n}\n\nexport default PageTimelinePreview\n\n","import schema from \"../page/schema\"\n\nexport default {\n    ...schema,\n    \"properties\": {\n        ...schema.properties,\n        \"content\": {\n            ...schema.properties.content,\n            \"properties\": {\n                ...schema.properties.content.properties,\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"annotations\": true,\n                    \"filters\": [\"opacity\"],\n                }\n            }\n        }\n    }\n}","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:preview\": {\n        \"select\": {\n            \"badgeContent\": \"badgeContent\",\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const runningHead = formData.runningHead && formData.runningHead[localeId] \n            const title = formData.title && formData.title[localeId] \n            const badgeContent = index + 1\n\n            const localTitle = runningHead && title && runningHead + \": \" + title || title\n            const referenceTitle = referenceId && reference && reference.title\n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                badgeContent: badgeContent,\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: localTitle || referenceTitle,\n                metadata: metadata,\n            }\n\n        }\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Markeringer\",\n            \"ui:icon\": \"label\",\n            \"ui:fieldset\": [\n                \"backgroundImage\",\n                \"links\"\n            ],\n            \"ui:settings\": [\n                \"annotateLayout\",\n                \"annotateColor\"\n            ],\n            \"backgroundImage\": {\n                ...uiSchema.content.backgroundImage,\n\n                \"ui:fieldset\": [\n                    \"imageAnnotations\",\n                    \"imageFilters\"\n                ],\n                \"imageAnnotations\": {\n                    \"ui:field\": \"kpAnnotateImage\",\n                    \"ui:title\": \"Markeringer\",\n                },\n                \"ui:minHeight\": 512,\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn bilde\"\n                    }\n                ]\n\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"ui:field\": \"kpAnnotateLinks\",\n                \"items\": itemsUi\n            }\n        }\n    }\n}\n\n","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem, getContrastColor } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        left: props => { return props.left + \"%\" || \"50%\"},\n    },\n    label: {\n        width: props => { return props.size },\n        height: props => { return props.size },\n        top: \"0\",\n        left: \"0\",\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color },\n        borderSize: \".25em\",\n        borderRadius: \"50%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"Akkurat Mono, monspace\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ImagemapPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] || formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    const contrastColor = annotateColor && getContrastColor(annotateColor)\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 24}) => {\n\n        const classes = useStyles({size: size, zIndex: index, top, left, backgroundColor: annotateColor, color: contrastColor})\n    \n        return (\n            <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                <div className={classes.label}>\n                    {index+1}\n                </div>\n            </div>\n        )\n    }\n    \n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase {...annotateImage} imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} markerTemplate={MarkerTemplate} />\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagemapPreview;","import Color from 'color';\n\nexport const getContrastColor = (hex) => {\n    const color = Color(hex)\n    return color.isLight() && \"black\" || \"white\"\n}","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em 1em\"\n    },\n    line: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        right: props => { return props.left <= 50 && 100-props.left + \"%\" || \"0\" },\n        left: props => { return props.left > 50 && props.left + \"%\" || \"0\" },\n        height: \"2px\",\n        backgroundColor: \"white\"\n    },\n    module: {\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        right: props => { return props.left > 50 && \"0\" },\n        left: props => { return props.left <= 50 && \"0\" },\n        width: \"12em\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        padding: \"1em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        left: props => { return props.left + \"%\" || \"50%\"},\n    },\n    border: {\n        width: \"1.5em\",\n        height: \"1.5em\",\n        backgroundColor: \"white\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: \"50%\",\n        padding: \".25em\"\n    },\n    label: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: props => { return props.color },\n        color: \"transparent\",\n        borderRadius: \"50%\",\n    },\n}));\n\nconst ImagelegendPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] || formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerModule = ({id, index, top = 50, left = 50, size = 4, runningHead, title, description, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left})\n\n        return (\n            <div className={classes.module} data-index={index} onClick={() => onCurrentId(id)}>\n                { runningHead && <h3>{runningHead}</h3> }\n                <h2>{title}</h2>\n                {description && <p>{description}</p> }\n            </div>\n        )\n\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left, color: annotateColor})\n\n        return (\n            <React.Fragment>\n                <div className={classes.line} data-index={index}></div>\n                <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                    <div className={classes.border}>\n                        <div className={classes.label}>\n                            {index+1}\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n    \n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} overflow=\"visible\" markerTemplate={MarkerTemplate} />\n                { imageAnnotations && imageAnnotations.map((item, index) => {\n                    const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                    return (\n                        <MarkerModule {...itemProps} key={index} />\n                    )\n                })}\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagelegendPreview;","import React from \"react\"\nimport PreviewFormat from \"./PreviewFormat\"\nimport Imagemap from \"./AnnotateImagemap\"\nimport Legends from \"./AnnotateLegends\"\n\nconst templates = {\n    \"imagemap\": Imagemap,\n    \"legends\": Legends,\n}\n\nconst AnnotatePreview = ({formData, formContext}) => {\n\n    const { content } = formData;\n\n    const layout = content && content.annotateLayout\n    const template = layout && templates[layout] || templates[\"imagemap\"]\n    const Template = template\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <Template formData={formData} formContext={formContext} />\n        </PreviewFormat>\n    )\n\n}\n\nAnnotatePreview.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default AnnotatePreview","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageAnnotate',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import React from 'react';\nimport Annotate from \"../../../KpPreview/Annotate\"\n\nconst PageAnnotatePreview = ({formData, formContext}) => {\n\n    return <Annotate formData={formData} formContext={formContext} />\n\n}\n\nexport default PageAnnotatePreview","import schema from \"../page/schema\"\nexport default schema","import itemsUi from \"../page/itemsUi\"\n\nexport default {\n    ...itemsUi,\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const runningHead = formData.runningHead && formData.runningHead[localeId] \n            const title = formData.title && formData.title[localeId] \n\n            const localTitle = runningHead && title && runningHead + \": \" + title || title\n            const referenceTitle = referenceId && reference && reference.title\n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: localTitle || referenceTitle,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"link\": {\n        ...itemsUi,\n        \"linkMedia\": {\n            ...itemsUi.content.linkMedia,\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": [\"image\",\"video\",\"audio\"]\n                }\n            }\n        }\n    }\n}","import uiPreview from \"./uiPreview\";\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"content\": {\n        \"ui:field\": \"kpDevice\",\n//        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"hasPages\",\n        ],\n        \"header\": {\n            \"ui:layout\": \"section\",\n            \"ui:options\" : {\n                \"expanded\": true,\n                \"collapsible\": true,\n                \"spacing\": 2\n            },\n            \"ui:title\": \"Enhet\",\n            \"ui:preview\": {\n                \"select\": {\n                    \"description\": \"description\"\n                },\n                prepare({formData, formContext}) {\n                    const localeId = \"locale:\" + formContext.currentLocale\n                    const description = formData.deviceTitle \n        \n                    return {\n                        description: description\n                    }\n        \n                }\n            },\n            \"ui:fieldset\": [\n                \"deviceTitle\",\n                \"deviceId\",\n                \"deviceType\",\n                \"serialNumber\",\n                \"startPageId\"\n            ],\n            \"deviceTitle\": {\n                \"ui:title\": \"Intern tittel\"\n            },\n            \"deviceId\": {\n                \"ui:title\": \"Id\",\n            },\n            \"deviceType\": {\n                \"ui:title\": \"Type enhet\",\n            },\n            \"serialNumber\": {\n                \"ui:title\": \"Serienummer\"\n            },\n            \"leadtext\": {\n                \"ui:title\": \"Ingress\",\n                \"ui:widget\": \"textarea\"\n            },\n            \"bodytext\": {\n                \"ui:title\": \"Brødtekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        },\n        \"media\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Bakgrunnsbilde\",\n            \"ui:options\": {\n                \"collapsible\": true\n            },\n            \"ui:fieldset\": [\n                \"backgroundImage\",\n            ],\n            \"backgroundImage\": {\n                \"ui:buttons\": [\n                    {\n                        \"icon\": \"search\",\n                        \"title\": \"Finn bakgrunnsbilde\",\n                        \"type\": \"sidebar\"\n                    }\n                ]\n            }\n        },\n        \"hasPages\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Innhold\",\n            \"ui:options\" : {\n                \"collapsible\": true,\n                \"draggable\": true\n            },\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData}) {\n                    const count = formData && formData.length;\n                    if (count) {\n                        return {\n                            \"title\": count + \" sider\"\n                        }\n                    }\n                    return {\n                       \"title\": \"Ingen sider\"\n                    }\n                }\n            },\n            \"ui:dialog\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": \"page*\"\n                }\n            },\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn side\"\n                },\n            ],\n            \"items\": {\n                \"ui:options\": {\n                    \"editable\": false\n                },\n                \"ui:field\": \"kpDeviceLink\"\n            }\n        }\n    }\n}","import icons from \"../../../KpIcons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\",\n        \"icon\": \"icon\",\n    },\n    prepare({formData, formContext}) {\n        let { documentType, imageUrl, title, content, description } = formData\n  \n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale || currentLocale || formData.locale\n        const localeId = \"locale:\" + locale;\n  \n        let metadata = []\n\n        const backgroundImage = content && content.backgroundImage;\n        const hasPages = content && content.hasPages;\n        const deviceTitle = content && content.deviceTitle\n        const deviceId = content && content.deviceId\n        const deviceType = content && content.deviceType\n\n        const typeLabel = deviceType && documentType + \"/\" + deviceType || documentType\n\n        if (backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl) {\n            imageUrl = backgroundImage.media.imageUrl\n        }\n      \n        if (hasPages && hasPages.length) {\n            metadata.push(hasPages.length + ' sider')\n        }\n\n        if (deviceId) {\n            metadata.push('#'+deviceId)\n        }\n\n        if (deviceType) {\n            metadata.push(deviceType)\n        }\n\n        let icon\n\n        const deviceIcons = {\n            ...icons,\n            \"windows\": icons[\"deviceWin\"],\n            \"ipad\": icons[\"deviceMac\"],\n        }\n\n        if (deviceType && deviceIcons[deviceType]) {\n            icon = deviceIcons[deviceType]\n        } else {\n            icon = deviceIcons[\"device\"]\n        }\n\n\n\n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            title: deviceTitle || title,\n            description: description,\n            metadata: metadata,\n            typeLabel: typeLabel\n        }\n      \n    }\n    \n}","//import mediaSchemas from \"./media\"\n//import kpCollection from './kpCollection';\n\nimport article from './article';\n\nimport page from './page';\nimport pageHome from './pageHome';\nimport pageTopic from './pageTopic';\nimport pageMap from './pageMap';\n\nimport pageGrid from './pageGrid';\nimport pageList from './pageList';\nimport pageTimeline from './pageTimeline';\nimport pageAnnotate from './pageAnnotate';\nimport pageMedia from './pageMedia';\n\nimport device from './device';\n\nexport default [\n    article,\n    page,\n    pageHome,\n    pageMap,\n    pageTopic,\n    pageGrid,\n    pageList,\n    pageTimeline,\n    pageAnnotate,\n    pageMedia,\n    device\n]","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMedia',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links && links.length + \" media\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"ui:dialog\": {\n                    \"query\": {\n                        \"models\": \"media\",\n                        \"mediaType\": [\"image\",\"video\",\"audio\"]\n                    }\n                },\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn media\",\n                    },\n                    {\n                        \"type\": \"upload\",\n                        \"title\": \"Last opp\"\n                    }\n                ],\n                \"ui:sortable\": true,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n            ]\n        }\n    }\n}","import React from 'react';\nimport Timeline from \"../../../KpPreview/Timeline\"\n\nconst PageTimelinePreview = ({formData, formContext}) => {\n\n    return <Timeline formData={formData} formContext={formContext} />\n\n}\n\nexport default PageTimelinePreview\n\n","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\";\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'device',\n    schema: schema,\n    formData: formData,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"device\"\n        },\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"deviceId\": {\n                    \"type\": \"number\"\n                },\n                \"deviceTitle\": {\n                    \"type\": \"string\"\n                },\n                \"deviceType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"windows\",\"ipad\"],\n                    \"enumNames\": [\"Windows\",\"iPad\"]\n                },\n                \"serialNumber\": {\n                    \"type\": \"string\",\n                },\n                \"placement\": {\n                    \"type\": \"string\",\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"focalpoint\": true\n                },\n                \"startPageId\": {\n                    \"type\": \"string\",\n                    \"readonly\": true\n                },\n                \"hasPages\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"page\",\n                        \"referenceType\": \"deviceHasPages\",\n                        \"_reverseReferenceType\": \"pageIsPartOf\",\n                        \"_reverseReference\": \"isPartOf[]\",\n                        \"properties\": {\n                            \"content\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"icon\": {\n                                        \"type\": \"string\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}","import React from 'react';\n\nconst KpDevicePreview = ({formData, formContext}) => {\n\n    return <p>{JSON.stringify(formData)}</p>\n\n}\n\nexport default KpDevicePreview\n\n","import mediaSchemas from \"@kit-ui/schema/es/Media/schemas\"\n//import primusSchemas from \"../../components/PrimusEditor/schemas\"\nimport kpSchemas from \"../../components/KpEditor/schemas\"\n\nconst schemas = [\n    ...mediaSchemas,\n//    ...primusSchemas,\n    ...kpSchemas,\n]\n\nlet schemasByName = {}\n\nschemas.map(schema => {\n    const { schemaType, name } = schema\n\n    const schemaName = schemaType + \"/\" + name\n\n    if (schemaType && name) {\n        schemasByName[schemaType + \"/\" + name] = schema\n    }\n})\n\nexport {\n    schemas,\n    schemasByName\n}\n\nexport default schemasByName","import { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils\n\nexport function getPreviewLocalizedString(localizedString, props) {\n    const { formContext } = props;\n    const currentLocale = formContext && formContext.currentLocale || formContext && formContext.languages && formContext.languages[0]\n\n    if (!currentLocale) {\n        return\n    }\n\n    const localeId = \"locale:\"+currentLocale;\n\n    return localizedString && localizedString[localeId]\n\n}\n\nexport function getPreviewFilters(value, props) {\n    const { schema, formData, index } = props;\n\n    if (schema && schema.type === \"array\" && formData && formData.length) {\n        value = value && value.replace(\"{count}\", formData.length)\n    } else if (index) {\n        value = value && value.replace(\"{count}\", index+1)\n        value = value && value.replace(\"{index}\", index)\n    }\n \n    return value;\n\n}\n\nexport function getPreviewData(preview, props) {\n    const { schema, formData } = props;\n    const { select, prepare, single, plural, empty } = preview\n\n    let selection;\n  \n    if (prepare && typeof prepare === \"function\") {\n        selection = prepare(props)\n    } else if (prepare) {\n        selection = prepare\n    } else {\n        selection = formData\n    }\n\n\n    let data = {}\n  \n    if (select) {\n        Object.keys(select).map(name => {\n\n            let key = select[name] || name\n\n            let value = null;\n\n            if (select.hasOwnProperty(key) && selection && selection[key]) {\n                value = selection[key];\n            }\n\n            if (typeof value === \"object\" && value !== null && schema && schema.type === \"array\") {\n                if (formData && formData.length && formData.length > 1 && value.plural) {\n                    value = value.plural\n                } else if (formData && formData.length && formData.length === 1 && value.single) {\n                    value = value.single\n                } else if (value.empty) {\n                    value = value.empty\n                }\n            }\n\n            /*\n\n            if (typeof value === \"object\" && value !== null) {\n                value = getPreviewLocalizedString(value, props)\n            }\n\n            */\n\n            if (value && typeof value === \"string\") {\n                value = getPreviewFilters(value, props)\n            }\n\n            if (name === \"metadata\" && selection[key]) {\n                data[name] = selection[key]\n            }\n\n            if (value) {\n                data[name] = value\n            }\n\n        })\n    }\n\n    return data;\n  \n}\n\nexport const getUiPreview = ({ schema, uiSchema = {}, formData, formContext, index }) => {\n    const uiOptions = getUiOptions(uiSchema)\n\n    const previewData = {\n        schema: schema,\n        formData: formData,\n        formContext: formContext,\n        index: index\n    }\n\n    if (uiOptions.preview) {\n        return getPreviewData(uiOptions.preview, previewData);\n    }\n\n\n}\n\nexport default getUiPreview\n\n","import React, { useRef, useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { getModel, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\nimport qs from 'query-string';\n\nimport { schemasByName } from \"./schemas\"\nimport { getUiPreview } from \"./utils\"\n\n\nconst FinderModel = ({\n    onClick,\n    viewable = false,\n    linkable = true,\n    selectable = true, \n    editable = true, \n    deletable = true, \n    deleted = false,\n    restorable = true, \n    erasable = true,\n    erased = false,\n    children,\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation('search');\n\n    const location = useLocation()\n    const history = useHistory()\n    \n\n    // actions\n\n    const dispatch = useDispatch()\n\n    const _onEdit = ({source, sourceId, uniqueId}) => {\n\n        let editUrl = location.pathname + \"/\" + uniqueId + \"/edit\"\n        editUrl = editUrl.replace(\"//\", \"/\")\n\n        console.log(editUrl)\n\n\n        history.push(editUrl)\n\n    }\n\n    const _onDelete = ({modelName, uniqueId}) => {\n        dispatch(deleteModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onRestore = ({modelName, uniqueId}) => {\n        dispatch(restoreModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onErase = ({modelName, uniqueId}) => {\n        dispatch(eraseModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onSelect = (model) => {\n        dispatch(selectModel(model))\n    }\n\n    // items\n\n    const bulk = useSelector(state => state.bulk)\n    const bulkItems = bulk.items    \n    const bulkCount = bulk.count    \n\n    // get model\n\n    const modelsById = useSelector(state => state.modelsById)\n\n    const { modelName, source, sourceId } = props;\n\n    const uniqueId = props.uniqueId || source + \"/\" + sourceId\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel(props))\n        }\n    }, [uniqueId])\n\n\n    /*\n\n    // get action\n\n    const uiAction = bulkCount && {\n        onClick: () => _onSelect({uniqueId})\n    } || {\n        onSelect: () => _onSelect({uniqueId}),\n        onEdit: () => _onEdit({source, sourceId, uniqueId})\n    }\n\n    */\n\n    // uniqueItem\n\n    const uniqueModel = modelsById[uniqueId] || {}\n\n    // uiPreview\n\n    const documentType = uniqueModel && uniqueModel.documentType || props.documentType\n    const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType]\n\n    const mediaType = uniqueModel && uniqueModel.mediaType || props.mediaType\n    const mediaModel = mediaType && schemasByName && schemasByName[\"media/\" + mediaType]\n\n    const collectionType = uniqueModel && uniqueModel.collectionType || props.collectionType\n    const collectionModel = collectionType && schemasByName && schemasByName[\"collections/\" + collectionType]\n    \n    const schemaModel = documentModel || mediaModel || collectionModel\n\n    const uiPreview = schemaModel && uniqueModel.uniqueId && getUiPreview({...schemaModel, formData: uniqueModel}) || {}\n    \n    const model = {\n        ...uniqueModel,\n        ...props,\n        ...uiPreview,\n        uniqueId: uniqueId,\n        selected: bulkItems.includes(uniqueId),\n    }\n\n    // capabilities\n\n    const { selected, status } = model\n\n    if (status === \"trash\") {\n        deleted = true\n        deletable = false\n    }\n\n    if (status === \"erased\") {\n        erased = true\n        selectable = false\n        editable = false\n        deletable = false\n    }    \n\n    if (props.sourceId) {\n        editable = false\n        deletable = false\n    }\n\n    if (selected || bulkCount) {\n        editable = false\n        deletable = false\n    }\n\n    // actions\n\n    const capabilities = {\n        selectable: selectable,\n        selected: selected,\n        editable: editable,\n        deletable: deletable,\n        deleted: deleted,\n        restorable: restorable,\n        erasable: erasable,\n        erased: erased,\n\n    }\n\n    let actions = {}\n\n    if (bulkCount) {\n        actions = {\n            onClick: () => _onSelect({uniqueId})\n        }\n    } else {\n        actions = {\n            onSelect: () => _onSelect({uniqueId}),\n            onEdit: () => _onEdit({source, sourceId, uniqueId}),\n            onDelete: () => _onDelete({modelName, uniqueId}),\n            onErase: () => _onErase({modelName, uniqueId}),\n            onRestore: () => _onRestore({modelName, uniqueId}),\n        }\n    }\n\n    const childrenWithProps = React.Children.map(children, (child, index) => {\n        // checking isValidElement is the safe way and avoids a typescript error too\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, {\n                ...capabilities,\n                ...model,\n                ...actions,\n//                ...child.props\n            });\n        }\n        return child;\n    });\n\n    return childrenWithProps\n\n    return <>{childrenWithProps}</>\n\n}\n\nexport default FinderModel;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport qs from 'query-string';\n\nimport FinderViewList from \"./FinderViewList\"\nimport FinderViewGrid from \"./FinderViewGrid\"\nimport FinderViewTable from \"./FinderViewTable\"\nimport FinderViewIcons from \"./FinderViewIcons\"\nimport FinderViewGallery from \"./FinderViewGallery\"\nimport FinderViewMasonry from \"./FinderViewMasonry\"\n\nconst templates = {\n    \"list\": FinderViewList,\n    \"table\": FinderViewTable,\n    \"icons\": FinderViewIcons,\n    \"grid\": FinderViewGrid,\n    \"gallery\": FinderViewGallery,\n    \"masonry\": FinderViewMasonry\n}\n\nconst FinderView = ({view, size}) => {\n\n    const location = useLocation()\n    const history = useHistory()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[location.pathname] || {}\n\n    const _onPage = (page) => {\n        const sq = location.search && qs.parse(location.search)\n        const url = location.pathname + \"?\" + qs.stringify({...sq, page: page});\n        history.replace(url)\n    }\n\n    const ViewTemplate = view && templates[view] || templates[\"list\"]\n\n    return <ViewTemplate {...currentSearch} size={size} onPage={_onPage} />\n\n}\n\nexport default FinderView","import React from 'react';\nimport { ListView, ListModule, ViewPages } from \"../components/KpView\"\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewList = ({ results, resultsLoaded, page, pages, prevPage, nextPage, onPage }) => {\n\n    const models = results && results.models\n    const nav = <ViewPages page={page} pages={pages} onPage={onPage} />\n\n    return (\n        <ListView footer={nav}>\n            {  models && models.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <ListModule />\n                    </FinderModel>\n                )\n            })}\n        </ListView>\n    )\n\n\n    const header = prevPage && <ListModule placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <ListModule placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />\n\n    return (\n        <ListView header={header} footer={footer}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <ListModule />\n                    </FinderModel>\n                )\n            })}\n        </ListView>\n    )\n\n}\n\nexport default FinderViewList","import React from 'react';\nimport { TableView, TableModule } from \"../components/PrimusView\"\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport FinderModel from \"./FinderModel\"\nimport qs from 'query-string';\n\nconst FinderViewGrid = ({ size, resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    let cols = [\n        \"title\",\n        \"artist\",\n        \"dating\",\n        \"materials\",\n        \"techniques\",\n        \"measures\",\n        \"depictedPeople\",\n        \"depictedPlaces\",\n        \"identifier\",\n        \"createdAt\",\n        \"updatedAt\",\n    ]\n\n    if (size === \"xs\") {\n        cols = [\n            \"title\",\n            \"artist\",\n            \"dating\",\n            \"identifier\",\n            \"createdAt\",\n        ]\n    }\n\n    const location = useLocation()\n    const history = useHistory()\n\n    const sq = location.search && qs.parse(location.search)\n\n    const sort = sq.sort || undefined\n\n    const _onSort = (sort) => {\n\n        if (sort === sq.sort) {\n            sort = sort + \" DESC\"\n        }\n\n\n        const url = location.pathname + \"?\" + qs.stringify({...sq, sort: sort});\n        history.replace(url)\n    }\n\n    const header = prevPage && <TableModule cols={cols} placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <TableModule cols={cols} placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />\n\n    return (\n        <TableView header={header} footer={footer} cols={cols} sort={sort} onSort={_onSort}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <TableModule cols={cols} sort={sort} />\n                    </FinderModel>\n                )\n            })}\n        </TableView>\n    )\n\n}\n\nexport default FinderViewGrid","import React from 'react';\nimport { IconsView, IconsModule } from \"../components/KpView\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewIcons = ({ resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    return (\n        <IconsView>\n            { prevPage && <IconsModule placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />}\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <IconsModule />\n                    </FinderModel>\n                )\n            })}\n            { nextPage && <IconsModule placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />}\n        </IconsView>\n    )\n\n}\n\nexport default FinderViewIcons","import React from 'react';\nimport { GridView, GridModule } from \"../components/PrimusView\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewGrid = ({ resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    return (\n        <GridView>\n            { prevPage && <GridModule placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />}\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <GridModule />\n                    </FinderModel>\n                )\n            })}\n            { nextPage && <GridModule placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />}\n        </GridView>\n    )\n\n}\n\nexport default FinderViewGrid","import React from 'react';\nimport { GalleryView, GalleryModule } from \"../components/PrimusView\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewGallery = ({ size, resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    const header = prevPage && <GalleryModule placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <GalleryModule placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />\n\n    const sizes = {\n        \"xs\": 200,\n        \"sm\": 300,\n        \"md\": 400,\n        \"lg\": 600,\n        \"xl\": 800\n    }\n\n    return (\n        <GalleryView header={header} footer={footer} mediaSize={sizes[size]} debug={true}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                const image = model && model.content && model.content.media && model.content.media[0] && model.content.media[0].media\n                const mediaWidth = model && model.mediaWidth || image && image.mediaWidth\n                const mediaHeight = model && model.mediaHeight || image && image.mediaHeight\n\n                model = {\n                    ...model,\n                    mediaWidth: mediaWidth,\n                    mediaHeight: mediaHeight,\n                }\n\n                return (\n                    <FinderModel {...model} key={index}>\n                        <GalleryModule />\n                    </FinderModel>\n                )\n\n            })}\n        </GalleryView>\n    )\n\n}\n\nexport default FinderViewGallery","import React from 'react';\nimport { MasonryView, MasonryModule } from \"../components/KpView\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewMasonry = ({ size, resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    const header = prevPage && <MasonryModule placeholder maxWidth=\"100%\" title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <MasonryModule placeholder maxWidth=\"100%\" title=\"Next page\" onClick={() => onPage(nextPage)} />\n\n    const sizes = {\n        \"xs\": 200,\n        \"sm\": 300,\n        \"md\": 400,\n        \"lg\": 600,\n        \"xl\": 800\n    }\n\n    const cols = {\n        \"xs\": 6,\n        \"sm\": 5,\n        \"md\": 4,\n        \"lg\": 3,\n        \"xl\": 2\n    }\n\n    return (\n        <MasonryView colSize={sizes[size]} cols={cols[size]} header={header} footer={footer} mediaSize={size} debug={true}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                /*\n\n                const image = model && model.content && model.content.media && model.content.media[0] && model.content.media[0].media\n                const mediaWidth = model && model.mediaWidth || image && image.mediaWidth\n                const mediaHeight = model && model.mediaHeight || image && image.mediaHeight\n\n                model = {\n                    ...model,\n                    mediaWidth: mediaWidth,\n                    mediaHeight: mediaHeight,\n                }\n\n                */\n\n                return (\n                    <FinderModel {...model} key={index}>\n                        <MasonryModule />\n                    </FinderModel>\n                )\n\n            })}\n        </MasonryView>\n    )\n\n}\n\nexport default FinderViewMasonry","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useTranslation } from 'react-i18next';\nimport { bulkAdd, bulkRemove, bulkToggle, bulkReset } from '../redux/bulk';\nimport { getPreview, getEditor, collapseEditor } from '../redux/finder';\n\nimport { getModel, getArtifact, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\nimport qs from 'query-string';\n\nimport { ViewBase, ViewHeader, ViewLoader, EmptyView } from \"../components/PrimusView\"\n\nimport FinderView from \"./FinderView\"\n\nconst FinderResults = (props) => {\n    const { query, isLoading, count, resultsLoaded } = props;\n\n    const { t, i18n } = useTranslation('finder');\n\n    const location = useLocation()\n    const history = useHistory()\n    const dispatch = useDispatch()\n\n    const sq = location.search && qs.parse(location.search)\n\n    // onSelect\n\n    const _onSelect = ({url}) => {\n        url && history.push(url)\n    }\n\n    // sortOptions\n\n    const _onSort = (sort) => {\n        const sq = location.search && qs.parse(location.search)\n        const url = location.pathname + \"?\" + qs.stringify({...sq, sort: sort});\n        history.replace(url)\n    }\n\n    const sortOptions = [\"title\", \"title DESC\", \"createdAt DESC\", \"updatedAt DESC\"]\n    const sort = sq.sort || sortOptions && sortOptions[0]\n\n    // rowsOptions\n\n    const _onRows = (rows) => {\n        const sq = location.search && qs.parse(location.search)\n        const url = location.pathname + \"?\" + qs.stringify({...sq, rows: rows});\n        history.replace(url)\n    }\n\n    const rowsOptions = [10,20,30,40,50]\n    const rows = sq.rows || rowsOptions[0]\n\n    // viewOptions\n\n    const _onView = (view) => {\n        const url = location.pathname + \"?\" + qs.stringify({...sq, view: view});\n        history.replace(url)\n    }\n\n    const viewOptions = [\"list\",\"icons\",\"table\",\"gallery\",\"masonry\"]\n    const view = sq.view || viewOptions[0]\n\n    // sizeOptions\n\n    const _onSize = (size) => {\n        const url = location.pathname + \"?\" + qs.stringify({...sq, size: size});\n        history.replace(url)\n    }\n\n    const sizeOptions = [\"xs\",\"sm\",\"md\",\"lg\",\"xl\"]\n    const size = sq.size || \"md\"\n\n    // parents, title, etc\n\n    const finder = useSelector(state => state.finder)\n    const bulk = useSelector(state => state.bulk)\n\n    const selected = bulk.count\n\n    // format numbers\n\n    const selectedFormatted = new Intl.NumberFormat('de-DE').format(selected)\n    const countFormatted = new Intl.NumberFormat('de-DE').format(count)\n\n    // select\n\n    const _onSelectAll = () => {\n\n        resultsLoaded.map(item => {\n            const { source, sourceId } = item;\n            const uniqueId = item.uniqueId || source + \"/\" + sourceId\n            dispatch(bulkAdd({uniqueId}))\n        })\n\n    }\n\n    const _onSelectToggle = () => {\n\n        resultsLoaded.map(item => {\n            const { source, sourceId } = item;\n            const uniqueId = item.uniqueId || source + \"/\" + sourceId\n            dispatch(bulkToggle({uniqueId}))\n        })\n\n    }\n\n    const _onSelectNone = () => {\n        dispatch(bulkReset())\n    }\n\n    // bulk\n\n    const _onBulkEdit = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Edit selected'),\n            \"model\": \"editor\"\n        }))\n        \n    }\n\n    const _onCreateReport = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Create report'),\n            \"model\": \"report\"\n        }))\n        \n    }\n\n    // options\n\n    let options = []\n\n    if (selected) {\n\n        const selectOptions = [\n            {\n                \"title\": t('Select all'),\n                \"onClick\": _onSelectAll,\n            },\n            {\n                \"title\": t('Unselect all'),\n                \"onClick\": _onSelectNone\n            },\n            {\n                \"title\": t('Toggle selected'),\n                \"onClick\": _onSelectToggle\n            },\n        ]\n\n        const exportOptions = [\n            {\n                \"title\": t('Export to {{format}}', {format: \"PDF\"})\n            },\n            {\n                \"title\": t('Export to {{format}}', {format: \"Excel\"})\n            }\n        ]\n\n        const bulkOptions = [\n            {\n\n                \"icon\": \"edit\",\n                \"title\": t('Edit selected'),\n                \"onClick\": _onBulkEdit\n            },\n            {\n                \"icon\": \"trending_up\",\n                \"title\": t('Create report'),\n                \"onClick\": _onCreateReport\n            },\n            {\n                children: exportOptions\n            }\n        ]\n\n        options = [\n            {\n                \"title\": t(\"Select\"),\n                \"children\": selectOptions\n            },\n            {\n                \"title\": t(\"Action\"),\n                \"children\": bulkOptions\n            }\n        ]\n\n    }\n\n    // parents\n\n    let parents = finder.parents\n\n    // title\n\n    let title\n\n    if (query && query.q) {\n        parents = [\n            ...parents,\n            {\n                title: \"«\" + query.q + \"»\"\n            }\n        ]\n    }\n\n    // description\n\n    let description\n\n    if (isLoading) {\n        description = t('Loading') + \"...\"\n    } else if (selected) {\n        parents = undefined\n        title = t('{{selected}} of {{count}} selected', { selected: selectedFormatted, count: countFormatted });\n    } else if (!isLoading && count) {\n        description = t('{{count}} hits', { count: countFormatted });\n    } else {\n        description = t('No hits');\n    }\n\n    if (!isLoading && !count) {\n        return (\n            <ViewBase>\n                <ViewHeader description={description} parents={parents} onSelect={_onSelect} />\n                <EmptyView />\n            </ViewBase>\n        )\n\n    }\n\n\n    return (\n        <ViewBase>\n            <ViewHeader {...props} \n                parents={parents}\n                title={title} \n                description={description}\n\n                view={view}\n                viewOptions={!selected && viewOptions}\n                onView={_onView} \n\n                rows={rows}\n                rowsOptions={!selected && rowsOptions}\n                onRows={_onRows} \n\n                sort={sort}\n                sortOptions={!selected && sortOptions}\n                onSort={_onSort} \n\n                size={size}\n                sizeOptions={!selected && sizeOptions}\n                onSize={_onSize} \n\n                options={options}\n                onSelect={_onSelect} />\n            <ViewLoader isLoading={isLoading}>\n                <FinderView view={view} size={size} />\n            </ViewLoader>\n        </ViewBase>\n    )\n\n\n}\n\nFinderResults.defaultProps = {\n}\n\nexport default FinderResults","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { getView, getSort } from '../redux/finder';\nimport { getQuery } from '../redux/searchByUrl';\nimport qs from 'query-string';\n\nimport FinderResults from \"./FinderResults\"\n\nconst FinderQuery = ({query = {}, sortOptions = [], viewOptions = [], ...props}) => {\n    const dispatch = useDispatch()\n\n    const location = useLocation()\n    const history = useHistory()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // set query\n\n    const sq = location.search && qs.parse(location.search)\n\n    let q = []\n\n    query.q && q.push(query.q)\n    sq.q && q.push(sq.q)\n\n    q = q && q.join(\" \") || undefined\n\n\n    const url = location.pathname\n    const page = sq.page || 1\n    const rows = sq.rows || query.rows || 10\n    const fl = query.fl || \"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName\"\n\n    const sortable = [\n        \"title\",\n        \"title DESC\",\n        \"createdAt\",\n        \"createdAt DESC\",\n        \"updatedAt\",\n        \"updatedAt DESC\"\n    ]\n\n    const sort = sq.sort || query.sort || undefined\n\n    // query\n\n    useEffect(() => {\n        url && query.models && dispatch(getQuery({\n            ...query,\n            url: url,\n            collectionId: query.collectionId || app && app.collectionId,\n            siteId: query.siteId || app && app.siteId,\n            page: page,\n            rows: rows,\n            sort: sort && sortable.includes(sort) && sort,\n//            fl: fl,\n            q: q,\n        }))\n    }, [url, q, sort, rows, page])\n\n    // search\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[url] || {}\n    \n\n    return (\n        <FinderResults {...finder} {...sq} {...props} {...currentSearch}  />\n    )\n\n}\n\nFinderQuery.defaultProps = {\n}\n\nexport default FinderQuery","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    article: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.text.primary,\n        minWidth: 360,\n        minHeight: \"100%\",\n        padding: \"2em\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        overflowX: \"hidden\",\n\n        \"& *\": {\n            boxSizing: \"border-box\"\n        }\n    },\n}));\n\nconst ArticleBase = ({expanded = true, children, onClick}) => {\n\n    const classes = useStyles()\n\n\n    return (\n        <article aria-expanded={expanded} className={classes.article} onClick={onClick}>\n            {children}\n        </article>\n    )\n\n\n}\n\nexport default ArticleBase;","import React, { useEffect, useState } from \"react\"\n\nimport Typography from \"@material-ui/core/Typography\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        width: \"100%\",\n        display: \"flex\",\n        marginBottom: \"1em\"\n    },\n    icon: {\n        marginRight: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"1.5em\",\n        lineHeight: 1.25,\n        fontWeight: \"bold\",\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        fontWeight: \"normal\"\n    },\n}));\n\nconst ArticleHeader = ({icon, title, description}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            {icon && <Icon className={classes.icon}>{icon}</Icon>}\n            <Typography component=\"h1\" className={classes.title}>{title}</Typography>\n        </header>\n    )\n    \n    return (\n        <header className={classes.header}>\n            <h1 className={classes.title}>{title}</h1>\n            <h2 className={classes.description}>{description}</h2>\n        </header>\n    )\n\n\n}\n\nexport default ArticleHeader;","import React from \"react\"\nimport ReactMarkdown from 'react-markdown'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    typography: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"1em\",\n        lineHeight: 1.5,\n\n        margin: 0,\n\n        \"& > *\": {\n            marginTop: \".5em\",\n            marginBottom: \".5em\",\n        },\n\n        \"& > ol\": {\n            marginTop: \"1em\",\n            marginBottom: \"1em\",\n\n            \"& li + li\": {\n                marginTop: \".5em\"\n            }\n        },\n\n        \"& > ul\": {\n            marginTop: \"1em\",\n            marginBottom: \"1em\",\n\n            \"& li + li\": {\n                marginTop: \".5em\"\n            }\n        },\n        \n\n        \"& > h2\": {\n            fontWeight: \"normal\",\n            fontSize: \"1.5em\",\n            marginTop: \"1em\",\n            marginBottom: 0,\n        },\n\n        \"& > h3\": {\n            fontSize: \"1em\",\n            fontWeight: \"bold\",\n            marginTop: \"1em\",\n            marginBottom: \".5em\",\n\n            \"& + p\": {\n                marginTop: \"-.5em\"\n            }\n\n        }\n\n    },\n        \n\n}));\n\n\nconst ArticleSection = ({children}) => {\n\n    const classes = useStyles()\n\n    return <ReactMarkdown className={classes.typography}>{children}</ReactMarkdown> \n\n}\n\n\nexport default ArticleSection","import React, { useEffect, useState } from \"react\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        width: \"100%\"\n    },\n    title: {\n        fontFamily: 'Akkurat, sans-serif',\n        fontSize: '1em',\n        fontWeight: 'bold',\n        marginTop: \"1.5em\",\n    },\n}));\n\nconst ArticleSection = ({title, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <section className={classes.section}>\n            {title && <h2 className={classes.title}>{title}</h2> }\n            {children}\n        </section>\n    )\n\n\n}\n\nexport default ArticleSection;","import React, { useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    slideshow: {\n        width: \"100%\",\n\n\n    },\n    list: {\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        display: \"flex\",\n        flexDirection: \"row\",\n        transition: \"transform .25s ease-in-out\",\n\n        transform: props => { return props.transform },\n\n        userSelect: \"none\"\n\n    },\n    item: {\n        flexBasis: \"100%\",\n        flexShrink: 0,\n        flexGrow: 0,\n\n        opacity: .7,\n        transition: \"opacity .5s ease-in-out\",\n\n        \"&[aria-selected=true]\": {\n            opacity: 1\n        }\n\n    },\n    figure: {\n        position: \"relative\",\n        backgroundColor: theme.palette.media || \"#808080\",\n        width: \"100%\",\n        height: 360,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: 0,\n\n        padding: \"2em 2em 4em 2em\",\n    },\n    figcaption: {\n        position: \"absolute\",\n        top: \"auto\",\n        right: 0,\n        bottom: 0,\n        left: 0,\n        fontSize: \".75em\",\n        padding: \"1em\"\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    },\n}));\n\nconst MediaSlideshow = ({items = []}) => {\n\n    const [currentIndex, setCurrentIndex] = useState(0)\n\n    const count = items.length;\n    const width = count * 100;\n    const moveX = width / count\n\n    const translateX = moveX * currentIndex * -1 + \"%\"\n    const transform = \"translateX(\"+translateX+\")\"\n\n    const classes = useStyles()\n\n    if (!items.length) {\n        return false\n    }\n\n\n    const _onIndex = (index) => {\n        setCurrentIndex(index)\n    }\n\n    const MediaItem = ({mediaId, media, selected, onClick}) => {\n        return (\n            <li className={classes.item} aria-selected={selected} onClick={onClick}>\n                <figure className={classes.figure}>\n                    <img src={media.imageUrl} className={classes.image} />\n                    <figcaption className={classes.figcaption}>Foto: Nasjonalmuseet</figcaption>\n                </figure>\n            </li>\n        )        \n    }\n\n\n    return (\n        <div className={classes.slideshow}>\n            <ul className={classes.list} style={{transform: transform}}>\n                {items && items.map((item, index) => <MediaItem {...item} selected={index === currentIndex} key={index} onClick={() => _onIndex(index)}/>)}\n            </ul>\n        </div>\n    )\n\n\n}\n\nexport default MediaSlideshow;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        width: \"100%\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"0.875em\",\n        lineHeight: 1.5,\n        borderTop: \"1px solid\",\n        borderColor: \"#808080\",\n        paddingTop: \"1em\",\n        marginTop: \"1.5em\",\n        marginBottom: \"1.5em\",\n\n        \"& $list\": {\n            borderTop: \"none\",\n            paddingTop: 0,\n            marginTop: \"0.75em\",\n            fontSize: \"1em\"\n        }\n\n    }\n}));\n\nconst MetaList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <ul className={classes.list}>{children}</ul>\n    )\n\n}\n\nexport default MetaList;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        \"& + $item\": {\n            marginTop: \"0.75em\"\n        }\n    }\n}));\n\nconst MetaListItem = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <li className={classes.item}>\n            {children}\n        </li>\n    )\n\n\n}\n\nexport default MetaListItem;","import React, { useEffect, useState } from \"react\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n\n    label: {\n        fontFamily: '\"Akkurat Mono\", monospace',\n        fontWeight: 'normal',\n        fontSize: '0.75em',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',\n        color: theme.palette.text.secondary,\n\n        \"&:after\": {\n            content: '\": \"'\n        }\n\n    }\n\n}));\n\nconst MetaLabel = ({children}) => {\n\n    const classes = useStyles()\n    \n    return (\n        <b className={classes.label}>{children}</b>\n    )\n\n}\n\nexport default MetaLabel;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        borderBottom: \"1px solid\",\n        borderColor: \"rgba(0,0,0,.5)\",\n        \"&:hover\": {\n            cursor: \"pointer\",\n            borderColor: theme.palette.text.primary\n        },\n    },\n    value: {\n        fontStyle: \"normal\",\n\n        \"& + $value\": {\n            \"&:before\": {\n                content: '\", \"'\n            }\n        }\n    }\n}));\n\nconst MetaValue = ({children, onClick}) => {\n    const classes = useStyles()\n\n    if (onClick) {\n        return (\n            <span className={classes.value}>\n                <a className={classes.link} onClick={onClick}>{children}</a>\n            </span>\n        )\n    }\n\n    return <span className={classes.value}>{children}</span>\n\n}\n\nexport default MetaValue;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    code: {\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        border: '1px solid rgba(128, 128, 128, 0.5)',\n        padding: '0.25em 0.5em',\n        borderRadius: '2px',\n        margin: '-1px 0',\n        fontSize: '0.625em',\n        lineHeight: '1',\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n    }\n}));\n\nconst MetaCode = ({children}) => {\n\n    const classes = useStyles()\n\n    return <span className={classes.code}>{children}</span>\n\n\n\n}\n\nexport default MetaCode;","import React, { useEffect, useState } from \"react\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    measures: {\n        display: \"flex\",\n    },\n    object: {\n        flexGrow: 1,\n        flexBasis: \"50%\"\n    },\n    rectangle: {\n        border: \"1px solid\"\n    }\n    \n}));\n\nconst Measures = ({items = []}) => {\n\n    const classes = useStyles()\n\n    const Rectangle = ({width = 1, height = 1}) => {\n\n        const maxWidth = 100\n        const maxHeight = height / width * maxWidth\n\n        const style = {\n            width: maxWidth,\n            height: maxHeight,\n        }\n\n        return (\n            <div className={classes.rectangle} style={style}>\n\n            </div>\n        )\n\n    }\n\n    const Measure = ({measureType, value, description, width, height, depth, unit}) => {\n\n        return (\n            <div className={classes.object}>\n\n                {measureType}\n\n                <Rectangle width={width} height={height} />\n\n                <p>{value}</p>\n                <p>{description}</p>\n            </div>\n        )\n\n    }\n\n    return (\n        <div className={classes.measures}>\n            {items.map((item, index) => <Measure {...item} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default Measures;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    MetaList,\n    MetaListItem,\n    MetaLabel,\n    MetaValue,\n    MetaCode,\n} from \"./\"\n\nconst useStyles = makeStyles(theme => ({\n\n}));\n\nconst Metadata = ({items = [], onSelect}) => {\n\n    const MetaItemValue = (item) => {\n\n        const { uuid, value } = item\n\n        const _onClick = (e) => onSelect(e, {\n            ...item,\n            source: \"knav\",\n            sourceId: uuid,\n            title: value,\n            ...item\n        })\n\n        return (\n            <MetaValue onClick={uuid && _onClick}>{value}</MetaValue>\n        )\n    }\n\n    const MetaItem = ({inline, values, ...item}) => {\n\n        const { uuid, label, value, code } = item\n\n        if (values) {\n\n            if (!inline) {\n\n                return (\n                    <MetaListItem>\n                        <MetaLabel>{label}</MetaLabel>\n                        <MetaList>\n                            {values.map((value, index) => <MetaItem {...value} label={false} key={index} />)}                        \n                        </MetaList>\n                    </MetaListItem>\n                )\n    \n                \n            }\n\n            return (\n                <MetaListItem>\n                    <MetaLabel>{label}</MetaLabel>\n                    {values.map((value, index) => <MetaItemValue {...value} label={false} key={index} />)}                        \n                </MetaListItem>\n            )\n                \n        }\n\n\n        return (\n            <MetaListItem>\n                { label && <MetaLabel>{label}</MetaLabel>  }\n                <MetaItemValue {...item} />\n                { code && \" \"}\n                { code && <MetaCode>{code}</MetaCode>}\n            </MetaListItem>\n        )\n\n    }\n\n    return (\n        <MetaList>\n            {items.map((item, index) => <MetaItem {...item} key={index} />)}\n        </MetaList>\n    )\n\n\n}\n\nexport default Metadata;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    MetaList,\n    MetaListItem,\n    MetaLabel,\n    MetaValue,\n    MetaCode,\n} from \"./\"\n\nconst Classifications = ({items = [], onSelect}) => {\n\n\n\n    const ClassificationItem = (item) => {\n\n        const { uuid, value, system, systemId } = item\n\n        const _onClick = (e) => onSelect(e, {\n            ...item,\n            source: \"knav\",\n            sourceId: item.uuid,\n            title: item.value,\n            ...item\n        })\n    \n        return (\n            <MetaListItem>\n                <MetaValue onClick={uuid && _onClick}>{value}</MetaValue>{' '}\n                { systemId && <MetaCode>{system} {systemId}</MetaCode>  }\n            </MetaListItem>\n        )\n\n    }\n\n    return (\n        <MetaList>\n            {items.map((item, index) => <ClassificationItem {...item} key={index} />)}\n        </MetaList>\n    )\n\n\n}\n\nexport default Classifications;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    MetaList,\n    MetaListItem,\n    MetaLabel,\n    MetaValue,\n    MetaCode,\n} from \"./\"\n\nconst useStyles = makeStyles(theme => ({\n\n}));\n\nconst Metadata = ({items = [], onSelect}) => {\n\n    const classes = useStyles()\n\n    const MetaValues = ({values}) => {\n\n        return values.map((item, index) => {\n\n            if (typeof item === \"string\") {\n                item = {\n                    value: item\n                }\n            }\n\n            const { uuid, value } = item\n\n            const _onClick = (e) => onSelect(e, {\n                ...item,\n                source: \"knav\",\n                sourceId: uuid,\n                title: value,\n                ...item\n            })\n\n            return (\n                <MetaValue onClick={uuid && _onClick} key={index}>{value}</MetaValue>\n            )\n        })\n\n    }\n\n    const MetaItem = ({values, ...item}) => {\n\n        const { uuid, label, value, code } = item\n\n        if (values) {\n            return (\n                <MetaListItem>\n                    <MetaLabel>{label}</MetaLabel>\n                    <MetaValues values={values} />\n                </MetaListItem>\n            )\n                \n        }\n\n        const _onClick = (e) => onSelect(e, {\n            ...item,\n            source: \"knav\",\n            sourceId: uuid,\n            title: value,\n            ...item\n        })\n\n        return (\n            <MetaListItem>\n                <MetaLabel>{label}</MetaLabel>\n                <MetaValue onClick={uuid && _onClick}>{value}</MetaValue>\n                { code && \" \"}\n                { code && <MetaCode>{code}</MetaCode>}\n            </MetaListItem>\n        )\n\n    }\n\n    return (\n        <MetaList>\n            {items.map((item, index) => <MetaItem {...item} key={index} />)}\n        </MetaList>\n    )\n\n\n}\n\nexport default Metadata;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Metadata from \"./Metadata\"\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        width: \"100%\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"0.875em\",\n        lineHeight: 1.5,\n        borderTop: \"1px solid\",\n        borderColor: \"#808080\",\n        paddingTop: \"1em\",\n        marginTop: \"1.5em\",\n        marginBottom: \"1.5em\",\n\n    },\n    item: {\n\n        \"& + $item\": {\n            marginTop: \"0.75em\"\n        }\n\n    },\n    header: {\n        color: theme.palette.text.primary\n    },\n    body: {\n        color: theme.palette.text.secondary\n    },\n    label: {\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n\n        \"&:after\": {\n            content: '\": \"'\n        }\n    },\n    title: {\n        fontWeight: 'normal',\n    },\n    link: {\n        borderBottom: \"1px solid\",\n        borderColor: \"rgba(0,0,0,.5)\",\n        \"&:hover\": {\n            cursor: \"pointer\",\n            borderColor: theme.palette.text.primary\n        }\n    },\n    code: {\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        border: '1px solid rgba(128, 128, 128, 0.5)',\n        padding: '0.25em 0.5em',\n        borderRadius: '2px',\n        margin: '-1px 0',\n        fontSize: '0.625em',\n        lineHeight: '1',\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n    },\n    value: {\n        fontStyle: \"normal\",\n\n        \"& + $value\": {\n            \"&:before\": {\n                content: '\", \"'\n            }\n        }\n    }\n}));\n\nconst Events = ({items = []}) => {\n\n    const classes = useStyles()\n\n    const EventList = ({children}) => {\n        return (\n            <ul className={classes.list}>{children}</ul>\n        )\n    }\n\n    const EventPerson = ({value}) => {\n        return (\n            <li>\n                {value}\n            </li>\n        )\n    }    \n\n    const EventPeople = ({items = []}) => {\n\n        return (\n            <ul className={classes.people}>{items && items.map((item, index) => <EventPerson {...item} key={index} />)}</ul>\n        )\n\n    }\n\n    const EventPlace = ({value}) => {\n        return (\n            <li>\n                {value}\n            </li>\n        )\n    }    \n\n    const EventPlaces = ({items = []}) => {\n\n        return (\n            <ul className={classes.places}>{items && items.map((item, index) => <EventPlace {...item} key={index} />)}</ul>\n        )\n\n    }\n\n\n    const EventItem = ({dating, eventType, description, people, places}) => {\n\n        return (\n            <li className={classes.item}>\n                <header className={classes.header}>\n                    <span className={classes.label}>{dating && dating.value}</span>\n                    <span className={classes.title}>{eventType && eventType.value}</span>\n                </header>\n                <div className={classes.body}>\n                    { people && <EventPeople items={people} />}\n                    { places && <EventPlaces items={places} />}\n                </div>\n            </li>\n        )\n\n    }\n\n    return (\n        <EventList>\n            {items.map((item, index) => <EventItem {...item} key={index} />)}\n        </EventList>\n    )\n\n\n}\n\nexport default Events;","import React, { useEffect, useState } from \"react\"\nimport Typography from '@material-ui/core/Typography';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    colors: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        margin: theme.spacing(-1)\n    },\n    color: {\n        flexBasis: \"20%\",\n        flexGrow: 0,\n        margin: theme.spacing(1)\n    },\n    swatch: {\n        border: \"1px solid\",\n        width: \"100%\",\n        paddingBottom: \"100%\"\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n\n    }\n    \n}));\n\nconst Colors = ({items = []}) => {\n\n    const classes = useStyles()\n\n    const Swatch = ({color}) => {\n\n        const style = {\n            backgroundColor: color,\n        }\n\n        return (\n            <div className={classes.swatch} style={style}>\n\n            </div>\n        )\n\n    }\n\n    const Color = ({value, label}) => {\n\n        return (\n            <div className={classes.color}>\n                <Swatch color={value} />\n            </div>\n        )\n\n        return (\n            <div className={classes.color}>\n                <Swatch color={value} />\n                <Typography className={classes.label}>{label}</Typography>\n            </div>\n        )\n\n    }\n\n    return (\n        <div className={classes.colors}>\n            {items.map((item, index) => <Color {...item} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default Colors;","import React, { useEffect, useState } from \"react\"\nimport DocumentPreview from \"./DocumentPreview\"\nimport EkulturPreview from \"./EkulturPreview\"\nimport KnavPreview from \"./KnavPreview\"\nimport PersonPreview from \"./PersonPreview\"\n\nconst templates = {\n    \"document\": DocumentPreview,\n    \"ekultur\": EkulturPreview,\n    \"knav\": KnavPreview,\n    \"person\": PersonPreview,\n}\n\nconst PreviewTemplate = ({source, documentType, ...props}) => {\n\n    let template = templates[\"document\"]\n\n    if (templates[documentType]) {\n        template = templates[documentType]\n    } else if (source && templates[source]) {\n        template = templates[source]\n    }\n\n    const Template = template\n\n    return (\n        <Template {...props} />\n    )\n\n}\n\nexport default PreviewTemplate;","import React, { useEffect, useState } from \"react\"\nimport { useTranslation } from 'react-i18next';\n\nimport PreviewTheme from \"./PreviewTheme\"\n\nimport {\n    ArticleBase,\n    ArticleHeader,\n    ArticleTypography,\n    ArticleSection,\n    MediaSlideshow,\n    Metadata,\n    Classifications,\n    Measures,\n    Motif,\n    Events,\n    Colors\n} from \".\"\n\nconst ArtworkPreview = ({\n    content = {},\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation(['preview'])\n\n    const {\n        identifier,\n        title,\n        description,\n        artist,\n        dating,\n        designations = [],\n        materials = [],\n        techniques = [],\n        images,\n        measures = [],\n        classifications = [],\n        events = [],\n        motifType,\n        motifDescription,\n        depictedPeople = [],\n        depictedPlaces = [],\n        colors = []\n    } = content\n\n\n    const _onSelect = (event, item) => {\n        event.stopPropagation()\n        props.onSelect && props.onSelect(item)\n    }\n\n    // metadata\n\n    let metadata = []\n\n    if (designations && designations.length) {\n\n        metadata.push({\n            label: t(\"Designation\"),\n            inline: true,\n            values: designations,\n        })\n        \n    }\n\n    if (materials && materials.length) {\n\n        metadata.push({\n            label: t(\"Material\"),\n            inline: true,\n            values: materials,\n        })\n        \n    }\n\n    if (techniques && techniques.length) {\n\n        metadata.push({\n            label: t(\"Technique\"),\n            inline: true,\n            values: techniques,\n        })\n        \n    }\n\n    if (artist && artist.value) {\n\n        metadata.push({\n            ...artist,\n            label: t(\"Artist\"),\n        })\n    \n    }\n\n    if (dating) {\n        metadata.push({\n            label: t(\"Dating\"),\n            value: dating.value\n        })\n    }\n\n    if (identifier) {\n        metadata.push({\n            label: t(\"Identifier\"),\n            value: identifier\n        })\n    }\n\n\n    // references\n\n    const references = [\n        {\n            author: \"Jenst Thiis\",\n            title: \"Beskrivende fortegnelse over museets moderne erhvervelser ved udenlandske kjøb i året 1901\",\n            value: \"I Årbog 1898-1901, 147-176 (Trondhjem: Nordenfjeldske Kunstindustrimuseum, 1902), 175-176 (nr. 133)\",\n        },\n        {\n            value: \"Kunsthåndverk og formgiving (Outline)\",\n            code: \"OU 531\"\n        }\n    ]\n\n    // motif\n\n    let motif = []\n\n    if (motifType) {\n        motif.push({\n            label: t(\"Motif type\"),\n            value: motifType\n        })\n    }\n\n    if (motifDescription) {\n        motif.push({\n            label: t(\"Description\"),\n            value: motifDescription\n        })\n    }\n\n    if (depictedPeople.length) {\n        motif.push({\n            label: t(\"People depicted\"),\n            inline: false,\n            values: depictedPeople\n        })\n    }\n\n    if (depictedPlaces.length) {\n        motif.push({\n            label: t(\"Places depicted\"),\n            inline: false,\n            values: depictedPlaces\n        })\n    }\n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title || \"Uten tittel\"} />\n            { images && <MediaSlideshow items={images} /> }\n\n            <ArticleSection>\n                <Metadata items={metadata} onSelect={_onSelect} />\n            </ArticleSection>\n\n            <ArticleTypography>{description}</ArticleTypography>\n\n            { measures.length &&\n                <ArticleSection title={t(\"Measures\")}>\n                    <Measures items={measures} />\n                </ArticleSection>\n            }\n\n            { classifications && \n                <ArticleSection title={t(\"Classification\")}>\n                    <Classifications items={classifications} onSelect={_onSelect} />\n                </ArticleSection>\n            }\n\n            { motif.length && \n                <ArticleSection title={t(\"Motif\")}>\n                    <Metadata items={motif} onSelect={_onSelect} />\n                </ArticleSection>\n            }\n\n            { colors.length && \n                <ArticleSection title={t(\"Colors\")}>\n                    <Colors items={colors} onSelect={_onSelect} />\n                </ArticleSection>\n            }\n\n            { events.length &&\n                <ArticleSection title={t(\"History\")}>\n                    <Events items={events} />\n                </ArticleSection>\n            }\n\n\n            <ArticleSection title={t(\"References\")}>\n                <Metadata items={references} />\n            </ArticleSection>\n\n        </ArticleBase>\n    )\n\n\n}\n\nexport default ArtworkPreview;","import React, { useEffect, useState } from \"react\"\nimport { useTranslation } from 'react-i18next';\n\nimport {\n    ArticleBase,\n    ArticleHeader,\n    ArticleTypography,\n    ArticleSection,\n    MediaSlideshow,\n    Metadata,\n    Events\n} from \"../PrimusPreview\"\n\nconst ArtworkPreview = ({\n    title,\n    identifier,\n    description,\n    imageUrl,\n    content = {},\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation(['preview'])\n\n    const {\n        license = [],\n        owner,\n        ownerName,\n        producer,\n    } = content\n\n    let images\n\n    if (imageUrl) {\n        images = [{mediaId: 1, media: { imageUrl: imageUrl }}]\n    }\n    \n\n    const _onSelect = (event, item) => {\n        event.stopPropagation()\n        props.onSelect && props.onSelect(item)\n    }\n\n    // metadata\n\n    let metadata = []\n\n    if (producer) {\n\n        metadata.push({\n            label: t(\"Producer\"),\n            value: producer,\n            onClick: (e) => _onSelect(e, {\n                documentType: \"person\",\n                name: producer\n            })\n        })\n    \n    }\n\n    if (identifier) {\n        metadata.push({\n            label: t(\"Identifier\"),\n            value: identifier\n        })\n    }\n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title || \"Uten tittel\"} />\n            { images && <MediaSlideshow items={images} /> }\n\n            <ArticleSection>\n                <Metadata items={metadata} />\n            </ArticleSection>\n\n            <ArticleTypography>{description}</ArticleTypography>\n\n\n        </ArticleBase>\n    )\n\n\n}\n\nexport default ArtworkPreview;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport moment from \"moment\"\n\nimport ArticleBase from \"./ArticleBase\"\nimport ArticleHeader from \"./ArticleHeader\"\nimport ArticleTypography from \"./ArticleTypography\"\nimport ArticleSection from \"./ArticleSection\"\n\nimport Metadata from \"./Metadata\"\n\nconst KnavPreview = ({\n    expanded = false,\n    title,\n    uuid,\n    ...props\n}) => {\n\n    let metadata = []\n\n    if (uuid) {\n        metadata.push({\n            label: \"UUID\",\n            value: uuid\n        })\n    }\n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title} />\n\n            <ArticleSection>\n                <Metadata items={metadata} />\n            </ArticleSection>\n\n            {JSON.stringify(props)}\n\n        </ArticleBase>\n    )\n\n\n}\n\nKnavPreview.propTypes = {\n}\n\nexport default KnavPreview;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport moment from \"moment\"\n\nimport ArticleBase from \"./ArticleBase\"\nimport ArticleHeader from \"./ArticleHeader\"\nimport ArticleTypography from \"./ArticleTypography\"\nimport ArticleSection from \"./ArticleSection\"\n\nimport Metadata from \"./Metadata\"\n\nimport SectionMetadata from \"./SectionMetadata\"\nimport SectionHistory from \"./SectionHistory\"\nimport SectionExhibitions from \"./SectionExhibitions\"\nimport SectionLicense from \"./SectionLicense\"\nimport SectionClassification from \"./SectionClassification\"\n\nimport Icon from \"./icons/Person\"\n\n\nconst PersonPreview = ({\n    expanded = false,\n    name,\n    gender,\n    biography,\n    birthDate,\n    birthPlace,\n    deathDate,\n    deathPlace,\n    ...props\n}) => {\n\n    const names = name && name.split(',')\n    const title = names && names.reverse().join(\" \")\n\n    let metadata = []\n\n    if (name) {\n        metadata.push({\n            label: \"Navn\",\n            value: name\n        })\n    }\n\n    if (birthDate) {\n\n        birthDate = moment(birthDate).format(\"D. MMMM YYYY\")\n\n        let values = []\n\n        values.push(birthDate)\n        \n        if (birthPlace) {\n            values.push(birthPlace)\n        }\n        \n        metadata.push({\n            label: \"Født\",\n            values: values\n        })\n    }\n\n    if (deathDate) {\n\n        deathDate = moment(deathDate).format(\"D. MMMM YYYY\")\n\n        let values = []\n\n        values.push(deathDate)\n        \n        if (deathPlace) {\n            values.push(deathPlace)\n        }\n        \n        metadata.push({\n            label: \"Død\",\n            values: values\n        })\n    }    \n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title || name} />\n\n            <ArticleSection>\n                <Metadata items={metadata} />\n            </ArticleSection>\n\n            <ArticleTypography>{biography}</ArticleTypography>\n\n            {JSON.stringify(props)}\n\n        </ArticleBase>\n    )\n\n\n}\n\nPersonPreview.propTypes = {\n    gender: PropTypes.oneOf([\"male\",\"female\"])\n}\n\nexport default PersonPreview;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    scroller: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },\n}));\n\nconst PreviewScroller = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.scroller}>\n            {children}\n        </div>\n    )\n\n\n}\n\nexport default PreviewScroller;","import React from 'react';\nimport { ViewBase, ViewHeader, ListView, ListModule } from \"../components/PrimusView\"\n\nconst BulkPreviewList = ({title, viewAction, items = []}) => {\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} viewAction={viewAction} />\n            <ListView paddingX={2}>\n                { items && items.map((model, index) => {\n                    return (\n                        <ListModule {...model} key={index} />\n                    )\n                })}\n            </ListView>\n        </ViewBase>\n    )\n\n}\n\nexport default BulkPreviewList","import React, { useEffect, useState } from \"react\"\nimport PreviewTemplate from \"./PreviewTemplate\"\nimport PreviewScroller from \"./PreviewScroller\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    cols: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    col: {\n        flexGrow: 0,\n        flexShrink: 0,\n        flexBasis: 96,\n        boxShadow: theme.shadows[4],\n        overflow: \"hidden\",\n        transition: \".125s ease-out\",\n\n        position: \"relative\",\n\n        \"&:hover\": {\n            flexBasis: 96 * 2\n        },\n\n        \"& > *\": {\n            minHeight: \"100%\",\n        },\n\n        \"&[aria-expanded=true]\": {\n            flexGrow: 1,\n            width: \"auto\",\n        },\n\n    }\n\n}));\n\nconst PreviewCols = ({items = [], template = PreviewTemplate, onSelect}) => {\n\n    const [cols, setCols] = useState(items)\n    const [colIndex, setColIndex] = useState(items.length && items.length-1)\n\n    useEffect(() => {\n        console.log('items', items)\n        setCols(items)\n        setColIndex(items.length && items.length-1)\n    }, [items])\n\n    const _onColIndex = (index) => {\n        setColIndex(index)\n        onSelect && onSelect({\n            colIndex: index,\n            item: items[index]\n        })\n    }\n\n    const _onSelectChild = (parents, item) => {\n\n        const cols = [\n            ...parents,\n            item\n        ]\n\n        setColIndex(cols.length-1)\n\n        setCols([\n            ...parents,\n            item\n        ])\n\n        console.log('cols', cols)\n\n\n        onSelect && onSelect({parents, item})\n\n    }\n\n    const classes = useStyles()\n\n    const Template = template\n\n    const PreviewCol = ({item, index}) => {\n\n        const expanded = index == colIndex\n        const parents = cols.filter((parent, i) => i <= index)\n\n        return (\n            <div className={classes.col} aria-expanded={expanded} onClick={() => _onColIndex(index)}>\n                <PreviewScroller>\n                    <Template {...item} expanded={expanded} onSelect={(child) => _onSelectChild(parents, child)} />\n                </PreviewScroller>\n            </div>            \n        )\n\n        if (expanded) {\n        }\n\n        return (\n            <div className={classes.col} aria-expanded={expanded} onClick={() => _onColIndex(index)}>\n                <Template {...item} expanded={expanded} onSelect={(child) => _onSelectChild(parents, child)} />\n            </div>            \n        )\n    }\n\n    return (\n        <div className={classes.cols}>\n            {cols && cols.map((item, index) => <PreviewCol item={item} index={index} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default PreviewCols;","import React, { useEffect, useState } from \"react\"\nimport PreviewTemplate from \"./PreviewTemplate\"\nimport PreviewCols from \"./PreviewCols\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    rows: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\",\n        overflowY: \"scroll\"\n    },\n    row: {\n        position: \"relative\",\n        flexShrink: 0,\n        flexGrow: 0,\n        flexBasis: 36,\n        boxShadow: theme.shadows[4],\n        overflow: \"hidden\",\n        transition: \".125s ease-out\",\n\n        \"&:hover\": {\n            flexBasis: 96,\n\n            \"& > $header\": {\n                display: \"none\"\n            }\n\n        },\n\n        \"&[aria-expanded=true]\": {\n            flexGrow: 1,\n            flexBasis: \"auto\",\n        },\n    },\n    header: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        padding: theme.spacing(1, 2),\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst PreviewGrid = ({items = [], template = PreviewTemplate, onSelect, ...props}) => {\n\n    const [rows, setRows] = useState(items)\n    const [cols, setCols] = useState(props.cols || undefined)\n    const [rowIndex, setRowIndex] = useState(items.length && items.length-1)\n\n    useEffect(() => {\n        setRows(items)\n        setRowIndex(items.length && items.length-1)\n        setCols([items[items.length-1]])\n    }, [items])\n\n    useEffect(() => {\n        setCols(props.cols)\n    }, [props.cols])\n\n    const _onRowIndex = (index) => {\n        setRowIndex(index)\n        setCols([items[index]])\n\n        onSelect && onSelect({\n            rowIndex: index,\n            item: items[index]\n        })\n    }\n\n    const classes = useStyles()\n\n    const Template = template\n\n    const PreviewRow = ({item, index}) => {\n\n        const expanded = index == rowIndex\n\n        if (expanded) {\n\n            return (\n                <div className={classes.row} aria-expanded={expanded}>\n                    <PreviewCols items={[item]} template={template} onSelect={onSelect} />\n                </div>            \n            )\n\n        } else {\n\n            return (\n                <div className={classes.row} aria-expanded={expanded} onClick={() => _onRowIndex(index)}>\n                    <Template {...item} expanded={expanded} />\n                    <header className={classes.header}>{item.title}</header>\n                </div>            \n            )\n\n        }\n\n    }\n\n    return (\n        <div className={classes.rows}>\n            {rows && rows.map((item, index) => <PreviewRow item={item} index={index} key={index} />)}\n        </div>\n    )\n\n}\n\nexport default PreviewGrid;","import React from 'react';\nimport { ViewBase, ViewHeader, GalleryView, GalleryModule } from \"../components/PrimusView\"\n\nconst BulkPreviewGallery = ({title, items = []}) => {\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} />\n            <GalleryView mediaSize={200}>\n                { items && items.map((model, index) => {\n                    return (\n                        <GalleryModule {...model} key={index} />\n                    )\n                })}\n            </GalleryView>\n        </ViewBase>\n    )\n\n}\n\nexport default BulkPreviewGallery","import React from 'react';\nimport { ViewBase, ViewHeader, MasonryView, MasonryModule } from \"../components/PrimusView\"\n\nconst BulkPreviewMasonry = ({title, items = []}) => {\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} />\n            <MasonryView colSize={200} >\n                { items && items.map((model, index) => {\n                    return (\n                        <MasonryModule {...model} key={index} />\n                    )\n                })}\n            </MasonryView>\n        </ViewBase>\n    )\n\n}\n\nexport default BulkPreviewMasonry","import React, { useState, useEffect } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getPreview, getEditor, collapseEditor } from '../redux/finder';\n\nimport { \n    PreviewBase, \n    PreviewOptions, \n    PreviewJSON\n} from \"@kit-ui/admin\"\n\nimport PreviewGrid from \"../components/PrimusPreview/PreviewGrid\"\nimport PreviewList from \"./BulkPreviewList\"\nimport PreviewGallery from \"./BulkPreviewGallery\"\nimport PreviewMasonry from \"./BulkPreviewMasonry\"\n\nimport { schemasByName } from \"./schemas\"\nimport { getUiPreview } from \"./utils\"\n\nconst BulkPreview = () => {\n\n    const { t, i18n } = useTranslation('finder');\n\n    const bulk = useSelector(state => state.bulk)\n    const modelsById = useSelector(state => state.modelsById)\n    const dispatch = useDispatch()\n\n    const items = bulk.items && bulk.items.map(uniqueId => {\n\n        const model = modelsById[uniqueId] || {}\n\n        const image = model && model.content && model.content.media && model.content.media[0] && model.content.media[0].media\n        const mediaWidth = model && model.mediaWidth || image && image.mediaWidth\n        const mediaHeight = model && model.mediaHeight || image && image.mediaHeight\n\n        const documentType = model && model.documentType\n        const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType]\n    \n        const mediaType = model && model.mediaType\n        const mediaModel = mediaType && schemasByName && schemasByName[\"media/\" + mediaType]\n    \n        const collectionType = model && model.collectionType\n        const collectionModel = collectionType && schemasByName && schemasByName[\"collections/\" + collectionType]\n        \n        const schemaModel = documentModel || mediaModel || collectionModel\n    \n        const uiPreview = schemaModel && uniqueId && getUiPreview({...schemaModel, formData: model}) || {}\n    \n\n        return {\n            ...model,\n            ...uiPreview,\n            mediaWidth: mediaWidth,\n            mediaHeight: mediaHeight,\n            uniqueId: uniqueId,\n//            selected: true\n        }\n\n    })\n\n    // bulk\n\n    const bulkCount = bulk.count\n    const bulkTitle = t('{{count}} selected', {count: bulkCount})\n\n    // previewOptions\n\n    const previewOptions = [\n        /*\n        {\n            \"title\": \"Grid\",\n            \"value\": \"grid\",\n            \"template\": PreviewGrid\n        },\n        */\n        {\n            \"title\": \"List\",\n            \"value\": \"list\",\n            \"template\": PreviewList\n        },\n        {\n            \"title\": \"Gallery\",\n            \"value\": \"gallery\",\n            \"template\": PreviewGallery\n        },\n        {\n            \"title\": \"Masonry\",\n            \"value\": \"masonry\",\n            \"template\": PreviewMasonry\n        },\n        /*\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{items}</PreviewJSON> \n        }*/\n    ]        \n\n    // bulkAction\n\n    const _onBulkEdit = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Edit selected'),\n            \"model\": \"editor\"\n        }))\n        \n    }\n\n    const _onCreateReport = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Create report'),\n            \"model\": \"report\"\n        }))\n        \n    }\n\n    const bulkAction = {\n        \"title\": t(\"Action\"),\n        \"children\": [\n            {\n\n                \"icon\": \"edit\",\n                \"title\": t('Edit selected'),\n                \"onClick\": _onBulkEdit\n            },\n            {\n                \"icon\": \"trending_up\",\n                \"title\": t('Create report'),\n                \"onClick\": _onCreateReport\n            },\n            {\n                \"children\": [\n                    {\n                        \"title\": t('Export to {{format}}', {format: \"PDF\"})\n                    },\n                    {\n                        \"title\": t('Export to {{format}}', {format: \"Excel\"})\n                    }\n                ]\n            }\n            \n        ]\n\n    }\n    \n    // related\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n\n    return (\n        <PreviewBase>\n            <PreviewTemplate title={bulkTitle} viewAction={bulkAction} items={items} />\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n    )\n\n    return (\n        <PreviewGrid items={items} />\n    )\n\n}\n\nexport default BulkPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { bulkAdd, bulkRemove, bulkToggle, bulkReset } from '../redux/bulk';\nimport { getPreview, getEditor, collapseEditor } from '../redux/finder';\n\nimport { getModel, getArtifact, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\nimport qs from 'query-string';\n\nimport { ViewBase, ViewHeader } from \"../components/PrimusView\"\n\nimport ViewTemplate from \"./FinderView\"\n\nimport { SchemaBase } from '@kit-ui/schema';\n\n\nconst schema = {\n    \"type\": \"object\",\n    \"properties\": {\n        \"artist\": {\n            \"type\": \"string\"\n        },\n        \"dating\": {\n            \"type\": \"string\"\n        }\n    }\n}\n\nconst uiSchema = {\n    \"ui:options\": {\n        \"spacing\": 2\n    }\n\n}\n\nconst BulkEditor = ({title, ...props}) => {\n\n    const editOptions = [{\n        \"title\": \"Lagre\"\n    }]\n\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} viewOptions={editOptions} />\n\n            <SchemaBase schema={schema} uiSchema={uiSchema} />\n\n        </ViewBase>\n    )\n\n\n}\n\nBulkEditor.defaultProps = {\n}\n\nexport default BulkEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { expandHeader } from '../redux/app';\nimport { getParents } from '../redux/finder';\nimport { Loader } from \"../components/Loader\"\nimport icons from \"../icons\"\n\nconst FinderLoader = ({children}) => {\n\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const { isLoading, menuByUrl } = finder\n\n    const parent = menuByUrl[pathname] || finder.parent\n    const appIcon = icons[app.icon]\n\n    const title = parent && parent.title || app && app.title\n    const description = finder.isLoading && \"Loading finder ...\" || \"Finder loaded\"\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(expandHeader())\n        dispatch(getParents({url: pathname}))\n    }, [pathname, finder.isLoading, parent])\n\n\n    if (parent) {\n        return children\n    }\n\n    return <p>Loading</p>\n\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={appIcon}\n            title={title}\n            description={description}>\n                {children}\n        </Loader>\n    )\n\n}\n\nFinderLoader.defaultProps = {\n}\n\nexport default FinderLoader","import React, { useEffect } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from \"react-router-dom\";\n\nimport { toggleDarkMode } from \"../redux/app\"\n\nimport { FinderBase, FinderSidebar, FinderSection } from \"../components/Finder\"\nimport { AppInfo } from \"../components/App\"\nimport { NavMenu } from \"../components/NavMenu\"\nimport { NavAction } from \"../components/NavAction\"\n\nimport FinderQuery from \"./FinderQuery\"\n\nimport BulkPreview from \"./BulkPreview\"\nimport BulkEditor from \"./BulkEditor\"\nimport FinderLoader from \"./FinderLoader\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport icons from \"../icons/\"\n\nconst useStyles = makeStyles(theme => ({\n    action: {\n        minHeight: 96,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: theme.spacing(0, 3),\n        boxSizing: \"border-box\"\n    }\n}));\n\nconst PrimusFinder = (props) => {\n\n    const history = useHistory()\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const modelsById = useSelector(state => state.modelsById)\n\n    // primaryAction\n\n    const primaryAction = finder.primaryAction\n\n    // dark mixBlendMode: \n    \n    const _onToggleDarkMode = () => {\n        dispatch(toggleDarkMode())\n    }\n\n\n    // menu\n\n    const menu = finder.menu\n    const menuByUrl = finder.menuByUrl\n\n    const _onSelect = ({url}) => {\n        history.push(url)\n    }\n\n    // parent && query\n\n    const pathname = props.location.pathname\n    const parent = menuByUrl && menuByUrl[pathname] || {}\n\n    // bulk\n\n    const bulk = useSelector(state => state.bulk)\n    const bulkCount = bulk.count\n\n    // preview\n\n    const preview = {\n        expanded: bulkCount && true,\n    }\n\n    // editor\n\n    const editor = {\n        ...finder.editor,\n    }\n\n    // view\n\n    const view = {\n        expanded: !editor.expanded\n    }\n\n    // sidebar\n\n    let sidebar = finder.sidebar\n\n    if (preview.expanded || editor.expanded) {\n        sidebar = {\n            expanded: false\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <FinderLoader {...props}>\n            <FinderBase>\n                <FinderSidebar {...sidebar}>\n                    <NavAction className={classes.action} menu={[primaryAction]} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                    <NavMenu icons={icons} currentUrl={pathname} menu={menu} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                    <AppInfo {...app} icons={icons} onClick={_onToggleDarkMode} />\n                </FinderSidebar>\n                <FinderSection {...view}>\n                    <FinderQuery {...parent} />\n                </FinderSection>\n                <FinderSection {...preview}>\n                    <BulkPreview {...preview} />\n                </FinderSection>\n                <FinderSection {...editor}>\n                    <BulkEditor {...editor} />\n                </FinderSection>\n            </FinderBase>\n        </FinderLoader>\n    )\n\n}\n\nexport default PrimusFinder","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { requestModel, receiveModel, getModel } from \"../modelsById\"\nimport qs from 'query-string';\n\nconst editorSlide = createSlice({\n    name: 'editor',\n    initialState: {\n        modelName: undefined,\n        uniqueId: undefined,\n        isLoading: true,\n        isSaving: false,\n        formData: {},\n        formContext: {\n        },\n        dialog: {}\n    }, \n    reducers: {\n        requestEditor(state, action) {\n            const { modelName, uniqueId } = action.payload\n            return {\n                ...state,\n                isLoading: true,\n                modelName: modelName,\n                uniqueId: uniqueId,\n            }\n        },\n        receiveEditor(state, action) {\n            const { uniqueId, ...formData } = action.payload\n            return {\n                ...state,\n                isLoading: false,\n                formData: {\n                    uniqueId: uniqueId,\n                    ...formData\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                formContext: {\n                    ...state.formContext,\n                    parents: parents\n                }\n            }\n        },\n        requestChildren(state, action) {\n            return state            \n        },\n        receiveChildren(state, action) {\n            const { children } = action.payload\n            return {\n                ...state,\n                children: children,\n                formContext: {\n                    ...state.formContext,\n                    children: children\n                }\n            }\n        },\n        requestEdit(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                isLoading: true,\n                formData: {\n                    uniqueId: uniqueId\n                }\n            }\n\n        },\n        receiveEdit(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            if (uniqueId) {\n                return {\n                    ...state,\n                    uniqueId: uniqueId,\n                    formData: {\n                        ...formData,\n                        uniqueId: uniqueId\n                    }\n                }\n            } else {\n                return {\n                    ...state,\n                    formData: formData\n                }\n            }\n\n        },\n        requestSave(state, action) {\n           return {\n                ...state,\n                isSaving: true,\n                formContext: {\n                    ...state.formContext,\n                    isSaving: true\n                }\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            return {\n                ...state,\n                isSaving: false,\n                uniqueId: uniqueId,\n                formData: {\n                    ...formData,\n                    uniqueId: uniqueId\n                },\n                formContext: {\n                    ...state.formContext,\n                    isSaving: false\n                }\n            }\n        },\n        receiveChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData\n            }\n\n        },\n        receiveCurrentId(state, action) {\n            const { currentId } = action.payload\n            return {\n                ...state,\n                currentId: currentId,\n                formContext: {\n                    ...state.formContext,\n                    currentId: currentId,\n                }\n            }\n        },\n        receiveCurrentLocale(state, action) {\n            const { currentLocale } = action.payload\n            return {\n                ...state,\n                currentLocale: currentLocale,\n                formContext: {\n                    ...state.formContext,\n                    currentLocale: currentLocale,\n                }\n            }\n        },\n        requestDialog(state, action) {\n            return {\n                ...state,\n                dialog: {},\n            }\n        },\n        receiveDialog(state, action) {\n            const { id, schema, uiSchema, formData, onChange } = action.payload\n            return {\n                ...state,\n                dialog: {\n                    id: id,\n                    expanded: true,\n                    schema: schema,\n                    uiSchema: uiSchema,\n                    formData: formData,\n                    onChange: onChange\n                },\n            }\n        }        \n    }\n})\n\nexport const getEditor = ({modelName, uniqueId, ...formData}) => (dispatch) => {\n    dispatch(requestEditor({modelName, uniqueId}))\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    if (modelName && uniqueId) {\n        \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveEditor({...formData, modelName}))\n                dispatch(getModel({...formData, modelName}))\n            })\n\n    } else if (formData) {\n        dispatch(receiveEditor({...formData, modelName}))\n    }\n    \n}\n\n/** Edit model from uniqueId */\n\nexport const editModel = ({modelName = \"documents\", uniqueId, ...formData}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    if (uniqueId) {\n        dispatch(requestEdit({uniqueId}))\n        \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveEdit({...formData, modelName}))\n                dispatch(getModel({...formData, modelName}))\n            })\n\n    } else if (formData) {\n        dispatch(receiveEdit({...formData, modelName}))\n    }\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    dispatch(requestSave())\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave({...formData, modelName}))\n        dispatch(getModel({...formData, modelName}))\n    })\n\n}\n\nexport const { \n    requestEditor, receiveEditor, \n    requestParents, receiveParents,\n    requestChildren, receiveChildren,\n    receiveChange,\n    receiveCurrentId, \n    receiveCurrentLocale,\n    requestEdit, receiveEdit, \n    requestSave, receiveSave, \n    requestDialog, receiveDialog\n} = editorSlide.actions\n\nexport default editorSlide.reducer","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { getEditor } from '../redux/editor';\nimport { getParents } from '../redux/finder';\nimport { collapseHeader } from '../redux/app';\n\nimport { Loader } from \"../components/Loader\"\nimport EditorIcon from \"../icons/EditorIcon\"\n\nconst EditorLoader = ({formData = {}, children}) => {\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const editor = useSelector(state => state.editor)\n    const { isLoading, isSaving } = editor\n    \n    const title = \"Editor\"\n    const description = isLoading && \"Loading editor ...\" || \"Editor loaded\"\n\n    // app\n\n    const app = useSelector(state => state.app)\n\n    const iconColor = app.theme && app.theme.palette && app.theme.palette.primary.main\n    const icon = <EditorIcon color={iconColor} />\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(collapseHeader())\n        dispatch(getParents({url: pathname}))\n        dispatch(getEditor(formData))\n    }, [pathname])\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={icon}\n            title={title}\n            description={description}>\n                {!isLoading && children}\n        </Loader>\n    )\n\n}\n\nEditorLoader.defaultProps = {\n}\n\nexport default EditorLoader","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\n\nconst DialogBase = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <section className={classes.dialog}>\n            {children}\n        </section>\n    )\n}\n\nexport default DialogBase","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"absolute\",\n        zIndex: 2,\n        bottom: 0,\n        left: 0,\n        right: 0,\n\n        backgroundColor: \"inherit\",\n\n        \"& + *\": {\n            marginBottom: theme.spacing(8)\n        }\n\n    },\n    navigation: {\n        backgroundColor: \"inherit\",\n        width: \"100%\"\n    },\n}));\n\nconst Menu = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(8)\n    }\n}))(BottomNavigation);\n\nconst MenuItem = withStyles(theme => ({\n    root: {\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px !important\",\n    },\n    selected: {\n    },\n}))(BottomNavigationAction);\n\nconst DialogFooter = ({menu = [], tabIndex = 0}) => {\n \n    const classes = useStyles();\n\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (menu[index].onClick) {\n            menu[index].onClick()\n        }\n\n    }\n    \n    return (\n        <Paper component=\"footer\" elevation={4} square={true} className={classes.footer}>\n            <Menu \n                value={value} \n                onChange={handleChange}\n                showLabels\n                className={classes.navigation}>\n                    { menu && menu.map((item, index) => {\n                        return (\n                            <MenuItem {...item} key={index} />\n                        )\n                    })}\n            </Menu>\n        </Paper>\n    )\n}\n\nexport default DialogFooter","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        width: \"100%\",\n        height: \"64px\",\n        overflow: \"hidden\",\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n\n        paddingLeft: theme.spacing(8),\n        paddingRight: theme.spacing(8),\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"1\",\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"&:focus + *\": {\n            opacity: 1\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        left: \"0\",\n        margin: theme.spacing(1),\n        \"&[disabled]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    reset: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    }\n}));\n\nconst ButtonReset = ({className, onClick}) => {\n    return (\n        <IconButton className={className} onClick={onClick}>\n            <CloseIcon />\n        </IconButton>\n    )\n}\n\nconst ButtonToggle = ({className, disabled, onClick}) => {\n    return (\n        <IconButton disableRipple className={className} disabled={disabled} onClick={onClick}>\n            <SearchIcon />\n        </IconButton>\n    )\n}\n\nconst AppSearchDefault = ({className, variant, expanded = true, placeholder = \"Search\", q, onFocus, onChange, onToggle, onClose, onReset}) => {\n    const inputRef = useRef(null);\n    const classes = useStyles()\n\n    const _onToggle = (event) => {\n        onToggle && onToggle(event)\n    }\n\n    useEffect(() => {\n        expanded && inputRef.current.focus()\n    }, [expanded])\n\n    const _onChange = (event) => {\n        onChange && onChange(event.target.value, event);\n//        onFocus && onFocus(event)\n    }\n\n    const _onReset = () => {\n        if (inputRef.current && inputRef.current.value) {\n            inputRef.current.value = \"\"\n            onReset && onReset()\n        } else if (onClose) {\n            onClose()\n        }\n\n//        onReset && onReset()\n    }\n\n    return (\n        <div className={className || classes.search} aria-expanded={expanded}>\n            <ButtonToggle className={classes.toggle} onClick={_onToggle} disabled={!onToggle && true || false} />\n            <input ref={inputRef} className={classes.input} type=\"text\"\n                placeholder={placeholder}\n                onChange={_onChange} />\n            <ButtonReset className={classes.reset} onClick={_onReset} />\n        </div>\n    )\n}\n\nAppSearchDefault.propTypes = {\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default AppSearchDefault;","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport Typography from '@material-ui/core/Typography';\n\nconst DialogTabpanel = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(3),\n    },\n    indicator: {\n        bottom: \"auto\",\n        top: 0\n    },\n}))(Tabs);\n\nconst DialogTab = withStyles(theme => ({\n    root: {\n        textTransform: 'none',\n        letterSpacing: 0,\n        minWidth: 0,\n        minHeight: theme.spacing(3),\n        paddingLeft: 0,\n        paddingRight: 0,\n        marginLeft: 0,\n        marginRight: theme.spacing(2),\n        color: \"inherit\",\n        '&:hover': {\n          color: \"inherit\",\n          opacity: 1,\n        },\n        '&$selected': {\n          opacity: 1,\n        },\n        '&:focus': {\n          opacity: 1,\n        },\n    },\n    selected: {},\n\n}))(props => <Tab disableRipple label={<DialogLabel {...props} />} {...props} />);\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    },\n    title: {\n        fontWeight: \"bold\",\n    },\n    count: {\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(.5)\n    }\n\n}))\n\nconst DialogLabel = ({title, count}) => {\n\n    const classes = useStyles()\n\n    return (\n        <Typography className={classes.label}>\n            <b className={classes.title}>{title}</b>\n            { count && <i className={classes.count}>({count})</i> || \"\" }\n        </Typography>\n    )\n}\n\n\nconst DialogTabs = ({tabs = [], tabIndex = 0}) => {\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    }\n\n    return (\n        <DialogTabpanel\n            value={tabIndex || value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"inherit\">\n            { tabs && tabs.map((tab, index) => {\n                return (\n                    <DialogTab {...tab} value={index} key={index} />\n                )\n            })}\n        </DialogTabpanel>        \n    )\n\n}\n\nexport default DialogTabs;","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport DialogTabs from \"./DialogTabs\"\n\nimport { NavSettings } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"sticky\",\n        zIndex: 2,\n        top: 0,\n        padding: 0,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n//        minHeight: theme.spacing(4.5),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    tabs: {\n\n    },\n    settings: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        margin: theme.spacing(.75,.5)\n\n    }\n}))\n\nconst DialogHeader = ({tabs, tabIndex, settings}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            { tabs && <DialogTabs className={classes.tabs} tabs={tabs} tabIndex={tabIndex} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n}\n\n\nexport default DialogHeader;","import React, { useRef, useState, useEffect } from 'react';\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from \"lodash\"\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n    }\n}));\n\nconst DialogSection = ({height, onScroll, children}) => {\n    const classes = useStyles()\n\n    const parentRef = useRef()\n\n    const handleScroll = _.debounce((event) => {\n        onScroll && onScroll(event)\n    }, 500)\n\n    useEffect(() => {\n        const ph = parentRef.current && parentRef.current.offsetHeight\n        const ch = parentRef.current && parentRef.current.children && parentRef.current.children[0] && parentRef.current.children[0].offsetHeight\n\n        parentRef.current.addEventListener(\"scroll\", handleScroll);\n\n        if (ph < ch) {\n//            setOverflow(true)\n        }\n\n        return () => {\n            parentRef.current.removeEventListener(\"scroll\", handleScroll);\n        };\n\n    }, [children, height]);\n\n\n    return (\n        <section className={classes.section} ref={parentRef}>\n            {children}\n        </section>\n    )\n}\n\nexport default withResizeDetector(DialogSection)","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        color: theme.palette.text.secondary,\n        margin: theme.spacing(2),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary\n    }\n}));\n\nconst ResultsLoader = ({query = {}, results = {}, children}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const classes = useStyles()\n\n    const { models = [], count, rows } = results\n\n    let title;\n\n    const q = query.q && query.q.replace('*', '')\n\n    if (rows && !count) {\n        title = t('No hits')\n    } else if (!models.length) {\n        title = t('Searching, please wait', {q}) + \"...\";\n    }\n\n    if (title) {\n        return (\n            <div className={classes.loader}>\n                <Typography className={classes.title}>{title}</Typography>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default ResultsLoader","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        /*\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        */\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n        margin: theme.spacing(2),\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsFooter = ({start, rows, count, page, pages, nextPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!nextPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n    const label = t('Get results {{from}}–{{to}}', {from, to}) + \" ...\"\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(nextPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsFooter;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadModel } from '../redux/modelsById';\n\nimport { ListModule, TableModule, GalleryModule } from '@kit-ui/admin';\nimport { getUiPreview } from '@kit-ui/schema/lib';\n\nimport { useTranslation } from 'react-i18next';\nimport qs from 'query-string';\n\nconst layouts = {\n    \"table\": TableModule,\n    \"list\": ListModule,\n    \"gallery\": GalleryModule,\n}\n\nconst ModuleLoader = ({app, dialog, query, model, layout = \"table\", size = \"medium\", modelsSelected = [], onAdd, onRemove, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const schemasByName = {}\n\n    const modelsById = useSelector(state => state.modelsById)\n    const modelsBySource = {}\n\n    const { uniqueId, source, sourceId, documentType, mediaType } = model;\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(loadModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const appDocumentType = documentType && app && app.root + \"/\" + documentType\n    const sourceDocumentType = source && \"document/\" + source\n\n    let modelName = model.modelName === \"doc_schemas\" && \"schemas\" || model.modelName\n    let modelSchema;\n\n    if (modelName === \"users\") {\n        modelSchema = schemasByName['user']\n    } else if (modelName === \"sites\") {\n        modelSchema = schemasByName['site']\n    } else if (modelName === \"collections\") {\n        modelSchema = schemasByName['collection']\n    } else if (modelName === \"doc_schemas\") {\n        modelSchema = schemasByName['schema']\n    } else if (modelName === \"documents\" || documentType) {\n        if (schemasByName[appDocumentType]) {\n            modelSchema = schemasByName[appDocumentType]\n        } else if (source && schemasByName[sourceDocumentType]) {\n            modelSchema = schemasByName[sourceDocumentType]\n        } else if (documentType) {\n            modelSchema = schemasByName[documentType]\n        }\n    } else if (modelName === \"media\" || mediaType) {\n        modelSchema = mediaType && schemasByName[\"media/\"+mediaType]\n    }\n\n\n    const [preview, setPreview] = useState(model)\n\n    const getImageUrl = (model) => {\n        const { imageUrl, uploadStatus, uploadProgress } = model\n\n        const imageUrlParts = imageUrl && imageUrl.split(\"?\")\n        const imageParams = imageUrlParts && imageUrlParts[1] && qs.parse(imageUrlParts[1])\n\n        if (!imageParams) {\n            return imageUrl\n        }\n\n        const newImageParams = qs.stringify({\n            ...imageParams,\n            uploadStatus: uploadStatus,\n            uploadProgress: uploadProgress,\n            dimension: \"250x250\"\n        })\n\n        const newImageUrl = imageUrlParts[0] + \"?\" + newImageParams\n        \n        return newImageUrl\n\n    }\n\n    const uniqueModel = source && sourceId && modelsBySource && modelsBySource[source + \"/\" + sourceId] || uniqueId && modelsById && modelsById[uniqueId]; //  || model\n\n    useEffect(() => {\n        let uiPreview = {}\n\n        if (modelSchema && uniqueModel) {\n            uiPreview = getUiPreview({...modelSchema, formData: uniqueModel, formContext: {t:t}})\n        }\n\n        const newModel = {\n            ...uniqueModel,\n            ...model,\n            ...uiPreview,\n        }\n\n        const newImageUrl = getImageUrl(newModel)\n\n        setPreview({\n            ...newModel,\n            imageUrl: newImageUrl,\n        })\n\n    }, [uniqueModel])\n\n    const { status, createdAt, createdByName, updatedAt, updatedByName, deletedAt, deletedByName } = preview;\n\n    const author = deletedByName || updatedByName || createdByName || \"N/A\"\n    const datetime = deletedAt || updatedAt || createdAt\n\n    const statusLabel = t(\"status:\"+status || undefined)\n    const LayoutTemplate = layout && layouts[layout]\n\n    let selected;\n\n    if (source && sourceId) {\n        selected = modelsSelected && modelsSelected.includes(source + \"/\" + sourceId)\n    } else if (uniqueId) {\n        selected = modelsSelected && modelsSelected.includes(uniqueId)\n    }\n\n    const handleSelect = () => {\n\n        console.log(\"ADD/REMOVE\", uniqueModel)\n\n        if (selected) {\n            onRemove && onRemove(uniqueModel)\n        } else {\n            onAdd && onAdd(uniqueModel)\n        }\n\n    }\n\n    const selectable = uniqueModel && true || false\n    const onClick = selectable ? handleSelect : undefined\n\n    return (\n        <LayoutTemplate {...preview} size={size} \n            statusLabel={statusLabel} author={author} datetime={datetime}\n            selectable={selectable} selected={selected} onClick={onClick} />\n    )\n\n}\n\nexport default ModuleLoader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return <div>{children}</div>\n}\n\nconst ResultsList = ({layout = \"list\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <ListLayout padding={2}>\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                    )\n                })}\n            </ListLayout>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default ResultsList","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { Gallery } from \"@kit-ui/admin\"\n\nimport DialogModel from \"./DialogModel\"\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsHeader from \"./ResultsHeader\"\nimport ResultsFooter from \"./ResultsFooter\"\n\nconst LayoutGallery = ({children}) => {\n    return children\n}\n\n\nconst ResultsGallery = ({layout = \"gallery\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, mediaHeight = 120, mediaLayout = \"cover\", spacing = 1, padding = 2, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <Gallery padding={padding} spacing={spacing}>\n                { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                    let width, height;\n                        \n                    if (model.mediaWidth && model.mediaHeight) {\n                        width = model.mediaWidth\n                        height = model.mediaHeight\n                    } else if (model.imageWidth && model.imageHeight) {\n                        width = model.imageWidth\n                        height = model.imageHeight\n                    }\n\n                    model = {\n                        ...model,\n                        width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                        mediaHeight: mediaHeight,\n                        mediaLayout: mediaLayout\n                    }\n\n                    return (\n                        <DialogModel {...props} layout=\"gallery\" model={model} modelsSelected={selected} width={model.width} key={index} />\n                    )\n                })}\n            </Gallery>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )    \n}\n\nResultsGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    models: PropTypes.array \n}\n\nexport default ResultsGallery;","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary,\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        paddingTop: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\"\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ResultsHeader = ({resultsLoaded = [], count, start, rows, pages, page, onPage}) => {\n    const { t, i18n } = useTranslation('search');\n\n    rows = resultsLoaded.length;\n\n    let title;\n\n    if (count > rows) {\n        title = t('{{rows}} of {{count}} hits', { pages, page, count,rows });\n    } else {\n        title = t('{{count}} hits', { pages, page, count, rows });\n    }\n    \n    const classes = useStyles()\n\n    return (\n        <header className={classes.root}>\n            <Typography className={classes.title}>{title}</Typography>\n        </header>\n    )\n\n}\n\nexport default ResultsHeader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return children\n}\n\n\nconst ResultsUploads = ({layout = \"list\", query = {}, results = {}, ...props}) => {\n    const { uploads, resultsLoaded, selected } = results\n    const { t, i18n } = useTranslation('upload');\n\n    if (query.q) {\n\n        return (\n            <ResultsLoader {...props}>\n                <ListLayout padding={2} title=\"Searching uploads\">\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                        )\n                    })}\n                </ListLayout>\n                <ResultsFooter {...props} />\n            </ResultsLoader>\n        )\n        \n    }\n\n    if (!uploads.length) {\n        return false\n    }\n\n    const count = uploads.length;\n    const title = t('{{count}} new uploads today', {count});\n\n    return (\n        <ListLayout padding={2}>\n            { uploads && uploads.map((model, index) => {\n                return (\n                    <DialogModel {...props} model={model} modelsSelected={selected} layout=\"list\" key={index} />\n                )\n            })}\n        </ListLayout>\n    )\n\n}\n\nexport default ResultsUploads;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getMediaSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst MediaResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData || []\n        } else {\n            items = formData && [formData] || []\n        }\n\n        const selected = items.map(({media, mediaId}) => { \n\n            if (media.source && media.sourceId) {\n                return media.source + \"/\" + media.sourceId\n            }\n\n            return mediaId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n        \n        const item = getDefaultFormState(itemSchema, {\n            mediaId: model.uniqueId,\n            media: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { uniqueId, sourceId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n            console.log('sourceId', sourceId)\n\n            const source = {\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }\n\n            console.log('source', source)\n\n            dispatch(getMediaSource({\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    // remove\n\n    const removeItem = ({uniqueId, source, sourceId}) => {\n        return formData.filter(item => item.mediaId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                mediaId: undefined,\n                media: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nexport default MediaResults","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getDocumentSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils;\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery\n}\n\nconst DocumentsResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData || []\n        } else {\n            items = formData && [formData] || []\n        }\n\n        console.log('ITEMS', items)\n\n        const selected = items.map(({reference, referenceId}) => { \n\n            const uniqueId = reference && reference.uniqueId\n\n            if (reference.source && reference.sourceId) {\n                return reference.source + \"/\" + reference.sourceId\n            }\n\n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n\n        \n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        console.log(\"NEW\", newFormData)\n        onChange && onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    const addModel = (model) => {\n\n        console.log(itemSchema)\n\n        const item = getDefaultFormState(itemSchema, {\n            referenceId: model.uniqueId,\n            reference: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = formData && formData.length && [].concat(formData, item) || [item];\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { source, sourceId, uniqueId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n\n            console.log('sourceId', sourceId)\n\n            props.addDocumentSource({\n                ...model,\n                collectionId: query.collectionId\n            }, (model) => addModel(model))\n\n        } else if (source && uniqueId) {\n\n            delete model.uniqueId\n            \n            console.log('sourceId', sourceId)\n\n            dispatch(getDocumentSource({\n                ...model,\n                sourceId: uniqueId,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.referenceId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                referenceId: undefined,\n                reference: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )    \n\n}\n\nexport default DocumentsResults","import React, { useState, useEffect } from 'react';\nimport { getDefaultFormState } from '@kit-ui/schema/lib';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst SearchResultsDefault = ({schema, formData, onChange, query = {}, results = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData\n        } else {\n            items = [formData]\n        }\n\n        const selected = items.map(({uniqueId}) => { \n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n\n        const item = getDefaultFormState(itemSchema, {\n            uniqueId: model.uniqueId,\n            model: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        addModel(model)\n    }\n\n    // remove\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.uniqueId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                uniqueId: undefined,\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            results={{\n                ...results,\n                selected: modelsSelected\n            }}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        searchByUrl: state.searchByUrl,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(SearchResultsDefault);","import React from 'react';\n\nimport MediaResults from \"./MediaResults\"\nimport DocumentsResults from \"./DocumentsResults\"\nimport ResultsDefault from \"./SearchResultsDefault\"\n\nconst templates = {\n    \"default\": ResultsDefault,\n    \"media\": MediaResults,\n    \"youtube\": MediaResults,\n    \"vimeo\": MediaResults,\n    \"sketchfab\": MediaResults,\n    \"documents\": DocumentsResults,\n    \"ekultur\": DocumentsResults\n}\n\nconst SearchResults = ({query = {}, ...props}) => {\n\n    const ResultsTemplate = query.models && templates && templates[query.models] || templates['default']\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {query.models}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            query={query} />\n    )\n\n    \n}\n\nexport default SearchResults","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\nimport _ from \"lodash\"\n\nconst SearchDialog = ({schema, formData, onChange, onClose, query = {}, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    console.log('query', query)\n\n    // user query\n\n    const [userQ, setUserQ] = useState(\"\")\n\n    const handleQuery = _.debounce((q, event) => {\n        setUserQ(q)\n    }, 500)\n\n    const handleReset = () => {\n\n        if (q) {\n            console.log(\"SearchDialog:reset\")\n            setUserQ(\"\")\n        } else {\n            console.log(\"SearchDialog:close\")\n            onClose && onClose()\n        }\n    }\n\n    // set q\n\n    let q\n\n    if (query.q && userQ) {\n        q = query.q + \" \" + userQ.trim() + \"*\";\n    } else if (userQ) {\n        q = userQ.trim() + \"*\"\n    } else if (query.q) {\n        q = query.q\n    }\n\n    // sort\n\n    const sortOptions = [\n        \"updatedAt DESC\",\n        \"title\", \n    ]\n\n    const [sort, setSort] = useState(sortOptions[0])\n\n    const sortSettings =  {\n        \"name\": \"sort\",\n        \"value\": sort,\n        \"onChange\": (name, value) => setSort(value),\n        \"options\": sortOptions.map(value => {\n            return {\n                label: t(\"sort:\"+value || value),\n                value: value\n            }\n        })\n    }\n\n    // base query\n\n    query = {\n        ...query,\n        url: \"/dialog/search\",\n        start: 0,\n        rows: 20,\n        sort: sort,\n        status: \"NOT trash\",\n        fl: \"uniqueId,source,sourceId,documentType,mediaType,imageUrl,title,description,status,mediaWidth,mediaHeight,updatedAt,updatedByName\",\n        q: q,\n    }\n\n    // dm\n\n    const dmOwnerOptions = [\n        \"*\",\n        \"AHS\",\n        \"NF\", \n    ]\n\n    const [dmOwner, setDmOwner] = useState(dmOwnerOptions[0])\n\n    const dmOwnerSettings =  {\n        \"name\": \"dmOwner\",\n        \"value\": dmOwner,\n        \"onChange\": (name, value) => setDmOwner(value),\n        \"options\": dmOwnerOptions.map(value => {\n            return {\n                label: \"owner:\" + value,\n                value: value\n            }\n        })\n    }\n\n\n    const getMediaSource = (source) => {\n        const queryUrl = query.url + \"/\" + source + \"/\" + query.q\n\n        return {\n            title: \"media/\" + source,\n            layout: \"gallery\",\n            query: {\n                url: queryUrl,\n                models: source,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n\n    }\n\n    const getMediaType = (mediaType) => {\n        const queryUrl = query.url + \"/\" + mediaType + \"/\" + query.q\n\n        return {\n            title: \"media/\" + mediaType,\n            layout: mediaType.includes(\"audio\") && \"list\" || \"gallery\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: queryUrl,\n                mediaType: mediaType\n            }\n        }\n\n    }\n\n    const getMediaSections = () => {\n\n        let mediaTypes = []\n\n        if (Array.isArray(query.mediaType)) {\n            mediaTypes = query.mediaType\n        } else if (query.mediaType) {\n            mediaTypes = [query.mediaType]\n        } else if (query.models === \"media\") {\n            mediaTypes = ['image*','video*','audio*']\n        }\n\n        return mediaTypes && mediaTypes.map(mediaType => {\n            if (mediaType === \"youtube\" || mediaType == \"vimeo\" || mediaType === \"sketchfab\") {\n                return getMediaSource(mediaType)\n            } else {\n                return getMediaType(mediaType)\n            }\n        })\n\n    }\n\n    // get documentSections\n\n    const getDocumentSource = (source) => {\n        return {\n            title: \"documents/\" + source,\n            layout: \"list\",\n            settings: [\n                dmOwnerSettings\n            ],\n            query: {\n                models: source,\n                url: query.url + \"/\" + source + \"/\" + query.q,\n                owner: dmOwner,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n        \n    }    \n\n    const getDocumentType = (documentType) => {\n        return {\n            title: \"documents/\" + documentType,\n            layout: \"list\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: query.url + \"/\" + documentType + \"/\" + query.q,\n                documentType: documentType\n            }\n        }\n    }\n\n    const getDocumentSections = () => {\n        let documentTypes = []\n\n        if (Array.isArray(query.documentType)) {\n            documentTypes = query.documentType\n        } else if (query.documentType) {\n            documentTypes = [query.documentType]\n        } else if (query.models === \"documents\") {\n            documentTypes = ['*']\n        }\n\n        return documentTypes && documentTypes.map(documentType => {\n            if (documentType === \"ekultur\") {\n                return getDocumentSource(documentType)\n            } else {\n                return getDocumentType(documentType)\n            }\n        })   \n\n    }\n\n\n    let sections = []\n\n    if (query.models === \"media\") {\n        sections = getMediaSections()\n    } else if (query.models === \"documents\") {\n        sections = getDocumentSections()\n    } else if (query.models === \"ekultur\") {\n        sections = [getDocumentSource(\"ekultur\")]\n    } else if (query.models) {\n        sections = [\n            {\n                title: query.models,\n                query: {\n                    ...query,\n                    models: query.models,\n                    url: query.url + \"/\" + query.models + \"/\" + query.q,\n                }\n            }\n        ]\n    }\n    // get tabs\n\n    const [tabIndex, setTabIndex] = useState(0)\n    const currentTab = sections[tabIndex]\n\n    // get search count\n\n    const getSearchCount = () => {\n        sections.map((section, index) => {\n            const { query } = section;\n\n            if (query.models === \"media\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n            if (query.models === \"documents\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n        })\n        \n    }\n\n    // setup tabs\n\n    const handleTab = (index) => {\n        setTabIndex(index)\n    }\n\n    const tabs = sections.map((section, index) => {\n        const { title, query } = section;\n\n        const currentSearch = searchByUrl && searchByUrl[query.url]\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n        \n        let count;\n\n        if (section.layout === \"uploads\") {\n            count = section.count\n        } else if (currentSearch && currentSearch.count) {\n            count = currentSearch && currentSearch.count\n        } else if (resultsLoaded && resultsLoaded.length && currentSearch.nextToken) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length + \"+\";\n        } else if (resultsLoaded && resultsLoaded.length) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length;\n        }\n\n        return {\n            title: t(title),\n            count: count,\n            onClick: () => handleTab(index)\n        }\n\n    })\n\n    const getSearch = () => {\n        currentTab && currentTab.query && dispatch(getQuery(currentTab.query))\n    }\n\n    useEffect(() => {\n        getSearch()\n    }, [tabIndex, query.q, query.sort, dmOwner])\n\n    // current query and search \n\n    const currentQuery = currentTab && currentTab.query\n    const currentSearch = currentQuery.url && searchByUrl && searchByUrl[currentQuery.url];\n\n    useEffect(() => {\n        getSearchCount()\n    }, [query.q])\n\n    // handle page\n\n    const handlePage = (page) => {\n        dispatch(getQuery({\n            ...currentQuery,\n            page: page,\n            start: currentQuery.rows * (page-1),\n            nextToken: currentSearch && currentSearch.nextToken\n        }))\n    }\n\n    // pages\n    \n    const [pages, setPages] = useState(0)\n    const [currentPage, setCurrentPage] = useState(0)\n    const [nextPage, setNextPage] = useState(0)\n\n    const getPages = () => {\n        const pages = Math.ceil(currentSearch.count/currentSearch.rows)\n        const page = Math.ceil((currentSearch.start+currentSearch.rows)/currentSearch.rows)\n\n        setPages(pages)\n        setCurrentPage(page)\n\n        let nextPage = 0\n\n        for (let p = page; p <= pages; p++) {\n            if (!currentSearch.resultsByPage[p]) {\n                nextPage = p\n                break\n            }\n        }    \n\n        setNextPage(nextPage)\n    \n    }\n\n    useEffect(() => {\n        currentSearch && currentSearch.count && getPages()\n    }, [currentSearch])\n\n    // search\n\n    let search = {\n        placeholder: \"Search\"\n    }\n\n    if (!search.placeholder) {\n\n        if (tabs.length === 1 && currentQuery.models === \"media\" && currentQuery.mediaType) {\n            search.placeholder = t(\"Search media/\" + currentQuery.mediaType)\n        } else if (tabs.length === 1 && currentQuery.models === \"ekultur\" ) {\n            search.placeholder = t(\"Search ekultur\")\n        } else if (query.models === \"media\") {\n            search.placeholder = t(\"Search media\")\n        } else if (query.models === \"documents\") {\n            search.placeholder = t(\"Search documents\")\n        } else {\n            search.placeholder = t(\"Search models\")\n        }\n\n    }\n\n    return (\n        <DialogBase>\n            <DialogSection>\n                <DialogSearch \n                    {...search} \n                    expanded={true}\n                    onChange={handleQuery}\n                    onClose={onClose}\n                    onReset={handleReset} />\n                <DialogHeader \n                    tabs={tabs}\n                    tabIndex={tabIndex}\n                    settings={currentTab && currentTab.settings} />\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={currentQuery}\n                    layout={currentTab && currentTab.layout}\n                    search={currentSearch}\n                    results={{\n                        ...currentSearch,\n                        pages: pages,\n                        page: currentPage,\n                        nextPage: nextPage\n                    }}\n                    onPage={handlePage}                    \n                    />\n            </DialogSection>\n        </DialogBase>        \n    )\n\n}\n\n\nexport default SearchDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport SearchDialog from \"./SearchDialog\"\n\nconst FavouritesDialog = ({query, favourites, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const search = {\n        placeholder: t('Search favorites')\n    }\n\n    const getFavouritesQuery = (uniqueIds = []) => {\n\n        if (uniqueIds.length) {\n            return {\n                ...query,\n                q: \"uniqueId:\" + uniqueIds.join(\" OR \")\n            }\n        } else {\n            return {\n                ...query,\n                q: \"uniqueId:false\"\n            }\n\n        }\n\n        return query\n\n    }\n\n    if (query.models && favourites[query.models]) {\n        query = getFavouritesQuery(favourites[query.models])\n    }\n\n    return (\n        <DialogBase>\n            <SearchDialog query={query} search={search} {...props} />\n        </DialogBase>\n    )\n\n}\n\nFavouritesDialog.defaultProps = {\n    favourites: {\n        media: [],\n        documents: []\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(FavouritesDialog);","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\nimport EXIF from 'exif-js';\nimport * as mm from 'music-metadata-browser';\n\nimport { receiveModel, receiveModelProps } from \"../modelsById/\"\n\nconst uploadByUrlSlice = createSlice({\n    name: 'upload',\n    initialState: {\n    }, \n    reducers: {\n        requestUpload(state, action) {\n            const { url, requested } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n//                    acceptedFiles: acceptedFiles,\n//                    rejectedFiles: rejectedFiles,\n                    requested: requested,\n                    received: 0,\n                    count: 0,\n                    resultsLoaded: []\n                }\n            }\n        },\n        receiveUpload(state, action) {\n            const { url, results } = action.payload\n\n            return state\n        },\n        requestUploadModel(state, action) {\n            const { url, model } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n//                    received: state[id].received + 1,\n                }\n            }\n            \n        },\n        receiveUploadModel(state, action) {\n            const { url, model } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    count: state[url].count + 1,\n                    resultsLoaded: [\n                        ...state[url].resultsLoaded,\n                        model\n                    ]\n                }\n            }\n        },\n        receiveUploadProgress(state, action) {\n            const { url, progress } = action.payload\n\n            return state\n            \n        },\n        receiveUploadStatus(state, action) {\n            const { url, status } = action.payload\n\n            return state\n        }\n    }\n})\n\nexport const getUpload = ({url, acceptedFiles = [], uploadData = { status: \"upload\" }}) => dispatch => {\n\n    const requested = acceptedFiles.length || 0\n\n    dispatch(requestUpload({url, requested}))\n\n    acceptedFiles && acceptedFiles.map((file, index) => {\n//      dispatch(requestUploadModel({id}))\n        dispatch(getUploadUrl({url, file, uploadData}))\n    })\n\n}\n\nexport const getUploadUrl = ({url, file, uploadData = {}}) => dispatch => {\n\n    console.log('getUploadMetadata', file)\n\n    const { name, type, size } = file\n\n    uploadData = {\n        ...uploadData,\n        title: uploadData.title || name,\n        filename: name,\n        mimeType: type,\n        mediaSize: size,\n        content: {\n            ...uploadData.content,\n            title: name,\n            filename: name\n        }\n    }\n\n    // where to upload?\n\n    let apiUrl = API + '/admin/api/media/upload';\n  \n    if (type.startsWith('image/')) {\n        apiUrl = apiUrl + '/image'\n    } else if (type.startsWith('video/')) {\n        apiUrl = apiUrl + '/video'\n    } else if (type.startsWith('audio/')) {\n        apiUrl = apiUrl + '/audio'\n    } else {\n        apiUrl = apiUrl + '/misc'\n    }\n\n    console.log('apiUrl', apiUrl);\n\n    const payload = JSON.stringify(uploadData);\n\n    fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: payload\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(model => dispatch(getUploadData({url, file, model})))        \n\n}\n\n\n\nexport const getUploadData = ({url, file, model}) => dispatch => {\n\n    // uniqueId + uploadUrl\n\n    const { uniqueId, uploadUrl } = model;\n\n    dispatch(receiveUploadModel({url, model}))\n    dispatch(receiveModel(model))\n\n    const _onStatus = (event) => {\n        let uploadProgress;\n\n        if (event && event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n    \n        const apiUrl = API + '/admin/api/media/upload/status/' + uniqueId\n    \n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(model => {\n            dispatch(receiveUploadStatus({uniqueId, model}))\n        })\n\n    }\n\n    const _onProgress = (event) => {\n        let uploadProgress;\n\n        if (event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n\n        dispatch(receiveModelProps({uniqueId, uploadProgress}))\n\n//        dispatch(receiveUploadProgress({uniqueId, uploadProgress}))\n    \n    }\n\n\n    // do the upload\n\n    let payload = new FormData();\n    payload.append('file', file);\n\n    var xhr = new XMLHttpRequest();\n//    onLoadStart && xhr.upload.addEventListener(\"load\", (event) => _onLoadStatus(event), false);\n        xhr.upload.addEventListener(\"progress\", (event) => _onProgress(event), false);\n//    onAbort && xhr.upload.addEventListener(\"abort\", (event) => _onAbort(event), false);\n//    onError && xhr.upload.addEventListener(\"error\", (event) => _onError(event), false);\n//    onLoad && xhr.upload.addEventListener(\"load\", (event) => _onLoad(event), false);\n//    onTimeout && xhr.upload.addEventListener(\"timeout\", (event) => _onTimeout(event), false);\n//    onLoadEnd && xhr.upload.addEventListener(\"loadend\", (event) => _onLoadEnd(event), false);\n    xhr.open(\"POST\", uploadUrl);\n    xhr.send(payload);\n\n\n//    getUploadModel({id, file, uploadData, callback: (props) => dispatch(handleUpload(props))})\n\n}\n\n\n\nexport const { requestUpload, requestUploadModel, receiveUploadModel, receiveUploadStatus, receiveUploadProgress } = uploadByUrlSlice.actions\nexport default uploadByUrlSlice.reducer","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst DialogUpload = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nDialogUpload.propTypes = {\n    onUpload: PropTypes.func\n}\n\nDialogUpload.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default DialogUpload","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getUpload } from '../redux/uploadByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\nimport DialogUpload from \"./DialogUpload\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\n\nconst UploadDialog = ({schema, formData, onChange, onClose, query, upload, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const uploadByUrl = {}\n\n    const [q, setQ] = useState(\"\")\n\n    const handleQuery = (q) => {\n        setQ(q)\n    }\n\n    const handleReset = () => {\n        if (q) {\n            setQ(\"\")\n        } else if (onClose) {\n            onClose()\n        }\n    }\n\n    const search = {\n        placeholder: t(\"Search uploads\"),\n    }\n\n    // handle upload\n\n    const [uploadSession, setUploadSession] = useState(false)\n\n    const handleUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: query.collectionId,\n            status: \"upload\"\n        }\n\n        dispatch(getUpload({\n            id: upload.id,\n            session: uploadSession,\n            acceptedFiles,\n            uploadData\n        }))\n\n\n//        props.getUpload({id: upload.id, session: uploadSession, acceptedFiles, uploadData})\n\n        setUploadSession(true)\n\n    }\n    \n    // current uploads \n\n    const currentUpload = upload.id && uploadByUrl && uploadByUrl[upload.id];\n    const uploadModels = currentUpload && currentUpload.models \n\n    const uploadResults = uploadModels && q && uploadModels.filter((model) => { \n        const { title } = model\n\n        if (title.includes(q)) {\n            return true\n        }\n\n        return false\n    }) || uploadModels\n\n\n    let placeholder = t(\"Search uploads\")\n\n    const tabs = uploadResults && [\n        {\n            title: t(\"media\"),\n            count: uploadResults.length             \n        }\n    ]\n\n    return (\n        <DialogBase>\n           <DialogSection>\n                <DialogSearch {...search} \n                    placeholder={placeholder}\n                    expanded={uploadResults && true}\n                    onChange={handleQuery}\n                    onReset={handleReset}\n                    \n                />\n                <DialogHeader tabs={tabs}></DialogHeader>\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={query}\n                    layout=\"uploads\"\n                    results={{\n                        ...currentUpload,\n                        uploads: uploadResults || [],\n//                        resultsLoaded: currentUpload && currentUpload.models,\n//                        pages: pages,\n//                        page: currentPage,\n//                        nextPage: nextPage\n                    }}\n                />\n                <DialogUpload \n                    {...upload} \n                    currentUpload={currentUpload} expanded={!currentUpload} onUpload={handleUpload} onCancel={handleReset}></DialogUpload>\n            </DialogSection>\n       </DialogBase>        \n    )\n\n}\n\nUploadDialog.defaultProps = {\n    upload: {\n        id: \"/dialog/upload\",\n        accept: [\n            \"image/*\",\n        ],\n    },\n    query: {\n//        mediaType: \"*\"\n    }\n}\n\nexport default UploadDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogFooter from \"./DialogFooter\"\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport FavouriteIcon from '@material-ui/icons/Favorite';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport UploadDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Badge from '@material-ui/core/Badge';\n\n\nimport SearchDialog from \"./SearchDialog\"\nimport FavoritesDialog from './FavouritesDialog';\nimport UploadDialog from \"./UploadDialog\"\n\nconst MediaDialog = ({query, favourites, uploadByUrl, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const [template, setTemplate] = useState(\"search\")\n\n    // get mediaTypes\n\n    let mediaTypes = []\n\n    if (Array.isArray(query.mediaType)) {\n        mediaTypes = query.mediaType\n    } else if (query.mediaType) {\n        mediaTypes = [query.mediaType]\n    } else if (query.models === \"media\") {\n        mediaTypes = ['image*','video*','audio*']\n    }\n\n    // get upload\n\n    let upload = {\n        id: \"/dialog/upload\",\n        accept: []\n    }\n\n    mediaTypes && mediaTypes.map(mediaType => {\n\n        if (mediaType.includes('image')) {\n            upload.accept.push('image/*')\n        }\n    \n        if (mediaType.includes(\"video\")) {\n            upload.accept.push('video/*')\n        }\n    \n        if (mediaType.includes(\"audio\")) {\n            upload.accept.push('audio/*')\n        }\n    \n    })    \n\n    const mediaFavourites = favourites && favourites[\"media\"] && favourites[\"media\"].length\n    const mediaUploads = uploadByUrl && uploadByUrl[upload.id] && uploadByUrl[upload.id].models\n\n    const FavouriteBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaFavourites && true} color=\"primary\">\n                <FavouriteIcon />\n            </Badge>\n        )\n    }\n\n    const UploadBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaUploads && true} color=\"primary\">\n                { mediaUploads && <UploadDoneIcon /> || <UploadIcon /> }\n            </Badge>\n        )\n    }\n\n    const menu = [\n        {\n            label: t(\"Search\"),\n            icon: <SearchIcon />,\n            onClick: () => setTemplate('search')\n        },\n        {\n            label: t(\"Favorites\"),\n            icon: <FavouriteBadge />,\n            onClick: () => setTemplate('favourites')\n        },\n        {\n            label: t(\"Upload\"),\n            icon: <UploadBadge />,\n            onClick: () => setTemplate('upload')\n        }\n    ]\n\n    return (\n        <DialogBase>\n            <DialogFooter menu={menu} />\n            { template === \"search\" && <SearchDialog query={query} {...props} /> }\n            { template === \"favourites\" && <FavoritesDialog query={query} favourites={favourites} {...props} /> }\n            { template === \"upload\" && <UploadDialog upload={upload} query={query} {...props} /> }\n        </DialogBase>\n    )\n\n}\n\nMediaDialog.defaultProps = {\n    query: {\n        models: \"media\",\n        mediaType: \"*\"\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(MediaDialog);","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SearchDialog from \"./SearchDialog\"\n\nconst DocumentsDialog = ({schema, formData, ...props}) => {\n\n    return (\n        <SearchDialog schema={schema} formData={formData} {...props} />\n    )\n\n}\n\nDocumentsDialog.defaultProps = {\n    query: {\n        models: \"documents\",\n        documentType: \"*\"\n    }\n}\n\nexport default DocumentsDialog","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from '../redux/app';\n\nimport MediaDialog from \"./MediaDialog\"\nimport DocumentsDialog from \"./DocumentsDialog\"\nimport SearchDialog from \"./SearchDialog\"\n\nimport { utils } from '@kit-ui/schema';\nconst  { getUiOptions } = utils\n\nconst templates = {\n    \"media\": MediaDialog,\n    \"documents\": DocumentsDialog,\n    \"search\": SearchDialog\n}\n\nconst EditorDialog = (props) => {\n    const dispatch = useDispatch()\n\n    console.log(\"DIALOG\", props)\n\n    const { schema = {}, uiSchema = {}, onChange, onClose } = props;\n\n    const [formData, setFormData] = useState(props.formData)\n\n    useEffect(() => {\n        setFormData(props.formData)\n    }, [props.formData])\n\n    const _onChange = (formData) => {\n        setFormData(formData)\n        onChange(formData);\n    }\n\n    const _onClose = () => {\n        console.log('Dialog:onClose')\n        onClose && onClose()\n    }\n\n    const app = useSelector(state => state.app)\n\n    let itemSchema;\n\n    if (schema && schema.type === \"array\") {\n        itemSchema = schema.items\n    } else if (schema) {\n        itemSchema = schema\n    }\n\n    const getReferenceQuery = (query) => {\n        const documentSchema = itemSchema && itemSchema.properties && itemSchema.properties.reference\n        const documentType = documentSchema && documentSchema.properties.documentType\n    \n        query.documentType = \"*\"\n    \n        if (documentType && documentType.enum) {\n            query.documentType = documentType.enum\n        }\n    \n        if (documentType && documentType.default) {\n            query.documentType = documentType.default\n        }\n\n        return {\n            ...query,\n            models: \"documents\"\n        } \n        \n    }\n\n    const getMediaQuery = (query) => {\n        const mediaSchema = itemSchema && itemSchema.properties && itemSchema.properties.media\n        const mediaType = mediaSchema && mediaSchema.properties.mediaType\n    \n//        query.mediaType = \"*\"\n\n        if (mediaType && mediaType.enum) {\n            query.mediaType = mediaType.enum\n        }\n    \n        if (mediaType && mediaType.default) {\n            query.mediaType = mediaType.default\n        }\n\n        return {\n            ...query,\n            models: \"media\"\n        }\n        \n    }\n\n    const getQuery = () => {\n\n        const uiOptions = uiSchema && getUiOptions(uiSchema)\n\n        const { dialog } = uiOptions\n\n        if (dialog && dialog.query) {\n            return {\n                ...dialog.query,\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            }\n        }\n\n\n        if (itemSchema.properties && itemSchema.properties.referenceId) {\n            return getReferenceQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        if (itemSchema.properties && itemSchema.properties.mediaId) {\n            return getMediaQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        return {\n        }\n\n    }\n\n    const query = getQuery()\n    const template = query.models;\n\n    const DialogTemplate = template && templates[template]; // || templates[\"search\"]\n\n    if (!DialogTemplate) {\n        return (\n            <div>\n                Missing template for {JSON.stringify(props)}.\n                <button onClick={onClose}>Close</button>\n            </div>\n        )\n    }\n\n    return (\n        <DialogTemplate query={query} schema={schema} formData={formData} onChange={_onChange} onClose={_onClose} /> \n    )\n\n}\n\nexport default EditorDialog","import React from \"react\"\n\nimport Dialog from \"../Dialog/Dialog\"\n\n\nconst EditorDialog = (props) => {\n\n    const { expanded, schema = {}, uiSchema = {}, formData = {}, formContext, onChange, onClose } = props\n\n    if (!expanded) {\n        return false\n    }\n\n    return <Dialog {...props} />\n\n    const _addImage = () => {\n        onChange && onChange({\n            mediaId: 1,\n            media: {\n                mediaType: \"image\",\n                imageUrl: \"https://akamai.vgc.no/drfront/images/2020/09/22/c=144,24,404,232;w=362;h=208;557008.jpg\"\n            }\n        })\n    }\n\n    return (\n        <div>\n            {JSON.stringify(schema)}\n            {JSON.stringify(formData)}\n\n            <button onClick={() => _addImage()}>Add img</button>\n\n            <button onClick={() => onClose()}>Close</button>\n\n        </div>\n    )\n\n\n}\n\nexport default EditorDialog","import React, { useEffect, useState } from \"react\"\nimport { SchemaBase } from \"@kit-ui/schema\"\n\nimport registry from \"../components/registry\"\n\nimport Form from \"@rjsf/core\";\n\nimport { schemasByName } from \"./schemas\"\n\n\nconst Editor = ({formData, formContext, onChange, onSubmit}) => {\n\n\n    // get model\n\n    const { documentType, mediaType, collectionType } = formData\n\n    const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType]\n    const mediaModel = mediaType && schemasByName && schemasByName[\"media/\" + mediaType]\n    const collectionModel = collectionType && schemasByName && schemasByName[\"collections/\" + collectionType]\n    \n    const model = documentModel || mediaModel || collectionModel || {}\n\n    // get schema + uiSchema\n\n    const { schema, uiSchema } = model\n    \n    return (\n        <SchemaBase\n            {...registry}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={onChange}\n            onSubmit={onSubmit}\n            />\n    )\n\n    return (\n        <Form\n            {...registry}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={onChange}\n            onSubmit={onSubmit}\n            />\n    )\n    \n\n}\n\nexport default Editor;","import React, { useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport { editModel, saveModel, receiveChange } from '../redux/editor';\n\nimport EditorLoader from \"./EditorLoader\"\nimport EditorDialog from \"./EditorDialog\"\nimport EditorSchema from \"./EditorSchema\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst Editor = ({formData, ...props}) => {\n\n    const history = useHistory()\n    const location = useLocation()\n    const dispatch = useDispatch()\n\n    // onChange\n\n    const _onChange = ({formData}) => {\n        dispatch(receiveChange({formData}))\n    }\n\n    const _onSubmit = ({schema, uiSchema, formData}) => {\n\n        if (formData.status === \"copy\") {\n            delete formData.id\n            delete formData.uniqueId\n            formData.status = \"new\"\n        }\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n\n        formData = {\n            ...formData,\n            ...uiPreview,\n        }\n\n        dispatch(saveModel(formData))\n\n    }    \n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const editor = useSelector(state => state.editor)\n\n    const { isLoading, isSaving, uniqueId } = editor\n\n    // uniqueId has changed\n\n    const [prevUniqueId, setPrevUniqueId] = useState(undefined)\n\n    useEffect(() => {\n\n        if (isSaving) {\n            setPrevUniqueId(uniqueId)\n        } else if (!isSaving && prevUniqueId && prevUniqueId !== uniqueId) {\n\n            console.log('isSaving', isSaving)\n\n            if (formData.uniqueId !== editor.uniqueId && location.pathname.includes(\"/create\")) {\n                const editUrl = location.pathname.replace(\"/create\", \"/:uniqueId/edit\")\n                const newLocation = editUrl.replace(\":uniqueId\", editor.uniqueId)\n                history.replace(newLocation);\n            }\n    \n        }\n\n\n\n    }, [isSaving])\n\n\n    // currentId, hashId toggling\n\n    const hashId = location.hash && location.hash.replace('#','') || undefined\n\n    const [currentId, setCurrentId] = useState(hashId)\n\n    /*\n    useEffect(() => {\n        setCurrentId(hashId)\n    }, [hashId])\n    */\n\n    const _onCurrentId = (currentId) => {\n        setCurrentId(currentId)\n        const hashUrl = location.pathname + \"#\" + currentId; \n        history.replace(hashUrl);\n    }\n\n    const _onToggle = ({id, ...props}) => {\n        console.log('onToggle', props)\n\n        let parentId = id.split('_');\n        parentId.pop();\n        parentId = parentId.join('_');\n        \n        let expandId = undefined\n\n        if (id && currentId && currentId.startsWith(id)) {\n            expandId = parentId;            \n        } else {\n            expandId = id;\n        }\n\n        _onCurrentId(expandId)\n\n    }\n    \n    const _onExpand = ({id}) => {\n        console.log('onExpand', id)\n        _onCurrentId(id)\n    }\n\n    const _onCollapse = ({id}) => {\n        console.log('onCollapse', id)\n        _onToggle({id})\n    }\n\n    const _onSelect = ({url}) => {\n        url && history.push(url)\n    }\n\n    const _onFocus = (props) => {\n        console.log('focus', props)\n    }\n\n    // dialog\n\n    const [dialog, setDialog] = useState({})\n\n    const _onDialog = (props) => {\n        const {id, formData, schema, uiSchema, onChange} = props\n        console.log(\"Editor:onDialog\", props)\n\n        if (dialog && dialog.id) {\n            setDialog({})\n        } else {\n            setDialog({\n                id: id,\n                formData: formData,\n                schema: schema,\n                uiSchema: uiSchema,\n                onChange: onChange,\n                expanded: true\n            })\n        }\n\n    }\n\n    // parents\n\n    let parents = [\n        {\n            url: app.url,\n            title: app.title,\n        },\n        ...finder.parents\n    ]\n\n    const formContext = {\n        ...props.formContext,\n        isLoading: editor.isLoading,\n        isSaving: editor.isSaving,\n        id: editor.formData.id,\n        collectionId: editor.formData.collectionId,\n        parents: parents,\n        currentId: currentId,\n\n        sidebar: {\n            ...dialog,\n            onClose: () => _onDialog({}),\n            template: EditorDialog\n        },\n\n        onDialog: _onDialog,\n\n\n        onFocus: _onFocus,\n        onCurrentId: _onCurrentId,\n        onSelect: _onSelect,\n        onToggle: _onToggle,\n        onExpand: _onExpand,\n        onCollapse: _onCollapse,\n        onSubmit: _onSubmit\n    }    \n    \n    return (\n        <EditorLoader formData={formData}>\n            <EditorSchema \n                formData={editor.formData} \n                formContext={formContext}\n//                schema={schema} \n//                uiSchema={uiSchema} \n                onChange={_onChange}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nexport default Editor;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getEditor } from '../redux/editor';\n\nimport Editor from \"./Editor\"\nimport model from \"../components/CollectionEditor/CollectionEditor.model\"\n\nconst AppSettings = (props) => {\n\n    const app = useSelector(state => state.app)\n\n    return (\n        <Editor {...model} formData={{modelName: \"collections\", uniqueId: app.collectionId}} />\n    )\n\n\n}\n\nAppSettings.defaultProps = {\n}\n\nexport default AppSettings","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n    PreviewBase, \n    PreviewOptions, \n    PreviewJSON\n} from \"@kit-ui/admin\"\n\nimport { schemasByName } from \"./schemas\"\n\nimport DocumentPreviewCols from \"./DocumentPreviewCols\"\n\nconst DocumentPreview = () => {\n    const editor = useSelector(state => state.editor)\n\n    const { formData } = editor\n    const { documentType } = formData\n\n    const modelType = documentType && \"documents/\"+documentType \n    const model = schemasByName && schemasByName[modelType]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    let previewOptions = [\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{formData}</PreviewJSON> \n        },\n        {\n            \"title\": \"uiSchema\",\n            \"value\": \"uiSchema\",\n            \"template\": () => <PreviewJSON>{uiSchema}</PreviewJSON> \n        },\n        {\n            \"title\": \"schema\",\n            \"value\": \"schema\",\n            \"template\": () => <PreviewJSON>{schema}</PreviewJSON> \n        },\n    ]    \n\n    if (model.preview && model.preview.template) {\n\n        previewOptions = [\n            {\n                ...model.preview,\n//                template: DocumentPreviewCols,\n                title: \"Preview\",\n                value: \"preview\"\n            },\n            ...previewOptions\n        ]\n            \n    }\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n\n    const formContext = {}\n    \n    return (\n        <PreviewBase>\n            <PreviewTemplate formContext={formContext} formData={formData} />\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n    )\n\n}\n\nDocumentPreview.defaultProps = {\n}\n\nexport default DocumentPreview","import registry from \"../../../registry\"\nconst { models } = registry\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"collectionId\": {\n            \"type\": \"number\",\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"artifact\"\n        },\n        \"uniqueId\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\",\n            \"default\": \"Untitled artifact\"\n        },\n        \"description\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"identifier\": {\n                    \"type\": \"string\"\n                },\n                \"registrationLevel\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        \"single\",\n                        \"group\"\n                    ],\n                    \"enumNames\": [\n                        \"Enkeltverk\",\n                        \"Gruppe\"\n                    ],\n                    \"default\": \"single\"\n                },\n                \"designation\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"string\"\n                        },\n                        \"label\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"titleImage\": {\n                    \"type\": \"image\"\n                },\n                \"title\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                },\n                \"artist\": models.primusPerson.schema,\n                \"dating\": models.primusDating.schema,\n                \"place\": models.primusPlace.schema,\n                \"motifType\": {\n                    \"type\": \"string\"\n                },\n                \"motifDescription\": {\n                    \"type\": \"string\"\n                },\n                \"depictedObjects\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusPerson.schema\n                },\n                \"depictedPeople\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusPerson.schema\n                },\n                \"depictedPlaces\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusPlace.schema\n                },\n                \"classifications\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusClassification.schema\n                },\n                \"materialAndTechniqueDescription\": {\n                    \"type\": \"string\"\n                },\n                \"materials\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusMaterial.schema\n                },\n                \"techniques\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusTechnique.schema\n                },\n                \"colors\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusColor.schema\n                },\n                \"designations\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusDesignation.schema\n                },\n                \"measures\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusMeasure.schema\n                },\n                \"events\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusEvent.schema,\n                },\n                \"images\": models.primusMedia.schema,\n                \"attachments\": models.primusMedia.schema,\n//                \"media\": models.primusMedia.schema\n            }\n        }\n    }\n}","import model from \"./schemas/artwork\"\nexport default model","/*\nimport schema from \"./Artwork.schema\"\nimport uiSchema from \"./Artwork.uiSchema\"\nimport formData from \"./Artwork.formData\"\nimport Preview from \"./ArtworkPreview\"\n*/\n\nimport schema from \"./schema\"\nimport uiSchema from \"./uiSchema\"\nimport formData from \"./formData\"\nimport Preview from \"../../ArtworkPreview\"\n\n\nexport default {\n    name: \"artifact\",\n    schemaType: \"documents\",\n    schemaId: 1,\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: Preview\n    }\n}","import basis from \"./basis.uiSchema\"\nimport metadata from \"./metadata.uiSchema\"\nimport appearance from \"./appearance.uiSchema\"\nimport motif from \"./motif.uiSchema\"\nimport measure from \"./measure.uiSchema\"\nimport events from \"./events.uiSchema\"\nimport media from \"./media.uiSchema\"\n\nexport default {\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\" : \"imageUrl\",\n            \"mediaWidth\": \"mediaWidth\",\n            \"mediaHeight\": \"mediaHeight\",\n            \"title\" : \"title\",\n            \"description\" : \"description\",\n            \"identifier\": \"identifier\",\n            \"metadata\" : \"metadata\",\n            \"label\": \"label\",\n            \"artist\": \"artist\",\n            \"dating\": \"dating\",\n            \"materials\": \"materials\",\n            \"techniques\": \"techniques\",\n            \"measures\": \"measures\",\n            \"depictedPeople\": \"depictedPeople\",\n            \"depictedPlaces\": \"depictedPlaces\"\n        },\n        prepare({formData, formContext}) {\n            const { documentType, content = {} } = formData\n    \n            if (content) {\n    \n                const { images, title, identifier, artist = {}, dating = {}, designation, materials, techniques, measures, depictedPeople, depictedPlaces } = content\n   \n                \n                const image = images && images[0] && images[0].media\n                const imageUrl = image && image.imageUrl\n                const imageWidth = image && image.mediaWidth\n                const imageHeight = image && image.mediaHeight\n    \n                let cols = {}, description = []\n\n                if (artist && artist.value) {\n                    description.push(artist.value)\n                }\n\n                if (dating && dating.value) {\n                    description.push(\"(\" + dating.value + \")\")\n                }\n\n                let label\n\n                if (designation && designation.value) {\n                    label = designation.value\n                }\n\n                return {\n                    imageUrl: imageUrl,\n                    imageWidth: imageWidth,\n                    imageHeight: imageHeight,\n                    title: title || \"Uten tittel\",\n                    description: description.join(\" \"),\n                    label: label,\n                    identifier: identifier,\n                    artist: artist.value,\n                    dating: dating.value,\n                    materials: materials && materials.map(material => material.value),\n                    techniques: techniques && techniques.map(technique => technique.value),\n                    measures: measures && measures.map(measures => measures.size),\n                    depictedPeople: depictedPeople && depictedPeople.map(person => person.value),\n                    depictedPlaces: depictedPlaces && depictedPlaces.map(place => place.value),\n\n                }\n    \n            }\n      \n            return {\n                imageUrl: formData.imageUrl,\n                title: formData.title || \"Uten tittel\",\n                description: undefined,\n                label: documentType,\n            }\n        }\n    \n    },\n    \"ui:field\": \"primusEditor\",\n    \"ui:fieldset\": [\n        \"content\"\n    ],\n    \"content\": {\n        \"ui:field\": \"primusContent\",\n        \"ui:fieldset\": [\n            \"basis\",\n            \"measure\",\n            \"metadata\",\n            \"appearance\",\n            \"motif\",\n            \"events\",\n            \"media\",\n        ],\n        \"basis\": basis,\n        \"measure\": measure,\n        \"metadata\": metadata,\n        \"motif\": motif,\n        \"appearance\": appearance,\n        \"events\": events,\n        \"media\": media,\n        \"images\": {\n            \"ui:field\": \"primusMedia\",\n        }\n    }\n}","export default {\n    \"ui:title\": \"Basis\",\n    \"ui:field\": \"primusSection\",\n    \"ui:fieldset\": [\n        \"metadata\",\n        \"artwork\",\n        \"description\",\n    ],\n    \"metadata\": {\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"identifier\",\n            \"registrationLevel\",\n//            \"designation\",\n        ],\n        \"identifier\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Inventarnr.\",\n        },\n        \"registrationLevel\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Registreringsnivå\",\n        },\n        \"designation\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Betegnelse\",\n            \"ui:field\": \"primusDesignation\",\n        },\n    },\n    \"artwork\": {\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"title\",\n            \"artist\",\n            \"dating\",\n        ],\n        \"title\": {\n            \"ui:title\": \"Tittel\",\n            \"ui:xs\": 12\n        },\n        \"artist\": {\n            \"ui:title\": \"Kunstner\",\n            \"ui:field\": \"primusPerson\",\n            \"ui:xs\": 6\n        },\n        \"dating\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Datering\",\n            \"ui:field\": \"primusDating\",\n        },\n    },\n    \"details\": {\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"materialDescription\",\n//            \"techniqueDescription\",\n        ],\n        \"materialDescription\": {\n            \"ui:title\": \"Teknikk og materiale\"\n        },\n        \"techniqueDescription\": {\n            \"ui:title\": \"Teknikk\"\n        }\n\n    },\n    \"description\": {\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"keywords\": {\n        \"ui:title\": \"Stikkord\",\n        \"ui:widget\": \"tags\"\n    },\n    \"parentId\": {\n        \"ui:title\": \"ParentId\",\n        \"ui:field\": \"parentId\",\n        \"ui:query\": {\n            \"documentType\": \"event\"\n        }\n    },\n    \"measure\": {\n        \"ui:title\": \"Hovedmål\",\n        \"ui:field\": \"primusMeasure\"\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Mål\",\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"measures\"\n    ],\n    \"measures\": {\n        \"ui:title\": \"Mål\",\n        \"ui:field\": \"primusMeasureTags\",\n        \"items\": {\n            \"ui:field\": \"primusMeasure\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Klassifisering\",\n    \"ui:layout\": \"primusSection\",\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"designations\",\n        \"classifications\",\n    ],\n    \"designations\": {\n        \"ui:title\": \"Betegnelse\",\n        \"ui:field\": \"primusDesignationTags\"\n    },\n    \"classifications\": {\n        \"ui:title\": \"Klassifikasjon\",\n        \"ui:field\": \"primusClassificationTags\"\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Motiv\",\n    \"ui:fieldset\": [\n        \"motifType\",\n        \"motifDescription\",\n//        \"dating\",\n        \"depictedPeople\",\n        \"depictedPlaces\",\n//        \"depictedObjects\"\n    ],\n    \"motifType\": {\n        \"ui:title\": \"Motivtype\"\n    },\n    \"motifDescription\": {\n        \"ui:title\": \"Motivbeskrivelse\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"depictedPeople\": {\n        \"ui:title\": \"Personer avbildet\",\n        \"ui:field\": \"primusPeopleTags\"        \n    },\n    \"depictedPlaces\": {\n        \"ui:title\": \"Steder avbildet\",\n        \"ui:field\": \"primusPlaceTags\"        \n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Materiale og teknikk\",\n    \"ui:fieldset\": [\n//        \"materialAndTechniqueDescription\",\n        \"techniques\",\n        \"materials\",\n        \"colors\",\n    ],\n    \"materialAndTechniqueDescription\": {\n        \"ui:title\": \"Materiale og teknikk\",\n        \"ui:help\": \"Beskrivelse av materiale og teknikk brukt for å skape kunstverket\"\n    },\n    \"techniques\": {\n        \"ui:title\": \"Teknikk\",\n        \"ui:field\": \"primusTechniqueTags\",\n    },\n    \"materials\": {\n        \"ui:title\": \"Materiale\",\n        \"ui:field\": \"primusMaterialTags\",\n    },\n    \"colors\": {\n        \"ui:title\": \"Farger\",\n        \"ui:field\": \"primusColorTags\"\n    },\n}","export default {\n    \"ui:layout\": \"primusSection\",\n    \"ui:title\": \"Historikk\",\n    \"ui:options\": {\n        \"sortable\": true,\n    },\n    \"items\": {\n        \"ui:layout\": \"primusSection\",\n        \"ui:preview\": {\n            \"select\": {\n                \"title\": \"title\",\n                \"description\" : \"description\",\n            },\n            prepare({formData: { eventType, dating}, formContext}) {\n                const title = eventType && eventType.value\n                const description = dating && dating.value\n    \n                return {\n                    title: title,\n                    description: description,\n                }\n            }\n        },\n        \"ui:title\": \"Hendelse\",\n        \"ui:fieldset\": [\n            \"eventType\",\n            \"dating\",\n            \"description\",\n            \"people\",\n            \"places\"\n        ],\n        \"ui:options\": {\n            \"collapsible\": true,\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"eventType\": {\n            \"ui:field\": \"primusEventType\",\n            \"ui:xs\": 6,\n        },\n        \"dating\": {\n            \"ui:xs\": 6,\n            \"ui:field\": \"primusDating\",\n        },\n        \"title\": {\n            \"ui:xs\": 12,\n            \"ui:title\": \"Tittel\"\n        },\n        \"description\": {\n            \"ui:xs\": 12,\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"people\": {\n            \"ui:xs\": 12,\n            \"ui:field\": \"primusPeopleTags\",\n            \"ui:title\": \"Relaterte personer\",\n        },\n        \"places\": {\n            \"ui:xs\": 12,\n            \"ui:field\": \"primusPlaceTags\",\n            \"ui:title\": \"Relaterte steder\",\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Media\",\n    \"ui:fieldset\": [\n        \"images\",\n        \"attachments\"\n    ],\n    \"images\": {\n        \"ui:field\": \"primusMedia\",\n        \"ui:title\": \"Bilder\",\n        \"ui:preview\": {\n            \"select\": {\n                \"title\": \"title\",\n                \"description\" : \"description\",\n            },\n            prepare({formData = [], formContext}) {\n\n                const title = formData.length + \" bilder\"\n    \n                return {\n                    title: title,\n                }\n            }\n        },\n        \"ui:options\": {\n            \"collapsible\": true\n        },\n    },\n    \"attachments\": {\n        \"ui:field\": \"primusMedia\",\n        \"ui:title\": \"Vedlegg\",\n        \"ui:preview\": {\n            \"select\": {\n                \"title\": \"title\",\n                \"description\" : \"description\",\n            },\n            prepare({formData = [], formContext}) {\n\n                const title = formData.length + \" vedlegg\"\n    \n                return {\n                    title: title,\n                }\n            }\n        },\n        \"ui:options\": {\n            \"collapsible\": true\n        },\n    }\n}","import React from \"react\"\nimport PreviewTemplate from \"../PrimusPreview/PreviewTemplate\"\nimport PreviewScroller from \"../PrimusPreview/PreviewScroller\"\n\nconst ArtworkPreview = ({formData}) => {\n\n    return (\n        <PreviewScroller>\n            <PreviewTemplate {...formData} />\n        </PreviewScroller>\n    )\n\n}\n\nexport default ArtworkPreview;","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from \"react-router-dom\";\nimport qs from 'query-string';\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport Editor from \"./Editor\"\nimport model from \"../components/PrimusEditor/Artwork.model\"\n\nconst DocumentEditor = () => {\n\n    const dispatch = useDispatch()\n\n    const history = useHistory()\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n    const modelsById = useSelector(state => state.modelsById)\n\n    const { uniqueId } = useParams()\n\n    const sq = location.search && qs.parse(location.search) || {}\n\n    const { documentType } = sq\n\n    let formData = {}\n\n    if (documentType) {\n        formData = {\n            modelName: \"documents\",\n            documentType: sq.documentType,\n            collectionId: app.collectionId,\n        }\n    } else if (uniqueId) {\n\n        formData = {\n            modelName: \"documents\",\n//            documentType: sq.documentType,\n            uniqueId: uniqueId\n        }\n    }\n\n    // set formContext\n\n    const [previewExpanded, setPreviewExpanded] = useState(false)\n\n    const _onExpandPreview = () => {\n        setPreviewExpanded(true)\n    }\n\n    const _onCollapsePreview = () => {\n        setPreviewExpanded(false)\n    }\n\n    const _onTogglePreview = () => {\n        setPreviewExpanded(expanded => !expanded)\n    }\n\n    const preview = {\n        template: DocumentPreview,\n        expanded: previewExpanded,\n        onExpand: _onExpandPreview,\n        onCollapse: _onCollapsePreview\n    }\n\n    const formContext = {\n        languages: app.languages,\n        preview: preview,\n        onTogglePreview: _onTogglePreview,\n        onExpandPreview: _onExpandPreview,\n        onCollapsePreview: _onCollapsePreview\n    }\n    \n    return (\n        <Editor {...model} formData={formData} formContext={formContext} />\n    )\n\n\n}\n\nDocumentEditor.defaultProps = {\n}\n\nexport default DocumentEditor","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from \"react-router-dom\";\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport Editor from \"./Editor\"\nimport model from \"../components/PrimusEditor/Artwork.model\"\n\nconst DocumentViewer = () => {\n\n    const dispatch = useDispatch()\n\n    const location = useLocation()\n    const history = useHistory()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n\n    const { uniqueId } = useParams()\n\n    const formData = {\n        modelName: \"documents\",\n        collectionId: app.collectionId,\n        uniqueId: uniqueId\n    }\n\n    const _onEdit = () => {\n        const editUrl = pathname.replace(\"/view\", \"/edit\")\n        history.push(editUrl)\n    }\n\n    // set formContext\n\n    const formContext = {\n        primaryAction: {\n            type: \"edit\",\n            onClick: _onEdit\n        },\n        preview: {\n            expanded: true,\n            template: DocumentPreview\n        },\n    }\n    \n    return (\n        <Editor {...model} formData={formData} formContext={formContext} />\n    )\n\n\n}\n\nDocumentViewer.defaultProps = {\n}\n\nexport default DocumentViewer","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from \"react-router-dom\";\nimport qs from 'query-string';\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport Editor from \"./Editor\"\n\nconst MediaEditor = () => {\n\n    const dispatch = useDispatch()\n\n    const history = useHistory()\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n    const modelsById = useSelector(state => state.modelsById)\n\n    const { uniqueId } = useParams()\n\n    let formData = {}\n\n    if (uniqueId) {\n\n        formData = {\n            modelName: \"media\",\n            uniqueId: uniqueId\n        }\n    }\n\n    // set formContext\n\n    const [previewExpanded, setPreviewExpanded] = useState(false)\n\n    const _onExpandPreview = () => {\n        setPreviewExpanded(true)\n    }\n\n    const _onCollapsePreview = () => {\n        setPreviewExpanded(false)\n    }\n\n    const _onTogglePreview = () => {\n        setPreviewExpanded(expanded => !expanded)\n    }\n\n    const preview = {\n//        template: DocumentPreview,\n        expanded: previewExpanded,\n        onExpand: _onExpandPreview,\n        onCollapse: _onCollapsePreview\n    }\n\n    const formContext = {\n//        preview: preview,\n        onTogglePreview: _onTogglePreview,\n        onExpandPreview: _onExpandPreview,\n        onCollapsePreview: _onCollapsePreview\n    }\n    \n    return (\n        <Editor formData={formData} formContext={formContext} />\n    )\n\n\n}\n\nMediaEditor.defaultProps = {\n}\n\nexport default MediaEditor","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Finder from \"./Finder\"\n\nimport AppSettings from \"./AppSettings\"\nimport DocumentCreate from \"./DocumentEditor\"\nimport DocumentEditor from \"./DocumentEditor\"\nimport DocumentViewer from \"./DocumentViewer\"\n\nimport MediaEditor from \"./MediaEditor\"\n\nconst PrimusRoutes = (props) => {\n\n    return (\n        <Switch>\n            <Route path=\"/:appName/settings\" component={ AppSettings } />\n            <Route path=\"/:appName/create\" component={ DocumentCreate } />\n            <Route path=\"/:appName/media/:parents*/:uniqueId/edit\" component={ MediaEditor } />\n            <Route path=\"/:appName/:parents*/:uniqueId/edit\" component={ DocumentEditor } />\n            <Route path=\"/:appName/:parents*/:uniqueId/view\" component={ DocumentViewer } />\n            <Route path=\"/:appName/:parents*\" component={ Finder } />\n            <Route path=\"/:appName\" component={ Finder } />\n        </Switch>\n      )\n\n}\n\nexport default PrimusRoutes","import React, { useEffect } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { getApp } from \"../redux/app\"\nimport { collapseEditor, toggleSidebar } from \"../redux/finder\"\nimport { bulkReset } from '../redux/bulk';\n\nimport settings from \"./settings/kiosk\"\n\nimport { AppBase, AppHeader, AppBody } from \"../components/App\"\n\nimport AppLoader from \"./AppLoader\"\nimport AppSearch from \"./AppSearch\"\nimport AppRoutes from \"./KpRoutes\"\n\nconst KioskApp = (props) => {\n\n    const dispatch = useDispatch()\n    const location = useLocation()\n    const history = useHistory()\n    const { t, i18n } = useTranslation('finder');\n\n    useEffect(() => {\n        console.log('get app', settings)\n        dispatch(getApp(settings))\n    }, [])\n    \n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    const header = {\n        ...app.header,\n        search: app.search,\n        title: app.title,\n        subtitle: app.subtitle\n    }\n\n    const bulk = useSelector(state => state.bulk)\n    const bulkCount = bulk.count\n    const bulkTitle = t('{{count}} selected', {count: bulkCount})\n\n    const parents = [\n        {\n            url: app.root,\n            title: app.title,\n        },\n        ...finder.parents\n    ]\n\n    const preview = {\n//        ...finder.preview,\n        expanded: bulkCount && true,\n        parents: parents,\n        title: bulkTitle,\n        onToggle: () => dispatch(bulkReset()),\n        onSelect: ({url}) => {\n            url && history.push(url)\n            dispatch(bulkReset())\n        }\n    }\n\n    const editorParents = [\n        ...preview.parents,\n        {\n            title: preview.title\n        }\n    ]\n\n    const editor = {\n        ...finder.editor,\n        parents: editorParents,\n        onToggle: () => dispatch(collapseEditor()),\n        onSelect: ({url}) => {\n            url && history.push(url)\n            dispatch(collapseEditor())\n        }\n    }\n\n\n    const subview = editor.expanded && editor || preview.expanded && preview || {}\n\n    const sidebar = finder.sidebar && {\n        ...finder.sidebar,\n        collapsible: true,\n        onToggle: () => dispatch(toggleSidebar())\n    }\n\n\n    return (\n        <AppLoader {...app}>\n            <AppBase {...app}>\n                <AppSearch {...props}>\n                    <AppHeader {...header} sidebar={sidebar} subview={subview} />\n                </AppSearch>\n                <AppBody>\n                    <AppRoutes {...props} />\n                </AppBody>\n            </AppBase>\n        </AppLoader>\n    )\n\n}\n\nexport default KioskApp","\nconst artifacts = {\n    icon: \"article\",\n    title: \"Nytt objekt\",\n    pathname: \"/create?documentType=artifact\"\n}\n\n\nexport default {\n    title: \"Create\",\n    pathname: \"/create?documentType=artifact\",\n    \"children\": [\n        artifacts\n    ]\n\n}","import app from \"./app\"\nexport default app","import theme from \"./theme\"\nimport primaryAction from \"./action\"\nimport menu from \"./menu\"\n\nexport default {\n    theme: theme,\n    icon: \"kpApp\",\n    url: \"/kp\",\n    root: \"/kp\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"KulturPunkt\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    sidebar: {\n        expanded: true\n    },\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n//        \"variant\": \"growing\",\n        \"expanded\": false,\n        \"placeholder\": \"Søk i KulturPunkt\"\n    }\n}","const contentTypes = [\n    {\n        pathname: \"article\",\n        title: \"Artikler\",\n        icon: \"article\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"article\",\n        }\n    },\n    {\n        pathname: \"homepage\",\n        title: \"Forside\",\n        icon: \"pageHome\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageHome\",\n        }\n    },\n    {\n        pathname: \"topic\",\n        title: \"Tema\",\n        icon: \"pageTopic\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageTopic\",\n        }\n    },\n    {\n        pathname: \"map\",\n        title: \"Kart\",\n        icon: \"pageMap\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageMap\",\n        }\n    },\n\n]\n\nconst mediaTypes = [\n    {\n        pathname: \"image\",\n        title: \"Bilder\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"image\",\n        }\n    },\n    {\n        pathname: \"video\",\n        title: \"Video\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"video\",\n        }\n    },\n    {\n        pathname: \"audio\",\n        title: \"Audio\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"audio\",\n        }\n    },\n\n]\n\nconst shortcuts = [\n    {\n        pathname: \"latest\",\n        title: \"Latest\",\n        icon: \"access_time\",\n        query: {\n            models: \"documents\",\n            status: \"NOT trash\",\n            models: \"documents\",\n            sort: \"updatedAt DESC\"\n        }\n        },\n    {\n        icon: \"delete\",\n        title: \"Trash\",\n        pathname: \"trash\",\n        query: {\n            models: \"documents\",\n            status: \"trash\",\n            models: \"documents\",\n            sort: \"deletedAt DESC\",\n        }\n    }\n\n]\n\nconst favourites = [\n    {\n        url: \"/kiosk\",\n        title: \"Kiosk\",\n        icon: \"kioskMenu\",\n    }\n]\n\nexport default [\n    {\n        url: \"/kp\",\n        title: \"Alt innhold\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"*\",\n        }\n    },\n    {\n        title: \"Innhold\",\n        pathname: \"content\",\n        role: \"section\",\n        children: contentTypes\n    },\n    {\n        title: \"Media\",\n        pathname: \"media\",\n        role: \"section\",\n        children: mediaTypes\n    },\n    {\n        title: \"Snarveier\",\n        pathname: \"shortcuts\",\n        role: \"section\",\n        children: shortcuts\n    },\n    {\n        title: \"Favoritter\",\n        pathname: \"favourites\",\n        role: \"section\",\n        children: favourites\n    }\n\n]","import React, { useEffect } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { getApp } from \"../redux/app\"\nimport { collapseEditor, toggleSidebar } from \"../redux/finder\"\nimport { bulkReset } from '../redux/bulk';\n\nimport settings from \"./settings/kp\"\n\nimport { AppBase, AppHeader, AppBody } from \"../components/App\"\n\nimport AppLoader from \"./AppLoader\"\nimport AppSearch from \"./AppSearch\"\nimport AppRoutes from \"./KpRoutes\"\n\nconst KpApp = (props) => {\n\n    const dispatch = useDispatch()\n    const location = useLocation()\n    const history = useHistory()\n    const { t, i18n } = useTranslation('finder');\n\n    useEffect(() => {\n        console.log('get app', settings)\n        dispatch(getApp(settings))\n    }, [])\n    \n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    const header = {\n        ...app.header,\n        search: app.search,\n        title: app.title,\n        subtitle: app.subtitle\n    }\n\n    const bulk = useSelector(state => state.bulk)\n    const bulkCount = bulk.count\n    const bulkTitle = t('{{count}} selected', {count: bulkCount})\n\n    const parents = [\n        {\n            url: app.root,\n            title: app.title,\n        },\n        ...finder.parents\n    ]\n\n    const preview = {\n//        ...finder.preview,\n        expanded: bulkCount && true,\n        parents: parents,\n        title: bulkTitle,\n        onToggle: () => dispatch(bulkReset()),\n        onSelect: ({url}) => {\n            url && history.push(url)\n            dispatch(bulkReset())\n        }\n    }\n\n    const editorParents = [\n        ...preview.parents,\n        {\n            title: preview.title\n        }\n    ]\n\n    const editor = {\n        ...finder.editor,\n        parents: editorParents,\n        onToggle: () => dispatch(collapseEditor()),\n        onSelect: ({url}) => {\n            url && history.push(url)\n            dispatch(collapseEditor())\n        }\n    }\n\n\n    const subview = editor.expanded && editor || preview.expanded && preview || {}\n\n    const sidebar = finder.sidebar && {\n        ...finder.sidebar,\n        collapsible: true,\n        onToggle: () => dispatch(toggleSidebar())\n    }\n\n\n    return (\n        <AppLoader {...app}>\n            <AppBase {...app}>\n                <AppSearch {...props}>\n                    <AppHeader {...header} sidebar={sidebar} subview={subview} />\n                </AppSearch>\n                <AppBody>\n                    <AppRoutes {...props} />\n                </AppBody>\n            </AppBase>\n        </AppLoader>\n    )\n\n}\n\nexport default KpApp","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport KioskApp from \"./KioskApp\"\nimport KpApp from \"./KpApp\"\n\nconst AppRoutes = () => {\n\n    return (\n        <Switch>\n            <Route path=\"/kiosk\" component={ KioskApp } />\n            <Route path=\"/kp\" component={ KpApp } />\n            <Route path=\"/\" component={ KpApp } />\n        </Switch>\n      )\n\n}\n\nexport default AppRoutes","import App from \"./App\"\nexport default App","import React, { useEffect } from \"react\"\n\nimport \"../styles/reset.css\"\nimport \"../styles/Akkurat.css\"\nimport \"../styles/AkkuratMono.css\"\nimport \"../styles/MaterialIcons.css\"\n\nimport {\n    BrowserRouter as Router,\n} from \"react-router-dom\";\n\nimport AppRoutes from \"./AppRoutes\"\n\nconst App = (props) => {\n\n    return (\n        <Router basename=\"/\">\n            <AppRoutes {...props} />\n        </Router>\n    )\n\n}\n\nexport default App","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestUser(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveUser(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getUser = ({modelName = \"users\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestUser({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveUser(formData))\n        })\n\n}    \n\n\nexport const { requestUser, receiveUser } = userSlice.actions\nexport default userSlice.reducer","import { combineReducers } from '@reduxjs/toolkit'\n\nimport userReducer from './user/userSlice'\nimport siteReducer from './site/siteSlice'\nimport collectionReducer from './collection/collectionSlice'\n\nimport appReducer from './app/appSlice'\nimport finderReducer from './finder/finderSlice'\nimport editorReducer from './editor/editorSlice'\nimport bulkReducer from './bulk/bulkSlice'\n\nimport searchByUrlReducer from './searchByUrl/searchByUrlSlice'\n\nimport uploadByUrlReducer from './uploadByUrl/uploadByUrlSlice'\nimport modelsByIdReducer from './modelsById/modelsByIdSlice'\n\nexport default combineReducers({\n    user: userReducer,\n    site: siteReducer,\n    collection: collectionReducer,\n    app: appReducer,\n    editor: editorReducer,\n    finder: finderReducer,\n    bulk: bulkReducer,\n    modelsById: modelsByIdReducer,\n    searchByUrl: searchByUrlReducer,\n    uploadByUrl: uploadByUrlReducer,\n})","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger'\r\n\r\nimport rootReducer from \"./rootReducer\"\r\nconst middleware = [...getDefaultMiddleware({}), logger]\r\n\r\nexport default configureStore({\r\n    reducer: rootReducer,\r\n    middleware\r\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export default {\n    search: {\n        \"Fetching data, please wait\": \"Henter data, vennligst vent\",\n        \"No hits\": \"Ingen treff\",\n        \"{{count}} hits\": \"{{count}} treff\",\n        \"{{page}} of {{pages}} pages\": \"Side {{page}} av {{pages}}\",\n        \"More results\": \"Flere resultater\",\n        \"Next page\": \"Neste side\",\n        \"Previous page\": \"Forrige side\",\n        \"Page {{page}}\": \"Side {{page}}\",\n        \"Searching, please wait\": \"Søker, vennligst vent\",\n        \"Loading page {{page}}\": \"Henter side {{page}}\",\n        \"All documents\": \"Alle dokumenter\",\n        \"Search for {{q}} in all documents\": \"{{q}} i alle dokumenter\",\n        \"Everything in {{scope}}\": \"Alt i {{scope}}\",\n        \"Search everything\": \"Søk i alt innhold\",\n        \"Search for {{q}} in everything\": \"{{q}} i alt innhold\",\n        \"Search in {{scope}}\": \"Søk i {{scope}}\",\n        \"Search for {{q}} in {{scope}}\": \"{{q}} i {{scope}}\",\n        \"{{count}} suggestions\": \"{{count}} forslag\",\n    },\n    editor: {\n        \"Loading\": \"Laster\",\n        \"Saving\": \"Lagrer\",\n        \"Save\": \"Lagre\",\n        \"Save as draft\": \"Lagre som utkast\",\n        \"Save and publish\": \"Lagre og publiser\",\n        \"Save and exit\": \"Lagre og avslutt\",\n        \"Save as\": \"Lagre som\",\n        \"Empty trash\": \"Tøm papirkurv\",\n        \"Restore\": \"Gjenopprett\",\n        \"Erase\": \"Slett for alltid\"\n    },\n    layout: {\n        \"table\": \"Tabell\",\n        \"grid\": \"Grid\",\n        \"list\": \"Liste\",\n        \"gallery\": \"Galleri\",\n    },\n    dialog: {\n        \"Search\": \"Søk\",\n        \"Search documents\": \"Søk i dokumenter\",\n        \"Search media\": \"Søk i media\",\n        \"Search media/image\": \"Søk i bilder\",\n        \"Search media/video\": \"Søk i videoer\",\n        \"Search media/audio\": \"Søk i audio\",\n        \"Search media/misc\": \"Søk i filer\",\n        \"Search ekultur\": \"Søk i DigitaltMuseum\",\n        \"Search favorites\": \"Søk i favoritter\",\n        \"Search uploads\": \"Søk i opplastede filer\",\n        \"Search models\": \"Søk i referanser\",\n        \"Favorites\": \"Favoritter\",\n        \"Upload\": \"Last opp\",\n        \"Upload media\": \"Last opp media\",\n        \"media\": \"Media\",\n        \"media/*\": \"Media\",\n        \"media/image\": \"Bilder\",\n        \"media/image*\": \"Bilder\",\n        \"media/video\": \"Video\",\n        \"media/video*\": \"Video\",\n        \"media/audio\": \"Audio\",\n        \"media/audio*\": \"Audio\",\n        \"media/misc\": \"Filer\",\n        \"media/misc*\": \"Filer\",\n        \"media/youtube\": \"YouTube\",\n        \"media/vimeo\": \"Vimeo\",\n        \"media/sketchfab\": \"Sketchfab\",\n        \"documents/*\": \"Dokumenter\",\n        \"documents/ekultur\": \"Objekter\",\n        \"youtube\": \"YouTube\",\n        \"vimeo\": \"Vimeo\",\n        \"sketchfab\": \"Sketchfab\",\n        \"ekultur\": \"Objekter\",\n    },\n    upload: {\n        \"Uploading {{requested}} of {{received}}\": \"Laster opp {{requested}} av {{received}}\",\n        \"Click or drop files to upload\": \"Klikk eller dra filer her for å laste opp\",\n        \"Fetching unprocessed uploads\": \"Finner ubehandlede opplastninger\",\n        \"No unprocessed uploads\": \"Ingen ubehandlede opplastninger\",\n        \"{{count}} unprocessed uploads\": \"{{count}} ubehandlede opplastninger\",\n    },\n    view: {\n        \"{{rows}} rows\": \"{{rows}} rader\",\n    },\n    sort: {\n        \"title\": \"Sortert alfabetisk\",\n        \"updatedAt DESC\": \"Sist oppdatert\",\n        \"createdAt ASC\": \"Opprettet dato, først\",\n        \"createdAt DESC\": \"Opprettet dato\",\n    },\n    mediaType: {\n        \"image\": \"Bilde\",\n        \"video\": \"Video\",\n        \"audio\": \"Audio\",\n    },\n    documentType: {\n        \"article\": \"Artikkel\",\n        \"pageHome\": \"Hjemmeside\",\n        \"pageTopic\": \"Tema\",\n        \"pageMap\": \"Kart\",\n        \"pageGrid\": \"Mosaikk\",\n        \"pageList\": \"Liste\",\n        \"pageAnnotate\": \"Bildekart\",\n        \"pageMedia\": \"Media\",\n        \"device\": \"Enhet\",\n    },\n    status: {\n        \"undefined\": \"Ukjent\",\n        \"error\": \"Feil\",\n        \"general\": \"N/A\",\n        \"draft\": \"Utkast\",\n        \"publish\": \"Publisert\",\n        \"trash\": \"Papirkurv\",\n        \"erased\": \"Slettet\",\n        \"restore\": \"Gjenopprettet\",\n        \"upload\": \"Ubehandlet\",\n        \"new\": \"Ny\",\n        \"copy\": \"Kopi\"\n    },\n    uploadStatus: {\n        \"init\": \"Laster opp\",\n        \"done\": \"Lastet opp\",\n        \"convert\": \"Konverterer media\",\n    },\n    bylineTitle: {\n        \"photographer\": \"Foto\",\n        \"rightsmanager\": \"Rettighetsforvalter\",\n        \"director\": \"Regissør\",\n        \"photograph\": \"Foto\",\n        \"vector\": \"Grafikk\",\n        \"illustration\": \"Illustrasjon\",\n        \"painting\": \"Maleri\",\n    },\n    license: {\n        \"copyright\": \"Opphavsrett\",\n        \"by\": \"Navngivelse\",\n        \"by-sa\": \"Navngivelse-DelPåSammeVilkår\",\n        \"by-nd\": \"Navngivelse-IngenBearbeidelse\",\n        \"by-nc\": \"Navngivelse-IkkeKommersiell\",\n        \"by-nc-sa\": \"Navngivelse-IkkeKommersiell-DelPåSammeVilkår\",\n        \"pdm\": \"Public Domain Mark\",\n        \"pdd\": \"Public Domain Dedication\",\n    },\n    licenseGroup: {\n        \"by\": \"Kan gjenbrukes ved navngivelse\",\n        \"by-nd\": \"Kan kun gjenbrukes ved tillatelse\",\n        \"by-nc\": \"Kan ikke gjenbrukes kommersielt\",\n        \"pd\": \"Åpne lisenser (kan gjenbrukes)\"\n    }\n}","import translations from \"./nb\"\n\nexport default {\n    ...translations\n}","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n// not like to use this?\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\nimport en from \"./translations/en\";\nimport nn from \"./translations/nn\";\nimport nb from \"./translations/nb\";\nimport sv from \"./translations/sv\";\n\n\ni18n\n    // load translation using xhr -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n    // learn more: https://github.com/i18next/i18next-xhr-backend\n//    .use(Backend)\n    // detect user language\n    // learn more: https://github.com/i18next/i18next-browser-languageDetector\n    .use(LanguageDetector)\n    // pass the i18n instance to react-i18next.\n    .use(initReactI18next)\n    // init i18next\n    // for all options read: https://www.i18next.com/overview/configuration-options\n    .init({\n\n        resources: {\n            en: en,\n            nb: nb,\n            nn: nn,\n            sv: sv\n        },\n\n        fallbackLng: 'en',\n        debug: true,\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        }\n    });\n\n\nexport default i18n;","export default {\n    editor: {\n        \"Loading\": \"Loading\",\n        \"Saving\": \"Saving\",\n        \"Save\": \"Save\",\n        \"Save as draft\": \"Save as draft\",\n        \"Save and publish\": \"Save and publish\",\n        \"Save and exit\": \"Save and exit\",\n        \"Save as\": \"Save as\"\n    }\n}","export default {\n    editor: {\n        \"Loading\": \"Läsa\",\n        \"Saving\": \"Spara\",\n        \"Save\": \"Spara\",\n        \"Save as draft\": \"Spara som utkast\",\n        \"Save and publish\": \"Spara och publicera\",\n        \"Save and exit\": \"Spare och avsluta\",\n        \"Save as\": \"Spare som\"\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport * as serviceWorker from './serviceWorker';\n\n// i18next\nimport './i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}