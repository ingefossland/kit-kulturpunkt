{"version":3,"sources":["redux/settings.js","redux/bulk/bulkSlice.js","redux/modelsById/modelsByIdSlice.js","redux/finder/finderSlice.js","redux/app/appSlice.js","components/ButtonEdit/ButtonEdit.js","components/ButtonView/ButtonView.js","components/ButtonLink/ButtonLink.js","components/ButtonSelect/ButtonSelect.js","components/ButtonAdd/ButtonAdd.js","components/ButtonRemove/ButtonRemove.js","components/ButtonDelete/ButtonDelete.js","components/ButtonRestore/ButtonRestore.js","components/ButtonErase/ButtonErase.js","components/Loader/Loader.js","components/Preview/PreviewBase.js","components/Preview/PreviewOptions.js","components/Preview/PreviewScale.js","components/PreviewIframe/PreviewIframe.js","components/PreviewCode/PreviewCodeRender.js","components/PreviewCode/PreviewCode.themeDark.js","components/PreviewCode/PreviewCode.themeLight.js","components/PreviewCode/PreviewCode.js","components/PreviewJSON/PreviewJSON.js","components/NavView/NavView.js","components/NavSort/SortOptionsButton.js","components/NavSort/SortOptionsList.js","components/NavSort/NavSort.js","components/NavPages/NavPages.js","components/View/ViewOptionsList.js","components/View/ViewOptions.js","components/View/ViewHeader.js","components/View/ViewPages.js","components/Module/ModuleBase.js","components/Module/ModuleTabs.js","components/Module/ModuleTitle.js","components/NavSettings/ListSettings.js","components/NavSettings/GridSettingsList.js","components/NavSettings/NavSettings.js","components/NavSettings/GridSettings.js","components/Module/ModuleHeader.js","components/Module/ModuleBody.js","components/Module/ModuleFooter.js","components/Module/ModuleButtons.js","components/Module/ModuleFormat.js","components/Module/ModuleDate.js","components/Module/ModuleByline.js","components/Module/ModuleDescription.js","components/Module/ModuleLabel.js","components/Module/ModuleMedia.js","components/Module/ModuleMetadata.js","components/Module/ModuleStatus.js","components/Module/ButtonSelect.js","components/Module/ModulePrefix.js","components/NavToolbar/NavToolbarOptions.js","components/NavToolbar/NavToolbarSettings.js","components/NavToolbar/NavToolbarButton.js","components/NavToolbar/getToolbar.js","components/NavToolbar/NavToolbar.js","components/Module/ModuleActionbar.js","components/Module/ExpandedModule.js","components/Module/ModuleLayout.js","components/Module/EditableModule.js","components/Module/TableModule.js","components/Module/GridModule.js","components/Module/GalleryModule.js","components/Module/CardModule.js","components/ListView/ListView.js","components/ListView/ListModule.js","components/TableView/TableView.js","components/TableView/TableModule.js","components/GridView/GridView.js","components/GridView/GridModule.js","components/TreeView/TreeView.js","components/TreeView/TreeList.js","components/TreeView/TreeModule.js","components/ColumnView/ColumnView.js","components/ColumnView/ColumnList.js","components/ColumnView/ColumnModule.js","components/Masonry/Masonry.js","components/Masonry/MasonryModule.js","components/Gallery/Gallery.js","components/Gallery/GalleryView.js","components/Gallery/GalleryModule.js","components/WidgetSearch/WidgetSearch.js","app/icons/ArticleIcon.js","app/icons/PageHomeIcon.js","app/icons/PageGridIcon.js","app/icons/PageMediaIcon.js","app/icons/PageTimelineIcon.js","app/icons/PageListIcon.js","app/icons/PageAnnotateIcon.js","app/icons/PageMapIcon.js","app/icons/PageParentIcon.js","app/kiosk/theme.js","app/icons/KioskAppIcon.js","app/icons/MenuIcon.js","app/icons/KioskMenuIcon.js","app/kp/theme.js","app/icons/KpAppIcon.js","app/icons/KpMenuIcon.js","app/icons/DeviceIcon.js","app/icons/DeviceMacIcon.js","app/icons/DeviceWinIcon.js","app/icons/index.js","Finder/FinderLoader.js","redux/searchByUrl/searchByUrlSlice.js","Finder/BulkLayout.js","components/DocumentParentIdField/DocumentParentIdField.js","components/DocumentChildrenField/DocumentChildrenList.js","components/DocumentChildrenField/DocumentChildrenSearch.js","components/DocumentChildrenField/DocumentChildrenField.js","components/KpPage/KpPageField.js","components/KpPage/KpAnnotateArrayField.js","components/KpPage/KpAnnotateImageField.js","components/KpLink/KpLink.model.js","components/KpLink/KpLink.schema.js","components/KpLink/KpLink.uiSchema.js","components/KpLink/KpLinkButtons.js","components/KpLink/KpLinkMediaLayout.js","components/KpLink/KpLinkReferenceLayout.js","components/KpLink/KpLinkContentField.js","components/KpLink/KpLinkField.js","components/KpLink/KpLinkCollapsed.js","components/KpLink/KpLinkExpanded.js","components/KpLink/KpLinkLayout.js","components/KpDevice/KpDeviceField.js","components/KpDevice/KpDeviceLinkField.js","components/PageEditor/PageEditorField.js","components/PageEditor/PageEditorLayout.js","components/PageEditor/PageContentField.js","components/PageEditor/PageMenu.js","components/PageEditor/PageContentLayout.js","components/PageEditor/PageSettingsField.js","components/PageEditor/PageSettingsLayout.js","components/PageEditor/registry.js","components/registry.js","app/schemas/article/section/mediaSize.js","app/schemas/article/section/mediaFormat.js","app/schemas/article/index.js","app/schemas/article/schema.js","app/schemas/article/section/schema.js","app/schemas/article/section/sectionType.js","app/schemas/article/section/sectionText.js","app/schemas/article/section/sectionMedia.js","app/schemas/article/section/media.js","app/schemas/article/section/sectionDm.js","app/schemas/article/section/ekultur.js","app/schemas/article/section/sectionLinks.js","app/schemas/article/section/sectionAttachments.js","app/schemas/article/section/attachments.js","app/schemas/article/section/sectionQuote.js","app/schemas/article/uiSchema.js","app/schemas/article/uiPreview.js","app/schemas/article/settings/uiSchema.js","app/schemas/article/header/uiSchema.js","app/schemas/article/body/uiSchema.js","app/schemas/article/section/uiSchema.js","app/schemas/article/section/uiPreview.js","app/schemas/article/section/mediaUi.js","app/schemas/article/section/attachmentsUi.js","app/schemas/article/section/ekulturUi.js","app/schemas/article/section/linksUi.js","app/schemas/article/isPartOf/uiSchema.js","app/schemas/page/schema.js","app/schemas/page/documentType/schema.js","app/schemas/page/linksLayout/schema.js","app/schemas/page/links/schema.js","app/schemas/page/links/items.js","app/schemas/pageHome/schema.js","app/schemas/page/uiPreview.js","app/schemas/page/settings/uiSchema.js","app/schemas/page/pageHeader/uiSchema.js","app/schemas/page/pageMedia/uiSchema.js","app/schemas/page/links/uiSchema.js","app/schemas/page/links/itemsUi.js","app/schemas/page/pageBody/uiSchema.js","app/schemas/pageHome/uiSchema.js","app/schemas/pageHome/uiPreview.js","app/schemas/pageHome/homeHeader/uiSchema.js","app/schemas/pageHome/listMedia/uiSchema.js","app/schemas/pageHome/listBody/uiSchema.js","app/preview/KioskPreview/ArticleBase.js","app/preview/KioskPreview/ArticleGrid.js","app/preview/KioskPreview/ArticleTitle.js","app/preview/KioskPreview/ArticleBodytext.js","app/preview/KioskPreview/LayoutList.js","app/preview/KioskPreview/LayoutGrid.js","app/preview/KioskPreview/LayoutSlideshow.js","app/preview/KioskPreview/LayoutFormat.js","app/preview/KioskPreview/ModuleMedia.js","app/preview/KioskPreview/ArticleMedia.js","app/preview/KioskPreview/ModuleEkultur.js","app/preview/KioskPreview/ArticleReferences.js","app/preview/KioskPreview/ArticleLinks.js","app/preview/KioskPreview/ArticleHead.js","app/preview/KioskPreview/ArticleBody.js","app/preview/KioskPreview/ArticleLeadtext.js","app/preview/KioskPreview/ArticleSection.js","app/preview/KioskPreview/Article.js","app/preview/KioskPreview/PreviewFormat.js","app/preview/KioskPreview/utils/getPreviewItem.js","app/preview/KioskPreview/Menu.js","app/preview/KioskPreview/PageHeader.js","app/preview/KioskPreview/GridModule.js","app/preview/KioskPreview/Grid.js","app/preview/KioskPreview/TimelineModule.js","app/preview/KioskPreview/Timeline.js","app/preview/KioskPreview/AnnotateImagemap.js","app/preview/KioskPreview/utils/getContrastColor.js","app/preview/KioskPreview/AnnotateLegends.js","app/preview/KioskPreview/Page.js","app/preview/KioskPreview/PreviewKiosk.js","app/preview/KioskPreview/index.js","app/schemas/pageHome/index.js","app/schemas/pageMap/schema.js","app/schemas/pageMap/uiPreview.js","app/schemas/pageMap/mapLinks/uiSchema.js","app/schemas/pageMap/uiSchema.js","app/schemas/pageMap/header/uiSchema.js","app/schemas/pageMap/body/uiSchema.js","app/preview/Page/PageLayout.js","app/preview/Page/PageMedia.js","app/preview/Page/PageHeader.js","app/preview/Page/PageBody.js","app/preview/PageMap/DefaultMapMarker.js","app/preview/PageMap/DefaultMap.js","app/preview/PageMap/RoundtripMapMarker.js","app/preview/PageMap/RoundtripMap.js","app/preview/PageMap/PageMap.js","app/schemas/pageMap/index.js","app/schemas/pageTopic/index.js","app/schemas/pageTopic/schema.js","app/schemas/pageTopic/uiSchema.js","app/schemas/pageTopic/uiPreview.js","app/schemas/pageTopic/header/uiSchema.js","app/schemas/pageTopic/body/uiSchema.js","app/schemas/pageGrid/schema.js","app/schemas/pageGrid/uiPreview.js","app/schemas/pageGrid/gridHeader/uiSchema.js","app/schemas/pageGrid/gridMedia/uiSchema.js","app/schemas/pageGrid/gridLinks/uiSchema.js","app/schemas/index.js","app/schemas/pageGrid/index.js","app/schemas/pageGrid/uiSchema.js","app/schemas/pageGrid/gridBody/uiSchema.js","app/schemas/pageList/index.js","app/schemas/pageList/schema.js","app/schemas/pageList/uiSchema.js","app/schemas/pageList/uiPreview.js","app/schemas/pageList/listHeader/uiSchema.js","app/schemas/pageList/listMedia/uiSchema.js","app/schemas/pageList/listBody/uiSchema.js","app/schemas/pageTimeline/index.js","app/schemas/pageTimeline/schema.js","app/schemas/pageTimeline/uiSchema.js","app/schemas/pageTimeline/uiPreview.js","app/schemas/pageTimeline/timelineHeader/uiSchema.js","app/schemas/pageTimeline/timelineMedia/uiSchema.js","app/schemas/pageTimeline/timelineBody/uiSchema.js","app/schemas/pageAnnotate/index.js","app/schemas/pageAnnotate/schema.js","app/schemas/pageAnnotate/uiSchema.js","app/schemas/pageAnnotate/uiPreview.js","app/schemas/pageAnnotate/annotateHeader/uiSchema.js","app/schemas/pageAnnotate/annotateBody/uiSchema.js","app/schemas/pageAnnotate/annotateImage/uiSchema.js","app/schemas/pageAnnotate/annotateLinks/uiSchema.js","app/schemas/pageMedia/index.js","app/schemas/pageMedia/schema.js","app/schemas/pageMedia/uiSchema.js","app/schemas/pageMedia/uiPreview.js","app/schemas/pageMedia/mediaHeader/uiSchema.js","app/schemas/pageMedia/mediaBody/uiSchema.js","app/schemas/pageMedia/mediaLinks/uiSchema.js","app/schemas/device/index.js","app/schemas/device/schema.js","app/schemas/device/uiSchema.js","app/schemas/device/uiPreview.js","app/schemas/device/settings/uiSchema.js","app/schemas/device/header/uiSchema.js","app/schemas/device/media/uiSchema.js","app/schemas/device/hasPages/uiSchema.js","app/schemas/schemasByName.js","Finder/BulkPreview.js","Finder/BulkEditor.js","Finder/Bulk.js","Finder/FinderLayout.js","Finder/FinderModel.js","Finder/ViewList.js","Finder/ViewTable.js","Finder/ViewGrid.js","Finder/ResultsLoader.js","Finder/ViewMasonry.js","Finder/ResultsFooter.js","Finder/ViewGallery.js","Finder/FinderPreview.js","Finder/ViewColumn.js","Finder/View.js","Finder/FinderQuery.js","redux/uploadByUrl/uploadByUrlSlice.js","Upload/UploadDropzone.js","Finder/FinderUpload.js","Finder/DocumentTreeList.js","Finder/DocumentTreeColumn.js","Finder/DocumentTree.js","redux/site/siteSlice.js","redux/collection/collectionSlice.js","Finder/CollectionSwitcher.js","Finder/Finder.js","redux/editor/editorSlice.js","Dialog/DialogBase.js","Dialog/DialogFooter.js","Dialog/DialogSearch.js","Dialog/DialogTabs.js","Dialog/DialogHeader.js","Dialog/DialogSection.js","Dialog/ResultsLoader.js","Dialog/ResultsFooter.js","Dialog/DialogModel.js","Dialog/ResultsList.js","Dialog/ResultsGallery.js","Dialog/ResultsHeader.js","Dialog/ResultsUploads.js","Dialog/MediaResults.js","Dialog/DocumentsResults.js","Dialog/SearchResultsDefault.js","Dialog/SearchResults.js","Dialog/SearchDialog.js","Dialog/FavouritesDialog.js","Dialog/DialogUpload.js","Dialog/UploadDialog.js","Dialog/MediaDialog.js","Dialog/DocumentsDialog.js","Dialog/Dialog.js","Editor/EditorDialog.js","Editor/Editor.js","Editor/EditorLoader.js","Finder/MediaPreview.js","Finder/MediaEditor.js","Finder/DocumentPreview.js","Finder/DocumentEditor.js","Finder/DocumentLinks.js","Admin/AdminRoutes.js","components/NavMenu/NavMenuList.js","components/NavMenu/NavMenuItem.js","components/NavMenu/NavMenuLink.js","components/NavMenu/NavMenuLabel.js","components/NavMenu/NavMenu.js","Admin/AdminLayout.js","Admin/AdminLoader.js","Admin/index.js","Admin/Admin.js","app/menu/kpHome.js","app/menu/kpPages.js","app/menu/kioskHome.js","app/menu/kioskPages.js","app/menu/kioskDevices.js","app/menu/articles.js","app/menu/media.js","app/menu/latest.js","app/menu/trash.js","app/menu/settings.js","app/action/index.js","app/menu/favourites.js","app/kp/index.js","app/kp/app.js","app/kp/menu.js","app/menu/kioskLink.js","app/KpApp.js","app/kiosk/app.js","app/kiosk/menu.js","app/menu/kpLink.js","app/KioskApp.js","app/AppRoutes.js","app/index.js","app/App.js","redux/user/userSlice.js","redux/rootReducer.js","redux/store.js","serviceWorker.js","translations/nb.js","translations/nn.js","i18n.js","translations/en.js","translations/sv.js","index.js"],"names":["API","bulkSlice","createSlice","name","initialState","count","isLoading","isSaving","formData","schema","bulkSchema","bulk","bulkById","reducers","receiveBulkEditor","state","action","payload","bulkChange","bulkAdd","uniqueId","parentId","status","documentType","selected","bulkRemove","getBulkEditor","dispatch","getState","bulkModels","Object","values","filter","model","console","log","properties","multiple","map","keys","key","value","property","enum","includes","enumNames","actions","modelsByIdSlice","requestModel","receiveModel","requestChildren","children","receiveChildren","requestReferences","references","receiveReferences","receiveParentId","receiveStatus","requestSave","receiveSave","getModel","modelName","url","fetch","method","headers","then","response","json","error","loadModel","deleteModel","data","restoreModel","eraseModel","selectModel","modelsById","uniqueModel","bulkToggle","addDocumentSource","callback","undefined","source","toLowerCase","schemaId","JSON","stringify","body","addMediaSource","finderByIdSlice","pathname","sortOptions","sort","rowsOptions","rows","viewOptions","view","menu","parents","parentsByUrl","menuByUrl","menuById","requestFinder","receiveFinder","receiveView","requestViewOptions","receiveViewOptions","receiveSort","requestSortOptions","receiveSortOptions","requestParents","receiveParents","requestMenu","receiveMenu","requestMenuByUrl","receiveMenuByUrl","requestMenuItem","item","receiveMenuItem","id","length","moveMenuItem","destination","expandMenuItem","expanded","collapseMenuItem","toggleMenuItem","getOptions","getParents","finder","parent","push","parentUrl","reverse","pathUrl","path","split","join","getMenuItem","type","getMenuTree","getMenuParent","getMenuChild","level","child","query","fetchUrl","qs","fl","results","models","template","getMenuTreeNode","getMenuTreeChildren","requestMenuTree","receiveMenuTree","requestMenuTreeItem","receiveMenuTreeItem","appSlice","header","search","sidebar","requestApp","receiveApp","receiveLayout","toggleSearch","toggleHeader","toggleSidebar","requestSchemasByName","schemasByName","receiveSchemasByName","receiveMenuItemByUrl","getApp","app","root","collectionId","getChild","menuItem","getChildren","forEach","rootMenu","getMenu","getLayout","layout","useStyles","makeStyles","theme","button","ButtonEdit","className","onClick","classes","IconButton","color","aria-label","ButtonView","ButtonLink","select","width","spacing","height","borderRadius","border","borderColor","margin","display","palette","primary","main","backgroundColor","contrastText","shadows","position","top","left","transform","ButtonSelectable","aria-selected","ButtonAdd","ButtonRemove","ButtonDelete","ButtonRestore","loader","zIndex","right","bottom","flexDirection","alignItems","justifyContent","opacity","transition","pointerEvents","icon","fontSize","content","title","fontFamily","fontWeight","text","description","secondary","Loader","imageUrl","data-is-loading","Icon","defaultProps","base","PreviewBase","options","PreviewChip","label","Chip","NavPreview","onChange","index","_onChange","scale","props","maxWidth","marginLeft","marginRight","withStyles","frame","other","useTheme","useState","ready","setState","instanceRef","React","useRef","handleRef","useCallback","ref","current","contentDocument","node","contentWindow","NoSsr","defer","contentDidMount","jss","create","plugins","jssPreset","rtl","insertionPoint","sheetsManager","Map","container","window","contentDidUpdate","dir","direction","StylesProvider","cloneElement","overflowY","fontVariantLigatures","lineHeight","background","default","whiteSpace","wordWrap","padding","code","string","number","boolean","PreviewCodeRender","language","data-theme","data-language","darkTheme","createMuiTheme","typography","red","blue","themes","themeLight","themeDark","isElement","element","isValidElement","PreviewCode","something","parse","e","isJSON","toString","reactElementToJSXString","isDOMTypeElement","pretty","renderToStaticMarkup","trim","ThemeProvider","style","wrapLines","useInlineStyles","PreTag","PreviewJSON","buttongroup","divider","borderLeft","NavView","ButtonBase","fill","textTransform","ListSettingsButton","forwardRef","ListSettingsOptions","ListOption","option","ListItem","_onSelect","ListItemIcon","ListItemText","List","NavSort","useTranslation","t","i18n","setExpanded","anchorRef","currentOption","find","SortOptionsButton","event","prevExpanded","Dropdown","anchorEl","onClickAway","marginTop","ViewOptionsList","link","ViewOptions","marginBottom","ViewHeader","onSort","onRows","pages","paddingTop","ViewPages","page","onPage","Pagination","boxShadow","ModuleBase","component","deleted","erased","elevation","data-status","data-deleted","data-erased","aria-expanded","Paper","data-elevated","square","role","StyledTabs","minHeight","indicator","Tabs","StyledTab","minWidth","paddingLeft","paddingRight","letterSpacing","Tab","disableRipple","NavTabs","tabs","setValue","indicatorColor","textColor","tab","disabled","textDecoration","cursor","ModuleTitle","untitled","Typography","noWrap","ListSettings","Fragment","Button","variant","list","listStyle","cols","outline","GridItem","size","data-size","GridList","OptionsGrid","onSelect","templates","_cols","_rows","_options","_byValue","grid","order","_","orderBy","byValue","GridSettingsList","settings","flexWrap","NavSettings","settingsProps","SettingsTemplate","renderSettings","flexGrow","toolbar","ModuleHeader","ModuleTabs","ModuleBody","footer","borderTop","ModuleFooter","ModuleButton","data-variant","disableElevation","ModuleButtons","buttons","ButtonGroup","format","paddingBottom","ratio","ModuleFormat","w","data-minHeight","data-ratio","data-format","ModuleDate","date","locale","datetime","moment","fromNow","dateTime","byline","author","fontStyle","ModuleByline","ModuleDescription","Color","isDark","getContrastColor","ModuleLabel","cropbox","maxHeight","overflow","transformOrigin","userSelect","image","ModuleMedia","coverStyle","backgroundPosition","backgroundImage","backgroundSize","backgroundRepeat","src","ModuleMetadata","metadata","ModuleStatus","ModulePrefix","startAdornment","selectable","NavToolbarOptions","fullWidth","NavToolbarSettings","NavToolbarButton","getToolbar","hideable","hidden","deletable","restorable","erasable","restored","removable","addable","onHide","onUnhide","onDelete","onRestore","onErase","onRemove","visibility","getVisibilityOptions","getVisibilityToolbar","editable","editing","onEdit","onSave","unshift","getEditableToolbar","NavToolbar","actionbar","ModuleActionbar","module","ExpandedModule","ModuleLayout","EditableModule","headerCell","verticalAlign","footerCell","actionCell","mediaCell","textAlign","media","textOverflow","primaryAction","TableModule","typeLabel","statusLabel","mediaHeight","flexBasis","GridModule","mediaStyle","mediaLayout","GalleryModule","leadingIcon","ListView","loadingTitle","emptyTitle","ListModule","primaryButton","mediaType","mediaLabel","documentLabel","viewable","onView","linkable","onLink","Toolbar","edit","delete","restore","ButtonSelect","TableView","row","col","gridTemplateColumns","gridGap","GridView","outlineColor","figure","treeView","TreeView","droppable","provided","snapshot","droppableProps","innerRef","isDraggingOver","data-is-dragging-over","placeholder","treeList","TreeList","toggle","toggleIcon","TreeModule","collapsible","onToggle","draggable","DragHandle","dragHandleProps","ButtonToggle","ModuleContent","stopPropagation","isDragging","isTarget","combineTargetFor","draggableProps","data-is-dragging","data-is-target","columnView","columns","ColumnView","column","ColumnList","dragHandle","ColumnModule","toggleButton","masonry","colWidth","withResizeDetector","debug","Math","floor","items","concat","itemsByColumn","c","getItemsByColumn","MasonryModule","gallery","getGalleryRow","gap","rowPlusGap","rowWidth","shift","delta","cutoff","cutsum","i","fractOfLen","stillToCutOff","calculateCutOff","pixelsToRemove","j","GalleryItem","maxRows","Children","toArray","r","getGallery","data-layout","GalleryView","searchInput","searchIcon","resetButton","resetIcon","SearchReset","WidgetSearch","q","onReset","useEffect","target","buttonReset","ArticleIcon","SvgIcon","viewBox","fill-rule","clip-rule","d","x","y","PageHomeIcon","PageGridIcon","PageMediaIcon","cx","cy","PageListIcon","PageAnnotateIcon","PageMapIcon","PageParentIcon","KioskAppIcon","AppIcon","variants","font-family","font-size","font-weight","dominant-baseline","text-anchor","MenuIcon","IconTemplate","KioskMenuIcon","KpAppIcon","KpMenuIcon","DeviceIcon","DeviceMacIcon","DeviceWinIcon","PageTimelineIcon","FinderLoader","location","useSelector","appIcon","icons","useDispatch","getFinder","searchByUrlSlice","requestSearch","apiUrl","receiveError","receiveSearch","receivePage","nextPage","prevPage","start","ceil","currentPage","resultsByPage","resultsLoaded","p","getQuery","sq","getModels","BulkLayout","NavPath","getUiOptions","utils","ParentIdField","formContext","uiSchema","uiQuery","enumOptions","setEnumOptions","setEnumNames","searchByUrl","currentSearch","optionsEnum","optionsNames","SchemaField","registry","fields","newSchema","newUiSchema","DocumentChildrenList","DocumentChildrenSearch","editor","setQ","queryQ","_onQuery","debounce","DocumentChildrenField","getDefaultFormState","FieldKioskPage","handleChange","newFormData","definitions","annotateImage","imageAnnotations","links","newRegistry","onAnnotateArrayChange","onAnnotateImageChange","dialog","preview","newFormContext","ObjectField","ImageAnnotateArrayField","ArrayField","KioskAnnotateImageField","mediaId","imageFilters","ImageAnnotations","prepare","referenceId","reference","localeId","currentLocale","defaultLocale","SectionButton","SectionButtons","KpLinkMediaLayout","onDialog","mediaButtons","data-name","ImagePreview","KpLinkButtons","KpLinkReferenceLayout","LinkAddButton","LinkRemoveButton","KpLinKContentField","referenceTitle","referenceDescription","_onMediaChange","_onReferenceChange","linkContent","runningHead","KpLinkField","imageFocalpoint","imageCropdata","uiOptions","fieldset","uiPreview","KpLinkContentField","cropdata","_onCropChange","focalpoint","_onFocalpoint","filters","_onFiltersChange","pageType","getUiSchema","hex","isLight","titleColor","borderTopColor","badge","StartAdornment","badgeContent","Badge","KpLinkLayout","KpLinkExpanded","KpLinkCollapsed","KpDeviceField","startPageId","setStartPageId","KpDeviceLinkField","isStartPage","toggleStartPage","PageEditorField","idSchema","statusCode","statusMessage","createdAt","updatedAt","deletedAt","currentId","onExpand","onCollapse","onLocale","onSubmit","getPrimaryAction","idPrefix","$id","primaryId","secondaryId","startsWith","languages","setCurrentLocale","_onLocale","PageEditor","overlay","EditorBase","EditorHeader","EditorBody","EditorFooter","OverlayTemplate","EditorOverlay","renderOverlay","PageContentField","menuWidth","menuList","PageMenu","NavMenuList","NavMenuItem","NavMenuLink","wrapper","PageContent","EditorSection","SidebarTemplate","EditorSidebar","renderSidebar","PreviewTemplate","renderPreview","EditorContent","PageSettingsField","DocumentParentIdField","KpPageField","KpAnnotateArrayField","KpAnnotateImageField","pageEditor","schemaType","mediaSize","mediaFormat","titleImage","sections","isPartOf","lat","lng","address","sectionType","bodytext","attachments","cite","quote","article","boxSizing","ArticleBase","ArticleGrid","ArticleTitle","ArticleBodytext","LayoutList","gridColumns","LayoutGrid","slideshow","slider","navigation","dots","backButton","nextButton","LayoutSlideshow","totalSlides","naturalSlideWidth","naturalSlideHeight","LayoutFormat","caption","headline","license","layouts","ArticleMedia","mediaWidth","renderMedia","LayoutTemplate","objectCount","imageCount","videoCount","audioCount","commentCount","ArticleReferences","renderReference","referenceType","ModuleTemplate","ArticleLinks","href","renderLink","head","ArticleHead","leadtext","ArticleBody","ArticleLeadtext","ArticleSection","sectionLayout","Article","headerImage","section","PreviewFormat","getPreviewItem","itemType","m","PreviewTimeline","pageHeader","pageTitle","KioskPageHeader","titleSize","skin","placement","getTextPlacement","Card","ImageBase","objectFit","CardContent","templateCols","gridTemplateRows","templateRows","gridColumnGap","colGap","gridRowGap","rowGap","gridItem","gridColumnStart","gridColumnEnd","colEnd","gridRowStart","gridRowEnd","rowEnd","MosaicGrid","onCurrentId","rowHeight","repeat","itemProps","PreviewMosaic","card","cardMedia","cardContent","MosaicModule","CardMedia","alt","overflowX","timeline","timelineItem","Timeline","TimelineItem","TimelineModule","marker","borderSize","ImagemapPreview","contentTitle","annotateColor","contrastColor","ImageAnnotationsBase","markerTemplate","line","Menu","Imagemap","MarkerModule","data-index","Grid","backgroundImageUrl","PreviewPage","annotateLayout","Page","PreviewKiosk","localTitle","MapLink","defaultCenter","defaultZoom","KEY","markers","setMarkers","setOrigin","setDestination","setWaypoints","center","setCenter","uuidv4","mapId","setMapId","mapRef","newWaypoints","bootstrapURLKeys","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","google","bounds","maps","LatLngBounds","extend","LatLng","fitBounds","origin","waypoints","directions","setDirections","drawDirections","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","setMap","directionsService","DirectionsService","route","travelMode","TravelMode","WALKING","result","DirectionsStatus","OK","overviewPath","routes","overview_path","resultsPath","getDirections","mapTypes","DefaultMap","newLinks","setNewLinks","referenceModel","mapLayout","MapTemplate","pageHome","pageMap","pageTopic","parallaxImage","linkMedia","hasPages","deviceTitle","deviceId","deviceType","deviceIcons","mediaSchemas","schemas","BulkPreview","bulkCount","BulkEditor","Schema","noValidate","bulkSubmit","FinderBulk","FinderLayout","getUiPreview","FinderModel","eraseable","sourceId","_onClick","_onView","history","_onEdit","_onLink","_onDelete","_onRestore","_onErase","bulkModel","documentModel","modelLabel","deletedByName","updatedByName","createdByName","childrenWithProps","ViewList","pagedResults","ViewTable","ViewGrid","flexDirecton","ResultsLoader","replace","MasonryLayout","ViewGallery","imageWidth","imageHeight","FinderPreview","ViewColumn","alert","FinderView","ViewMasonry","Template","FinderQuery","Bulk","View","uploadByUrlSlice","requestUpload","requested","received","receiveUpload","requestUploadModel","receiveUploadModel","receiveUploadProgress","progress","receiveUploadStatus","getUpload","acceptedFiles","uploadData","file","getUploadUrl","filename","mimeType","getUploadData","uploadUrl","FormData","append","xhr","XMLHttpRequest","upload","addEventListener","uploadProgress","lengthComputable","round","loaded","total","_onProgress","open","send","closeButton","dropzone","dropButton","UploadDropzone","accept","onUpload","onCancel","currentUpload","ButtonClose","onDrop","rejectedFiles","getRootProps","getInputProps","MediaUpload","pathnames","uploadByUrl","DocumentTreeList","onDragEnd","DraggableChild","childrenSearch","draggableId","DroppableChildren","isCombineEnabled","droppableId","TreeColumn","onCreate","DocumentTree","treeParent","setTreeParent","setQuery","setParent","_getChildren","setResults","_onSubmit","queries","TreeListView","TreeColumnView","editUrl","Number","isInteger","createUrl","combine","siteSlice","requestSite","receiveSite","collectionSlice","requestCollection","receiveCollection","getCollection","collection","siteId","site","getSite","CollectionItem","CollectionList","FinderUpload","Finder","FinderTemplate","views","editorSlide","requestEditor","receiveEditor","requestEdit","receiveEdit","receiveCurrentId","requestDialog","receiveDialog","pop","editModel","saveModel","DialogBase","BottomNavigation","MenuItem","BottomNavigationAction","DialogFooter","tabIndex","showLabels","DialogSearch","AppSearch","DialogTabpanel","DialogTab","DialogLabel","DialogTabs","DialogHeader","onScroll","parentRef","handleScroll","offsetHeight","removeEventListener","ResultsFooter","from","to","ModuleLoader","modelsSelected","onAdd","modelsBySource","modelSchema","appDocumentType","sourceDocumentType","setPreview","newModel","newImageUrl","uploadStatus","imageUrlParts","imageParams","newImageParams","dimension","getImageUrl","ListLayout","ResultsList","DialogModel","ResultsGallery","ResultsUploads","uploads","MediaResults","itemSchema","setModelsSelected","getSelected","addModel","ResultsTemplate","identifier","getMediaSource","removeItem","DocumentsResults","getDocumentSource","connect","bindActionCreators","SearchResults","SearchDialog","onClose","userQ","setUserQ","handleQuery","setSort","sortSettings","dmOwnerOptions","dmOwner","setDmOwner","dmOwnerSettings","owner","mediaTypes","Array","isArray","queryUrl","getMediaType","getMediaSections","documentTypes","getDocumentType","getDocumentSections","setTabIndex","currentTab","nextToken","handleTab","currentQuery","setPages","setCurrentPage","setNextPage","getPages","FavouritesDialog","favourites","uniqueIds","getFavouritesQuery","documents","DialogUpload","UploadDialog","handleReset","uploadSession","setUploadSession","uploadModels","uploadResults","session","MediaDialog","setTemplate","mediaFavourites","mediaUploads","FavouriteBadge","invisible","UploadBadge","DocumentsDialog","EditorDialog","setFormData","documentSchema","getReferenceQuery","mediaSchema","getMediaQuery","DialogTemplate","Dialog","Editor","useHistory","editorRef","hashId","hash","_onCurrentId","hashUrl","_onToggle","expandId","_onExpand","_onCollapse","setDialog","_onDialog","EditorLoader","EditorIcon","getEditor","MediaPreview","previewOptions","PreviewMedia","currentPreview","PreviewOptions","MediaEditor","match","params","onBack","goBack","DocumentPreview","DocumentEditor","onEditReference","referenceUrl","modelType","_onHistory","q1","q2","parentUniqueId","parentModel","AdminRoutes","DocumentLinks","MenuList","toggleCollapsed","toggleExpanded","MenuToggle","light","dark","MenuLink","align","nowrap","NavMenuCalendar","NavMenu","currentUrl","renderItem","calendar","NavMenuLabel","renderLabel","breakpoints","up","navAction","navCalendar","navMenu","AppLayout","subview","subtitle","AppBase","AppHeader","AppBody","AppSidebar","NavAction","NavCalendar","AppContent","AdminLoader","Admin","_onSearchQuery","_onSearchReset","AdminLayout","collectionType","kpHome","articles","kpPages","latest","trash","Kulturpunkt","kioskHome","kioskPages","kioskDevices","Kiosk","AppRoutes","KulturPunkt","App","userSlice","requestUser","receiveUser","combineReducers","user","userReducer","siteReducer","collectionReducer","appReducer","editorReducer","finderReducer","bulkReducer","modelsByIdReducer","searchByUrlReducer","uploadByUrlReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","logger","configureStore","reducer","rootReducer","Boolean","hostname","bylineTitle","licenseGroup","translations","use","LanguageDetector","initReactI18next","init","resources","en","nb","nn","sv","fallbackLng","interpolation","escapeValue","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.d7f645e8.chunk.js","sourcesContent":["let API = \"https://kompass.dimu.org\";\n\nexport {\n    API,\n}","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { receiveModel } from \"../modelsById\"\n\nconst bulkSlice = createSlice({\n    name: 'bulk',\n    initialState: {\n        count: 0,\n        isLoading: false,\n        isSaving: false,\n        formData: {\n\n        },\n        schema: {\n\n        },\n        bulkSchema: {\n            \"type\": \"object\",\n            \"properties\": {\n                \"status\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"draft\",\n                        \"publish\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Draft\",\n                        \"Publish\"\n                    ],\n                    \"default\": false\n                },\n                \"parentId\": {\n                    \"type\": \"number\",\n                    \"enum\": [\n                        false,\n                        \"null\",\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Reset to null\",\n                    ],\n                    \"default\": false\n                },\n                \"documentType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"default\": false\n                }\n            }\n        },\n        bulk: [],\n        bulkById: {}\n    }, \n    reducers: {\n        receiveBulkEditor(state, action) {\n            const { schema, formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n                schema: schema\n            }\n\n        },\n        bulkChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n            }\n\n        },\n        bulkAdd(state, action) {\n            const { uniqueId, parentId, status, documentType } = action.payload\n\n            return {\n                ...state,\n                count: state.count + 1,\n                bulkById: {\n                    ...state.bulkById,\n                    [uniqueId]: {\n                        uniqueId: uniqueId,\n                        parentId: parentId,\n                        documentType: documentType,\n                        status: status,\n                        selected: true\n                    }\n                }\n            }\n\n        },\n        bulkRemove(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                count: state.count - 1,\n                bulkById: {\n                    ...state.bulkById,\n                    [uniqueId]: {\n                        selected: false\n                    }\n                }\n            }\n\n        },\n    }\n})\n\nexport const bulkToggle = ({uniqueId}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkById = state.bulk.bulkById\n\n    const modelsById = state.modelsById\n    const uniqueModel = modelsById && modelsById[uniqueId]\n\n    const selected = bulkById && bulkById[uniqueId] && bulkById[uniqueId].selected\n\n    if (selected) {\n        dispatch(bulkRemove(uniqueModel))\n        dispatch(getBulkEditor())\n    } else {\n        dispatch(bulkAdd(uniqueModel))\n        dispatch(getBulkEditor())\n    }\n\n}\n\nexport const bulkSubmit = ({modelName = \"documents\", formData}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n    const modelsById = state.modelsById\n\n    const url = API + '/admin/api/' + modelName;\n\n    bulkModels.map(model => {\n\n        const uniqueId = model && model.uniqueId\n        const uniqueModel = modelsById && modelsById[uniqueId]\n\n        if (!uniqueModel) {\n            return false\n        }\n\n        let newFormData = {\n            ...uniqueModel\n        }\n\n        Object.keys(formData).map(key => {\n\n            if (formData[key]) {\n                newFormData[key] = formData[key]\n            }\n\n            if (formData[key] === \"null\") {\n                newFormData[key] = null\n            }\n\n\n        })\n\n        /*\n\n        const newFormData = {\n            ...uniqueModel,\n            ...formData\n        }\n        */\n\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: JSON.stringify(newFormData)\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n//            dispatch(receiveSave(formData))\n            dispatch(receiveModel(formData))\n        })    \n    \n\n    })\n\n\n}\n\nexport const getBulkEditor = () => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n\n    console.log('BULK', bulkModels)\n\n    const bulkSchema = state.bulk.bulkSchema\n\n    let properties = {}, formData = {}, multiple = {}\n\n    bulkModels.map(model => {\n\n        Object.keys(bulkSchema.properties).map(key => {\n\n            const value = model[key]\n            const property = properties[key] ||bulkSchema.properties[key]\n\n            // set formData\n\n            if (formData[key] && formData[key] !== value) {\n                formData[key] = false\n                multiple[key] = true\n            } else if (!multiple[key] && !formData[key]) {\n                formData[key] = value\n            }\n\n            // set schema\n\n            if (property && value) {\n\n                if (property.enum && !property.enum.includes(value)) {\n                    properties[key] = {\n                        ...property,\n                        enum: [\n                            ...property.enum,\n                            value\n                        ],\n                        enumNames: [\n                            ...property.enumNames,\n                            value\n                        ]\n                    }\n\n                } else {\n                    properties[key] = property\n                }\n\n            }\n\n        })\n\n    })\n\n    const schema = {\n        ...bulkSchema,\n        properties: {\n            ...properties\n        }\n    }\n\n    dispatch(receiveBulkEditor({schema, formData}))\n\n\n}\n\nexport const { receiveBulkEditor, bulkChange, bulkAdd, bulkRemove } = bulkSlice.actions\nexport default bulkSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { bulkToggle } from '../bulk/'\n\nconst modelsByIdSlice = createSlice({\n    name: 'modelsById',\n    initialState: {\n    }, \n    reducers: {\n        requestModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: true,\n                }\n            }\n\n        },\n        receiveModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: false,\n                    ...action.payload\n                }\n            }\n\n        },\n        requestChildren(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: []\n                }\n            }\n\n        },\n        receiveChildren(state, action) {\n            const { uniqueId, children } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: children\n                }\n           }\n\n        },\n        requestReferences(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: []\n                }\n            }\n\n        },\n        receiveReferences(state, action) {\n            const { uniqueId, references } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: references\n                }\n           }\n\n        },\n        receiveParentId(state, action) {\n            const { uniqueId, parentId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parentId: parentId\n                }\n            }\n\n        },\n        receiveStatus(state, action) {\n            const { uniqueId, status } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    status: status\n                }\n            }\n\n        },\n        requestSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    isSaving: true\n                }\n\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isSaving: false,\n                    ...action.payload\n                }\n            }\n        }        \n    }\n})\n\n/** Get models from a list of results */\n\nexport const getModels = ({models}) => (dispatch, getState) => {\n\n    const state = getState()\n    const modelsById = state.modelsById\n\n    models && models.map(model => {\n        const { modelName, uniqueId } = model\n\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n\n\n    })\n\n}\n\n/** Get model from uniqueId */\n\nexport const getModel = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestModel({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel(formData))\n        })\n\n}\n\n/** Get children from uniqueId */\n\nexport const getChildren = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestChildren({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveChildren(formData))\n        })\n\n}\n\n/** Get references from uniqueId */\n\nexport const getReferences = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/references/' + modelName + '/' + uniqueId;\n\n    dispatch(requestReferences({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveReferences({...formData, uniqueId}))\n        })\n\n}\n\n\n/** Load model from uniqueId */\n\nexport const loadModel = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestModel({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel(formData))\n        })\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    formData && formData.uniqueId && dispatch(requestSave({uniqueId: formData.uniqueId}))\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n\n/** Delete */\n\nexport const deleteModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Restore */\n\nexport const restoreModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/restore/' + uniqueId;\n  \n    fetch(url, {\n        method: \"POST\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Erase */\n\nexport const eraseModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId + \"?erase=true\";\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(receiveStatus({modelName, uniqueId, status: \"erased\"}))\n    )\n\n}\n\n/** Select */\n\nexport const selectModel = ({modelName, uniqueId}) => dispatch => {\n//    dispatch(toggleModel({modelName, uniqueId}))\n    dispatch(bulkToggle({uniqueId}))\n}\n\n/** Set parentId */\n\nexport const setParentId = ({modelName = \"documents\", uniqueId, parentId}) => dispatch => {\n//    dispatch(receiveParentId({uniqueId, parentId}))\n\n    const url = API + '/admin/api/' + modelName;\n\n\n    const formData = {\n        uniqueId: uniqueId,\n        parentId: parentId,\n    }\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n    \n/** Document source */\n\nexport const getDocumentSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/documents/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addDocumentSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addDocumentSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/documents'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\n/** Media source */\n\nexport const getMediaSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/media/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addMediaSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addMediaSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/media'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\nexport const { \n    requestModel, receiveModel, \n    requestChildren, receiveChildren, \n    requestReferences, receiveReferences, \n    receiveStatus, receiveParentId,\n    requestSave, receiveSave\n} = modelsByIdSlice.actions\nexport default modelsByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\nimport { saveModel } from \"../modelsById/\";\n\nconst finderByIdSlice = createSlice({\n    name: 'finder',\n    initialState: {\n        isLoading: true,\n        pathname: undefined,\n        sortOptions: [],\n        sort: undefined,\n        rowsOptions: [\n            10,\n            20,\n            30,\n            40,\n            50,\n        ],\n        rows: undefined,\n        viewOptions: [],\n        view: undefined,\n        menu: [],\n        parents: [],\n        parentsByUrl: {},\n        menuByUrl: {},\n        menuById: {},\n    }, \n    reducers: {\n        requestFinder(state, action) {\n            const { pathname } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                isLoading: true,\n            }\n        },\n        receiveFinder(state, action) {\n            const { pathname } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                isLoading: false,\n            }\n        },\n        receiveView(state, action) {\n            const { view } = action.payload\n            return {\n                ...state,\n                view: view\n            }\n        },\n        requestViewOptions(state, action) {\n            return {\n                ...state,\n                viewOptions: undefined,\n                view: undefined\n            }\n        },\n        receiveViewOptions(state, action) {\n            const { viewOptions, view } = action.payload\n            return {\n                ...state,\n                viewOptions: viewOptions,\n                view: view\n            }\n        },\n        receiveSort(state, action) {\n            const { sort } = action.payload\n            return {\n                ...state,\n                sort: sort\n            }\n        },\n        requestSortOptions(state, action) {\n            return {\n                ...state,\n                sortOptions: undefined,\n                sort: undefined\n            }\n        },\n        receiveSortOptions(state, action) {\n            const { sortOptions, sort } = action.payload\n            return {\n                ...state,\n                sortOptions: sortOptions,\n                sort: sort\n            }\n        },\n \n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents, parentsByUrl } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                parentsByUrl: parentsByUrl\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const {menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        requestMenuItem(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        isLoading: true,\n                        url: url,\n                        ...item,\n                    }\n                }\n            }\n        },\n        receiveMenuItem(state, action) {\n            const { id, url, ...item } = action.payload\n\n            const count = item.children && item.children.length ||null\n\n            if (id) {\n                return {\n                    ...state,\n                    menuById: {\n                        ...state.menuById,\n                        [id]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            url: url,\n                            count: count,\n                        }\n                    },\n                    menuByUrl: {\n                        ...state.menuByUrl,\n                        [url]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            count: count,\n                            url: url,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                isLoading: false,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        id: id,\n                        count: count,\n                        isLoading: false,\n                        url: url,\n                    }\n                }\n            }\n        },\n        moveMenuItem(state, action) {\n            const { source, destination } = action.payload\n\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [source.url]: source,\n                    [destination.url]: destination  \n                }\n            }\n\n        },\n        expandMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: true\n                    }\n                }\n            }\n        },\n        collapseMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: false\n                    }\n                }\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n        },\n    }\n})\n\nexport const getFinder = ({pathname = undefined}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    menuItem && dispatch(getParents(menuItem)) ||dispatch(getParents({url: pathname}))\n    menuItem && dispatch(getOptions(menuItem))\n\n    dispatch(receiveFinder({pathname}))\n\n}\n\nexport const getOptions = ({viewOptions, view, sortOptions, sort}) => (dispatch) => {\n    dispatch(requestViewOptions())\n    dispatch(requestSortOptions())\n\n    viewOptions && dispatch(receiveViewOptions({viewOptions, view: view ||viewOptions[0]}))\n    sortOptions && dispatch(receiveSortOptions({sortOptions, sort: sortOptions[0]}))\n}\n\nexport const getView = ({pathname, view}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveView({view}))\n   \n}\n\nexport const getSort = ({pathname, sort}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveSort({sort}))\n}\n\nexport const getMenu = ({menu, root, collectionId}) => (dispatch) => {\n\n    const getChild = ({parent, children, url, pathname, query, viewOptions, sortOptions, ...item}) => {\n\n        if (!url && parent.url) {\n            url = pathname && parent.url + \"/\" + pathname || parent.url + \"/\"\n        } else if (!url) {\n            url = pathname && parent.root + \"/\" + pathname\n        }\n\n        if (query) {\n            query = {\n                ...query,\n                collectionId: query.collectionId || parent.collectionId\n            }\n        }\n\n        if (query && query.models === \"media\") {\n            viewOptions = viewOptions || [\"gallery\", \"grid\", \"list\", \"table\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (query && query.models === \"documents\") {\n            viewOptions = viewOptions || [\"list\", \"table\", \"grid\", \"column\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (sortOptions) {\n            query.sort = sortOptions[0]\n        }\n        \n        const child = {\n            ...item,\n            root: parent.root,\n            url: url,\n            query: query,\n            viewOptions: viewOptions,\n            sortOptions: sortOptions\n        }\n\n        const menuItem = {\n            ...child,\n            children: children && children.length && getChildren({...child, children: children})\n        }\n\n        dispatch(getMenuItem(menuItem))\n\n        return menuItem\n\n    }\n\n    const getChildren = (parent) => {\n        let children = []\n  \n        parent.children.forEach((child) => {\n            child = getChild({...child, parent});\n            children.push(child);\n        });\n        \n        return children\n    }\n\n    const rootMenu = getChildren({\n        root: root,\n        children: menu,\n        collectionId: collectionId\n    })\n\n    dispatch(receiveMenu({menu: rootMenu}))\n\n\n    /*\n\n    dispatch(requestMenuByUrl())\n\n    menu && menu.map(item => {\n        dispatch(getMenuItem({...item, level: 1}))\n    })\n    */\n    \n}\n\nexport const getParents = ({url}) => (dispatch, getState) => {\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    let parent = url && menuByUrl && menuByUrl[url] \n\n    console.log('getParents', parent)\n\n    let parents = [];\n\n    if (parent) {\n\n        while (parent) {\n            parents.push(parent)\n            parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n        }\n    \n        parents = parents.reverse()\n    \n            \n    } else {\n\n        let path = [], pathUrl\n\n        const pathnames = url.split('/');\n\n        pathnames.map(pathname => {\n    \n            path.push(pathname)\n            pathUrl = path.join('/')\n    \n            console.log('parents by path', pathUrl)\n    \n    \n            if (menuByUrl[pathUrl]) {\n                parents.push(menuByUrl[pathUrl])\n            }\n    \n        })\n    \n    }\n \n    let parentsByUrl = {}\n\n    parents.map(parent => {\n        if (parent.url) {\n            parentsByUrl[parent.url] = parent\n        }\n    })\n\n    dispatch(receiveParents({parents, parentsByUrl}))\n  \n}\n\nexport const getMenuItem = (item) => (dispatch) => {\n    const { type = \"default\", url, children} = item\n\n    if (type === \"tree\") {\n        dispatch(getMenuTree(item))\n    } else if (children) {\n        dispatch(getMenuParent(item))        \n    } else if (url) {\n        dispatch(getMenuChild(item))\n    } \n    \n}\n\nconst getMenuParent = ({children, level = 0, ...parent}) => dispatch => {\n    dispatch(requestMenuItem(parent))\n\n    children.map((child) => {\n        dispatch(getMenuItem({\n            ...child,\n            parentUrl: parent.url,\n            level: level + 1\n        }))\n    })\n\n    dispatch(receiveMenuItem({\n        ...parent,\n        children: children,\n        level: level,\n    }))\n}\n\nconst getMenuChild = ({level, ...child}) => dispatch => {\n    dispatch(requestMenuItem(child))\n    dispatch(receiveMenuItem({\n        ...child,\n        level: level\n    }))\n}\n\nexport const getMenuTree = ({level = 0, ...parent}) => dispatch => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { query } = parent\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const {models, count } = results\n\n        const parentUrl = parent.url\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                level: level + 1,\n                parentId: parentUrl,\n                parentUrl: parentUrl,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(getMenuTreeNode(child))\n\n            return child\n\n        })\n\n        dispatch(receiveMenuItem({\n            ...parent,\n            id: parentUrl,\n            level: level,\n            parentUrl: parentUrl,\n            children: children,\n            count\n        }))\n\n    })\n\n}\n\nexport const getMenuTreeNode = (item) => (dispatch) => {\n\n    const { url, uniqueId } = item\n\n    const query = {\n        models: \"documents\",\n        uniqueId: uniqueId\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const model = results.models && results.models[0]\n        const parent = {\n            ...item,\n            ...model,\n            type: \"treeitem\",\n            url: url,\n            query: {\n                models: \"documents\",\n                parentId: model && model.id\n            }\n        }\n\n        dispatch(getMenuTreeChildren(parent))\n    \n    })\n\n}\n\nexport const getMenuTreeChildren = ({level = 0, ...parent}) => (dispatch) => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { parentUrl } = parent\n\n    const query = {\n        models: \"documents\",\n        parentId: parent.id\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const {models, count } = results\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                parentUrl: parentUrl,\n                level: level + 1,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(receiveMenuItem(child))\n\n            return child\n\n        })\n\n        if (children && children.length) {\n            parent = {\n                ...parent,\n                level: level,\n                count: count,\n                children: children\n            }\n        }\n \n        dispatch(receiveMenuItem({\n            ...parent,\n            level: level\n        }))\n         \n    })\n\n}\n\nexport const sortMenuTree = ({source, destination, item}) => (dispatch, getState) => {\n\n    const state = getState()\n    const finder = state.finder\n    const menuByUrl = finder.menuByUrl\n    const menuById = finder.menuById\n\n    const itemNode = item.id && menuById[item.id]\n\n    let sourceNode = source.url && {\n        ...menuByUrl[source.url],\n        children: [...menuByUrl[source.url].children]\n    }\n\n    sourceNode.children.splice(source.index, 1)\n\n    let destinationNode = destination.url && {\n        ...menuByUrl[destination.url],\n        children: menuByUrl[destination.url].children && [...menuByUrl[destination.url].children, itemNode] ||[itemNode]\n    }\n\n\n    dispatch(receiveMenuItem({\n        ...sourceNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...destinationNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...itemNode,\n        parentUrl: destinationNode.url,\n        parentId: destinationNode.id\n    }))\n\n    const id = itemNode.id;\n    const parentId = destinationNode.id\n\n    if (id && parentId === destinationNode.url) {\n        dispatch(saveModel({\n            id: id,\n            parentId: null\n        }))\n    } else if (id && parentId) {\n        dispatch(saveModel({\n            id: id,\n            parentId: parentId\n        }))\n    }\n\n}\n\nexport const { \n    requestFinder, receiveFinder, \n    requestMenu, receiveMenu,\n    requestViewOptions, receiveViewOptions, receiveView,\n    requestSortOptions, receiveSortOptions, receiveSort,\n    requestMenuByUrl, receiveMenuByUrl, \n    requestMenuTree, receiveMenuTree, \n    requestMenuTreeItem, receiveMenuTreeItem, \n    requestMenuItem, receiveMenuItem, \n    moveMenuItem,\n    expandMenuItem, collapseMenuItem, toggleMenuItem, \n    requestParents, receiveParents } = finderByIdSlice.actions\nexport default finderByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getMenu } from \"../finder/\"\n\nconst appSlice = createSlice({\n    name: 'app',\n    initialState: {\n        isLoading: true,\n        header: {\n        },\n        search: {\n//            expanded: false\n        },\n        sidebar: {\n        }\n    }, \n    reducers: {\n        requestApp(state, action) {\n            return {\n                ...state,\n                isLoading: true,\n            }\n        },\n        receiveApp(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        receiveLayout(state, action) {\n            const { header, sidebar } = action.payload\n            return {\n                ...state,\n                header: header,\n                sidebar: sidebar\n            }\n        },\n        toggleSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: !state.search.expanded,\n                }\n            }\n        },\n        toggleHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: !state.header.expanded,\n                }\n            }\n        },\n        toggleSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: !state.sidebar.expanded,\n                }\n            }\n        },\n        requestSchemasByName(state, action) {\n            return {\n                ...state,\n                schemasByName: {}\n            }\n        },\n        receiveSchemasByName(state, action) {\n            const { schemasByName } = action.payload\n            return {\n                ...state,\n                schemasByName: schemasByName\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const {menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n\n        },\n        receiveMenuItemByUrl(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        url: url\n                    }\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents\n            }\n        }\n    }\n})\n\nexport const getApp = (app) => dispatch => {\n\n    dispatch(requestApp(app))\n    dispatch(receiveApp(app))\n\n    dispatch(getMenu(app))\n//    schemas && dispatch(getSchemasByName({schemas}))\n    \n}\n\nexport const getLayout = (layout = \"default\") => dispatch => {\n\n    if (layout === \"editor\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: false\n            },\n            sidebar: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: true\n            }\n        }))\n    }\n\n}\n\nexport const getAppSearch = ({expanded, q}) => dispatch => {\n    dispatch(toggleSearch({expanded, q}))  \n}\n\nexport const getParents = ({pathname}) => (dispatch, getState) => {\n\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    let parents = [];\n  \n    const pathnames = pathname.split('/');\n  \n    let url = '';\n  \n    pathnames.forEach((path) => {\n\n        if (path) {\n            url = url + '/' + path;\n        } else {\n            url = '/';\n        }\n    \n        if (menuByUrl && menuByUrl[url] && menuByUrl[url].title) {\n            parents.push(menuByUrl[url]);\n        }\n        \n        if (url == '/') {\n            url = '';\n        }\n\n    });\n\n    dispatch(receiveParents({parents:parents}))\n  \n}\n\nexport const getSchemasByName = ({schemas = []}) => dispatch => {\n\n    dispatch(requestSchemasByName())\n\n    let schemasByName = {}\n\n    schemas.map(schema => {\n\n        if (schema.name) {\n            schemasByName[schema.name] = schema\n        }\n\n    })\n\n    dispatch(receiveSchemasByName({schemasByName}))\n    \n}\n\nexport const getMenuItem = ({pathname}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    if (menuItem && menuItem.type === \"tree\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    if (menuItem && menuItem.type === \"treeitem\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    \n}\n \nconst getMenuTree = (parent) => dispatch => {\n\n    const { query } = parent\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => \n       dispatch(getMenuTreeChildren({parent, results}))\n    )\n\n}\n\nconst getMenuTreeChildren = ({parent, results}) => dispatch => {\n    const { models } = results;\n\n\n    let children = []\n\n    if (models) {\n        models.map((model) => {\n\n            const { template, query } = parent\n            const { collectionId, models } = query;\n\n            const { id, title, uniqueId } = model;\n                \n            let url = parent.url + \"/\" + uniqueId;\n        \n            const child = {\n                ...model,\n                template: template,\n                type: \"treeitem\",\n                pathname: url,\n                url: url,\n                query: {\n                    collectionId: collectionId,\n                    models: models,\n                    parentId: id\n                }\n            }\n            \n            children.push(child)\n        })\n    \n    }\n    \n    if (children.length) {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"tree\", count: children.length, children: children}))\n        \n        children.map((child) => {\n//            dispatch(receiveMenuItemByUrl(child))\n            dispatch(getMenuTree(child))\n        })\n        \n    } else {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"treeitem\"}))\n\n    }\n\n}\n\n\nconst getMenuChildren = ({children = [], level = 0}) => dispatch => {\n\n    children.forEach((child) => {\n\n        let item = {\n            ...child,\n            level: level\n        }\n\n        if (item.children) {\n            dispatch(getMenuChildren({children: item.children, level: level++}))\n        }\n\n        dispatch(receiveMenuItemByUrl(item))\n\n    });\n\n}\n\n/*\nexport const getMenuByUrl = ({menu = []}) => dispatch => {\n    dispatch(requestMenuByUrl())\n    dispatch(getMenuChildren({children: menu}))\n}*/\n\n\nexport const { requestApp, receiveApp, receiveLayout, toggleHeader, toggleSearch, toggleSidebar, requestSchemasByName, receiveSchemasByName, requestMenu, receiveMenu, toggleMenuItem, requestMenuByUrl, receiveMenuByUrl, receiveMenuItemByUrl, requestParents, receiveParents } = appSlice.actions\nexport default appSlice.reducer","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonEdit = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"edit\" aria-label=\"edit\" onClick={onClick}>\n            <EditIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonEdit;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ViewIcon from '@material-ui/icons/Visibility';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonView = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"view\" aria-label=\"view\" onClick={onClick}>\n            <ViewIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonView;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonLink = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"link\" aria-label=\"link\" onClick={onClick}>\n            <LinkIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonLink;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport SelectIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        color: \"inherit\",\n    },\n    select: {\n        color: \"inherit\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"1px solid\",\n        borderColor: \"currentColor\",\n        margin: -1,\n    },\n    selected: {\n        color: \"inherit\",\n        display: \"block\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"2px solid\",\n        margin: -2,\n        borderColor: theme.palette.primary.main,\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        boxShadow: theme.shadows[2],\n\n        \"& svg\": {\n            width: theme.spacing(2.5),\n            height: theme.spacing(2.5),\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%,-50%)\",\n//            color: \"currentColor\"\n        }        \n\n    }\n}));\n\nconst ButtonSelectable = ({className, selected = false, onClick}) => {\n    const classes = useStyles();\n\n    if (selected) {\n\n        return (\n            <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" value=\"select\" aria-label=\"select\" onClick={onClick}>\n                <div className={classes.selected}>\n                    <SelectIcon />\n                </div>\n            </IconButton>\n        )\n\n    }\n\n    return (\n        <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" value=\"select\" aria-label=\"select\" onClick={onClick}>\n            <SelectIcon />\n        </IconButton>\n    )\n\n    return (\n        <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" value=\"select\" aria-label=\"select\" onClick={onClick}>\n            <div className={classes.select}>\n                <SelectIcon />\n            </div>\n        </IconButton>\n    )\n\n}\n\nexport default ButtonSelectable;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonAdd = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"add\" aria-label=\"add\" onClick={onClick}>\n            <AddIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonAdd;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonRemove = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"remove\" aria-label=\"remove\" onClick={onClick}>\n            <RemoveIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonRemove;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonDelete = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"delete\" aria-label=\"delete\" onClick={onClick}>\n            <DeleteIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonDelete;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonRestore = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"restore\" aria-label=\"restore\" onClick={onClick}>\n            <RestoreIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonRestore;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport EraseIcon from '@material-ui/icons/DeleteForever';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonErase = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"erase\" aria-label=\"erase\" onClick={onClick}>\n            <EraseIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonErase;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        position: \"fixed\",\n        zIndex: 2000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: \"white\",\n        color: \"black\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        opacity: 0,\n        transition: \".5s ease-out\",\n        pointerEvents: \"none\",\n        \"[data-is-loading=true] &\": {\n            opacity: 1\n        }\n    },\n    icon: {\n        width: 64,\n        height: 64,\n\n        \"& > svg\": {\n            fontSize: 64,\n        },\n\n        \"& > img\": {\n            width: theme.spacing(8),\n            height: theme.spacing(8)\n        },\n\n        transition: \".5s ease-out\",\n        transform: \"scale(3)\",\n        opacity: 0,\n\n        \"[data-is-loading=true] &\": {\n            opacity: 1,\n            transform: \"scale(1)\"\n        }\n\n    },\n    content: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        \"& * + *\": {\n            margin: theme.spacing(.5)\n        },\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"16px\",\n        color: theme.palette.text.primary\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst Loader = ({className, isLoading = true, icon, imageUrl, title, description, children}) => {\n    const classes = useStyles()\n\n\n    return (\n        <div data-is-loading={isLoading}>\n            <div className={classes.loader}>\n                <Icon className={classes.icon}>\n                    { icon }\n                </Icon>\n                <div className={classes.content}>\n                    <h2 className={classes.title}>{title}</h2>\n                    <p className={classes.description}>{description}</p>\n                </div>\n            </div>\n            {!isLoading && children}\n        </div>\n    )\n\n}\n\nLoader.defaultProps = {\n    title: \"App\",\n    description: \"Loading app\"\n}\n\nLoader.propTypes = {\n    /** Wheter app is loading or not, if not */\n    isLoading: PropTypes.bool,\n    /** SVG icon */\n    icon: PropTypes.node,\n    /** ImageUrl, displayed if no icon is present */\n    imageUrl: PropTypes.string,\n    /** Loading title, normally the title of the app that is loading */\n    title: PropTypes.string,\n    /** Description. Consider changing this on load progress */\n    description: PropTypes.string,\n}\n\n\nexport default Loader\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    base: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n}));\n\nconst PreviewBase = ({children}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <div className={classes.base}>\n            {children}\n        </div>\n    )\n}\n\nPreviewBase.propTypes = {\n    children: PropTypes.node,\n}\n\nexport default PreviewBase;","\nimport React from \"react\"\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    options: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: \"auto\",\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n        margin: theme.spacing(1)\n\n    },\n}));\n\n\nconst PreviewChip = ({label, title, selected, onClick}) => {\n\n    if (selected) {\n        return (\n            <Chip\n                label={label ||title}\n                color=\"primary\"\n            />\n        )\n    }\n\n    return (\n        <Chip\n            label={label ||title}\n            color=\"default\"\n            onClick={onClick}\n        />\n    )\n\n}\n\nconst NavPreview = ({className, options = [], value, onChange}) => {\n\n    const classes = useStyles()\n\n    const _onChange = ({value}) => {\n        onChange && onChange(value)\n    }\n\n    return (\n        <nav className={className || classes.options}>\n            {options.map((item, index) => (<PreviewChip {...item} selected={value === item.value} key={index} onClick={() => _onChange(item)} />))}\n        </nav>\n    )\n    \n}\n\nexport default NavPreview","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    scale: {\n        position: \"absolute\",\n        transform: props => { return props.scale && \"scale(\"+props.scale+\")\" },\n        margin: props => { return props.margin },\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        \"& > *\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n\n            maxWidth: props => { return props.maxWidth },\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        }\n\n    },\n}));\n\nconst PreviewScale = ({children, maxWidth, scale = 1, margin = 0, ...props}) => {\n\n    if (scale < 1) {\n        margin = scale * 100 * -1 + \"%\"\n    }\n\n    const classes = useStyles({scale, maxWidth, margin})\n\n    return (\n        <div className={classes.scale}>\n            {children}\n        </div>\n    )\n}\n\nPreviewScale.propTypes = {\n    children: PropTypes.node.isRequired,\n}\n\nexport default PreviewScale;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { create } from 'jss';\nimport { makeStyles, withStyles, useTheme, jssPreset, StylesProvider } from '@material-ui/core/styles';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport rtl from 'jss-rtl';\nimport Frame from 'react-frame-component';\n\nconst useStyles = theme => ({\n    frame: {\n        width: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        height: \"100%\",\n        border: 'none',\n    },\n});\n\nconst PreviewIframe = (props) => {\n    const { children, classes, ...other } = props;\n    const theme = useTheme();\n    const [state, setState] = useState({\n        ready: false,\n    });\n    \n    const instanceRef = React.useRef();\n\n    const handleRef = React.useCallback((ref) => {\n        instanceRef.current = {\n            contentDocument: ref ? ref.node.contentDocument : null,\n            contentWindow: ref ? ref.node.contentWindow : null,\n        };\n    }, []);\n\n    const onContentDidMount = () => {\n        setState({\n            ready: true,\n            jss: create({\n            plugins: [...jssPreset().plugins, rtl()],\n            insertionPoint: instanceRef.current.contentWindow['demo-frame-jss'],\n            }),\n            sheetsManager: new Map(),\n            container: instanceRef.current.contentDocument.body,\n            window: () => instanceRef.current.contentWindow,\n        });\n    };\n\n    const onContentDidUpdate = () => {\n        instanceRef.current.contentDocument.body.dir = theme.direction;\n    };\n\n//    const wrapper = useStyles()\n\n    // NoSsr fixes a strange concurrency issue with iframe and quick React mount/unmount\n    return (\n        <NoSsr defer>\n            <Frame\n                ref={handleRef}\n                className={classes.frame}\n                contentDidMount={onContentDidMount}\n                contentDidUpdate={onContentDidUpdate}\n                {...other}\n            >\n            <div id=\"demo-frame-jss\" />\n                {state.ready ? (\n                <StylesProvider jss={state.jss} sheetsManager={state.sheetsManager}>\n                    {React.cloneElement(children, {\n                    container: state.container,\n                    window: state.window,\n                    })}\n                </StylesProvider>\n                ) : null}\n            </Frame>\n        </NoSsr>\n    )\n}\n\nPreviewIframe.propTypes = {\n    children: PropTypes.node.isRequired,\n    classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(useStyles)(PreviewIframe);","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflowY: \"scroll\",\n        fontFamily: \"Akkurat Mono\",\n        fontVariantLigatures: \"none\",\n        fontSize: \"14px\",\n        lineHeight: 1.5,\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.secondary,\n        whiteSpace: \"pre-wrap\",\n        wordWrap: \"break-word\",\n\n        margin: 0,\n        padding: theme.spacing(1),\n\n        \"& .string\": {\n            color: theme.palette.code.string\n        },\n        \"& .number\": {\n            color: theme.palette.code.number\n        },\n        \"& .boolean\": {\n            color: theme.palette.code.boolean\n        }\n\n    },\n}));\n\nconst PreviewCodeRender = ({theme, language, children, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <pre className={classes.root} data-theme={theme} data-language={language}>{children}</pre>\n    )\n            \n}\n\nexport default PreviewCodeRender;","import { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport red from '@material-ui/core/colors/red';\n\nconst darkTheme = createMuiTheme({\n    typography: {\n        fontFamily: \"Akkurat, sans-serif !important\"\n    },\n    palette: {\n        type: \"dark\",\n        code: {\n            string: red['A100'],\n            boolean: blue['A100'],\n            number: blue['A100']\n        },\n    }\n});\n\nexport default darkTheme","import { createMuiTheme } from '@material-ui/core/styles';\nimport blue from '@material-ui/core/colors/blue';\nimport red from '@material-ui/core/colors/red';\n\nconst theme = createMuiTheme({\n    typography: {\n        fontFamily: \"Akkurat, sans-serif !important\"\n    },\n    palette: {\n        code: {\n            string: red['A400'],\n            boolean: blue['A400'],\n            number: blue['A400']\n        }\n    }\n});\n\nexport default theme","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { renderToStaticMarkup } from 'react-dom/server'\nimport reactElementToJSXString from 'react-element-to-jsx-string';\nimport pretty from 'pretty';\n\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\n\nimport PreviewCodeRender from \"./PreviewCodeRender\"\n\nimport { ThemeProvider } from '@material-ui/core/styles';\n\nimport themeDark from \"./PreviewCode.themeDark\"\nimport themeLight from \"./PreviewCode.themeLight\"\n\nconst themes = {\n    \"light\": themeLight,\n    \"dark\": themeDark\n}\n\nfunction isJSON(something) {\n    try {\n        JSON.parse(JSON.stringify(something));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction isClassComponent(component) {\n    return (\n        typeof component === 'function' && \n        !!component.prototype.isReactComponent\n    ) ? true : false\n}\n\nfunction isFunctionComponent(component) {\n    return (\n        typeof component === 'function' && \n        String(component).includes('return React.createElement')\n    ) ? true : false;\n}\n\nfunction isReactComponent(component) {\n    return (\n        isClassComponent(component) || \n        isFunctionComponent(component)\n    ) ? true : false;\n}\n\nfunction isElement(element) {\n    return React.isValidElement(element);\n}\n\nfunction isDOMTypeElement(element) {\n    return isElement(element) && typeof element.type === 'string';\n}\n\nfunction isCompositeTypeElement(element) {\n    return isElement(element) && typeof element.type === 'function';\n}\n\nconst preTag = ({className, theme, language, children, ...props}) => {\n\n    return (\n        <pre className={className} data-theme={theme} data-language={language}>{children}</pre>\n    )\n            \n}\n\nconst PreviewCode = ({theme = \"dark\", language, data, children}) => {\n\n    let value = data ||children\n\n    if (isJSON(value)) {\n        language = \"json\"\n        value = JSON.stringify(value, 0, 2);\n    } else if (typeof value === \"function\") {\n        language = \"javascript\"\n        value  = value.toString()\n    } else if (isCompositeTypeElement(value)) {\n        language = \"jsx\"\n        value = reactElementToJSXString(value)\n    } else if (isDOMTypeElement(value)) {\n        value = pretty(renderToStaticMarkup(value))\n    }\n    \n    if (!value ||typeof value !== \"string\") {\n        return false;\n    }\n    \n    value = value.trim();\n\n    \n    return (\n        <ThemeProvider theme={themes[theme] || themeLight}>\n            <SyntaxHighlighter data-theme={theme} data-language={language} language={language} style={false} wrapLines={true} useInlineStyles={false}\n                PreTag={(props) => PreviewCodeRender({...props, theme, language})}>{value}</SyntaxHighlighter>\n        </ThemeProvider>\n    )    \n}\n\nPreviewCode.propTypes = {\n    language: PropTypes.string,\n    theme: PropTypes.string,\n    data: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.object,\n        PropTypes.func\n    ])   \n}\n\nexport default PreviewCode;","import React from 'react';\nimport PreviewCode from \"../PreviewCode/PreviewCode\";\n\nconst PreviewJSON = ({theme = \"light\", children}) => {\n\n    return (\n        <PreviewCode theme={theme} language=\"json\">{children}</PreviewCode>\n    )\n\n}\n\nexport default PreviewJSON;","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n//            margin: theme.spacing(1),\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst viewOptions = {\n    \"list\": {\n        \"icon\": \"view_headline\",\n    },\n    \"table\": {\n        \"icon\": \"view_stream\",\n    },\n    \"masonry\": {\n        \"icon\": \"view_quilt\",\n    },\n    \"gallery\": {\n        \"icon\": \"view_module\",\n    },\n    \"grid\": {\n        \"icon\": \"view_module\",\n    },\n    \"column\": {\n        \"icon\": \"view_column\",\n    }\n}\n\n\nconst NavView = ({className, options = [], value, onChange}) => {\n\n    const classes = useStyles()\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    const ButtonView = ({title, value, icon, selected}) => {\n        return (\n            <ButtonBase className={classes.button} aria-selected={selected} onClick={() => _onChange(value)}>\n                <Icon className={classes.icon}>{icon}</Icon>\n                <div className={classes.label}>{title}</div>\n            </ButtonBase>\n        )\n    }\n\n    return (\n        <nav className={className}>\n            <div className={classes.buttongroup}>\n                { options && options.map((item, index) => {\n\n                    if (typeof item === \"string\") {\n                        item = {\n                            ...viewOptions[item],\n                            title: item,\n                            value: item\n                        }\n                    }\n                    \n                    return (\n                        <ButtonView {...item} selected={value === item.value} key={index}/>\n                    )\n                    \n                })}\n            </div>\n        </nav>\n    )\n\n        \n}\n\nexport default NavView","import React, { forwardRef } from 'react';\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport SortIcon from '@material-ui/icons/SwapVert';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        borderRadius: 2,\n    },\n    icon: {\n        fontSize: 20,\n\n        \"& svg * \": {\n            fill: \"currentColor\"\n        }\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n        fontWeight: \"bold\",\n        lineHeight: 1,\n        textTransform: \"uppercase\",\n    }\n}));\n\nconst ListSettingsButton = forwardRef(({icon, label, children, onClick}, ref) => {\n\n    const classes = useStyles()\n\n    return (\n        <ButtonBase onClick={onClick} ref={ref}>\n            <SortIcon className={classes.icon} />\n            <b className={classes.label}>{label}</b>\n        </ButtonBase>\n    )\n\n    if (icon) {\n        return (\n            <IconButton onClick={onClick} ref={ref}>\n                <Icon className={classes.icon}>{icon}</Icon>\n            </IconButton>\n        )\n    }\n\n    return (\n        <IconButton className={classes.button} onClick={onClick} ref={ref}>\n            <b className={classes.label}>{children}</b>\n        </IconButton>\n    )\n\n})\n\nListSettingsButton.defaultProps = {\n}\n\nListSettingsButton.propTypes = {\n}\n\nexport default ListSettingsButton;","import React, { forwardRef, useState, useEffect, useRef } from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    }\n}));\n\nconst ListSettingsOptions = ({\n    value, \n    options,\n    onChange\n}) => {\n\n    const _onSelect = (value) => {\n        onChange && onChange(value)\n    }\n\n    const ListOption = (option) => {\n        const {icon, label, value } = option\n\n        return (\n            <ListItem button onClick={() => _onSelect(value)}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={label ||value} />\n            </ListItem>\n        )\n\n    }\n\n    const classes = useStyles()\n\n    return (\n        <List>\n            { options && options.map((option, index) => {\n                return <ListOption {...option} key={index} />\n            })}\n        </List>\n    )\n\n}\n\nListSettingsOptions.defaultProps = {\n}\n\nListSettingsOptions.propTypes = {\n}\n\nexport default ListSettingsOptions;","import React, { useState, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport PropTypes from \"prop-types\"\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport SortOptionsButton from './SortOptionsButton';\nimport SortOptions from \"./SortOptionsList\"\n\nconst NavSort = ({\n    className,\n    value, \n    options,\n    onChange,\n}) => {\n\n    const { t, i18n } = useTranslation(['sort'])\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n        setExpanded(false)\n    }\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const sortOptions = options && options.map(option => {\n        \n        if (typeof option === \"string\" ||typeof option === \"number\") {\n            return {\n                label: t(option),\n                value: option.toString()\n            }\n        }\n\n        return option\n\n    })\n\n    if (!sortOptions) {\n        return false\n    }\n\n    if (!value && sortOptions.length) {\n        value = sortOptions[0].value\n    }\n\n    const currentOption = value && sortOptions.find(option => option.value === value) ||sortOptions[0]\n\n\n    return (\n        <nav className={className}>\n            <SortOptionsButton onClick={_onToggle} {...currentOption} ref={anchorRef}>{currentOption && currentOption.label}</SortOptionsButton>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <SortOptions options={sortOptions} value={value} onChange={_onChange} />\n            </Dropdown>\n        </nav>\n    )\n\n}\n\nNavSort.defaultProps = {\n}\n\nNavSort.propTypes = {\n    className: PropTypes.string,\n    options: PropTypes.array,\n    value: PropTypes.string,\n    onChange: PropTypes.func\n}\n\nexport default NavSort","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      '& > * + *': {\n        marginTop: theme.spacing(2),\n      },\n    },\n}));\n\nconst NavPages = ({count, page, onChange}) => {\n    const classes = useStyles();\n\n    const _onChange = (event, value) => {\n        onChange && onChange(value, event)\n    };\n  \n    return (\n        <div className={classes.root}>\n            <Pagination count={count} page={page} onChange={_onChange} />\n        </div>\n    );\n    \n}\n\nexport default NavPages;","import React, { forwardRef, useState, useEffect, useRef } from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Icon from \"@material-ui/core/Icon\"\nimport CheckIcon from \"@material-ui/icons/Check\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    }\n}));\n\nconst ViewOptionsList = ({\n    value, \n    options,\n    onChange\n}) => {\n\n    const classes = useStyles()\n\n    const _onSelect = (option) => {\n        onChange && onChange(option.value)\n    }\n\n    const ListOption = (option) => {\n        const {icon, label } = option\n\n        return (\n            <ListItem button onClick={() => _onSelect(option)}>\n                <ListItemIcon>{ value === option.value && <Icon><CheckIcon /></Icon>}</ListItemIcon>\n                <ListItemText primary={label ||option.value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <List>\n            { options && options.map((option, index) => {\n                return <ListOption {...option} key={index} />\n            })}\n        </List>\n    )\n\n}\n\nViewOptionsList.defaultProps = {\n}\n\nViewOptionsList.propTypes = {\n}\n\nexport default ViewOptionsList;","import React, { useState, useRef } from 'react';\nimport PropTypes from \"prop-types\"\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Link from '@material-ui/core/Link';\nimport ViewOptionsList from \"./ViewOptionsList\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        \"fontStyle\": \"normal\",\n        \"&:hover\": {\n            \"cursor\": \"pointer\"\n        }\n    }\n}));\n\nconst ViewOptions = ({\n    className,\n    value, \n    options,\n    onChange,\n}) => {\n\n    const classes = useStyles()\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onChange = (value) => {\n        console.log('change', value)\n\n        onChange && onChange(value)\n        setExpanded(false)\n    }\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    if (!options) {\n        return false\n    }\n\n    if (!value && options.length) {\n        value = options[0].value\n    }\n\n    const currentOption = value && options.find(option => option.value === value) || options[0]\n\n    const label = currentOption && currentOption.label ||currentOption && currentOption.title\n\n    return (\n        <>\n            <Link className={className ||classes.link } onClick={_onToggle} ref={anchorRef}>\n                <b className={classes.label}>{label}</b>\n            </Link>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <ViewOptionsList options={options} value={value} onChange={_onChange} />\n            </Dropdown>\n        </>\n    )\n\n}\n\nViewOptions.defaultProps = {\n}\n\nViewOptions.propTypes = {\n    className: PropTypes.string,\n    options: PropTypes.array,\n    value: PropTypes.string,\n    onChange: PropTypes.func\n}\n\nexport default ViewOptions","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ViewOptions from \"./ViewOptions\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n        marginBottom: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        color: theme.palette.text.primary,\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary,\n    }\n}));\n\nconst ViewHeader = ({\n    title,\n    description, \n    sortOptions, sort, onSort, \n    rowsOptions, rows, onRows, \n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            <span className={classes.title}>{title}</span>\n            { sortOptions && <i> <ViewOptions options={sortOptions} value={sort} onChange={onSort} /></i> }\n            { rowsOptions && <i> <ViewOptions options={rowsOptions} value={rows} onChange={onRows} /></i> }\n            { description && <span className={classes.description}> {description}</span> }\n        </header>\n    )\n\n}\n\nViewHeader.propTypes = {\n    title: PropTypes.string,\n    description: PropTypes.string,\n    sortOptions: PropTypes.array,\n    sort: PropTypes.string,\n    onSort: PropTypes.func,\n    rowsOptions: PropTypes.array,\n    rows: PropTypes.number,\n    onRows: PropTypes.func\n}\n\nexport default ViewHeader","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst useStyles = makeStyles(theme => ({\n    pages: {\n        paddingTop: theme.spacing(1)\n    }\n}));\n\nconst ViewPages = ({className, pages, page, onPage}) => {\n    const classes = useStyles()\n\n    if (pages < 2) {\n        return false\n    }\n\n    const _onChange = (event, value) => {\n        onPage && onPage(value, event)\n    };\n  \n    return (\n        <div className={className ||classes.pages}>\n            <Pagination count={pages} page={page} onChange={_onChange} />\n        </div>\n    );\n\n    \n}\n\nViewPages.defaultProps = {\n}\n\nViewPages.propTypes = {\n    className: PropTypes.string,\n    pages: PropTypes.number,\n    page: PropTypes.number,\n    onPage: PropTypes.func\n}\n\nexport default ViewPages","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Paper from '@material-ui/core/Paper'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        \"&[data-status=trash]\": {\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n        },\n        \"&.sortable-helper\": {\n            boxShadow: theme.shadows[12],\n            zIndex: 2000\n        }\n    }\n}));\n\n/** ModuleBase is used as a wrapper for all modules, setting common variables that other modules need.  */\n\nconst ModuleBase = ({\n        id, \n        className,\n        component,\n        status, \n        selected,\n        deleted,\n        erased,\n        expanded, \n        elevation, \n        onClick, \n        children\n    }) => {\n\n    const classes = useStyles();\n\n    if (component === \"tr\") {\n        return (\n            <tr id={id}\n                className={className || classes.root}\n                data-status={status}\n                data-deleted={deleted}\n                data-erased={erased}\n                aria-expanded={expanded}\n                aria-selected={selected}>\n                    {children}\n            </tr>\n        )\n    }\n\n    if (!elevation) {\n        return (\n            <article id={id}\n                className={className || classes.root}\n                data-status={status}\n                data-deleted={deleted}\n                data-erased={erased}\n                aria-expanded={expanded}\n                aria-selected={selected}\n                role={onClick && \"button\"}\n                onClick={onClick}>\n                    {children}\n            </article>\n        )\n    }\n\n\n    return (\n        <Paper id={id} \n            component={component}\n            className={className || classes.root}\n            data-status={status}\n            data-deleted={deleted}\n            data-erased={erased}\n            data-elevated={true}\n            aria-expanded={expanded}\n            aria-selected={selected}\n            elevation={elevation}\n            square={true}\n            role={onClick && \"button\"}\n            onClick={onClick}>\n                { children }\n        </Paper>\n    )\n\n}\n\nModuleBase.defaultProps = {\n    component: \"article\",\n    elevation: 0,\n\n\n}\n\nModuleBase.propTypes = {\n    /** Id */\n    id: PropTypes.string,\n    /** className */\n    className: PropTypes.string,\n    /** Which component to use */\n    component: PropTypes.string,\n    /** Elevation */\n    elevation: PropTypes.number,\n    /** Status */\n    status: PropTypes.string,\n    /** Selected or not */\n    selected: PropTypes.bool,\n    /** Expanded or not */\n    expanded: PropTypes.bool,\n    /** onClick */\n    onClick: PropTypes.func\n}\n\nexport default ModuleBase;","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst useStyles = makeStyles({\n});\n\nconst StyledTabs = withStyles({\n    root: {\n        padding: 0,\n        margin: 0,\n        minHeight: \"36px\"\n    },\n    indicator: {\n      backgroundColor: '#666',\n    },\n})(Tabs);\n\nconst StyledTab = withStyles(theme => ({\n    root: {\n      textTransform: 'none',\n      minWidth: 0,\n      minHeight: \"36px\",\n      paddingLeft: 0,\n      paddingRight: 0,\n      marginLeft: 0,\n      marginRight: theme.spacing(2),\n      fontFamily: \"Akkurat, sans-serif\",\n      fontSize: \"14px\",\n      fontWeight: \"bold\",\n      letterSpacing: 0,\n      color: \"inherit\",\n      '&:hover': {\n        color: \"inherit\",\n        opacity: 1,\n      },\n      '&$selected': {\n        opacity: 1,\n      },\n      '&:focus': {\n        opacity: 1,\n      },\n    },\n    selected: {},\n  }))(props => <Tab disableRipple {...props} />);\n\nconst NavTabs = ({className, tabs = []}) => {\n    const classes = useStyles();\n    const [value, setValue] = React.useState(0);\n\n    const onTabIndex = (event, index) => {\n        setValue(index);\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    };\n\n    return (\n        <nav className={className || classes.root}>\n            <StyledTabs\n                value={value}\n                onChange={onTabIndex}\n                indicatorColor=\"primary\"\n                textColor=\"inherit\"\n            >\n                { tabs && tabs.map((tab, index) => {\n                    return (\n                        <StyledTab label={tab.label || tab.title} value={index} key={index} />\n                    )\n                })}\n            </StyledTabs>\n        </nav>\n    );\n}\n\nexport default NavTabs;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"16px\",\n        lineHeight: \"24px\",\n        fontWeight: \"bold\",\n        maxWidth: \"100%\",\n        color: theme.palette.text.primary,\n        \"&[data-status=trash]\": {\n            color: theme.palette.text.disabled,\n            textDecoration: \"line-through\"\n        },\n        \"&[data-status=erased]\": {\n            color: theme.palette.text.disabled,\n            textDecoration: \"line-through\"\n        },\n    },\n    link: {\n        color: \"inherit\",\n        \"&:hover\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst ModuleTitle = ({className, title, untitled = \"Untitled\", status, onClick, children}) => {\n    const classes = useStyles()\n\n    if (!title && children) {\n        title = children\n    }\n\n    if (!title && untitled) {\n        title = untitled\n    }\n\n    if (onClick) {\n        return (\n            <Typography data-status={status} className={className || classes.root} component=\"h2\" noWrap={true}>\n                <Link className={classes.link} onClick={onClick}>{title}</Link>\n            </Typography>\n        )\n    }\n\n    return (\n        <Typography data-status={status} className={className || classes.root} component=\"h2\" noWrap={true}>{title}</Typography>\n    )\n}\n\nModuleTitle.propTypes = {\n    untitled: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n};\n\nModuleTitle.defaultProps = {\n    onClick: undefined,\n};\n\n\nexport default ModuleTitle;","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Button from '@material-ui/core/Button';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nconst ListSettings = ({options = [], value, ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = (option) => {\n        const {icon, title, label, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>{value}</Button>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default ListSettings","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\n\nconst gridUnit = 56;\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        position: \"relative\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        width: props => { return props.cols * gridUnit + \"px\" },\n        height: props => { return props.rows * gridUnit + \"px\" },\n    },\n    item: {\n        position: \"absolute\",\n        display: \"block\",\n        top: 0,\n        left: 0,\n        backgroundColor: \"rgba(0,0,0,.125)\",\n    },\n    button: {\n        outline: \"1px solid white\",\n        width: props => { return props.cols * gridUnit + \"px\" },\n        height: props => { return props.rows * gridUnit + \"px\" },\n\n        \"&:hover\": {\n            backgroundColor: \"rgba(0,0,0,.5)\",\n            color: \"white\",\n        },\n        \"&[aria-selected=true]\": {\n            backgroundColor: \"blue\",\n            color: \"white\"\n        }\n    },\n    label: {\n        position: \"absolute\",\n        top: 'auto',\n        right: 0,\n        bottom: 0,\n        left: 'auto',\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: '12px',\n        padding: theme.spacing(0.5)\n    }\n}));\n\nconst GridItem = ({size, value, label, selected, onClick, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <li className={classes.item}>\n            <ButtonBase className={classes.button} data-size={size} aria-selected={selected} onClick={onClick}>\n                <b className={classes.label}>{label}</b>\n            </ButtonBase>\n        </li>\n    )\n}\n\nconst GridList = ({children, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <ul className={classes.list}>\n            {children}\n        </ul>\n    )\n}\n\nconst OptionsGrid = ({cols, rows, value, options = [], onSelect, ...props}) => {\n\n    return (\n        <GridList cols={cols} rows={rows}>\n            {options.map((item, index) => (\n                <GridItem {...item} selected={item.value === value} key={index} onClick={() => onSelect(item)}>{item.value}</GridItem>\n            ))}\n        </GridList>\n    )\n\n}\n\nexport default OptionsGrid;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport ListSettings from \"./ListSettings\"\nimport GridSettings from \"./GridSettings\"\n\nconst templates = {\n    \"list\": ListSettings,\n    \"grid\": GridSettings,\n}\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\"\n    }\n}));\n\n/** NavSettings renders settings with options. Each setting should have an onChange function. */\n\nconst NavSettings = ({className, settings = []}) => {\n    const classes = useStyles()\n\n    if (!settings.length) {\n        return false\n    }\n\n    const renderSettings = ({template, ...props}, index) => {\n\n        let SettingsTemplate\n\n        if (template && typeof template === \"function\") {\n            SettingsTemplate = template\n        }else if (template && templates[template]) {\n            SettingsTemplate = templates[template]\n        } else {\n            SettingsTemplate = ListSettings\n        }\n\n        return <SettingsTemplate {...props} key={index} />\n            \n    }\n    \n    return (\n        <div className={className ||classes.settings}>\n            { settings && settings.map((settingsProps, index) => {\n                return renderSettings(settingsProps)\n            })}\n        </div>\n    )\n\n}\n\nNavSettings.propTypes = {\n    settings: PropTypes.array,\n}\n\nexport default NavSettings;\n","import React, { useState, useRef } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\nimport Button from '@material-ui/core/Button';\nimport _ from \"lodash\"\n\nimport GridSettingsList from \"./GridSettingsList\"\n\nconst getOptions = ({options = []}) => {\n    let _cols = 0, _rows = 0, _options = [], _byValue = {};\n\n    options.map((item, index) => {\n\n        if (typeof item === \"string\") {\n            item = { label: item, value: item }\n        }\n\n        const size = item.value;\n        const grid = size.split(':');\n        const cols = grid[0] * 1\n        const rows = grid[1] * 1\n\n        if (cols > _cols) {\n            _cols = cols\n        }\n\n        if (rows > _rows) {\n            _rows = rows\n        }\n\n        item = {\n            ...item,\n            order: cols * rows,\n            size: size,\n            cols: cols,\n            rows: rows\n        }\n\n        _options.push(item)\n        _byValue[item.value] = item\n\n    })    \n\n    _options = _.orderBy(_options, 'order', 'desc'); \n\n    return {\n        byValue: _byValue,\n        options: _options,\n        cols: _cols,\n        rows: _rows,\n    }\n\n}\n\n\nconst GridSettings = ({type = \"grid\", name, label, value, onChange, ...props}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    \n    const { options, byValue, cols, rows } = getOptions(props)\n    const current = byValue[value] || options[0]\n\n\n    const onSelect = (item) => {\n        if (onChange) {\n            onChange(name, item.value)\n        }\n        setExpanded(false);\n    }\n\n    const onCollapse = () => {\n        setExpanded(false);\n    }\n\n    return (\n        <React.Fragment>\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>{current.label}</Button>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <GridSettingsList value={current && current.value} cols={cols} rows={rows} options={options} onSelect={onSelect} />\n            </Dropdown>\n        </React.Fragment>            \n    )\n\n}\n\nexport default GridSettings;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModuleTabs from \"./ModuleTabs\"\nimport ModuleTitle from './ModuleTitle';\n\nimport NavSettings from \"../NavSettings/NavSettings\"\n//import NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        },\n\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"16px\",\n        lineHeight: \"24px\",\n        fontWeight: \"bold\",\n    },\n    tabs: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1),\n        color: \"inherit\"\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n    },\n    toolbar: {\n        display: \"flex\",\n        color: \"inherit\"\n    },\n}));\n\n/** Used in ExpandedModule, will show a title, menu or list children */\n\nconst ModuleHeader = ({className, status, title, menu, settings, toolbar, children}) => {\n    const classes = useStyles()\n\n    if (children) {\n        return (\n            <header className={classes.header}>\n                {children}\n            </header>\n        )\n    }\n\n    return (\n        <header className={className || classes.header}>\n            { menu && <ModuleTabs className={classes.tabs} tabs={menu} />}\n            { !menu && <ModuleTitle className={classes.title} status={status} title={title} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n    \n}\n\nexport default ModuleHeader;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        position: \"relative\"\n    }\n}));\n\nconst ModuleBody = ({className, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.body}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default ModuleBody;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        padding: props => { return theme.spacing(props.padding) }\n    }\n}));\n\n/** ModuleFooter */\n\nconst ModuleFooter = ({className, padding = 2, children}) => {\n    const classes = useStyles({padding});\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <footer className={className ||classes.footer}>\n            { children }\n        </footer>\n    )\n\n}\n\nexport default ModuleFooter;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    buttongroup: {\n        margin: props => { return theme.spacing(props.spacing/2 * -1) },\n        \"& > *\": {\n            margin: props => { return theme.spacing(props.spacing/2) },\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    label: {\n\n    }\n}));\n\nconst ModuleButton = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n    const classes = useStyles()\n    \n    return (\n        <Button {...props} type=\"button\" data-size={size} data-variant={variant} disableElevation={true} color={color} variant={variant} size={size} className={classes.button}>\n            { icon && <Icon className={classes.icon}>{icon}</Icon>}\n            <b className={classes.label}>{title}</b>\n        </Button>\n    )\n\n}\n\nconst ModuleButtons = ({className, spacing = 1, buttons = []}) => {\n    const classes = useStyles({spacing});\n\n    if (!buttons.length) {\n        return false\n    }\n\n    return (\n        <ButtonGroup color=\"primary\" className={className ||classes.buttongroup}>\n            { buttons && buttons.map((button, index) => {\n                return (\n                    <ModuleButton {...button} className={classes.button} key={index} />\n                )\n            })}\n        </ButtonGroup>\n    )\n\n}\n\nexport default ModuleButtons;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: props => { return props.minHeight },\n        paddingBottom: props => { return props.ratio * 100 + \"%\" },\n    }\n}));\n\nconst ModuleFormat = ({format, minHeight, children}) => {\n\n    let ratio;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        ratio = h/w;\n    }\n\n    const classes = useStyles({ratio, minHeight})\n\n    if (ratio ||minHeight) {\n\n        return (\n            <div className={classes.format}\n                data-minHeight={minHeight}\n                data-ratio={ratio} \n                data-format={format}>\n                { children }\n            </div>\n        )\n           \n    }\n\n    return children\n\n}\n\nexport default ModuleFormat","import React from 'react';\nimport moment from 'moment';\nimport \"moment/locale/nb\";\nimport \"moment/locale/nn\";\nimport \"moment/locale/sv\";\n\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary\n    }\n}));\n\n/** Module date, uses moment.js */\n\nconst ModuleDate = ({className, locale = \"nb\", datetime, format = \"relative\"}) => {\n    const classes = useStyles()\n\n    if (!datetime) {\n        return false\n    }\n\n    // format value\n\n    moment.locale(locale)\n\n    let date;\n    \n    if (format === \"relative\") {\n        date = moment(datetime).fromNow()\n    } else if (format) {\n        date = moment(datetime).format(format)\n    } else {\n        date = moment(datetime).format()\n    }\n\n    return (\n        <time dateTime={datetime} className={className ||classes.root}>{date}</time>\n    )\n}\n\nModuleDate.propTypes = {\n    /** Locale string */\n    locale: PropTypes.string,\n    /** Datetime as YYYY-MM-DD */\n    datetime: PropTypes.string,\n    /** Moment.js format */\n    format: PropTypes.string,\n};\n\nexport default ModuleDate;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport ModuleDate from \"./ModuleDate\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    byline: {\n//        display: \"flex\",\n//        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary,\n    },\n    author: {\n        display: \"inline\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        fontWeight: \"normal\",\n    },\n    datetime: {\n        display: \"inline\",\n        fontStyle: \"normal\",\n        fontWeight: \"normal\"\n    }\n}));\n\nconst ModuleByline = ({author, datetime, locale = \"nb\", format = \"relative\"}) => {\n    const classes = useStyles()\n\n    if (!datetime) {\n        return false\n    }\n\n    return (\n        <Typography className={classes.byline} noWrap={true} component=\"h3\">\n            <ModuleDate datetime={datetime} locale={locale} format={format} className={classes.datetime} />\n            {' '}\n            <b className={classes.author}>by {author}</b>\n        </Typography>\n    )\n}\n\nModuleByline.propTypes = {\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    locale: PropTypes.string,\n    format: PropTypes.string,\n};\n\nexport default ModuleByline;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"normal\",\n        color: props => { return props.color ||theme.palette.text.secondary }\n    }\n}));\n\nconst ModuleDescription = ({className, color, description, children}) => {\n    const classes = useStyles({color})\n\n    if (!description && children) {\n        description = children\n    }\n\n    if (!description || typeof(description) === \"undefined\") {\n        return false\n    }\n\n    return (\n        <Typography className={className || classes.root} noWrap={true} component=\"h3\">{description}</Typography>\n    )\n}\n\nModuleDescription.propTypes = {\n    description: PropTypes.string,\n}\n\nexport default ModuleDescription;","import React from 'react';\nimport Color from 'color';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst getContrastColor = (color) => {\n\n    color = Color(color);\n\n    if (color.isDark()) {\n        return \"white\"\n    } else {\n        return \"black\"\n    }\n\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"inline-block\",\n        fontSize: \"12px\",\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"inherit\",\n        fontWeight: \"bold\",\n        padding: \".125em .75em\",\n        border: \"1px solid\",\n        backgroundColor: props => { return props.color || \"transparent\" },\n        borderColor: props => { return props.color || theme.palette.divider },\n        color: props =>{ return props.color && getContrastColor(props.color) || theme.palette.text.secondary },\n        borderRadius: \"1.25em\",\n    }\n}));\n\nconst ModuleLabel = ({className, component = \"h4\", label, color, children}) => {\n    const classes = useStyles({color})\n\n    if (!label && children) {\n        label = children\n    }\n\n    if (!label) {\n        return false\n    }\n\n    return (\n        <span className={className || classes.root}>\n           <Typography className={classes.label} noWrap={true} component={component}>{label}</Typography>\n        </span>\n    )\n}\n\nModuleLabel.propTypes = {\n    component: PropTypes.string,\n    label: PropTypes.string,\n    color: PropTypes.string\n};\n\nModuleLabel.defaultProps = {\n    label: undefined,\n    color: undefined\n};\n\nexport default ModuleLabel;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Paper from '@material-ui/core/Paper';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        width: props => { return props.width },\n        height: props => { return props.height },\n        margin: \"0\",\n    },\n    cropbox: {\n        display: \"block\",\n        position: \"absolute\",\n        backgroundColor: props => { return props.backgroundColor },\n//        backgroundColor: \"grey\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\",\n        overflow: \"hidden\",\n        opacity: \"1\",\n        transformOrigin: \"50% 50%\",\n        transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1)\",\n        transform: \"scale(1)\",\n        userSelect: \"none\",\n        \"&[aria-selected=true]\": {\n            transform: \"scale(0.8)\",\n        }\n    },\n    image: {\n        display: \"block\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"50%\",\n        transform: \"translateX(-50%)\",        \n        maxWidth: props => { return props.maxWidth },\n        maxHeight: props => { return props.maxHeight },\n        margin: \"auto\"\n    },\n}));\n\nconst ModuleMedia = ({className, elevation = 0, selected = false, imageUrl, backgroundColor = \"grey\", layout = \"contain\", width = \"56px\", height = \"56px\", maxWidth = \"100%\", maxHeight = \"100%\", margin = 0, onClick, ...props}) => {\n    const classes = useStyles({...props, backgroundColor, width, height, maxWidth, maxHeight, margin})\n\n    const coverStyle = {\n        backgroundPosition: \"50% 50%\",\n        backgroundImage: \"url(\"+imageUrl+\")\",\n        backgroundSize: layout,\n        backgroundRepeat: \"no-repeat\" \n    }\n\n    if (selected) {\n//        elevation = elevation * 4\n    }\n\n    if (layout === \"cover\") {\n        return (\n            <div className={className || classes.root} aria-selected={selected} onClick={onClick}>\n                <Paper component=\"figure\" className={classes.cropbox} aria-selected={selected} style={coverStyle} square={true} elevation={elevation}>\n                    <img src={imageUrl} className={classes.image} style={{display: \"none\"}} />\n                </Paper>\n            </div>\n        )\n    }\n\n    return (\n        <div className={className || classes.root} aria-selected={selected} onClick={onClick}>\n            <Paper component=\"figure\" className={classes.cropbox} aria-selected={selected} square={true} elevation={elevation}>\n                <img src={imageUrl} className={classes.image} />\n            </Paper>\n        </div>\n    )\n}\n\nModuleMedia.propTypes = {\n    imageUrl: PropTypes.string,\n    width: PropTypes.string,\n    height: PropTypes.string,\n    margin: PropTypes.string\n};\n\nexport default ModuleMedia;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"normal\",\n        color: theme.palette.text.secondary\n    }\n}));\n\n/** ModuleMetadata takes an array of strings and displays them on a single line */\n\nconst ModuleMetadata = ({className, metadata = []}) => {\n    const classes = useStyles()\n\n    if (!metadata) {\n        return false\n    }\n\n    metadata = metadata.join('  ')\n    \n    return (\n        <Typography className={className || classes.root} noWrap={true} component=\"h3\">{metadata}</Typography>\n    )\n}\n\nModuleMetadata.propTypes = {\n    component: PropTypes.string,\n    metadata: PropTypes.array,\n}\n\nexport default ModuleMetadata;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"bold\",\n        color: theme.palette.text.secondary\n    }\n}));\n\n/** ModuleStatus, draft, publish, trash, erased */\n\nconst ModuleStatus = ({component = \"h3\", status, children}) => {\n\n    const classes = useStyles()\n\n    if (!status && children) {\n        status = children\n    }\n\n    if (!status) {\n        return false\n    }\n\n    return (\n        <Typography className={classes.label} noWrap={true} component={component}>{status}</Typography>\n    )\n}\n\nModuleStatus.propTypes = {\n    status: PropTypes.string,\n};\n\nexport default ModuleStatus;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport SelectIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        \"& svg\": {\n            width: theme.spacing(2.5),\n            height: theme.spacing(2.5),\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%,-50%)\",\n            color: \"currentColor\"\n        }        \n    },\n    select: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"1px dotted\",\n        margin: 1,\n        borderColor: \"currentColor\",\n\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1\n        }\n\n    },\n    selected: {\n        display: \"block\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"2px solid\",\n        borderColor: theme.palette.primary.main,\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        boxShadow: theme.shadows[2],\n    }\n}));\n\nconst ButtonSelectable = ({className, selected = false, onClick}) => {\n    const classes = useStyles();\n\n    if (selected) {\n\n        return (\n            <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" aria-label=\"select\" onClick={onClick}>\n                <div className={classes.selected}>\n                    <SelectIcon />\n                </div>\n            </IconButton>\n        )\n\n    }\n\n    return (\n        <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" aria-label=\"select\" onClick={onClick}>\n            <div className={classes.select}>\n                <SelectIcon />\n            </div>\n        </IconButton>\n    )\n\n}\n\nexport default ButtonSelectable;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\n//import ButtonDraggable from \"../NavToolbar/ButtonDraggable\"\n//import ButtonCollapsible from \"../NavToolbar/ButtonCollapsible\"\nimport ButtonSelectable from \"./ButtonSelect\"\n\nconst ButtonDraggable = () => (<p>drag</p>)\nconst ButtonCollapsible = () => (<p>collapse</p>)\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    icon: {\n        margin: theme.spacing(1.5)\n    }\n}));\n\nconst ModulePrefix = ({ className, startAdornment, icon, onClick, selectable, selected, onSelect }) => {\n\n    const classes = useStyles()\n\n    if (startAdornment) {\n        return (\n            <div className={className ||classes.root}>\n                { startAdornment }\n            </div>\n        )    \n    }\n\n    if (selectable) {\n        return (\n            <div className={className ||classes.root}>\n                { selectable && <ButtonSelectable selected={selected} onClick={onSelect} /> }\n            </div>\n        )    \n    }\n\n    if (icon && onClick) {\n        return (\n            <IconButton className={className ||classes.root} onClick={onClick}>\n                <Icon>{icon}</Icon>\n            </IconButton>\n        )    \n    }\n\n    if (icon) {\n        return (\n            <div className={className ||classes.root}  >\n                <Icon className={classes.icon}>{icon}</Icon>\n            </div>\n        )    \n    }\n\n    return false\n\n}\n\nModulePrefix.propTypes = {\n    className: PropTypes.string,\n    startAdornment: PropTypes.node,\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    icon: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default ModulePrefix;\n","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Button from '@material-ui/core/Button';\n\nconst NavToolbarOptions = ({options = [], ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = ({type = \"listitem\", icon, title, onClick, ...props}) => {\n\n        if (type === \"button\") {\n            return (\n                <ListItem>\n                    <Button {...props} fullWidth={true} onClick={onClick}>\n                        {title}\n                    </Button>\n                </ListItem>\n            )\n        }\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title} />\n            </ListItem>\n        )\n\n    }\n    \n    return (\n        <React.Fragment>\n            <IconButton onClick={_onToggle} ref={anchorRef}>\n                <Icon>{button && button.icon}</Icon>\n            </IconButton>\n\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavToolbarOptions","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Button from '@material-ui/core/Button';\n\nconst NavToolbarSettings = ({options = [], value, ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = (option) => {\n        const {icon, title, label, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>\n                {value}\n            </Button>\n\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavToolbarSettings","import React from \"react\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nconst NavToolbarButton = ({name, icon, disabled, onClick}) => {\n\n    return (\n        <IconButton name={name} onClick={onClick} disabled={disabled}>\n            <Icon>{icon}</Icon>\n        </IconButton>    \n    )\n\n}\n\nexport default NavToolbarButton","\nconst getVisibilityOptions = (props) => {\n    const { hideable, hidden, deletable, deleted, restorable, restored, removable} = props\n    const { onHide, onUnhide, onDelete, onRestore, onRemove } = props\n\n    // hideable\n\n    let options = []\n    \n    if (hideable) {\n        \n        options.push({\n            name: \"hidden\",\n            icon: \"visibility\",\n            title: \"Visible\",\n            onClick: onUnhide\n        })\n\n        options.push({\n            name: \"hidden\",\n            icon: \"visibility_off\",\n            title: \"Hidden\",\n            onClick: onHide\n        })\n        \n    }\n    \n    // deletable && restorable\n    \n    if (deletable && restorable) {\n        \n        if (deleted) {\n            options.push({\n                type: \"button\",\n                variant: \"outlined\",\n                name: \"restore\",\n                title: \"Restore\",\n                onClick: onRestore\n            })            \n        } else {\n            options.push({\n                type: \"button\",\n                variant: \"outlined\",\n                name: \"delete\",\n                title: \"Delete\",\n                onClick: onDelete\n            })            \n        }\n\n    // deletable\n        \n    } else if (deletable && onDelete) {\n\n        options.push({\n            type: \"button\",\n            variant: \"outlined\",\n            name: \"delete\",\n            title: \"Delete\",\n            onClick: onDelete\n        })            \n\n    // removable\n\n    } else if (removable) {\n\n        options.push({\n            type: \"button\",\n            variant: \"outlined\",\n            name: \"remove\",\n            title: \"Remove\",\n            onClick: onRemove\n        })            \n\n    }\n    \n    // set icon\n\n    let icon;\n\n    if (deleted && restorable) {\n        icon = \"restore\"\n    } else if (deleted) {\n        icon = \"delete\"\n    } else if (hidden) {\n        icon = \"visibility_off\"\n    } else {\n        icon = \"visibility\"\n    }\n    \n    return {\n        name: \"visibility\",\n        icon: icon,\n        options: options\n    }\n    \n}\n\nconst getVisibilityToolbar = (props, toolbar) => {\n    const { hideable, hidden, deletable, deleted, restorable, restored, erasable, erased, addable, removable} = props\n    const { onHide, onUnhide, onDelete, onRestore, onErase, onRemove } = props\n\n    // deleted\n\n    if (deleted) {\n            \n        toolbar = [];\n\n        if (restorable) {\n            toolbar.push({\n                name: \"restore\",\n                icon: \"restore\",\n                onClick: onRestore\n            });\n        }\n\n        if (erasable) {\n            toolbar.push({\n                name: \"erase\",\n                icon: \"delete_forever\",\n                onClick: onErase\n            });\n        }\n\n        if (!toolbar.length) {\n            toolbar.push({\n                name: \"deleted\",\n                icon: \"delete\",\n                disabled: true\n            });\n        }\n\n        \n        return toolbar;\n\n    // hideable => visibility options\n    \n    } else if (hideable && (deletable || restorable)) {\n\n        let visibility = getVisibilityOptions(props)\n        toolbar.push(visibility)\n\n    // hideable\n\n    } else if (hideable && hidden) {\n\n        toolbar.push({\n            name: \"hidden\",\n            icon: \"visibility_off\",\n            onClick: onUnhide\n        })\n\n    } else if (hideable) {\n\n        toolbar.push({\n            name: \"hidden\",\n            icon: \"visibility\",\n            onClick: onHide\n        })\n       \n    // deletable\n\n    } else if (deletable) {\n        toolbar.push({\n            name: \"remove\",\n            icon: \"delete\",\n            onClick: onDelete\n        })\n\n    // removable\n        \n    } else if (removable) {\n        toolbar.push({\n            name: \"remove\",\n            icon: \"remove_circle\",\n            onClick: onRemove\n        })\n        \n    }\n\n    return toolbar\n\n}\n\n\nconst getEditableToolbar = (props, toolbar) => {\n    const { editable, editing } = props\n    const { onEdit, onSave } = props\n\n    if (editable && editing) {\n        toolbar.unshift({\n            label: \"Save\",\n            onClick: onSave\n        })\n    } else if (editable) {\n        toolbar.unshift({\n            icon: \"edit\",\n            onClick: onEdit\n        })\n    }\n\n    return toolbar\n\n}\n\nexport const getToolbar = (props) => {\n\n    let toolbar = []\n\n    toolbar = getEditableToolbar(props, toolbar)\n    toolbar = getVisibilityToolbar(props, toolbar)\n    \n    return toolbar;    \n  \n}\n\nexport default getToolbar","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport NavToolbarOptions from \"./NavToolbarOptions\"\nimport NavToolbarSettings from \"./NavToolbarSettings\"\nimport NavToolbarButton from \"./NavToolbarButton\"\n\nimport getToolbar from \"./getToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\"\n    }\n}));\n\n/** NavToolbar renders buttons and options based on capabilities. */\n\nconst NavToolbar = ({className, toolbar, ...props}) => {\n    const classes = useStyles()\n\n    if (!toolbar) {\n        toolbar = getToolbar(props)\n    }\n\n    if (!toolbar.length) {\n        return false\n    }\n\n    return (\n        <div className={className ||classes.toolbar}>\n            { toolbar && toolbar.map((button, index) => {\n\n                const { value, options } = button\n\n                if (value) {\n                    return <NavToolbarSettings {...button} />\n                }\n\n                if (options) {\n                    return <NavToolbarOptions {...button} />\n                }\n            \n                return <NavToolbarButton {...button} />\n                \n            })}\n        </div>\n    )\n\n}\n\nNavToolbar.propTypes = {\n    toolbar: PropTypes.array,\n    hideable: PropTypes.bool,\n    hidden: PropTypes.bool,\n    onHide: PropTypes.func,\n    onUnhide: PropTypes.func,\n    editable: PropTypes.bool,\n    editing: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    deleted: PropTypes.bool,\n    onDelete: PropTypes.func,\n    erasable: PropTypes.bool,\n    erased: PropTypes.bool,\n    onErase: PropTypes.func,\n    restorable: PropTypes.bool,\n    restored: PropTypes.bool,\n    onRestore: PropTypes.func,\n    removable: PropTypes.bool,\n    removed: PropTypes.bool,\n    onRemove: PropTypes.func,\n}\n\nexport default NavToolbar;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport NavSettings from \"../NavSettings/NavSettings\"\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    actionbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    settings: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n\n\n    },\n}));\n\n\nconst ModuleActionbar = ({ className, settings, toolbar, children, ...props }) => {\n    const classes = useStyles()\n\n    if (children) {\n        return (\n            <div className={className ||classes.actionbar}>\n                {children}\n            </div>\n        )    \n    }\n\n    return (\n        <div className={className ||classes.actionbar}>\n            <NavSettings className={classes.settings} settings={settings} />\n            <NavToolbar {...props} className={classes.toolbar} toolbar={toolbar} />\n        </div>\n    )    \n\n}\n\nModuleActionbar.propTypes = {\n    settings: PropTypes.array,\n    toolbar: PropTypes.array\n}\n\nexport default ModuleActionbar;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleFormat from \"./ModuleFormat\"\nimport ModuleBase from \"./ModuleBase\"\nimport ModuleHeader from \"./ModuleHeader\"\nimport ModuleBody from \"./ModuleBody\"\nimport ModuleFooter from \"./ModuleFooter\"\nimport ModuleButtons from \"./ModuleButtons\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        minHeight: props => { return props.minHeight },\n        marginTop: props => { return props.minHeight && 0 },\n        paddingRight: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        paddingLeft: theme.spacing(2),\n        flexGrow: 1\n    },\n    footer: {\n        borderTop: \"1px solid\", \n        borderColor: theme.palette.divider,\n        padding: theme.spacing(2),\n    }\n\n}));\n\nconst ExpandedModule = ({id, buttons, children, ...props }) => {\n    const classes = useStyles(props)\n\n    return (\n        <ModuleBase className={classes.module} id={id} expanded={true} elevation={4}>\n            <ModuleFormat {...props}>\n                <ModuleHeader {...props} className={classes.header} />\n                <ModuleBody className={classes.body}>\n                    {children}\n                </ModuleBody>\n            </ModuleFormat>\n            <ModuleFooter {...props} className={classes.footer}>\n                {buttons && <ModuleButtons buttons={buttons} /> }\n            </ModuleFooter>\n        </ModuleBase>\n    )    \n\n}\n\nExpandedModule.propTypes = {\n    title: PropTypes.string,\n    menu: PropTypes.array,\n    buttons: PropTypes.array,\n    children: PropTypes.node\n}\n\nexport default ExpandedModule;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ExpandedModule from \"./ExpandedModule\"\nimport {ListModule } from \"../\"\n\n/** ModuleLayout, use for documents or media objects */\n\nconst ModuleLayout = ({\n    editable,\n    expanded,\n    buttons,\n    onSave,\n    children,\n    ...props\n}) => {\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onSave\n                }\n            ]\n        }\n\n    }\n\n    if (expanded) {\n        return (\n            <ExpandedModule {...props} buttons={buttons}>\n                {children}\n            </ExpandedModule>\n        )\n    }\n\n    return (\n        <ListModule\n            {...props}\n            editable={editable}\n        />\n    )\n\n}\n\nModuleLayout.defaultProps = {\n    padding: 2,\n    editable: false\n}\n\nModuleLayout.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default ModuleLayout;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ExpandedModule from \"./ExpandedModule\"\nimport { ListModule } from \"../\"\n\n/** EditableModule, primarily used in Schema */\n\nconst EditableModule = ({\n    editable,\n    editing,\n    buttons,\n    onSave,\n    children,\n    ...props\n}) => {\n\n    if (editable && editing) {\n\n        if (!buttons) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onSave\n                }\n            ]\n        }\n\n        return (\n            <ExpandedModule {...props} buttons={buttons}>\n                {children}\n            </ExpandedModule>\n        )\n    }\n\n    return (\n        <ListModule\n            {...props}\n            editable={editable}\n        />\n    )\n\n}\n\nEditableModule.defaultProps = {\n    padding: 2,\n    editable: true\n}\n\nEditableModule.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default EditableModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleBase from \"./ModuleBase\"\nimport ModulePrefix from \"./ModulePrefix\"\nimport ModuleActionbar from \"./ModuleActionbar\"\n\nimport ModuleMedia from './ModuleMedia';\nimport ModuleTitle from './ModuleTitle';\nimport ModuleLabel from './ModuleLabel';\nimport ModuleDescription from './ModuleDescription';\nimport ModuleMetadata from './ModuleMetadata';\nimport ModuleStatus from './ModuleStatus';\nimport ModuleByline from './ModuleByline';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        userSelect: \"none\",\n\n        \"& > td\": {\n            minHeight: theme.spacing(8),\n        },\n\n        \"&[data-status=trash]\": {\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n        },\n\n        \"& h2\": {\n            fontSize: \"16px\",\n            lineHeight: \"24px\",\n        },\n\n        \"& $primaryAction\": {\n            opacity: .5,\n        },\n\n        \"& $actionbar\": {\n            opacity: .5,\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n            \"& $primaryAction\": {\n                opacity: 1,\n\n                \"& svg\": {\n                    opacity: 1\n                }\n            }\n        },\n\n\n        \"&:hover\": {\n            \"& $primaryAction\": {\n                opacity: 1,\n                \"& svg\": {\n                    opacity: 1\n                }\n            },\n            \"& $actionbar\": {\n                opacity: 1,\n                \"& button\": {\n                    opacity: .5,\n                    \"&:hover\": {\n                        opacity: 1,\n                    }\n                }\n            }\n\n        },\n\n        \"&[data-role=button]\": {\n\n            \"&:hover\": {\n                cursor: \"pointer\",\n            },\n\n\n            \"& *\": {\n//                pointerEvents: \"none\"\n            },\n\n            \"& $primaryAction\": {\n                opacity: .5,\n                /*\n                \"& svg\": {\n                    opacity: 0\n                }*/\n            },\n\n            \"&[aria-selected=true]\": {\n            },\n\n        },\n        \n    },\n    headerCell: {\n        width: \"50%\",\n        verticalAlign: \"middle\",\n        padding: theme.spacing(1),\n    },\n    footerCell: {\n        width: \"50%\",\n        verticalAlign: \"middle\",\n        padding: theme.spacing(1),\n        position: \"relative\"\n    },\n    footer: {\n        display: \"flex\",\n        width: \"100%\",\n    },\n    actionCell: {\n        width: theme.spacing(6),\n        verticalAlign: \"middle\",\n    },\n    mediaCell: {\n        width: theme.spacing(7),\n        textAlign: \"center\",\n        verticalAlign: \"middle\"\n    },\n    media: {\n        position: \"relative\",\n        width: theme.spacing(7),\n        height: theme.spacing(7),\n    },\n    content: {\n        width: \"100%\",\n        display: \"flex\",\n        flexGrow: 1,\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n    },\n    metadata: {\n        width: \"100%\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n        \"& > *\": {\n            lineHeight: \"24px\"\n        }\n    },\n    primaryAction: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    actionbar: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"auto\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    }\n}));\n\nconst TableModule = ({ imageUrl, title, description, metadata, type, typeLabel, status, statusLabel, author, datetime, selected, onClick, onEdit, ...props }) => {\n\n    const classes = useStyles()\n    const defaultImageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\";\n\n    return (\n        <ModuleBase {...props} component=\"tr\" className={classes.root} status={status} selected={selected} role={onClick && \"button\"}>\n            <td className={classes.actionCell} onClick={onClick}>\n                <ModulePrefix className={classes.primaryAction} selected={selected} {...props} />\n            </td>\n            <td className={classes.mediaCell} onClick={onClick}>\n                <ModuleMedia backgroundColor=\"transparent\" imageUrl={imageUrl || defaultImageUrl} className={classes.media} />\n            </td>            \n            <td className={classes.headerCell} onClick={onClick}>\n                <header className={classes.content}>\n                    <ModuleTitle status={status} title={title} onClick={!onClick && onEdit ||undefined} />\n                    <div className={classes.metadata}>\n                        <ModuleLabel label={typeLabel ||type} />\n                        <ModuleDescription description={description} />\n                        <ModuleMetadata metadata={metadata} />\n                    </div>\n                </header>\n            </td>\n            <td className={classes.footerCell} onClick={onClick}>\n                <div className={classes.content}>\n                    <ModuleStatus component=\"h2\" status={statusLabel ||status} />\n                    <div className={classes.metadata}>\n                        <ModuleByline author={author} datetime={datetime} />\n                    </div>\n                </div>\n                <ModuleActionbar {...props} className={classes.actionbar} />\n            </td>\n        </ModuleBase>\n    )    \n\n}\n\nTableModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    onClick: PropTypes.func,\n    onEdit: PropTypes.func,\n}\n\nexport default TableModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleBase from \"./ModuleBase\"\nimport ModulePrefix from \"./ModulePrefix\"\n\nimport ModuleMedia from './ModuleMedia';\nimport ModuleTitle from './ModuleTitle';\nimport ModuleLabel from './ModuleLabel';\nimport ModuleStatus from './ModuleStatus';\nimport ModuleByline from './ModuleByline';\n\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        userSelect: \"none\",\n\n        \"& $toolbar\": {\n            opacity: 0\n        },\n\n        \"&:hover\": {\n            \"& $toolbar\": {\n                opacity: 1\n            }\n        }, \n        \"&[data-status=trash]\": {\n            \"& $media\": {\n                opacity: .5 \n            },\n            \"& $toolbar\": {\n                opacity: 1\n            }\n        },        \n        \"&[data-status=erased]\": {\n            \"& $media\": {\n                opacity: .25 \n            }\n        },\n    \n    },\n    grid: {\n        display: \"block\",\n        backgroundColor: \"transparent\",\n        color: \"white\",\n        position: \"relative\",\n        width: \"100%\",\n        \n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n            color: \"currentColor\",\n\n            \"& $primaryAction\": {\n                opacity: 1,\n            },\n\n            \"& $media\": {\n//                opacity: .75\n            }\n        }\n\n    },\n    media: {\n        display: \"block\",\n        position: \"relative\",\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\"\n    },\n    primaryAction: {\n        position: \"absolute\",\n        zIndex: 3,\n        top: 0,\n        right: 'auto',\n        bottom: \"auto\",\n        left: 0,\n\n        \"& button\": {\n            color: \"white\",\n        },\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        width: \"100%\",\n        height: props => { return props.mediaHeight },\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"& button\": {\n            color: \"white\",\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        },\n\n        \"& button[name=select]\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0\n        },\n        \"& button[name=toggle]\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0\n        }\n    },\n    content: {\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5)\n    },\n    body: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        justifyContent: \"flex-start\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    }\n}));\n\nconst GridModule = ({ \n    width = 180, \n    maxWidth, \n    mediaStyle, \n    mediaHeight = 180, \n    mediaLayout = \"contain\", \n    selected, \n    imageUrl, \n    title, \n    description, \n    type,\n    typeLabel, \n    status,\n    statusLabel,\n    author, \n    datetime, \n    onClick,\n//    onSelect,\n    onEdit, \n    ...props\n}) => {\n\n    if (maxWidth) {\n        width = maxWidth\n    }\n\n    const classes = useStyles({\n        width: width,\n        mediaHeight: mediaHeight,\n    })\n\n    const media = {\n        elevation: 1,\n        selected: selected,\n        layout: mediaLayout,\n        imageUrl: imageUrl || \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\",\n    }\n\n    return (\n        <ModuleBase {...props} className={classes.root} selected={selected} status={status} onClick={undefined}>\n            <div className={classes.grid} onClick={onClick} role={onClick && \"button\"} aria-selected={selected}>\n                <ModuleMedia {...media} className={classes.media} />\n            </div>\n            <NavToolbar {...props} className={classes.toolbar} />\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle title={title} status={status} onClick={onClick && undefined ||onEdit} />\n                </header>\n                <div className={classes.body}>\n                    <ModuleLabel label={typeLabel || type} />\n                    <ModuleStatus status={statusLabel ||status} />\n                </div>\n                <footer className={classes.footer}>\n                    <ModuleByline author={author} datetime={datetime} />\n                </footer>\n            </div>\n            <ModulePrefix className={classes.primaryAction} selected={selected} {...props} />\n        </ModuleBase>\n    )    \n\n}\n\n\nGridModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    onClick: PropTypes.func,\n    onEdit: PropTypes.func\n}\n\nexport default GridModule;\n","import React from 'react';\nimport GridModule from \"./GridModule\"\n\nconst GalleryModule = (model) => {\n    \n    return (\n        <GridModule {...model} mediaLayout=\"cover\" maxWidth=\"100%\" />\n    )\n\n\n}\n\nexport default GalleryModule","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleBase from \"./ModuleBase\"\nimport ModuleMedia from './ModuleMedia';\nimport ModuleTitle from './ModuleTitle';\nimport ModuleLabel from './ModuleLabel';\nimport ModuleStatus from './ModuleStatus';\nimport ModuleByline from './ModuleByline';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: props => { return props.width },\n        userSelect: \"none\",\n\n        \"&[data-status=erased]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n        \"&[data-status=trash]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },        \n    },\n\n    leadingIcon: {\n        position: \"absolute\",\n        zIndex: 3,\n        top: 0,\n        right: 'auto',\n        bottom: \"auto\",\n        left: 0,\n    },\n    actionbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        width: props => { return props.width },\n        height: props => { return props.height },\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        opacity: \"0\",\n\n        \"& button[name=select]\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0\n        },\n        \"& button[name=toggle]\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0\n        }\n    },\n    content: {\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n        padding: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5)\n    },\n    body: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        justifyContent: \"flex-start\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    }\n}));\n\nconst CardModule = ({ \n    width = 180, \n    maxWidth, \n    mediaStyle, \n    mediaHeight = 180, \n    mediaLayout = \"contain\", \n    selected, \n    imageUrl, \n    title, \n    description, \n    type,\n    typeLabel, \n    status,\n    statusLabel,\n    author, \n    datetime, \n    onClick,\n//    onSelect,\n    onEdit, \n    ...props\n}) => {\n\n    if (maxWidth) {\n        width = maxWidth\n    }\n\n    const classes = useStyles({\n        width: width,\n        height: mediaHeight,\n    })\n\n    const media = {\n        selected: selected,\n        layout: mediaLayout,\n        imageUrl: imageUrl || \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\",\n        width: width,\n        height: mediaHeight,\n    }\n\n    return (\n        <ModuleBase {...props} elevation={1} className={classes.root} selected={selected} status={status} onClick={onClick}>\n            <ModuleMedia {...media} />\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle title={title} status={status} onClick={onClick && undefined ||onEdit} />\n                </header>\n                <div className={classes.body}>\n                    <ModuleLabel label={typeLabel || type} />\n                    <ModuleStatus status={statusLabel ||status} />\n                </div>\n                <footer className={classes.footer}>\n                    <ModuleByline author={author} datetime={datetime} />\n                </footer>\n            </div>\n        </ModuleBase>\n    )    \n\n}\n\n\nCardModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    onClick: PropTypes.func,\n    onEdit: PropTypes.func\n}\n\nexport default CardModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ViewHeader, ViewPages } from \"../\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n    }\n\n}));\n\n/** ListView */\n\nconst ListView = ({\n    isLoading,\n    loadingTitle,\n    count,\n    emptyTitle,\n    children,\n...props}) => {\n\n    const classes = useStyles()\n\n    if (isLoading && loadingTitle) {\n        return <ViewHeader title={loadingTitle} />\n    } else if (!count && emptyTitle) {\n        return <ViewHeader title={emptyTitle} />\n    }\n\n    return (\n        <>\n            <ViewHeader {...props} />\n            <div className={classes.list}>\n                {children}\n            </div>\n            <ViewPages {...props} />\n        </>\n    )    \n\n}\n\nListView.defaultProps = {\n    loadingTitle: \"Loading ...\",\n    emptyTitle: \"No hits ...\",\n}\n\nListView.propTypes = {\n    isLoading: PropTypes.bool,\n    loadingTitle: PropTypes.string,\n    emptyTitle: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n}\n\n\nexport default ListView;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { ButtonSelect, ButtonEdit, ButtonDelete, ButtonRestore, ButtonLink, ButtonView } from \"..\"\n\nimport {\n    ModuleBase,\n    ModuleTitle,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline\n} from \"@kit-ui/admin\"\n\n\nimport { NavSettings } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: \"white\",\n\n            \"& button[value=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& button[value=restore]\": {\n                opacity: .5,\n\n                \"&:hover\": {\n                    opacity: 1,\n                },\n    \n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            }\n\n        }\n\n    },\n\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 36,\n\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n    },\n}));\n\n/** ListViewModule for listing documents */\n\nconst ListModule = ({\n    primaryButton,\n\n    status,\n    statusLabel,\n\n    mediaType,\n    mediaLabel,\n\n    documentType,\n    documentLabel,\n\n    selectable,\n    selected,\n    onSelect,\n\n    editable,\n    onEdit,\n\n    viewable,\n    onView,\n\n    linkable,\n    onLink,\n\n    deletable,\n    deleted,\n    onDelete,\n\n    restorable,\n    onRestore,\n\n    erasable,\n    erased,\n    onErase,\n\n    icon,\n    imageUrl,\n\n    title,\n    untitled,\n    description,\n    metadata,\n    author,\n    datetime,\n\n    onClick,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const Toolbar = () => {\n        return (\n            <div className={classes.toolbar}>\n                { editable && <ButtonEdit className={classes.edit} onClick={onEdit} /> }\n                { viewable && <ButtonView className={classes.view} onClick={onView} /> }\n                { linkable && <ButtonLink className={classes.link} onClick={onLink} /> }\n                { deletable && <ButtonDelete className={classes.delete} onClick={onDelete} /> }\n                { deleted && restorable && <ButtonRestore className={classes.restore} onClick={onRestore} /> }\n            </div>\n        )\n    }\n\n\n    return (\n        <ModuleBase className={classes.module} status={status} selected={selected} deleted={deleted} erased={erased}>\n\n            { primaryButton && primaryButton ||selectable && <ButtonSelect className={classes.select} selected={selected} onClick={onSelect} /> }\n\n            <div className={classes.media}>\n                { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { imageUrl && <img className={classes.image} src={imageUrl} /> }\n            </div>\n\n\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && onEdit} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel ||status} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={documentLabel || documentType || mediaLabel ||mediaType} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n            <NavSettings {...props} className={classes.settings} />\n            <Toolbar />\n        </ModuleBase>\n    )    \n\n}\n\nListModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ViewHeader, ViewPages } from \"../\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n    }\n\n}));\n\n/** TableView */\n\nconst TableView = ({\n    isLoading,\n    loadingTitle,\n    count,\n    emptyTitle,\n    children,\n...props}) => {\n\n    const classes = useStyles()\n\n    if (isLoading && loadingTitle) {\n        return <ViewHeader title={loadingTitle} />\n    } else if (!count && emptyTitle) {\n        return <ViewHeader title={emptyTitle} />\n    }\n\n    return (\n        <>\n            <ViewHeader {...props} />\n            <div className={classes.list}>\n                {children}\n            </div>\n            <ViewPages {...props} />\n        </>\n    )    \n\n}\n\nTableView.defaultProps = {\n    loadingTitle: \"Loading ...\",\n    emptyTitle: \"No hits ...\",\n}\n\nTableView.propTypes = {\n    isLoading: PropTypes.bool,\n    loadingTitle: PropTypes.string,\n    emptyTitle: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n}\n\n\nexport default TableView;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { ButtonSelect, ButtonEdit, ButtonDelete, ButtonRestore, ButtonLink, ButtonView } from \"..\"\n\nimport {\n    ModuleTitle,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline\n} from \"@kit-ui/admin\"\n\n\nimport { NavSettings } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: \"white\",\n\n            \"& button[value=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& button[value=restore]\": {\n                opacity: .5,\n\n                \"&:hover\": {\n                    opacity: 1,\n                },\n    \n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            }\n\n        }\n\n    },\n\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 36,\n\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    content: {\n        flexGrow: 1,\n        overflow: \"hidden\",\n        display: \"flex\",\n\n        justifyContent: \"space-between\",\n        margin: theme.spacing(1),\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1\n        }\n\n    },\n    row: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    col: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        overflow: \"hidden\"\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n    },\n}));\n\n/** ListViewModule for listing documents */\n\nconst ListModule = ({\n    status,\n    statusLabel,\n\n    mediaType,\n    mediaLabel,\n\n    documentType,\n    documentLabel,\n\n    selectable,\n    selected,\n    onSelect,\n\n    editable,\n    onEdit,\n\n    viewable,\n    onView,\n\n    linkable,\n    onLink,\n\n    deletable,\n    deleted,\n    onDelete,\n\n    restorable,\n    onRestore,\n\n    erasable,\n    erased,\n    onErase,\n\n    icon,\n    imageUrl,\n\n    title,\n    untitled,\n    description,\n    metadata,\n    author,\n    datetime,\n\n    onClick,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const Toolbar = () => {\n        return (\n            <div className={classes.toolbar}>\n                { editable && <ButtonEdit className={classes.edit} onClick={onEdit} /> }\n                { viewable && <ButtonView className={classes.view} onClick={onView} /> }\n                { linkable && <ButtonLink className={classes.link} onClick={onLink} /> }\n                { deletable && <ButtonDelete className={classes.delete} onClick={onDelete} /> }\n                { deleted && restorable && <ButtonRestore className={classes.restore} onClick={onRestore} /> }\n            </div>\n        )\n    }\n\n\n    return (\n        <article className={classes.module} data-status={status} aria-selected={selected} data-deleted={deleted} data-erased={erased}>\n\n            { selectable && <ButtonSelect className={classes.select} selected={selected} onClick={onSelect} /> }\n\n            <div className={classes.media}>\n                { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { imageUrl && <img className={classes.image} src={imageUrl} /> }\n            </div>\n\n\n            <div className={classes.content}>\n                <header className={classes.col}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && onEdit} />\n                    <ModuleDescription description={description} />\n                    <div className={classes.row}>\n                        <ModuleLabel label={documentLabel || documentType || mediaLabel ||mediaType} />\n                        <ModuleMetadata metadata={metadata} />\n                    </div>\n                </header>\n                <footer className={classes.col}>\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel ||status} />\n                    <ModuleByline author={author} datetime={datetime} />\n\n                </footer>\n            </div>\n            <NavSettings {...props} className={classes.settings} />\n            <Toolbar />\n        </article>\n    )    \n\n}\n\nListModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ViewHeader, ViewPages } from \"../\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    grid: {\n       display: 'grid',\n       gridTemplateColumns: 'repeat(auto-fit, minmax(192px, max-content))',\n       gridGap: 0,\n       padding: 'initial',\n       justifyContent: 'center',\n    },\n\n}));\n\n/** GridView */\n\nconst GridView = ({\n    isLoading,\n    loadingTitle,\n    count,\n    emptyTitle,\n    children,\n...props}) => {\n\n    const classes = useStyles()\n\n    if (isLoading && loadingTitle) {\n        return <ViewHeader title={loadingTitle} />\n    } else if (!count && emptyTitle) {\n        return <ViewHeader title={emptyTitle} />\n    }\n\n    return (\n        <>\n            <ViewHeader {...props} />\n            <div className={classes.grid}>\n                {children}\n            </div>\n            <ViewPages {...props} />\n        </>\n    )    \n\n}\n\n\nGridView.defaultProps = {\n    loadingTitle: \"Loading ...\",\n    emptyTitle: \"No hits ...\",\n}\n\nGridView.propTypes = {\n    isLoading: PropTypes.bool,\n    loadingTitle: PropTypes.string,\n    emptyTitle: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n}\n\nexport default GridView;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from \"@material-ui/core/Paper\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { ButtonSelect, ButtonEdit, ButtonDelete, ButtonRestore, ButtonLink, ButtonView } from \"..\"\n\nimport {\n    ModuleTitle,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline\n} from \"@kit-ui/admin\"\n\nimport { NavToolbar, NavSettings } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: 192,\n        minWidth: 192,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        margin: theme.spacing(1),\n\n//        overflow: \"hidden\",\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            }\n\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"&:hover\": {\n\n                \"& $image, & $icon\": {\n                    opacity: 1\n                },\n    \n            },\n\n            \"& $figure\": {\n//                backgroundColor: theme.palette.action.selected,\n                boxShadow: \"none\",\n                outline: \"1px solid\",\n                outlineColor: theme.palette.action.selected\n            },\n\n            \"& button[value=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& button[value=restore]\": {\n                opacity: .5,\n\n                \"&:hover\": {\n                    opacity: 1,\n                },\n\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            }\n\n        }\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n\n            \"&[value=select]\": {\n                top: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[value=delete],&[value=restore]\": {\n                top: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[value=view]\": {\n                bottom: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[value=link]\": {\n                bottom: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[value=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },    \n    figure: {\n        position: \"relative\",\n        minWidth: 96,\n        width: 96,\n        minHeight: 96 * 4/3,\n        padding: 8,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            margin: theme.spacing(-1)\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.selected\n        }\n\n    },\n    icon: {\n        fontSize: 96,\n\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    image: {\n        display: \"block\",\n        width: 96,\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n\n        \"& > *\": {\n            maxWidth: \"100%\",\n            overflow: \"hidden\"\n        }\n\n    },\n    status: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"baseline\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n\n}));\n\n/** GridModule for listing documents */\n\nconst GridModule = ({\n    status,\n    statusLabel,\n\n    documentType,\n    documentLabel,\n\n    selectable,\n    selected,\n    onSelect,\n\n    editable,\n    onEdit,\n\n    viewable,\n    onView,\n\n    linkable,\n    onLink,\n\n    deletable,\n    deleted,\n    onDelete,\n\n    restorable,\n    onRestore,\n\n    erasable,\n    erased,\n    onErase,\n\n    icon,\n    imageUrl,\n    untitled,\n\n    title,\n    description,\n    metadata,\n    author,\n    datetime,\n\n    onClick,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const Toolbar = () => {\n\n        if (selected) {\n            return (\n                <div className={classes.toolbar}>\n                    { selectable && <ButtonSelect className={classes.select} selected={selected} /> }\n                </div>\n            )\n        }\n\n        return (\n            <div className={classes.toolbar}>\n                { selectable && <ButtonSelect className={classes.select} selected={selected} onClick={onSelect} /> }\n                { editable && <ButtonEdit className={classes.edit} onClick={onEdit} /> }\n                { viewable && <ButtonView className={classes.view} onClick={onView} /> }\n                { linkable && <ButtonLink className={classes.link} onClick={onLink} /> }\n                { deletable && <ButtonDelete className={classes.delete} onClick={onDelete} /> }\n                { deleted && restorable && <ButtonRestore className={classes.restore} onClick={onRestore} /> }\n            </div>\n        )\n    }\n\n    return (\n        <article className={classes.module} data-status={status} aria-selected={selected} data-deleted={deleted} data-erased={erased} onClick={selected && onSelect}>\n\n            <Paper className={classes.figure} square={true}>\n                { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { imageUrl && <img className={classes.image} src={imageUrl} /> }\n\n                <Toolbar />\n\n            </Paper>\n\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!selected && onEdit} />\n                    <div className={classes.status}>\n                        <ModuleLabel label={documentLabel || documentType} />\n                        <ModuleStatus statusLabel={statusLabel} status={statusLabel ||status} />\n                    </div>\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleByline author={author} datetime={datetime} />\n                </footer>\n            </div>\n            <NavSettings {...props} className={classes.settings} />\n        </article>\n    )    \n\n}\n\nGridModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nGridModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default GridModule;\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeView: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        \n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n    },\n\n}));\n\nconst TreeView = ({droppable, children, ...props}) => {\n\n    const classes = useStyles();\n\n    if (droppable && droppable.provided) {\n        const {provided, snapshot } = droppable\n        const {droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeView}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeView}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeView","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeList: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n    },\n\n}));\n\nconst TreeList = ({droppable, children, ...props}) => {\n\n    const classes = useStyles();\n\n    if (droppable && droppable.provided) {\n        const {provided, snapshot } = droppable\n        const {droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeList}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeList}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeList","import React, { useEffect, useState } from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport DragIcon from '@material-ui/icons/DragHandle';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { ModuleBase, ModuleTitle } from \"../Module\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            maxHeight: theme.spacing(6),\n\n            \"& $toolbar\": {\n                display: \"none\"\n            },\n\n            \"& $children\": {\n                display: \"none\"\n            },\n\n            \"& $toggle\": {\n                display: \"none\"\n            },\n\n            \"& $level\": {\n                marginLeft: 0\n            }\n\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n    },\n    children: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    toolbar: {\n\n    },\n    level: {\n        marginLeft: props => {return props.level * 48 },\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    },\n    content: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    },\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 24,\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    toggle: {\n        width: 48,\n        position: \"absolute\",\n        left: -48,\n\n        \"& $toggleIcon\": {\n            transition: \".125s ease-in-out\",\n            transform: \"rotate(-90deg)\",\n        },\n\n        \"&[aria-expanded=true] $toggleIcon\": {\n//            transition: \".125s ease-in-out\",\n            transform: \"rotate(0deg)\"\n        },\n    },\n    toggleIcon: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\",\n    }\n\n}));\n\nconst TreeModule = ({\n    collapsible, \n    expanded = false,\n    onToggle,\n    selected,\n    onSelect,\n    draggable, \n    level, \n    title,\n    imageUrl,\n    icon, \n    children}) => {\n\n    const classes = useStyles({level});\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ButtonToggle = ({onClick}) => {\n    \n        return (\n            <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded}>\n                <ToggleIcon className={classes.toggleIcon} />\n            </IconButton>\n        )\n    }\n\n    const ModuleContent = () => {\n\n        return (\n            <div className={classes.content}>\n                <div className={classes.media}>\n                    { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { imageUrl && <img className={classes.image} src={imageUrl} /> }\n                </div>\n                <ModuleTitle>{title}</ModuleTitle>\n            </div>\n\n        )\n\n    }\n\n    const _onToggle = (event) => {\n        event.stopPropagation()\n        onToggle && onToggle()\n    }\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n    if (draggable && draggable.provided) {\n\n        const {provided, snapshot, } = draggable\n        const {isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module}\n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={_onSelect}>\n                <div className={classes.level}>\n                    {collapsible && <ButtonToggle onClick={_onToggle} /> || \"\" }\n                    <DragHandle dragHandleProps={provided.dragHandleProps} />\n                    <ModuleContent />\n                </div>\n                {children && <div className={classes.children}>{children}</div> }\n            </div>\n        )\n    \n\n    }\n\n\n    return (\n        <div className={classes.module} onClick={_onSelect}>\n            <div className={classes.level}>\n                {collapsible && <ButtonToggle onClick={onToggle} /> }\n                <ModuleContent />\n            </div>\n            {children && <div className={classes.children}>{children}</div> }\n        </div>\n    )\n\n}\n\nexport default TreeModule","import React, {forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ViewHeader, ViewPages } from \"../\"\n\nconst useStyles = makeStyles(theme => ({\n    columnView: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n    },\n    columns: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1\n        },\n\n        \"& > * + *\": {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n    },\n\n}));\n\nconst ColumnView = ({children}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <div className={classes.columnView}>\n            <ViewHeader />\n            <div className={classes.columns}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nexport default ColumnView;","import React, {forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    column: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"&:hover\": {\n                width: theme.spacing(32),\n                minWidth: theme.spacing(32),\n            }\n\n        }\n\n    },\n\n}));\n\nconst ColumnList = ({droppable, expanded, children, ...props}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    if (droppable) {\n        const {provided, snapshot } = droppable\n        const {droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div data-is-dragging-over={isDraggingOver} className={classes.column} {...droppableProps} ref={innerRef}>\n                {children}\n                {provided.placeholder}\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.column} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default ColumnList;","import React, {forwardRef} from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DragIcon from '@material-ui/icons/DragHandle';\n\nimport { ModuleTitle, ModuleLabel, ModuleMetadata } from \"../Module\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"auto\",\n        width: \"100%\",\n        maxWidth: \"100%\",\n        minWidth: theme.spacing(16),\n        overflow: \"hidden\",\n\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"&[aria-expanded=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n\n        width: \"100%\",\n\n        marginTop: 8,\n        marginBottom: 8,\n\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        color: \"inherit\",\n\n        \"& > *\": {\n            color: \"inherit\"\n        }\n\n    },\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 24,\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    dragHandle: {\n        margin: theme.spacing(.5)\n    },\n    toolbar: {\n        position: \"absolute\",\n        right: 0,\n        margin: theme.spacing(.5),\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    }\n    \n}));\n\nconst ColumnModule = ({\n    collapsible, \n    selected,\n    onSelect,\n    expanded = false,\n    onToggle,\n    draggable, \n    level, \n    title,\n    imageUrl,\n    icon, \n    ...props}) => {\n\n    const classes = useStyles()\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ButtonToggle = ({onClick}) => {\n    \n        return (\n            <IconButton className={classes.toggleButton} onClick={onClick} aria-expanded={expanded}>\n                <SelectIcon className={classes.toggleIcon} />\n            </IconButton>\n        )\n    }\n\n    const ModuleContent = () => {\n\n        return (\n            <div className={classes.content}>\n                <div className={classes.media}>\n                    { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { imageUrl && <img className={classes.image} src={imageUrl} /> }\n                </div>\n                <ModuleTitle>{title}</ModuleTitle>\n            </div>\n\n        )\n\n    }\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n    if (draggable) {\n        const {provided, snapshot } = draggable\n        const {isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module} \n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                onClick={props.onSelect}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={_onSelect}>\n                    <DragHandle dragHandleProps={provided.dragHandleProps} />\n                    <ModuleContent />\n                    {collapsible && <ButtonToggle onClick={onSelect} /> || \"\" }\n\n            </div>\n        )   \n\n    }\n\n    return (\n        <div className={classes.module} aria-selected={selected}>\n            <ModuleContent />\n            {collapsible && <ButtonToggle onClick={onSelect} /> || \"\" }\n        </div>\n    )\n\n}\n\nexport default ColumnModule;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    masonry: {\n        width: \"100%\",\n//        overflow: \"hidden\",\n    },\n    row: {\n        display: \"flex\",\n        width: \"auto\",\n        margin: props => { return theme.spacing(props.spacing/2 * -1) },\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1,\n        }\n    },\n    col: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: props => { return props.colWidth },\n        maxWidth: props => { return props.colWidth },\n    },\n    item: {\n        margin: props => { return theme.spacing(props.spacing/2) },\n        \"& > *\": {\n            display: \"block\",\n            width: \"100%\"\n        }\n    }\n}));\n\nconst Masonry = ({width, columns = 3, spacing = 1, padding = 0, children, debug = false}) => {\n\n    const colWidth = Math.floor(width/columns)\n\n    const classes = useStyles({padding, spacing, colWidth})\n\n    const items = [].concat(children || []);\n\n    const getItemsByColumn = () => {\n        let itemsByColumn = {}\n\n        items.map((item, index) => {\n\n            const c = index % columns\n\n            if (!itemsByColumn[c]) {\n                itemsByColumn[c] = []\n            }\n\n            itemsByColumn[c].push(item)\n\n        })\n\n        return itemsByColumn\n\n    }\n\n\n    const itemsByColumn = getItemsByColumn()\n\n    return (\n        <div className={classes.masonry}>\n            <div className={classes.row}>\n                {itemsByColumn && Object.values(itemsByColumn).map(items => {\n                    return (\n                        <div className={classes.col} style={{width: colWidth}}>\n                            {items.map(item => {\n                                return (\n                                    <div className={classes.item}>\n                                        {item}\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n\n}\n\nexport default withResizeDetector(Masonry);","import React from 'react';\nimport { ModuleBase, ModuleTitle, ModuleLabel, ModuleMetadata } from \"@kit-ui/admin\"\nimport {ButtonSelect } from \"../\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n        boxShadow: theme.shadows[1],\n\n        \"&:hover\": {\n            boxShadow: theme.shadows[4]\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        }\n\n    },\n    primaryAction: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n    },\n    figure: {\n        width: \"100%\",\n        overflow: \"hidden\",\n        margin: 0,\n\n        \"& > img\": {\n            display: \"block\",\n            width: \"100%\"\n        }\n\n    },\n    content: {\n        padding: theme.spacing(1)\n    }\n\n}));\n\n\nconst MasonryModule = ({uniqueId, title, imageUrl, documentType, selectable, selected, onSelect, onEdit, ...props}) => {\n\n    const classes = useStyles()\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n\n    if (!imageUrl) {\n        imageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n    }\n\n    return (\n        <ModuleBase className={classes.module} selected={selected} elevation={1} onClick={onEdit}>\n            \n            <figure className={classes.figure}>\n                <img src={imageUrl} />\n            </figure>\n            <div className={classes.content}>\n                <ModuleTitle title={title} />\n                <ModuleLabel>{documentType}</ModuleLabel>\n                <ModuleMetadata metadata={[uniqueId]}></ModuleMetadata>\n            </div>\n            <div className={classes.primaryAction}>\n                { selectable && <ButtonSelect selected={selected} onClick={_onSelect} /> }\n            </div>\n        </ModuleBase>\n    )\n\n}\n\nexport default MasonryModule","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withResizeDetector } from 'react-resize-detector';\n\nconst useStyles = makeStyles(theme => ({\n    gallery: {\n        display: \"block\",\n        padding: props => { return props.padding && theme.spacing(props.padding) },\n        width: \"100%\",\n    },\n    list: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        margin: props => { return props.spacing && theme.spacing(props.spacing * -0.5) },\n    },\n    item: {\n        width: props => { return props.width + \"px\"},\n        maxWidth: props => { return props.maxWidth + \"px\"},\n        margin: props => { return props.spacing && theme.spacing(props.spacing * 0.5) },\n\n        \"& > *\": {\n            maxWidth: \"100%\",\n        }\n    }\n}));\n\nconst calculateCutOff = ({rowWidth, delta, spacing, row = []}) => {\n//    console.log('delta', delta)\n\n    let cutoff = [];\n    let cutsum = 0;\n\n    for(var i in row) {\n        var item = row[i];\n        var fractOfLen = item.maxWidth / rowWidth;\n\n//        console.log('fractOfLen', fractOfLen)\n\n        cutoff[i] = Math.floor(fractOfLen * delta);\n        cutsum += cutoff[i];\n    }\n\n//    console.log('cutoff', cutoff)\n\n    var stillToCutOff = delta - cutsum;\n    while(stillToCutOff > 0) {\n        for(i in cutoff) {\n            cutoff[i]++;\n            stillToCutOff--;\n            if (stillToCutOff < 0) break;\n        }\n    }\n\n    return cutoff;\n\n}\n\nconst getGalleryRow = ({maxWidth, gap, items = []}) => {\n    const rowPlusGap = maxWidth + gap;\n\n    var row = [];\n    var rowWidth = 0;\n\n//    console.log('items', items)\n\n    while (items.length > 0 && rowWidth < rowPlusGap) {\n        let item = items.shift();\n        row.push(item);\n        rowWidth += (item.maxWidth + gap);\n//        console.log('rowWidth' + rowWidth)\n    }\n\n    let delta = rowWidth - rowPlusGap;\n//    console.log('delta', + delta)\n\n    if (row.length > 0 && delta > 0) {\n        var cutoff = calculateCutOff({rowWidth, gap, delta, row});\n        for(var i in row) {\n            var pixelsToRemove = cutoff[i];\n            let item = row[i];\n            item.maxWidth = item.maxWidth - pixelsToRemove;\n        }\n    } else {\n        for(var j in row) {\n            let item = row[j];\n            item.maxWidth = item.maxWidth;\n        }\n    }\n\n    return row;\n    \n}\n\nconst getGalleryItem = ({props}) => {\n\n    const maxWidth = props.width ||props.mediaWidth\n\n\n}\n\nconst getGallery = ({maxWidth, maxRows, gap, children}) => {\n    if (!children) return []\n    if (!children.length) return [];\n    if (!maxWidth) return [];\n\n    const items = React.Children.toArray(children).map((child, index) => {\n        return {\n            ...child.props,\n            maxWidth: child.props.width * 1\n        }\n    })\n\n//    console.log('items', items)\n\n    let rows = []\n\n    while (items.length > 0) {\n        rows.push(getGalleryRow({maxWidth, gap, items}));\n    }\n\n    let cols = []\n\n    for(var r in rows) {\n        for(var i in rows[r]) {\n            var item = rows[r][i];\n            if(maxRows) {\n                if(r < maxRows) {\n                    cols.push(item);\n                }\n            }\n            else {\n                cols.push(item);\n            }\n        }\n    }\n\n    return cols\n\n}\n\nconst GalleryItem = ({width = 180, maxWidth, spacing = 1, children, debug, ...props}) => {\n    const classes = useStyles({width, maxWidth, spacing});\n\n    return (\n        <div className={classes.item}>\n            {children}\n            \n            { debug && \n                <div>{width}/{maxWidth}/{spacing}</div>\n            }\n        </div>\n    )\n\n}\n\nconst Gallery = ({width, spacing = 1, padding = 0, children, debug = false}) => {\n\n    const maxWidth = width - (padding * 8 * 2)\n    const gap = spacing * 8\n\n    const classes = useStyles({padding, spacing});\n    const gallery = getGallery({maxWidth, gap, children})\n\n    return (\n        <section className={classes.gallery} data-layout=\"gallery\">\n            <div className={classes.list}>\n                {children.map((child, index) => {\n\n                    const maxWidth = gallery[index] && gallery[index].maxWidth\n\n                    return (\n                        <GalleryItem {...child.props} maxWidth={maxWidth} debug={debug} spacing={spacing} key={index}>\n                            { child }\n                        </GalleryItem>\n                    )\n\n                }) }\n            </div>\n        </section>\n    )\n\n}\n\nGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default withResizeDetector(Gallery);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ViewHeader, ViewPages } from \"../\"\nimport Gallery from \"./Gallery\"\n\n/** GalleryView */\n\nconst GalleryView = ({\n    spacing,\n    padding,\n    isLoading,\n    loadingTitle,\n    count,\n    emptyTitle,\n    children,\n...props}) => {\n\n    if (isLoading && loadingTitle) {\n        return <ViewHeader title={loadingTitle} />\n    } else if (!count && emptyTitle) {\n        return <ViewHeader title={emptyTitle} />\n    }\n\n    return (\n        <>\n            <ViewHeader {...props} />\n            <Gallery spacing={spacing} padding={padding}>\n                {children}\n            </Gallery>\n            <ViewPages {...props} />\n        </>\n    )    \n\n}\n\n\nGalleryView.defaultProps = {\n    loadingTitle: \"Loading ...\",\n    emptyTitle: \"No hits ...\",\n}\n\nGalleryView.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    isLoading: PropTypes.bool,\n    loadingTitle: PropTypes.string,\n    emptyTitle: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n}\n\nexport default GalleryView;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Typography from \"@material-ui/core/Typography\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport {\n    ModuleBase,\n    ModulePrefix,\n    ModuleMedia,\n    ModuleTitle,\n    ModuleLabel,\n    ModuleStatus,\n    ModuleByline,\n    NavToolbar\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    placeholder: {\n        width: props => { return props.width },\n\n        \"& $media\": {\n        }\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n    },\n    module: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        userSelect: \"none\",\n\n        \"& $toolbar\": {\n            opacity: 0\n        },\n\n        \"&:hover\": {\n            \"& $toolbar\": {\n                opacity: 1\n            }\n        }, \n        \"&[data-status=trash]\": {\n            \"& $media\": {\n                opacity: .5 \n            },\n            \"& $toolbar\": {\n                opacity: 1\n            }\n        },        \n        \"&[data-status=erased]\": {\n            \"& $media\": {\n                opacity: .25 \n            }\n        },\n    \n    },\n    grid: {\n        display: \"block\",\n        backgroundColor: \"transparent\",\n        color: \"white\",\n        position: \"relative\",\n        width: \"100%\",\n        \n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n            color: \"currentColor\",\n\n            \"& $primaryAction\": {\n                opacity: 1,\n            },\n\n            \"& $media\": {\n//                opacity: .75\n            }\n        }\n\n    },\n    media: {\n        display: \"block\",\n        position: \"relative\",\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\",\n\n\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    image: {\n        backgroundColor: \"grey\",\n\n    },\n    primaryAction: {\n        position: \"absolute\",\n        zIndex: 3,\n        top: 0,\n        right: 'auto',\n        bottom: \"auto\",\n        left: 0,\n\n        \"& button\": {\n            color: \"white\",\n        },\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        width: \"100%\",\n        height: props => { return props.mediaHeight },\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"& button\": {\n            color: \"white\",\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        },\n\n        \"& button[name=select]\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0\n        },\n        \"& button[name=toggle]\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0\n        }\n    },\n    content: {\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5)\n    },\n    body: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        justifyContent: \"flex-start\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    }\n}));\n\nconst GridModule = ({\n    role = \"media\",\n    placeholder,\n    width = 180, \n    maxWidth = \"100%\", \n    mediaStyle, \n    mediaHeight = 180, \n    mediaLayout = \"cover\", \n    selected, \n\n    icon,\n    imageUrl, \n    title, \n    description, \n    type,\n    typeLabel, \n    status,\n    statusLabel,\n    author, \n    datetime, \n    onClick,\n//    onSelect,\n    onEdit, \n    ...props\n}) => {\n\n    if (maxWidth) {\n        width = maxWidth\n    }\n\n    const classes = useStyles({\n        width: width,\n        mediaHeight: mediaHeight,\n    })\n\n    if (!imageUrl && !icon) {\n        imageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n    }\n\n    if (role === \"button\") {\n        return (\n            <ButtonBase className={classes.placeholder} selected={selected} status={status} onClick={onClick}>\n                <Paper className={classes.media} elevation={1} square={true}>\n                    { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    <Typography className={classes.label}>{title}</Typography>\n                </Paper>\n            </ButtonBase>            \n        )        \n    }\n\n    return (\n        <ModuleBase {...props} className={classes.module} selected={selected} status={status} onClick={onClick}>\n            <figure className={classes.media} onClick={onClick} role={onClick && \"button\"} aria-selected={selected}>\n                { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { imageUrl && <ModuleMedia elevation={1} selected={selected} layout=\"cover\" imageUrl={imageUrl} className={classes.image} /> }\n            </figure>\n            {!onClick &&  <NavToolbar {...props} className={classes.toolbar} /> }\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle title={title} status={status} onClick={onClick && undefined ||onEdit} />\n                </header>\n                <div className={classes.body}>\n                    <ModuleLabel label={typeLabel || type} />\n                    { status &&  <ModuleStatus status={statusLabel ||status} /> }\n                </div>\n                <footer className={classes.footer}>\n                    <ModuleByline author={author} datetime={datetime} />\n                </footer>\n            </div>\n            {!onClick && <ModulePrefix className={classes.primaryAction} selected={selected} {...props} /> }\n        </ModuleBase>\n    )    \n\n}\n\n\nGridModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    onClick: PropTypes.func,\n    onEdit: PropTypes.func\n}\n\nexport default GridModule;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        zIndex: 2,\n        position: \"relative\",\n        backgroundColor: \"transparent\",\n        color: \"black\",\n        height: \"36px\",\n        overflow: \"hidden\",\n        fontFamily: \"Akkurat, sans-serif\",\n        margin: \"12px\"\n    },\n    searchInput: {\n        backgroundColor: \"white\",\n        flexBasis: \"100%\",\n        padding: \"9px 42px\",\n        border: \"1px solid\",\n        borderColor: \"#ccc\",\n        borderRadius: \"18px\",\n        fontFamily: \"inherit\",\n        fontSize: \"14px\",\n        lineHeight: \"18px\",\n        color: \"inherit\",\n        outline: \"none\",\n\n        \"&:focus + *:first-child\": {\n            opacity: 1\n        }\n    },\n    searchIcon: {\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        zIndex: 2,\n        top: \"0\",\n        left: \"0\",\n        fontSize: \"20px\",\n        lineHeight: \"24px\",\n        width: '20px',\n        height: '20px',\n        padding: \"0\",\n        margin: \"8px 13px\",\n        opacity: \".5\"\n    },\n    resetButton: {\n        position: \"absolute\",\n        zIndex: 3,\n        top: theme.spacing(1),\n        right: theme.spacing(1),\n    },\n    resetIcon: {\n        width: '20px',\n        height: '20px',\n    }\n}));\n\nconst SearchReset = ({onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <ButtonBase className={classes.resetButton} onClick={onClick}>\n            <CloseIcon className={classes.resetIcon} />\n        </ButtonBase>\n    )\n}\n\nconst WidgetSearch = ({className, placeholder = \"Search\", q, onChange, onReset}) => {\n    const [value, setValue] = useState(q);\n\n    useEffect(() => {\n        setValue(q);\n    },[q])\n\n    const classes = useStyles()\n\n    const handleChange = (event) => {\n        setValue(event.target.value);\n\n        if (onChange) {\n            onChange(event.target.value, event)\n        }\n\n    }\n\n    const handleReset = (event) => {\n        setValue(\"\");\n\n        if (onReset) {\n            onReset(event)\n        } else if (onChange) {\n            onChange(\"\", event)\n        }\n\n    }\n\n    return (\n        <nav className={className || classes.root}>\n            <input className={classes.searchInput} type=\"text\"\n                value={value}\n                placeholder={placeholder}\n                onChange={handleChange} />\n            <SearchIcon className={classes.searchIcon} />\n            {value && <SearchReset className={classes.buttonReset} onClick={handleReset} /> }\n        </nav>\n    )\n}\n\nWidgetSearch.propTypes = {\n    placeholder: PropTypes.string,\n    q: PropTypes.string,\n    onChange: PropTypes.func,\n    onReset: PropTypes.func\n}\n\nexport default WidgetSearch;","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst ArticleIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.5 20.5L18.5 3.5L5.5 3.5L5.5 20.5H18.5ZM20 2L4 2L4 22H20V2Z\"/>\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"5\" height=\"1\" />\n        </SvgIcon>\n    )\n}\n\nexport default ArticleIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageHomeIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M11 16V13H13V16H15.5V12H17L12 7.5L7 12H8.5V16H11Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageHomeIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"4\" y=\"12\" width=\"16\" height=\"1\"/>\n            <rect x=\"15\" y=\"13\" width=\"1\" height=\"5\"/>\n            <rect x=\"10\" y=\"6\" width=\"1\" height=\"6\"/>\n        </SvgIcon>\n    )\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMediaIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M18 16.1382H6L9 12.2873L11.1382 14.8618L14.1382 11L18 16.1382Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageMediaIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"17\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1.5\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageListIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"8\" height=\"1\" />\n\n\n        </SvgIcon>\n    )\n\n}\n\nexport default PageListIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageAnnotateIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <circle cx=\"7\" cy=\"12\" r=\"1\"/>\n            <circle cx=\"12\" cy=\"8\" r=\"1\"/>\n            <rect x=\"15\" y=\"11\" width=\"1\" height=\"5\"/>\n            <rect x=\"13\" y=\"13\" width=\"5\" height=\"1\"/>\n\n\n\n\n        </SvgIcon>\n    )\n}\n\nexport default PageAnnotateIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMapIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <rect x=\"17.5355\" y=\"10\" width=\"1\" height=\"5\" transform=\"rotate(45 17.5355 10)\" />\n            <rect x=\"18.2426\" y=\"13.5355\" width=\"1\" height=\"5\" transform=\"rotate(135 18.2426 13.5355)\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1\" />\n            <circle cx=\"11\" cy=\"12\" r=\"1\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageMapIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageParentIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"9\" y=\"8\" width=\"6\" height=\"4\"/>\n            <rect x=\"5\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"10\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"15\" y=\"14\" width=\"4\" height=\"2\"/>\n        </SvgIcon>\n    )\n\n}\n\nexport default PageParentIcon","export default {\n    \"palette\": {\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        }\n    }\n}","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport theme from \"../kiosk/theme\"\nconst KioskAppIcon = (props) => <AppIcon {...props} variant=\"filled\" color={theme.palette.primary.main} text=\"Ki\" />\nexport default KioskAppIcon","import React from \"react\";\nimport PropTypes from \"prop-types\"\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst MenuIconFilled = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"currentColor\"\n    const color = \"white\"\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill=\"white\" font-family=\"Akkurat, sans-serif\" font-size=\"10\" font-weight=\"bold\" dominant-baseline=\"middle\" text-anchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst MenuIconOutlined = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"white\"\n    const color = \"currentColor\"\n    const borderColor = color\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={borderColor}></rect>\n            <rect x=\"3.5\" y=\"3.5\" width=\"17\" height=\"17\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill={color} font-family=\"Akkurat, sans-serif\" font-size=\"10\" font-weight=\"bold\" dominant-baseline=\"middle\" text-anchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst variants = {\n    \"outlined\": MenuIconOutlined,\n    \"filled\": MenuIconFilled,\n}\n\nconst MenuIcon = ({color, text, variant = \"outlined\", ...props}) => {\n    const IconTemplate = variants && variants[variant]\n\n    if (!IconTemplate) {\n        return \"<p>Failed</p>\"\n    }\n\n    return (\n        <IconTemplate color={color} text={text} {...props} />\n    )\n    \n}\n\nMenuIcon.propTypes = {\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default MenuIcon","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport MenuIcon from \"./MenuIcon\"\nconst KioskMenuIcon = () => <MenuIcon variant=\"filled\" text=\"Ki\" />\nexport default KioskMenuIcon","export default {\n    \"palette\": {\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        }\n    }\n}","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport theme from \"../kp/theme\"\nconst KpAppIcon = () => <AppIcon variant=\"outlined\" color={theme.palette.primary.main} text=\"Kp\" />\nexport default KpAppIcon","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport MenuIcon from \"./MenuIcon\"\nconst KpMenuIcon = () => <MenuIcon variant=\"outlined\" text=\"Kp\" />\nexport default KpMenuIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M13.3333 10.6667H10.6667V13.3333H13.3333V10.6667ZM12.4444 12.4444H11.5556V11.5556H12.4444V12.4444ZM16 11.5556V10.6667H15.1111V9.77778C15.1111 9.28889 14.7111 8.88889 14.2222 8.88889H13.3333V8H12.4444V8.88889H11.5556V8H10.6667V8.88889H9.77778C9.28889 8.88889 8.88889 9.28889 8.88889 9.77778V10.6667H8V11.5556H8.88889V12.4444H8V13.3333H8.88889V14.2222C8.88889 14.7111 9.28889 15.1111 9.77778 15.1111H10.6667V16H11.5556V15.1111H12.4444V16H13.3333V15.1111H14.2222C14.7111 15.1111 15.1111 14.7111 15.1111 14.2222V13.3333H16V12.4444H15.1111V11.5556H16ZM14.2222 14.2222H9.77778V9.77778H14.2222V14.2222Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceMacIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M14.3442 11.5628C14.3325 10.475 15.2302 9.95122 15.2706 9.92587C14.7644 9.18771 13.978 9.08756 13.6979 9.07571C13.0284 9.00882 12.3924 9.47162 12.053 9.47206C11.7139 9.47256 11.1891 9.08932 10.6343 9.10057C9.90452 9.11204 9.23287 9.52639 8.85753 10.1798C8.10181 11.4962 8.66833 13.4436 9.40813 14.5094C9.76981 15.0304 10.2008 15.617 10.7662 15.595C11.3106 15.573 11.5159 15.2422 12.1736 15.2414C12.8314 15.2405 13.0171 15.592 13.5926 15.5803C14.1784 15.5692 14.5488 15.0472 14.9064 14.5233C15.3202 13.917 15.4898 13.3303 15.5 13.3001C15.4873 13.2943 14.3575 12.863 14.3442 11.5628Z\"/>\n            <path d=\"M13.2636 8.37228C13.564 8.00874 13.7658 7.50352 13.7106 7C13.2784 7.01756 12.755 7.28809 12.4446 7.65119C12.1666 7.97291 11.9231 8.48713 11.9889 8.98061C12.4707 9.01793 12.9633 8.73544 13.2636 8.37228Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceMacIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceWinIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M8 9.13617L11.2693 8.69092L11.2708 11.8445L8.00299 11.8631L8 9.13617ZM11.2678 12.2078L11.2703 15.3641L8.00254 14.9148L8.00235 12.1866L11.2678 12.2078ZM11.6641 8.63267L15.999 8V11.8044L11.6641 11.8388V8.63267ZM16 12.2375L15.999 16.0247L11.6641 15.4129L11.658 12.2304L16 12.2375Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceWinIcon","import React from \"react\"\n\nimport ArticleIcon from \"./ArticleIcon\"\n\nimport PageHomeIcon from \"./PageHomeIcon\"\nimport PageGridIcon from \"./PageGridIcon\"\nimport PageMediaIcon from \"./PageMediaIcon\"\nimport PageTimelineIcon from \"./PageTimelineIcon\"\nimport PageListIcon from \"./PageListIcon\"\nimport PageAnnotateIcon from \"./PageAnnotateIcon\"\nimport PageMapIcon from \"./PageMapIcon\"\nimport PageParentIcon from \"./PageParentIcon\"\n\nimport KioskAppIcon from \"./KioskAppIcon\"\nimport KioskMenuIcon from \"./KioskMenuIcon\"\n\nimport KpAppIcon from \"./KpAppIcon\"\nimport KpMenuIcon from \"./KpMenuIcon\"\n\nimport DeviceIcon from \"./DeviceIcon\"\nimport DeviceMacIcon from \"./DeviceMacIcon\"\nimport DeviceWinIcon from \"./DeviceWinIcon\"\n\nexport default {\n    \"kpApp\": <KpAppIcon />,\n    \"kpMenu\": <KpMenuIcon />,\n\n    \"kioskApp\": <KioskAppIcon />,\n    \"kioskMenu\": <KioskMenuIcon />,\n\n    \"article\": <ArticleIcon />,\n    \"pageHome\": <PageHomeIcon />,\n    \"pageGrid\": <PageGridIcon />,\n    \"pageMedia\": <PageMediaIcon />,\n    \"pageAnnotate\": <PageAnnotateIcon />,\n    \"pageTimeline\": <PageTimelineIcon />,\n    \"pageList\": <PageListIcon />,\n    \"pageMap\": <PageMapIcon />,\n    \"pageParent\": <PageParentIcon />,\n    \"pageTopic\": <PageParentIcon />,\n\n    \"device\": <DeviceIcon />,\n    \"deviceMac\": <DeviceMacIcon />,\n    \"deviceWin\": <DeviceWinIcon />\n\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getFinder } from '../redux/finder';\nimport { Loader } from \"../components/\"\nimport { EditorIcon } from \"@kit-ui/icons\"\nimport icons from \"../app/icons\"\n\nconst FinderLoader = ({children, ...props}) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    const appIcon = icons[app.icon]\n\n    const menuByUrl = finder.menuByUrl\n    const menuItem = pathname && menuByUrl && menuByUrl[pathname] || { isLoading: true }\n\n    const title = menuItem && menuItem.title ||app && app.title\n    const description = menuItem.isLoading && \"Loading menuItem ...\" || finder.isLoading && \"Loading finder ...\" ||\"Finder loaded\"\n\n    const isLoading = app.isLoading ||finder.isLoading ||menuItem.isLoading ||false\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getFinder({pathname}))\n    }, [pathname, menuItem.isLoading])\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={appIcon}\n            title={title}\n            description={description}>\n                {children}\n        </Loader>\n    )\n\n}\n\nFinderLoader.defaultProps = {\n}\n\nexport default FinderLoader","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getModels } from \"../modelsById\"\n\nconst searchByUrlSlice = createSlice({\n    name: 'search',\n    initialState: {\n    }, \n    reducers: {\n        requestSearch(state, action) {\n            const { models, url, page, apiUrl, query } = action.payload\n\n            if (state[url] && state[url].page) {\n                return {\n                    ...state,\n                    [url]: {\n                        ...state[url],\n                        isLoading: true,\n                        apiUrl: apiUrl,\n                        query: {\n                            ...query,\n                            models: models,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: true,\n                    apiUrl: apiUrl,\n                    query: {\n                        ...query,\n                        models: models,\n                    }\n                }\n            }\n        },\n        receiveError(state, action) {\n            const { url, error } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: false,\n                    error: error.toString()\n                }\n            }\n\n        },\n        receiveSearch(state, action) {\n            const { url, results } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    isLoading: false,\n                    results: results\n                }\n            }\n        },\n        receivePage(state, action) {\n            const { url, page, results } = action.payload\n\n            const { start, rows, count } = results\n\n            const pages = Math.ceil(count/rows)\n            const currentPage = Math.ceil((start+rows)/rows)\n\n            const resultsByPage = {\n                ...state[url].resultsByPage,\n                [page]: results.models\n            }\n\n            let resultsLoaded = []\n\n            Object.values(resultsByPage).map(page => {\n                resultsLoaded = resultsLoaded.concat(page)\n            })\n\n            let nextPage, prevPage\n\n            for (let p = page; p <= pages; p++) {\n                if (!resultsByPage[p]) {\n                    nextPage = p\n                    break\n                }\n            }    \n\n            for (let p = page; p >= 1; p--) {\n                if (!resultsByPage[p]) {\n                    prevPage = p\n                    break\n                }\n            }    \n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    count: count,\n                    start: start,\n                    rows: rows,\n                    page: currentPage,\n                    pages: pages,\n                    nextPage: nextPage,\n                    prevPage: prevPage,\n                    resultsByPage: resultsByPage,\n                    resultsLoaded: resultsLoaded\n                }\n            }\n\n        }\n    }\n})\n\nexport const getQuery = ({models, url, page = 1, ...query}) => dispatch => {\n\n    if (page > 1 && query.rows) {\n        query.start = query.rows * (page-1)\n    }\n    \n    const sq = qs.stringify(query)\n\n    let apiUrl = API + '/admin/api/' + models + '/search';\n\n    if (sq) {\n        apiUrl = apiUrl + '?' + sq;\n    }\n\n//    if (page === 1) {\n        dispatch(requestSearch({models, url, page, apiUrl, query}))\n//    }\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        dispatch(receiveSearch({url, results}))\n        dispatch(receivePage({url, page, results}))\n\n        results.models && dispatch(getModels(results))\n\n    })\n\n}\n\n\n\n\nexport const { requestSearch, receiveSearch, receivePage, receiveError } = searchByUrlSlice.actions\nexport default searchByUrlSlice.reducer","\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport { NavPath, NavSettings } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    bulk: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        transition: \".125s ease-out\",\n        marginLeft: \"100%\",\n\n        \"& + *\": {\n            transition: \".125s ease-out\",\n            marginRight: 0,\n        },\n\n        \"&[aria-expanded=true]\": {\n            marginLeft: \"50%\",\n\n            \"& + *\": {\n                marginRight: \"50%\"\n            }\n\n        }\n\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: 1,\n        \"& + *\": {\n            marginTop: theme.spacing(8),\n            marginLeft: theme.spacing(2),\n            marginRight: theme.spacing(2),\n        }\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },  \n    path: {\n        margin: theme.spacing(0,2),\n    },\n    settings: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        margin: theme.spacing(1)\n    }\n}));\n\nconst BulkLayout = ({\n    expanded = false,\n    parents,\n    settings,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.bulk} aria-expanded={expanded}>\n            <header className={classes.header}>\n                {parents && <NavPath className={classes.path} parents={parents} /> }\n            </header>\n            <div className={classes.body}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nBulkLayout.defaultProps = {\n\n}\n\nBulkLayout.propTypes = {\n\n}\n\nexport default BulkLayout;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst ParentIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const collectionId = formContext && formContext.collectionId\n    const uniqueId = formContext && formContext.uniqueId\n\n    const query = {\n        url: \"/editor/\" + uniqueId + \"/parentId\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery(query))\n    }, [uniqueId])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded ||[]\n        // const options = models.length && getOptionsTree(models) ||[]\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No parentId\"\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const {SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default ParentIdField","import React, { useState,useEffect } from 'react';\nimport { WidgetSearch, ListView, ListModule, ButtonAdd, ButtonRemove } from \"..\"\nimport _ from \"lodash\"\n\nconst DocumentChildrenList = ({resultsLoaded}) => {\n\n    return (\n\n        <ListView>\n            {resultsLoaded && resultsLoaded.map(model => <ListModule {...model} primaryButton={<ButtonRemove />} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenList","import React, { useState,useEffect } from 'react';\nimport { WidgetSearch, ListView, ListModule, ButtonAdd, ButtonRemove } from \"..\"\nimport _ from \"lodash\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst DocumentChildrenSearch = (props) => {\n    const { schema, uiSchema } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const id = formData && formData.id\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // add children\n\n    const [q, setQ] = useState(\"\")\n    const [list, setList] = useState([])\n\n    const queryQ = [\n        \"uniqueId:NOT \" + uniqueId,\n        \"parentId:NOT \" + id,\n        q\n    ]\n\n    const query = {\n        url: pathname + \"/children/search\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: queryQ.join(' '),\n        ...uiQuery\n    }\n\n    // query\n\n    useEffect(() => {\n        query && dispatch(getQuery(query))\n    }, [q])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n    const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n\n    // onAdd and onRemove\n\n    const _onAdd = ({uniqueId}) => {\n        uniqueId && setList([...list, uniqueId])\n    }\n\n    const _onQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    return (\n\n        <ListView>\n            <WidgetSearch onChange={_onQuery} />\n            {resultsLoaded && resultsLoaded.map(model => <ListModule {...model} primaryButton={<ButtonAdd />} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenSearch","import React, { useState,useEffect } from 'react';\nimport { WidgetSearch, List, ListModule, ButtonAdd, ButtonRemove } from \"../\"\nimport _ from \"lodash\"\n\nimport DocumentChildrenList from \"./DocumentChildrenList\"\nimport DocumentChildrenSearch from \"./DocumentChildrenSearch\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\n\nconst DocumentChildrenField = (props) => {\n    const { schema, uiSchema } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const id = formData && formData.id\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // currentChildren\n\n    const query = {\n        url: pathname + \"/children\",\n        models: \"documents\",\n        collectionId: collectionId,\n        parentId: formData.id,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n    }\n\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery(query))\n    }, [uniqueId])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    return (\n        <div>\n\n            <DocumentChildrenList {...currentSearch} />\n\n            <DocumentChildrenSearch {...props} />\n\n        </div>\n    )\n\n\n    \n\n}\n\nexport default DocumentChildrenField","import React, { useState, useEffect } from 'react';\n// import { v4 as uuidv4 } from 'uuid';\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst FieldKioskPage = (props) => {\n    const {registry, formData, schema, uiSchema, formContext } = props;\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange(newFormData)\n    }\n\n    const _onAnnotateArrayChange = (links = []) => {\n        console.log('onAnnotateArrayChange', links)\n\n        handleChange({\n            ...formData,\n            links: links\n        })\n\n    }\n\n    const _onAnnotateImageChange = (links = []) => {\n        console.log('onAnnotateImageChange', links)\n\n        handleChange({\n            ...formData,\n            links: links\n        })\n \n    }\n\n    const annotateImage = formData && formData.backgroundImage\n    const imageAnnotations = formData && formData.links\n\n    let newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            annotateImage: annotateImage,\n            imageAnnotations: imageAnnotations,\n            onAnnotateArrayChange: _onAnnotateArrayChange,\n            onAnnotateImageChange: _onAnnotateImageChange,\n        }\n    }\n\n    /*\n    useEffect(() => {\n        newRegistry.formContext.imageAnnotations = imageAnnotations\n    }, [imageAnnotations])\n    */\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n    }\n\n    const newFormContext = newRegistry.formContext\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} \n            registry={newRegistry} \n            formContext={newFormContext} \n            uiSchema={newUiSchema}\n            onChange={handleChange} />\n    )\n\n\n}\n\nexport default FieldKioskPage","import React from 'react';\n\nconst ImageAnnotateArrayField = ({registry, ...props}) => {\n    const { ArrayField } = registry.fields;\n    const { onAnnotateArrayChange } = registry.formContext\n\n    return (\n        <ArrayField {...props} registry={registry} onChange={onAnnotateArrayChange} />\n    )\n\n}\n\nexport default ImageAnnotateArrayField;","import React, {useState, useEffect } from 'react';\nimport { ImageAnnotations } from \"@kit-ui/admin\"\n\nconst KioskAnnotateImageField = ({formContext, uiSchema, ...props}) => {\n    const { annotateImage = {}, imageAnnotations, onAnnotateImageChange } = formContext\n    const { mediaId, media, imageFilters } = annotateImage\n\n//    const uiOptions = getUiOptions(uiSchema)\n\n    return (\n        <ImageAnnotations imageUrl={media && media.imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} onChange={onAnnotateImageChange} />\n    )\n\n}\n\nexport default KioskAnnotateImageField;","import schema from \"./KpLink.schema\"\nimport uiSchema from \"./KpLink.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\",\n            \"filters\": [\"opacity\"]\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"textColor\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"textColor\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"module\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"link\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale ||formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"link\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\"\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markr\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    buttongroup: {\n        margin: props => { return theme.spacing(props.spacing/2 * -1) },\n        \"& > *\": {\n            margin: props => { return theme.spacing(props.spacing/2) },\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    label: {\n\n    }\n}));\n\nconst SectionButton = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n    const classes = useStyles()\n    \n    return (\n        <Button {...props} type=\"button\" data-size={size} data-variant={variant} disableElevation={true} color={color} variant={variant} size={size} className={classes.button}>\n            { icon && <Icon className={classes.icon}>{icon}</Icon>}\n            <b className={classes.label}>{title}</b>\n        </Button>\n    )\n\n}\n\n\nconst SectionButtons = ({className, spacing = 1, buttons = []}) => {\n\n    const classes = useStyles({spacing})\n\n    if (!buttons.length) {\n        return null\n    }\n\n    return (\n        <ButtonGroup color=\"primary\" className={className ||classes.buttongroup}>\n            { buttons && buttons.map((button, index) => {\n                return (\n                    <SectionButton {...button} key={index} />\n                )\n            })}\n        </ButtonGroup>\n    )\n    \n}\n\nSectionButtons.defaultProps = {\n    \"spacing\": 1\n}\n\nSectionButtons.propTypes = {\n    buttons: PropTypes.array,\n    buttonGroupProps: PropTypes.object,\n    buttonProps: PropTypes.object\n}\n\nexport default SectionButtons;","import React, { Component } from 'react';\nimport { ImagePreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport KpLinkButtons from './KpLinkButtons';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n\n        minHeight: 256,\n\n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n    buttons: {\n        zIndex: 2,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    preview: {\n        margin: 0\n    }\n}));\n\nconst KpLinkMediaLayout = (props) => {\n\n    const {mediaId, media, referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const mediaButtons = [\n        {\n            icon: \"remove_circle\",\n            title: \"Remove\",\n            variant: \"text\",\n            size: \"small\",\n            onClick: () => onChange({mediaId: undefined, media: {}})\n        }\n    ]\n\n    const buttons = [\n        {\n            icon: \"search\",\n            title: \"Finn media\",\n            color: \"inherit\",\n            size: \"small\",\n            onClick: () => onDialog(props)\n        }\n    ]\n\n    const imageUrl = mediaId && media && media.imageUrl || referenceId && reference && reference.imageUrl;\n\n    if (media && media.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={media.imageUrl} />\n                <KpLinkButtons className={classes.buttons} buttons={mediaButtons} />\n            </div>\n        )\n    }\n\n    if (referenceId && reference && reference.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={reference.imageUrl} />\n                <KpLinkButtons className={classes.buttons} buttons={buttons} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.root} data-name=\"media\">\n            <KpLinkButtons className={classes.buttons} buttons={buttons} />\n        </div>\n    )\n\n}\n\nexport default KpLinkMediaLayout","import React, { Component } from 'react';\nimport { ListModule } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\n\nconst useStyles = makeStyles(theme => ({\n    reference: {\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        \n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n}));\n\nconst KpLinkReferenceLayout = (props) => {\n\n    const {referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const _onAddLink = () => {\n        onDialog && onDialog(props)\n    }\n\n    const _onRemoveLink = () => {\n        onChange && onChange({\n            referenceId: undefined, \n            reference: {}\n        })\n    }\n\n    const LinkAddButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkIcon />\n            </IconButton>\n        )\n    }\n\n    const LinkRemoveButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkOffIcon />\n            </IconButton>\n        )\n    }\n\n\n    if (referenceId && reference) {\n        return (\n            <div className={classes.reference}>\n                <ListModule {...reference} startAdornment={<LinkRemoveButton onClick={_onRemoveLink} />} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.reference} onClick={_onAddLink}>\n            <ListModule untitled=\"Add a link\" startAdornment={<LinkAddButton />} />\n        </div>\n    )\n\n}\n\nexport default KpLinkReferenceLayout","import React, { Component } from 'react';\n\n//import KpLinkContentLayout from \"./KpLinkContentLayout\"\nimport KpLinkMediaLayout from \"./KpLinkMediaLayout\"\nimport KpLinkReferenceLayout from \"./KpLinkReferenceLayout\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KpLinKContentField = (props) => {\n\n    const { formData, formContext, schema, uiSchema, registry} = props\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n    const mediaType = media && media.mediaType\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n    const referenceDescription = reference && reference.description\n\n    /*\n    const imageUrl = media.imageUrl || reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n    */\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const _onMediaChange = ({mediaId, media}) => {\n\n        console.log('MEDIA change', media)\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            mediaId: mediaId,\n            media: media\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onMediaDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    mediaId: schema.properties.mediaId,\n                    media: schema.properties.media\n                }\n            },\n            formData: {\n                mediaId: mediaId,\n                media: media\n            },\n            onChange: _onMediaChange\n        })\n\n    }\n\n    const _onReferenceChange = ({referenceId, reference}) => {\n\n        console.log(\"KpLink:onChange\", referenceId)\n\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            referenceId: referenceId,\n            reference: reference\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onReferenceDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    referenceId: schema.properties.referenceId,\n                    reference: schema.properties.reference\n                }\n            },\n            onChange: _onReferenceChange\n        })\n\n    }\n    \n    const newUiSchema = {\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n            \"grid\": true,\n        },\n        \"linkMedia\": {\n            \"ui:layout\": KpLinkMediaLayout,\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\",\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:xs\": 4,\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": media,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:onDialog\": _onMediaDialog,\n            \"ui:onChange\": _onMediaChange,\n        },\n        \"linkContent\": {\n            \"ui:xs\": 8,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                ...uiSchema.linkContent.runningHead,\n                \"color\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\",\n                \"ui:placeholder\": referenceTitle,\n                ...uiSchema.linkContent.title,\n                \"titleColor\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n                \"ui:placeholder\": referenceDescription,\n                \"ui:widget\": \"textarea\"\n            },\n        },\n        \"linkReference\": {\n            \"ui:layout\": KpLinkReferenceLayout,\n            \"ui:xs\": 12,\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:dialog\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:onDialog\": _onReferenceDialog,\n            \"ui:onChange\": _onReferenceChange,\n        },\n    }\n\n    const {ObjectField } = registry.fields\n\n\n    return <ObjectField {...props} uiSchema={newUiSchema} />\n\n    return (\n        <p>{JSON.stringify(uiSchema)}</p>\n    )\n\n}\n\nexport default KpLinKContentField","import React, { Component } from 'react';\nimport Color from 'color';\nimport model from \"./KpLink.model\"\n\nimport KpLinkContentField from \"./KpLinkContentField\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\n\n\nconst KpLinkField = (props) => {\n    const {formData, formContext, registry } = props\n\n\n    const schema = {\n        ...model.schema,\n//        ...props.schema\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:layout\": \"kpLink\"\n    }\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n\n    const imageUrl = media.imageUrl || referenceId && reference && reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const getContrastColor = (hex) => {\n        const color = Color(hex)\n        return color.isLight() && \"black\" || \"white\"\n    }\n\n    const _onChange = (formData) => {\n\n        if (formData.backgroundColor !== backgroundColor) {\n            formData.color = getContrastColor(formData.backgroundColor)\n        }\n\n        if (formData.color !== color) {\n            formData.titleColor = formData.color\n        }\n\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange && props.onChange(newFormData)\n    }\n\n    const _onCropChange = (imageCropdata) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageCropdata: imageCropdata\n        })\n    }\n\n    const _onFocalpoint = (imageFocalpoint) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFocalpoint: imageFocalpoint\n        })\n    }\n\n    const _onFiltersChange = (imageFilters) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFilters: imageFilters\n        })\n     }\n    \n    const getUiSchema = () => {\n        const uiOptions = getUiOptions(uiSchema);\n\n        let fieldset = []\n\n        const uiPreview = {\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": mediaId,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:imageUrl\": imageUrl,\n            \"ui:imageCropdata\": imageCropdata,\n            \"ui:imageFilters\": imageFilters,\n            \"ui:imageFocalpoint\": imageFocalpoint,\n        }\n\n        let newUiSchema = {}\n\n        if (uiSchema.content) {\n            newUiSchema.content = {\n                ...uiSchema.content,\n                ...uiPreview,\n\n                \"ui:field\": KpLinkContentField,\n\n            }\n\n            fieldset.push('content')\n\n        }\n\n        if (uiSchema.imageCropdata && imageUrl) {\n            newUiSchema.imageCropdata = {\n                ...uiSchema.imageCropdata,\n                ...uiPreview,\n                \"ui:onChange\": (cropdata) => _onCropChange(cropdata),\n            }\n\n            fieldset.push('imageCropdata')\n        }\n\n        if (uiSchema.imageFocalpoint && imageUrl) {\n            newUiSchema.imageFocalpoint = {\n                ...uiSchema.imageFocalpoint,\n                ...uiPreview,\n                \"ui:onChange\": (focalpoint) => _onFocalpoint(focalpoint),\n            }\n\n            fieldset.push('imageFocalpoint')\n\n        }\n\n        if (uiSchema.imageFilters && imageUrl) {\n            newUiSchema.imageFilters = {\n                ...uiSchema.imageFilters,\n                ...uiPreview,\n                \"ui:onChange\": (filters) => _onFiltersChange(filters),\n            }\n\n            fieldset.push('imageFilters')\n        }\n\n        if (formContext.pageType === \"annotate\") {\n            newUiSchema.imageAnnotations = {\n                ...uiSchema.imageAnnotations,\n                ...uiPreview\n            }\n\n            fieldset.push('imageAnnotations')\n        }\n\n        return {\n            ...uiSchema,\n            ...newUiSchema,\n            \"ui:options\": uiOptions,\n            \"ui:fieldset\": fieldset,\n            \"color\": {\n                ...uiSchema.color,\n                \"ui:backgroundColor\": formData && formData.backgroundColor\n            },\n            \"link\": {\n                ...newUiSchema.link,\n                \"linkContent\": {\n                    ...newUiSchema.content.linkContent,\n                    \"titleColor\": {\n                        \"ui:backgroundColor\": formData && formData.backgroundColor\n                    }\n                }\n            }\n        }\n\n    }\n\n    const newUiSchema = getUiSchema()\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} schema={schema} uiSchema={newUiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default KpLinkField","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '@material-ui/core/Badge';\n\nimport {\n    ModuleBase,\n    ModuleMedia,\n    ModuleTitle,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline,\n    NavToolbar,\n    NavSettings\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n\n            \"& *\": {\n                pointerEvents: \"none\"\n            },\n\n            \"&[aria-selected=true]\": {\n            },\n\n        },\n\n        \"&[data-elevated=true]\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1)\n        },\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&.sortable-helper\": {\n            borderTopColor: \"transparent\",\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n            \"& $settings\": {\n                display: \"none\"\n            },\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n        },\n\n        \"&[data-status=erased]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n        \"&[data-status=trash]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n    },\n    badge: {\n        \"& .MuiBadge-badge\": {\n            pointerEvents: \"none\",\n            margin: theme.spacing(1)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n        \n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },\n    media: {\n        display: \"flex\",\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst StartAdornment = ({startAdornment, badgeContent}) => {\n\n    const classes = useStyles({})\n\n    return (\n        <Badge className={classes.badge} badgeContent={badgeContent} color=\"primary\">\n            {startAdornment}\n        </Badge>\n    )\n\n}\n\nconst ListModule = ({imageUrl, untitled, typeLabel, type, title, description, metadata, status, statusLabel, author, datetime, selected, onClick, ...props }) => {\n    const classes = useStyles({})\n\n    return (\n        <ModuleBase {...props} className={classes.module} role={onClick && \"button\"} status={status} selected={selected} onClick={onClick}>\n            <StartAdornment {...props} />\n            <div className={classes.media}>\n                <ModuleMedia backgroundColor=\"transparent\" imageUrl={imageUrl} width=\"48px\" height=\"48px\" />\n            </div>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && props.onEdit} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel ||status} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={typeLabel || type} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n            <NavSettings {...props} className={classes.settings} />\n            <NavToolbar {...props} className={classes.toolbar} />\n        </ModuleBase>\n    )    \n\n}\n\nListModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleBase,\n    ModuleFormat,\n    ModuleHeader,\n    ModuleBody,\n    ModuleFooter,\n    ModuleButtons,\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        position: \"relative\",\n        flexGrow: 1,\n        padding: theme.spacing(2)\n    },\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        padding: props => { return theme.spacing(props.padding) }\n    }\n\n}));\n\nconst ExpandedModule = ({id, children, buttons, ...props }) => {\n    const classes = useStyles(props)\n\n    return (\n        <ModuleBase className={classes.module} id={id} expanded={true} elevation={4}>\n            <ModuleFormat {...props}>\n                <ModuleHeader {...props} className={classes.header} />\n                <ModuleBody className={classes.body}>\n                    {children}\n                </ModuleBody>\n            </ModuleFormat>\n            <ModuleFooter {...props} className={classes.footer}>\n                {buttons && <ModuleButtons buttons={buttons} />}\n            </ModuleFooter>\n        </ModuleBase>\n    )    \n\n}\n\nExpandedModule.propTypes = {\n    title: PropTypes.string,\n    menu: PropTypes.array,\n    buttons: PropTypes.array,\n    children: PropTypes.node\n}\n\nexport default ExpandedModule;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport KpLinkCollapsed from \"./KpLinkCollapsed\"\nimport KpLinkExpanded from \"./KpLinkExpanded\"\n\nconst KpLinkLayout = ({\n    editable,\n    expanded,\n    buttons,\n    onSave,\n    children,\n    ...props\n}) => {\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onSave\n                }\n            ]\n        }\n\n        return (\n            <KpLinkExpanded {...props} buttons={buttons}>\n                {children}\n            </KpLinkExpanded>\n        )\n    }\n\n    return (\n        <KpLinkCollapsed\n            {...props}\n            editable={editable}\n        />\n    )\n\n}\n\nKpLinkLayout.defaultProps = {\n    padding: 2,\n    editable: true\n}\n\nKpLinkLayout.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default KpLinkLayout;\n","import React from 'react';\n\nconst KpDeviceField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props;\n\n    const setStartPageId = (startPageId) => {\n        props.onChange({\n            ...formData,\n            startPageId: startPageId\n        })\n    }\n\n    const startPageId = formData && formData.startPageId\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            startPageId: startPageId,\n            setStartPageId: setStartPageId\n        }\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} registry={newRegistry} />\n    )\n\n\n}\n\nexport default KpDeviceField","import React from 'react';\nimport { ListModule, ExpandedModule, ModuleLabel } from \"@kit-ui/admin\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\n\nconst KpDeviceLinkField = ({\n    formData,\n    formContext,\n    children,\n    ...props\n}) => {\n\n    const { startPageId, setStartPageId } = formContext\n    const { referenceId, reference }= formData\n\n    const isStartPage = startPageId && referenceId === startPageId\n\n    const toggleStartPage = (id) => {\n        setStartPageId && setStartPageId(id)\n    }\n\n\n\n    const StartPageSettings = () => {\n\n        if (isStartPage) {\n            return (\n                <ButtonBase onClick={() => toggleStartPage(undefined)}>\n                    <ModuleLabel backgroundColor=\"black\">Startpage</ModuleLabel>\n                </ButtonBase>\n            )\n        }\n\n        return (\n            <ButtonBase onClick={() => toggleStartPage(referenceId)}>\n                <ModuleLabel>Startpage</ModuleLabel>\n            </ButtonBase>\n        )\n    }\n\n    const settings = [\n        StartPageSettings\n    ]\n\n    if (props.editable && props.expanded) {\n        return (\n            <ExpandedModule {...props}>\n                {children}\n            </ExpandedModule>\n        )\n    }\n\n    return (\n        <ListModule\n            {...reference}\n            onEdit={undefined}\n            elevation={1}\n            settings={settings}\n        />\n    )\n\n}\n\nexport default KpDeviceLinkField;\n","import React, {useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst PageEditorField = (props) => {\n    const { idSchema, schema, uiSchema, formData, formContext, registry } = props;\n    const { isLoading, isSaving, uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { currentId, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const getPrimaryAction = () => {\n\n        if (isLoading) {\n            return {\n                label: t(\"Loading\") + \" ...\",\n                disabled: true\n            }\n        } else if (isSaving) {\n            return {\n                label: t(\"Saving\") + \" ...\",\n                disabled: true\n            }\n        }\n\n        let primary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save as draft\"),\n                    onClick: () => onSubmit('draft'),\n                },\n                {\n                    label: t(\"Save and publish\"),\n                    onClick: () => onSubmit('publish'),\n                },\n            ]\n        }\n\n        let secondary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save and exit\"),\n                }\n            ]\n\n        }\n\n        if (uniqueId) {\n            secondary.children.push({\n                label: t(\"Save as\") + \" ...\",\n            })\n        }\n        \n\n        return {\n            type: \"save\",\n            label: t(\"Save\"),\n            onClick: () => onSubmit(),\n            children: [\n                primary,\n                secondary\n            ]\n        }\n    \n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getPrimaryAction()\n\n    // toggle fieldset\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggle = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale ||formContext.languages && formContext.languages[0]\n    const [currentLocale, setCurrentLocale] = useState(defaultLocale)\n\n    const _onLocale = (locale) => {\n        onLocale && onLocale(locale)\n        setCurrentLocale(locale)\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:layout\": \"pageEditor\",\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggle\": () => _onToggle()\n    }\n\n    const { ObjectField } = registry.fields;\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...formContext,\n            currentLocale: currentLocale\n        }\n    }\n\n    return (\n        <ObjectField {...props} registry={newRegistry} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageEditorField;","import React from 'react'\nimport {EditorBase, EditorHeader, EditorBody, EditorFooter, EditorOverlay } from \"@kit-ui/admin\"\n\nconst PageEditor = ({collapsible, expanded, overlay, onToggle, onSelect, children, ...props}) => {\n\n    const renderOverlay = () => {\n        const OverlayTemplate = overlay && overlay.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={overlay && overlay.expanded}>\n                { OverlayTemplate && <OverlayTemplate {...overlay} /> }\n            </EditorOverlay>\n        )\n    }\n\n    return (\n        <EditorBase>\n            <EditorHeader {...props} collapsible={collapsible} expanded={expanded} onToggle={onToggle} onSelect={onSelect} />\n            <EditorBody elevation={1} expanded={expanded}>\n                {children}\n            </EditorBody>\n            <EditorFooter {...props} />\n            { overlay && renderOverlay() }\n        </EditorBase>\n    )\n}\n\nexport default PageEditor;","import React, { useState } from 'react'\n\nconst PageContentField = (props) => {\n    const { uiSchema, formContext, registry } = props\n    const { dialog, preview } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": dialog,\n        \"ui:preview\": preview,\n        \"ui:layout\": \"pageContent\"\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageContentField;","import React from 'react';\nimport { NavMenuList, NavMenuItem, NavMenuLink } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    menu: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: \"auto\",\n        left: 0,\n        bottom: 0,\n        margin: 0,\n        width: props => { return props.menuWidth },\n        transition: \".125s ease-out\",\n\n        \"& + *\": {\n            position: \"absolute\",\n            zIndex: 1,\n            top: 0,\n            right: 0,\n            left: 0,\n            bottom: 0,\n            margin: 0,\n            overflowY: \"scroll\"\n        },\n\n        \"&[aria-expanded=true] + *\":  {\n            marginLeft: props => { return props.menuWidth },\n        }\n    },\n    menuList: {\n        margin: theme.spacing(2, 0),\n        \"& > li + li\": {\n            marginTop: theme.spacing(1)\n        }\n    }\n}));\n\nconst PageMenu = ({className, menuWidth = 224, menu = undefined}) => {\n    const classes = useStyles({menuWidth});\n\n    if (!menu) {\n        return false\n    }\n\n    return (\n        <aside className={className ||classes.menu} aria-expanded={true}>\n            <NavMenuList className={classes.menuList}>\n                {menu.map((item, index) => {\n                    return (\n                        <NavMenuItem key={index}>\n                            <NavMenuLink {...item} />\n                        </NavMenuItem>\n                    )\n                })}\n            </NavMenuList>\n        </aside>\n    )\n\n}\n\nexport default PageMenu;","import React from 'react';\nimport { EditorSection, EditorContent, EditorPreview, EditorSidebar } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    content: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n\n        transition: \".125s ease-out\",\n        transform: \"translateY(100%)\",\n\n        \"&[aria-expanded=true]\": {\n            transform: \"translateY(0)\",\n        }\n    },\n    wrapper: {\n        backgroundColor: \"inherit\", \n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst PageContent = ({id, selected = true, sidebar, preview, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    const renderSidebar = () => {\n        const SidebarTemplate = sidebar && sidebar.template;\n\n        return (\n            <EditorSidebar expanded={sidebar && sidebar.expanded}>\n                { SidebarTemplate && <SidebarTemplate {...sidebar} /> }\n            </EditorSidebar>\n        )\n    }\n\n    const renderPreview = () => {\n        const PreviewTemplate = preview && preview.template;\n        return (\n            <EditorPreview expanded={true}>\n                { PreviewTemplate && <PreviewTemplate {...preview} /> }\n            </EditorPreview>\n        )\n    }  \n\n    return (\n        <EditorSection id={id} expanded={selected} className={classes.content}>\n            { sidebar && renderSidebar() }\n            <EditorSection elevation={0} className={classes.wrapper}>\n                { preview && renderPreview() }\n                <EditorContent elevation={0}>\n                    { menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n                    {children}\n                </EditorContent>\n            </EditorSection>\n        </EditorSection>\n    )\n\n}\n\nexport default PageContent;","import React, { useState } from 'react'\n\nconst PageSettingsField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props\n    const { dialog } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:layout\": \"pageSettings\",\n        \"ui:field\": undefined\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageSettingsField;","import React from 'react';\n\nimport { EditorSection, EditorContent, EditorOverlay } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        \"&[aria-expanded=true]\": {\n            top: 0\n        }\n\n    },\n}));\n\nconst PageSettings = ({id, expanded = true, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    /*\n\n    const renderDialog = () => {\n        const DialogTemplate = dialog && dialog.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={dialog && dialog.expanded}>\n                { DialogTemplate && <DialogTemplate {...dialog} /> }\n            </EditorOverlay>\n        )\n    }\n\n    */\n\n    return (\n        <EditorSection id={id} elevation={0} className={classes.settings} aria-expanded={expanded}>\n            {menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n            <EditorContent expanded={true}>\n                {children}\n            </EditorContent>\n        </EditorSection>\n    )\n\n}\n\nexport default PageSettings;","import PageEditorField from \"./PageEditorField\"\nimport PageEditor from \"./PageEditorLayout\"\nimport PageContentField from \"./PageContentField\"\nimport PageContent from \"./PageContentLayout\"\nimport PageSettingsField from \"./PageSettingsField\"\nimport PageSettings from \"./PageSettingsLayout\"\n\nexport default {\n    fields: {\n        \"pageEditor\": PageEditorField,\n        \"pageEditorLayout\": PageEditor,\n        \"pageContent\": PageContentField,\n        \"pageContentLayout\": PageContent,\n        \"pageSettings\": PageSettingsField,\n        \"pageSettingsLayout\": PageSettings\n    }\n\n}","\nimport DocumentParentIdField from \"./DocumentParentIdField/DocumentParentIdField\"\nimport DocumentChildrenField from \"./DocumentChildrenField/DocumentChildrenField\"\n\nimport KpPageField from \"./KpPage/KpPageField\"\nimport KpAnnotateArrayField from \"./KpPage/KpAnnotateArrayField\"\nimport KpAnnotateImageField from \"./KpPage/KpAnnotateImageField\"\n\nimport KpLinkField from \"./KpLink/KpLinkField\"\nimport KpLinkLayout from \"./KpLink/KpLinkLayout\"\n\nimport KpLinkMediaLayout from \"./KpLink/KpLinkMediaLayout\"\n\nimport KpDeviceField from \"./KpDevice/KpDeviceField\"\nimport KpDeviceLinkField from \"./KpDevice/KpDeviceLinkField\"\n\nimport pageEditor from \"./PageEditor/registry\"\n\nexport default {\n    \"fields\": {\n        \"documentParentId\": DocumentParentIdField,\n        \"documentChildren\": DocumentChildrenField,\n        \"kpPage\": KpPageField,\n        \"kpAnnotateArray\": KpAnnotateArrayField,\n        \"kpAnnotateImage\": KpAnnotateImageField,\n        \"kpLink\": KpLinkField,\n        \"kpLinkLayout\": KpLinkLayout,\n        \"kpLinkMediaLayout\": KpLinkMediaLayout,\n        \"kpDevice\": KpDeviceField,\n        \"kpDeviceLink\": KpDeviceLinkField,\n        ...pageEditor.fields\n    },\n    \"widgets\": {\n//        \"colorSettings\": ColorSettingsWidget,\n//        \"listSettings\": ListSettingsWidget,\n//        \"gridSettings\": GridSettingsWidget,\n//        \"sizeSettings\": SizeSettingsWidget,\n//        \"placementSettings\": PlacementSettingsWidget\n    },\n    \"models\": {\n    }\n}","export default {\n    \"type\": \"string\",\n    \"format\": \"size\",\n    \"enum\": [\n      \"small\",\n      \"medium\",\n      \"large\",\n      \"xl\"\n    ],\n    \"enumNames\": [\n      \"Small\",\n      \"Medium\",\n      \"Large\",\n      \"XL\"\n    ],\n    \"default\" : \"small\"\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"1:1\",\n        \"2:1\",\n        \"4:3\"\n    ],\n    \"default\" : \"1:1\"\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\n//import PreviewTemplate from \"@frontend-components/admin/lib/components/AppKp/preview/Article\"\n\nexport default {\n    id: 1,\n    schemaType: \"documents\",\n    name: 'article',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import section from './section/schema'\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"location\": {\n                    \"type\": \"geopoint\"\n                },\n                \"keywords\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [],\n                    },\n                    \"uniqueItems\": true\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\",\n                    \"properties\": {\n                        \"content\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"headline\": {\n                                    \"type\": \"localizedString\"\n                                },\n                                \"caption\": {\n                                    \"type\": \"localizedString\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"author\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"type\": \"string\"\n                        },\n                        \"description\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"sections\" : {\n                    \"type\": \"array\",\n                    \"items\": section\n                },\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"topic\",\n                        \"referenceType\": \"articleIsPartOf\",\n                        \"_reverseReferenceType\": \"topicHasArticles\",\n                        \"_reverseReference\": \"hasArticles[]\"\n                    }\n                }\n            }\n        }\n    }\n}","import sectionType from './sectionType';\nimport sectionText from './sectionText';\nimport sectionMedia from './sectionMedia';\nimport sectionDm from './sectionDm';\nimport sectionLinks from './sectionLinks';\nimport sectionAttachments from './sectionAttachments';\nimport sectionQuote from './sectionQuote';\n  \nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": sectionType,\n        \"title\": {\n            \"type\" : \"localizedString\"\n        },\n        \"titleHidden\": {\n            \"type\" : \"boolean\"\n        }\n    },\n    \"dependencies\": {\n        \"sectionType\" : {\n            \"oneOf\": [\n                sectionText,\n                sectionMedia,\n                sectionDm,\n                sectionLinks,\n                sectionAttachments,\n                sectionQuote,\n            ]\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"text\",\n        \"media\",\n        \"dm\",\n        \"links\",\n        \"attachments\",\n        \"quote\"\n    ],\n    \"enumNames\": [\n        \"Tekst\",\n        \"Media\",\n        \"DM\",\n        \"Lenker\",\n        \"Vedlegg\",\n        \"Sitat\"\n    ],\n    \"default\" : \"text\"\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"text\"]\n        },\n        \"leadtext\": {\n            \"type\": \"localizedString\"\n        },\n        \"bodytext\": {\n            \"type\": \"localizedString\"\n        }\n    }\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"media\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"list\",\n                \"grid\",\n                \"slideshow\",\n            ],\n            \"enumNames\": [\n                \"Liste\",\n                \"Grid\",\n                \"Slideshow\",\n            ],\n            \"default\" : \"grid\"\n          },\n        \"media\": media\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","import ekultur from \"./ekultur\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"dm\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"grid\",\n              \"grid-wide\",\n              \"slideshow\",\n              \"slideshow-wide\"\n            ],\n            \"enumNames\": [\n              \"Grid\",\n              \"Grid Wide\",\n              \"Slideshow\",\n              \"Slideshow Wide\"\n            ],\n            \"default\" : \"grid\"\n          },\n        \"references\": ekultur\n    }\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"reference\",\n        \"referenceType\": \"ekultur\"\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"links\"]\n        },\n        \"links\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"url\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}","import attachments from \"./attachments\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"attachments\"]\n        },\n        \"attachments\": attachments\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"quote\"]\n        },\n        \"quote\": {\n            \"type\": \"localizedString\"\n        },\n        \"cite\": {\n            \"type\": \"string\"\n        }\n    }\n}","import header from \"./header/uiSchema\";\nimport body from \"./body/uiSchema\";\nimport isPartOf from \"./isPartOf/uiSchema\";\nimport settings from \"./settings/uiSchema\";\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\",\n            \"isPartOf\"\n        ],\n        \"header\": header,\n        \"body\": body,\n        \"isPartOf\": isPartOf\n    }\n}","import icons from \"../../icons\"\n\nexport default {\n  \"select\": {\n        \"icon\": \"icon\",\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\"\n  },\n  prepare({formData, formContext}) {\n    let { documentType, title, content, description } = formData\n\n    const defaultLocale = formContext && formContext.defaultLocale\n    const currentLocale = formContext && formContext.currentLocale\n    const locale = defaultLocale ||currentLocale ||formData.locale\n    const localeId =  \"locale:\" + locale\n\n    let metadata = []\n\n    const titleImage = content && content.titleImage\n    const imageUrl = titleImage && titleImage.media && titleImage.media.imageUrl\n    \n    if (content) {\n\n        title = content.title && content.title[localeId]\n        description = content.description && content.description[localeId]\n\n        const { location, sections, isPartOf } = content\n\n        if (location && location.lat && location.lng) {\n            \n            if (location.address) {\n                metadata.push(location.address)\n            } else {\n                metadata.push(\"Sted\")\n            }\n            \n        }\n\n        if (sections && sections.length) {\n            metadata.push(sections.length + ' seksjoner')\n        }\n\n        if (isPartOf && isPartOf.length) {\n            metadata.push(isPartOf.length + ' tema')\n        }\n        \n                \n    }\n\n    return {\n        icon: icons[\"article\"],\n        imageUrl: imageUrl,\n        untitled: \"Ny artikkel\",\n        title: title || \"Uten tittel\",\n        description: description,\n        metadata: metadata,\n        typeLabel: documentType\n    }\n    \n  }\n  \n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n        \"geocoder\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"keywords\",\n                \"license\",\n                \"location\"\n            ],\n            \"keywords\": {\n                \"ui:widget\": \"tags\",\n                \"ui:title\": \"Nkkelord\",\n                \"ui:help\": \"Beskrivende stikkord.\",\n            },\n            \"license\": {\n//                \"ui:widget\": \"selectLicense\",\n                \"ui:title\": \"Lisens\",\n                \"ui:help\": \"Velg en lisens for dette innholdet.\",\n            },\n            \"location\": {\n                \"ui:layout\": \"thumbnail\",\n                \"ui:options\": {\n                    \"minWidth\": 200,\n                    \"minHeight\": 200\n                },\n                \"ui:fieldset\": [\n                    \"map\",\n                    \"info\"\n                ],\n                \"map\": {\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                    \"ui:options\": {\n                        \"minWidth\": 200,\n                        \"minHeight\": 200\n                    },\n                    \"ui:layout\": \"geopointPreview\"\n                },\n                \"info\": {\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                }\n            }\n        }\n    },\n    \"geocoder\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Lokasjon\",\n        \"ui:icon\": \"near_me\",\n        \"ui:options\": {\n            \"position\": \"absolute\",\n            \"padding\": 2,\n            \"grid\": false\n        },\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"location\"\n            ],\n            \"location\": {\n                \"ui:field\": \"geopoint\",\n                \"ui:layout\": \"geocoder\",\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\",\n    ],\n    \"ui:layout\": \"section\",\n    \"ui:options\" : {\n        \"collapsible\": true,\n        \"expanded\": true,\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Header\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.title && formData.title[localeId]  \n    \n            return {\n                description: description\n            }\n    \n        }\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:field\": \"media\",\n//        \"ui:minHeight\": 240,\n        \"ui:options\": {\n            \"editable\": true,\n            \"hotspot\": true\n        },\n        \"ui:buttons\": [\n            {\n                \"title\": \"Finn hovedbilde\",\n                \"icon\": \"search\",\n                \"type\": \"sidebar\"\n            },\n        ],\n        \"ui:fieldset\": [\n            \"media\",\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"author\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"author\": {\n            \"fieldset\": [\n                \"name\",\n                \"description\"\n            ],\n            \"name\": {\n                \"ui:title\": \"Forfatter\"\n            },\n            \"description\": {\n                \"ui:title\": \"Forfatter, beskrivelse\",\n            },\n        }        \n    }\n\n}","import section from \"../section/uiSchema\";\n\nexport default {\n    \"ui:fieldset\": [\n        \"sections\"\n    ],\n    \"sections\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Innhold\",\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\" \n            },\n            prepare({formData = []}) {\n    \n                let description;\n    \n                if (formData.length && formData.length === 1) {\n                    description = formData.length + \" seksjon\"\n                } else if (formData.length) {\n                    description = formData.length + \" seksjoner\"\n                } else {\n                    description = \"Ingen seksjoner\"\n                }\n    \n                return {\n                    \"description\": description\n                }\n            }\n        },\n        \"ui:options\" : {\n            \"collapsible\": true,\n            \"expanded\": true,\n            \"draggable\": true,\n            \"spacing\": 2,\n        },\n        \"ui:buttons\" : [\n            {\n                \"icon\": \"subject\",\n                \"title\" : \"Tekst\",\n                \"item\" : {\n                    \"sectionType\" : \"text\"\n                }\n            },\n            {\n                \"icon\": \"insert_photo\",\n                \"title\" : \"Media\",\n                \"item\" : {\n                    \"sectionType\" : \"media\"\n                }\n            },\n            {\n                \"icon\": \"fingerprint\",\n                \"title\" : \"DM\",\n                \"item\" : {\n                    \"sectionType\" : \"dm\"\n                }\n            },\n            {\n                \"icon\": \"insert_link\",\n                \"title\" : \"Lenker\",\n                \"item\" : {\n                    \"sectionType\" : \"links\"\n                }\n            },\n            {\n                \"icon\": \"attach_file\",\n                \"title\" : \"Vedlegg\",\n                \"item\" : {\n                    \"sectionType\" : \"attachments\"\n                }\n            },\n            {\n                \"icon\": \"format_quote\",\n                \"title\" : \"Sitat\",\n                \"item\" : {\n                    \"sectionType\" : \"quote\"\n                }\n            }\n        ],\n        \"items\": section\n    }\n}","import media from \"./mediaUi\"\nimport attachments from \"./attachmentsUi\"\nimport links from \"./linksUi\"\nimport ekultur from \"./ekulturUi\"\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"editable\": true,\n        \"hideable\": true,\n        \"removable\": true,\n        \"spacing\": 2\n    },\n    \"ui:settings\": [\n        \"sectionType\",\n        \"sectionLayout\"\n    ],\n    \"sectionType\": {\n        \"ui:enumIcons\": {\n            \"text\": \"subject\",\n            \"media\": \"insert_photo\",\n            \"links\": \"insert_link\",\n            \"attachments\": \"attach_file\",\n            \"quote\": \"format_quote\",\n            \"dm\": \"fingerprint\"\n        }\n    },\n    \"ui:fieldset\": [\n        \"head\",\n        \"body\"\n    ],\n    \"head\": {\n        \"ui:fieldset\": [\n            \"title\",\n            \"titleHidden\",\n            \"description\"\n        ],\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"title\": {\n            \"ui:xs\": 9,\n            \"ui:label\": false,\n            \"ui:placeholder\": \"Tittel\"\n        },\n        \"titleHidden\": {\n            \"ui:gridCols\": 3,\n            \"ui:title\": \"Skjul tittel\",\n            \"ui:widget\": \"switch\"\n        },\n        \"description\" : {\n            \"ui:gridCols\": 12,\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\" : \"textarea\",\n        }\n    },\n    \"body\": {\n        \"ui:fieldset\": [\n            \"media\",\n            \"attachments\",\n            \"references\",\n            \"bodytext\",\n            \"links\",\n            \"quote\",\n            \"cite\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"media\": media,\n        \"attachments\": attachments,\n        \"references\": ekultur,\n        \"bodytext\" : {\n            \"ui:title\": \"Brdtekst\",\n            \"ui:widget\" : \"texteditor\"\n        },\n        \"quote\" : {\n            \"ui:title\": \"Sitat\",\n            \"ui:widget\" : \"textarea\"\n        },\n        \"cite\" : {\n            \"ui:title\": \"Byline\",\n        },\n        \"links\" : links\n    }\n}","export default {\n    \"select\": {\n        \"title\": \"title\",\n        \"untitled\": \"untitled\",\n        \"description\": \"description\"\n    },\n    prepare({formData, formContext}) {\n        const localeId = \"locale:no\"\n        const title = formData.title && formData.title[localeId]\n\n        const sectionType = formData.sectionType\n        const untitled = \"Untitled \" + sectionType\n\n        const {bodytext, media, references, links, attachments, cite, quote } = formData\n\n        let description;\n\n        if (sectionType === \"text\") {\n            description = bodytext && bodytext[localeId]\n        }\n\n        if (sectionType === \"media\") {\n            description = media && media.length + \" media\"\n        }\n\n        if (sectionType === \"dm\") {\n            description = references && references.length + \" referanser\"\n        }\n\n        if (sectionType === \"links\") {\n            description = links && links.length + \" lenker\"\n        }\n\n        if (sectionType === \"attachments\") {\n            description = attachments && attachments.length + \" vedlegg\"\n        }\n\n        if (sectionType === \"quote\") {\n            description = []\n\n            cite && description.push(cite)\n            quote && quote[localeId] && description.push(quote[localeId])\n\n            description = description.join(\": \")\n        }\n\n        return {\n            title: title,\n            untitled: untitled,\n            description: description\n        }\n\n    }\n}","export default {\n    \"ui:title\": \"Media\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video/*\",\"audio/*\",\"youtube\",\"vimeo\",\"sketchfab\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\"\n        }\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:settings\": [\n            \"mediaSize\",\n            \"mediaFormat\"\n        ],\n        \"ui:fieldset\": [\n            \"content\",\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Vedlegg\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"misc\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn vedlegg\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Referanser\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"ekultur\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn referanse\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"title\": \"title\"\n            },\n            prepare({formData}) {\n                const { imageUrl, title } = formData.reference;\n\n                return {\n                    imageUrl: imageUrl,\n                    title: title\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Lenker\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": {\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\"\n            },\n            prepare({formData}) {\n                return {\n                    description: formData.url\n                }\n            }\n        },\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:options\": {\n                \"grid\": true,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"title\",\n                \"url\"\n            ],\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"url\": {\n                \"ui:title\": \"URL\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Er en del av\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\" \n        },\n        prepare({formData = []}) {\n\n            let description;\n\n            if (formData.length) {\n                description = formData.length + \" tema\"\n            } else {\n                description = \"Ingen tema\"\n            }\n\n            return {\n                \"description\": description\n            }\n        }\n    },\n    \"ui:options\" : {\n        \"draggable\": true,\n        \"collapsible\": true,\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn tema\"\n        },\n        {\n            \"title\": \"Legg til\"\n        }\n    ]\n}","import documentType from \"./documentType/schema\"\nimport links from \"./links/schema\"\nimport linksLayout from \"./linksLayout/schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": documentType,\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"collectionId\": {\n            \"type\": \"string\",\n        },\n        \"parentId\": {\n            \"type\": \"string\",\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"mapLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"default\",\"roundtrip\"],\n                    \"default\": \"default\"\n                },\n                \"mediaLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"gallery\",\"autoplay\"],\n                    \"default\": \"gallery\"\n                },\n                \"annotateLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"imagemap\",\"legends\"],\n                    \"default\": \"imagemap\"\n                },\n                \"annotateColor\": {\n                    \"type\": \"color\",\n                    \"enum\": [\"red\",\"green\",\"blue\",\"black\",\"white\"]\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"annotations\": true,\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"parallaxImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"linksLayout\": linksLayout,\n                \"links\": links,\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"presentation\",\n                        \"referenceType\": \"pageIsPartOf\",\n                        \"_reverseReferenceType\": \"presentationHasPages\",\n                        \"_reverseReference\": \"hasPages[]\"\n                    }\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"pageTopic\",\n        \"pageMap\"\n    ],\n    \"enumNames\": [\n        \"Tema\",\n        \"Kart\"\n    ]\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"list\",\n        \"mosaic\",\n        \"imagelegend\",\n        \"imagemap\",\n        \"gallery\",\n        \"autoplay\",\n        \"timeline\"\n    ],\n    \"enumNames\": [\n        \"Liste\",\n        \"Mosaikk\",\n        \"Bildeforklaring\",\n        \"Bildekart\",\n        \"Mediagalleri\",\n        \"Autoplay\",\n        \"Tidslinje\"\n    ],\n    \"default\" : \"list\"\n}","import items from \"./items\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": items\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\"\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import icons from \"../../icons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\",\n        \"icon\": \"icon\"\n    },\n    prepare({formData, formContext}) {\n        const { parentId, documentType, content } = formData\n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale ||currentLocale ||formData.locale\n        const localeId =  \"locale:\" + locale\n\n        let metadata = []\n\n        parentId && metadata.push(\"Parent: \" + parentId)\n\n        const backgroundImage = content && content.backgroundImage\n\n        const imageUrl = backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl\n\n        const icon = documentType && icons[documentType]\n        const title = content && content.title && content.title[localeId] ||formData.title\n        const description = content && content.description && content.description[localeId]\n\n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            title: title ||\"Untitled\",\n            description: description,\n            metadata: metadata,\n            typeLabel: documentType,\n        }\n    \n    }\n  \n}","export default {\n    \"ui:layout\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"documentType\",\n            \"parentId\",\n            \"children\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"documentType\": {\n            \"ui:title\": \"Sidetype\"\n        },\n        \"parentId\": {\n            \"ui:field\": \"documentParentId\",\n//            \"ui:widget\": \"autocomplete\",\n            \"ui:title\": \"ParentId\",\n            \"ui:query\": {\n                \"documentType\": \"page*\",\n            }\n        },\n        \"children\": {\n            \"ui:fieldset\": [\n                \"uniqueId\",\n                \"id\"\n            ],\n            \"ui:field\": \"documentChildren\",\n            \"ui:query\": {\n                \"documentType\": \"page*\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Presentasjon\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"title\",\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"title\": {\n        \"ui:title\": \"Tittel\"\n    },\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Media\",\n    \"ui:fieldset\": [\n        \"media\",\n    ],\n    \"ui:options\": {\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"media\": {\n        \"ui:options\": {\n//            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"backgroundImage\"\n        ],\n        \"backgroundImage\": {\n            \"ui:layout\": \"media\",\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn bakgrunnsbilde\"\n                }\n            ],\n            \"ui:fieldset\": [\n                \"media\",\"imageCropdata\",\"imageFilters\"\n            ],\n            \"media\": {\n                \"ui:title\": \"Bakgrunnsbilde\"\n            }\n        },\n        \"parallaxImage\": {\n            \"ui:layout\": \"media\",\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn parallaxbilde\"\n                }\n            ],\n            \"media\": {\n                \"ui:title\": \"Parallaxbilde\"\n            }\n        }        \n    }\n}","import items from \"./itemsUi\"\n\nexport default {\n    \"ui:title\": \"Lenker\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" lenker\"\n            }\n        }\n    },\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": [\"page*\",\"article\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn innhold\",\n        },\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": items\n}","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"module\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale ||formContext.defaultLocale ||\"no\";\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"backgroundColor\": {\n        \"ui:widget\": \"color\"\n    },\n    \"color\": {\n        \"ui:widget\": \"color\",\n        \"ui:settingsVariant\": \"text\"\n    },\n    \"grid\": {\n        \"ui:widget\": \"grid\",\n        \"ui:maxCols\": 5,\n        \"ui:maxRows\": 3\n    },\n    \"placement\": {\n        \"ui:widget\": \"placement\",\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"content\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                \"ui:settings\": [\n                    \"color\"\n                ]\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"titleColor\": {\n                \"ui:widget\": \"color\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markr\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import links from \"../links/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Innhold\",\n    \"ui:icon\": \"link\",\n    \"ui:fieldset\": [\n        \"links\"\n    ],\n    \"ui:settings\": [\n//        \"linksLayout\"\n    ],\n    \"links\": links\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./homeHeader/uiSchema\"\nimport media from \"./listMedia/uiSchema\"\nimport body from \"./listBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:fieldset\": [\n        \"title\",\n        \"leadtext\",\n        \"bodytext\"\n    ],\n    \"ui:title\": \"Hjemmeside\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    article: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        margin: theme.spacing(1),\n        overflowY: \"scroll\",\n\n        \"& *\": {\n            boxSizing: \"border-box\"\n        },\n\n        backgroundColor: \"white\",\n        fontFamily: \"Akkurat, sans-serif\",\n        lineHeight: 1.5,\n\n        \"& h1\": {\n            fontSize: \"1.5em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n        \"& h2\": {\n            fontSize: \"1.25em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n    }\n}));\n\nconst ArticleBase = ({className, children}) => {\n    const classes = useStyles()\n    return (\n        <article className={className ||classes.article}>\n            {children}\n        </article>\n    )\n}\n\nexport default ArticleBase","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n        margin: \"auto\"\n    },\n}));\n\n\nconst ArticleGrid = ({className, maxWidth = 720, children}) => {\n    const classes = useStyles({maxWidth})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            {children}\n        </section>\n    )\n\n}\n\nexport default ArticleGrid","import React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n\n        \"&.h1\": {\n            fontSize: \"1.5em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n        \"&.h2\": {\n            fontSize: \"1.25em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n    },\n}));\n\nconst ArticleTitle = ({className, component = \"h1\", language = \"no\", children}) => {\n\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <Typography className={className ||classes.title} component={component}>{children}</Typography    >\n    )\n}\n\nexport default ArticleTitle","import React from \"react\"\nimport ReactMarkdown from 'react-markdown';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    bodytext: {\n        \"& p\": {\n            margin: \"1em 0\"\n        },\n\n        \"& ul\": {\n            listStyle: \"disc\",\n            margin: \"1em 0\"\n        },\n\n        \"& ol\": {\n            listStyle: \"upper-roman\",\n            margin: \"1em 0\"\n        },\n\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleBodytext = ({className, language = \"no\", children}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <ReactMarkdown className={className ||classes.bodytext} source={children} />             \n    )\n}\n\nexport default ArticleBodytext","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n//        overflow: \"hidden\",\n        margin: \"auto\"\n    },\n    list: {\n        margin: props => { return theme.spacing(-props.spacing/2) },\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    item: {\n        width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        padding: props => { return theme.spacing(props.spacing/2) },\n\n        /*\n        width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns },\n        padding: props => { return theme.spacing(props.spacing/2) },\n        \"&[data-size=medium]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*2 },\n        },\n        \"&[data-size=large]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*4 },\n        },\n        \"&[data-size=xl]\": {\n            width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        }\n        */\n    }\n\n}));\n\n\nconst LayoutList = ({className, spacing = 2, padding = 0, maxWidth = 720, gridColumns = 4, mediaFormat = \"2:1\", children}) => {\n    const classes = useStyles({maxWidth, gridColumns, spacing, padding})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            <div className={className ||classes.list}>\n                {children.map((child, index) => {\n                    const item = React.cloneElement(child, {\n                        mediaFormat: mediaFormat\n                    })\n                    return (\n                        <div className={classes.item} data-size={item.props.size} key={index}>\n                            { item }\n                        </div>\n                    )\n                })}\n            </div>\n        </section>\n    )\n\n}\n\nexport default LayoutList","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n        overflow: \"hidden\",\n        margin: \"auto\"\n    },\n    grid: {\n        margin: props => { return theme.spacing(-props.spacing/2) },\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    item: {\n        width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns },\n        padding: props => { return theme.spacing(props.spacing/2) },\n        \"&[data-size=medium]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*2 },\n        },\n        \"&[data-size=large]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*4 },\n        },\n        \"&[data-size=xl]\": {\n            width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        }\n    }\n\n}));\n\n\nconst LayoutGrid = ({className, spacing = 2, padding = 0, maxWidth = 720, gridColumns = 4, children}) => {\n    const classes = useStyles({maxWidth, gridColumns, spacing, padding})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            <div className={className ||classes.grid}>\n                {children.map((child, index) => {\n                    const item = React.cloneElement(child)\n                    return (\n                        <div className={classes.item} data-size={item.props.size} key={index}>\n                            { item }\n                        </div>\n                    )\n                })}\n            </div>\n        </section>\n    )\n\n}\n\nexport default LayoutGrid","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext, DotGroup } from 'pure-react-carousel';\nimport 'pure-react-carousel/dist/react-carousel.es.css';\n\n\nconst useStyles = makeStyles(theme => ({\n    slideshow: {\n        position: \"relative\",\n        maxWidth: props => { return props.maxWidth },\n        margin: \"auto\"\n    },\n    slider: {\n        \"& ul\": {\n//            margin: 0\n        }\n    },\n    navigation: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    dots: {\n        position: \"absolute\",\n        right: 0,\n        left: 0,\n        bottom: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n    },\n    backButton: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        bottom: 0,\n    },\n    nextButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n\n    }\n}));\n\n\nconst LayoutSlideshow = ({className, spacing = 2, padding = 0, maxWidth = 720, mediaFormat = \"2:1\", children}) => {\n    const classes = useStyles({spacing, padding, maxWidth})\n\n    const totalSlides = children && children.length\n    const format = mediaFormat.split(':')\n\n    return (\n        <CarouselProvider className={className ||classes.slideshow}\n            naturalSlideWidth={format[0]}\n            naturalSlideHeight={format[1]}\n            totalSlides={totalSlides}>\n                <Slider className={classes.slider}>\n                    {children.map((child, index) => {\n                        const item = React.cloneElement(child, {\n                            mediaFormat: mediaFormat\n                        })\n                        return (\n                            <Slide index={index}>\n                                { item }\n                            </Slide>\n                        )\n                    })}\n                </Slider>\n                <nav className={classes.navigation}>\n                    <DotGroup className={classes.dots} />\n                    <ButtonBack className={classes.backButton}>Back</ButtonBack>\n                    <ButtonNext className={classes.nextButton}>Next</ButtonNext>\n                </nav>\n        </CarouselProvider>\n    )\n\n}\n\nexport default LayoutSlideshow","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: props => { return props.minHeight },\n        paddingBottom: props => { return props.ratio * 100 + \"%\" },\n    }\n}));\n\nconst LayoutFormat = ({format, minHeight, children}) => {\n\n    let ratio;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        ratio = h/w;\n    }\n\n    const classes = useStyles({ratio, minHeight})\n\n    if (ratio ||minHeight) {\n\n        return (\n            <div className={classes.format}\n                data-minHeight={minHeight}\n                data-ratio={ratio} \n                data-format={format}>\n                { children }\n            </div>\n        )\n           \n    }\n\n    return children\n\n}\n\nexport default LayoutFormat","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport LayoutFormat from \"./LayoutFormat\"\nimport {MediaPreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n//        paddingBotton: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"13px\",\n        lineHeight: 1.5,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    media: {\n        backgroundColor: \"grey\",\n        position: \"relative\",\n        width: \"100%\"\n    },\n    content: {\n        fontFamily: \"Akkurat, sans-serif\",\n        marginTop: \".25em\",\n    },\n    caption: {\n    },\n    headline: {\n        fontWeight: \"bold\",\n    },\n    byline: {\n        fontStyle: \"italic\"\n    },\n    license: {\n        \n    }\n}));\n\nconst ModuleMedia = ({mediaType, mediaFormat = \"1:1\", imageUrl, headline, caption, byline, license, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <article className={classes.module}>\n            <figure className={classes.media}>\n                <LayoutFormat format={mediaFormat}>\n                    <MediaPreview mediaType={mediaType} imageUrl={imageUrl} {...props} />\n                </LayoutFormat>\n            </figure>\n            <Typography component=\"figcaption\" className={classes.content}>\n                {headline && <strong className={classes.headline}>{headline}:</strong>}\n                {headline && \" \"}\n                {caption && <span className={classes.caption}>{caption}</span>}\n                {byline && \" \"}\n                {byline && <em className={classes.byline}>({byline})</em>}\n                {license && \" \"}\n                {license && <em className={classes.license}>{license}</em>}\n            </Typography>\n        </article>\n    )\n\n}\n\n\nexport default ModuleMedia;","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LayoutList from \"./LayoutList\"\nimport LayoutGrid from \"./LayoutGrid\"\nimport LayoutSlideshow from \"./LayoutSlideshow\"\n\n\nimport ModuleMedia from \"./ModuleMedia\"\n\nconst layouts = {\n    \"list\": LayoutList,\n    \"grid\": LayoutGrid,\n    \"slideshow\": LayoutSlideshow\n}\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        position: \"relative\"\n    },\n}));\n\nconst ArticleMedia = ({className, language = \"no\", layout = \"grid\", media = [], mediaWidth = 180, mediaHeight = 180}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles({mediaWidth, mediaHeight})\n\n    const renderMedia = ({media, mediaSize, mediaFormat, content}) => {\n        const mediaType = media && media.mediaType;\n\n        let headline = content && content.headline || media && media.content && media.content.headline ||undefined\n        let caption = content && content.caption || media && media.content && media.content.caption ||undefined\n\n        const byline = content && content.byline || media && media.content && media.content.byline ||undefined\n        const license = content && content.license || media && media.content && media.content.license ||undefined\n\n        if (typeof headline === \"object\") {\n            headline = headline[localeId] || undefined\n        }\n\n        if (typeof caption === \"object\") {\n            caption = caption[localeId] || undefined\n        }\n       \n        return (\n            <ModuleMedia {...media}\n                size={mediaSize} \n                mediaFormat={mediaFormat} \n                headline={headline} \n                caption={caption}\n                byline={byline}\n                license={license} />\n        )\n    \n    }\n        \n    if (!media.length) {\n        return false\n    }\n\n    const LayoutTemplate = layout && layouts[layout]\n\n    if (LayoutTemplate) {\n        return (\n            <LayoutTemplate>\n                { media.map(media => renderMedia(media))}\n            </LayoutTemplate>\n        )\n    }\n\n    return (\n        <div className={className}>\n            { media.map(media => renderMedia(media))}\n        </div>\n    )\n\n}\n\nexport default ArticleMedia","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n//        minHeight: \"240px\",\n        backgroundColor: \"#f2f2f2\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"13px\",\n        lineHeight: 1.5,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    media: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: \"100%\",\n        flexBasis: 0,\n        flexGrow: 1,\n        margin: 0\n    },\n    image: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        maxWidth: \"90%\",\n        maxHeight: \"90%\",\n        margin: \"auto\"\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n        padding: theme.spacing(.5),\n        minHeight: \"5em\"\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"1em\",\n        lineHeight: 1.25,\n        maxHeight: \"3.75em\",\n        overflow: \"hidden\",\n        display: \"-webkit-box\",\n        \"-webkit-line-clamp\": 3,\n        \"-webkit-box-orient\": \"vertical\",\n    },\n    footer: {\n        flexBasis: 0,\n        flexGrow: 0\n    }\n}));\n\nconst ModuleEkultur = ({size, documentType, imageUrl, title, author, objectCount, imageCount, videoCount, audioCount, commentCount}) => {\n    const classes = useStyles()\n\n    let metadata = [];\n\n    if (objectCount) {\n      metadata.push(objectCount + ' objekter'); \n    }\n    \n    if (imageCount) {\n      metadata.push(imageCount + ' bilder'); \n    }\n\n    if (videoCount) {\n      metadata.push(videoCount + ' videoer'); \n    }\n\n    if (audioCount) {\n      metadata.push(audioCount + ' lydklipp'); \n    }\n    \n    metadata = metadata.length && metadata.join(', ');    \n\n    return (\n        <article className={classes.module}>\n            <figure className={classes.media}>\n                <img className={classes.image} src={ imageUrl } />\n            </figure>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <Typography className={classes.title}>{title}</Typography>\n                </header>\n                <footer className={classes.footer}>\n                    <p></p>\n                    <b className=\"comments__label\">{ commentCount }</b>\n                </footer>\n            </div>\n        </article>\n    )\n\n}\n\n\nexport default ModuleEkultur;","import React from \"react\"\nimport LayoutGrid from \"./LayoutGrid\"\nimport ModuleEkultur from \"./ModuleEkultur\"\n\nconst layouts = {\n    \"grid\": LayoutGrid\n}\n\nconst templates = {\n    \"ekultur\": ModuleEkultur\n}\n\nconst ArticleReferences = ({className, language = \"no\", layout = \"grid\", references = []}) => {\n    const localeId = \"locale:\" + language;\n\n    const renderReference = ({referenceType, reference, content}) => {\n        let title = content && content.title || reference && reference.title ||undefined\n\n        if (typeof title === \"object\") {\n            title = title[localeId] || undefined\n        }\n\n        const ModuleTemplate = referenceType && templates[referenceType]\n\n        if (ModuleTemplate) {\n            return (\n                <ModuleTemplate {...reference} title={title} />\n            )\n        }\n\n        return (\n            <li>{title}</li>\n        )\n    \n    }\n        \n\n    if (!references.length) {\n        return false\n    }\n\n    const LayoutTemplate = layout && layouts[layout]\n\n    if (LayoutTemplate) {\n        return (\n            <LayoutTemplate>\n                { references.map(reference => renderReference(reference))}\n            </LayoutTemplate>\n        )\n    }\n\n    return (\n        <div className={className}>\n            { references.map(reference => renderReference(reference))}\n        </div>\n    )\n\n}\n\nexport default ArticleReferences","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    links: {\n        \"& ul\": {\n            listStyle: \"disc\",\n            margin: \"1em 0\"\n        },\n        \"& ol\": {\n            listStyle: \"upper-roman\",\n            margin: \"1em 0\"\n        },\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleLinks = ({className, language = \"no\", links = []}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n\n    const renderLink = ({title, url}) => {\n\n        if (typeof title === \"object\") {\n            title = title[localeId] || undefined\n        }\n\n        return (\n            <li><a href={url}>{title}</a></li>\n        )\n    \n    }\n        \n\n    if (!links.length) {\n        return false\n    }\n\n    return (\n        <div className={className ||classes.links}>\n            <ul>\n                { links.map(link => renderLink(link))}\n            </ul>\n        </div>\n    )\n\n}\n\nexport default ArticleLinks","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ArticleGrid from \"./ArticleGrid\"\nimport ArticleTitle from \"./ArticleTitle\"\nimport ArticleBodytext from \"./ArticleBodytext\"\nimport ArticleMedia from \"./ArticleMedia\"\nimport ArticleReferences from \"./ArticleReferences\"\nimport ArticleLinks from \"./ArticleLinks\"\n\nconst useStyles = makeStyles(theme => ({\n    head: {\n\n    }\n}));\n\nconst ArticleHead = ({className, language, title, leadtext, media}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={className || classes.head}>\n           <ArticleGrid>\n                <ArticleTitle language={language}>{title}</ArticleTitle>\n\n                { media && \n                    <ArticleMedia media={media} layout=\"list\" mediaFormat=\"2:1\" />\n                }\n\n                <ArticleBodytext language={language}>{leadtext}</ArticleBodytext>\n            </ArticleGrid>\n        </header>\n    )\n}\n\nexport default ArticleHead","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n\n    }\n}));\n\nconst ArticleBody = ({className, children}) => {\n    const classes = useStyles()\n    return (\n        <div className={className || classes.body}>\n            {children}\n        </div>\n    )\n}\n\nexport default ArticleBody","import React from \"react\"\nimport ReactMarkdown from 'react-markdown';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    leadtext: {\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleLeadtext = ({className, language = \"no\", children}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <ReactMarkdown className={className ||classes.leadtext} source={children} />             \n    )\n}\n\nexport default ArticleLeadtext","import React from \"react\"\nimport ArticleGrid from \"./ArticleGrid\"\nimport ArticleTitle from \"./ArticleTitle\"\nimport ArticleLeadtext from \"./ArticleLeadtext\"\nimport ArticleBodytext from \"./ArticleBodytext\"\nimport ArticleMedia from \"./ArticleMedia\"\nimport ArticleReferences from \"./ArticleReferences\"\nimport ArticleLinks from \"./ArticleLinks\"\n\nconst ArticleSection = ({sectionType, sectionLayout, language = \"no\", title, leadtext, bodytext, links = [], media = [], references = []}) => {\n\n    if (sectionType === \"media\") {\n        return (\n            <ArticleGrid>\n                <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n                <ArticleMedia layout={sectionLayout} language={language} media={media} />\n                <ArticleBodytext language={language}>{bodytext}</ArticleBodytext>\n            </ArticleGrid>\n        )\n    }\n\n    if (sectionType === \"references\") {\n        return (\n            <ArticleGrid>\n                <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n                <ArticleLeadtext language={language}>{leadtext}</ArticleLeadtext>\n                <ArticleReferences language={language} references={references} />\n            </ArticleGrid>\n        )\n    }\n\n    return (\n        <ArticleGrid>\n            <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n            <ArticleMedia layout={sectionLayout} language={language} media={media} />\n            <ArticleLeadtext language={language}>{leadtext}</ArticleLeadtext>\n            <ArticleReferences language={language} references={references} />\n            <ArticleBodytext language={language}>{bodytext}</ArticleBodytext>\n            <ArticleLinks language={language} links={links} />\n        </ArticleGrid>\n    )\n\n}\n\nexport default ArticleSection","import React from \"react\"\n\nimport ArticleBase from \"./ArticleBase\"\nimport ArticleHead from \"./ArticleHead\"\nimport ArticleBody from \"./ArticleBody\"\nimport ArticleSection from \"./ArticleSection\"\n\nconst Article = ({formData, formContext}) => {\n    const language = formContext.currentLocale ||formContext.defaultLocale ||formData.locale\n    const content = formData && formData.content;\n\n    const { title, leadtext, headerImage, sections } = content;\n\n    return (\n        <ArticleBase>\n            <ArticleHead language={language} title={title} leadtext={leadtext} media={headerImage && [headerImage]} />\n            <ArticleBody>\n                { sections && sections.map((section, index) => <ArticleSection {...section} language={language} /> )}\n            </ArticleBody>\n        </ArticleBase>\n    )\n\n}\n\nArticle.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default Article","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    /*\n    perspective: {\n        perspective: \"1000px\",\n        perspectiveOriginX: \"25%\",\n        perspectiveOriginY: \"75%\",\n    },\n    transform: {\n        transform: \"rotateY(-45deg)\",\n    },\n    */\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: props => { return props.paddingBottom },\n    }\n}));\n\nconst PreviewFormat = ({format, children}) => {\n\n    let paddingBottom;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        const ratio = h/w;\n\n        paddingBottom = ratio * 100 + \"%\";\n    }\n\n    const classes = useStyles({paddingBottom})\n\n    if (paddingBottom) {\n        return (\n            <div className={classes.root}>\n                <div className={classes.format} data-format={format}>\n                    { children }\n                </div>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default PreviewFormat","import Color from 'color';\n\nexport const getPreviewItem = (item) => {\n    const { index, referenceId, reference, mediaId, media, grid, localeId, backgroundColor, color } = item;\n\n//    const primaryColor = Color(backgroundColor)\n//    const contrastColor = primaryColor.isLight() && \"black\" || \"white\"\n\n\n    const imageUrl = media && media.imageUrl || referenceId && reference && reference.imageUrl;\n    const runningHead = item.runningHead && item.runningHead[localeId];\n    const title = item.title && item.title[localeId] || referenceId && reference && reference.title || \"Untitled\";\n    const description = item.description && item.description[localeId];\n\n    let itemType;\n\n    if (referenceId) {\n        itemType = \"link\"\n    } else if (mediaId) {\n        itemType = \"media\"\n    }    \n\n    // grid\n    const m = grid && grid.split(':');\n    const cols = m && m[0] || 1\n    const rows = m && m[1] || 1\n\n    // id\n    const id = \"root_content_body_links_\" + index\n\n    // colors\n\n    return {\n        ...item,\n        id: id,\n        itemType: itemType,\n        imageUrl: imageUrl,\n        runningHead: runningHead,\n        title: title,\n        description: description,\n        cols: cols,\n        rows: rows\n    }\n    \n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    menuList: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 3.5em\",\n    },\n    menuItem: {\n        position: \"relative\",\n        width: '8em',\n        margin: \".5em\"\n    },\n    figure: {\n        paddingBottom: \"100%\",\n        borderRadius: \"100%\",\n        backgroundColor: \"white\"\n    },\n    title: {\n        color: \"white\", \n        textAlign: \"center\",\n        lineHeight: 1.25,\n        height: \"2.5em\",\n        margin: theme.spacing(1)\n    }\n}));\n\nconst MenuItem = ({title}) => {\n\n    const classes = useStyles()\n\n    return (\n        <article className={classes.menuItem}>\n            <figure className={classes.figure}>\n\n            </figure>\n            <Typography className={classes.title}>{title}</Typography>\n        </article>\n    )\n\n\n}\n\nconst Menu = ({items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n\n    const TimelineItem = ({cols, rows, index, ...item}) => {\n        const id = \"root_content_pageLinks_\" + index\n        return (\n            <MenuItem {...item} onClick={() => onCurrentId(id)} />\n        )\n    }\n    \n    return (\n        <div className={classes.menuList}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n\n    return (\n        <p>{JSON.stringify(formData)}</p>\n    )\n\n\n    const { pageTitle, backgroundImage, hasPages } = formData.content;\n    const currentLocale = formContext && formContext[currentLocale];\n    const title = pageTitle && pageTitle[currentLocale] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <Menu items={hasPages} width={width} height={height} onCurrentId={onCurrentId} />\n        </div>\n    )\n\n}\n\nexport default PreviewTimeline","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    pageHeader: {\n        position: props => { return props.position },\n        zIndex: 2,\n        height: \"6em\",\n        padding: \"2em 4em\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    pageTitle: {\n        fontSize: \"2em\",\n    }\n}));\n\nconst KioskPageHeader = ({title, position = \"relative\"}) => {\n\n    const classes = useStyles({position})\n\n    return (\n        <header className={classes.pageHeader}>\n            <Typography className={classes.pageTitle}>{ title }</Typography>\n        </header>\n    )\n}\n\nexport default KioskPageHeader","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { ImageBase } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color},\n    },\n    media: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    content: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    runningHead: {\n        fontSize: props => {return props.titleSize === \"large\" && \"1.25em\" ||props.titleSize === \"medium\" && \"1em\" ||\"0.875em\" },\n        color: props => {return props.titleColor ||props.color },\n        textTransform: \"uppercase\",\n        lineHeight: 1.5\n    },\n    title: {\n        fontSize: props => {return props.titleSize === \"large\" && \"2em\" ||props.titleSize === \"medium\" && \"1.5em\" ||\"1.25em\" },\n        color: props => {return props.titleColor ||props.color },\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst GridModule = ({imageUrl, mediaWidth, mediaHeight, imageCropdata, imageFilters, runningHead, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n\n    const classes = useStyles({...props, justifyContent, alignItems})\n\n    return (\n        <Card className={classes.module} onClick={onClick}>\n            { imageUrl && <ImageBase imageUrl={imageUrl} imageFilters={imageFilters} imageCropdata={imageCropdata} objectFit=\"cover\" /> }\n\n            <CardContent className={classes.content}>\n                {runningHead && <Typography className={classes.runningHead} component=\"h3\">{runningHead}</Typography> }\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                { description && <Typography className={classes.description} component=\"p\">{description}</Typography> }\n            </CardContent>\n\n        </Card>\n    )\n\n}\n\nexport default GridModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport PageHeader from \"./PageHeader\"\nimport KioskMosaicModule from \"./GridModule\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: \"5.5em 3.5em 1.5em 3.5em\",\n    },\n    grid: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"grid\",\n        gridTemplateColumns: props => { return props.templateCols },\n        gridTemplateRows: props => { return props.templateRows },\n        gridColumnGap: props => { return props.colGap },\n        gridRowGap: props => { return props.rowGap },\n    },\n    gridItem: {\n        gridColumnStart: \"auto\",\n        gridColumnEnd: props => { return props.colEnd },\n        gridRowStart: \"auto\",\n        gridRowEnd: props => { return props.rowEnd },\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst MosaicGrid = ({localeId, items, cols = 5, rows = 3, onCurrentId}) => {\n\n    const colWidth = (100/cols);\n    const rowHeight = (100/rows);\n\n    const classes = useStyles({\n        templateCols: (colWidth + \"% \").repeat(cols),\n        templateRows: (rowHeight + \"% \").repeat(rows),\n    })\n\n    const GridItem = ({id, cols, rows, index, ...item}) => {\n\n        const classes = useStyles({\n            colEnd: \"span \" + cols,\n            rowEnd: \"span \" + rows\n        })\n        \n        return (\n            <div className={classes.gridItem}>\n                <KioskMosaicModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    \n    }\n    \n    return (\n        <div className={classes.grid}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                return (\n                    <GridItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewMosaic = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={pageTitle} />\n            <div className={classes.body}>\n                <MosaicGrid localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PreviewMosaic","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        width: '16em',\n        backgroundColor: props => { return props.backgroundColor },\n    },\n    cardMedia: {\n        width: \"100%\",\n        paddingBottom: props => { return 9/16 * 100 + \"%\" },\n    },\n    cardContent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    title: {\n        fontSize: \"2em\",\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst MosaicModule = ({imageUrl, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n    const classes = useStyles({...props, backgroundColor: \"white\", justifyContent, alignItems})\n   \n    return (\n        <Card className={classes.card} onClick={onClick}>\n            { imageUrl && \n                <CardMedia\n                    className={classes.cardMedia}\n                    alt={title}\n                    image={imageUrl}\n                    title={title} />\n            }\n            <CardContent className={classes.cardContent}>\n                <Typography className={classes.title} variant=\"h6\" component=\"h2\">\n                    {title}\n                </Typography>\n                {description &&\n                    <Typography className={classes.description} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                        {description}\n                    </Typography>\n                }\n            </CardContent>\n        </Card>\n    )\n\n}\n\nexport default MosaicModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport PageHeader from \"./PageHeader\"\nimport TimelineModule from \"./TimelineModule\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    body: {\n        overflowX: \"scroll\",\n    },\n    timeline: {\n        display: \"flex\",\n        margin: \"0 3.5em\",\n    },\n    timelineItem: {\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst Timeline = ({localeId, items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n    const TimelineItem = ({id, cols, rows, index, ...item}) => {\n        return (\n            <div className={classes.timelineItem}>\n                <TimelineModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    }\n    \n    return (\n        <div className={classes.timeline}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, localeId: localeId, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={pageTitle}  />\n            <div className={classes.body}>\n                <Timeline localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PreviewTimeline","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem, getContrastColor } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        left: props => { return props.left + \"%\" ||\"50%\"},\n    },\n    label: {\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n        top: \"0\",\n        left: \"0\",\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color },\n        borderSize: \".25em\",\n        borderRadius: \"50%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"Akkurat Mono, monspace\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ImagemapPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] ||formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    const contrastColor = annotateColor && getContrastColor(annotateColor)\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4}) => {\n\n        const classes = useStyles({size, zIndex: index, top, left, backgroundColor: annotateColor, color: contrastColor})\n    \n        return (\n            <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                <div className={classes.label}>\n                    {index+1}\n                </div>\n            </div>\n        )\n    }\n    \n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase {...annotateImage} imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations}  markerTemplate={MarkerTemplate} />\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagemapPreview;","import Color from 'color';\n\nexport const getContrastColor = (hex) => {\n    const color = Color(hex)\n    return color.isLight() && \"black\" || \"white\"\n}","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em 1em\"\n    },\n    line: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        right: props => { return props.left <= 50 && 100-props.left + \"%\" ||\"0\" },\n        left: props => { return props.left > 50 && props.left + \"%\" || \"0\" },\n        height: \"2px\",\n        backgroundColor: \"white\"\n    },\n    module: {\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        right: props => { return props.left > 50 && \"0\" },\n        left: props => { return props.left <= 50 && \"0\" },\n        width: \"12em\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        padding: \"1em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        left: props => { return props.left + \"%\" ||\"50%\"},\n    },\n    border: {\n        width: \"1.5em\",\n        height: \"1.5em\",\n        backgroundColor: \"white\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: \"50%\",\n        padding: \".25em\"\n    },\n    label: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: props => { return props.color },\n        color: \"transparent\",\n        borderRadius: \"50%\",\n    },\n}));\n\nconst ImagelegendPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] ||formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerModule = ({id, index, top = 50, left = 50, size = 4, runningHead, title, description, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left})\n\n        return (\n            <div className={classes.module} data-index={index} onClick={() => onCurrentId(id)}>\n                {runningHead && <h3>{runningHead}</h3> }\n                <h2>{title}</h2>\n                {description && <p>{description}</p> }\n            </div>\n        )\n\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left, color: annotateColor})\n\n        return (\n            <React.Fragment>\n                <div className={classes.line} data-index={index}></div>\n                <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                    <div className={classes.border}>\n                        <div className={classes.label}>\n                            {index+1}\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n    \n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} overflow=\"visible\" markerTemplate={MarkerTemplate} />\n                { imageAnnotations && imageAnnotations.map((item, index) => {\n                    const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                    return (\n                        <MarkerModule {...itemProps} key={index} />\n                    )\n                })}\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagelegendPreview;","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withResizeDetector } from 'react-resize-detector';\n\nimport PreviewFormat from \"./PreviewFormat\"\n\nimport Menu from \"./Menu\"\nimport Grid from \"./Grid\"\nimport Timeline from \"./Timeline\"\nimport Imagemap from \"./AnnotateImagemap\"\nimport Legends from \"./AnnotateLegends\"\n\nconst templates = {\n    \"device\": Menu,\n    \"pageAnnotate/imagemap\": Imagemap,\n    \"pageAnnotate/legends\": Legends,\n    \"pageTimeline\": Timeline,\n    \"pageList\": Grid,\n    \"pageGrid\": Grid,\n    \"pageMedia\": Grid,\n    \"pageMedia/gallery\": Grid,\n    \"pageMedia/autoplay\": Grid,\n    \"page\": Grid\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundImage: props => { return 'url('+props.backgroundImageUrl+')' },\n        backgroundPosition: \"50% 50%\",\n        backgroundSize: \"cover\",\n        fontSize: props => { return props.fontSize },\n    },\n    page: {\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    header: {\n        width: \"100%\",\n        display: \"flex\",\n        margin: theme.spacing(2)\n    },\n    title: {\n        fontSize: \"3em\"\n    },\n    body: {\n        flexBasis: \"100%\",\n        flexGrow: 1,\n        width: \"100%\",\n        position: \"relative\"\n    },\n    footer: {\n        flexBasis: \"15%\",\n        width: \"100%\",\n        margin: theme.spacing(2)\n    },\n}));\n\n\n\nconst PreviewPage = ({width, height, ...props}) => {\n\n    const fontSize = width / 64 + \"px\";\n\n    const classes = useStyles({\n        fontSize: fontSize,\n    })\n    \n    const formData = props.formData;\n\n    const { documentType, content } = formData;\n\n    let layout;\n\n    if (documentType === \"pageAnnotate\") {\n        layout = content && content.annotateLayout\n    }\n\n    if (documentType === \"pageMedia\") {\n        layout = content && content.mediaLayout\n    }\n\n    let template;\n\n    if (layout) {\n        template = documentType + \"/\" + layout\n    } else {\n        template = documentType\n    }\n\n    let PreviewTemplate = templates && templates[template]\n\n    if (!PreviewTemplate) {\n        return (<p>No preview for {template}</p>)\n    }\n\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <div className={classes.root}>\n                <PreviewTemplate {...props} />\n            </div>\n        </PreviewFormat>\n    )\n\n}\n\nPreviewPage.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default withResizeDetector(PreviewPage)","import React from \"react\"\nimport Article from \"./Article\"\nimport Page from \"./Page\"\n\nconst templates = {\n    \"device\": Page,\n    \"page\": Page,\n    \"article\": Article\n}\n\nconst PreviewKiosk = (props) => {\n    const documentType = props && props.formData && props.formData.documentType;\n\n    let template;\n\n    if (documentType && documentType.startsWith('page')) {\n        template = \"page\"\n    } else {\n        template = documentType\n    }\n\n    let PreviewTemplate = templates && templates[template]\n\n    if (!PreviewTemplate) {\n        return (<p>No preview for {documentType}</p>)\n    }\n\n    return (\n        <PreviewTemplate {...props} />\n    )\n\n}\n\nexport default PreviewKiosk","import PreviewKiosk from \"./PreviewKiosk\"\nexport default PreviewKiosk","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageHome',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:field\": \"kpAnnotateArray\",\n    \"ui:title\": \"Markrer\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" markrer\"\n            }\n        }\n    },\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./header/uiSchema\"\nimport body from \"./body/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Tema\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"title\",\n        \"leadtext\",\n        \"bodytext\"\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"title\": {\n        \"ui:title\": \"Tittel\"\n    },\n    \"leadtext\": {\n        \"ui:title\": \"Ingress\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"bodytext\": {\n        \"ui:title\": \"Brdtekst\",\n        \"ui:widget\": \"textarea\"\n    }\n}","import body from \"../../page/pageBody/uiSchema\"\nimport links from \"../mapLinks/uiSchema\"\n\nexport default {\n    ...body,\n    \"links\": links,\n    \"ui:settings\": [\n        \"mapLayout\",\n    ],\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    page: {\n        backgroundColor: \"white\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },\n}));\n\nconst PageLayout = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <main className={classes.page}>\n            {children}\n        </main>\n    )\n\n}\n\nexport default PageLayout","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageImage = ({imageUrl = undefined, language}) => {\n    const classes = useStyles()\n\n    if (!imageUrl) {\n        return false\n    }\n\n    return (\n        <figure className={classes.media}>\n            <img src={imageUrl} />\n        </figure>\n    )\n\n}\n\nexport default PageImage","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport PageMedia from \"./PageMedia\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageHeader = ({title, leadtext, media, language}) => {\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n\n    if (typeof title === \"object\") {\n        title = title[localeId] || undefined\n    }\n    \n    if (typeof leadtext === \"object\") {\n        leadtext = leadtext[localeId] || undefined\n    }\n\n    return (\n        <header className={classes.header}>\n            <Typography variant=\"h2\">{title}</Typography>\n            { media && <PageMedia {...media} /> }\n            <Typography>{leadtext}</Typography>\n        </header>\n    )\n\n}\n\nexport default PageHeader","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageHeader = ({bodytext, language}) => {\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n\n    if (typeof bodytext === \"object\") {\n        bodytext = bodytext[localeId] || undefined\n    }\n\n    return (\n        <div className={classes.body}>\n            <Typography>{bodytext}</Typography>\n        </div>\n    )\n\n}\n\nexport default PageHeader","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n    },\n    marker: {\n\n    }\n}));\n\nconst MapLink = ({title}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.link}>\n            <PlaceIcon />\n        </div>\n    )\n\n    return (\n        <div className={classes.link}>\n            <IconButton>\n                <PlaceIcon />\n            </IconButton>\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./DefaultMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, links = []}) => {\n\n    const [markers, setMarkers] = useState(links)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = links && links[0] && links[0].lat \n        const lng = links && links[0] && links[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        links && links.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [links])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, result) => {\n\n        const path = result.routes[0].overview_path\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  drawDirections(google, result)\n                  setDirections(result)\n              } else {\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n//        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n\n        \"& $media\": {\n            transition: \".125s ease-out\",\n            transform: \"scale(1)\"\n        },\n\n        \"&[aria-expanded=true] $media\": {\n            transform: \"scale(2)\"\n        },\n\n        \"&:hover $media\": {\n            transform: \"scale(2)\"\n        }\n\n    },\n    label: {\n        position: \"absolute\",\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, .5),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    media: {\n        position: \"absolute\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(-.5, 0),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundSize: \"cover\",\n\n    },\n    image: {\n\n    }\n}));\n\nconst MapLink = ({reference, media, index}) => {\n    const classes = useStyles()\n\n    const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n    return (\n        <div className={classes.link} aria-expanded={index === 0}>\n            <figure className={classes.media} style={{backgroundImage: \"url(\"+imageUrl+\")\"}}></figure>\n            <i className={classes.label}>{index+1}</i>\n            <PlaceIcon />\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./RoundtripMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, links = []}) => {\n\n    const [markers, setMarkers] = useState(links)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = links && links[0] && links[0].lat \n        const lng = links && links[0] && links[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        links && links.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [links])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} count={index+1} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, path) => {\n\n        setDirections(path)\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  const overviewPath = result.routes[0].overview_path\n                  const resultsPath = overviewPath.length && overviewPath ||markers\n                  drawDirections(google, resultsPath)\n              } else {\n                drawDirections(google, markers)\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n            Debug:\n            {JSON.stringify(directions)}\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel } from '../../../redux/modelsById';\n\nimport PageLayout from \"../Page/PageLayout\"\nimport PageHeader from \"../Page/PageHeader\"\nimport PageBody from \"../Page/PageBody\"\n\n\nimport DefaultMap from \"./DefaultMap\"\nimport RoundtripMap from \"./RoundtripMap\"\n\nconst mapTypes = {\n    \"default\": DefaultMap,\n    \"roundtrip\": RoundtripMap\n}\n\nconst PageMap = ({formData, formContext, ...props}) => {\n\n    const dispatch = useDispatch()\n    const modelsById = useSelector(state => state.modelsById)\n   \n    const links = formData && formData.content && formData.content.links\n\n    const [newLinks, setNewLinks] = useState([])\n\n    useEffect(() => {\n\n        links && links.map(link => {\n            const referenceId = link && link.referenceId;\n            const referenceModel = referenceId && modelsById[referenceId]\n\n            if (referenceId && !referenceModel) {\n                dispatch(getModel({modelName: \"documents\", uniqueId: referenceId}))\n            }\n        })\n\n    }, [links])\n\n\n    useEffect(() => {\n\n        const newLinks = links && links.map(link => {\n            const referenceId = link && link.referenceId;\n            const referenceModel = referenceId && modelsById[referenceId]\n\n            const location = referenceModel && referenceModel.content && referenceModel.content.location\n\n            return {\n                ...link,\n                ...location,\n                reference: referenceModel\n            }\n\n        })\n\n        setNewLinks(newLinks)        \n\n    }, [modelsById, links])\n\n    const language = formContext && formContext.currentLocale\n    const content = formData && formData.content\n\n    const mapLayout = content && content.mapLayout\n    const MapTemplate = mapLayout && mapTypes[mapLayout] || DefaultMap\n\n    if (!newLinks) {\n        return <p>No links to display</p>\n    }\n\n    return <MapTemplate links={newLinks} />\n    \n    return (\n        <PageLayout>\n            <PageHeader {...content} language={language}></PageHeader>\n            {newLinks && newLinks.length && <MapTemplate links={newLinks} /> }\n            <PageBody {...content} language={language} />\n        </PageLayout>\n    )\n\n}\n\nexport default PageMap\n\n","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/PageMap\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMap',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n//import PreviewTemplate from \"../../preview/PageTopic\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTopic',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./header/uiSchema\"\nimport body from \"./body/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n//        \"ui:field\": \"kioskPage\",\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Tema\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\"\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"grid\": true,\n        \"spacing\": 2,\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:layout\": \"media\",\n        \"ui:buttons\": [\n            {\n                \"type\": \"sidebar\",\n                \"icon\": \"search\",\n                \"title\": \"Finn hovedbilde\"\n            }\n        ],\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"media\": {\n            \"ui:title\": \"Hovedbilde\"\n        }\n\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"bodytext\"\n        ],\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"bodytext\": {\n            \"ui:title\": \"Brdtekst\",\n            \"ui:widget\": \"textarea\"\n        }\n    },\n\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Mosaikk\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"items\": {\n        ...links.items,\n        \"ui:settings\": [\n            \"grid\",\n            \"placement\",\n            \"backgroundColor\",\n            \"color\"\n        ],\n    \n\n        \"content\": {\n            ...links.items.content,\n            \"linkContent\": {\n                ...links.items.content.linkContent,\n                \"title\": {\n                    ...links.items.content.linkContent.title,\n                    \"ui:settings\": [\n                        \"titleSize\",\n                        \"titleColor\",\n                    ],\n                }\n            }\n        }\n    }\n}","import article from './article';\n\nimport pageHome from './pageHome';\nimport pageMap from './pageMap';\nimport pageTopic from './pageTopic';\n\nimport pageGrid from './pageGrid';\nimport pageList from './pageList';\nimport pageTimeline from './pageTimeline';\nimport pageAnnotate from './pageAnnotate';\nimport pageMedia from './pageMedia';\n\nimport device from './device';\n\nexport default [\n    article,\n    pageHome,\n    pageMap,\n    pageTopic,\n    pageGrid,\n    pageList,\n    pageTimeline,\n    pageAnnotate,\n    pageMedia,\n    device\n]","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageGrid',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./gridHeader/uiSchema\"\nimport media from \"./gridMedia/uiSchema\"\nimport body from \"./gridBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import body from \"../../page/pageBody/uiSchema\"\nimport links from \"../gridLinks/uiSchema\"\n\nexport default {\n    ...body,\n    \"links\": links\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageList',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./listHeader/uiSchema\"\nimport media from \"./listMedia/uiSchema\"\nimport body from \"./listBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Liste\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTimeline',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./timelineHeader/uiSchema\"\nimport media from \"./timelineMedia/uiSchema\"\nimport body from \"./timelineBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Tidslinje\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilder\",\n    \"media\": {\n        ...uiSchema.media,\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"backgroundImage\",\n            \"parallaxImage\"\n        ],\n        \"backgroundImage\": {\n            ...uiSchema.media.backgroundImage,\n            \"ui:xs\": 6\n        },\n        \"parallaxImage\": {\n            ...uiSchema.media.parallaxImage,\n            \"ui:xs\": 6\n        }\n    }\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageAnnotate',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default {\n    ...schema,\n    \"properties\": {\n        ...schema.properties,\n        \"content\": {\n            ...schema.properties.content,\n            \"properties\": {\n                ...schema.properties.content.properties,\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"annotations\": true,\n                    \"filters\": [\"opacity\"],\n                }\n            }\n        }\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport annotateHeader from \"./annotateHeader/uiSchema\"\nimport annotateBody from \"./annotateBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": annotateHeader,\n        \"body\": annotateBody\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bildekart\",\n}","import annotateLinks from \"../annotateLinks/uiSchema\"\nimport annotateImage from \"../annotateImage/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Markeringer\",\n    \"ui:icon\": \"label\",\n    \"ui:fieldset\": [\n        \"backgroundImage\",\n        \"links\"\n    ],\n    \"ui:settings\": [\n        \"annotateLayout\",\n        \"annotateColor\"\n    ],\n    \"backgroundImage\": annotateImage,\n    \"links\": annotateLinks\n}","export default {\n    \"ui:fieldset\": [\n        \"imageAnnotations\",\n//        \"imageCropdata\",\n//        \"imageFocalpoint\",\n        \"imageFilters\"\n    ],\n    \"imageAnnotations\": {\n        \"ui:field\": \"kpAnnotateImage\",\n        \"ui:title\": \"Markeringer\",\n    },\n    \"ui:minHeight\": 512,\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn bilde\"\n        }\n    ]\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:field\": \"kpAnnotateArray\",\n    \"ui:title\": \"Markrer\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" markrer\"\n            }\n        }\n    },\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMedia',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./mediaHeader/uiSchema\"\nimport body from \"./mediaBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Media\",\n}","import links from \"../mediaLinks/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Innhold\",\n    \"ui:icon\": \"link\",\n    \"ui:fieldset\": [\n        \"links\"\n    ],\n    \"ui:settings\": [\n        \"mediaLayout\",\n    ],\n    \"links\": links\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:title\": \"Media\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" media\"\n            }\n        }\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video\",\"audio\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\",\n        },\n        {\n            \"type\": \"upload\",\n            \"title\": \"Last opp\"\n        }\n    ],\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n        \"link\": {\n            ...links.items.link,\n            \"linkMedia\": {\n                ...links.items.content.linkMedia,\n                \"ui:sidebar\": {\n                    \"query\": {\n                        \"models\": \"media\",\n                        \"mediaType\": [\"image\",\"video\",\"audio\"]\n                    }\n                }\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'device',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"device\"\n        },\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"deviceId\": {\n                    \"type\": \"number\"\n                },\n                \"deviceTitle\": {\n                    \"type\": \"string\"\n                },\n                \"deviceType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"windows\",\"ipad\"],\n                    \"enumNames\": [\"Windows\",\"iPad\"]\n                },\n                \"serialNumber\": {\n                    \"type\": \"string\",\n                },\n                \"placement\": {\n                    \"type\": \"string\",\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"focalpoint\": true\n                },\n                \"startPageId\": {\n                    \"type\": \"string\",\n                    \"readonly\": true\n                },\n                \"hasPages\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"page\",\n                        \"referenceType\": \"deviceHasPages\",\n                        \"_reverseReferenceType\": \"pageIsPartOf\",\n                        \"_reverseReference\": \"isPartOf[]\",\n                        \"properties\": {\n                            \"content\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"icon\": {\n                                        \"type\": \"string\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}","import settings from \"./settings/uiSchema\";\nimport header from \"./header/uiSchema\";\nimport media from \"./media/uiSchema\";\nimport hasPages from \"./hasPages/uiSchema\";\nimport uiPreview from \"./uiPreview\";\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n//        \"settings\"\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:field\": \"kpDevice\",\n        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"hasPages\",\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"hasPages\": hasPages\n    }\n}","import icons from \"../../icons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\",\n        \"icon\": \"icon\",\n    },\n    prepare({formData, formContext}) {\n        let { documentType, imageUrl, title, content, description } = formData\n  \n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale ||currentLocale ||formData.locale\n        const localeId = \"locale:\" + locale;\n  \n        let metadata = []\n\n        const backgroundImage = content && content.backgroundImage;\n        const hasPages = content && content.hasPages;\n        const deviceTitle = content && content.deviceTitle\n        const deviceId = content && content.deviceId\n        const deviceType = content && content.deviceType\n\n        const typeLabel = deviceType && documentType + \"/\" + deviceType ||documentType\n\n        if (backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl) {\n            imageUrl = backgroundImage.media.imageUrl\n        }\n      \n        if (hasPages && hasPages.length) {\n            metadata.push(hasPages.length + ' sider')\n        }\n\n        if (deviceId) {\n            metadata.push('#'+deviceId)\n        }\n\n        if (deviceType) {\n            metadata.push(deviceType)\n        }\n\n        let icon\n\n        const deviceIcons = {\n            ...icons,\n            \"windows\": icons[\"deviceWin\"],\n            \"ipad\": icons[\"deviceMac\"],\n        }\n\n        if (deviceType && deviceIcons[deviceType]) {\n            icon = deviceIcons[deviceType]\n        } else {\n            icon = deviceIcons[\"device\"]\n        }\n\n\n\n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            title: deviceTitle ||title,\n            description: description,\n            metadata: metadata,\n            typeLabel: typeLabel\n        }\n      \n    }\n    \n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"device\",\n    ],\n    \"device\": {\n        \"ui:layout\": \"section\",\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"deviceTitle\",\n                \"deviceId\"\n            ],\n            \"deviceTitle\": {\n                \"ui:title\": \"Intern tittel\"\n            },\n            \"deviceId\": {\n                \"ui:title\": \"DeviceId\"\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"settings\",\n    \"ui:options\" : {\n        \"expanded\": true,\n//        \"collapsible\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Enhet\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.deviceTitle \n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"deviceTitle\",\n        \"deviceId\",\n        \"deviceType\",\n        \"serialNumber\",\n        \"startPageId\"\n    ],\n    \"deviceTitle\": {\n        \"ui:title\": \"Intern tittel\"\n    },\n    \"deviceId\": {\n        \"ui:title\": \"Id\",\n    },\n    \"deviceType\": {\n        \"ui:title\": \"Type enhet\",\n    },\n    \"serialNumber\": {\n        \"ui:title\": \"Serienummer\"\n    },\n    \"leadtext\": {\n        \"ui:title\": \"Ingress\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"bodytext\": {\n        \"ui:title\": \"Brdtekst\",\n        \"ui:widget\": \"textarea\"\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"image\",\n    \"ui:title\": \"Bakgrunnsbilde\",\n    \"ui:options\": {\n//        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"backgroundImage\",\n    ],\n    \"backgroundImage\": {\n        \"ui:buttons\": [\n            {\n                \"icon\": \"search\",\n                \"title\": \"Finn bakgrunnsbilde\",\n                \"type\": \"sidebar\"\n            }\n        ]\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"menu\",\n    \"ui:title\": \"Innhold\",\n    \"ui:options\" : {\n        \"draggable\": true\n    },\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData}) {\n            const count = formData && formData.length;\n            if (count) {\n                return {\n                    \"title\": count + \" sider\"\n                }\n            }\n            return {\n               \"title\": \"Ingen sider\"\n            }\n        }\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"page*\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn side\"\n        },\n    ],\n    \"items\": {\n        \"ui:options\": {\n            \"editable\": false\n        },\n        \"ui:field\": \"kpDeviceLink\"\n    }\n}","import mediaSchemas from \"@kit-ui/schema/es/Media/schemas\"\nimport schemas from \"./\"\n\nlet schemasByName = {\n}\n\nconst allSchemas = [\n    ...mediaSchemas,\n    ...schemas\n]\n\nallSchemas.map(schema => {\n    const { schemaType, name } = schema\n\n    if (schemaType && name) {\n        schemasByName[schemaType + \"/\" + name] = schema\n    }\n})\n\nexport default schemasByName","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SchemaBase } from '@kit-ui/schema';\nimport { bulkChange, bulkSubmit } from '../redux/bulk';\n\n\nconst BulkPreview = ({schema = {}, formData = {}, ...props}) => {\n\n    const dispatch = useDispatch()\n    const bulk = useSelector(state => state.bulk)\n\n    const bulkCount = bulk.count\n\n\n    return (\n        <div>\n            Selected: {bulkCount}\n        </div>\n    )\n    \n}\n\nexport default BulkPreview","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SchemaBase } from '@kit-ui/schema';\nimport { bulkChange, bulkSubmit } from '../redux/bulk';\n\nimport registry from \"../components/registry\"\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport BulkPreview from \"./BulkPreview\"\n\nconst uiSchema = {\n    \"ui:options\": {\n        \"spacing\": 2\n    }\n\n}\n\nconst BulkEditor = ({schema = {}, formData = {}, ...props}) => {\n\n    const renderDebug = () => {\n\n        return (\n            <div style={{position: \"absolute\", bottom: \"100px\", left: 0, right: 0}}>\n                <hr />\n                {JSON.stringify(schema)}\n                <hr />\n                {JSON.stringify(formData)}\n            </div>\n        )\n\n    }\n\n    const dispatch = useDispatch()\n\n    const _onChange = ({formData}) => {\n        dispatch(bulkChange({formData}))\n    }\n\n    const _onSubmit = ({formData}) => {\n        dispatch(bulkSubmit({formData}))\n    }\n\n    const formContext = {}\n\n    return (\n        <div>\n\n            { renderDebug() }\n\n            <BulkPreview />\n\n        <SchemaBase {...registry} \n            noValidate={true}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={_onChange}\n            onSubmit={_onSubmit} />\n        </div>\n    )\n    \n}\n\nexport default BulkEditor","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout } from '../redux/app';\n\nimport BulkLayout from \"./BulkLayout\"\nimport BulkEditor from \"./BulkEditor\"\n\nconst FinderBulk = ({children}) => {\n    const bulk = useSelector(state => state.bulk)\n\n    return (\n        <React.Fragment>\n            <BulkLayout {...bulk} expanded={bulk.count && true}>\n                <BulkEditor {...bulk} /> \n            </BulkLayout>\n            {children}\n        </React.Fragment>\n    )\n\n}\n\nexport default FinderBulk","\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport { NavPath } from \"@kit-ui/admin\"\nimport { NavView } from \"../components\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    finder: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: 1,\n        padding: theme.spacing(0,1),\n        \"& + *\": {\n            marginTop: theme.spacing(8),\n            marginRight: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n            marginLeft: theme.spacing(2),\n        }\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },  \n    path: {\n        flexBasis: 0,\n        flexGrow: 1,\n        margin: theme.spacing(0,1),\n    },\n    view: {\n        margin: theme.spacing(1)\n    }\n}));\n\nconst FinderLayout = ({\n    parents,\n    onSelect,\n    viewOptions,\n    view,\n    onView,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.finder}>\n            <header className={classes.header}>\n                {parents && <NavPath className={classes.path} parents={parents} onSelect={onSelect} /> }\n                { viewOptions && <NavView className={classes.view} options={viewOptions} value={view} onChange={onView} /> }\n            </header>\n            <div className={classes.body}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nFinderLayout.defaultProps = {\n\n}\n\nFinderLayout.propTypes = {\n\n}\n\nexport default FinderLayout;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\nimport { useTranslation } from 'react-i18next';\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview } = utils;\n\nconst FinderModel = ({\n    model, \n    viewable = false,\n    linkable = true,\n    selectable = true, \n    editable = true, \n    deletable = true, \n    deleted = false,\n    restorable = true, \n    eraseable = true,\n    erased = false,\n    children,\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation();\n\n    const { modelName, id, uniqueId, source, sourceId, } = model;\n\n    const dispatch = useDispatch()\n\n    /*\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    */\n\n    const _onClick = props.onClick\n\n    const _onView = () => {\n        props.onView && props.onView() ||props.history && props.history.push(props.location.pathname + '/' + uniqueId)\n    }\n\n    const _onEdit = () => {\n        props.onEdit && props.onEdit() ||props.history && props.history.push(props.location.pathname + '/' + uniqueId + \"/edit\")\n    }\n\n    const _onLink = () => {\n        props.onLink && props.onLink() ||props.history && props.history.push(props.location.pathname + '/' + uniqueId + \"/link\")\n    }\n\n    const _onDelete = () => {\n        props.onDelete && props.onDelete() ||dispatch(deleteModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onRestore = () => {\n        props.onRestore && props.onRestore() ||dispatch(restoreModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onErase = () => {\n        props.onErase && props.onErase() ||dispatch(eraseModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onSelect = () => {\n        props.onSelect && props.onSelect() ||dispatch(selectModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    // uniqueModel\n\n    const modelsById = useSelector(state => state.modelsById)\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n\n    const bulkById = useSelector(state => state.bulk.bulkById)\n    const bulkModel = bulkById && bulkById[uniqueId] ||{}\n\n    // uiPreview\n   \n    const documentType = uniqueModel && uniqueModel.documentType ||model && model.documentType\n    const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType]\n\n\n    const mediaType = uniqueModel && uniqueModel.mediaType ||model && model.mediaType\n    const mediaModel = mediaType && schemasByName && schemasByName[\"media/\" + mediaType]\n\n    const uiPreview = documentModel && uniqueModel.uniqueId && getUiPreview({...documentModel, formData: uniqueModel}) ||{}\n\n    // model\n\n    model = {\n        ...uniqueModel,\n        ...bulkModel,\n        ...model,\n        ...uiPreview\n    }\n\n\n    const {selected, status } = model\n\n    if (selected) {\n        editable = false\n        deletable = false\n    }\n\n    if (status === \"trash\") {\n        deleted = true\n        deletable = false\n    }\n\n    if (status === \"erased\") {\n        erased = true\n        selectable = false\n        editable = false\n        deletable = false\n    }\n\n    const getToolbar = () => {\n\n        if (selected) {\n            return false\n        }\n\n        if (status === \"erased\") {\n            return false\n        }\n\n        if (status === \"trash\") {\n            return [\n                {\n                    icon: \"restore\",\n                    onClick: _onRestore\n                },\n                {\n                    icon: \"delete_forever\",\n                    onClick: _onErase\n                },\n                \n            ]\n        }\n\n        return [\n            {\n                icon: \"edit\",\n                onClick: _onEdit\n            },\n            {\n                icon: \"delete\",\n                onClick: _onDelete\n            },\n            {\n                icon: \"links\",\n                onClick: _onLink\n            }\n        ]\n\n    }\n\n\n    const toolbar = getToolbar()\n\n    const mediaLabel = mediaType && t('mediaType:'+mediaType)\n    const documentLabel = documentType && t('documentType:'+documentType)\n\n    const modelLabel = documentLabel ||mediaLabel\n    const statusLabel = t('status:'+status)\n\n    const author = model.deletedByName || model.updatedByName || model.createdByName ||\"N/A\"\n    const datetime = model.deletedAt || model.updatedAt || model.createdAt\n\n    model = {\n        ...model,\n        modelLabel: modelLabel,\n        mediaLabel: mediaLabel,\n        documentLabel: documentLabel,\n        statusLabel: statusLabel,\n        author: author,\n        datetime: datetime,\n    }\n\n\n    const childrenWithProps = React.Children.map(children, (child, index) => {\n        // checking isValidElement is the safe way and avoids a typescript error too\n        if (React.isValidElement(child)) {\n\n            return React.cloneElement(child, { \n                ...model,\n                editable: editable,\n                onEdit: _onEdit,\n                viewable: viewable,\n                onView: _onView,\n                linkable: linkable,\n                onLink: _onLink,\n                selectable: selectable,\n                selected: selected,\n                onSelect: _onSelect,\n                deletable: deletable,\n                deleted: deleted,\n                onDelete: _onDelete,\n                restorable: restorable,\n                onRestore: _onRestore,\n                eraseable: eraseable,\n                erased: erased,\n                onErase: _onErase,\n                toolbar: toolbar,\n                onClick: _onClick,\n                ...props\n//                ...child.props\n            });\n        }\n        return child;\n    });\n\n    return (\n        <>\n            {childrenWithProps}\n        </>\n    )\n\n}\n\nexport default FinderModel","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { ListView, ListModule } from \"../components\"\n\nconst ViewList = ({resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { resultsByPage, count, page, pages, onPage } = props\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const pagedResults = resultsByPage && resultsByPage[page]\n\n    return (\n        <ListView {...props} loadingTitle={loadingTitle} emptyTitle={emptyTitle} title={title} description={description}>\n            {pagedResults && pagedResults.map((model, index) => {\n                return (\n                    <FinderModel {...props} model={model} key={index}>\n                        <ListModule />\n                    </FinderModel>\n                )\n            })}\n        </ListView>\n    )\n\n}\n\nexport default ViewList","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { TableView, TableModule } from \"../components\"\n\nconst ViewTable = ({resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { resultsByPage, count, page, pages, onPage } = props\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const pagedResults = resultsByPage && resultsByPage[page]\n\n    return (\n        <TableView {...props} loadingTitle={loadingTitle} emptyTitle={emptyTitle} title={title} description={description}>\n            {pagedResults && pagedResults.map((model, index) => {\n                return (\n                    <FinderModel {...props} model={model}>\n                        <TableModule {...model} key={index} />\n                    </FinderModel>\n                )\n            })}\n        </TableView>\n    )\n\n}\n\nexport default ViewTable","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { GridView, GridModule } from \"../components\"\n\nconst ViewGrid = ({resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { resultsByPage, count, page, pages, onPage } = props\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const pagedResults = resultsByPage && resultsByPage[page]\n\n    return (\n        <GridView {...props} loadingTitle={loadingTitle} emptyTitle={emptyTitle} title={title} description={description}>\n            {pagedResults && pagedResults.map((model, index) => {\n                return (\n                    <FinderModel {...props} model={model} key={index}>\n                        <GridModule />\n                    </FinderModel>\n                )\n            })}\n        </GridView>\n    )\n\n}\n\nexport default ViewGrid","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        display: \"flex\",\n        flexDirecton: \"column\",\n//        alignItems: \"baseline\",\n        color: theme.palette.text.secondary,\n        margin: theme.spacing(2),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary\n    }\n}));\n\nconst ResultsLoader = ({query = {}, isLoading, count = 0, children}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const classes = useStyles()\n\n    let title;\n\n    const q = query.q && query.q.replace('*', '')\n\n    if (isLoading && !count) {\n        title = t('Searching, please wait', {q}) + \"...\";\n    } else if (!count) {\n        title = t('No hits')\n    }\n\n    if (title) {\n        return (\n            <div className={classes.loader}>\n                <Typography className={classes.title}>{title}</Typography>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default ResultsLoader","import React from 'react';\n//import { Masonry } from \"@kit-ui/admin\"\nimport { Masonry, MasonryModule } from \"../components/\"\nimport { ViewHeader, ViewPages } from \"../components\"\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport FinderModel from \"./FinderModel\"\n\nconst MasonryLayout = ({layout = \"masonry\", resultsLoaded, onPage, ...props}) => {\n\n    return (\n        <ResultsLoader {...props}>\n            <ViewHeader {...props} />\n                <Masonry columns={4} spacing={2}>\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <FinderModel model={model} {...props} key={index}>\n                                <MasonryModule />\n                            </FinderModel>\n                        )\n                    })}\n                </Masonry>\n            <ViewPages {...props} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default MasonryLayout","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsFooter = ({start, rows, count, page, pages, nextPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!nextPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n\n    const label = \"get page \" + nextPage // t('Get results {{from}}{{to}}', {from, to}) + \" ...\"\n\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(nextPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsFooter;","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from 'react-i18next';\n\nimport { GalleryView, GalleryModule } from \"../components\"\nimport FinderModel from \"./FinderModel\"\n\nconst ViewGallery = ({resultsLoaded = [], mediaHeight = 180, mediaLayout = \"cover\", ...props}) => {\n    const { t, i18n } = useTranslation(['search']);\n\n    const { count, page, pages, onPage } = props\n\n    if (resultsLoaded && props.prevPage) {\n\n        resultsLoaded = [\n            {\n                role: \"button\",\n                title: t('Page {{page}}', { page:props.prevPage }) + \" ...\",\n                mediaWidth: mediaHeight,\n                onClick: () => onPage(props.prevPage)\n            },\n            ...resultsLoaded\n        ]\n\n    }\n\n    if (resultsLoaded && props.nextPage) {\n\n        resultsLoaded = [\n            ...resultsLoaded,\n            {\n                role: \"button\",\n                title: t('Page {{page}}', { page:props.nextPage }) + \" ...\",\n                mediaWidth: mediaHeight,\n                onClick: () => onPage(props.nextPage)\n            },\n        ]\n\n    }\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n\n    return (\n        <GalleryView {...props} padding={0} spacing={2} loadingTitle={loadingTitle}emptyTitle={emptyTitle} title={title} description={description}>\n\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                let width, height;\n                    \n                if (model.mediaWidth && model.mediaHeight) {\n                    width = model.mediaWidth\n                    height = model.mediaHeight\n                } else if (model.imageWidth && model.imageHeight) {\n                    width = model.imageWidth\n                    height = model.imageHeight\n                }\n\n                model = {\n                    ...model,\n                    width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                    mediaHeight: mediaHeight,\n                    mediaLayout: mediaLayout\n                }\n\n                return (\n                    <FinderModel {...props} layout=\"gallery\" model={model} width={model.width} onClick={model && model.onClick} key={index}>\n                        <GalleryModule />\n                    </FinderModel>\n                )\n            })}\n        </GalleryView>\n    )    \n}\n\nexport default ViewGallery;","import React, {useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\n\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nimport {ModuleLabel } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        margin: theme.spacing(1),\n\n        \n    },\n\n    header: {\n        margin: theme.spacing(2),\n        flexBasis: 0,\n        flexGrow: 1,\n        color: \"inherit\",\n        textAlign: \"center\",\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 24\n    },\n\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    select: {\n        }\n\n\n}));\n\n\nconst FinderPreview = ({model, ...props}) => {\n\n    const dispatch = useDispatch()\n\n    const { modelName, uniqueId } = model\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const classes = useStyles()\n\n    const modelsById = useSelector(state => state.modelsById)\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n\n    model = {\n        ...model,\n        ...uniqueModel,\n    }\n\n    const { title, description, documentType, content } = model\n\n    return (\n        <div className={classes.module}>\n            <header className={classes.header}>\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                <Typography className={classes.description} component=\"h3\">{description}</Typography>\n                <ModuleLabel>{documentType}</ModuleLabel>\n           </header>\n            <div className={classes.content}>\n                {JSON.stringify(content)}\n            </div>\n            <footer className={classes.footer}>\n                footer\n            </footer>\n        </div>\n\n    )\n\n    \n}\n\nexport default FinderPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { sortMenuTree, moveMenuItem } from '../redux/finder';\nimport qs from 'query-string';\n\nimport {\n    ColumnView,\n    ColumnList,\n    ColumnModule,\n} from \"../components/\"\n\nimport FinderPreview from \"./FinderPreview\"\nimport FinderModel from \"./FinderModel\"\n\nimport { ListModule } from \"../components\"\n\n\nconst ViewColumn = ({layout = \"list\", resultsLoaded, onPage, ...props})  => {\n\n    const _onEdit = () => {\n        alert(\"edit\")\n    }\n\n    return (\n        <ColumnView>\n            <ColumnList>\n\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <FinderModel model={model} onEdit={_onEdit}>\n                                <ColumnModule  />\n                            </FinderModel>\n                        )\n                    })}\n\n            </ColumnList>\n            <ColumnList>\n                <FinderPreview model={{title: \"Untitled\"}} />\n            </ColumnList>\n        </ColumnView>\n    )\n\n}\n\nViewColumn.defaultProps = {\n}\n\nexport default ViewColumn","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\n\nimport ViewList from \"./ViewList\"\nimport ViewTable from \"./ViewTable\"\nimport ViewGrid from \"./ViewGrid\"\nimport ViewMasonry from \"./ViewMasonry\"\nimport ViewGallery from \"./ViewGallery\"\nimport ViewColumn from \"./ViewColumn\"\n\nconst FinderView = ({view = \"list\", template, ...props}) => {\n\n    const { t, i18n } = useTranslation()\n\n    const templates = {\n        \"list\": ViewList,\n        \"table\": ViewTable,\n        \"grid\": ViewGrid,\n        \"masonry\": ViewMasonry,\n        \"gallery\": ViewGallery,\n        \"column\": ViewColumn\n    }\n\n    // actions\n\n    const dispatch = useDispatch()\n\n    const _onEdit = ({uniqueId}) => {\n        uniqueId && props.history.push(props.location.pathname + '/' + uniqueId + \"/edit\")\n    }\n\n    const _onDelete = ({modelName, uniqueId}) => {\n        dispatch(deleteModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onRestore = ({modelName, uniqueId}) => {\n        dispatch(restoreModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onErase = ({modelName, uniqueId}) => {\n        dispatch(eraseModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onSelect = ({modelName, uniqueId}) => {\n        dispatch(selectModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    // template\n\n    if (!template && templates[view]) {\n        template = templates[view]\n    } else if (!template) {\n        template = \"list\"\n    }\n    \n    const Template = template\n\n    // sortOptions\n\n    const sortOptions = props.sortOptions && props.sortOptions.map(option => {\n        \n        if (typeof option === \"string\" ||typeof option === \"number\") {\n            return {\n                label: t(\"sort:\"+option),\n                value: option\n            }\n        }\n\n        return option\n\n    })\n\n    // rowsOptions\n\n    const rowsOptions = props.rowsOptions && props.rowsOptions.map(option => {\n        \n        if (typeof option === \"string\" ||typeof option === \"number\") {\n            return {\n                label: t('view:{{rows}} rows', { rows: option }),\n                value: option\n            }\n        }\n\n        return option\n\n    })    \n\n    if (Template) {\n        return (\n            <Template {...props} sortOptions={sortOptions} rowsOptions={rowsOptions} />\n        )\n        \n    }\n\n\n}\n\nFinderView.defaultProps = {\n}\n\nexport default FinderView","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getView, getSort } from '../redux/finder';\nimport { getQuery } from '../redux/searchByUrl';\nimport qs from 'query-string';\n\nimport Bulk from \"./Bulk\"\nimport FinderLayout from \"./FinderLayout\"\nimport View from \"./View\"\n\nconst FinderQuery = ({query = {}, viewOptions = [], template, ...props}) => {\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // set query\n\n    const pathname = props.location.pathname\n    const sq = props.location.search && qs.parse(props.location.search)\n\n    let q = []\n\n    query.q && q.push(query.q)\n    sq.q && q.push(sq.q)\n\n    query = {\n        ...query,\n        url: pathname,\n        collectionId: app && app.collectionId,\n        page: sq.page || 1,\n        rows: sq.rows ||10,\n        sort: sq.sort ||query.sort ||undefined,\n        fl: \"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName\",\n        q: q && q.join(\" \") ||undefined,\n    };\n\n\n    // query\n\n    useEffect(() => {\n        query && dispatch(getQuery(query))\n    }, [pathname, query.q, sq.sort, sq.rows])\n\n    // search\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url] ||{}\n    \n    const _onPage = (page) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, page: page});\n        props.history.replace(url)\n\n        dispatch(getQuery({\n            ...query,\n            page: page\n        }))\n    }\n\n    const _onCreate = () => {\n        props.history.push(props.location.pathname + '/' + query.documentType + \"/new\")\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const _onRows = (rows) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, rows: rows});\n        props.history.replace(url)\n\n//        dispatch(getSort({sort}))\n\n    }\n\n    const _onSort = (sort) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, sort: sort});\n        props.history.replace(url)\n\n//        dispatch(getSort({sort}))\n\n    }\n\n    const _onView = (view) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, view: view});\n        props.history.replace(url)\n\n//        dispatch(getView({view}))\n\n    }\n\n    const view = sq.view || finder.view || viewOptions && viewOptions[0] ||\"list\"\n\n    return (\n        <Bulk>\n            <FinderLayout {...finder} {...sq} onSelect={_onSelect} onView={_onView}>\n                <View {...finder} {...sq} {...props} {...currentSearch} view={view} onPage={_onPage} onSort={_onSort} onRows={_onRows} />\n            </FinderLayout>\n        </Bulk>\n\n    )\n\n\n\n}\n\nFinderQuery.defaultProps = {\n}\n\nexport default FinderQuery","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport EXIF from 'exif-js';\nimport * as mm from 'music-metadata-browser';\n\n\nconst uploadByUrlSlice = createSlice({\n    name: 'upload',\n    initialState: {\n    }, \n    reducers: {\n        requestUpload(state, action) {\n            const { id, requested } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n//                    acceptedFiles: acceptedFiles,\n//                    rejectedFiles: rejectedFiles,\n                    requested: requested,\n                    received: 0,\n                    count: 0,\n                    resultsLoaded: []\n                }\n            }\n        },\n        receiveUpload(state, action) {\n            const { id, results } = action.payload\n\n            return state\n        },\n        requestUploadModel(state, action) {\n            const { id, model } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n//                    received: state[id].received + 1,\n                }\n            }\n            \n        },\n        receiveUploadModel(state, action) {\n            const { id, data } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n                    count: state[id].count + 1,\n                    resultsLoaded: [\n                        ...state[id].resultsLoaded,\n                        data\n                    ]\n                }\n            }\n        },\n        receiveUploadProgress(state, action) {\n            const { id, progress } = action.payload\n\n            return state\n            \n        },\n        receiveUploadStatus(state, action) {\n            const { id, status } = action.payload\n\n            return state\n        }\n    }\n})\n\nexport const getUpload = ({id, acceptedFiles = [], uploadData = { status: \"upload\" }}) => dispatch => {\n\n    const requested = acceptedFiles.length ||0\n\n    dispatch(requestUpload({id, requested}))\n\n    acceptedFiles && acceptedFiles.map((file, index) => {\n//      dispatch(requestUploadModel({id}))\n        dispatch(getUploadUrl({id, file, uploadData}))\n    })\n\n}\n\nexport const getUploadUrl = ({id, file, uploadData = {}}) => dispatch => {\n\n    console.log('getUploadMetadata', file)\n\n    const { name, type, size } = file\n\n    uploadData = {\n        ...uploadData,\n        title: uploadData.title || name,\n        filename: name,\n        mimeType: type,\n        mediaSize: size,\n        content: {\n            ...uploadData.content,\n            title: name,\n            filename: name\n        }\n    }\n\n    // where to upload?\n\n    let url = API + '/admin/api/media/upload';\n  \n    if (type.startsWith('image/')) {\n        url = url + '/image'\n    } else if (type.startsWith('video/')) {\n        url = url + '/video'\n    } else if (type.startsWith('audio/')) {\n        url = url + '/audio'\n    } else {\n        url = url + '/misc'\n    }\n\n    console.log('url', url);\n\n    const payload = JSON.stringify(uploadData);\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: payload\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => dispatch(getUploadData({id, file, data})))        \n\n}\n\n\n\nexport const getUploadData = ({id, file, data}) => dispatch => {\n\n    // uniqueId + uploadUrl\n\n    const { uniqueId, uploadUrl } = data;\n\n    dispatch(receiveUploadModel({id, data}))\n\n    const handleStatus = (uniqueId, event) => {\n        let uploadProgress;\n\n        if (event && event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n    \n        let url = API + '/admin/api/media/upload/status/' + uniqueId\n    \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveUploadStatus(uniqueId, data))\n        })\n\n    }\n\n    const _onProgress = (event) => {\n        let uploadProgress;\n\n        if (event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n\n        console.log(\"PROGRESS\", uploadProgress)\n    \n//        dispatch(receiveUploadProgress(uniqueId, uploadProgress))\n    \n    }\n\n\n    // do the upload\n\n    let payload = new FormData();\n    payload.append('file', file);\n\n    var xhr = new XMLHttpRequest();\n//    onLoadStart && xhr.upload.addEventListener(\"load\", (event) => _onLoadStatus(event), false);\n        xhr.upload.addEventListener(\"progress\", (event) => _onProgress(event), false);\n//    onAbort && xhr.upload.addEventListener(\"abort\", (event) => _onAbort(event), false);\n//    onError && xhr.upload.addEventListener(\"error\", (event) => _onError(event), false);\n//    onLoad && xhr.upload.addEventListener(\"load\", (event) => _onLoad(event), false);\n//    onTimeout && xhr.upload.addEventListener(\"timeout\", (event) => _onTimeout(event), false);\n//    onLoadEnd && xhr.upload.addEventListener(\"loadend\", (event) => _onLoadEnd(event), false);\n    xhr.open(\"POST\", uploadUrl);\n    xhr.send(payload);\n\n\n//    getUploadModel({id, file, uploadData, callback: (props) => dispatch(handleUpload(props))})\n\n}\n\n\n\nexport const { requestUpload, requestUploadModel, receiveUploadModel, receiveUploadStatus, receiveUploadProgress } = uploadByUrlSlice.actions\nexport default uploadByUrlSlice.reducer","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst UploadDropzone = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nUploadDropzone.propTypes = {\n    onUpload: PropTypes.func\n}\n\nUploadDropzone.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default UploadDropzone","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp, getLayout, getParents } from '../redux/app';\nimport { getUpload } from '../redux/uploadByUrl';\n\nimport View from \"./View\"\nimport UploadDropzone from \"../Upload/UploadDropzone\"\n\nconst MediaUpload = (props) => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getLayout(\"finder\"))\n    }, [])\n\n    const app = useSelector(state => state.app)\n    const menuByUrl = app && app.menuByUrl\n\n    const { pathname } = props.location\n\n    useEffect(() => {\n        menuByUrl && dispatch(getParents({menuByUrl, pathname: pathname}))\n    }, [menuByUrl, pathname])\n\n\n    const _onUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: app.collectionId,\n            status: \"upload\"\n        }\n\n        dispatch(getUpload({\n            id: pathname,\n            acceptedFiles,\n            uploadData\n        }))\n\n    }\n\n\n    const uploadByUrl = useSelector(state => state.uploadByUrl)\n\n    const currentUpload = uploadByUrl && uploadByUrl[pathname] ||{}\n\n\n    return (\n        <>\n            <View {...currentUpload} {...props} />\n            <UploadDropzone onUpload={_onUpload} />\n        </>\n    )\n\n}\n\nMediaUpload.defaultProps = {\n}\n\nexport default MediaUpload","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport FinderModel from \"./FinderModel\"\nimport { TreeView, TreeList, TreeModule } from \"../components\"\n\nconst DocumentTreeList = ({\n    parent,\n    resultsLoaded,\n    getChildren,\n    onToggle,\n    onSelect,\n    onDragEnd,\n    ...props\n}) => {\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const modelsById = useSelector(state => state.modelsById)\n\n    const finder = useSelector(state => state.finder)\n    const menuByUrl = finder.menuByUrl\n    const parents = finder.parents\n\n    const DraggableChild = ({child, level, index}) => {\n\n        child = {\n            ...child,\n            ...modelsById[child.uniqueId],\n            url: parent.url + \"/\" + child.uniqueId\n        }\n\n        !searchByUrl[child.url] && getChildren(child)\n\n        const childrenSearch = searchByUrl[child.url]\n        const children = childrenSearch && childrenSearch.resultsLoaded && childrenSearch.resultsLoaded.map(child => {\n            return {\n                ...child,\n                url: parent.url + \"/\" + child.uniqueId\n            }\n        })\n\n        let selected = false\n\n        parents.map(parent => {\n            if (parent.url && parent.url === child.url) {\n                selected = true\n            }\n        })\n\n        let collapsible, expanded\n\n        if (menuByUrl[child.url]) {\n            expanded = menuByUrl[child.url].expanded\n        }\n\n        if (children && children.length) {\n            collapsible = true\n//            expanded = true\n        }\n\n        child = {\n            ...child,\n            selected: selected,\n            collapsible: collapsible,\n            expanded: selected || expanded,\n        }\n\n        return (\n            <Draggable index={index} draggableId={child.url} key={child.url}>\n                {(provided, snapshot) => (\n                    <FinderModel model={child} onSelect={() => onSelect(child)} onToggle={() => onToggle(child)}>\n                        <TreeModule {...child} index={index} draggable={{provided, snapshot}} level={level}>\n                        { child.expanded && <DroppableChildren {...child} children={children} level={level+1} /> }\n                        </TreeModule>\n                    </FinderModel>\n                )}\n            </Draggable>\n        )\n\n    }\n\n    const DroppableChildren = ({children, index, level, ...parent}) => {\n\n        return (\n            <Droppable isCombineEnabled={true} index={index} droppableId={parent.url} key={parent.url}>\n                {(provided, snapshot) => (\n                    <TreeList droppable={{provided, snapshot}}>\n                        {children && children.map((child, index) => {\n                            return (\n                                <DraggableChild child={child} level={level} index={index} />\n                            )\n                        })}\n                    </TreeList>\n                )}\n            </Droppable>\n\n        )\n        \n    }\n\n    return (\n        <TreeView>\n            <DragDropContext onDragEnd={onDragEnd}>\n                { parent && <DroppableChildren {...parent} index={0} level={1} /> }\n            </DragDropContext>        \n        </TreeView>\n    )\n\n\n}\n\nDocumentTreeList.defaultProps = {\n}\n\nexport default DocumentTreeList","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport FinderModel from \"./FinderModel\"\n\nimport {\n    ColumnView,\n    ColumnList,\n    ColumnModule,\n} from \"../components/ColumnView\"\n\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nconst TreeColumn = ({\n    resultsLoaded,\n    parent,\n    getChildren,\n    onToggle,\n    onSelect,\n    onEdit,\n    onCreate,\n    onDragEnd,\n    ...props\n}) => {\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const modelsById = useSelector(state => state.modelsById)\n\n    const finder = useSelector(state => state.finder)\n    const parents = finder.parents\n\n    const DraggableChild = ({child = {}, level, index}) => {\n\n        !searchByUrl[child.url] && getChildren(child)\n\n        const currentSearch = searchByUrl[child.url]\n        const children = currentSearch && currentSearch.resultsLoaded && currentSearch.resultsLoaded\n\n        let selected = false\n\n        parents.map(parent => {\n            if (parent.url && parent.url === child.url) {\n                selected = true\n            }\n        })\n\n        let collapsible = false\n\n        if (children && children.length) {\n            collapsible = true\n        }\n\n        child = {\n            ...child,\n            selected: selected,\n            collapsible: collapsible,\n        }\n\n        return (\n            <Draggable index={index} draggableId={child.url} key={child.url}>\n                {(provided, snapshot) => (\n                    <FinderModel model={child} onSelect={() => onSelect(child)}>\n                        <ColumnModule {...child} index={index} draggable={{provided, snapshot}} level={level}>\n                        </ColumnModule>\n                    </FinderModel>\n                )}\n            </Draggable>\n        )\n\n    }    \n    \n\n    const DroppableChildren = ({children, index, level, ...parent}) => {\n\n        return (\n            <Droppable isCombineEnabled={true} index={index} droppableId={parent.url} key={parent.url}>\n                {(provided, snapshot) => (\n                    <ColumnList droppable={{provided, snapshot}}>\n                        {children && children.map((child, index) => {\n                            return (\n                                <DraggableChild child={child} level={level} index={index} />\n                            )\n                        })}\n                    </ColumnList>\n                )}\n            </Droppable>\n\n        )\n        \n    }\n\n    return (\n        <ColumnView>\n            <DragDropContext onDragEnd={onDragEnd}>\n                { parents && parents.map((parent, index) => {\n                    return <DroppableChildren {...parent} index={index} level={index+2} />\n                })}\n            </DragDropContext>\n        </ColumnView>\n    )\n\n\n\n\n}\n\nTreeColumn.defaultProps = {\n}\n\nexport default TreeColumn","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getMenuItem, toggleMenuItem, sortMenuTree } from '../redux/finder';\nimport { getQuery } from '../redux/searchByUrl';\nimport { receiveSave } from '../redux/modelsById';\nimport { API } from \"../redux/settings\"\nimport qs from 'query-string';\n\nimport TreeListView from \"./DocumentTreeList\"\nimport TreeColumnView from \"./DocumentTreeColumn\"\nimport FinderLayout from \"./FinderLayout\"\n\nconst DocumentTree = (props) => {\n    const dispatch = useDispatch()\n\n    const pathname = props.location.pathname\n    const sq = props.location.search && qs.parse(props.location.search)\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const menuByUrl = finder && finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n    const parents = finder && finder.parents\n\n    const [treeParent, setTreeParent] = useState({})\n    const [query, setQuery] = useState({})\n\n    useEffect(() => {\n\n        parents && parents.map(parent => {\n            if (parent.type === \"tree\") {\n                setTreeParent(parent) \n            }\n        })\n\n\n    }, [parents])\n\n    // set top query from treeParent\n\n    useEffect(() => {\n\n        treeParent && treeParent.query && setQuery({\n            ...treeParent.query,\n            url: treeParent && treeParent.url,\n            collectionId: app && app.collectionId,\n            fl: \"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName\",\n        })\n\n    }, [treeParent])\n\n    // query\n\n    let q = []\n    \n    query.q && q.push(query.q)\n    sq.q && q.push(sq.q)\n\n    useEffect(() => {\n\n        query.url && dispatch(getQuery({\n            ...query, \n            page: sq.page || 1,\n            rows: sq.rows ||10,\n            sort: sq.sort ||query.sort ||undefined,\n            q: q && q.join(\" \") ||undefined,\n        }))\n\n    }, [query.url, sq.q, sq.sort, sq.rows])\n\n    // get parent\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url] ||{}\n    const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n\n    const [parent, setParent] = useState(null)\n\n    useEffect(() => {\n\n        resultsLoaded && setParent({\n            ...treeParent,\n            children: resultsLoaded && resultsLoaded.map(child => {\n                return {\n                    ...child,\n                    url: pathname + \"/\" + child.uniqueId\n                }\n            })\n        })\n\n    }, [resultsLoaded])\n\n    // get children\n\n    const _getChildren = ({uniqueId, id}) => {\n\n        dispatch(getQuery({\n            url: query.url + \"/\" + uniqueId,\n            models: query.models,\n            fl: query.fl,\n            q: sq.q ||undefined,\n            parentId: id,\n            fl: \"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName\",\n        }))\n        \n    }\n\n    useEffect(() => {\n        parent && parent.children && parent.children.map(child => _getChildren(child))\n    }, [parent])\n    \n    // actions\n\n    const _onEdit = ({url}) => {\n        const editUrl = url + \"/edit\"\n        editUrl && props.history.push(editUrl)\n    }\n\n    const _onSelect = ({url}) => {\n        if (sq) {\n            url = url + \"?\" + qs.stringify(sq);\n        }\n\n        url && props.history.push(url)\n    }\n\n    const _onToggle = ({url}) => {\n        url && dispatch(toggleMenuItem({url}))\n    }    \n\n    const _onCreate = ({url, id}) => {\n        const parentId = Number.isInteger(id) && id ||null\n        const createUrl = url && url + \"/new?\" + qs.stringify({documentType: \"pageTopic\", parentId: parentId})\n        createUrl && props.history.push(createUrl)\n    }\n\n    const [results, setResults] = useState({})\n\n    const _onSubmit = ({formData = {}, queries = []}) => {\n\n        const url = API + '/admin/api/documents';\n\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveSave(formData))\n            queries && queries.map(query => dispatch(getQuery(query)))\n        })\n\n    }\n\n    const _onDragEnd = (results) => {\n\n        const { draggableId, source, destination, combine } = results\n\n        if (source && destination && source.droppableId !== destination.droppableId) {\n\n            const id = searchByUrl[draggableId].query.parentId\n            const parentId = searchByUrl[destination.droppableId].query.parentId ||null\n\n            const queries = [\n                {\n                    ...searchByUrl[source.droppableId].query,\n                    url: source.droppableId\n                },\n                {\n                    ...searchByUrl[destination.droppableId].query,\n                    url: destination.droppableId\n                }\n            ]\n\n            setResults({\n                id: id,\n                parentId: parentId,\n                queries: queries\n            })\n\n            _onSubmit({\n                formData: {\n                    id: id,\n                    parentId: parentId\n                },\n                queries: queries\n            })\n\n\n        } else if (combine && combine.draggableId !== source.droppableId && draggableId !== combine.draggableId) {\n\n            const id = searchByUrl[draggableId].query.parentId\n            const parentId = searchByUrl[combine.draggableId].query.parentId ||null\n\n            const queries = [\n                {\n                    ...searchByUrl[source.droppableId].query,\n                    url: source.droppableId\n                },\n                {\n                    ...searchByUrl[combine.draggableId].query,\n                    url: combine.draggableId\n                }\n            ]\n\n            setResults({\n                id: id,\n                parentId: parentId,\n                queries: queries\n            })\n\n            _onSubmit({\n                formData: {\n                    id: id,\n                    parentId: parentId\n                },\n                queries: queries\n            })\n\n        }\n\n    }\n\n\n\n    // viewOptions\n\n    const viewOptions = [\"list\",\"column\"]\n    const view = sq.view ||viewOptions[0]\n\n    const _onView = (view) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, view: view});\n        props.history.replace(url)\n    }\n\n    // template\n\n    const templates = {\n        \"list\": TreeListView,\n        \"column\": TreeColumnView\n    }\n    \n    let template;\n\n    if (!template && templates[view]) {\n        template = templates[view]\n    } else if (!template) {\n        template = \"list\"\n    }\n    \n    const Template = template\n\n\n    return (\n        <FinderLayout {...finder} viewOptions={viewOptions} view={view} onView={_onView}>\n            <Template {...props} \n                {...currentSearch}\n                parent={parent}\n                getChildren={_getChildren}\n                onToggle={_onToggle}\n                onSelect={_onSelect}\n                onEdit={_onEdit}\n                onCreate={_onCreate}\n                onDragEnd={_onDragEnd} />\n        </FinderLayout>\n    )\n\n\n\n}\n\nDocumentTree.defaultProps = {\n}\n\nexport default DocumentTree","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst siteSlice = createSlice({\n    name: 'site',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestSite(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveSite(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getSite = ({modelName = \"sites\", id, uniqueId}) => dispatch => {\n\n    const siteId = id ||uniqueId\n    const url = API + '/admin/api/' + modelName + '/' + siteId;\n\n    dispatch(requestSite({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(site => {\n            dispatch(receiveSite(site))\n        })\n\n}    \n\n\nexport const { requestSite, receiveSite } = siteSlice.actions\nexport default siteSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getSite } from \"../site\"\n\nconst collectionSlice = createSlice({\n    name: 'collection',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestCollection(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveCollection(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getCollection = ({modelName = \"collections\", id, uniqueId}) => dispatch => {\n\n    const collectionId = id ||uniqueId\n    const url = API + '/admin/api/' + modelName + '/' + collectionId;\n\n    dispatch(requestCollection({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(collection => {\n            collection.siteId && dispatch(getSite({id: collection.siteId}))\n            dispatch(receiveCollection(collection))\n        })\n\n}\n\n\n\nexport const { requestCollection, receiveCollection } = collectionSlice.actions\nexport default collectionSlice.reducer","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getCollection } from '../redux/collection';\n\nimport FinderQuery from \"./FinderQuery\"\n\nconst CollectionItem = ({model = {}}) => {\n\n    const dispatch = useDispatch()\n\n    const _onClick = () => {\n        dispatch(getCollection(model))\n    }\n\n    return (\n        <div onClick={_onClick}>\n            <p>{model.title}</p>\n        </div>\n    )\n\n}\n\nconst CollectionList = ({layout = \"list\", resultsLoaded, onPage, ...props}) => {\n\n    return (\n        <div>\n            {resultsLoaded && resultsLoaded.map((model, index) => <CollectionItem model={model} key={index} />)}\n        </div>\n    )\n\n}\n\n\nconst CollectionSwitcher = ({query, ...props}) => {\n\n\n    return (\n        <FinderQuery query={query} template={CollectionList} {...props} />\n    )\n\n\n\n    return (\n        <p>Switch collection</p>\n    )\n\n}\n\nexport default CollectionSwitcher","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout } from '../redux/app';\nimport { getFinder, getMenuItem, getParents } from '../redux/finder';\n\nimport FinderLoader from \"./FinderLoader\"\nimport FinderQuery from \"./FinderQuery\"\nimport FinderUpload from \"./FinderUpload\"\n\nimport DocumentTree from \"./DocumentTree\"\n\nimport CollectionSwitcher from \"./CollectionSwitcher\"\n\nconst templates = {\n    \"finder/query\": FinderQuery,\n    \"finder/tree\": DocumentTree,\n    \"tree\": DocumentTree,\n    \"treeitem\": DocumentTree,\n    \"upload\": FinderUpload,\n    \"collections\": CollectionSwitcher\n}\n\nconst Finder = (props) => {\n    const pathname = props.location.pathname\n    const finder = useSelector(state => state.finder)\n\n    const menuByUrl = finder.menuByUrl\n    const menuItem = pathname && menuByUrl && menuByUrl[pathname]\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getLayout(\"finder\"))\n    }, [])\n\n    const template = menuItem && menuItem.template\n    const FinderTemplate = templates && templates[template] ||FinderQuery\n\n    return (\n        <FinderLoader {...props}>\n            <FinderTemplate \n                query={menuItem && menuItem.query}\n                views={menuItem && menuItem.views}\n                {...props} />\n        </FinderLoader>\n    )\n\n}\n\nFinder.defaultProps = {\n}\n\nexport default Finder","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { requestModel, receiveModel } from \"../modelsById\"\n\nconst editorSlide = createSlice({\n    name: 'editor',\n    initialState: {\n        isLoading: true,\n        isSaving: undefined,\n        pathname: undefined,\n        uniqueId: undefined,\n        parents: [],\n        currentId: undefined,\n        schema: {},\n        uiSchema: {},\n        formData: {},\n        dialog: {}\n    }, \n    reducers: {\n        requestEditor(state, action) {\n            const { pathname } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                isLoading: true,\n            }\n        },\n        receiveEditor(state, action) {\n            const { pathname, uniqueId } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                uniqueId: uniqueId,\n                isLoading: false,\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents\n            }\n        },\n        requestEdit(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                isLoading: true,\n                formData: {\n                    uniqueId: uniqueId\n                }\n            }\n\n        },\n        receiveEdit(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            if (uniqueId) {\n                return {\n                    ...state,\n                    formData: {\n                        ...formData,\n                        uniqueId: uniqueId\n                    }\n                }\n            } else {\n                return {\n                    ...state,\n                    formData: formData\n                }\n            }\n\n        },\n        requestSave(state, action) {\n           return {\n                ...state,\n                isSaving: true,\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            return {\n                ...state,\n                isSaving: false,\n                formData: {\n                    ...formData,\n                    uniqueId: uniqueId\n                }\n            }\n        },\n        receiveCurrentId(state, action) {\n            const { currentId } = action.payload\n            return {\n                ...state,\n                currentId: currentId,\n            }\n        },\n        requestDialog(state, action) {\n            return {\n                ...state,\n                dialog: {},\n            }\n        },\n        receiveDialog(state, action) {\n            const { id, schema, uiSchema, formData, onChange } = action.payload\n            return {\n                ...state,\n                dialog: {\n                    id: id,\n                    expanded: true,\n                    schema: schema,\n                    uiSchema: uiSchema,\n                    formData: formData,\n                    onChange: onChange\n                },\n            }\n        }        \n    }\n})\n\nexport const getEditor = ({pathname, uniqueId, schema, uiSchema}) => (dispatch, getState) => {\n    dispatch(requestEditor({pathname}))\n\n    const state = getState()\n    const app = state.app\n    const finder = state.finder\n\n    dispatch(getParents({url: pathname, uniqueId}))\n\n    schema && uiSchema && dispatch(receiveEditor({pathname, uniqueId}))\n\n}\n\nexport const getParents = ({url, uniqueId}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    const pathnames = url.split('/');\n    pathnames.pop()\n\n    const parentUrl = pathnames.join(\"/\")\n\n    let parents = []\n\n    let parent = menuByUrl[parentUrl] || menuById[pathnames.length-1]\n\n    // find parent by last child\n\n    if (parent) {\n\n        console.log('parents by last child', parent)\n\n        while (parent) {\n            parents.push(parent)\n            parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n        }\n\n        parents = parents.reverse()\n\n    } else {\n\n        let path = [], pathUrl\n\n        pathnames.map(pathname => {\n\n            path.push(pathname)\n            pathUrl = path.join('/')\n\n            console.log('parents by path', pathUrl)\n\n\n            if (menuByUrl[pathUrl]) {\n                parents.push(menuByUrl[pathUrl])\n            }\n\n        })\n\n\n    }\n\n\n    if (uniqueId) {\n        parents = parents.filter(parent => parent.uniqueId !== uniqueId)\n    }\n\n\n    dispatch(receiveParents({parents}))\n  \n}\n\n/** Edit model from uniqueId */\n\nexport const editModel = ({modelName = \"documents\", uniqueId, ...formData}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    if (uniqueId) {\n        dispatch(requestEdit({uniqueId}))\n        \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveEdit(formData))\n                dispatch(receiveModel(formData))\n            })\n\n    } else if (formData) {\n        dispatch(receiveEdit(formData))\n    }\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    dispatch(requestSave())\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n        dispatch(receiveModel(formData))\n    })\n\n}\n\nexport const { \n    requestEditor, receiveEditor, \n    requestParents, receiveParents,\n    receiveCurrentId, \n    requestEdit, receiveEdit, \n    requestSave, receiveSave, \n    requestDialog, receiveDialog\n} = editorSlide.actions\nexport default editorSlide.reducer","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\n\nconst DialogBase = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <section className={classes.dialog}>\n            {children}\n        </section>\n    )\n}\n\nexport default DialogBase","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"absolute\",\n        zIndex: 2,\n        bottom: 0,\n        left: 0,\n        right: 0,\n\n        backgroundColor: \"inherit\",\n\n        \"& + *\": {\n            marginBottom: theme.spacing(8)\n        }\n\n    },\n    navigation: {\n        backgroundColor: \"inherit\",\n        width: \"100%\"\n    },\n}));\n\nconst Menu = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(8)\n    }\n}))(BottomNavigation);\n\nconst MenuItem = withStyles(theme => ({\n    root: {\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px !important\",\n    },\n    selected: {\n    },\n}))(BottomNavigationAction);\n\nconst DialogFooter = ({menu = [], tabIndex = 0}) => {\n \n    const classes = useStyles();\n\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (menu[index].onClick) {\n            menu[index].onClick()\n        }\n\n    }\n    \n    return (\n        <Paper component=\"footer\" elevation={4} square={true} className={classes.footer}>\n            <Menu \n                value={value} \n                onChange={handleChange}\n                showLabels\n                className={classes.navigation}>\n                    { menu && menu.map((item, index) => {\n                        return (\n                            <MenuItem {...item} key={index} />\n                        )\n                    })}\n            </Menu>\n        </Paper>\n    )\n}\n\nexport default DialogFooter","import React, { useState, useEffect } from 'react';\nimport { AppSearch, NavTabs } from '@kit-ui/admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from \"lodash\"\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        backgroundColor: \"inherit\",\n        color: \"black\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n\n        transition: \".125s ease-out\",\n        marginTop: theme.spacing(-8),\n\n        \"&[aria-expanded=true]\": {\n            marginTop: 0,\n \n            \"& + *\": {\n                marginTop: theme.spacing(8),\n            }\n    \n        },\n\n \n    },\n}));\n\n\nconst DialogSearch = ({placeholder, q, onChange, onReset, expanded = false}) => {\n    const classes = useStyles()\n\n    return (\n        <AppSearch className={classes.search} placeholder={placeholder} onChange={onChange} onReset={onReset} expanded={expanded} />\n    )\n}\n\nexport default DialogSearch","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport Typography from '@material-ui/core/Typography';\n\nconst DialogTabpanel = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(3),\n    },\n    indicator: {\n        bottom: \"auto\",\n        top: 0\n    },\n}))(Tabs);\n\nconst DialogTab = withStyles(theme => ({\n    root: {\n        textTransform: 'none',\n        letterSpacing: 0,\n        minWidth: 0,\n        minHeight: theme.spacing(3),\n        paddingLeft: 0,\n        paddingRight: 0,\n        marginLeft: 0,\n        marginRight: theme.spacing(2),\n        color: \"inherit\",\n        '&:hover': {\n          color: \"inherit\",\n          opacity: 1,\n        },\n        '&$selected': {\n          opacity: 1,\n        },\n        '&:focus': {\n          opacity: 1,\n        },\n    },\n    selected: {},\n\n}))(props => <Tab disableRipple label={<DialogLabel {...props} />} {...props} />);\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    },\n    title: {\n        fontWeight: \"bold\",\n    },\n    count: {\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(.5)\n    }\n\n}))\n\nconst DialogLabel = ({title, count}) => {\n\n    const classes = useStyles()\n\n    return (\n        <Typography className={classes.label}>\n            <b className={classes.title}>{title}</b>\n            { count && <i className={classes.count}>({count})</i> || \"\" }\n        </Typography>\n    )\n}\n\n\nconst DialogTabs = ({tabs = [], tabIndex = 0}) => {\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    }\n\n    return (\n        <DialogTabpanel\n            value={tabIndex ||value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"inherit\">\n            { tabs && tabs.map((tab, index) => {\n                return (\n                    <DialogTab {...tab} value={index} key={index} />\n                )\n            })}\n        </DialogTabpanel>        \n    )\n\n}\n\nexport default DialogTabs;","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport DialogTabs from \"./DialogTabs\"\n\nimport { NavSettings } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"sticky\",\n        zIndex: 2,\n        top: 0,\n        padding: 0,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n//        minHeight: theme.spacing(4.5),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    tabs: {\n\n    },\n    settings: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        margin: theme.spacing(.75,.5)\n\n    }\n}))\n\nconst DialogHeader = ({tabs, tabIndex, settings}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            { tabs && <DialogTabs className={classes.tabs} tabs={tabs} tabIndex={tabIndex} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n}\n\n\nexport default DialogHeader;","import React, { useRef, useState, useEffect } from 'react';\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from \"lodash\"\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n    }\n}));\n\nconst DialogSection = ({height, onScroll, children}) => {\n    const classes = useStyles()\n\n    const parentRef = useRef()\n\n    const handleScroll = _.debounce((event) => {\n        onScroll && onScroll(event)\n    }, 500)\n\n    useEffect(() => {\n        const ph = parentRef.current && parentRef.current.offsetHeight\n        const ch = parentRef.current && parentRef.current.children && parentRef.current.children[0] && parentRef.current.children[0].offsetHeight\n\n        parentRef.current.addEventListener(\"scroll\", handleScroll);\n\n        if (ph < ch) {\n//            setOverflow(true)\n        }\n\n        return () => {\n            parentRef.current.removeEventListener(\"scroll\", handleScroll);\n        };\n\n    }, [children, height]);\n\n\n    return (\n        <section className={classes.section} ref={parentRef}>\n            {children}\n        </section>\n    )\n}\n\nexport default withResizeDetector(DialogSection)","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        color: theme.palette.text.secondary,\n        margin: theme.spacing(2),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary\n    }\n}));\n\nconst ResultsLoader = ({query = {}, results = {}, children}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const classes = useStyles()\n\n    const { models = [], count, rows } = results\n\n    let title;\n\n    const q = query.q && query.q.replace('*', '')\n\n    if (rows && !count) {\n        title = t('No hits')\n    } else if (!models.length) {\n        title = t('Searching, please wait', {q}) + \"...\";\n    }\n\n    if (title) {\n        return (\n            <div className={classes.loader}>\n                <Typography className={classes.title}>{title}</Typography>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default ResultsLoader","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        /*\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        */\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n        margin: theme.spacing(2),\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsFooter = ({start, rows, count, page, pages, nextPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!nextPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n    const label = t('Get results {{from}}{{to}}', {from, to}) + \" ...\"\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(nextPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsFooter;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadModel } from '../redux/modelsById';\n\nimport { ListModule, TableModule, GridModule, GalleryModule } from '@kit-ui/admin';\nimport { getUiPreview } from '@kit-ui/schema/lib';\n\nimport { useTranslation } from 'react-i18next';\nimport qs from 'query-string';\n\nconst layouts = {\n    \"table\": TableModule,\n    \"list\": ListModule,\n    \"grid\": GridModule,     \n    \"gallery\": GalleryModule,\n}\n\nconst ModuleLoader = ({app, dialog, query, model, layout = \"table\", size = \"medium\", modelsSelected = [], onAdd, onRemove, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const schemasByName = {}\n\n    const modelsById = useSelector(state => state.modelsById)\n    const modelsBySource = {}\n\n    const { uniqueId, source, sourceId, documentType, mediaType } = model;\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(loadModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const appDocumentType = documentType && app && app.root + \"/\" + documentType\n    const sourceDocumentType = source && \"document/\" + source\n\n    let modelName = model.modelName === \"doc_schemas\" && \"schemas\" ||model.modelName\n    let modelSchema;\n\n    if (modelName === \"users\") {\n        modelSchema = schemasByName['user']\n    } else if (modelName === \"sites\") {\n        modelSchema = schemasByName['site']\n    } else if (modelName === \"collections\") {\n        modelSchema = schemasByName['collection']\n    } else if (modelName === \"doc_schemas\") {\n        modelSchema = schemasByName['schema']\n    }else if (modelName === \"documents\" || documentType) {\n        if (schemasByName[appDocumentType]) {\n            modelSchema = schemasByName[appDocumentType]\n        } else if (source && schemasByName[sourceDocumentType]) {\n            modelSchema = schemasByName[sourceDocumentType]\n        } else if (documentType) {\n            modelSchema = schemasByName[documentType]\n        }\n    } else if (modelName === \"media\" ||mediaType) {\n        modelSchema = mediaType && schemasByName[\"media/\"+mediaType]\n    }\n\n\n    const [preview, setPreview] = useState(model)\n\n    const getImageUrl = (model) => {\n        const { imageUrl, uploadStatus, uploadProgress } = model\n\n        const imageUrlParts = imageUrl && imageUrl.split(\"?\")\n        const imageParams = imageUrlParts && imageUrlParts[1] && qs.parse(imageUrlParts[1])\n\n        if (!imageParams) {\n            return imageUrl\n        }\n\n        const newImageParams = qs.stringify({\n            ...imageParams,\n            uploadStatus: uploadStatus,\n            uploadProgress: uploadProgress,\n            dimension: \"250x250\"\n        })\n\n        const newImageUrl = imageUrlParts[0] + \"?\" + newImageParams\n        \n        return newImageUrl\n\n    }\n\n    const uniqueModel = source && sourceId && modelsBySource && modelsBySource[source + \"/\" + sourceId] || uniqueId && modelsById && modelsById[uniqueId]; //  || model\n\n    useEffect(() => {\n        let uiPreview = {}\n\n        if (modelSchema && uniqueModel) {\n            uiPreview = getUiPreview({...modelSchema, formData: uniqueModel, formContext: {t:t}})\n        }\n\n        const newModel = {\n            ...uniqueModel,\n            ...model,\n            ...uiPreview,\n        }\n\n        const newImageUrl = getImageUrl(newModel)\n\n        setPreview({\n            ...newModel,\n            imageUrl: newImageUrl,\n        })\n\n    }, [uniqueModel])\n\n    const {status, createdAt, createdByName, updatedAt, updatedByName, deletedAt, deletedByName } = preview;\n\n    const author = deletedByName ||updatedByName || createdByName ||\"N/A\"\n    const datetime = deletedAt ||updatedAt || createdAt\n\n    const statusLabel = t(\"status:\"+status ||undefined)\n    const LayoutTemplate = layout && layouts[layout]\n\n    let selected;\n\n    if (source && sourceId) {\n        selected = modelsSelected && modelsSelected.includes(source + \"/\" + sourceId)\n    } else if (uniqueId) {\n        selected = modelsSelected && modelsSelected.includes(uniqueId)\n    }\n\n    const handleSelect = () => {\n\n        console.log(\"ADD/REMOVE\", uniqueModel)\n\n        if (selected) {\n            onRemove && onRemove(uniqueModel)\n        } else {\n            onAdd && onAdd(uniqueModel)\n        }\n\n    }\n\n    const selectable = uniqueModel && true || false\n    const onClick = selectable ? handleSelect : undefined\n\n    return (\n        <LayoutTemplate {...preview} size={size} \n            statusLabel={statusLabel} author={author} datetime={datetime}\n            selectable={selectable} selected={selected} onClick={onClick} />\n    )\n\n}\n\nexport default ModuleLoader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return <div>{children}</div>\n}\n\nconst ResultsList = ({layout = \"list\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <ListLayout padding={2}>\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                    )\n                })}\n            </ListLayout>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default ResultsList","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { Gallery } from \"@kit-ui/admin\"\n\nimport DialogModel from \"./DialogModel\"\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsHeader from \"./ResultsHeader\"\nimport ResultsFooter from \"./ResultsFooter\"\n\nconst LayoutGallery = ({children}) => {\n    return children\n}\n\n\nconst ResultsGallery = ({layout = \"gallery\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, mediaHeight = 120, mediaLayout = \"cover\", spacing = 1, padding = 2, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <Gallery padding={padding} spacing={spacing}>\n                { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                    let width, height;\n                        \n                    if (model.mediaWidth && model.mediaHeight) {\n                        width = model.mediaWidth\n                        height = model.mediaHeight\n                    } else if (model.imageWidth && model.imageHeight) {\n                        width = model.imageWidth\n                        height = model.imageHeight\n                    }\n\n                    model = {\n                        ...model,\n                        width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                        mediaHeight: mediaHeight,\n                        mediaLayout: mediaLayout\n                    }\n\n                    return (\n                        <DialogModel {...props} layout=\"gallery\" model={model} modelsSelected={selected} width={model.width} key={index} />\n                    )\n                })}\n            </Gallery>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )    \n}\n\nResultsGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    models: PropTypes.array \n}\n\nexport default ResultsGallery;","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary,\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        paddingTop: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\"\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ResultsHeader = ({resultsLoaded = [], count, start, rows, pages, page, onPage}) => {\n    const { t, i18n } = useTranslation('search');\n\n    rows = resultsLoaded.length;\n\n    let title;\n\n    if (count > rows) {\n        title = t('{{rows}} of {{count}} hits', { pages, page, count,rows });\n    } else {\n        title = t('{{count}} hits', { pages, page, count, rows });\n    }\n    \n    const classes = useStyles()\n\n    return (\n        <header className={classes.root}>\n            <Typography className={classes.title}>{title}</Typography>\n        </header>\n    )\n\n}\n\nexport default ResultsHeader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return children\n}\n\n\nconst ResultsUploads = ({layout = \"list\", query = {}, results = {}, ...props}) => {\n    const { uploads, resultsLoaded, selected } = results\n    const { t, i18n } = useTranslation('upload');\n\n    if (query.q) {\n\n        return (\n            <ResultsLoader {...props}>\n                <ListLayout padding={2} title=\"Searching uploads\">\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                        )\n                    })}\n                </ListLayout>\n                <ResultsFooter {...props} />\n            </ResultsLoader>\n        )\n        \n    }\n\n    if (!uploads.length) {\n        return false\n    }\n\n    const count = uploads.length;\n    const title = t('{{count}} new uploads today', {count});\n\n    return (\n        <ListLayout padding={2}>\n            { uploads && uploads.map((model, index) => {\n                return (\n                    <DialogModel {...props} model={model} modelsSelected={selected} layout=\"list\" key={index} />\n                )\n            })}\n        </ListLayout>\n    )\n\n}\n\nexport default ResultsUploads;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getMediaSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst MediaResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData ||[]\n        } else {\n            items = formData && [formData] ||[]\n        }\n\n        const selected = items.map(({media, mediaId}) => { \n\n            if (media.source && media.sourceId) {\n                return media.source + \"/\" + media.sourceId\n            }\n\n            return mediaId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n        \n        const item = getDefaultFormState(itemSchema, {\n            mediaId: model.uniqueId,\n            media: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { uniqueId, sourceId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n            console.log('sourceId', sourceId)\n\n            const source = {\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }\n\n            console.log('source', source)\n\n            dispatch(getMediaSource({\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    // remove\n\n    const removeItem = ({uniqueId, source, sourceId}) => {\n        return formData.filter(item => item.mediaId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                mediaId: undefined,\n                media: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nexport default MediaResults","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getDocumentSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils;\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery\n}\n\nconst DocumentsResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData ||[]\n        } else {\n            items = formData && [formData] ||[]\n        }\n\n        console.log('ITEMS', items)\n\n        const selected = items.map(({reference, referenceId}) => { \n\n            const uniqueId = reference && reference.uniqueId\n\n            if (reference.source && reference.sourceId) {\n                return reference.source + \"/\" + reference.sourceId\n            }\n\n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n\n        \n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        console.log(\"NEW\", newFormData)\n        onChange && onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    const addModel = (model) => {\n\n        console.log(itemSchema)\n\n        const item = getDefaultFormState(itemSchema, {\n            referenceId: model.uniqueId,\n            reference: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = formData && formData.length && [].concat(formData, item) ||[item];\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { source, sourceId, uniqueId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n\n            console.log('sourceId', sourceId)\n\n            props.addDocumentSource({\n                ...model,\n                collectionId: query.collectionId\n            }, (model) => addModel(model))\n\n        }else if (source && uniqueId) {\n\n            delete model.uniqueId\n            \n            console.log('sourceId', sourceId)\n\n            dispatch(getDocumentSource({\n                ...model,\n                sourceId: uniqueId,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.referenceId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                referenceId: undefined,\n                reference: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )    \n\n}\n\nexport default DocumentsResults","import React, { useState, useEffect } from 'react';\nimport { getDefaultFormState } from '@kit-ui/schema/lib';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst SearchResultsDefault = ({schema, formData, onChange, query = {}, results = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData\n        } else {\n            items = [formData]\n        }\n\n        const selected = items.map(({uniqueId}) => { \n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n\n        const item = getDefaultFormState(itemSchema, {\n            uniqueId: model.uniqueId,\n            model: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        addModel(model)\n    }\n\n    // remove\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.uniqueId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                uniqueId: undefined,\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            results={{\n                ...results,\n                selected: modelsSelected\n            }}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        searchByUrl: state.searchByUrl,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(SearchResultsDefault);","import React from 'react';\n\nimport MediaResults from \"./MediaResults\"\nimport DocumentsResults from \"./DocumentsResults\"\nimport ResultsDefault from \"./SearchResultsDefault\"\n\nconst templates = {\n    \"default\": ResultsDefault,\n    \"media\": MediaResults,\n    \"youtube\": MediaResults,\n    \"vimeo\": MediaResults,\n    \"sketchfab\": MediaResults,\n    \"documents\": DocumentsResults,\n    \"ekultur\": DocumentsResults\n}\n\nconst SearchResults = ({query = {}, ...props}) => {\n\n    const ResultsTemplate = query.models && templates && templates[query.models] ||templates['default']\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {query.models}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            query={query} />\n    )\n\n    \n}\n\nexport default SearchResults","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\nimport _ from \"lodash\"\n\nconst SearchDialog = ({schema, formData, onChange, onClose, query = {}, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    console.log('query', query)\n\n    // user query\n\n    const [userQ, setUserQ] = useState(\"\")\n\n    const handleQuery = _.debounce((q, event) => {\n        setUserQ(q)\n    }, 500)\n\n    const handleReset = () => {\n        if (q) {\n            setUserQ(\"\")\n        } else if (onClose) {\n            onClose()\n        }\n    }\n\n    // set q\n\n    let q\n\n    if (query.q && userQ) {\n        q = query.q + \" \" + userQ.trim() + \"*\";\n    } else if (userQ) {\n        q = userQ.trim() + \"*\"\n    } else if (query.q) {\n        q = query.q\n    }\n\n    // sort\n\n    const sortOptions = [\n        \"updatedAt DESC\",\n        \"title\", \n    ]\n\n    const [sort, setSort] = useState(sortOptions[0])\n\n    const sortSettings =  {\n        \"name\": \"sort\",\n        \"value\": sort,\n        \"onChange\": (name, value) => setSort(value),\n        \"options\": sortOptions.map(value => {\n            return {\n                label: t(\"sort:\"+value || value),\n                value: value\n            }\n        })\n    }\n\n    // base query\n\n    query = {\n        ...query,\n        url: \"/dialog/search\",\n        start: 0,\n        rows: 20,\n        sort: sort,\n        status: \"NOT trash\",\n        fl: \"uniqueId,source,sourceId,documentType,mediaType,imageUrl,title,description,status,mediaWidth,mediaHeight,updatedAt,updatedByName\",\n        q: q,\n    }\n\n    // dm\n\n    const dmOwnerOptions = [\n        \"*\",\n        \"AHS\",\n        \"NF\", \n    ]\n\n    const [dmOwner, setDmOwner] = useState(dmOwnerOptions[0])\n\n    const dmOwnerSettings =  {\n        \"name\": \"dmOwner\",\n        \"value\": dmOwner,\n        \"onChange\": (name, value) => setDmOwner(value),\n        \"options\": dmOwnerOptions.map(value => {\n            return {\n                label: \"owner:\" + value,\n                value: value\n            }\n        })\n    }\n\n\n    const getMediaSource = (source) => {\n        const queryUrl = query.url + \"/\" + source + \"/\" + query.q\n\n        return {\n            title: \"media/\" + source,\n            layout: \"gallery\",\n            query: {\n                url: queryUrl,\n                models: source,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n\n    }\n\n    const getMediaType = (mediaType) => {\n        const queryUrl = query.url + \"/\" + mediaType + \"/\" + query.q\n\n        return {\n            title: \"media/\" + mediaType,\n            layout: mediaType.includes(\"audio\") && \"list\" ||\"gallery\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: queryUrl,\n                mediaType: mediaType\n            }\n        }\n\n    }\n\n    const getMediaSections = () => {\n\n        let mediaTypes = []\n\n        if (Array.isArray(query.mediaType)) {\n            mediaTypes = query.mediaType\n        } else if (query.mediaType) {\n            mediaTypes = [query.mediaType]\n        } else if (query.models === \"media\") {\n            mediaTypes = ['image*','video*','audio*']\n        }\n\n        return mediaTypes && mediaTypes.map(mediaType => {\n            if (mediaType === \"youtube\" || mediaType == \"vimeo\" || mediaType === \"sketchfab\") {\n                return getMediaSource(mediaType)\n            } else {\n                return getMediaType(mediaType)\n            }\n        })\n\n    }\n\n    // get documentSections\n\n    const getDocumentSource = (source) => {\n        return {\n            title: \"documents/\" + source,\n            layout: \"list\",\n            settings: [\n                dmOwnerSettings\n            ],\n            query: {\n                models: source,\n                url: query.url + \"/\" + source + \"/\" + query.q,\n                owner: dmOwner,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n        \n    }    \n\n    const getDocumentType = (documentType) => {\n        return {\n            title: \"documents/\" + documentType,\n            layout: \"list\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: query.url + \"/\" + documentType + \"/\" + query.q,\n                documentType: documentType\n            }\n        }\n    }\n\n    const getDocumentSections = () => {\n        let documentTypes = []\n\n        if (Array.isArray(query.documentType)) {\n            documentTypes = query.documentType\n        } else if (query.documentType) {\n            documentTypes = [query.documentType]\n        } else if (query.models === \"documents\") {\n            documentTypes = ['*']\n        }\n\n        return documentTypes && documentTypes.map(documentType => {\n            if (documentType === \"ekultur\") {\n                return getDocumentSource(documentType)\n            } else {\n                return getDocumentType(documentType)\n            }\n        })   \n\n    }\n\n\n    let sections = []\n\n    if (query.models === \"media\") {\n        sections = getMediaSections()\n    } else if (query.models === \"documents\") {\n        sections = getDocumentSections()\n    } else if (query.models === \"ekultur\") {\n        sections = [getDocumentSource(\"ekultur\")]\n    } else if (query.models) {\n        sections = [\n            {\n                title: query.models,\n                query: {\n                    ...query,\n                    models: query.models,\n                    url: query.url + \"/\" + query.models + \"/\" + query.q,\n                }\n            }\n        ]\n    }\n    // get tabs\n\n    const [tabIndex, setTabIndex] = useState(0)\n    const currentTab = sections[tabIndex]\n\n    // get search count\n\n    const getSearchCount = () => {\n        sections.map((section, index) => {\n            const { query } = section;\n\n            if (query.models === \"media\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n            if (query.models === \"documents\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n        })\n        \n    }\n\n    // setup tabs\n\n    const handleTab = (index) => {\n        setTabIndex(index)\n    }\n\n    const tabs = sections.map((section, index) => {\n        const { title, query } = section;\n\n        const currentSearch = searchByUrl && searchByUrl[query.url]\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n        \n        let count;\n\n        if (section.layout === \"uploads\") {\n            count = section.count\n        } else if (currentSearch && currentSearch.count) {\n            count = currentSearch && currentSearch.count\n        } else if (resultsLoaded && resultsLoaded.length && currentSearch.nextToken) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length + \"+\";\n        } else if (resultsLoaded && resultsLoaded.length) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length;\n        }\n\n        return {\n            title: t(title),\n            count: count,\n            onClick: () => handleTab(index)\n        }\n\n    })\n\n    const getSearch = () => {\n        currentTab && currentTab.query && dispatch(getQuery(currentTab.query))\n    }\n\n    useEffect(() => {\n        getSearch()\n    }, [tabIndex, query.q, query.sort, dmOwner])\n\n    // current query and search \n\n    const currentQuery = currentTab && currentTab.query\n    const currentSearch = currentQuery.url && searchByUrl && searchByUrl[currentQuery.url];\n\n    useEffect(() => {\n        getSearchCount()\n    }, [query.q])\n\n    // handle page\n\n    const handlePage = (page) => {\n        dispatch(getQuery({\n            ...currentQuery,\n            page: page,\n            start: currentQuery.rows * (page-1),\n            nextToken: currentSearch && currentSearch.nextToken\n        }))\n    }\n\n    // pages\n    \n    const [pages, setPages] = useState(0)\n    const [currentPage, setCurrentPage] = useState(0)\n    const [nextPage, setNextPage] = useState(0)\n\n    const getPages = () => {\n        const pages = Math.ceil(currentSearch.count/currentSearch.rows)\n        const page = Math.ceil((currentSearch.start+currentSearch.rows)/currentSearch.rows)\n\n        setPages(pages)\n        setCurrentPage(page)\n\n        let nextPage = 0\n\n        for (let p = page; p <= pages; p++) {\n            if (!currentSearch.resultsByPage[p]) {\n                nextPage = p\n                break\n            }\n        }    \n\n        setNextPage(nextPage)\n    \n    }\n\n    useEffect(() => {\n        currentSearch && currentSearch.count && getPages()\n    }, [currentSearch])\n\n    // search\n\n    let search = {\n        placeholder: \"Search\"\n    }\n\n    if (!search.placeholder) {\n\n        if (tabs.length === 1 && currentQuery.models === \"media\" && currentQuery.mediaType) {\n            search.placeholder = t(\"Search media/\" + currentQuery.mediaType)\n        } else if (tabs.length === 1 && currentQuery.models === \"ekultur\" ) {\n            search.placeholder = t(\"Search ekultur\")\n        } else if (query.models === \"media\") {\n            search.placeholder = t(\"Search media\")\n        } else if (query.models === \"documents\") {\n            search.placeholder = t(\"Search documents\")\n        } else {\n            search.placeholder = t(\"Search models\")\n        }\n\n    }\n\n    return (\n        <DialogBase>\n            <DialogSection>\n                <DialogSearch \n                    {...search} \n                    expanded={true}\n                    onChange={handleQuery}\n                    onReset={handleReset} />\n                <DialogHeader \n                    tabs={tabs}\n                    tabIndex={tabIndex}\n                    settings={currentTab && currentTab.settings} />\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={currentQuery}\n                    layout={currentTab && currentTab.layout}\n                    search={currentSearch}\n                    results={{\n                        ...currentSearch,\n                        pages: pages,\n                        page: currentPage,\n                        nextPage: nextPage\n                    }}\n                    onPage={handlePage}                    \n                    />\n            </DialogSection>\n        </DialogBase>        \n    )\n\n}\n\n\nexport default SearchDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport SearchDialog from \"./SearchDialog\"\n\nconst FavouritesDialog = ({query, favourites, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const search = {\n        placeholder: t('Search favorites')\n    }\n\n    const getFavouritesQuery = (uniqueIds = []) => {\n\n        if (uniqueIds.length) {\n            return {\n                ...query,\n                q: \"uniqueId:\" + uniqueIds.join(\" OR \")\n            }\n        } else {\n            return {\n                ...query,\n                q: \"uniqueId:false\"\n            }\n\n        }\n\n        return query\n\n    }\n\n    if (query.models && favourites[query.models]) {\n        query = getFavouritesQuery(favourites[query.models])\n    }\n\n    return (\n        <DialogBase>\n            <SearchDialog query={query} search={search} {...props} />\n        </DialogBase>\n    )\n\n}\n\nFavouritesDialog.defaultProps = {\n    favourites: {\n        media: [],\n        documents: []\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(FavouritesDialog);","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst DialogUpload = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nDialogUpload.propTypes = {\n    onUpload: PropTypes.func\n}\n\nDialogUpload.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default DialogUpload","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\nimport DialogUpload from \"./DialogUpload\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\n\nconst UploadDialog = ({schema, formData, onChange, onClose, query, upload, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const uploadByUrl = {}\n\n    const [q, setQ] = useState(\"\")\n\n    const handleQuery = (q) => {\n        setQ(q)\n    }\n\n    const handleReset = () => {\n        if (q) {\n            setQ(\"\")\n        } else if (onClose) {\n            onClose()\n        }\n    }\n\n    const search = {\n        placeholder: t(\"Search uploads\"),\n    }\n\n    // handle upload\n\n    const [uploadSession, setUploadSession] = useState(false)\n\n    const handleUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: query.collectionId,\n            status: \"upload\"\n        }\n\n        props.getUpload({id: upload.id, session: uploadSession, acceptedFiles, uploadData})\n\n        setUploadSession(true)\n\n    }\n    \n    // current uploads \n\n    const currentUpload = upload.id && uploadByUrl && uploadByUrl[upload.id];\n    const uploadModels = currentUpload && currentUpload.models \n\n    const uploadResults = uploadModels && q && uploadModels.filter((model) => { \n        const { title } = model\n\n        if (title.includes(q)) {\n            return true\n        }\n\n        return false\n    }) ||uploadModels\n\n\n    let placeholder = t(\"Search uploads\")\n\n    const tabs = uploadResults && [\n        {\n            title: t(\"media\"),\n            count: uploadResults.length             \n        }\n    ]\n\n    return (\n        <DialogBase>\n           <DialogSection>\n                <DialogSearch {...search} \n                    placeholder={placeholder}\n                    expanded={uploadResults && true}\n                    onChange={handleQuery}\n                    onReset={handleReset}\n                    \n                />\n                <DialogHeader tabs={tabs}></DialogHeader>\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={query}\n                    layout=\"uploads\"\n                    results={{\n                        ...currentUpload,\n                        uploads: uploadResults ||[],\n//                        resultsLoaded: currentUpload && currentUpload.models,\n//                        pages: pages,\n//                        page: currentPage,\n//                        nextPage: nextPage\n                    }}\n                />\n                <DialogUpload \n                    {...upload} \n                    currentUpload={currentUpload} expanded={!currentUpload} onUpload={handleUpload} onCancel={handleReset}></DialogUpload>\n            </DialogSection>\n       </DialogBase>        \n    )\n\n}\n\nUploadDialog.defaultProps = {\n    upload: {\n        id: \"/dialog/upload\",\n        accept: [\n            \"image/*\",\n        ],\n    },\n    query: {\n//        mediaType: \"*\"\n    }\n}\n\nexport default UploadDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogFooter from \"./DialogFooter\"\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport FavouriteIcon from '@material-ui/icons/Favorite';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport UploadDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Badge from '@material-ui/core/Badge';\n\n\nimport SearchDialog from \"./SearchDialog\"\nimport FavoritesDialog from './FavouritesDialog';\nimport UploadDialog from \"./UploadDialog\"\n\nconst MediaDialog = ({query, favourites, uploadByUrl, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const [template, setTemplate] = useState(\"search\")\n\n    // get mediaTypes\n\n    let mediaTypes = []\n\n    if (Array.isArray(query.mediaType)) {\n        mediaTypes = query.mediaType\n    } else if (query.mediaType) {\n        mediaTypes = [query.mediaType]\n    } else if (query.models === \"media\") {\n        mediaTypes = ['image*','video*','audio*']\n    }\n\n    // get upload\n\n    let upload = {\n        id: \"/dialog/upload\",\n        accept: []\n    }\n\n    mediaTypes && mediaTypes.map(mediaType => {\n\n        if (mediaType.includes('image')) {\n            upload.accept.push('image/*')\n        }\n    \n        if (mediaType.includes(\"video\")) {\n            upload.accept.push('video/*')\n        }\n    \n        if (mediaType.includes(\"audio\")) {\n            upload.accept.push('audio/*')\n        }\n    \n    })    \n\n    const mediaFavourites = favourites && favourites[\"media\"] && favourites[\"media\"].length\n    const mediaUploads = uploadByUrl && uploadByUrl[upload.id] && uploadByUrl[upload.id].models\n\n    const FavouriteBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaFavourites && true} color=\"primary\">\n                <FavouriteIcon />\n            </Badge>\n        )\n    }\n\n    const UploadBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaUploads && true} color=\"primary\">\n                { mediaUploads && <UploadDoneIcon /> || <UploadIcon /> }\n            </Badge>\n        )\n    }\n\n    const menu = [\n        {\n            label: t(\"Search\"),\n            icon: <SearchIcon />,\n            onClick: () => setTemplate('search')\n        },\n        {\n            label: t(\"Favorites\"),\n            icon: <FavouriteBadge />,\n            onClick: () => setTemplate('favourites')\n        },\n        {\n            label: t(\"Upload\"),\n            icon: <UploadBadge />,\n            onClick: () => setTemplate('upload')\n        }\n    ]\n\n    return (\n        <DialogBase>\n            <DialogFooter menu={menu} />\n            { template === \"search\" && <SearchDialog query={query} {...props} /> }\n            { template === \"favourites\" && <FavoritesDialog query={query} favourites={favourites} {...props} /> }\n            { template === \"upload\" && <UploadDialog upload={upload} query={query} {...props} /> }\n        </DialogBase>\n    )\n\n}\n\nMediaDialog.defaultProps = {\n    query: {\n        models: \"media\",\n        mediaType: \"*\"\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(MediaDialog);","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SearchDialog from \"./SearchDialog\"\n\nconst DocumentsDialog = ({schema, formData, ...props}) => {\n\n    return (\n        <SearchDialog schema={schema} formData={formData} {...props} />\n    )\n\n}\n\nDocumentsDialog.defaultProps = {\n    query: {\n        models: \"documents\",\n        documentType: \"*\"\n    }\n}\n\nexport default DocumentsDialog","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from '../redux/app';\n\nimport MediaDialog from \"./MediaDialog\"\nimport DocumentsDialog from \"./DocumentsDialog\"\nimport SearchDialog from \"./SearchDialog\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst templates = {\n    \"media\": MediaDialog,\n    \"documents\": DocumentsDialog,\n    \"search\": SearchDialog\n}\n\nconst EditorDialog = (props) => {\n    const dispatch = useDispatch()\n\n    console.log(\"DIALOG\", props)\n\n    \n\n    const { schema = {}, uiSchema = {}, onChange, onClose } = props;\n\n    const [formData, setFormData] = useState(props.formData)\n\n    useEffect(() => {\n        setFormData(props.formData)\n    }, [props.formData])\n\n    const _onChange = (formData) => {\n        setFormData(formData)\n        onChange(formData);\n    }\n\n    const app = useSelector(state => state.app)\n\n    let itemSchema;\n\n    if (schema && schema.type === \"array\") {\n        itemSchema = schema.items\n    } else if (schema) {\n        itemSchema = schema\n    }\n\n    const getReferenceQuery = (query) => {\n        const documentSchema = itemSchema && itemSchema.properties && itemSchema.properties.reference\n        const documentType = documentSchema && documentSchema.properties.documentType\n    \n        query.documentType = \"*\"\n    \n        if (documentType && documentType.enum) {\n            query.documentType = documentType.enum\n        }\n    \n        if (documentType && documentType.default) {\n            query.documentType = documentType.default\n        }\n\n        return {\n            ...query,\n            models: \"documents\"\n        } \n        \n    }\n\n    const getMediaQuery = (query) => {\n        const mediaSchema = itemSchema && itemSchema.properties && itemSchema.properties.media\n        const mediaType = mediaSchema && mediaSchema.properties.mediaType\n    \n//        query.mediaType = \"*\"\n\n        if (mediaType && mediaType.enum) {\n            query.mediaType = mediaType.enum\n        }\n    \n        if (mediaType && mediaType.default) {\n            query.mediaType = mediaType.default\n        }\n\n        return {\n            ...query,\n            models: \"media\"\n        }\n        \n    }\n\n    const getQuery = () => {\n\n        const uiOptions = uiSchema && getUiOptions(uiSchema)\n\n        const { dialog } = uiOptions\n\n        if (dialog && dialog.query) {\n            return {\n                ...dialog.query,\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            }\n        }\n\n\n        if (itemSchema.properties && itemSchema.properties.referenceId) {\n            return getReferenceQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        if (itemSchema.properties && itemSchema.properties.mediaId) {\n            return getMediaQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        return {\n        }\n\n    }\n\n    const query = getQuery()\n    const template = query.models;\n\n    const DialogTemplate = template && templates[template]; // ||templates[\"search\"]\n\n    if (!DialogTemplate) {\n        return (\n            <div>\n                Missing template for {JSON.stringify(props)}.\n                <button onClick={onClose}>Close</button>\n            </div>\n        )\n    }\n\n    return (\n        <DialogTemplate query={query} schema={schema} formData={formData} onChange={_onChange} onClose={onClose} /> \n    )\n\n}\n\nexport default EditorDialog","import React from \"react\"\n\nimport Dialog from \"../Dialog/Dialog\"\n\n\nconst EditorDialog = (props) => {\n\n    const { expanded, schema = {}, uiSchema = {}, formData = {}, formContext, onChange, onClose } = props\n\n    if (!expanded) {\n        return false\n    }\n\n    return <Dialog {...props} />\n\n    const _addImage = () => {\n        onChange && onChange({\n            mediaId: 1,\n            media: {\n                mediaType: \"image\",\n                imageUrl: \"https://akamai.vgc.no/drfront/images/2020/09/22/c=144,24,404,232;w=362;h=208;557008.jpg\"\n            }\n        })\n    }\n\n    return (\n        <div>\n            {JSON.stringify(schema)}\n            {JSON.stringify(formData)}\n\n            <button onClick={() => _addImage()}>Add img</button>\n\n            <button onClick={() => onClose()}>Close</button>\n\n        </div>\n    )\n\n\n}\n\nexport default EditorDialog","import React, { useRef, useState, useEffect } from \"react\"\nimport { SchemaBase } from \"@kit-ui/schema\"\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout } from '../redux/app';\nimport { receiveEdit, receiveCurrentId, requestDialog, receiveDialog } from '../redux/editor';\n\nimport registry from \"../components/registry\"\n\nimport EditorDialog from \"./EditorDialog\"\nimport EditorPreview from \"./EditorPreview\"\n\nconst Editor = ({schema, uiSchema, onSubmit, ...props}) => {\n\n    let history = useHistory();\n\n    const editorRef = useRef(null)\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getLayout(\"editor\"))\n    }, [])\n\n    const editor = useSelector(state => state.editor)\n\n    const { formData, currentId } = editor\n\n//    const formData = useSelector(state => state.editor.formData)\n//    const currentId = useSelector(state => state.editor.currentId)\n\n    const onChange = ({formData}) => {\n        console.log('onChange', formData)\n        dispatch(receiveEdit(formData))\n\n        //        setFormData(formData)\n    }\n\n    const [languages, setLanguages] = useState([\"en\"])\n    const [currentLocale, setCurrentLocale] = useState(null)\n\n    const _onLocale = (locale) => {\n\n    }\n\n    // hashId toggling\n\n    const hashId = props.location.hash && props.location.hash.replace('#','') ||null\n\n    useEffect(() => {\n        dispatch(receiveCurrentId({currentId: hashId}))\n    }, [hashId])\n\n    const _onCurrentId = (currentId) => {\n        console.log('editor:onCurrentId', currentId);\n        dispatch(receiveCurrentId({currentId: currentId}))\n        const hashUrl = props.location.pathname + \"#\" + currentId; \n        history.replace(hashUrl);\n\n    }\n\n    const _onToggle = ({id, ...props}) => {\n        console.log('onToggle', props)\n\n        let parentId = id.split('_');\n        parentId.pop();\n        parentId = parentId.join('_');\n        \n        let expandId = undefined\n\n        if (id && currentId && currentId.startsWith(id)) {\n            expandId = parentId;            \n        } else {\n            expandId = id;\n        }\n\n        _onCurrentId(expandId)\n\n    }\n    \n    const _onSelect = (props) => {\n        console.log(\"select\", props)\n    }\n\n    const _onExpand = ({id}) => {\n        console.log('onExpand', props)\n        _onCurrentId(id)\n    }\n\n    const _onCollapse = ({id}) => {\n        console.log('onCollapse', props)\n        _onToggle({id})\n    }\n\n//    const dialog = useSelector(state => state.editor.dialog)\n    const [dialog, setDialog] = useState({})\n\n    const _onDialog = (props) => {\n\n        const {id, formData, schema, uiSchema, onChange} = props\n\n        console.log(\"Editor:onDialog\", props)\n\n        if (dialog && dialog.id) {\n//            dispatch(requestDialog())\n            setDialog({})\n        } else {\n            setDialog({\n                id: id,\n                formData: formData,\n                schema: schema,\n                uiSchema: uiSchema,\n                onChange: onChange,\n                expanded: true\n            })\n            /*\n            dispatch(receiveDialog({\n                ...props,\n                expanded: true\n            }))\n            */\n        }\n\n    }\n\n    // formContext\n\n    const formContext = {\n        isLoading: editor.isLoading,\n        isSaving: editor.isSaving,\n        parents: editor.parents,\n\n        languages: languages,\n        currentLocale: currentLocale,\n        onLocale: _onLocale,\n\n        currentId: currentId,\n        onToggle: _onToggle,\n\n        onExpand: _onExpand,\n        onCollapse: _onCollapse,\n\n        onEdit: _onExpand,\n        onSave: _onCollapse,\n\n        onSubmit: (status) => onSubmit && onSubmit({formData: {...formData, status: status ||formData.status}}), // (e) => editorRef && editorRef.current && editorRef.current.onSubmit(e),\n\n        /*\n        preview: {\n            template: props.preview && props.preview.template ||EditorPreview,\n            formData: formData,\n            formContext: {\n                currentId,\n                onToggle: _onToggle\n            }\n        },\n        */\n\n        ...props.formContext,\n\n        onDialog: _onDialog,\n\n        sidebar: {\n            ...dialog,\n            onClose: () => _onDialog({}),\n            template: EditorDialog\n        },\n\n    }    \n\n    return (\n        <SchemaBase\n            {...registry}\n            ref={editorRef}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={onChange}\n            onSubmit={onSubmit}\n            />\n    )\n\n\n}\n\nEditor.defaultProps = {\n    schema: {},\n    formData: {},\n    formContext: {}\n}\n\nexport default Editor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout } from '../redux/app';\nimport { getEditor } from '../redux/editor';\n\nimport { Loader } from \"../components/\"\nimport { EditorIcon } from \"@kit-ui/icons\"\nimport icons from \"../app/icons\"\n\nconst EditorLoader = ({formData = {}, schema, uiSchema, children, ...props}) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const editor = useSelector(state => state.editor)\n    const uniqueId = editor.formData && editor.formData.uniqueId\n\n    const appIcon = icons[app.icon]\n\n    const title = formData.title ||app && app.title || \"Editor\"\n    const description = app.isLoading && \"Loading app ...\" || editor.isLoading && \"Loading editor ...\" ||!schema && \"Loading schema ...\" ||!uiSchema && \"Loading uiSchema ...\" ||\"Editor loaded\"\n    const isLoading = app.isLoading || finder.isLoading ||!finder.menuById ||editor.isLoading || false\n    const icon = app.isLoading && appIcon || finder.isLoading && appIcon ||<EditorIcon color={app.theme.palette.primary.main} />\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getEditor({pathname, uniqueId, schema, uiSchema}))\n    }, [pathname, uniqueId, schema, uiSchema])\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={icon}\n            title={title}\n            description={description}>\n                {children}\n        </Loader>\n    )\n\n}\n\nEditorLoader.defaultProps = {\n}\n\nexport default EditorLoader","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { PreviewBase, PreviewOptions, PreviewJSON } from \"../components\"\nimport { PreviewMedia } from \"@kit-ui/admin\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nconst MediaPreview = (props) => {\n    const editor = useSelector(state => state.editor)\n\n    const { formData } = editor\n    const { mediaType } = formData\n\n    const modelType = mediaType && \"media/\"+mediaType \n    const model = schemasByName && schemasByName[modelType]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    let previewOptions = [\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{formData}</PreviewJSON> \n        },\n        {\n            \"title\": \"uiSchema\",\n            \"value\": \"uiSchema\",\n            \"template\": () => <PreviewJSON>{uiSchema}</PreviewJSON> \n        },\n        {\n            \"title\": \"schema\",\n            \"value\": \"schema\",\n            \"template\": () => <PreviewJSON>{schema}</PreviewJSON> \n        },\n    ]    \n\n    if (mediaType) {\n\n        previewOptions = [\n            {\n//                ...model.preview,\n                template: () => <PreviewMedia {...formData}></PreviewMedia>,\n                title: \"Preview\",\n                value: \"preview\"\n            },\n            ...previewOptions\n        ]\n            \n    }\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n    \n    return (\n\n        <PreviewBase>\n            { PreviewTemplate && <PreviewTemplate formData={formData} /> }\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n\n    )\n\n}\n\nMediaPreview.defaultProps = {\n}\n\nexport default MediaPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { editModel, saveModel } from '../redux/editor';\n\nimport Editor from \"../Editor/Editor\"\nimport EditorLoader from \"../Editor/EditorLoader\"\n\nimport MediaPreview from \"./MediaPreview\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst MediaEditor = (props) => {\n    const { uniqueId } = props.match.params\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        uniqueId && dispatch(editModel({modelName: \"media\", uniqueId: uniqueId}))\n    }, [uniqueId])\n\n\n    // set formContext\n\n    const _onBack = () => {\n        props.history.goBack()\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    const formContext = {\n        isLoading: editor && editor.isLoading,\n        isSaving: editor && editor.isSaving,\n        onBack: _onBack,\n        onSelect: _onSelect,\n        preview: {\n            template: MediaPreview\n        }\n    }\n\n    // get schemas based on documentType\n\n    const mediaType = uniqueId && formData && formData.mediaType\n    const mediaModel = mediaType && \"media/\" + mediaType\n    const model = schemasByName && schemasByName[mediaModel]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    // submit\n\n    const collectionId = useSelector(state => state.app.collectionId)\n\n    const _onSubmit = ({formData}) => {\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n        \n        formData = {\n            ...formData,\n            ...uiPreview,\n            modelName: \"media\",\n            collectionId: collectionId,\n            schemaId: 1,\n            locale: \"no\",\n        }\n\n        dispatch(saveModel(formData))\n    }\n\n\n    return (\n        <EditorLoader formData={formData} schema={schema} uiSchema={uiSchema} {...props}>\n            <Editor {...props}\n                schema={schema}\n                uiSchema={uiSchema}\n                formData={formData}\n                formContext={formContext}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nMediaEditor.defaultProps = {\n}\n\nexport default MediaEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { PreviewBase, PreviewOptions, PreviewJSON } from \"../components\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nconst DocumentPreview = (props) => {\n    const editor = useSelector(state => state.editor)\n\n    const { formData } = editor\n    const { documentType } = formData\n\n    const modelType = documentType && \"documents/\"+documentType \n    const model = schemasByName && schemasByName[modelType]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    let previewOptions = [\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{formData}</PreviewJSON> \n        },\n        {\n            \"title\": \"uiSchema\",\n            \"value\": \"uiSchema\",\n            \"template\": () => <PreviewJSON>{uiSchema}</PreviewJSON> \n        },\n        {\n            \"title\": \"schema\",\n            \"value\": \"schema\",\n            \"template\": () => <PreviewJSON>{schema}</PreviewJSON> \n        },\n    ]    \n\n    if (model.preview && model.preview.template) {\n\n        previewOptions = [\n            {\n                ...model.preview,\n                title: \"Preview\",\n                value: \"preview\"\n            },\n            ...previewOptions\n        ]\n            \n    }\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n    \n    return (\n\n        <PreviewBase>\n            <PreviewTemplate formData={formData} />\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n\n    )\n\n}\n\nDocumentPreview.defaultProps = {\n}\n\nexport default DocumentPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { editModel, saveModel } from '../redux/editor';\nimport qs from 'query-string';\n\nimport Editor from \"../Editor/Editor\"\nimport EditorLoader from \"../Editor/EditorLoader\"\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst DocumentEditor = (props) => {\n    const { uniqueId, documentType } = props.match.params\n    const pathname = props.location.pathname\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    // create new\n\n    useEffect(() => {\n        sq.documentType && dispatch(editModel({\n            collectionId: app.collectionId,\n            schemaId: 1,\n            locale: \"no\",\n            parentId: sq.parentId ||null,\n            documentType: sq.documentType,\n            content: sq.content && JSON.parse(sq.content) || {}\n        }))\n    }, [sq.documentType])\n\n    // load uniqueId\n\n    useEffect(() => {\n        uniqueId && dispatch(editModel({uniqueId: uniqueId}))\n    }, [uniqueId])\n\n    // uniqueId has changed, update location\n\n    const _onHistory = (uniqueId) => {\n\n        const { path, params } = props.match;\n        const { hash, search } = props.location;\n        \n        let location = path;\n    \n        if (hash) {\n            location = location + hash;\n        }\n    \n        for (let key in params) {\n      \n            let value;\n          \n            if (key === \"uniqueId\") {\n                value = uniqueId\n            } else if (key === \"new\") {\n//                value = uniqueId + \"/edit\"\n            } else {\n                value = params[key];\n            }\n\n            if (value) {\n                location = location.replace(':'+key+\"*\", value);\n                location = location.replace(':'+key, value);\n            } else {\n                location = location.replace(':'+key+\"*\", '');\n                location = location.replace(':'+key, '');\n            }\n\n            location = location.replace(\"//\", \"/\");\n\n        }\n\n        location = location.replace(\"new\", uniqueId + \"/edit\");\n        props.history.replace(location);\n\n    }\n\n    // set formContext\n\n    const _onBack = () => {\n        props.history.goBack()\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const _onEditReference = ({id, formData: { referenceId, reference: { documentType } }}) => {\n\n        const referenceUrl = app.root + \"/\" + referenceId + \"/edit/#\" + id\n\n        props.history.push({\n            pathname: referenceUrl,\n            search: \"?backUrl=\" + props.location.pathname + \"&backId=\" + id\n        })\n        \n    }\n\n    const formContext = {\n        id: formData && formData.id,\n        uniqueId: formData && formData.uniqueId,\n        collectionId: formData && formData.collectionId,\n        languages: app && app.languages,\n        onBack: _onBack,\n        onSelect: _onSelect,\n        onEditReference: _onEditReference,\n        preview: {\n            template: DocumentPreview\n        }\n    }\n\n    // get schemas based on documentType\n\n//    const modelType = uniqueId && formData.documentType ||documentType\n    const modelType = formData.documentType // ||documentType\n    const documentModel = modelType && \"documents/\"+modelType \n    const model = schemasByName && schemasByName[documentModel]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    // submit\n\n    const collectionId = useSelector(state => state.app.collectionId)\n\n    const _onSubmit = ({formData}) => {\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n        \n        formData = {\n            ...formData,\n            ...uiPreview,\n            collectionId: collectionId,\n            schemaId: 1,\n            locale: \"no\",\n        }\n\n        dispatch(saveModel(formData))\n\n        if (!uniqueId && formData.uniqueId) {\n            _onHistory(formData.uniqueId)\n        }\n\n    }\n\n\n    return (\n        <EditorLoader formData={formData} schema={schema} uiSchema={uiSchema} {...props}>\n            <Editor {...props}\n                schema={schema}\n                uiSchema={uiSchema}\n                formData={formData}\n                formContext={formContext}\n                preview={model && model.preview}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nDocumentEditor.defaultProps = {\n}\n\nexport default DocumentEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout } from '../redux/app';\nimport { getModel } from '../redux/modelsById';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport FinderLayout from \"./FinderLayout\"\nimport FinderQuery from \"./FinderQuery\"\nimport View from \"./View\"\n\nimport FinderModel from \"./FinderModel\"\nimport { GridView, GridModule } from \"../components\"\n\n\nconst Finder = (props) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const modelsById = useSelector(state => state.modelsById)\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    const { uniqueId } = props.match.params\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery({\n            url: pathname,\n            models: \"documents\",\n            collectionId: app && app.collectionId,\n            uniqueId: uniqueId,\n            fl: \"id,title,uniqueId,parentId\"\n        }))\n\n    }, [uniqueId])\n\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n    const id = uniqueModel && uniqueModel.id\n\n    const parentId = uniqueModel && uniqueModel.parentId\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getLayout(\"finder\"))\n    }, [])\n\n    const parentQuery = {\n        models: \"documents\",\n        uniqueId: parentId,\n    };\n\n    const q1 = {\n        url: pathname + \"/parents\",\n        models: \"documents\",\n        collectionId: app && app.collectionId,\n        q: \"id:\"+parentId,\n        fl: \"id,title,uniqueId,parentId\"\n    };\n\n    const q2 = {\n        url: pathname + \"/children\",\n        models: \"documents\",\n        collectionId: app && app.collectionId,\n        parentId: id,\n        fl: \"id,title,uniqueId,parentId\"\n    };\n\n    useEffect(() => {\n        parentId && dispatch(getQuery(q1))\n        id && dispatch(getQuery(q2))\n    }, [parentId])\n\n\n    const parents = searchByUrl && searchByUrl[q1.url] ||{}\n    const parentUniqueId = parents && parents.resultsLoaded && parents.resultsLoaded[0]\n    const parentModel = parentUniqueId && modelsById && modelsById[parentUniqueId]\n\n    const children = searchByUrl && searchByUrl[q2.url] ||{}\n    \n    return (\n        <FinderLayout parents={[...finder.parents, uniqueModel]}>\n\n\n            {parentModel && \n            \n                <GridView>\n                    <FinderModel {...props} model={parentModel}>\n                        <GridModule />\n                    </FinderModel>\n                </GridView>\n            \n            }\n            \n\n\n            <GridView>\n                <FinderModel {...props} model={uniqueModel}>\n                    <GridModule />\n                </FinderModel>\n            </GridView>\n\n            <View {...props} {...children} view=\"list\" title=\"Barn\" />\n        </FinderLayout>\n    )\n\n    return (\n        <FinderQuery {...props} />\n    )\n\n}\n\nFinder.defaultProps = {\n}\n\nexport default Finder","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Finder from \"../Finder/Finder\"\nimport MediaEditor from \"../Finder/MediaEditor\"\n\nimport DocumentEditor from \"../Finder/DocumentEditor\"\nimport DocumentPreview from \"../Finder/DocumentPreview\"\nimport DocumentLinks from \"../Finder/DocumentLinks\"\n\nconst AdminRoutes = (props) => {\n\n    return (\n        <Switch>\n            <Route path=\"/:appRoot/media/:parents*/:uniqueId/edit\" component={ MediaEditor } />\n            <Route path=\"/:appRoot/:parents*/new\" component={ DocumentEditor } />\n            <Route path=\"/:appRoot/:parents*/:uniqueId/edit\" component={ DocumentEditor } />\n            <Route path=\"/:appRoot/:parents*/:uniqueId/view\" component={ DocumentPreview } />\n            <Route path=\"/:appRoot/:parents*/:uniqueId/link\" component={ DocumentLinks } />\n            <Route path=\"/:appRoot/:parents*\" component={ Finder } />\n            <Route path=\"/:appRoot\" component={ Finder } />\n        </Switch>\n      )\n}\n\nexport default AdminRoutes","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        \"&[role=tree]\": {\n            marginLeft: theme.spacing(3)\n        },\n        \"& > li + li\": {\n            marginTop: theme.spacing(.5)\n        },\n        \"& > li > ul > li + li\": {\n            marginTop: 0\n        },\n        \"&[role=group] > li + li\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n}));\n\nconst MenuList = ({className, role = \"tree\", children}) => {\n    const classes = useStyles()\n\n    return (\n        <ul className={className || classes.root} role={role}>\n            { children }\n        </ul>\n    )\n}\n\nexport default MenuList","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        display: \"block\",\n        width: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        left: \"-24px\",\n        padding: 0,\n        margin: 0,\n        opacity: 0.5\n    },\n    toggleCollapsed: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\"\n    },\n    toggleExpanded: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(0deg)\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        opacity: 0.5\n    }\n}));\n\nconst MenuToggle = ({expanded = false, onClick}) => {\n    const classes = useStyles();\n    const toggleIcon = expanded && classes.toggleExpanded || classes.toggleCollapsed\n\n    return (\n        <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded} size=\"small\">\n            <ToggleIcon className={toggleIcon} />\n        </IconButton>\n    )\n}\n\nconst MenuItem = ({className, role = \"treeitem\", count, expanded = false, onToggle, children}) => {\n    const classes = useStyles();\n\n    return (\n        <li className={className || classes.root} role={role} aria-expanded={expanded}>\n            { onToggle && <MenuToggle expanded={expanded} onClick={onToggle} /> }\n            { children }\n        </li>\n    )\n}\n\nexport default MenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        }\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        }\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n        paddingLeft: \"12px\",\n        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst MenuLink = ({className, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    return (\n        <ButtonBase color={color} className={className ||classes.root} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon} aria-selected={selected}>{icon}</Icon> }\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            { count && <Typography component=\"i\" align=\"right\" nowrap=\"true\" className={classes.count}>{count}</Typography> }\n            { children }\n        </ButtonBase>\n    )\n}\n\nexport default MenuLink","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"12px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        },\n        marginBottom: theme.spacing(1.5),\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        }\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n//        paddingLeft: \"12px\",\n//        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst MenuLink = ({className, url, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    if (!url) {\n        return (\n            <div color={color} className={className ||classes.root} aria-selected={selected}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            </div>\n        )\n    }\n\n    return (\n        <ButtonBase color={color} className={className ||classes.root} aria-selected={selected} onClick={onClick}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n        </ButtonBase>\n    )\n\n    return (\n        <ButtonBase color={color} className={className ||classes.root} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon} aria-selected={selected}>{icon}</Icon> }\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            { count && <Typography component=\"i\" align=\"right\" nowrap=\"true\" className={classes.count}>{count}</Typography> }\n            { children }\n        </ButtonBase>\n    )\n}\n\nexport default MenuLink","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavMenuList from \"./NavMenuList\"\nimport NavMenuItem from \"./NavMenuItem\"\nimport NavMenuLink from \"./NavMenuLink\"\nimport NavMenuLabel from \"./NavMenuLabel\"\n\nconst NavMenuCalendar = () => { return <p>cal</p>}\n\n/** Menu component. Takes */\n\nconst NavMenu = ({className, icons = {}, menu = [], menuByUrl, currentUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLink selected={selected} url={url} icon={icon} label={label ||title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderLabel = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLabel selected={selected} url={url} icon={icon} label={label ||title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        if (item.url && currentUrl && item.url === currentUrl) {\n            item = {\n                ...item,\n                expanded: true,\n                selected: true\n            }\n        }\n\n        if (item.url && currentUrl && currentUrl.startsWith(item.url)) {\n            item = {\n                ...item,\n                expanded: true,\n            }\n        }\n\n        const { role, calendar, children, hidden, selected, expanded } = item;\n\n        if (role === \"section\") {\n\n            return (\n                <NavMenuItem key={index} role=\"group\">\n                    { renderLabel(item) }\n\n                    { children && \n                        <NavMenuList role=\"group\">\n                        { children && children.map((item, index) => renderItem({...item, role: ''}, index))}\n                        </NavMenuList>\n                    }\n\n                </NavMenuItem>\n            )\n\n            \n        }\n\n        if (hidden) {\n            return (\n                <NavMenuItem key={index} role={role}>\n                    <NavMenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </NavMenuList>\n                </NavMenuItem>\n            )\n        }\n\n        if (calendar) {\n            return (\n                <NavMenuItem key={index} role={role ||\"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { expanded &&\n                        <NavMenuCalendar {...calendar} /> \n                    }\n                </NavMenuItem>\n            )\n\n        }\n\n        if (children && children.length) {\n            return (\n                <NavMenuItem key={index} role={role ||\"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <NavMenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </NavMenuList>\n                    }\n                </NavMenuItem>\n            )\n        }\n\n        return (\n            <NavMenuItem {...item} key={index} role={role ||\"none\"}>\n                { renderLink(item) }\n            </NavMenuItem>\n        )\n\n    }\n\n    if (!menu ||!menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <NavMenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </NavMenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","\nimport React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport { AppBase, AppHeader, AppSidebar, AppContent, AppBody } from \"@kit-ui/admin\"\nimport { NavAction, NavCalendar } from \"@kit-ui/admin\"\n\nimport NavMenu from \"../components/NavMenu/NavMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    app: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n\n        display: \"flex\",\n        flexDirection: \"column\"\n\n    },\n    header: {\n        position: \"absolute\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0,\n            \n            \"& + *\": {\n                marginTop: theme.spacing(8),\n            }\n        },\n    },\n    body: {\n        position: \"relative\",\n        transition: \".125s ease-out\",\n        display: \"flex\",\n\n        flexBasis: 0,\n        flexGrow: 1\n\n    },\n    sidebar: {\n        width: props => { return props.sidebar.width },\n        marginLeft: props => { return props.sidebar.width * -1 },\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            [theme.breakpoints.up('sm')]: {\n                marginLeft: 0,\n            }\n        },\n        \"&[aria-expanded=true] + *\":  {\n            [theme.breakpoints.up('sm')]: {\n //               marginLeft: props => { return props.sidebar.width },\n            }\n        },\n    },\n    content: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\"\n    },\n    navAction: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    },\n\n    navCalendar: {\n        margin: theme.spacing(2,.5)\n    },\n\n    navMenu: {\n//        margin: theme.spacing(2)\n    },\n\n}));\n\n/** AppLayout is a wrapper for all apps using AppHeader */\n\nconst AppLayout = ({\n    app = {},\n    theme = undefined, \n    header = {}, \n    sidebar = {\n        width: 224\n    }, \n    search = undefined, \n    subview = undefined,\n    calendar = undefined,\n    primaryAction = undefined,\n    icons = {},\n    menu, \n    menuByUrl = {},\n    currentUrl = undefined,\n    onSelect,\n    onToggle,\n    children\n}) => {\n\n    if (search && app.search) {\n        search = {\n            ...app.search,\n            ...search\n        }\n    }\n     \n\n    header = {\n        title: app.title,\n        subtitle: app.subtitle,\n        subview: subview,\n        search: search,\n        menu: {\n            expanded: false,\n            onToggle: () => onToggle({sidebar: true})\n        },\n        ...header\n    }\n\n    sidebar = {\n        ...sidebar,\n        width: 256\n    }\n\n    const classes = useStyles({header, sidebar})\n\n    return (\n        <AppBase theme={theme} className={classes.app}>\n            <AppHeader {...header} className={classes.header} />\n            <AppBody className={classes.body}>\n                <AppSidebar {...sidebar} className={classes.sidebar}>\n                    { primaryAction && <NavAction className={classes.navAction} primaryAction={primaryAction} onSelect={onSelect} />}\n                    { calendar && <NavCalendar className={classes.navCalendar} {...calendar} onChange={(date) => onSelect({type: \"calendar\", date: date})}  />}\n                    {menu && <NavMenu className={classes.navMenu} icons={icons} menu={menu} menuByUrl={menuByUrl} currentUrl={currentUrl} onSelect={onSelect} onToggle={onToggle} />}\n                </AppSidebar>\n                <AppContent className={classes.content}>\n                    { children }\n                </AppContent>\n            </AppBody>\n        </AppBase>\n    )\n\n}\n\nAppLayout.defaultProps = {\n    app: {\n\n    },\n    header: {\n        expanded: true\n    },\n}\n\nAppLayout.propTypes = {\n    /** App properties */\n    app: PropTypes.shape({\n        uniqueId: PropTypes.string,\n        title: PropTypes.string\n    }),\n    /** Header properties */\n    header: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Search properties */\n    search: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Subview properties */\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n}\n\nexport default AppLayout;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Loader } from \"../components/\"\nimport icons from \"../app/icons/\"\n\nconst AdminLoader = ({children, ...props}) => {\n    const app = useSelector(state => state.app)\n    const appIcon = app.icon && icons[app.icon]\n\n    return (\n        <Loader\n            isLoading={app.isLoading}\n            icon={appIcon}\n            title={app.title ||\"App\"}\n            description={app.uniqueId && \"App loaded ...\"}>\n                {children}\n        </Loader>\n    )\n\n}\n\nAdminLoader.defaultProps = {\n}\n\nexport default AdminLoader","import Admin from \"./Admin\"\nexport default Admin","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toggleSearch, toggleSidebar } from '../redux/app';\nimport { toggleMenuItem } from '../redux/finder';\n\nimport _ from \"lodash\"\nimport qs from 'query-string';\n\nimport AdminRoutes from \"./AdminRoutes\"\nimport AdminLayout from \"./AdminLayout\"\nimport AdminLoader from \"./AdminLoader\"\n\nimport icons from \"../app/icons\"\n\nconst Admin = (props) => {\n    const {pathname } = props.location\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // date + view\n\n    let date = sq.date\n    let view = sq.view\n\n    if (!view) {\n        view = \"week\"\n    }\n\n    // select menu or calendar\n\n    const _onToggle = ({sidebar, search, url}) => {\n\n        sidebar && dispatch(toggleSidebar())\n        search && dispatch(toggleSearch())\n        \n        url && dispatch(toggleMenuItem({url}))\n\n    }\n\n    const _onSelect = ({url, date}) => {\n\n        if (!url && date) {\n            sq.date = date\n            props.history.replace(pathname + \"?\" + qs.stringify(sq))\n        }\n\n        url && props.history.push(url)\n    }\n\n    // search\n\n    const [q, setQ] = useState(sq && sq.q)\n\n    useEffect(() => {\n        if (q) {\n            sq.q = q.replace(' ', '+')\n        } else {\n            delete sq.q\n        }\n\n        let query = qs.stringify(sq)\n\n        const pathname = props.location.pathname + \"?\" + query;\n        const hash = props.location.hash;\n\n        const url = hash && pathname + hash ||pathname\n        \n        if (props.history) {\n            props.history.replace(url)\n        }\n    }, [q])\n\n    const _onSearchQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    const _onSearchReset = () => {\n        if (q) {\n            setQ('')\n        } else {\n            dispatch(toggleSearch())\n        }\n    }\n\n    // search\n\n    const search = {\n        ...app.search,\n//        expanded: q && q.length && true,\n        q: q,\n        onChange: (q, event) => _onSearchQuery(q),\n        onReset: (q, event) => _onSearchReset(),\n        onToggle: () => dispatch(toggleSearch())\n    }\n\n    // menu\n\n    return (\n        <AdminLoader {...props}>\n            <AdminLayout\n                app={app}\n                theme={app && app.theme}\n                header={app && app.header}\n\n                search={search}\n\n                sidebar={app && app.sidebar}\n\n                primaryAction={app.primaryAction}\n\n                icons={icons}\n                menu={finder && finder.menu}\n                menuByUrl={finder && finder.menuByUrl}\n\n                currentUrl={pathname}\n                \n                parents={finder && finder.parents}\n\n                onSelect={_onSelect}\n                onToggle={_onToggle}\n                >\n                    <AdminRoutes {...props} />\n            </AdminLayout>\n        </AdminLoader>\n    )\n}\n\nexport default Admin","export default {\n    type: \"tree\",\n    role: \"group\",\n    title: \"KulturPunkt\",\n    icon: \"kpMenu\",\n    url: \"/kp\",\n    template: \"finder/tree\",\n    query: {\n        rows: 100,\n        models: \"documents\",\n        status: \"NOT trash\",\n        documentType: \"page*\",\n        q: \"NOT parentId:*\"\n    },\n}","export default {\n    role: \"section\",\n//    hidden: true,\n    title: \"Sider\",\n    pathname: \"pages\",\n//    viewOptions: [\"list\",\"grid\"],\n    view: \"grid\",\n    query: {\n        models: \"documents\",\n        documentType: \"page*\",\n        status: \"NOT trash\"\n    },\n    children: [\n        {\n            title: \"Hjemmeside\",\n            icon: \"pageHome\",\n            pathname: \"home\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageHome\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Tema\",\n            icon: \"pageParent\",\n            pathname: \"topic\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageTopic\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Kart\",\n            icon: \"pageMap\",\n            pathname: \"map\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageMap\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n}","export default {\n    icon: \"kioskMenu\",\n    url: \"/kiosk\",\n    title: \"Kiosk\",\n    view: \"grid\",\n    viewOptions: [],\n    query: {\n        models: \"documents\",\n        documentType: \"device*\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"section\",\n//    hidden: true,\n    title: \"Presentasjoner\",\n    pathname: \"pages\",\n    view: \"grid\",\n    query: {\n        models: \"documents\",\n        documentType: \"page*\",\n//        status: \"NOT trash\"\n    },\n    children: [\n        {\n            title: \"Mosaikk\",\n            icon: \"pageGrid\",\n            pathname: \"grid\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageGrid\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Tidslinje\",\n            icon: \"pageTimeline\",\n            pathname: \"timeline\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageTimeline\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Bildekart\",\n            icon: \"pageAnnotate\",\n            pathname: \"annotate\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageAnnotate\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Media\",\n            icon: \"pageMedia\",\n            pathname: \"media\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageMedia\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Liste\",\n            icon: \"pageList\",\n            pathname: \"list\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageList\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n}","export default {\n    role: \"group\",\n    title: \"Enheter\",\n    icon: \"bug_report\",\n    pathname: \"device\",\n    query: {\n        models: \"documents\",\n        documentType: \"device\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"group\",\n    title: \"Artikler\",\n    icon: \"article\",\n    pathname: \"article\",\n    query: {\n        models: \"documents\",\n        documentType: \"article\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"group\",\n    icon: \"photo\",\n    title: \"Media\",\n    pathname: \"media\",\n    query: {\n        models: \"media\",\n        status: \"NOT trash\"\n    },\n    children: [\n        {\n            title: \"Images\",\n            pathname: \"images\",\n            query: {\n                models: \"media\",\n                mediaType: \"image\"\n            },\n        },\n        {\n            title: \"Video\",\n            pathname: \"video\",\n            query: {\n                models: \"media\",\n                mediaType: \"video\"\n            },\n        },\n        {\n            title: \"Audio\",\n            pathname: \"audio\",\n            query: {\n                models: \"media\",\n                mediaType: \"audio\"\n            },\n        },\n        {\n            title: \"Misc\",\n            pathname: \"misc\",\n            query: {\n                models: \"media\",\n                mediaType: \"misc\"\n            },\n        },\n        {\n            title: \"Apps\",\n            pathname: \"apps\",\n            query: {\n                models: \"media\",\n                mediaType: \"misc\"\n            },\n        },\n        {\n            title: \"Upload\",\n            pathname: \"upload\"\n        }\n    ]\n}","export default {\n    role: \"group\",\n    title: \"Latest\",\n    pathname: \"latest\",\n    icon: \"access_time\",\n    query: {\n        models: \"documents\",\n        status: \"NOT trash\",\n        models: \"documents\",\n        sort: \"updatedAt DESC\"\n    }\n}","export default {\n    role: \"group\",\n    icon: \"delete\",\n    title: \"Trash\",\n    pathname: \"trash\",\n    query: {\n        models: \"documents\",\n        status: \"trash\",\n        models: \"documents\",\n        sort: \"deletedAt DESC\",\n    }\n}","export default {\n    role: \"group\",\n    icon: \"settings\",\n    title: \"Settings\",\n    pathname: \"settings\",\n    hidden: true,\n    children: [\n        {\n            icon: \"settings\",\n            title: \"Collections\",\n            pathname: \"collections\",\n            template: \"collections\",\n            query: {\n                models: \"collections\",\n                collectionType: \"kp\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n\n}","\nconst kpPages = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"home\",\n            title: \"Ny forside\",\n            url: \"/kp/pages/new?documentType=pageHome\"\n        },\n        {\n            icon: \"event\",\n            title: \"Nytt kart\",\n            url: \"/kp/pages/new?documentType=pageMap\"\n        },\n        {\n            icon: \"event\",\n            title: \"Nytt tema\",\n            url: \"/kp/pages/new?documentType=pageTopic\"\n        },\n    ]\n}\n\nconst kioskPages = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"event\",\n            title: \"Ny mosaikkk\",\n            url: \"/kp/kiosk/new?documentType=pageGrid\"\n        },\n        {\n            icon: \"event\",\n            title: \"Ny tidslinje\",\n            url: \"/kp/kiosk/new?documentType=pageTimeline\"\n        },\n        {\n            icon: \"event\",\n            title: \"Nytt bildekart\",\n            url: \"/kp/kiosk/new?documentType=pageAnnotate\"\n        },\n        {\n            icon: \"event\",\n            title: \"Ny media\",\n            url: \"/kp/kiosk/new?documentType=pageMedia\"\n        },\n        {\n            icon: \"event\",\n            title: \"Ny liste\",\n            url: \"/kp/kiosk/new?documentType=pageList\"\n        },\n    ]\n}\n\nconst kioskDevice = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"bug_report\",\n            title: \"Ny enhet\",\n            url: \"/kp/device/new?documentType=device\"\n        },\n    ]\n}\n\nexport default {\n    title: \"Nytt innhold\",\n    \"children\": [\n        {\n            icon: \"event\",\n            title: \"Ny artikkel\",\n            url: \"/kp/article/new?documentType=article\"\n        },\n        kpPages,\n        kioskPages,\n        kioskDevice\n    ]\n\n}","export default {\n    role: \"section\",\n    title: \"favoritter\",\n    pathname: \"favourites\",\n\n    children: [\n        {\n            title: \"Papirkurv\",\n            pathname: \"/latest\",\n            icon: \"access_time\",\n            query: {\n                models: \"documents\",\n                status: \"NOT trash\",\n                models: \"documents\",\n                sort: \"updatedAt DESC\"\n            }\n        },\n        {\n            title: \"Slettet\",\n            icon: \"delete\",\n            pathname: \"/trash\",\n            query: {\n                models: \"documents\",\n                status: \"trash\",\n                models: \"documents\",\n                sort: \"deletedAt DESC\",\n            }\n        }\n    ]\n\n}","import app from \"./app\"\n\nexport default app","import menu from \"./menu\"\nimport primaryAction from \"../action\"\nimport theme from \"./theme\"\nimport schemas from \"./schemas\"\n\nexport default {\n    theme: theme,\n    icon: \"kpApp\",\n    root: \"/kp\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"KulturPunkt\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n        \"expanded\": false,\n        \"placeholder\": \"Sk i KulturPunkt\"\n    }\n}","import {\n    kpHome,\n    kpPages,\n    kpLink,\n\n    kioskHome,\n    kioskPages,\n    kioskDevices,\n    kioskLink,\n\n    ekultur,\n    articles,\n    media,\n    latest,\n    trash,\n    settings,\n} from \"../menu/\"\n\nexport default [\n    kpHome,\n    articles,\n    kpPages,\n    media,\n    latest,\n    trash,\n    kioskLink,\n    {\n        role: \"section\",\n        title: \"Favoritter\",\n        children: [\n            settings,\n        ]\n    }\n]","export default {\n    icon: \"kioskMenu\",\n    url: \"/kiosk\",\n    title: \"Kiosk\"\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from \"../redux/app\"\nimport Admin from \"../Admin\"\nimport app from \"./kp\"\n\nconst Kulturpunkt = ({children, ...props}) => {\n  \n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getApp(app))\n    }, [])\n\n    return (\n        <Admin {...props} />\n    )\n\n}\n\nKulturpunkt.defaultProps = {\n}\n\nexport default Kulturpunkt","import menu from \"./menu\"\nimport theme from \"./theme\"\nimport primaryAction from \"../action\"\n\nexport default {\n    theme: theme,\n    icon: \"kioskApp\",\n    root: \"/kiosk\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"Kiosk\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n        \"expanded\": false,\n        \"placeholder\": \"Sk i Kiosk\"\n    }\n}","import {\n    kpHome,\n    kpPages,\n    kpLink,\n\n    kioskHome,\n    kioskPages,\n    kioskDevices,\n    kioskLink,\n\n    ekultur,\n    articles,\n    media,\n    latest,\n    trash,\n    settings,\n} from \"../menu/\"\n\nexport default [\n    kioskHome,\n    articles,\n    media,\n    kioskPages,\n    kioskDevices,\n    latest,\n    trash,\n    kpLink,\n    {\n        role: \"section\",\n        title: \"Favoritter\",\n        children: [\n            settings,\n        ]\n    }\n]","export default {\n    title: \"KulturPunkt\",\n    icon: \"kpMenu\",\n    url: \"/kp\",\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from \"../redux/app\"\nimport Admin from \"../Admin\"\nimport app from \"./kiosk/app\"\n\nconst Kiosk = ({children, ...props}) => {\n  \n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getApp(app))\n    }, [])\n\n    return (\n        <Admin {...props} />\n    )\n\n}\n\nKiosk.defaultProps = {\n}\n\nexport default Kiosk","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport KulturPunkt from \"./KpApp\"\nimport Kiosk from \"./KioskApp\"\n\nconst AppRoutes = (props) => {\n\n    return (\n        <Switch>\n            <Route path=\"/kiosk\" component={Kiosk} />\n            <Route path=\"/\" component={KulturPunkt} />\n        </Switch>\n    )\n}\n\nexport default AppRoutes","import App from \"./App\"\nexport default App","import React, { useEffect } from \"react\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n} from \"react-router-dom\";\n\nimport \"../styles/reset.css\"\nimport \"../styles/Akkurat.css\"\nimport \"../styles/AkkuratMono.css\"\nimport \"../styles/MaterialIcons.css\"\n\nimport AppRoutes from \"./AppRoutes\"\n\nconst App = (props) => {\n\n    return (\n        <Router>\n            <AppRoutes {...props} />\n        </Router>\n    )\n}\n\nexport default App","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestUser(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveUser(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getUser = ({modelName = \"users\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestUser({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveUser(formData))\n        })\n\n}    \n\n\nexport const { requestUser, receiveUser } = userSlice.actions\nexport default userSlice.reducer","import { combineReducers } from '@reduxjs/toolkit'\n\nimport userReducer from './user/userSlice'\nimport siteReducer from './site/siteSlice'\nimport collectionReducer from './collection/collectionSlice'\n\nimport appReducer from './app/appSlice'\nimport finderReducer from './finder/finderSlice'\nimport editorReducer from './editor/editorSlice'\nimport bulkReducer from './bulk/bulkSlice'\n\nimport searchByUrlReducer from './searchByUrl/searchByUrlSlice'\n\nimport uploadByUrlReducer from './uploadByUrl/uploadByUrlSlice'\nimport modelsByIdReducer from './modelsById/modelsByIdSlice'\n\nexport default combineReducers({\n    user: userReducer,\n    site: siteReducer,\n    collection: collectionReducer,\n    app: appReducer,\n    editor: editorReducer,\n    finder: finderReducer,\n    bulk: bulkReducer,\n    modelsById: modelsByIdReducer,\n    searchByUrl: searchByUrlReducer,\n    uploadByUrl: uploadByUrlReducer,\n})","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger'\r\n\r\nimport rootReducer from \"./rootReducer\"\r\nconst middleware = [...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      // Ignore these action types\r\n      ignoredActions: ['editor/receiveDialog'],\r\n      // Ignore these field paths in all actions\r\n//      ignoredActionPaths: ['meta.arg', 'payload.timestamp'],\r\n      // Ignore these paths in the state\r\n//        ignoredPaths: ['items.dates']\r\n    }\r\n  }), logger]\r\n\r\nexport default configureStore({\r\n    reducer: rootReducer,\r\n    middleware\r\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export default {\n    editor: {\n        \"Loading\": \"Laster\",\n        \"Saving\": \"Lagrer\",\n        \"Save\": \"Lagre\",\n        \"Save as draft\": \"Lagre som utkast\",\n        \"Save and publish\": \"Lagre og publiser\",\n        \"Save and exit\": \"Lagre og avslutt\",\n        \"Save as\": \"Lagre som\",\n        \"Empty trash\": \"Tm papirkurv\",\n        \"Restore\": \"Gjenopprett\",\n        \"Erase\": \"Slett for alltid\"\n    },\n    layout: {\n        \"table\": \"Tabell\",\n        \"grid\": \"Grid\",\n        \"list\": \"Liste\",\n        \"gallery\": \"Galleri\",\n    },\n    dialog: {\n        \"Search\": \"Sk\",\n        \"Search documents\": \"Sk i dokumenter\",\n        \"Search media\": \"Sk i media\",\n        \"Search media/image\": \"Sk i bilder\",\n        \"Search media/video\": \"Sk i videoer\",\n        \"Search media/audio\": \"Sk i audio\",\n        \"Search media/misc\": \"Sk i filer\",\n        \"Search ekultur\": \"Sk i DigitaltMuseum\",\n        \"Search favorites\": \"Sk i favoritter\",\n        \"Search uploads\": \"Sk i opplastede filer\",\n        \"Search models\": \"Sk i referanser\",\n        \"Favorites\": \"Favoritter\",\n        \"Upload\": \"Last opp\",\n        \"Upload media\": \"Last opp media\",\n        \"media\": \"Media\",\n        \"media/*\": \"Media\",\n        \"media/image\": \"Bilder\",\n        \"media/image*\": \"Bilder\",\n        \"media/video\": \"Video\",\n        \"media/video*\": \"Video\",\n        \"media/audio\": \"Audio\",\n        \"media/audio*\": \"Audio\",\n        \"media/misc\": \"Filer\",\n        \"media/misc*\": \"Filer\",\n        \"media/youtube\": \"YouTube\",\n        \"media/vimeo\": \"Vimeo\",\n        \"media/sketchfab\": \"Sketchfab\",\n        \"documents/*\": \"Dokumenter\",\n        \"documents/ekultur\": \"Objekter\",\n        \"youtube\": \"YouTube\",\n        \"vimeo\": \"Vimeo\",\n        \"sketchfab\": \"Sketchfab\",\n        \"ekultur\": \"Objekter\",\n    },\n    upload: {\n        \"Uploading {{requested}} of {{received}}\": \"Laster opp {{requested}} av {{received}}\",\n        \"Click or drop files to upload\": \"Klikk eller dra filer her for  laste opp\",\n        \"Fetching unprocessed uploads\": \"Finner ubehandlede opplastninger\",\n        \"No unprocessed uploads\": \"Ingen ubehandlede opplastninger\",\n        \"{{count}} unprocessed uploads\": \"{{count}} ubehandlede opplastninger\",\n    },\n    search: {\n        \"Fetching data, please wait\": \"Henter data, vennligst vent\",\n        \"No hits\": \"Ingen treff\",\n        \"{{count}} hits\": \"{{count}} treff\",\n        \"{{page}} of {{pages}} pages\": \"Side {{page}} av {{pages}}\",\n        \"More results\": \"Flere resultater\",\n        \"Next page\": \"Neste side\",\n        \"Previous page\": \"Forrige side\",\n        \"Page {{page}}\": \"Side {{page}}\"\n    },\n    view: {\n        \"{{rows}} rows\": \"{{rows}} rader\",\n    },\n    sort: {\n        \"title\": \"Sortert alfabetisk\",\n        \"updatedAt DESC\": \"Sist oppdatert\",\n        \"createdAt ASC\": \"Opprettet dato, frst\",\n        \"createdAt DESC\": \"Opprettet dato\",\n    },\n    mediaType: {\n        \"image\": \"Bilde\",\n        \"video\": \"Video\",\n        \"audio\": \"Audio\",\n    },\n    documentType: {\n        \"article\": \"Artikkel\",\n        \"pageHome\": \"Hjemmeside\",\n        \"pageTopic\": \"Tema\",\n        \"pageMap\": \"Kart\",\n        \"pageGrid\": \"Mosaikk\",\n        \"pageList\": \"Liste\",\n        \"pageAnnotate\": \"Bildekart\",\n        \"pageMedia\": \"Media\",\n        \"device\": \"Enhet\",\n    },\n    status: {\n        \"error\": \"Feil\",\n        \"general\": \"N/A\",\n        \"draft\": \"Utkast\",\n        \"publish\": \"Publisert\",\n        \"trash\": \"Papirkurv\",\n        \"erased\": \"Slettet\",\n        \"restore\": \"Gjenopprettet\",\n        \"upload\": \"Ubehandlet\",\n        \"new\": \"Ny\"\n    },\n    uploadStatus: {\n        \"init\": \"Laster opp\",\n        \"done\": \"Lastet opp\",\n        \"convert\": \"Konverterer media\",\n    },\n    bylineTitle: {\n        \"photographer\": \"Foto\",\n        \"rightsmanager\": \"Rettighetsforvalter\",\n        \"director\": \"Regissr\",\n        \"photograph\": \"Foto\",\n        \"vector\": \"Grafikk\",\n        \"illustration\": \"Illustrasjon\",\n        \"painting\": \"Maleri\",\n    },\n    license: {\n        \"copyright\": \"Opphavsrett\",\n        \"by\": \"Navngivelse\",\n        \"by-sa\": \"Navngivelse-DelPSammeVilkr\",\n        \"by-nd\": \"Navngivelse-IngenBearbeidelse\",\n        \"by-nc\": \"Navngivelse-IkkeKommersiell\",\n        \"by-nc-sa\": \"Navngivelse-IkkeKommersiell-DelPSammeVilkr\",\n        \"pdm\": \"Public Domain Mark\",\n        \"pdd\": \"Public Domain Dedication\",\n    },\n    licenseGroup: {\n        \"by\": \"Kan gjenbrukes ved navngivelse\",\n        \"by-nd\": \"Kan kun gjenbrukes ved tillatelse\",\n        \"by-nc\": \"Kan ikke gjenbrukes kommersielt\",\n        \"pd\": \"pne lisenser (kan gjenbrukes)\"\n    }\n}","import translations from \"./nb\"\n\nexport default {\n    ...translations\n}","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n// not like to use this?\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\nimport en from \"./translations/en\";\nimport nn from \"./translations/nn\";\nimport nb from \"./translations/nb\";\nimport sv from \"./translations/sv\";\n\n\ni18n\n    // load translation using xhr -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n    // learn more: https://github.com/i18next/i18next-xhr-backend\n//    .use(Backend)\n    // detect user language\n    // learn more: https://github.com/i18next/i18next-browser-languageDetector\n    .use(LanguageDetector)\n    // pass the i18n instance to react-i18next.\n    .use(initReactI18next)\n    // init i18next\n    // for all options read: https://www.i18next.com/overview/configuration-options\n    .init({\n\n        resources: {\n            en: en,\n            nb: nb,\n            nn: nn,\n            sv: sv\n        },\n\n        fallbackLng: 'en',\n        debug: true,\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        }\n    });\n\n\nexport default i18n;","export default {\n    editor: {\n        \"Loading\": \"Loading\",\n        \"Saving\": \"Saving\",\n        \"Save\": \"Save\",\n        \"Save as draft\": \"Save as draft\",\n        \"Save and publish\": \"Save and publish\",\n        \"Save and exit\": \"Save and exit\",\n        \"Save as\": \"Save as\"\n    }\n}","export default {\n    editor: {\n        \"Loading\": \"Lsa\",\n        \"Saving\": \"Spara\",\n        \"Save\": \"Spara\",\n        \"Save as draft\": \"Spara som utkast\",\n        \"Save and publish\": \"Spara och publicera\",\n        \"Save and exit\": \"Spare och avsluta\",\n        \"Save as\": \"Spare som\"\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport * as serviceWorker from './serviceWorker';\n\n// i18next\nimport './i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}