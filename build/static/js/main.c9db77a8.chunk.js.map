{"version":3,"sources":["redux/settings.js","redux/bulk/bulkSlice.js","redux/modelsById/modelsByIdSlice.js","redux/finder/finderSlice.js","redux/app/appSlice.js","utils/getMenuMedia.js","utils/getMenuDocuments.js","utils/getMenuLatest.js","utils/getMenuTrash.js","utils/getMenuSearch.js","utils/getMenuChildren.js","Admin/app/primaryAction.js","Admin/app/index.js","Admin/app/app.js","Admin/app/theme.js","Admin/app/menu.js","Admin/app/menuKpPageTree.js","Admin/app/menuArticles.js","Admin/app/menuKpPages.js","Admin/app/menuKioskPages.js","Admin/app/menuKioskDevices.js","Admin/app/menuMedia.js","Admin/app/menuEkultur.js","Admin/app/menuLatest.js","Admin/app/menuTrash.js","Admin/app/menuSettings.js","components/ButtonSelect/ButtonSelect.js","components/Preview/PreviewBase.js","components/Preview/PreviewScale.js","components/PreviewIframe/PreviewIframe.js","components/NavView/NavView.js","Finder/FinderLayout.js","Finder/BulkLayout.js","redux/searchById/searchByIdSlice.js","components/ParentIdField/ParentIdField.js","components/KpPage/KpPageField.js","components/KpPage/KpAnnotateArrayField.js","components/KpPage/KpAnnotateImageField.js","components/KpLink/KpLink.model.js","components/KpLink/KpLink.schema.js","components/KpLink/KpLink.uiSchema.js","components/KpLink/KpLinkButtons.js","components/KpLink/KpLinkMediaLayout.js","components/KpLink/KpLinkReferenceLayout.js","components/KpLink/KpLinkContentField.js","components/KpLink/KpLinkField.js","components/KpLink/KpLinkCollapsed.js","components/KpLink/KpLinkExpanded.js","components/KpLink/KpLinkLayout.js","components/KpDevice/KpDeviceField.js","components/KpDevice/KpDeviceLinkField.js","components/PageEditor/PageEditorField.js","components/PageEditor/PageEditorLayout.js","components/PageEditor/PageContentField.js","components/PageEditor/PageMenu.js","components/PageEditor/PageContentLayout.js","components/PageEditor/PageSettingsField.js","components/PageEditor/PageSettingsLayout.js","components/PageEditor/registry.js","components/registry.js","schemas/article/section/mediaSize.js","schemas/article/section/mediaFormat.js","schemas/article/index.js","schemas/article/schema.js","schemas/article/section/schema.js","schemas/article/section/sectionType.js","schemas/article/section/sectionText.js","schemas/article/section/sectionMedia.js","schemas/article/section/media.js","schemas/article/section/sectionDm.js","schemas/article/section/ekultur.js","schemas/article/section/sectionLinks.js","schemas/article/section/sectionAttachments.js","schemas/article/section/attachments.js","schemas/article/section/sectionQuote.js","schemas/article/uiSchema.js","schemas/article/uiPreview.js","schemas/article/settings/uiSchema.js","schemas/article/header/uiSchema.js","schemas/article/body/uiSchema.js","schemas/article/section/uiSchema.js","schemas/article/section/uiPreview.js","schemas/article/section/mediaUi.js","schemas/article/section/attachmentsUi.js","schemas/article/section/ekulturUi.js","schemas/article/section/linksUi.js","schemas/article/isPartOf/uiSchema.js","schemas/page/schema.js","schemas/page/documentType/schema.js","schemas/page/linksLayout/schema.js","schemas/page/links/schema.js","schemas/page/links/items.js","schemas/pageHome/schema.js","schemas/page/icons/index.js","schemas/page/uiPreview.js","schemas/page/settings/uiSchema.js","schemas/page/pageHeader/uiSchema.js","schemas/page/pageMedia/uiSchema.js","schemas/page/links/uiSchema.js","schemas/page/links/itemsUi.js","schemas/page/pageBody/uiSchema.js","schemas/pageHome/uiSchema.js","schemas/pageHome/uiPreview.js","schemas/pageHome/homeHeader/uiSchema.js","schemas/pageHome/listMedia/uiSchema.js","schemas/pageHome/listBody/uiSchema.js","Preview/KioskPreview/ArticleBase.js","Preview/KioskPreview/ArticleGrid.js","Preview/KioskPreview/ArticleTitle.js","Preview/KioskPreview/ArticleBodytext.js","Preview/KioskPreview/LayoutList.js","Preview/KioskPreview/LayoutGrid.js","Preview/KioskPreview/LayoutSlideshow.js","Preview/KioskPreview/LayoutFormat.js","Preview/KioskPreview/ModuleMedia.js","Preview/KioskPreview/ArticleMedia.js","Preview/KioskPreview/ModuleEkultur.js","Preview/KioskPreview/ArticleReferences.js","Preview/KioskPreview/ArticleLinks.js","Preview/KioskPreview/ArticleHead.js","Preview/KioskPreview/ArticleBody.js","Preview/KioskPreview/ArticleLeadtext.js","Preview/KioskPreview/ArticleSection.js","Preview/KioskPreview/Article.js","Preview/KioskPreview/PreviewFormat.js","Preview/KioskPreview/utils/getPreviewItem.js","Preview/KioskPreview/Menu.js","Preview/KioskPreview/PageHeader.js","Preview/KioskPreview/GridModule.js","Preview/KioskPreview/Grid.js","Preview/KioskPreview/TimelineModule.js","Preview/KioskPreview/Timeline.js","Preview/KioskPreview/AnnotateImagemap.js","Preview/KioskPreview/utils/getContrastColor.js","Preview/KioskPreview/AnnotateLegends.js","Preview/KioskPreview/Page.js","Preview/KioskPreview/PreviewKiosk.js","Preview/KioskPreview/index.js","schemas/pageHome/index.js","schemas/pageMap/schema.js","schemas/pageMap/uiPreview.js","schemas/pageMap/mapLinks/uiSchema.js","schemas/pageMap/uiSchema.js","schemas/pageMap/header/uiSchema.js","schemas/pageMap/body/uiSchema.js","Preview/Page/PageLayout.js","Preview/Page/PageMedia.js","Preview/Page/PageHeader.js","Preview/Page/PageBody.js","Preview/PageMap/DefaultMapMarker.js","Preview/PageMap/DefaultMap.js","Preview/PageMap/RoundtripMapMarker.js","Preview/PageMap/RoundtripMap.js","Preview/PageMap/PageMap.js","schemas/pageMap/index.js","schemas/pageTopic/index.js","schemas/pageTopic/schema.js","schemas/pageTopic/uiSchema.js","schemas/pageTopic/uiPreview.js","schemas/pageTopic/header/uiSchema.js","schemas/pageTopic/body/uiSchema.js","schemas/pageGrid/schema.js","schemas/pageGrid/uiPreview.js","schemas/pageGrid/gridHeader/uiSchema.js","schemas/pageGrid/gridMedia/uiSchema.js","schemas/pageGrid/gridLinks/uiSchema.js","schemas/index.js","schemas/pageGrid/index.js","schemas/pageGrid/uiSchema.js","schemas/pageGrid/gridBody/uiSchema.js","schemas/pageList/index.js","schemas/pageList/schema.js","schemas/pageList/uiSchema.js","schemas/pageList/uiPreview.js","schemas/pageList/listHeader/uiSchema.js","schemas/pageList/listMedia/uiSchema.js","schemas/pageList/listBody/uiSchema.js","schemas/pageTimeline/index.js","schemas/pageTimeline/schema.js","schemas/pageTimeline/uiSchema.js","schemas/pageTimeline/uiPreview.js","schemas/pageTimeline/timelineHeader/uiSchema.js","schemas/pageTimeline/timelineMedia/uiSchema.js","schemas/pageTimeline/timelineBody/uiSchema.js","schemas/pageAnnotate/index.js","schemas/pageAnnotate/schema.js","schemas/pageAnnotate/uiSchema.js","schemas/pageAnnotate/uiPreview.js","schemas/pageAnnotate/annotateHeader/uiSchema.js","schemas/pageAnnotate/annotateBody/uiSchema.js","schemas/pageAnnotate/annotateImage/uiSchema.js","schemas/pageAnnotate/annotateLinks/uiSchema.js","schemas/pageMedia/index.js","schemas/pageMedia/schema.js","schemas/pageMedia/uiSchema.js","schemas/pageMedia/uiPreview.js","schemas/pageMedia/mediaHeader/uiSchema.js","schemas/pageMedia/mediaBody/uiSchema.js","schemas/pageMedia/mediaLinks/uiSchema.js","schemas/device/index.js","schemas/device/schema.js","schemas/device/uiSchema.js","schemas/device/uiPreview.js","schemas/device/settings/uiSchema.js","schemas/device/header/uiSchema.js","schemas/device/media/uiSchema.js","schemas/device/hasPages/uiSchema.js","schemas/schemasByName.js","Finder/BulkEditor.js","Finder/Finder.js","Finder/ResultsLoader.js","Finder/ResultsFooter.js","components/Masonry/MasonryModule.js","Finder/FinderModel.js","Finder/ListLayout.js","components/Masonry/Masonry.js","Finder/MasonryLayout.js","Finder/ResultsHeader.js","Finder/GalleryLayout.js","Finder/FinderQuery.js","components/DocumentTree/DocumentTree.js","components/DocumentTree/DocumentTreeColumn.js","components/DocumentTree/ModuleTitle.js","components/DocumentTree/ModuleLabel.js","components/DocumentTree/DocumentTreeModule.js","components/DocumentTree/ModuleMetadata.js","Finder/FinderPreview.js","components/DocumentTree/DocumentInspector.js","Finder/FinderTree.js","redux/uploadById/uploadByIdSlice.js","Upload/UploadDropzone.js","Finder/FinderUpload.js","Finder/FinderLoader.js","redux/editor/editorSlice.js","Dialog/DialogBase.js","Dialog/DialogFooter.js","Dialog/DialogSearch.js","Dialog/DialogTabs.js","Dialog/DialogHeader.js","Dialog/DialogSection.js","Dialog/ResultsLoader.js","Dialog/ResultsFooter.js","Dialog/DialogModel.js","Dialog/ResultsList.js","Dialog/ResultsGallery.js","Dialog/ResultsHeader.js","Dialog/ResultsUploads.js","Dialog/MediaResults.js","Dialog/DocumentsResults.js","Dialog/SearchResultsDefault.js","Dialog/SearchResults.js","Dialog/SearchDialog.js","Dialog/FavouritesDialog.js","Dialog/DialogUpload.js","Dialog/UploadDialog.js","Dialog/MediaDialog.js","Dialog/DocumentsDialog.js","Dialog/Dialog.js","Editor/EditorDialog.js","Editor/EditorPreview.js","Editor/Editor.js","Editor/EditorLoader.js","Admin/DocumentEditor.js","Admin/MediaPreview.js","Admin/MediaEditor.js","Admin/AdminRoutes.js","components/NavMenu/NavMenuList.js","components/NavMenu/NavMenuItem.js","components/NavMenu/NavMenuLink.js","components/NavMenu/NavMenu.js","Admin/AdminLayout.js","Admin/AdminLoader.js","Admin/index.js","Admin/Admin.js","AppRoutes.js","App.js","redux/rootReducer.js","redux/store.js","serviceWorker.js","index.js","schemas/page/icons/pageMedia.svg","schemas/page/icons/pageList.svg","schemas/page/icons/pageTimeline.svg","schemas/page/icons/pageMosaic.svg","schemas/page/icons/pageAnnotate.svg"],"names":["API","bulkSlice","createSlice","name","initialState","count","isLoading","isSaving","formData","schema","bulkSchema","bulk","bulkById","reducers","receiveBulkEditor","state","action","payload","bulkChange","bulkAdd","uniqueId","status","documentType","selected","bulkRemove","getBulkEditor","dispatch","getState","bulkModels","Object","values","filter","model","console","log","properties","multiple","map","keys","key","value","property","enum","includes","enumNames","actions","modelsByIdSlice","requestModel","receiveModel","requestReferences","references","receiveReferences","receiveParentId","parentId","receiveStatus","requestSave","receiveSave","getModel","modelName","url","fetch","method","headers","then","response","json","error","loadModel","saveModel","body","JSON","stringify","selectModel","modelsById","uniqueModel","bulkToggle","addDocumentSource","callback","undefined","source","toLowerCase","schemaId","data","addMediaSource","finderByIdSlice","pathname","parents","parentsByUrl","menuByUrl","menuById","requestFinder","receiveFinder","requestParents","receiveParents","requestMenuByUrl","receiveMenuByUrl","requestMenuItem","item","receiveMenuItem","id","children","length","moveMenuItem","destination","expandMenuItem","expanded","collapseMenuItem","toggleMenuItem","getFinder","menu","finder","menuItem","getMenuItem","level","getParents","parent","push","parentUrl","reverse","type","getMenuTree","getMenuParent","getMenuChild","child","query","fetchUrl","qs","fl","results","models","getMenuTreeNode","getMenuTreeChildren","sortMenuTree","itemNode","sourceNode","splice","index","destinationNode","requestMenuTree","receiveMenuTree","requestMenuTreeItem","receiveMenuTreeItem","appSlice","header","search","sidebar","requestApp","receiveApp","receiveLayout","toggleSearch","toggleHeader","toggleSidebar","requestSchemasByName","schemasByName","receiveSchemasByName","requestMenu","receiveMenu","receiveMenuItemByUrl","getApp","app","getAppLayout","layout","getMenuMedia","mediaType","mediaTypes","template","props","q","join","icon","getMenuDocuments","documentTypes","Array","isArray","getMenuLatest","getMenuTrash","getMenuSearch","getMenuChildren","forEach","root","getMenuEkultur","role","hidden","collectionId","startsWith","rootUrl","title","theme","siteId","subtitle","collectionType","primaryAction","languages","useStyles","makeStyles","button","width","spacing","height","position","top","left","transform","color","select","borderRadius","border","margin","borderColor","opacity","display","palette","primary","main","backgroundColor","contrastText","boxShadow","shadows","ButtonSelect","className","onClick","classes","IconButton","aria-selected","aria-label","base","zIndex","right","bottom","scale","maxWidth","marginLeft","marginRight","withStyles","frame","other","useTheme","useState","ready","setState","instanceRef","React","useRef","handleRef","useCallback","ref","current","contentDocument","node","contentWindow","NoSsr","defer","contentDidMount","jss","create","plugins","jssPreset","rtl","insertionPoint","sheetsManager","Map","container","window","contentDidUpdate","dir","direction","StylesProvider","cloneElement","NavView","currentView","ButtonView","Button","ButtonGroup","alignItems","marginTop","marginBottom","overflowY","path","settings","FinderLayout","views","NavSettings","NavPath","defaultProps","transition","aria-expanded","searchByIdSlice","requestSearch","page","receiveError","toString","receiveSearch","receivePage","nextPage","prevPage","start","rows","pages","Math","ceil","currentPage","resultsByPage","resultsLoaded","concat","p","getQuery","sq","getUiOptions","utils","ParentIdField","formContext","uiSchema","uiQuery","useDispatch","useEffect","enumOptions","setEnumOptions","setEnumNames","searchById","useSelector","currentSearch","optionsEnum","optionsNames","label","getOptions","SchemaField","registry","fields","newSchema","default","newUiSchema","getDefaultFormState","FieldKioskPage","handleChange","newFormData","definitions","onChange","annotateImage","backgroundImage","imageAnnotations","links","newRegistry","onAnnotateArrayChange","onAnnotateImageChange","dialog","preview","newFormContext","ObjectField","ImageAnnotateArrayField","ArrayField","KioskAnnotateImageField","media","mediaId","imageFilters","ImageAnnotations","imageUrl","prepare","referenceId","reference","localeId","currentLocale","defaultLocale","typeLabel","metadata","buttongroup","fontFamily","fontSize","fontWeight","textTransform","letterSpacing","minWidth","minHeight","SectionButton","variant","size","data-size","data-variant","disableElevation","Icon","SectionButtons","buttons","justifyContent","KpLinkMediaLayout","onDialog","mediaButtons","data-name","ImagePreview","KpLinkButtons","divider","KpLinkReferenceLayout","LinkAddButton","LinkRemoveButton","startAdornment","untitled","KpLinKContentField","referenceTitle","referenceDescription","description","_onMediaChange","_onReferenceChange","linkContent","runningHead","KpLinkField","imageFocalpoint","imageCropdata","uiOptions","fieldset","uiPreview","content","KpLinkContentField","cropdata","_onCropChange","focalpoint","_onFocalpoint","filters","_onFiltersChange","pageType","link","getUiSchema","hex","Color","isLight","titleColor","module","userSelect","cursor","pointerEvents","paddingLeft","paddingRight","borderTop","borderTopColor","badge","flexWrap","toolbar","flexGrow","flexDirection","overflow","footer","StartAdornment","badgeContent","Badge","ListModule","statusLabel","author","datetime","ModuleBase","onEdit","ModuleStatus","ModuleByline","ModuleDescription","NavToolbar","editable","selectable","deletable","restorable","padding","ExpandedModule","elevation","ModuleFormat","ModuleHeader","ModuleBody","ModuleFooter","ModuleButtons","KpLinkLayout","onSave","KpLinkExpanded","KpLinkCollapsed","KpDeviceField","startPageId","setStartPageId","KpDeviceLinkField","isStartPage","toggleStartPage","ButtonBase","PageEditorField","idSchema","statusCode","statusMessage","createdAt","updatedAt","deletedAt","currentId","onExpand","onSelect","onCollapse","onLocale","onSubmit","useTranslation","t","i18n","disabled","secondary","getPrimaryAction","idPrefix","$id","primaryId","secondaryId","setCurrentLocale","locale","_onLocale","PageEditor","collapsible","overlay","onToggle","EditorBase","EditorHeader","EditorBody","EditorFooter","OverlayTemplate","EditorOverlay","renderOverlay","PageContentField","menuWidth","menuList","PageMenu","NavMenuList","NavMenuItem","NavMenuLink","background","wrapper","PageContent","EditorSection","SidebarTemplate","EditorSidebar","renderSidebar","PreviewTemplate","renderPreview","EditorContent","PageSettingsField","KpPageField","KpAnnotateArrayField","KpAnnotateImageField","pageEditor","schemaType","mediaSize","mediaFormat","titleImage","location","sections","isPartOf","lat","lng","address","sectionType","bodytext","attachments","cite","quote","pageMedia","pageList","pageTimeline","pageMosaic","pageAnnotate","pageIcon","icons","article","boxSizing","lineHeight","ArticleBase","ArticleGrid","ArticleTitle","component","language","Typography","listStyle","fontStyle","ArticleBodytext","list","LayoutList","gridColumns","grid","LayoutGrid","slideshow","slider","navigation","dots","backButton","nextButton","LayoutSlideshow","totalSlides","format","split","naturalSlideWidth","naturalSlideHeight","paddingBottom","ratio","LayoutFormat","w","data-minHeight","data-ratio","data-format","caption","headline","byline","license","ModuleMedia","layouts","ArticleMedia","mediaWidth","mediaHeight","renderMedia","LayoutTemplate","flexBasis","image","maxHeight","templates","objectCount","imageCount","videoCount","audioCount","commentCount","src","ArticleReferences","renderReference","referenceType","ModuleTemplate","ArticleLinks","href","renderLink","head","ArticleHead","leadtext","ArticleBody","ArticleLeadtext","ArticleSection","sectionLayout","Article","headerImage","section","PreviewFormat","getPreviewItem","itemType","m","cols","PreviewTimeline","figure","textAlign","pageHeader","pageTitle","KioskPageHeader","titleSize","GridModule","skin","placement","getTextPlacement","Card","ImageBase","objectFit","CardContent","gridTemplateColumns","templateCols","gridTemplateRows","templateRows","gridColumnGap","colGap","gridRowGap","rowGap","gridItem","gridColumnStart","gridColumnEnd","colEnd","gridRowStart","gridRowEnd","rowEnd","MosaicGrid","items","onCurrentId","rowHeight","repeat","GridItem","itemProps","PreviewMosaic","card","cardMedia","cardContent","MosaicModule","CardMedia","alt","overflowX","timeline","timelineItem","Timeline","TimelineItem","TimelineModule","marker","borderSize","ImagemapPreview","contentTitle","annotateColor","contrastColor","ImageAnnotationsBase","markerTemplate","line","Menu","Imagemap","MarkerModule","data-index","Fragment","Grid","backgroundImageUrl","backgroundPosition","backgroundSize","PreviewPage","annotateLayout","mediaLayout","withResizeDetector","Page","PreviewKiosk","localTitle","MapLink","defaultCenter","defaultZoom","KEY","markers","setMarkers","setOrigin","setDestination","setWaypoints","center","setCenter","uuidv4","mapId","setMapId","mapRef","newWaypoints","style","bootstrapURLKeys","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","google","bounds","maps","LatLngBounds","extend","LatLng","fitBounds","origin","waypoints","directions","setDirections","drawDirections","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","setMap","directionsService","DirectionsService","route","travelMode","TravelMode","WALKING","result","DirectionsStatus","OK","overviewPath","routes","overview_path","resultsPath","getDirections","mapTypes","DefaultMap","newLinks","setNewLinks","referenceModel","mapLayout","MapTemplate","pageHome","pageMap","pageTopic","parallaxImage","linkMedia","hasPages","deviceTitle","deviceId","deviceType","mediaSchemas","schemas","BulkEditor","Schema","bulkSubmit","Finder","BulkLayout","loader","flexDirecton","text","ResultsLoader","replace","ResultsFooter","onPage","Paper","square","MasonryModule","event","stopPropagation","getUiPreview","TableModule","GalleryModule","FinderModel","moduleComponent","sourceId","_onLink","history","_onEdit","_onDelete","deleteModel","_onRestore","restoreModel","_onErase","eraseModel","bulkModel","documentModel","ModuleComponent","ListLayout","DocumentsList","masonry","row","col","colWidth","columns","debug","floor","itemsByColumn","c","getItemsByColumn","MasonryLayout","ResultsHeader","MediaGallery","Gallery","imageWidth","imageHeight","List","Masonry","FinderQuery","parse","sort","ResultsTemplate","tree","borderLeft","DocumentTree","column","flewGrow","DocumentTreeColumn","droppable","provided","isDraggingOver","snapshot","data-is-dragging-over","droppableProps","innerRef","placeholder","textDecoration","ModuleTitle","data-status","noWrap","isDark","getContrastColor","ModuleLabel","dragHandle","DocumentContent","Toolbar","DragHandle","dragHandleProps","DocumentTreeRow","draggable","isDragging","isTarget","combineTargetFor","draggableProps","data-is-dragging","data-is-target","borderBottom","borderBottomColor","FinderPreview","FinderTree","setResult","onDragEnd","draggableId","combine","droppableId","px","droppableParent","isCombineEnabled","droppableRef","cx","hasChildren","draggableRef","editUrl","_onSelect","Number","isInteger","createUrl","_onCreateChild","uploadByIdSlice","requestUpload","requested","received","receiveUpload","requestUploadModel","receiveUploadModel","receiveUploadProgress","progress","receiveUploadStatus","getUpload","acceptedFiles","uploadData","file","getUploadUrl","filename","mimeType","getUploadData","uploadUrl","FormData","append","xhr","XMLHttpRequest","upload","addEventListener","uploadProgress","lengthComputable","round","loaded","total","_onProgress","open","send","closeButton","dropzone","dropButton","UploadDropzone","accept","onUpload","onCancel","currentUpload","ButtonClose","onDrop","rejectedFiles","getRootProps","getInputProps","MediaUpload","pathnames","uploadById","FinderLoader","FinderTemplate","AppLoader","EditorIcon","editorSlide","requestEditor","receiveEditor","requestEdit","receiveEdit","receiveCurrentId","requestDialog","receiveDialog","pop","editModel","DialogBase","BottomNavigation","MenuItem","BottomNavigationAction","DialogFooter","tabIndex","setValue","showLabels","DialogSearch","onReset","AppSearch","DialogTabpanel","indicator","Tabs","DialogTab","Tab","disableRipple","DialogLabel","DialogTabs","tabs","indicatorColor","textColor","tab","DialogHeader","onScroll","parentRef","handleScroll","_","debounce","offsetHeight","removeEventListener","from","to","ModuleLoader","modelsSelected","onAdd","onRemove","modelsBySource","modelSchema","appDocumentType","sourceDocumentType","setPreview","newModel","newImageUrl","uploadStatus","imageUrlParts","imageParams","newImageParams","dimension","getImageUrl","createdByName","updatedByName","deletedByName","ResultsList","DialogModel","ResultsGallery","paddingTop","ResultsUploads","uploads","MediaResults","itemSchema","setModelsSelected","getSelected","addModel","identifier","getMediaSource","removeItem","DocumentsResults","getDocumentSource","connect","bindActionCreators","SearchResults","SearchDialog","onClose","userQ","setUserQ","handleQuery","trim","sortOptions","setSort","sortSettings","dmOwnerOptions","dmOwner","setDmOwner","dmOwnerSettings","owner","queryId","getMediaType","getMediaSections","getDocumentType","getDocumentSections","setTabIndex","currentTab","nextToken","handleTab","currentQuery","setPages","setCurrentPage","setNextPage","getPages","FavouritesDialog","favourites","uniqueIds","getFavouritesQuery","documents","DialogUpload","UploadDialog","setQ","handleReset","uploadSession","setUploadSession","uploadModels","uploadResults","session","MediaDialog","setTemplate","mediaFavourites","mediaUploads","FavouriteBadge","invisible","UploadBadge","DocumentsDialog","EditorDialog","setFormData","documentSchema","getReferenceQuery","mediaSchema","getMediaQuery","DialogTemplate","Dialog","EditorPreview","Editor","useHistory","editorRef","editor","hashId","hash","_onCurrentId","hashUrl","_onToggle","expandId","_onExpand","_onCollapse","setDialog","_onDialog","EditorLoader","getEditor","DocumentEditor","match","params","onBack","goBack","onEditReference","referenceUrl","modelType","_onHistory","MediaPreview","PreviewMedia","MediaEditor","AdminRoutes","MenuList","toggle","toggleCollapsed","toggleExpanded","MenuToggle","toggleIcon","light","dark","MenuLink","align","nowrap","NavMenuCalendar","NavMenu","currentUrl","renderItem","calendar","breakpoints","up","navAction","navCalendar","navMenu","AppLayout","subview","AppBase","AppHeader","AppBody","AppSidebar","NavAction","NavCalendar","date","AppContent","AdminLoader","loadingTitle","loadingDescription","Admin","appData","view","_onSearchQuery","_onSearchReset","AdminLayout","AppRoutes","App","combineReducers","appReducer","editorReducer","finderReducer","bulkReducer","modelsByIdReducer","searchByIdReducer","uploadByIdReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","logger","configureStore","reducer","rootReducer","Boolean","hostname","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","registration","unregister","catch","message","exports"],"mappings":"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","file":"static/js/main.c9db77a8.chunk.js","sourcesContent":["let API = \"https://kompass.dimu.org\";\n\nexport {\n    API,\n}","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { receiveModel } from \"../modelsById\"\n\nconst bulkSlice = createSlice({\n    name: 'bulk',\n    initialState: {\n        count: 0,\n        isLoading: false,\n        isSaving: false,\n        formData: {\n\n        },\n        schema: {\n\n        },\n        bulkSchema: {\n            \"type\": \"object\",\n            \"properties\": {\n                \"status\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"draft\",\n                        \"publish\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Draft\",\n                        \"Publish\"\n                    ],\n                    \"default\": false\n                },\n                \"documentType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"default\": false\n                }\n            }\n        },\n        bulk: [],\n        bulkById: {}\n    }, \n    reducers: {\n        receiveBulkEditor(state, action) {\n            const { schema, formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n                schema: schema\n            }\n\n        },\n        bulkChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n            }\n\n        },\n        bulkAdd(state, action) {\n            const { uniqueId, status, documentType } = action.payload\n\n            return {\n                ...state,\n                count: state.count + 1,\n                bulkById: {\n                    ...state.bulkById,\n                    [uniqueId]: {\n                        uniqueId: uniqueId,\n                        documentType: documentType,\n                        status: status,\n                        selected: true\n                    }\n                }\n            }\n\n        },\n        bulkRemove(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                count: state.count - 1,\n                bulkById: {\n                    ...state.bulkById,\n                    [uniqueId]: {\n                        selected: false\n                    }\n                }\n            }\n\n        },\n    }\n})\n\nexport const bulkToggle = ({uniqueId}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkById = state.bulk.bulkById\n\n    const modelsById = state.modelsById\n    const uniqueModel = modelsById && modelsById[uniqueId]\n\n    const selected = bulkById && bulkById[uniqueId] && bulkById[uniqueId].selected\n\n    if (selected) {\n        dispatch(bulkRemove(uniqueModel))\n        dispatch(getBulkEditor())\n    } else {\n        dispatch(bulkAdd(uniqueModel))\n        dispatch(getBulkEditor())\n    }\n\n}\n\nexport const bulkSubmit = ({modelName = \"documents\", formData}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n    const modelsById = state.modelsById\n\n    const url = API + '/admin/api/' + modelName;\n\n    bulkModels.map(model => {\n\n        const uniqueId = model && model.uniqueId\n        const uniqueModel = modelsById && modelsById[uniqueId]\n\n        if (!uniqueModel) {\n            return false\n        }\n\n        const newFormData = {\n            ...uniqueModel,\n            ...formData\n        }\n\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: JSON.stringify(newFormData)\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n//            dispatch(receiveSave(formData))\n            dispatch(receiveModel(formData))\n        })    \n    \n\n    })\n\n\n}\n\nexport const getBulkEditor = () => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n\n    console.log('BULK', bulkModels)\n\n    const bulkSchema = state.bulk.bulkSchema\n\n    let properties = {}, formData = {}, multiple = {}\n\n    bulkModels.map(model => {\n\n        Object.keys(bulkSchema.properties).map(key => {\n\n            const value = model[key]\n            const property = properties[key] ||bulkSchema.properties[key]\n\n            // set formData\n\n            if (formData[key] && formData[key] !== value) {\n                formData[key] = false\n                multiple[key] = true\n            } else if (!multiple[key] && !formData[key]) {\n                formData[key] = value\n            }\n\n            // set schema\n\n            if (property && value) {\n\n                if (property.enum && !property.enum.includes(value)) {\n                    properties[key] = {\n                        ...property,\n                        enum: [\n                            ...property.enum,\n                            value\n                        ],\n                        enumNames: [\n                            ...property.enumNames,\n                            value\n                        ]\n                    }\n\n                } else {\n                    properties[key] = property\n                }\n\n            }\n\n        })\n\n    })\n\n    const schema = {\n        ...bulkSchema,\n        properties: {\n            ...properties\n        }\n    }\n\n    dispatch(receiveBulkEditor({schema, formData}))\n\n\n}\n\nexport const { receiveBulkEditor, bulkChange, bulkAdd, bulkRemove } = bulkSlice.actions\nexport default bulkSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { bulkToggle } from '../bulk/'\n\nconst modelsByIdSlice = createSlice({\n    name: 'modelsById',\n    initialState: {\n    }, \n    reducers: {\n        requestModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: true,\n                }\n            }\n\n        },\n        receiveModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: false,\n                    ...action.payload\n                }\n            }\n\n        },\n        requestReferences(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: []\n                }\n            }\n\n        },\n        receiveReferences(state, action) {\n            const { uniqueId, references } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: references\n                }\n           }\n\n        },\n        receiveParentId(state, action) {\n            const { uniqueId, parentId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parentId: parentId\n                }\n            }\n\n        },\n        receiveStatus(state, action) {\n            const { uniqueId, status } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    status: status\n                }\n            }\n\n        },\n        requestSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    isSaving: true\n                }\n\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isSaving: false,\n                    ...action.payload\n                }\n            }\n        }        \n    }\n})\n\n/** Get model from uniqueId */\n\nexport const getModel = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestModel({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel(formData))\n        })\n\n}\n\n/** Get references from uniqueId */\n\nexport const getReferences = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/references/' + modelName + '/' + uniqueId;\n\n    dispatch(requestReferences({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveReferences({...formData, uniqueId}))\n        })\n\n}\n\n\n/** Load model from uniqueId */\n\nexport const loadModel = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestModel({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel(formData))\n        })\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    formData && formData.uniqueId && dispatch(requestSave({uniqueId: formData.uniqueId}))\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n\n/** Delete */\n\nexport const deleteModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Restore */\n\nexport const restoreModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/restore/' + uniqueId;\n  \n    fetch(url, {\n        method: \"POST\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Erase */\n\nexport const eraseModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId + \"?erase=true\";\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(receiveStatus({modelName, uniqueId, status: \"erased\"}))\n    )\n\n}\n\n/** Select */\n\nexport const selectModel = ({modelName, uniqueId}) => dispatch => {\n//    dispatch(toggleModel({modelName, uniqueId}))\n    dispatch(bulkToggle({uniqueId}))\n}\n\n/** Set parentId */\n\nexport const setParentId = ({modelName = \"documents\", uniqueId, parentId}) => dispatch => {\n//    dispatch(receiveParentId({uniqueId, parentId}))\n\n    const url = API + '/admin/api/' + modelName;\n\n\n    const formData = {\n        uniqueId: uniqueId,\n        parentId: parentId,\n    }\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n    \n/** Document source */\n\nexport const getDocumentSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/documents/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addDocumentSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addDocumentSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/documents'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\n/** Media source */\n\nexport const getMediaSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/media/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addMediaSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addMediaSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/media'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\nexport const { \n    requestModel, receiveModel, \n    requestReferences, receiveReferences, \n    receiveStatus, receiveParentId,\n    requestSave, receiveSave\n} = modelsByIdSlice.actions\nexport default modelsByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\nimport { saveModel } from \"../modelsById/\";\n\nconst finderByIdSlice = createSlice({\n    name: 'finder',\n    initialState: {\n        isLoading: false,\n        pathname: undefined,\n        parents: [],\n        parentsByUrl: {},\n        menuByUrl: {},\n        menuById: {},\n    }, \n    reducers: {\n        requestFinder(state, action) {\n            const { pathname } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                isLoading: true,\n            }\n        },\n        receiveFinder(state, action) {\n            const { pathname } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                isLoading: false,\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents, parentsByUrl } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                parentsByUrl: parentsByUrl\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n//                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const {menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        requestMenuItem(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                isLoading: true,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        isLoading: true,\n                        url: url,\n                        ...item,\n                    }\n                }\n            }\n        },\n        receiveMenuItem(state, action) {\n            const { id, url, ...item } = action.payload\n\n            const count = item.children && item.children.length ||null\n\n            if (id) {\n                return {\n                    ...state,\n                    isLoading: false,\n                    menuById: {\n                        ...state.menuById,\n                        [id]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            url: url,\n                            count: count,\n                        }\n                    },\n                    menuByUrl: {\n                        ...state.menuByUrl,\n                        [url]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            count: count,\n                            url: url,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                isLoading: false,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        id: id,\n                        count: count,\n                        isLoading: false,\n                        url: url,\n                    }\n                }\n            }\n        },\n        moveMenuItem(state, action) {\n            const { source, destination } = action.payload\n\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [source.url]: source,\n                    [destination.url]: destination  \n                }\n            }\n\n        },\n        expandMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: true\n                    }\n                }\n            }\n        },\n        collapseMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: false\n                    }\n                }\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n        },\n    }\n})\n\nexport const getFinder = ({menu, pathname = undefined}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    !menuByUrl && dispatch(requestFinder({pathname}))\n\n    menu && menu.map(item => {\n        dispatch(getMenuItem({...item, level: 1}))\n    })\n\n    menuItem && dispatch(getParents(menuItem)) ||dispatch(getParents({url: pathname}))\n\n    dispatch(receiveFinder({pathname}))\n\n}\n\n\nexport const getParents = ({url}) => (dispatch, getState) => {\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    let parent = url && menuByUrl && menuByUrl[url] \n\n    let parents = [];\n\n    while (parent) {\n        parents.push(parent)\n        parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n    }\n\n    parents = parents.reverse()\n\n    let parentsByUrl = {}\n\n    parents.map(parent => {\n        if (parent.url) {\n            parentsByUrl[parent.url] = parent\n        }\n    })\n\n    dispatch(receiveParents({parents, parentsByUrl}))\n  \n}\n\nexport const getMenuItem = (item) => (dispatch) => {\n    const { type = \"default\", url, children} = item\n\n    if (type === \"tree\") {\n        dispatch(getMenuTree(item))\n    } else if (children) {\n        dispatch(getMenuParent(item))        \n    } else if (url) {\n        dispatch(getMenuChild(item))\n    } \n    \n}\n\nconst getMenuParent = ({children, level = 0, ...parent}) => dispatch => {\n    dispatch(requestMenuItem(parent))\n\n    children.map((child) => {\n        dispatch(getMenuItem({\n            ...child,\n            parentUrl: parent.url,\n            level: level + 1\n        }))\n    })\n\n    dispatch(receiveMenuItem({\n        ...parent,\n        children: children,\n        level: level,\n    }))\n}\n\nconst getMenuChild = ({level, ...child}) => dispatch => {\n    dispatch(requestMenuItem(child))\n    dispatch(receiveMenuItem({\n        ...child,\n        level: level\n    }))\n}\n\nexport const getMenuTree = ({level = 0, ...parent}) => dispatch => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { query } = parent\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const {models, count } = results\n\n        const parentUrl = parent.url\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                level: level + 1,\n                parentId: parentUrl,\n                parentUrl: parentUrl,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(getMenuTreeNode(child))\n\n            return child\n\n        })\n\n        dispatch(receiveMenuItem({\n            ...parent,\n            id: parentUrl,\n            level: level,\n            parentUrl: parentUrl,\n            children: children,\n            count\n        }))\n\n    })\n\n}\n\nexport const getMenuTreeNode = (item) => (dispatch) => {\n\n    const { url, uniqueId } = item\n\n    const query = {\n        models: \"documents\",\n        uniqueId: uniqueId\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const model = results.models && results.models[0]\n        const parent = {\n            ...item,\n            ...model,\n            type: \"treeitem\",\n            url: url,\n            query: {\n                models: \"documents\",\n                parentId: model && model.id\n            }\n        }\n\n        dispatch(getMenuTreeChildren(parent))\n    \n    })\n\n}\n\nexport const getMenuTreeChildren = ({level = 0, ...parent}) => (dispatch) => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { parentUrl } = parent\n\n    const query = {\n        models: \"documents\",\n        parentId: parent.id\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const {models, count } = results\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                parentUrl: parentUrl,\n                level: level + 1,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(receiveMenuItem(child))\n\n            return child\n\n        })\n\n        if (children && children.length) {\n            parent = {\n                ...parent,\n                level: level,\n                count: count,\n                children: children\n            }\n        }\n \n        dispatch(receiveMenuItem({\n            ...parent,\n            level: level\n        }))\n         \n    })\n\n}\n\nexport const sortMenuTree = ({source, destination, item}) => (dispatch, getState) => {\n\n    const state = getState()\n    const finder = state.finder\n    const menuByUrl = finder.menuByUrl\n    const menuById = finder.menuById\n\n    const itemNode = item.id && menuById[item.id]\n\n    let sourceNode = source.url && {\n        ...menuByUrl[source.url],\n        children: [...menuByUrl[source.url].children]\n    }\n\n    sourceNode.children.splice(source.index, 1)\n\n    let destinationNode = destination.url && {\n        ...menuByUrl[destination.url],\n        children: menuByUrl[destination.url].children && [...menuByUrl[destination.url].children, itemNode] ||[itemNode]\n    }\n\n\n    dispatch(receiveMenuItem({\n        ...sourceNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...destinationNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...itemNode,\n        parentUrl: destinationNode.url,\n        parentId: destinationNode.id\n    }))\n\n    const id = itemNode.id;\n    const parentId = destinationNode.id\n\n    if (id && parentId === destinationNode.url) {\n        dispatch(saveModel({\n            id: id,\n            parentId: null\n        }))\n    } else if (id && parentId) {\n        dispatch(saveModel({\n            id: id,\n            parentId: parentId\n        }))\n    }\n\n}\n\nexport const { \n    requestFinder, receiveFinder, \n    requestMenuByUrl, receiveMenuByUrl, \n    requestMenuTree, receiveMenuTree, \n    requestMenuTreeItem, receiveMenuTreeItem, \n    requestMenuItem, receiveMenuItem, \n    moveMenuItem,\n    expandMenuItem, collapseMenuItem, toggleMenuItem, \n    requestParents, receiveParents } = finderByIdSlice.actions\nexport default finderByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getFinder } from \"../finder/\"\n\nconst appSlice = createSlice({\n    name: 'app',\n    initialState: {\n        isLoading: false,\n        header: {\n        },\n        search: {\n//            expanded: false\n        },\n        sidebar: {\n            expanded: true\n        }\n    }, \n    reducers: {\n        requestApp(state, action) {\n            return {\n                ...state,\n                isLoading: true,\n            }\n        },\n        receiveApp(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        receiveLayout(state, action) {\n            const { header, sidebar } = action.payload\n            return {\n                ...state,\n                header: header,\n                sidebar: sidebar\n            }\n        },\n        toggleSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: !state.search.expanded,\n                }\n            }\n        },\n        toggleHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: !state.header.expanded,\n                }\n            }\n        },\n        toggleSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: !state.sidebar.expanded,\n                }\n            }\n        },\n        requestSchemasByName(state, action) {\n            return {\n                ...state,\n                schemasByName: {}\n            }\n        },\n        receiveSchemasByName(state, action) {\n            const { schemasByName } = action.payload\n            return {\n                ...state,\n                schemasByName: schemasByName\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const {menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n\n        },\n        receiveMenuItemByUrl(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        url: url\n                    }\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents\n            }\n        }\n    }\n})\n\nexport const getApp = (app) => dispatch => {\n\n    dispatch(requestApp(app))\n    dispatch(receiveApp(app))\n\n    dispatch(getFinder(app))\n//    schemas && dispatch(getSchemasByName({schemas}))\n    \n}\n\nexport const getAppLayout = (layout = \"default\") => dispatch => {\n\n    if (layout === \"editor\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: false\n            },\n            sidebar: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: true\n            }\n        }))\n    }\n\n}\n\nexport const getAppSearch = ({expanded, q}) => dispatch => {\n    dispatch(toggleSearch({expanded, q}))  \n}\n\nexport const getParents = ({pathname}) => (dispatch, getState) => {\n\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    let parents = [];\n  \n    const pathnames = pathname.split('/');\n  \n    let url = '';\n  \n    pathnames.forEach((path) => {\n\n        if (path) {\n            url = url + '/' + path;\n        } else {\n            url = '/';\n        }\n    \n        if (menuByUrl && menuByUrl[url] && menuByUrl[url].title) {\n            parents.push(menuByUrl[url]);\n        }\n        \n        if (url == '/') {\n            url = '';\n        }\n\n    });\n\n    dispatch(receiveParents({parents:parents}))\n  \n}\n\nexport const getSchemasByName = ({schemas = []}) => dispatch => {\n\n    dispatch(requestSchemasByName())\n\n    let schemasByName = {}\n\n    schemas.map(schema => {\n\n        if (schema.name) {\n            schemasByName[schema.name] = schema\n        }\n\n    })\n\n    dispatch(receiveSchemasByName({schemasByName}))\n    \n}\n\nexport const getMenuItem = ({pathname}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    if (menuItem && menuItem.type === \"tree\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    if (menuItem && menuItem.type === \"treeitem\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    \n}\n \nconst getMenuTree = (parent) => dispatch => {\n\n    const { query } = parent\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => \n       dispatch(getMenuTreeChildren({parent, results}))\n    )\n\n}\n\nconst getMenuTreeChildren = ({parent, results}) => dispatch => {\n    const { models } = results;\n\n\n    let children = []\n\n    if (models) {\n        models.map((model) => {\n\n            const { template, query } = parent\n            const { collectionId, models } = query;\n\n            const { id, title, uniqueId } = model;\n                \n            let url = parent.url + \"/\" + uniqueId;\n        \n            const child = {\n                ...model,\n                template: template,\n                type: \"treeitem\",\n                pathname: url,\n                url: url,\n                query: {\n                    collectionId: collectionId,\n                    models: models,\n                    parentId: id\n                }\n            }\n            \n            children.push(child)\n        })\n    \n    }\n    \n    if (children.length) {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"tree\", count: children.length, children: children}))\n        \n        children.map((child) => {\n//            dispatch(receiveMenuItemByUrl(child))\n            dispatch(getMenuTree(child))\n        })\n        \n    } else {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"treeitem\"}))\n\n    }\n\n}\n\n\nconst getMenuChildren = ({children = [], level = 0}) => dispatch => {\n\n    children.forEach((child) => {\n\n        let item = {\n            ...child,\n            level: level\n        }\n\n        if (item.children) {\n            dispatch(getMenuChildren({children: item.children, level: level++}))\n        }\n\n        dispatch(receiveMenuItemByUrl(item))\n\n    });\n\n}\n\n/*\nexport const getMenuByUrl = ({menu = []}) => dispatch => {\n    dispatch(requestMenuByUrl())\n    dispatch(getMenuChildren({children: menu}))\n}*/\n\n\nexport const { requestApp, receiveApp, receiveLayout, toggleHeader, toggleSearch, toggleSidebar, requestSchemasByName, receiveSchemasByName, requestMenu, receiveMenu, toggleMenuItem, requestMenuByUrl, receiveMenuByUrl, receiveMenuItemByUrl, requestParents, receiveParents } = appSlice.actions\nexport default appSlice.reducer","export function getMenuMedia({query = {}, mediaTypes = [], template = \"media\", layout, ...props}) {\n\n    /*\n    const mediaType = query && query.mediaType\n\n    if (mediaType && Array.isArray(mediaType)) {\n        mediaTypes = mediaType\n    }*/\n\n    let mediaType\n\n    if (mediaTypes && mediaTypes.length === 1) {\n        mediaType = mediaTypes[0] + \"*\"\n    } else {\n        mediaType = \"*\"\n    }\n\n    if (!query.status) {\n        query.status = \"NOT trash\"\n    }\n\n    let q = []\n\n    q.push(\"parentId:NOT *\")\n    query.q && q.push(query.q)\n    mediaTypes && mediaTypes.length > 1 && q.push(\"mediaType:(\" + mediaTypes.join(\" OR \") + \")\")\n\n    q = q.join(\" \")\n\n    return {\n        ...props,\n        icon: \"image\",\n        template: template,\n        layout: layout,\n        query: {\n            ...query,\n            models: \"media\",\n            mediaType: mediaType,\n            q: q,\n        }\n    }\n\n}\n\nexport default getMenuMedia","export function getMenuDocuments({query, documentTypes = [], template = \"documents\", ...props}) {\n\n    const documentType = query && query.documentType\n\n    if (documentType && Array.isArray(documentType)) {\n        documentTypes = documentType\n    }\n\n    return {\n        ...props,\n        template: template,\n        query: {\n            ...query,\n            models: \"documents\",\n            documentType: documentTypes && documentTypes.length === 1 && documentTypes[0] ||\"*\",\n            q: documentTypes && documentTypes.length > 1 && \"documentType:(\" + documentTypes.join(\" OR \") + \")\" ||\"\"\n        }\n    }\n\n}\n\nexport default getMenuDocuments","export function getMenuLatest({query, ...props}) {\n\n    return {\n        ...props,\n        icon: \"access_time\",\n        query: {\n            ...query,\n            models: \"documents\",\n            status: \"NOT trash\",\n            models: \"documents\",\n            sort: \"updatedAt DESC\"\n        }\n    }\n\n}\n\nexport default getMenuLatest","export function getMenuTrash({query, documentTypes = [], ...props}) {\n\n    return {\n        ...props,\n        icon: \"delete\",\n        query: {\n//            ...query,\n            models: \"documents\",\n            status: \"trash\",\n            models: \"documents\",\n            sort: \"deletedAt DESC\",\n        }\n    }\n\n}\n\nexport default getMenuTrash","export function getMenuSearch({query, ...props}) {\n\n    return {\n        ...props,\n        query: {\n            ...query,\n//            models: models,\n//            documentType: models === \"documents\" && \"*\"\n        }\n    }\n\n}\n\nexport default getMenuSearch","import getMenuMedia from \"./getMenuMedia\"\nimport getMenuDocuments from \"./getMenuDocuments\"\nimport getMenuEkultur from \"./getMenuDocuments\"\nimport getMenuLatest from \"./getMenuLatest\"\nimport getMenuTrash from \"./getMenuTrash\"\nimport getMenuSearch from \"./getMenuSearch\"\n\nexport function getMenuChildren(props) {\n    let children = []\n  \n    props.children.forEach((child) => {\n        child = getMenuChild(child, props);\n        children.push(child);\n    });\n    \n    return children\n    \n}\n\nexport function getMenuChild(child, props) {\n    let { root, parent } = props;\n\n    if (!child) {\n        return false;\n    }\n    \n    let { type } = child;\n\n    // url based on type\n\n    if (type === \"search\") {\n        child = getMenuSearch({...child})\n\n    } else if (type === \"documents\") {\n        child = getMenuDocuments({...child})\n\n    } else if (type === \"media\") {\n        child = getMenuMedia({...child, pathname: \"media\", mediaTypes: [\"*\"]})\n\n    } else if (type === \"media/image\") {\n        child = getMenuMedia({pathname: \"image\", ...child, mediaTypes: [\"image\"]})\n\n    } else if (type === \"media/video\") {\n        child = getMenuMedia({pathname: \"video\", ...child, mediaTypes: [\"video\"]})\n\n    } else if (type === \"media/audio\") {\n        child = getMenuMedia({pathname: \"audio\", ...child, mediaTypes: [\"audio\"]})\n\n    } else if (type === \"media/misc\") {\n        child = getMenuMedia({pathname: \"misc\", ...child, mediaTypes: [\"misc\"]})\n\n    } else if (type === \"media/application\") {\n        child = getMenuMedia({pathname: \"apps\", ...child, mediaTypes: [\"application\"]})\n\n    } else if (type === \"media/upload\") {\n        child = getMenuMedia({pathname: \"upload\", ...child, mediaTypes: [\"*\"], template: \"upload\", layout: \"uploads\"})\n\n    } else if (type === \"ekultur\") {\n        child = getMenuEkultur({...child})\n\n    } else if (type === \"latest\") {\n        child = getMenuLatest({...child})\n\n    } else if (type === \"trash\") {\n        child = getMenuTrash({...child})\n\n    }\n    \n    // child props\n\n    let { role, url, pathname, children, hidden, query } = child\n\n    // query\n\n    if (query && !query.collectionId) {\n        query.collectionId = props.collectionId\n    }\n\n    // parent & role\n\n    if (!parent && role) {\n        role = role\n    } else {\n        role = undefined\n    }\n\n    // url based on pathname\n    \n    if (!url && pathname && pathname.startsWith('/')) {\n        url = pathname;\n    }\n\n    if (!url && root && pathname) {\n        url = root + '/' + pathname;\n    }\n  \n    if (!url && root) {\n        url = root;\n    }\n\n    // icon\n\n    let { icon } = child\n\n    if (parent && !parent.hidden) {\n        icon = undefined\n    }\n\n    // hidden\n\n    if (hidden) {\n//        url = undefined\n    }\n\n    // rootUrl\n\n    const rootUrl = url ||root\n\n    child = {\n        ...child,\n        icon: icon,\n        url: url,\n        role: role,\n        query: query,\n        children: children && children.length && getMenuChildren({...props, children: children, root: rootUrl, parent: child}) ||null\n    }\n      \n    return child;\n    \n  }\n\n  export default getMenuChildren","\nconst kpPages = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"home\",\n            title: \"Ny forside\",\n            url: \"/kp/pages/new?documentType=pageHome\"\n        },\n        {\n            icon: \"event\",\n            title: \"Nytt kart\",\n            url: \"/kp/pages/new?documentType=pageMap\"\n        },\n        {\n            icon: \"event\",\n            title: \"Nytt tema\",\n            url: \"/kp/pages/new?documentType=pageTopic\"\n        },\n    ]\n}\n\nconst kioskPages = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"event\",\n            title: \"Ny mosaikkk\",\n            url: \"/kp/kiosk/new?documentType=pageGrid\"\n        },\n        {\n            icon: \"event\",\n            title: \"Ny tidslinje\",\n            url: \"/kp/kiosk/new?documentType=pageTimeline\"\n        },\n        {\n            icon: \"event\",\n            title: \"Nytt bildekart\",\n            url: \"/kp/kiosk/new?documentType=pageAnnotate\"\n        },\n        {\n            icon: \"event\",\n            title: \"Ny media\",\n            url: \"/kp/kiosk/new?documentType=pageMedia\"\n        },\n        {\n            icon: \"event\",\n            title: \"Ny liste\",\n            url: \"/kp/kiosk/new?documentType=pageList\"\n        },\n    ]\n}\n\nconst kioskDevice = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"bug_report\",\n            title: \"Ny enhet\",\n            url: \"/kp/device/new?documentType=device\"\n        },\n    ]\n}\n\nexport default {\n    title: \"Nytt innhold\",\n    \"children\": [\n        {\n            icon: \"event\",\n            title: \"Ny artikkel\",\n            url: \"/kp/article/new?documentType=article\"\n        },\n        kpPages,\n        kioskPages,\n        kioskDevice\n    ]\n\n}","import app from \"./app\"\n\nexport default app","import getMenuChildren from \"../../utils/getMenuChildren\"\n\nimport menu from \"./menu\"\nimport primaryAction from \"./primaryAction\"\nimport theme from \"./theme\"\n\nexport default {\n    theme: theme,\n    root: \"/kp\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"KulturPunkt\",\n    subtitle: \"Museum\",\n    menu: getMenuChildren({root: \"/kp\", collectionId: 54, children: menu}),\n    primaryAction: primaryAction,\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n        \"expanded\": false,\n        \"placeholder\": \"Sk i KulturPunkt\"\n    }\n}","export default {\n    \"palette\": {\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        }\n    }\n}","import kpPageTree from \"./menuKpPageTree\"\nimport kpPages from \"./menuKpPages\"\nimport kioskPages from \"./menuKioskPages\"\nimport kioskDevices from \"./menuKioskDevices\"\nimport articles from \"./menuArticles\"\nimport media from \"./menuMedia\"\nimport ekultur from \"./menuEkultur\"\nimport latest from \"./menuLatest\"\nimport trash from \"./menuTrash\"\nimport settings from \"./menuSettings\"\n\nexport default [\n    kpPageTree,\n    articles,\n    kpPages,\n    kioskPages,\n    kioskDevices,\n    media,\n    ekultur,\n    latest,\n    trash,\n    settings\n]","export default {\n    type: \"tree\",\n    role: \"group\",\n    title: \"KulturPunkt\",\n    icon: \"home\",\n    pathname: \"\",\n    template: \"finder/tree\",\n    query: {\n        models: \"documents\",\n        status: \"NOT trash\",\n        documentType: \"page*\",\n        q: \"NOT parentId:*\"\n    },\n}","export default {\n    role: \"group\",\n    title: \"Artikler\",\n    icon: \"view_stream\",\n    pathname: \"article\",\n    query: {\n        models: \"documents\",\n        documentType: \"article\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"group\",\n    hidden: true,\n    title: \"Kiosk\",\n    pathname: \"pages\",\n    children: [\n        {\n            role: \"group\",\n            title: \"Hjemmeside\",\n            icon: \"view_stream\",\n            pathname: \"home\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageHome\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            role: \"group\",\n            title: \"Tema\",\n            icon: \"view_stream\",\n            pathname: \"topic\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageTopic\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            role: \"group\",\n            title: \"Kart\",\n            icon: \"view_stream\",\n            pathname: \"map\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageMap\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n}","export default {\n    role: \"group\",\n    hidden: true,\n    title: \"Kiosk\",\n    pathname: \"kiosk\",\n    children: [\n        {\n            role: \"group\",\n            title: \"Mosaikk\",\n            icon: \"view_stream\",\n            pathname: \"grid\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageGrid\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            role: \"group\",\n            title: \"Tidslinje\",\n            icon: \"view_stream\",\n            pathname: \"timeline\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageTimeline\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            role: \"group\",\n            title: \"Bildekart\",\n            icon: \"view_stream\",\n            pathname: \"annotate\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageAnnotate\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            role: \"group\",\n            title: \"Media\",\n            icon: \"view_stream\",\n            pathname: \"media\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageMedia\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            role: \"group\",\n            title: \"Liste\",\n            icon: \"view_stream\",\n            pathname: \"list\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageList\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n}","export default {\n    role: \"group\",\n    title: \"Enheter\",\n    icon: \"bug_report\",\n    pathname: \"device\",\n    query: {\n        models: \"documents\",\n        documentType: \"device\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"group\",\n    type: \"media\",\n    title: \"Media\",\n    children: [\n        {\n            type: \"media/image\",\n            title: \"Images\"\n        },\n        {\n            type: \"media/video\",\n            title: \"Video\"\n        },\n        {\n            type: \"media/audio\",\n            title: \"Audio\"\n        },\n        {\n            type: \"media/misc\",\n            title: \"Misc\"\n        },\n        {\n            type: \"media/application\",\n            title: \"Apps\"\n        },\n        {\n            type: \"media/upload\",\n            title: \"Upload\"\n        }\n    ]\n}","export default {\n    role: \"group\",\n    title: \"Ekultur\",\n    icon: \"link\",\n    pathname: \"ekultur\",\n    query: {\n        models: \"documents\",\n        documentType: \"ekultur*\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"group\",\n    type: \"latest\",\n    title: \"Latest\",\n    pathname: \"latest\"\n}","export default {\n    role: \"group\",\n    type: \"trash\",\n    title: \"Trash\",\n    pathname: \"trash\"\n}","export default {\n    role: \"group\",\n    icon: \"settings\",\n    title: \"Settings\",\n    pathname: \"settings\",\n    children: [\n        {\n            role: \"group\",\n            title: \"Collections\",\n            pathname: \"collections\",\n            layout: \"masonry\",\n            query: {\n                models: \"collections\",\n                collectionType: \"kp\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n\n}","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport IconButton from '@material-ui/core/IconButton';\nimport SelectIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        \"& svg\": {\n            width: theme.spacing(2.5),\n            height: theme.spacing(2.5),\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%,-50%)\",\n            color: \"currentColor\"\n        }        \n    },\n    select: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"1px dotted\",\n        margin: 1,\n        borderColor: \"currentColor\",\n\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1\n        }\n\n    },\n    selected: {\n        display: \"block\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"2px solid\",\n        borderColor: theme.palette.primary.main,\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        boxShadow: theme.shadows[2],\n    }\n}));\n\nconst ButtonSelect = ({className, selected = false, onClick}) => {\n    const classes = useStyles();\n\n    if (selected) {\n\n        return (\n            <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" aria-label=\"select\" onClick={onClick}>\n                <div className={classes.selected}>\n                    <SelectIcon />\n                </div>\n            </IconButton>\n        )\n\n    }\n\n    return (\n        <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" aria-label=\"select\" onClick={onClick}>\n            <div className={classes.select}>\n                <SelectIcon />\n            </div>\n        </IconButton>\n    )\n\n}\n\nButtonSelect.propTypes = {\n    selected: PropTypes.bool,\n    onClick: PropTypes.func\n}\n\nexport default ButtonSelect;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    base: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n}));\n\nconst PreviewBase = ({children}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <div className={classes.base}>\n            {children}\n        </div>\n    )\n}\n\nPreviewBase.propTypes = {\n    children: PropTypes.node,\n}\n\nexport default PreviewBase;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    scale: {\n        position: \"absolute\",\n        transform: props => { return props.scale && \"scale(\"+props.scale+\")\" },\n        margin: props => { return props.margin },\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        \"& > *\": {\n            position: \"absolute\",\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n\n            maxWidth: props => { return props.maxWidth },\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n        }\n\n    },\n}));\n\nconst PreviewScale = ({children, maxWidth, scale = 1, margin = 0, ...props}) => {\n\n    if (scale < 1) {\n        margin = scale * 100 * -1 + \"%\"\n    }\n\n    const classes = useStyles({scale, maxWidth, margin})\n\n    return (\n        <div className={classes.scale}>\n            {children}\n        </div>\n    )\n}\n\nPreviewScale.propTypes = {\n    children: PropTypes.node.isRequired,\n}\n\nexport default PreviewScale;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { create } from 'jss';\nimport { makeStyles, withStyles, useTheme, jssPreset, StylesProvider } from '@material-ui/core/styles';\nimport NoSsr from '@material-ui/core/NoSsr';\nimport rtl from 'jss-rtl';\nimport Frame from 'react-frame-component';\n\nconst useStyles = theme => ({\n    frame: {\n        width: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        height: \"100%\",\n        border: 'none',\n    },\n});\n\nconst PreviewIframe = (props) => {\n    const { children, classes, ...other } = props;\n    const theme = useTheme();\n    const [state, setState] = useState({\n        ready: false,\n    });\n    \n    const instanceRef = React.useRef();\n\n    const handleRef = React.useCallback((ref) => {\n        instanceRef.current = {\n            contentDocument: ref ? ref.node.contentDocument : null,\n            contentWindow: ref ? ref.node.contentWindow : null,\n        };\n    }, []);\n\n    const onContentDidMount = () => {\n        setState({\n            ready: true,\n            jss: create({\n            plugins: [...jssPreset().plugins, rtl()],\n            insertionPoint: instanceRef.current.contentWindow['demo-frame-jss'],\n            }),\n            sheetsManager: new Map(),\n            container: instanceRef.current.contentDocument.body,\n            window: () => instanceRef.current.contentWindow,\n        });\n    };\n\n    const onContentDidUpdate = () => {\n        instanceRef.current.contentDocument.body.dir = theme.direction;\n    };\n\n//    const wrapper = useStyles()\n\n    // NoSsr fixes a strange concurrency issue with iframe and quick React mount/unmount\n    return (\n        <NoSsr defer>\n            <Frame\n                ref={handleRef}\n                className={classes.frame}\n                contentDidMount={onContentDidMount}\n                contentDidUpdate={onContentDidUpdate}\n                {...other}\n            >\n            <div id=\"demo-frame-jss\" />\n                {state.ready ? (\n                <StylesProvider jss={state.jss} sheetsManager={state.sheetsManager}>\n                    {React.cloneElement(children, {\n                    container: state.container,\n                    window: state.window,\n                    })}\n                </StylesProvider>\n                ) : null}\n            </Frame>\n        </NoSsr>\n    )\n}\n\nPreviewIframe.propTypes = {\n    children: PropTypes.node.isRequired,\n    classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(useStyles)(PreviewIframe);","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nconst NavView = ({menu = [], currentView}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ButtonView = ({title, icon}) => {\n        return (\n            <Button>{title}</Button>\n        )\n    }\n\n    return (\n        <ButtonGroup color=\"primary\">\n            { menu && menu.map((item, index) => <ButtonView {...item} key={index} />) }\n        </ButtonGroup>\n    )\n\n        \n}\n\nexport default NavView","\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport { NavPath, NavSettings } from \"@kit-ui/admin\"\nimport { NavView } from \"../components\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    finder: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: 1,\n        \"& + *\": {\n            marginTop: theme.spacing(8),\n            marginRight: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n            marginLeft: theme.spacing(2),\n        }\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },  \n    path: {\n        margin: theme.spacing(0,2),\n    },\n    settings: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        margin: theme.spacing(1)\n    }\n}));\n\nconst FinderLayout = ({\n    parents,\n    settings,\n    views,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.finder}>\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n            { views && <NavView className={classes.settings} settings={settings} /> }\n            <header className={classes.header}>\n                {parents && <NavPath className={classes.path} parents={parents} /> }\n            </header>\n            <div className={classes.body}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nFinderLayout.defaultProps = {\n\n}\n\nFinderLayout.propTypes = {\n\n}\n\nexport default FinderLayout;","\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport { NavPath, NavSettings } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    bulk: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        transition: \".125s ease-out\",\n        marginLeft: \"100%\",\n\n        \"& + *\": {\n            transition: \".125s ease-out\",\n            marginRight: 0,\n        },\n\n        \"&[aria-expanded=true]\": {\n            marginLeft: \"50%\",\n\n            \"& + *\": {\n                marginRight: \"50%\"\n            }\n\n        }\n\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: 1,\n        \"& + *\": {\n            marginTop: theme.spacing(8),\n            marginLeft: theme.spacing(2),\n            marginRight: theme.spacing(2),\n        }\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },  \n    path: {\n        margin: theme.spacing(0,2),\n    },\n    settings: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        margin: theme.spacing(1)\n    }\n}));\n\nconst FinderLayout = ({\n    expanded = false,\n    parents,\n    settings,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.bulk} aria-expanded={expanded}>\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n            <header className={classes.header}>\n                {parents && <NavPath className={classes.path} parents={parents} /> }\n            </header>\n            <div className={classes.body}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nFinderLayout.defaultProps = {\n\n}\n\nFinderLayout.propTypes = {\n\n}\n\nexport default FinderLayout;","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst searchByIdSlice = createSlice({\n    name: 'search',\n    initialState: {\n    }, \n    reducers: {\n        requestSearch(state, action) {\n            const { models, id, page, url, query } = action.payload\n\n            if (state[id] && state[id].page) {\n                return {\n                    ...state,\n                    [id]: {\n                        ...state[id],\n                        isLoading: true,\n                        url: url,\n                        query: {\n                            ...query,\n                            models: models,\n                            id: id\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                [id]: {\n                    isLoading: true,\n                    url: url,\n                    query: {\n                        ...query,\n                        models: models,\n                        id: id\n                    }\n                }\n            }\n        },\n        receiveError(state, action) {\n            const { id, error } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    isLoading: false,\n                    error: error.toString()\n                }\n            }\n\n        },\n        receiveSearch(state, action) {\n            const { id, results } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n                    isLoading: false,\n                    results: results\n                }\n            }\n        },\n        receivePage(state, action) {\n            const { id, page, results } = action.payload\n\n            const { start, rows, count } = results\n\n            const pages = Math.ceil(count/rows)\n            const currentPage = Math.ceil((start+rows)/rows)\n\n            const resultsByPage = {\n                ...state[id].resultsByPage,\n                [page]: results.models\n            }\n\n            let resultsLoaded = []\n\n            Object.values(resultsByPage).map(page => {\n                resultsLoaded = resultsLoaded.concat(page)\n            })\n\n            let nextPage, prevPage\n\n            for (let p = page; p <= pages; p++) {\n                if (!resultsByPage[p]) {\n                    nextPage = p\n                    break\n                }\n            }    \n\n            for (let p = page; p >= 1; p--) {\n                if (!resultsByPage[p]) {\n                    prevPage = p\n                    break\n                }\n            }    \n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n                    count: count,\n                    start: start,\n                    rows: rows,\n                    page: currentPage,\n                    pages: pages,\n                    nextPage: nextPage,\n                    prevPage: prevPage,\n                    resultsByPage: resultsByPage,\n                    resultsLoaded: resultsLoaded\n                }\n            }\n\n        }\n    }\n})\n\nexport const getQuery = ({models, id, page = 1, ...query}) => dispatch => {\n    let url = API + '/admin/api/' + models + '/search';\n\n    if (page > 1 && query.rows) {\n        query.start = query.rows * (page-1)\n    }\n    \n    const sq = qs.stringify(query)\n\n    if (sq) {\n        url = url + '?' + sq;\n    }\n\n//    if (page === 1) {\n        dispatch(requestSearch({models, id, page, url, query}))\n//    }\n    \n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        dispatch(receiveSearch({id, results}))\n        dispatch(receivePage({id, page, results}))\n    })\n\n}\n\n\nexport const { requestSearch, receiveSearch, receivePage, receiveError } = searchByIdSlice.actions\nexport default searchByIdSlice.reducer","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchById';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst ParentIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const collectionId = formContext && formContext.collectionId\n    const uniqueId = formContext && formContext.uniqueId\n\n    const query = {\n        id: \"/editor/\" + uniqueId + \"/parentId\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery(query))\n    }, [uniqueId])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchById = useSelector(state => state.searchById)\n    const currentSearch = searchById && searchById[query.id]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded ||[]\n        // const options = models.length && getOptionsTree(models) ||[]\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No parentId\"\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const {SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default ParentIdField","import React, { useState, useEffect } from 'react';\n// import { v4 as uuidv4 } from 'uuid';\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst FieldKioskPage = (props) => {\n    const {registry, formData, schema, uiSchema, formContext } = props;\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange(newFormData)\n    }\n\n    const _onAnnotateArrayChange = (links = []) => {\n        console.log('onAnnotateArrayChange', links)\n\n        handleChange({\n            ...formData,\n            links: links\n        })\n\n    }\n\n    const _onAnnotateImageChange = (links = []) => {\n        console.log('onAnnotateImageChange', links)\n\n        handleChange({\n            ...formData,\n            links: links\n        })\n \n    }\n\n    const annotateImage = formData && formData.backgroundImage\n    const imageAnnotations = formData && formData.links\n\n    let newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            annotateImage: annotateImage,\n            imageAnnotations: imageAnnotations,\n            onAnnotateArrayChange: _onAnnotateArrayChange,\n            onAnnotateImageChange: _onAnnotateImageChange,\n        }\n    }\n\n    /*\n    useEffect(() => {\n        newRegistry.formContext.imageAnnotations = imageAnnotations\n    }, [imageAnnotations])\n    */\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n    }\n\n    const newFormContext = newRegistry.formContext\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} \n            registry={newRegistry} \n            formContext={newFormContext} \n            uiSchema={newUiSchema}\n            onChange={handleChange} />\n    )\n\n\n}\n\nexport default FieldKioskPage","import React from 'react';\n\nconst ImageAnnotateArrayField = ({registry, ...props}) => {\n    const { ArrayField } = registry.fields;\n    const { onAnnotateArrayChange } = registry.formContext\n\n    return (\n        <ArrayField {...props} registry={registry} onChange={onAnnotateArrayChange} />\n    )\n\n}\n\nexport default ImageAnnotateArrayField;","import React, {useState, useEffect } from 'react';\nimport { ImageAnnotations } from \"@kit-ui/admin\"\n\nconst KioskAnnotateImageField = ({formContext, uiSchema, ...props}) => {\n    const { annotateImage = {}, imageAnnotations, onAnnotateImageChange } = formContext\n    const { mediaId, media, imageFilters } = annotateImage\n\n//    const uiOptions = getUiOptions(uiSchema)\n\n    return (\n        <ImageAnnotations imageUrl={media && media.imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} onChange={onAnnotateImageChange} />\n    )\n\n}\n\nexport default KioskAnnotateImageField;","import schema from \"./KpLink.schema\"\nimport uiSchema from \"./KpLink.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\",\n            \"filters\": [\"opacity\"]\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"textColor\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"textColor\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"module\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"link\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale ||formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"link\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\"\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markr\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    buttongroup: {\n        margin: props => { return theme.spacing(props.spacing/2 * -1) },\n        \"& > *\": {\n            margin: props => { return theme.spacing(props.spacing/2) },\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    label: {\n\n    }\n}));\n\nconst SectionButton = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n    const classes = useStyles()\n    \n    return (\n        <Button {...props} type=\"button\" data-size={size} data-variant={variant} disableElevation={true} color={color} variant={variant} size={size} className={classes.button}>\n            { icon && <Icon className={classes.icon}>{icon}</Icon>}\n            <b className={classes.label}>{title}</b>\n        </Button>\n    )\n\n}\n\n\nconst SectionButtons = ({className, spacing = 1, buttons = []}) => {\n\n    const classes = useStyles({spacing})\n\n    if (!buttons.length) {\n        return null\n    }\n\n    return (\n        <ButtonGroup color=\"primary\" className={className ||classes.buttongroup}>\n            { buttons && buttons.map((button, index) => {\n                return (\n                    <SectionButton {...button} key={index} />\n                )\n            })}\n        </ButtonGroup>\n    )\n    \n}\n\nSectionButtons.defaultProps = {\n    \"spacing\": 1\n}\n\nSectionButtons.propTypes = {\n    buttons: PropTypes.array,\n    buttonGroupProps: PropTypes.object,\n    buttonProps: PropTypes.object\n}\n\nexport default SectionButtons;","import React, { Component } from 'react';\nimport { ImagePreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport KpLinkButtons from './KpLinkButtons';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n\n        minHeight: 256,\n\n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n    buttons: {\n        zIndex: 2,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    preview: {\n        margin: 0\n    }\n}));\n\nconst KpLinkMediaLayout = (props) => {\n\n    const {mediaId, media, referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const mediaButtons = [\n        {\n            icon: \"remove_circle\",\n            title: \"Remove\",\n            variant: \"text\",\n            size: \"small\",\n            onClick: () => onChange({mediaId: undefined, media: {}})\n        }\n    ]\n\n    const buttons = [\n        {\n            icon: \"search\",\n            title: \"Finn media\",\n            color: \"inherit\",\n            size: \"small\",\n            onClick: () => onDialog(props)\n        }\n    ]\n\n    const imageUrl = mediaId && media && media.imageUrl || referenceId && reference && reference.imageUrl;\n\n    if (media && media.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={media.imageUrl} />\n                <KpLinkButtons className={classes.buttons} buttons={mediaButtons} />\n            </div>\n        )\n    }\n\n    if (referenceId && reference && reference.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={reference.imageUrl} />\n                <KpLinkButtons className={classes.buttons} buttons={buttons} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.root} data-name=\"media\">\n            <KpLinkButtons className={classes.buttons} buttons={buttons} />\n        </div>\n    )\n\n}\n\nexport default KpLinkMediaLayout","import React, { Component } from 'react';\nimport { ListModule } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\n\nconst useStyles = makeStyles(theme => ({\n    reference: {\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        \n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n}));\n\nconst KpLinkReferenceLayout = (props) => {\n\n    const {referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const _onAddLink = () => {\n        onDialog && onDialog(props)\n    }\n\n    const _onRemoveLink = () => {\n        onChange && onChange({\n            referenceId: undefined, \n            reference: {}\n        })\n    }\n\n    const LinkAddButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkIcon />\n            </IconButton>\n        )\n    }\n\n    const LinkRemoveButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkOffIcon />\n            </IconButton>\n        )\n    }\n\n\n    if (referenceId && reference) {\n        return (\n            <div className={classes.reference}>\n                <ListModule {...reference} startAdornment={<LinkRemoveButton onClick={_onRemoveLink} />} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.reference} onClick={_onAddLink}>\n            <ListModule untitled=\"Add a link\" startAdornment={<LinkAddButton />} />\n        </div>\n    )\n\n}\n\nexport default KpLinkReferenceLayout","import React, { Component } from 'react';\n\n//import KpLinkContentLayout from \"./KpLinkContentLayout\"\nimport KpLinkMediaLayout from \"./KpLinkMediaLayout\"\nimport KpLinkReferenceLayout from \"./KpLinkReferenceLayout\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KpLinKContentField = (props) => {\n\n    const { formData, formContext, schema, uiSchema, registry} = props\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n    const mediaType = media && media.mediaType\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n    const referenceDescription = reference && reference.description\n\n    /*\n    const imageUrl = media.imageUrl || reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n    */\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const _onMediaChange = ({mediaId, media}) => {\n\n        console.log('MEDIA change', media)\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            mediaId: mediaId,\n            media: media\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onMediaDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    mediaId: schema.properties.mediaId,\n                    media: schema.properties.media\n                }\n            },\n            formData: {\n                mediaId: mediaId,\n                media: media\n            },\n            onChange: _onMediaChange\n        })\n\n    }\n\n    const _onReferenceChange = ({referenceId, reference}) => {\n\n        console.log(\"KpLink:onChange\", referenceId)\n\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            referenceId: referenceId,\n            reference: reference\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onReferenceDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    referenceId: schema.properties.referenceId,\n                    reference: schema.properties.reference\n                }\n            },\n            onChange: _onReferenceChange\n        })\n\n    }\n    \n    const newUiSchema = {\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n            \"grid\": true,\n        },\n        \"linkMedia\": {\n            \"ui:layout\": KpLinkMediaLayout,\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\",\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:xs\": 4,\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": media,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:onDialog\": _onMediaDialog,\n            \"ui:onChange\": _onMediaChange,\n        },\n        \"linkContent\": {\n            \"ui:xs\": 8,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                ...uiSchema.linkContent.runningHead,\n                \"color\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\",\n                \"ui:placeholder\": referenceTitle,\n                ...uiSchema.linkContent.title,\n                \"titleColor\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n                \"ui:placeholder\": referenceDescription,\n                \"ui:widget\": \"textarea\"\n            },\n        },\n        \"linkReference\": {\n            \"ui:layout\": KpLinkReferenceLayout,\n            \"ui:xs\": 12,\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:dialog\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:onDialog\": _onReferenceDialog,\n            \"ui:onChange\": _onReferenceChange,\n        },\n    }\n\n    const {ObjectField } = registry.fields\n\n\n    return <ObjectField {...props} uiSchema={newUiSchema} />\n\n    return (\n        <p>{JSON.stringify(uiSchema)}</p>\n    )\n\n}\n\nexport default KpLinKContentField","import React, { Component } from 'react';\nimport Color from 'color';\nimport model from \"./KpLink.model\"\n\nimport KpLinkContentField from \"./KpLinkContentField\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\n\n\nconst KpLinkField = (props) => {\n    const {formData, formContext, registry } = props\n\n\n    const schema = {\n        ...model.schema,\n//        ...props.schema\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:layout\": \"kpLink\"\n    }\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n\n    const imageUrl = media.imageUrl || referenceId && reference && reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const getContrastColor = (hex) => {\n        const color = Color(hex)\n        return color.isLight() && \"black\" || \"white\"\n    }\n\n    const _onChange = (formData) => {\n\n        if (formData.backgroundColor !== backgroundColor) {\n            formData.color = getContrastColor(formData.backgroundColor)\n        }\n\n        if (formData.color !== color) {\n            formData.titleColor = formData.color\n        }\n\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange && props.onChange(newFormData)\n    }\n\n    const _onCropChange = (imageCropdata) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageCropdata: imageCropdata\n        })\n    }\n\n    const _onFocalpoint = (imageFocalpoint) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFocalpoint: imageFocalpoint\n        })\n    }\n\n    const _onFiltersChange = (imageFilters) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFilters: imageFilters\n        })\n     }\n    \n    const getUiSchema = () => {\n        const uiOptions = getUiOptions(uiSchema);\n\n        let fieldset = []\n\n        const uiPreview = {\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": mediaId,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:imageUrl\": imageUrl,\n            \"ui:imageCropdata\": imageCropdata,\n            \"ui:imageFilters\": imageFilters,\n            \"ui:imageFocalpoint\": imageFocalpoint,\n        }\n\n        let newUiSchema = {}\n\n        if (uiSchema.content) {\n            newUiSchema.content = {\n                ...uiSchema.content,\n                ...uiPreview,\n\n                \"ui:field\": KpLinkContentField,\n\n            }\n\n            fieldset.push('content')\n\n        }\n\n        if (uiSchema.imageCropdata && imageUrl) {\n            newUiSchema.imageCropdata = {\n                ...uiSchema.imageCropdata,\n                ...uiPreview,\n                \"ui:onChange\": (cropdata) => _onCropChange(cropdata),\n            }\n\n            fieldset.push('imageCropdata')\n        }\n\n        if (uiSchema.imageFocalpoint && imageUrl) {\n            newUiSchema.imageFocalpoint = {\n                ...uiSchema.imageFocalpoint,\n                ...uiPreview,\n                \"ui:onChange\": (focalpoint) => _onFocalpoint(focalpoint),\n            }\n\n            fieldset.push('imageFocalpoint')\n\n        }\n\n        if (uiSchema.imageFilters && imageUrl) {\n            newUiSchema.imageFilters = {\n                ...uiSchema.imageFilters,\n                ...uiPreview,\n                \"ui:onChange\": (filters) => _onFiltersChange(filters),\n            }\n\n            fieldset.push('imageFilters')\n        }\n\n        if (formContext.pageType === \"annotate\") {\n            newUiSchema.imageAnnotations = {\n                ...uiSchema.imageAnnotations,\n                ...uiPreview\n            }\n\n            fieldset.push('imageAnnotations')\n        }\n\n        return {\n            ...uiSchema,\n            ...newUiSchema,\n            \"ui:options\": uiOptions,\n            \"ui:fieldset\": fieldset,\n            \"color\": {\n                ...uiSchema.color,\n                \"ui:backgroundColor\": formData && formData.backgroundColor\n            },\n            \"link\": {\n                ...newUiSchema.link,\n                \"linkContent\": {\n                    ...newUiSchema.content.linkContent,\n                    \"titleColor\": {\n                        \"ui:backgroundColor\": formData && formData.backgroundColor\n                    }\n                }\n            }\n        }\n\n    }\n\n    const newUiSchema = getUiSchema()\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} schema={schema} uiSchema={newUiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default KpLinkField","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '@material-ui/core/Badge';\n\nimport {\n    ModuleBase,\n    ModuleMedia,\n    ModuleTitle,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline,\n    NavToolbar,\n    NavSettings\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n\n            \"& *\": {\n                pointerEvents: \"none\"\n            },\n\n            \"&[aria-selected=true]\": {\n            },\n\n        },\n\n        \"&[data-elevated=true]\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1)\n        },\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&.sortable-helper\": {\n            borderTopColor: \"transparent\",\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n            \"& $settings\": {\n                display: \"none\"\n            },\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n        },\n\n        \"&[data-status=erased]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n        \"&[data-status=trash]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n    },\n    badge: {\n        \"& .MuiBadge-badge\": {\n            pointerEvents: \"none\",\n            margin: theme.spacing(1)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n        \n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },\n    media: {\n        display: \"flex\",\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst StartAdornment = ({startAdornment, badgeContent}) => {\n\n    const classes = useStyles({})\n\n    return (\n        <Badge className={classes.badge} badgeContent={badgeContent} color=\"primary\">\n            {startAdornment}\n        </Badge>\n    )\n\n}\n\nconst ListModule = ({imageUrl, untitled, typeLabel, type, title, description, metadata, status, statusLabel, author, datetime, selected, onClick, ...props }) => {\n    const classes = useStyles({})\n\n    return (\n        <ModuleBase {...props} className={classes.module} role={onClick && \"button\"} status={status} selected={selected} onClick={onClick}>\n            <StartAdornment {...props} />\n            <div className={classes.media}>\n                <ModuleMedia backgroundColor=\"transparent\" imageUrl={imageUrl} width=\"48px\" height=\"48px\" />\n            </div>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && props.onEdit} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel ||status} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={typeLabel || type} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n            <NavSettings {...props} className={classes.settings} />\n            <NavToolbar {...props} className={classes.toolbar} />\n        </ModuleBase>\n    )    \n\n}\n\nListModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleBase,\n    ModuleFormat,\n    ModuleHeader,\n    ModuleBody,\n    ModuleFooter,\n    ModuleButtons,\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        position: \"relative\",\n        flexGrow: 1,\n        padding: theme.spacing(2)\n    },\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        padding: props => { return theme.spacing(props.padding) }\n    }\n\n}));\n\nconst ExpandedModule = ({id, children, buttons, ...props }) => {\n    const classes = useStyles(props)\n\n    return (\n        <ModuleBase className={classes.module} id={id} expanded={true} elevation={4}>\n            <ModuleFormat {...props}>\n                <ModuleHeader {...props} className={classes.header} />\n                <ModuleBody className={classes.body}>\n                    {children}\n                </ModuleBody>\n            </ModuleFormat>\n            <ModuleFooter {...props} className={classes.footer}>\n                {buttons && <ModuleButtons buttons={buttons} />}\n            </ModuleFooter>\n        </ModuleBase>\n    )    \n\n}\n\nExpandedModule.propTypes = {\n    title: PropTypes.string,\n    menu: PropTypes.array,\n    buttons: PropTypes.array,\n    children: PropTypes.node\n}\n\nexport default ExpandedModule;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport KpLinkCollapsed from \"./KpLinkCollapsed\"\nimport KpLinkExpanded from \"./KpLinkExpanded\"\n\nconst KpLinkLayout = ({\n    editable,\n    expanded,\n    buttons,\n    onSave,\n    children,\n    ...props\n}) => {\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onSave\n                }\n            ]\n        }\n\n        return (\n            <KpLinkExpanded {...props} buttons={buttons}>\n                {children}\n            </KpLinkExpanded>\n        )\n    }\n\n    return (\n        <KpLinkCollapsed\n            {...props}\n            editable={editable}\n        />\n    )\n\n}\n\nKpLinkLayout.defaultProps = {\n    padding: 2,\n    editable: true\n}\n\nKpLinkLayout.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default KpLinkLayout;\n","import React from 'react';\n\nconst KpDeviceField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props;\n\n    const setStartPageId = (startPageId) => {\n        props.onChange({\n            ...formData,\n            startPageId: startPageId\n        })\n    }\n\n    const startPageId = formData && formData.startPageId\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            startPageId: startPageId,\n            setStartPageId: setStartPageId\n        }\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} registry={newRegistry} />\n    )\n\n\n}\n\nexport default KpDeviceField","import React from 'react';\nimport { ListModule, ExpandedModule, ModuleLabel } from \"@kit-ui/admin\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\n\nconst KpDeviceLinkField = ({\n    formData,\n    formContext,\n    children,\n    ...props\n}) => {\n\n    const { startPageId, setStartPageId } = formContext\n    const { referenceId, reference }= formData\n\n    const isStartPage = startPageId && referenceId === startPageId\n\n    const toggleStartPage = (id) => {\n        setStartPageId && setStartPageId(id)\n    }\n\n\n\n    const StartPageSettings = () => {\n\n        if (isStartPage) {\n            return (\n                <ButtonBase onClick={() => toggleStartPage(undefined)}>\n                    <ModuleLabel backgroundColor=\"black\">Startpage</ModuleLabel>\n                </ButtonBase>\n            )\n        }\n\n        return (\n            <ButtonBase onClick={() => toggleStartPage(referenceId)}>\n                <ModuleLabel>Startpage</ModuleLabel>\n            </ButtonBase>\n        )\n    }\n\n    const settings = [\n        StartPageSettings\n    ]\n\n    if (props.editable && props.expanded) {\n        return (\n            <ExpandedModule {...props}>\n                {children}\n            </ExpandedModule>\n        )\n    }\n\n    return (\n        <ListModule\n            {...reference}\n            onEdit={undefined}\n            elevation={1}\n            settings={settings}\n        />\n    )\n\n}\n\nexport default KpDeviceLinkField;\n","import React, {useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst PageEditorField = (props) => {\n    const { idSchema, schema, uiSchema, formData, formContext, registry } = props;\n    const { isLoading, isSaving, uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { currentId, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const getPrimaryAction = () => {\n\n        if (isLoading) {\n            return {\n                label: t(\"Loading\") + \" ...\",\n                disabled: true\n            }\n        } else if (isSaving) {\n            return {\n                label: t(\"Saving\") + \" ...\",\n                disabled: true\n            }\n        }\n\n        let primary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save as draft\"),\n                    onClick: () => onSubmit('draft'),\n                },\n                {\n                    label: t(\"Save and publish\"),\n                    onClick: () => onSubmit('publish'),\n                },\n            ]\n        }\n\n        let secondary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save and exit\"),\n                }\n            ]\n\n        }\n\n        if (uniqueId) {\n            secondary.children.push({\n                label: t(\"Save as\") + \" ...\",\n            })\n        }\n        \n\n        return {\n            type: \"save\",\n            label: t(\"Save\"),\n            onClick: () => onSubmit(),\n            children: [\n                primary,\n                secondary\n            ]\n        }\n    \n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getPrimaryAction()\n\n    // toggle fieldset\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggle = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale ||formContext.languages && formContext.languages[0]\n    const [currentLocale, setCurrentLocale] = useState(defaultLocale)\n\n    const _onLocale = (locale) => {\n        onLocale && onLocale(locale)\n        setCurrentLocale(locale)\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:layout\": \"pageEditor\",\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggle\": () => _onToggle()\n    }\n\n    const { ObjectField } = registry.fields;\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...formContext,\n            currentLocale: currentLocale\n        }\n    }\n\n    return (\n        <ObjectField {...props} registry={newRegistry} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageEditorField;","import React from 'react'\nimport {EditorBase, EditorHeader, EditorBody, EditorFooter, EditorOverlay } from \"@kit-ui/admin\"\n\nconst PageEditor = ({collapsible, expanded, overlay, onToggle, onSelect, children, ...props}) => {\n\n    const renderOverlay = () => {\n        const OverlayTemplate = overlay && overlay.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={overlay && overlay.expanded}>\n                { OverlayTemplate && <OverlayTemplate {...overlay} /> }\n            </EditorOverlay>\n        )\n    }\n\n    return (\n        <EditorBase>\n            <EditorHeader {...props} collapsible={collapsible} expanded={expanded} onToggle={onToggle} onSelect={onSelect} />\n            <EditorBody elevation={1} expanded={expanded}>\n                {children}\n            </EditorBody>\n            <EditorFooter {...props} />\n            { overlay && renderOverlay() }\n        </EditorBase>\n    )\n}\n\nexport default PageEditor;","import React, { useState } from 'react'\n\nconst PageContentField = (props) => {\n    const { uiSchema, formContext, registry } = props\n    const { dialog, preview } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": dialog,\n        \"ui:preview\": preview,\n        \"ui:layout\": \"pageContent\"\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageContentField;","import React from 'react';\nimport { NavMenuList, NavMenuItem, NavMenuLink } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    menu: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: \"auto\",\n        left: 0,\n        bottom: 0,\n        margin: 0,\n        width: props => { return props.menuWidth },\n        transition: \".125s ease-out\",\n\n        \"& + *\": {\n            position: \"absolute\",\n            zIndex: 1,\n            top: 0,\n            right: 0,\n            left: 0,\n            bottom: 0,\n            margin: 0,\n            overflowY: \"scroll\"\n        },\n\n        \"&[aria-expanded=true] + *\":  {\n            marginLeft: props => { return props.menuWidth },\n        }\n    },\n    menuList: {\n        margin: theme.spacing(2, 0),\n        \"& > li + li\": {\n            marginTop: theme.spacing(1)\n        }\n    }\n}));\n\nconst PageMenu = ({className, menuWidth = 224, menu = undefined}) => {\n    const classes = useStyles({menuWidth});\n\n    if (!menu) {\n        return false\n    }\n\n    return (\n        <aside className={className ||classes.menu} aria-expanded={true}>\n            <NavMenuList className={classes.menuList}>\n                {menu.map((item, index) => {\n                    return (\n                        <NavMenuItem key={index}>\n                            <NavMenuLink {...item} />\n                        </NavMenuItem>\n                    )\n                })}\n            </NavMenuList>\n        </aside>\n    )\n\n}\n\nexport default PageMenu;","import React from 'react';\nimport { EditorSection, EditorContent, EditorPreview, EditorSidebar } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    content: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n\n        transition: \".125s ease-out\",\n        transform: \"translateY(100%)\",\n\n        \"&[aria-expanded=true]\": {\n            transform: \"translateY(0)\",\n        }\n    },\n    wrapper: {\n        backgroundColor: \"inherit\", \n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst PageContent = ({id, selected = true, sidebar, preview, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    const renderSidebar = () => {\n        const SidebarTemplate = sidebar && sidebar.template;\n\n        return (\n            <EditorSidebar expanded={sidebar && sidebar.expanded}>\n                { SidebarTemplate && <SidebarTemplate {...sidebar} /> }\n            </EditorSidebar>\n        )\n    }\n\n    const renderPreview = () => {\n        const PreviewTemplate = preview && preview.template;\n        return (\n            <EditorPreview expanded={true}>\n                { PreviewTemplate && <PreviewTemplate {...preview} /> }\n            </EditorPreview>\n        )\n    }  \n\n    return (\n        <EditorSection id={id} expanded={selected} className={classes.content}>\n            { sidebar && renderSidebar() }\n            <EditorSection elevation={0} className={classes.wrapper}>\n                { preview && renderPreview() }\n                <EditorContent elevation={0}>\n                    { menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n                    {children}\n                </EditorContent>\n            </EditorSection>\n        </EditorSection>\n    )\n\n}\n\nexport default PageContent;","import React, { useState } from 'react'\n\nconst PageSettingsField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props\n    const { dialog } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:layout\": \"pageSettings\",\n        \"ui:field\": undefined\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageSettingsField;","import React from 'react';\n\nimport { EditorSection, EditorContent, EditorOverlay } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        \"&[aria-expanded=true]\": {\n            top: 0\n        }\n\n    },\n}));\n\nconst PageSettings = ({id, expanded = true, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    /*\n\n    const renderDialog = () => {\n        const DialogTemplate = dialog && dialog.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={dialog && dialog.expanded}>\n                { DialogTemplate && <DialogTemplate {...dialog} /> }\n            </EditorOverlay>\n        )\n    }\n\n    */\n\n    return (\n        <EditorSection id={id} elevation={0} className={classes.settings} aria-expanded={expanded}>\n            {menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n            <EditorContent expanded={true}>\n                {children}\n            </EditorContent>\n        </EditorSection>\n    )\n\n}\n\nexport default PageSettings;","import PageEditorField from \"./PageEditorField\"\nimport PageEditor from \"./PageEditorLayout\"\nimport PageContentField from \"./PageContentField\"\nimport PageContent from \"./PageContentLayout\"\nimport PageSettingsField from \"./PageSettingsField\"\nimport PageSettings from \"./PageSettingsLayout\"\n\nexport default {\n    fields: {\n        \"pageEditor\": PageEditorField,\n        \"pageEditorLayout\": PageEditor,\n        \"pageContent\": PageContentField,\n        \"pageContentLayout\": PageContent,\n        \"pageSettings\": PageSettingsField,\n        \"pageSettingsLayout\": PageSettings\n    }\n\n}","\nimport ParentIdField from \"./ParentIdField/ParentIdField\"\n\nimport KpPageField from \"./KpPage/KpPageField\"\nimport KpAnnotateArrayField from \"./KpPage/KpAnnotateArrayField\"\nimport KpAnnotateImageField from \"./KpPage/KpAnnotateImageField\"\n\nimport KpLinkField from \"./KpLink/KpLinkField\"\nimport KpLinkLayout from \"./KpLink/KpLinkLayout\"\n\nimport KpLinkMediaLayout from \"./KpLink/KpLinkMediaLayout\"\n\nimport KpDeviceField from \"./KpDevice/KpDeviceField\"\nimport KpDeviceLinkField from \"./KpDevice/KpDeviceLinkField\"\n\nimport pageEditor from \"./PageEditor/registry\"\n\nexport default {\n    \"fields\": {\n        \"parentId\": ParentIdField,\n        \"kpPage\": KpPageField,\n        \"kpAnnotateArray\": KpAnnotateArrayField,\n        \"kpAnnotateImage\": KpAnnotateImageField,\n        \"kpLink\": KpLinkField,\n        \"kpLinkLayout\": KpLinkLayout,\n        \"kpLinkMediaLayout\": KpLinkMediaLayout,\n        \"kpDevice\": KpDeviceField,\n        \"kpDeviceLink\": KpDeviceLinkField,\n        ...pageEditor.fields\n    },\n    \"widgets\": {\n//        \"colorSettings\": ColorSettingsWidget,\n//        \"listSettings\": ListSettingsWidget,\n//        \"gridSettings\": GridSettingsWidget,\n//        \"sizeSettings\": SizeSettingsWidget,\n//        \"placementSettings\": PlacementSettingsWidget\n    },\n    \"models\": {\n    }\n}","export default {\n    \"type\": \"string\",\n    \"format\": \"size\",\n    \"enum\": [\n      \"small\",\n      \"medium\",\n      \"large\",\n      \"xl\"\n    ],\n    \"enumNames\": [\n      \"Small\",\n      \"Medium\",\n      \"Large\",\n      \"XL\"\n    ],\n    \"default\" : \"small\"\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"1:1\",\n        \"2:1\",\n        \"4:3\"\n    ],\n    \"default\" : \"1:1\"\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\n//import PreviewTemplate from \"@frontend-components/admin/lib/components/AppKp/preview/Article\"\n\nexport default {\n    id: 1,\n    schemaType: \"documents\",\n    name: 'article',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import section from './section/schema'\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"location\": {\n                    \"type\": \"geopoint\"\n                },\n                \"keywords\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [],\n                    },\n                    \"uniqueItems\": true\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\",\n                    \"properties\": {\n                        \"content\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"headline\": {\n                                    \"type\": \"localizedString\"\n                                },\n                                \"caption\": {\n                                    \"type\": \"localizedString\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"author\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"type\": \"string\"\n                        },\n                        \"description\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"sections\" : {\n                    \"type\": \"array\",\n                    \"items\": section\n                },\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"topic\",\n                        \"referenceType\": \"articleIsPartOf\",\n                        \"_reverseReferenceType\": \"topicHasArticles\",\n                        \"_reverseReference\": \"hasArticles[]\"\n                    }\n                }\n            }\n        }\n    }\n}","import sectionType from './sectionType';\nimport sectionText from './sectionText';\nimport sectionMedia from './sectionMedia';\nimport sectionDm from './sectionDm';\nimport sectionLinks from './sectionLinks';\nimport sectionAttachments from './sectionAttachments';\nimport sectionQuote from './sectionQuote';\n  \nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": sectionType,\n        \"title\": {\n            \"type\" : \"localizedString\"\n        },\n        \"titleHidden\": {\n            \"type\" : \"boolean\"\n        }\n    },\n    \"dependencies\": {\n        \"sectionType\" : {\n            \"oneOf\": [\n                sectionText,\n                sectionMedia,\n                sectionDm,\n                sectionLinks,\n                sectionAttachments,\n                sectionQuote,\n            ]\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"text\",\n        \"media\",\n        \"dm\",\n        \"links\",\n        \"attachments\",\n        \"quote\"\n    ],\n    \"enumNames\": [\n        \"Tekst\",\n        \"Media\",\n        \"DM\",\n        \"Lenker\",\n        \"Vedlegg\",\n        \"Sitat\"\n    ],\n    \"default\" : \"text\"\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"text\"]\n        },\n        \"leadtext\": {\n            \"type\": \"localizedString\"\n        },\n        \"bodytext\": {\n            \"type\": \"localizedString\"\n        }\n    }\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"media\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"list\",\n                \"grid\",\n                \"slideshow\",\n            ],\n            \"enumNames\": [\n                \"Liste\",\n                \"Grid\",\n                \"Slideshow\",\n            ],\n            \"default\" : \"grid\"\n          },\n        \"media\": media\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","import ekultur from \"./ekultur\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"dm\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"grid\",\n              \"grid-wide\",\n              \"slideshow\",\n              \"slideshow-wide\"\n            ],\n            \"enumNames\": [\n              \"Grid\",\n              \"Grid Wide\",\n              \"Slideshow\",\n              \"Slideshow Wide\"\n            ],\n            \"default\" : \"grid\"\n          },\n        \"references\": ekultur\n    }\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"reference\",\n        \"referenceType\": \"ekultur\"\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"links\"]\n        },\n        \"links\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"url\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}","import attachments from \"./attachments\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"attachments\"]\n        },\n        \"attachments\": attachments\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"quote\"]\n        },\n        \"quote\": {\n            \"type\": \"localizedString\"\n        },\n        \"cite\": {\n            \"type\": \"string\"\n        }\n    }\n}","import header from \"./header/uiSchema\";\nimport body from \"./body/uiSchema\";\nimport isPartOf from \"./isPartOf/uiSchema\";\nimport settings from \"./settings/uiSchema\";\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\",\n            \"isPartOf\"\n        ],\n        \"header\": header,\n        \"body\": body,\n        \"isPartOf\": isPartOf\n    }\n}","export default {\n  \"select\": {\n    \"imageUrl\" : \"imageUrl\",\n    \"title\" : \"title\",\n    \"description\" : \"description\",\n    \"metadata\" : \"metadata\",\n    \"typeLabel\": \"typeLabel\"\n  },\n  prepare({formData, formContext}) {\n    let { documentType, title, content, description } = formData\n\n    const defaultLocale = formContext && formContext.defaultLocale\n    const currentLocale = formContext && formContext.currentLocale\n    const locale = defaultLocale ||currentLocale ||formData.locale\n    const localeId =  \"locale:\" + locale\n\n    let metadata = []\n\n    const titleImage = content && content.titleImage\n    const imageUrl = titleImage && titleImage.media && titleImage.media.imageUrl\n    \n    if (content) {\n\n        title = content.title && content.title[localeId]\n        description = content.description && content.description[localeId]\n\n        const { location, sections, isPartOf } = content\n\n        if (location && location.lat && location.lng) {\n            \n            if (location.address) {\n                metadata.push(location.address)\n            } else {\n                metadata.push(\"Sted\")\n            }\n            \n        }\n\n        if (sections && sections.length) {\n            metadata.push(sections.length + ' seksjoner')\n        }\n\n        if (isPartOf && isPartOf.length) {\n            metadata.push(isPartOf.length + ' tema')\n        }\n        \n                \n    }\n\n    return {\n        imageUrl: imageUrl,\n        untitled: \"Ny artikkel\",\n        title: title || \"Uten tittel\",\n        description: description,\n        metadata: metadata,\n        typeLabel: documentType\n    }\n    \n  }\n  \n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n        \"geocoder\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"keywords\",\n                \"license\",\n                \"location\"\n            ],\n            \"keywords\": {\n                \"ui:widget\": \"tags\",\n                \"ui:title\": \"Nkkelord\",\n                \"ui:help\": \"Beskrivende stikkord.\",\n            },\n            \"license\": {\n//                \"ui:widget\": \"selectLicense\",\n                \"ui:title\": \"Lisens\",\n                \"ui:help\": \"Velg en lisens for dette innholdet.\",\n            },\n            \"location\": {\n                \"ui:layout\": \"thumbnail\",\n                \"ui:options\": {\n                    \"minWidth\": 200,\n                    \"minHeight\": 200\n                },\n                \"ui:fieldset\": [\n                    \"map\",\n                    \"info\"\n                ],\n                \"map\": {\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                    \"ui:options\": {\n                        \"minWidth\": 200,\n                        \"minHeight\": 200\n                    },\n                    \"ui:layout\": \"geopointPreview\"\n                },\n                \"info\": {\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                }\n            }\n        }\n    },\n    \"geocoder\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Lokasjon\",\n        \"ui:icon\": \"near_me\",\n        \"ui:options\": {\n            \"position\": \"absolute\",\n            \"padding\": 2,\n            \"grid\": false\n        },\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"location\"\n            ],\n            \"location\": {\n                \"ui:field\": \"geopoint\",\n                \"ui:layout\": \"geocoder\",\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\",\n    ],\n    \"ui:layout\": \"section\",\n    \"ui:options\" : {\n        \"collapsible\": true,\n        \"expanded\": true,\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Header\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.title && formData.title[localeId]  \n    \n            return {\n                description: description\n            }\n    \n        }\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:field\": \"media\",\n//        \"ui:minHeight\": 240,\n        \"ui:options\": {\n            \"editable\": true,\n            \"hotspot\": true\n        },\n        \"ui:buttons\": [\n            {\n                \"title\": \"Finn hovedbilde\",\n                \"icon\": \"search\",\n                \"type\": \"sidebar\"\n            },\n        ],\n        \"ui:fieldset\": [\n            \"media\",\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"author\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"author\": {\n            \"fieldset\": [\n                \"name\",\n                \"description\"\n            ],\n            \"name\": {\n                \"ui:title\": \"Forfatter\"\n            },\n            \"description\": {\n                \"ui:title\": \"Forfatter, beskrivelse\",\n            },\n        }        \n    }\n\n}","import section from \"../section/uiSchema\";\n\nexport default {\n    \"ui:fieldset\": [\n        \"sections\"\n    ],\n    \"sections\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Innhold\",\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\" \n            },\n            prepare({formData = []}) {\n    \n                let description;\n    \n                if (formData.length && formData.length === 1) {\n                    description = formData.length + \" seksjon\"\n                } else if (formData.length) {\n                    description = formData.length + \" seksjoner\"\n                } else {\n                    description = \"Ingen seksjoner\"\n                }\n    \n                return {\n                    \"description\": description\n                }\n            }\n        },\n        \"ui:options\" : {\n            \"collapsible\": true,\n            \"expanded\": true,\n            \"draggable\": true,\n            \"spacing\": 2,\n        },\n        \"ui:buttons\" : [\n            {\n                \"icon\": \"subject\",\n                \"title\" : \"Tekst\",\n                \"item\" : {\n                    \"sectionType\" : \"text\"\n                }\n            },\n            {\n                \"icon\": \"insert_photo\",\n                \"title\" : \"Media\",\n                \"item\" : {\n                    \"sectionType\" : \"media\"\n                }\n            },\n            {\n                \"icon\": \"fingerprint\",\n                \"title\" : \"DM\",\n                \"item\" : {\n                    \"sectionType\" : \"dm\"\n                }\n            },\n            {\n                \"icon\": \"insert_link\",\n                \"title\" : \"Lenker\",\n                \"item\" : {\n                    \"sectionType\" : \"links\"\n                }\n            },\n            {\n                \"icon\": \"attach_file\",\n                \"title\" : \"Vedlegg\",\n                \"item\" : {\n                    \"sectionType\" : \"attachments\"\n                }\n            },\n            {\n                \"icon\": \"format_quote\",\n                \"title\" : \"Sitat\",\n                \"item\" : {\n                    \"sectionType\" : \"quote\"\n                }\n            }\n        ],\n        \"items\": section\n    }\n}","import media from \"./mediaUi\"\nimport attachments from \"./attachmentsUi\"\nimport links from \"./linksUi\"\nimport ekultur from \"./ekulturUi\"\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"editable\": true,\n        \"hideable\": true,\n        \"removable\": true,\n        \"spacing\": 2\n    },\n    \"ui:settings\": [\n        \"sectionType\",\n        \"sectionLayout\"\n    ],\n    \"sectionType\": {\n        \"ui:enumIcons\": {\n            \"text\": \"subject\",\n            \"media\": \"insert_photo\",\n            \"links\": \"insert_link\",\n            \"attachments\": \"attach_file\",\n            \"quote\": \"format_quote\",\n            \"dm\": \"fingerprint\"\n        }\n    },\n    \"ui:fieldset\": [\n        \"head\",\n        \"body\"\n    ],\n    \"head\": {\n        \"ui:fieldset\": [\n            \"title\",\n            \"titleHidden\",\n            \"description\"\n        ],\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"title\": {\n            \"ui:xs\": 9,\n            \"ui:label\": false,\n            \"ui:placeholder\": \"Tittel\"\n        },\n        \"titleHidden\": {\n            \"ui:gridCols\": 3,\n            \"ui:title\": \"Skjul tittel\",\n            \"ui:widget\": \"switch\"\n        },\n        \"description\" : {\n            \"ui:gridCols\": 12,\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\" : \"textarea\",\n        }\n    },\n    \"body\": {\n        \"ui:fieldset\": [\n            \"media\",\n            \"attachments\",\n            \"references\",\n            \"bodytext\",\n            \"links\",\n            \"quote\",\n            \"cite\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"media\": media,\n        \"attachments\": attachments,\n        \"references\": ekultur,\n        \"bodytext\" : {\n            \"ui:title\": \"Brdtekst\",\n            \"ui:widget\" : \"texteditor\"\n        },\n        \"quote\" : {\n            \"ui:title\": \"Sitat\",\n            \"ui:widget\" : \"textarea\"\n        },\n        \"cite\" : {\n            \"ui:title\": \"Byline\",\n        },\n        \"links\" : links\n    }\n}","export default {\n    \"select\": {\n        \"title\": \"title\",\n        \"untitled\": \"untitled\",\n        \"description\": \"description\"\n    },\n    prepare({formData, formContext}) {\n        const localeId = \"locale:no\"\n        const title = formData.title && formData.title[localeId]\n\n        const sectionType = formData.sectionType\n        const untitled = \"Untitled \" + sectionType\n\n        const {bodytext, media, references, links, attachments, cite, quote } = formData\n\n        let description;\n\n        if (sectionType === \"text\") {\n            description = bodytext && bodytext[localeId]\n        }\n\n        if (sectionType === \"media\") {\n            description = media && media.length + \" media\"\n        }\n\n        if (sectionType === \"dm\") {\n            description = references && references.length + \" referanser\"\n        }\n\n        if (sectionType === \"links\") {\n            description = links && links.length + \" lenker\"\n        }\n\n        if (sectionType === \"attachments\") {\n            description = attachments && attachments.length + \" vedlegg\"\n        }\n\n        if (sectionType === \"quote\") {\n            description = []\n\n            cite && description.push(cite)\n            quote && quote[localeId] && description.push(quote[localeId])\n\n            description = description.join(\": \")\n        }\n\n        return {\n            title: title,\n            untitled: untitled,\n            description: description\n        }\n\n    }\n}","export default {\n    \"ui:title\": \"Media\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video/*\",\"audio/*\",\"youtube\",\"vimeo\",\"sketchfab\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\"\n        }\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:settings\": [\n            \"mediaSize\",\n            \"mediaFormat\"\n        ],\n        \"ui:fieldset\": [\n            \"content\",\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Vedlegg\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"misc\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn vedlegg\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Referanser\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"ekultur\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn referanse\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"title\": \"title\"\n            },\n            prepare({formData}) {\n                const { imageUrl, title } = formData.reference;\n\n                return {\n                    imageUrl: imageUrl,\n                    title: title\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Lenker\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": {\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\"\n            },\n            prepare({formData}) {\n                return {\n                    description: formData.url\n                }\n            }\n        },\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:options\": {\n                \"grid\": true,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"title\",\n                \"url\"\n            ],\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"url\": {\n                \"ui:title\": \"URL\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Er en del av\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\" \n        },\n        prepare({formData = []}) {\n\n            let description;\n\n            if (formData.length) {\n                description = formData.length + \" tema\"\n            } else {\n                description = \"Ingen tema\"\n            }\n\n            return {\n                \"description\": description\n            }\n        }\n    },\n    \"ui:options\" : {\n        \"draggable\": true,\n        \"collapsible\": true,\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn tema\"\n        },\n        {\n            \"title\": \"Legg til\"\n        }\n    ]\n}","import documentType from \"./documentType/schema\"\nimport links from \"./links/schema\"\nimport linksLayout from \"./linksLayout/schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": documentType,\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"parentId\": {\n            \"type\": \"string\",\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"mapLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"default\",\"roundtrip\"],\n                    \"default\": \"default\"\n                },\n                \"mediaLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"gallery\",\"autoplay\"],\n                    \"default\": \"gallery\"\n                },\n                \"annotateLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"imagemap\",\"legends\"],\n                    \"default\": \"imagemap\"\n                },\n                \"annotateColor\": {\n                    \"type\": \"color\",\n                    \"enum\": [\"red\",\"green\",\"blue\",\"black\",\"white\"]\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"annotations\": true,\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"parallaxImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"linksLayout\": linksLayout,\n                \"links\": links,\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"presentation\",\n                        \"referenceType\": \"pageIsPartOf\",\n                        \"_reverseReferenceType\": \"presentationHasPages\",\n                        \"_reverseReference\": \"hasPages[]\"\n                    }\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"pageTopic\",\n        \"pageMap\"\n    ],\n    \"enumNames\": [\n        \"Tema\",\n        \"Kart\"\n    ]\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"list\",\n        \"mosaic\",\n        \"imagelegend\",\n        \"imagemap\",\n        \"gallery\",\n        \"autoplay\",\n        \"timeline\"\n    ],\n    \"enumNames\": [\n        \"Liste\",\n        \"Mosaikk\",\n        \"Bildeforklaring\",\n        \"Bildekart\",\n        \"Mediagalleri\",\n        \"Autoplay\",\n        \"Tidslinje\"\n    ],\n    \"default\" : \"list\"\n}","import items from \"./items\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": items\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\"\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import pageMedia from './pageMedia.svg';\nimport pageList from './pageList.svg';\nimport pageTimeline from './pageTimeline.svg';\nimport pageMosaic from './pageMosaic.svg';\nimport pageAnnotate from './pageAnnotate.svg';\n\n\nexport default {\n    \"page/media\": pageMedia,\n    \"page/list\": pageList,\n    \"page/timeline\": pageTimeline,\n    \"page/mosaic\": pageMosaic,\n    \"page/annotate\": pageAnnotate\n}","import icons from \"./icons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\"\n    },\n    prepare({formData, formContext}) {\n        const { parentId, documentType, content } = formData\n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale ||currentLocale ||formData.locale\n        const localeId =  \"locale:\" + locale\n\n        let metadata = []\n\n        parentId && metadata.push(\"Parent: \" + parentId)\n\n        const pageIcon = documentType && icons[documentType]\n        const backgroundImage = content && content.backgroundImage\n\n        const imageUrl = backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl\n\n        const title = content && content.title && content.title[localeId] ||formData.title\n        const description = content && content.description && content.description[localeId]\n\n        return {\n            imageUrl: imageUrl || pageIcon,\n            title: title ||\"Untitled\",\n            description: description,\n            metadata: metadata,\n            typeLabel: documentType\n        }\n    \n    }\n  \n}","export default {\n    \"ui:layout\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"documentType\",\n            \"parentId\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"documentType\": {\n            \"ui:title\": \"Sidetype\"\n        },\n        \"parentId\": {\n            \"ui:field\": \"parentId\",\n//            \"ui:widget\": \"autocomplete\",\n            \"ui:title\": \"ParentId\",\n            \"ui:query\": {\n                \"documentType\": \"page*\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Presentasjon\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"title\",\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"title\": {\n        \"ui:title\": \"Tittel\"\n    },\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Media\",\n    \"ui:fieldset\": [\n        \"media\",\n    ],\n    \"ui:options\": {\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"media\": {\n        \"ui:options\": {\n//            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"backgroundImage\"\n        ],\n        \"backgroundImage\": {\n            \"ui:layout\": \"media\",\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn bakgrunnsbilde\"\n                }\n            ],\n            \"ui:fieldset\": [\n                \"media\",\"imageCropdata\",\"imageFilters\"\n            ],\n            \"media\": {\n                \"ui:title\": \"Bakgrunnsbilde\"\n            }\n        },\n        \"parallaxImage\": {\n            \"ui:layout\": \"media\",\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn parallaxbilde\"\n                }\n            ],\n            \"media\": {\n                \"ui:title\": \"Parallaxbilde\"\n            }\n        }        \n    }\n}","import items from \"./itemsUi\"\n\nexport default {\n    \"ui:title\": \"Lenker\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" lenker\"\n            }\n        }\n    },\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": [\"page*\",\"article\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn innhold\",\n        },\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": items\n}","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"module\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale ||formContext.defaultLocale ||\"no\";\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"backgroundColor\": {\n        \"ui:widget\": \"color\"\n    },\n    \"color\": {\n        \"ui:widget\": \"color\",\n        \"ui:settingsVariant\": \"text\"\n    },\n    \"grid\": {\n        \"ui:widget\": \"grid\",\n        \"ui:maxCols\": 5,\n        \"ui:maxRows\": 3\n    },\n    \"placement\": {\n        \"ui:widget\": \"placement\",\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"content\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                \"ui:settings\": [\n                    \"color\"\n                ]\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"titleColor\": {\n                \"ui:widget\": \"color\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markr\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import links from \"../links/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Innhold\",\n    \"ui:icon\": \"link\",\n    \"ui:fieldset\": [\n        \"links\"\n    ],\n    \"ui:settings\": [\n//        \"linksLayout\"\n    ],\n    \"links\": links\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./homeHeader/uiSchema\"\nimport media from \"./listMedia/uiSchema\"\nimport body from \"./listBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:fieldset\": [\n        \"title\",\n        \"leadtext\",\n        \"bodytext\"\n    ],\n    \"ui:title\": \"Hjemmeside\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    article: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        margin: theme.spacing(1),\n        overflowY: \"scroll\",\n\n        \"& *\": {\n            boxSizing: \"border-box\"\n        },\n\n        backgroundColor: \"white\",\n        fontFamily: \"Akkurat, sans-serif\",\n        lineHeight: 1.5,\n\n        \"& h1\": {\n            fontSize: \"1.5em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n        \"& h2\": {\n            fontSize: \"1.25em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n    }\n}));\n\nconst ArticleBase = ({className, children}) => {\n    const classes = useStyles()\n    return (\n        <article className={className ||classes.article}>\n            {children}\n        </article>\n    )\n}\n\nexport default ArticleBase","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n        margin: \"auto\"\n    },\n}));\n\n\nconst ArticleGrid = ({className, maxWidth = 720, children}) => {\n    const classes = useStyles({maxWidth})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            {children}\n        </section>\n    )\n\n}\n\nexport default ArticleGrid","import React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n\n        \"&.h1\": {\n            fontSize: \"1.5em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n        \"&.h2\": {\n            fontSize: \"1.25em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n    },\n}));\n\nconst ArticleTitle = ({className, component = \"h1\", language = \"no\", children}) => {\n\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <Typography className={className ||classes.title} component={component}>{children}</Typography    >\n    )\n}\n\nexport default ArticleTitle","import React from \"react\"\nimport ReactMarkdown from 'react-markdown';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    bodytext: {\n        \"& p\": {\n            margin: \"1em 0\"\n        },\n\n        \"& ul\": {\n            listStyle: \"disc\",\n            margin: \"1em 0\"\n        },\n\n        \"& ol\": {\n            listStyle: \"upper-roman\",\n            margin: \"1em 0\"\n        },\n\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleBodytext = ({className, language = \"no\", children}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <ReactMarkdown className={className ||classes.bodytext} source={children} />             \n    )\n}\n\nexport default ArticleBodytext","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n//        overflow: \"hidden\",\n        margin: \"auto\"\n    },\n    list: {\n        margin: props => { return theme.spacing(-props.spacing/2) },\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    item: {\n        width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        padding: props => { return theme.spacing(props.spacing/2) },\n\n        /*\n        width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns },\n        padding: props => { return theme.spacing(props.spacing/2) },\n        \"&[data-size=medium]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*2 },\n        },\n        \"&[data-size=large]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*4 },\n        },\n        \"&[data-size=xl]\": {\n            width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        }\n        */\n    }\n\n}));\n\n\nconst LayoutList = ({className, spacing = 2, padding = 0, maxWidth = 720, gridColumns = 4, mediaFormat = \"2:1\", children}) => {\n    const classes = useStyles({maxWidth, gridColumns, spacing, padding})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            <div className={className ||classes.list}>\n                {children.map((child, index) => {\n                    const item = React.cloneElement(child, {\n                        mediaFormat: mediaFormat\n                    })\n                    return (\n                        <div className={classes.item} data-size={item.props.size} key={index}>\n                            { item }\n                        </div>\n                    )\n                })}\n            </div>\n        </section>\n    )\n\n}\n\nexport default LayoutList","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n        overflow: \"hidden\",\n        margin: \"auto\"\n    },\n    grid: {\n        margin: props => { return theme.spacing(-props.spacing/2) },\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    item: {\n        width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns },\n        padding: props => { return theme.spacing(props.spacing/2) },\n        \"&[data-size=medium]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*2 },\n        },\n        \"&[data-size=large]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*4 },\n        },\n        \"&[data-size=xl]\": {\n            width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        }\n    }\n\n}));\n\n\nconst LayoutGrid = ({className, spacing = 2, padding = 0, maxWidth = 720, gridColumns = 4, children}) => {\n    const classes = useStyles({maxWidth, gridColumns, spacing, padding})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            <div className={className ||classes.grid}>\n                {children.map((child, index) => {\n                    const item = React.cloneElement(child)\n                    return (\n                        <div className={classes.item} data-size={item.props.size} key={index}>\n                            { item }\n                        </div>\n                    )\n                })}\n            </div>\n        </section>\n    )\n\n}\n\nexport default LayoutGrid","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext, DotGroup } from 'pure-react-carousel';\nimport 'pure-react-carousel/dist/react-carousel.es.css';\n\n\nconst useStyles = makeStyles(theme => ({\n    slideshow: {\n        position: \"relative\",\n        maxWidth: props => { return props.maxWidth },\n        margin: \"auto\"\n    },\n    slider: {\n        \"& ul\": {\n//            margin: 0\n        }\n    },\n    navigation: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    dots: {\n        position: \"absolute\",\n        right: 0,\n        left: 0,\n        bottom: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n    },\n    backButton: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        bottom: 0,\n    },\n    nextButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n\n    }\n}));\n\n\nconst LayoutSlideshow = ({className, spacing = 2, padding = 0, maxWidth = 720, mediaFormat = \"2:1\", children}) => {\n    const classes = useStyles({spacing, padding, maxWidth})\n\n    const totalSlides = children && children.length\n    const format = mediaFormat.split(':')\n\n    return (\n        <CarouselProvider className={className ||classes.slideshow}\n            naturalSlideWidth={format[0]}\n            naturalSlideHeight={format[1]}\n            totalSlides={totalSlides}>\n                <Slider className={classes.slider}>\n                    {children.map((child, index) => {\n                        const item = React.cloneElement(child, {\n                            mediaFormat: mediaFormat\n                        })\n                        return (\n                            <Slide index={index}>\n                                { item }\n                            </Slide>\n                        )\n                    })}\n                </Slider>\n                <nav className={classes.navigation}>\n                    <DotGroup className={classes.dots} />\n                    <ButtonBack className={classes.backButton}>Back</ButtonBack>\n                    <ButtonNext className={classes.nextButton}>Next</ButtonNext>\n                </nav>\n        </CarouselProvider>\n    )\n\n}\n\nexport default LayoutSlideshow","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: props => { return props.minHeight },\n        paddingBottom: props => { return props.ratio * 100 + \"%\" },\n    }\n}));\n\nconst LayoutFormat = ({format, minHeight, children}) => {\n\n    let ratio;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        ratio = h/w;\n    }\n\n    const classes = useStyles({ratio, minHeight})\n\n    if (ratio ||minHeight) {\n\n        return (\n            <div className={classes.format}\n                data-minHeight={minHeight}\n                data-ratio={ratio} \n                data-format={format}>\n                { children }\n            </div>\n        )\n           \n    }\n\n    return children\n\n}\n\nexport default LayoutFormat","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport LayoutFormat from \"./LayoutFormat\"\nimport {MediaPreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n//        paddingBotton: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"13px\",\n        lineHeight: 1.5,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    media: {\n        backgroundColor: \"grey\",\n        position: \"relative\",\n        width: \"100%\"\n    },\n    content: {\n        fontFamily: \"Akkurat, sans-serif\",\n        marginTop: \".25em\",\n    },\n    caption: {\n    },\n    headline: {\n        fontWeight: \"bold\",\n    },\n    byline: {\n        fontStyle: \"italic\"\n    },\n    license: {\n        \n    }\n}));\n\nconst ModuleMedia = ({mediaType, mediaFormat = \"1:1\", imageUrl, headline, caption, byline, license, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <article className={classes.module}>\n            <figure className={classes.media}>\n                <LayoutFormat format={mediaFormat}>\n                    <MediaPreview mediaType={mediaType} imageUrl={imageUrl} {...props} />\n                </LayoutFormat>\n            </figure>\n            <Typography component=\"figcaption\" className={classes.content}>\n                {headline && <strong className={classes.headline}>{headline}:</strong>}\n                {headline && \" \"}\n                {caption && <span className={classes.caption}>{caption}</span>}\n                {byline && \" \"}\n                {byline && <em className={classes.byline}>({byline})</em>}\n                {license && \" \"}\n                {license && <em className={classes.license}>{license}</em>}\n            </Typography>\n        </article>\n    )\n\n}\n\n\nexport default ModuleMedia;","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LayoutList from \"./LayoutList\"\nimport LayoutGrid from \"./LayoutGrid\"\nimport LayoutSlideshow from \"./LayoutSlideshow\"\n\n\nimport ModuleMedia from \"./ModuleMedia\"\n\nconst layouts = {\n    \"list\": LayoutList,\n    \"grid\": LayoutGrid,\n    \"slideshow\": LayoutSlideshow\n}\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        position: \"relative\"\n    },\n}));\n\nconst ArticleMedia = ({className, language = \"no\", layout = \"grid\", media = [], mediaWidth = 180, mediaHeight = 180}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles({mediaWidth, mediaHeight})\n\n    const renderMedia = ({media, mediaSize, mediaFormat, content}) => {\n        const mediaType = media && media.mediaType;\n\n        let headline = content && content.headline || media && media.content && media.content.headline ||undefined\n        let caption = content && content.caption || media && media.content && media.content.caption ||undefined\n\n        const byline = content && content.byline || media && media.content && media.content.byline ||undefined\n        const license = content && content.license || media && media.content && media.content.license ||undefined\n\n        if (typeof headline === \"object\") {\n            headline = headline[localeId] || undefined\n        }\n\n        if (typeof caption === \"object\") {\n            caption = caption[localeId] || undefined\n        }\n       \n        return (\n            <ModuleMedia {...media}\n                size={mediaSize} \n                mediaFormat={mediaFormat} \n                headline={headline} \n                caption={caption}\n                byline={byline}\n                license={license} />\n        )\n    \n    }\n        \n    if (!media.length) {\n        return false\n    }\n\n    const LayoutTemplate = layout && layouts[layout]\n\n    if (LayoutTemplate) {\n        return (\n            <LayoutTemplate>\n                { media.map(media => renderMedia(media))}\n            </LayoutTemplate>\n        )\n    }\n\n    return (\n        <div className={className}>\n            { media.map(media => renderMedia(media))}\n        </div>\n    )\n\n}\n\nexport default ArticleMedia","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n//        minHeight: \"240px\",\n        backgroundColor: \"#f2f2f2\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"13px\",\n        lineHeight: 1.5,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    media: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: \"100%\",\n        flexBasis: 0,\n        flexGrow: 1,\n        margin: 0\n    },\n    image: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        maxWidth: \"90%\",\n        maxHeight: \"90%\",\n        margin: \"auto\"\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n        padding: theme.spacing(.5),\n        minHeight: \"5em\"\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"1em\",\n        lineHeight: 1.25,\n        maxHeight: \"3.75em\",\n        overflow: \"hidden\",\n        display: \"-webkit-box\",\n        \"-webkit-line-clamp\": 3,\n        \"-webkit-box-orient\": \"vertical\",\n    },\n    footer: {\n        flexBasis: 0,\n        flexGrow: 0\n    }\n}));\n\nconst ModuleEkultur = ({size, documentType, imageUrl, title, author, objectCount, imageCount, videoCount, audioCount, commentCount}) => {\n    const classes = useStyles()\n\n    let metadata = [];\n\n    if (objectCount) {\n      metadata.push(objectCount + ' objekter'); \n    }\n    \n    if (imageCount) {\n      metadata.push(imageCount + ' bilder'); \n    }\n\n    if (videoCount) {\n      metadata.push(videoCount + ' videoer'); \n    }\n\n    if (audioCount) {\n      metadata.push(audioCount + ' lydklipp'); \n    }\n    \n    metadata = metadata.length && metadata.join(', ');    \n\n    return (\n        <article className={classes.module}>\n            <figure className={classes.media}>\n                <img className={classes.image} src={ imageUrl } />\n            </figure>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <Typography className={classes.title}>{title}</Typography>\n                </header>\n                <footer className={classes.footer}>\n                    <p></p>\n                    <b className=\"comments__label\">{ commentCount }</b>\n                </footer>\n            </div>\n        </article>\n    )\n\n}\n\n\nexport default ModuleEkultur;","import React from \"react\"\nimport LayoutGrid from \"./LayoutGrid\"\nimport ModuleEkultur from \"./ModuleEkultur\"\n\nconst layouts = {\n    \"grid\": LayoutGrid\n}\n\nconst templates = {\n    \"ekultur\": ModuleEkultur\n}\n\nconst ArticleReferences = ({className, language = \"no\", layout = \"grid\", references = []}) => {\n    const localeId = \"locale:\" + language;\n\n    const renderReference = ({referenceType, reference, content}) => {\n        let title = content && content.title || reference && reference.title ||undefined\n\n        if (typeof title === \"object\") {\n            title = title[localeId] || undefined\n        }\n\n        const ModuleTemplate = referenceType && templates[referenceType]\n\n        if (ModuleTemplate) {\n            return (\n                <ModuleTemplate {...reference} title={title} />\n            )\n        }\n\n        return (\n            <li>{title}</li>\n        )\n    \n    }\n        \n\n    if (!references.length) {\n        return false\n    }\n\n    const LayoutTemplate = layout && layouts[layout]\n\n    if (LayoutTemplate) {\n        return (\n            <LayoutTemplate>\n                { references.map(reference => renderReference(reference))}\n            </LayoutTemplate>\n        )\n    }\n\n    return (\n        <div className={className}>\n            { references.map(reference => renderReference(reference))}\n        </div>\n    )\n\n}\n\nexport default ArticleReferences","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    links: {\n        \"& ul\": {\n            listStyle: \"disc\",\n            margin: \"1em 0\"\n        },\n        \"& ol\": {\n            listStyle: \"upper-roman\",\n            margin: \"1em 0\"\n        },\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleLinks = ({className, language = \"no\", links = []}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n\n    const renderLink = ({title, url}) => {\n\n        if (typeof title === \"object\") {\n            title = title[localeId] || undefined\n        }\n\n        return (\n            <li><a href={url}>{title}</a></li>\n        )\n    \n    }\n        \n\n    if (!links.length) {\n        return false\n    }\n\n    return (\n        <div className={className ||classes.links}>\n            <ul>\n                { links.map(link => renderLink(link))}\n            </ul>\n        </div>\n    )\n\n}\n\nexport default ArticleLinks","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ArticleGrid from \"./ArticleGrid\"\nimport ArticleTitle from \"./ArticleTitle\"\nimport ArticleBodytext from \"./ArticleBodytext\"\nimport ArticleMedia from \"./ArticleMedia\"\nimport ArticleReferences from \"./ArticleReferences\"\nimport ArticleLinks from \"./ArticleLinks\"\n\nconst useStyles = makeStyles(theme => ({\n    head: {\n\n    }\n}));\n\nconst ArticleHead = ({className, language, title, leadtext, media}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={className || classes.head}>\n           <ArticleGrid>\n                <ArticleTitle language={language}>{title}</ArticleTitle>\n\n                { media && \n                    <ArticleMedia media={media} layout=\"list\" mediaFormat=\"2:1\" />\n                }\n\n                <ArticleBodytext language={language}>{leadtext}</ArticleBodytext>\n            </ArticleGrid>\n        </header>\n    )\n}\n\nexport default ArticleHead","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n\n    }\n}));\n\nconst ArticleBody = ({className, children}) => {\n    const classes = useStyles()\n    return (\n        <div className={className || classes.body}>\n            {children}\n        </div>\n    )\n}\n\nexport default ArticleBody","import React from \"react\"\nimport ReactMarkdown from 'react-markdown';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    leadtext: {\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleLeadtext = ({className, language = \"no\", children}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <ReactMarkdown className={className ||classes.leadtext} source={children} />             \n    )\n}\n\nexport default ArticleLeadtext","import React from \"react\"\nimport ArticleGrid from \"./ArticleGrid\"\nimport ArticleTitle from \"./ArticleTitle\"\nimport ArticleLeadtext from \"./ArticleLeadtext\"\nimport ArticleBodytext from \"./ArticleBodytext\"\nimport ArticleMedia from \"./ArticleMedia\"\nimport ArticleReferences from \"./ArticleReferences\"\nimport ArticleLinks from \"./ArticleLinks\"\n\nconst ArticleSection = ({sectionType, sectionLayout, language = \"no\", title, leadtext, bodytext, links = [], media = [], references = []}) => {\n\n    if (sectionType === \"media\") {\n        return (\n            <ArticleGrid>\n                <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n                <ArticleMedia layout={sectionLayout} language={language} media={media} />\n                <ArticleBodytext language={language}>{bodytext}</ArticleBodytext>\n            </ArticleGrid>\n        )\n    }\n\n    if (sectionType === \"references\") {\n        return (\n            <ArticleGrid>\n                <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n                <ArticleLeadtext language={language}>{leadtext}</ArticleLeadtext>\n                <ArticleReferences language={language} references={references} />\n            </ArticleGrid>\n        )\n    }\n\n    return (\n        <ArticleGrid>\n            <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n            <ArticleMedia layout={sectionLayout} language={language} media={media} />\n            <ArticleLeadtext language={language}>{leadtext}</ArticleLeadtext>\n            <ArticleReferences language={language} references={references} />\n            <ArticleBodytext language={language}>{bodytext}</ArticleBodytext>\n            <ArticleLinks language={language} links={links} />\n        </ArticleGrid>\n    )\n\n}\n\nexport default ArticleSection","import React from \"react\"\n\nimport ArticleBase from \"./ArticleBase\"\nimport ArticleHead from \"./ArticleHead\"\nimport ArticleBody from \"./ArticleBody\"\nimport ArticleSection from \"./ArticleSection\"\n\nconst Article = ({formData, formContext}) => {\n    const language = formContext.currentLocale ||formContext.defaultLocale ||formData.locale\n    const content = formData && formData.content;\n\n    const { title, leadtext, headerImage, sections } = content;\n\n    return (\n        <ArticleBase>\n            <ArticleHead language={language} title={title} leadtext={leadtext} media={headerImage && [headerImage]} />\n            <ArticleBody>\n                { sections && sections.map((section, index) => <ArticleSection {...section} language={language} /> )}\n            </ArticleBody>\n        </ArticleBase>\n    )\n\n}\n\nArticle.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default Article","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    /*\n    perspective: {\n        perspective: \"1000px\",\n        perspectiveOriginX: \"25%\",\n        perspectiveOriginY: \"75%\",\n    },\n    transform: {\n        transform: \"rotateY(-45deg)\",\n    },\n    */\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: props => { return props.paddingBottom },\n    }\n}));\n\nconst PreviewFormat = ({format, children}) => {\n\n    let paddingBottom;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        const ratio = h/w;\n\n        paddingBottom = ratio * 100 + \"%\";\n    }\n\n    const classes = useStyles({paddingBottom})\n\n    if (paddingBottom) {\n        return (\n            <div className={classes.root}>\n                <div className={classes.format} data-format={format}>\n                    { children }\n                </div>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default PreviewFormat","import Color from 'color';\n\nexport const getPreviewItem = (item) => {\n    const { index, referenceId, reference, mediaId, media, grid, localeId, backgroundColor, color } = item;\n\n//    const primaryColor = Color(backgroundColor)\n//    const contrastColor = primaryColor.isLight() && \"black\" || \"white\"\n\n\n    const imageUrl = media && media.imageUrl || referenceId && reference && reference.imageUrl;\n    const runningHead = item.runningHead && item.runningHead[localeId];\n    const title = item.title && item.title[localeId] || referenceId && reference && reference.title || \"Untitled\";\n    const description = item.description && item.description[localeId];\n\n    let itemType;\n\n    if (referenceId) {\n        itemType = \"link\"\n    } else if (mediaId) {\n        itemType = \"media\"\n    }    \n\n    // grid\n    const m = grid && grid.split(':');\n    const cols = m && m[0] || 1\n    const rows = m && m[1] || 1\n\n    // id\n    const id = \"root_content_body_links_\" + index\n\n    // colors\n\n    return {\n        ...item,\n        id: id,\n        itemType: itemType,\n        imageUrl: imageUrl,\n        runningHead: runningHead,\n        title: title,\n        description: description,\n        cols: cols,\n        rows: rows\n    }\n    \n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    menuList: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 3.5em\",\n    },\n    menuItem: {\n        position: \"relative\",\n        width: '8em',\n        margin: \".5em\"\n    },\n    figure: {\n        paddingBottom: \"100%\",\n        borderRadius: \"100%\",\n        backgroundColor: \"white\"\n    },\n    title: {\n        color: \"white\", \n        textAlign: \"center\",\n        lineHeight: 1.25,\n        height: \"2.5em\",\n        margin: theme.spacing(1)\n    }\n}));\n\nconst MenuItem = ({title}) => {\n\n    const classes = useStyles()\n\n    return (\n        <article className={classes.menuItem}>\n            <figure className={classes.figure}>\n\n            </figure>\n            <Typography className={classes.title}>{title}</Typography>\n        </article>\n    )\n\n\n}\n\nconst Menu = ({items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n\n    const TimelineItem = ({cols, rows, index, ...item}) => {\n        const id = \"root_content_pageLinks_\" + index\n        return (\n            <MenuItem {...item} onClick={() => onCurrentId(id)} />\n        )\n    }\n    \n    return (\n        <div className={classes.menuList}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n\n    return (\n        <p>{JSON.stringify(formData)}</p>\n    )\n\n\n    const { pageTitle, backgroundImage, hasPages } = formData.content;\n    const currentLocale = formContext && formContext[currentLocale];\n    const title = pageTitle && pageTitle[currentLocale] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <Menu items={hasPages} width={width} height={height} onCurrentId={onCurrentId} />\n        </div>\n    )\n\n}\n\nexport default PreviewTimeline","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    pageHeader: {\n        position: props => { return props.position },\n        zIndex: 2,\n        height: \"6em\",\n        padding: \"2em 4em\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    pageTitle: {\n        fontSize: \"2em\",\n    }\n}));\n\nconst KioskPageHeader = ({title, position = \"relative\"}) => {\n\n    const classes = useStyles({position})\n\n    return (\n        <header className={classes.pageHeader}>\n            <Typography className={classes.pageTitle}>{ title }</Typography>\n        </header>\n    )\n}\n\nexport default KioskPageHeader","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { ImageBase } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color},\n    },\n    media: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    content: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    runningHead: {\n        fontSize: props => {return props.titleSize === \"large\" && \"1.25em\" ||props.titleSize === \"medium\" && \"1em\" ||\"0.875em\" },\n        color: props => {return props.titleColor ||props.color },\n        textTransform: \"uppercase\",\n        lineHeight: 1.5\n    },\n    title: {\n        fontSize: props => {return props.titleSize === \"large\" && \"2em\" ||props.titleSize === \"medium\" && \"1.5em\" ||\"1.25em\" },\n        color: props => {return props.titleColor ||props.color },\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst GridModule = ({imageUrl, mediaWidth, mediaHeight, imageCropdata, imageFilters, runningHead, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n\n    const classes = useStyles({...props, justifyContent, alignItems})\n\n    return (\n        <Card className={classes.module} onClick={onClick}>\n            { imageUrl && <ImageBase imageUrl={imageUrl} imageFilters={imageFilters} imageCropdata={imageCropdata} objectFit=\"cover\" /> }\n\n            <CardContent className={classes.content}>\n                {runningHead && <Typography className={classes.runningHead} component=\"h3\">{runningHead}</Typography> }\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                { description && <Typography className={classes.description} component=\"p\">{description}</Typography> }\n            </CardContent>\n\n        </Card>\n    )\n\n}\n\nexport default GridModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport PageHeader from \"./PageHeader\"\nimport KioskMosaicModule from \"./GridModule\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: \"5.5em 3.5em 1.5em 3.5em\",\n    },\n    grid: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"grid\",\n        gridTemplateColumns: props => { return props.templateCols },\n        gridTemplateRows: props => { return props.templateRows },\n        gridColumnGap: props => { return props.colGap },\n        gridRowGap: props => { return props.rowGap },\n    },\n    gridItem: {\n        gridColumnStart: \"auto\",\n        gridColumnEnd: props => { return props.colEnd },\n        gridRowStart: \"auto\",\n        gridRowEnd: props => { return props.rowEnd },\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst MosaicGrid = ({localeId, items, cols = 5, rows = 3, onCurrentId}) => {\n\n    const colWidth = (100/cols);\n    const rowHeight = (100/rows);\n\n    const classes = useStyles({\n        templateCols: (colWidth + \"% \").repeat(cols),\n        templateRows: (rowHeight + \"% \").repeat(rows),\n    })\n\n    const GridItem = ({id, cols, rows, index, ...item}) => {\n\n        const classes = useStyles({\n            colEnd: \"span \" + cols,\n            rowEnd: \"span \" + rows\n        })\n        \n        return (\n            <div className={classes.gridItem}>\n                <KioskMosaicModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    \n    }\n    \n    return (\n        <div className={classes.grid}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                return (\n                    <GridItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewMosaic = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={pageTitle} />\n            <div className={classes.body}>\n                <MosaicGrid localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PreviewMosaic","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        width: '16em',\n        backgroundColor: props => { return props.backgroundColor },\n    },\n    cardMedia: {\n        width: \"100%\",\n        paddingBottom: props => { return 9/16 * 100 + \"%\" },\n    },\n    cardContent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    title: {\n        fontSize: \"2em\",\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst MosaicModule = ({imageUrl, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n    const classes = useStyles({...props, backgroundColor: \"white\", justifyContent, alignItems})\n   \n    return (\n        <Card className={classes.card} onClick={onClick}>\n            { imageUrl && \n                <CardMedia\n                    className={classes.cardMedia}\n                    alt={title}\n                    image={imageUrl}\n                    title={title} />\n            }\n            <CardContent className={classes.cardContent}>\n                <Typography className={classes.title} variant=\"h6\" component=\"h2\">\n                    {title}\n                </Typography>\n                {description &&\n                    <Typography className={classes.description} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                        {description}\n                    </Typography>\n                }\n            </CardContent>\n        </Card>\n    )\n\n}\n\nexport default MosaicModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport PageHeader from \"./PageHeader\"\nimport TimelineModule from \"./TimelineModule\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    body: {\n        overflowX: \"scroll\",\n    },\n    timeline: {\n        display: \"flex\",\n        margin: \"0 3.5em\",\n    },\n    timelineItem: {\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst Timeline = ({localeId, items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n    const TimelineItem = ({id, cols, rows, index, ...item}) => {\n        return (\n            <div className={classes.timelineItem}>\n                <TimelineModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    }\n    \n    return (\n        <div className={classes.timeline}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, localeId: localeId, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={pageTitle}  />\n            <div className={classes.body}>\n                <Timeline localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PreviewTimeline","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem, getContrastColor } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        left: props => { return props.left + \"%\" ||\"50%\"},\n    },\n    label: {\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n        top: \"0\",\n        left: \"0\",\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color },\n        borderSize: \".25em\",\n        borderRadius: \"50%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"Akkurat Mono, monspace\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ImagemapPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] ||formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    const contrastColor = annotateColor && getContrastColor(annotateColor)\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4}) => {\n\n        const classes = useStyles({size, zIndex: index, top, left, backgroundColor: annotateColor, color: contrastColor})\n    \n        return (\n            <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                <div className={classes.label}>\n                    {index+1}\n                </div>\n            </div>\n        )\n    }\n    \n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase {...annotateImage} imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations}  markerTemplate={MarkerTemplate} />\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagemapPreview;","import Color from 'color';\n\nexport const getContrastColor = (hex) => {\n    const color = Color(hex)\n    return color.isLight() && \"black\" || \"white\"\n}","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em 1em\"\n    },\n    line: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        right: props => { return props.left <= 50 && 100-props.left + \"%\" ||\"0\" },\n        left: props => { return props.left > 50 && props.left + \"%\" || \"0\" },\n        height: \"2px\",\n        backgroundColor: \"white\"\n    },\n    module: {\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        right: props => { return props.left > 50 && \"0\" },\n        left: props => { return props.left <= 50 && \"0\" },\n        width: \"12em\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        padding: \"1em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        left: props => { return props.left + \"%\" ||\"50%\"},\n    },\n    border: {\n        width: \"1.5em\",\n        height: \"1.5em\",\n        backgroundColor: \"white\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: \"50%\",\n        padding: \".25em\"\n    },\n    label: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: props => { return props.color },\n        color: \"transparent\",\n        borderRadius: \"50%\",\n    },\n}));\n\nconst ImagelegendPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] ||formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerModule = ({id, index, top = 50, left = 50, size = 4, runningHead, title, description, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left})\n\n        return (\n            <div className={classes.module} data-index={index} onClick={() => onCurrentId(id)}>\n                {runningHead && <h3>{runningHead}</h3> }\n                <h2>{title}</h2>\n                {description && <p>{description}</p> }\n            </div>\n        )\n\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left, color: annotateColor})\n\n        return (\n            <React.Fragment>\n                <div className={classes.line} data-index={index}></div>\n                <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                    <div className={classes.border}>\n                        <div className={classes.label}>\n                            {index+1}\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n    \n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} overflow=\"visible\" markerTemplate={MarkerTemplate} />\n                { imageAnnotations && imageAnnotations.map((item, index) => {\n                    const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                    return (\n                        <MarkerModule {...itemProps} key={index} />\n                    )\n                })}\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagelegendPreview;","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withResizeDetector } from 'react-resize-detector';\n\nimport PreviewFormat from \"./PreviewFormat\"\n\nimport Menu from \"./Menu\"\nimport Grid from \"./Grid\"\nimport Timeline from \"./Timeline\"\nimport Imagemap from \"./AnnotateImagemap\"\nimport Legends from \"./AnnotateLegends\"\n\nconst templates = {\n    \"device\": Menu,\n    \"pageAnnotate/imagemap\": Imagemap,\n    \"pageAnnotate/legends\": Legends,\n    \"pageTimeline\": Timeline,\n    \"pageList\": Grid,\n    \"pageGrid\": Grid,\n    \"pageMedia\": Grid,\n    \"pageMedia/gallery\": Grid,\n    \"pageMedia/autoplay\": Grid,\n    \"page\": Grid\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundImage: props => { return 'url('+props.backgroundImageUrl+')' },\n        backgroundPosition: \"50% 50%\",\n        backgroundSize: \"cover\",\n        fontSize: props => { return props.fontSize },\n    },\n    page: {\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    header: {\n        width: \"100%\",\n        display: \"flex\",\n        margin: theme.spacing(2)\n    },\n    title: {\n        fontSize: \"3em\"\n    },\n    body: {\n        flexBasis: \"100%\",\n        flexGrow: 1,\n        width: \"100%\",\n        position: \"relative\"\n    },\n    footer: {\n        flexBasis: \"15%\",\n        width: \"100%\",\n        margin: theme.spacing(2)\n    },\n}));\n\n\n\nconst PreviewPage = ({width, height, ...props}) => {\n\n    const fontSize = width / 64 + \"px\";\n\n    const classes = useStyles({\n        fontSize: fontSize,\n    })\n    \n    const formData = props.formData;\n\n    const { documentType, content } = formData;\n\n    let layout;\n\n    if (documentType === \"pageAnnotate\") {\n        layout = content && content.annotateLayout\n    }\n\n    if (documentType === \"pageMedia\") {\n        layout = content && content.mediaLayout\n    }\n\n    let template;\n\n    if (layout) {\n        template = documentType + \"/\" + layout\n    } else {\n        template = documentType\n    }\n\n    let PreviewTemplate = templates && templates[template]\n\n    if (!PreviewTemplate) {\n        return (<p>No preview for {template}</p>)\n    }\n\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <div className={classes.root}>\n                <PreviewTemplate {...props} />\n            </div>\n        </PreviewFormat>\n    )\n\n}\n\nPreviewPage.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default withResizeDetector(PreviewPage)","import React from \"react\"\nimport Article from \"./Article\"\nimport Page from \"./Page\"\n\nconst templates = {\n    \"device\": Page,\n    \"page\": Page,\n    \"article\": Article\n}\n\nconst PreviewKiosk = (props) => {\n    const documentType = props && props.formData && props.formData.documentType;\n\n    let template;\n\n    if (documentType && documentType.startsWith('page')) {\n        template = \"page\"\n    } else {\n        template = documentType\n    }\n\n    let PreviewTemplate = templates && templates[template]\n\n    if (!PreviewTemplate) {\n        return (<p>No preview for {documentType}</p>)\n    }\n\n    return (\n        <PreviewTemplate {...props} />\n    )\n\n}\n\nexport default PreviewKiosk","import PreviewKiosk from \"./PreviewKiosk\"\nexport default PreviewKiosk","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../Preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageHome',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:field\": \"kpAnnotateArray\",\n    \"ui:title\": \"Markrer\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" markrer\"\n            }\n        }\n    },\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./header/uiSchema\"\nimport body from \"./body/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Tema\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"title\",\n        \"leadtext\",\n        \"bodytext\"\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"title\": {\n        \"ui:title\": \"Tittel\"\n    },\n    \"leadtext\": {\n        \"ui:title\": \"Ingress\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"bodytext\": {\n        \"ui:title\": \"Brdtekst\",\n        \"ui:widget\": \"textarea\"\n    }\n}","import body from \"../../page/pageBody/uiSchema\"\nimport links from \"../mapLinks/uiSchema\"\n\nexport default {\n    ...body,\n    \"links\": links,\n    \"ui:settings\": [\n        \"mapLayout\",\n    ],\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    page: {\n        backgroundColor: \"white\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },\n}));\n\nconst PageLayout = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <main className={classes.page}>\n            {children}\n        </main>\n    )\n\n}\n\nexport default PageLayout","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageImage = ({imageUrl = undefined, language}) => {\n    const classes = useStyles()\n\n    if (!imageUrl) {\n        return false\n    }\n\n    return (\n        <figure className={classes.media}>\n            <img src={imageUrl} />\n        </figure>\n    )\n\n}\n\nexport default PageImage","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport PageMedia from \"./PageMedia\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageHeader = ({title, leadtext, media, language}) => {\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n\n    if (typeof title === \"object\") {\n        title = title[localeId] || undefined\n    }\n    \n    if (typeof leadtext === \"object\") {\n        leadtext = leadtext[localeId] || undefined\n    }\n\n    return (\n        <header className={classes.header}>\n            <Typography variant=\"h2\">{title}</Typography>\n            { media && <PageMedia {...media} /> }\n            <Typography>{leadtext}</Typography>\n        </header>\n    )\n\n}\n\nexport default PageHeader","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageHeader = ({bodytext, language}) => {\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n\n    if (typeof bodytext === \"object\") {\n        bodytext = bodytext[localeId] || undefined\n    }\n\n    return (\n        <div className={classes.body}>\n            <Typography>{bodytext}</Typography>\n        </div>\n    )\n\n}\n\nexport default PageHeader","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n    },\n    marker: {\n\n    }\n}));\n\nconst MapLink = ({title}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.link}>\n            <PlaceIcon />\n        </div>\n    )\n\n    return (\n        <div className={classes.link}>\n            <IconButton>\n                <PlaceIcon />\n            </IconButton>\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./DefaultMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, links = []}) => {\n\n    const [markers, setMarkers] = useState(links)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = links && links[0] && links[0].lat \n        const lng = links && links[0] && links[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        links && links.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [links])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, result) => {\n\n        const path = result.routes[0].overview_path\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  drawDirections(google, result)\n                  setDirections(result)\n              } else {\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n//        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n\n        \"& $media\": {\n            transition: \".125s ease-out\",\n            transform: \"scale(1)\"\n        },\n\n        \"&[aria-expanded=true] $media\": {\n            transform: \"scale(2)\"\n        },\n\n        \"&:hover $media\": {\n            transform: \"scale(2)\"\n        }\n\n    },\n    label: {\n        position: \"absolute\",\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, .5),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    media: {\n        position: \"absolute\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(-.5, 0),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundSize: \"cover\",\n\n    },\n    image: {\n\n    }\n}));\n\nconst MapLink = ({reference, media, index}) => {\n    const classes = useStyles()\n\n    const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n    return (\n        <div className={classes.link} aria-expanded={index === 0}>\n            <figure className={classes.media} style={{backgroundImage: \"url(\"+imageUrl+\")\"}}></figure>\n            <i className={classes.label}>{index+1}</i>\n            <PlaceIcon />\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./RoundtripMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, links = []}) => {\n\n    const [markers, setMarkers] = useState(links)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = links && links[0] && links[0].lat \n        const lng = links && links[0] && links[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        links && links.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [links])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} count={index+1} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, path) => {\n\n        setDirections(path)\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  const overviewPath = result.routes[0].overview_path\n                  const resultsPath = overviewPath.length && overviewPath ||markers\n                  drawDirections(google, resultsPath)\n              } else {\n                drawDirections(google, markers)\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n            Debug:\n            {JSON.stringify(directions)}\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel } from '../../redux/modelsById';\n\nimport PageLayout from \"../Page/PageLayout\"\nimport PageHeader from \"../Page/PageHeader\"\nimport PageBody from \"../Page/PageBody\"\n\n\nimport DefaultMap from \"./DefaultMap\"\nimport RoundtripMap from \"./RoundtripMap\"\n\nconst mapTypes = {\n    \"default\": DefaultMap,\n    \"roundtrip\": RoundtripMap\n}\n\nconst PageMap = ({formData, formContext, ...props}) => {\n\n    const dispatch = useDispatch()\n    const modelsById = useSelector(state => state.modelsById)\n   \n    const links = formData && formData.content && formData.content.links\n\n    const [newLinks, setNewLinks] = useState([])\n\n    useEffect(() => {\n\n        links && links.map(link => {\n            const referenceId = link && link.referenceId;\n            const referenceModel = referenceId && modelsById[referenceId]\n\n            if (referenceId && !referenceModel) {\n                dispatch(getModel({modelName: \"documents\", uniqueId: referenceId}))\n            }\n        })\n\n    }, [links])\n\n\n    useEffect(() => {\n\n        const newLinks = links && links.map(link => {\n            const referenceId = link && link.referenceId;\n            const referenceModel = referenceId && modelsById[referenceId]\n\n            const location = referenceModel && referenceModel.content && referenceModel.content.location\n\n            return {\n                ...link,\n                ...location,\n                reference: referenceModel\n            }\n\n        })\n\n        setNewLinks(newLinks)        \n\n    }, [modelsById, links])\n\n    const language = formContext && formContext.currentLocale\n    const content = formData && formData.content\n\n    const mapLayout = content && content.mapLayout\n    const MapTemplate = mapLayout && mapTypes[mapLayout] || DefaultMap\n\n    if (!newLinks) {\n        return <p>No links to display</p>\n    }\n\n    return <MapTemplate links={newLinks} />\n    \n    return (\n        <PageLayout>\n            <PageHeader {...content} language={language}></PageHeader>\n            {newLinks && newLinks.length && <MapTemplate links={newLinks} /> }\n            <PageBody {...content} language={language} />\n        </PageLayout>\n    )\n\n}\n\nexport default PageMap\n\n","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../Preview/PageMap\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMap',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n//import PreviewTemplate from \"../../preview/PageTopic\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTopic',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./header/uiSchema\"\nimport body from \"./body/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n//        \"ui:field\": \"kioskPage\",\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Tema\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\"\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"grid\": true,\n        \"spacing\": 2,\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:layout\": \"media\",\n        \"ui:buttons\": [\n            {\n                \"type\": \"sidebar\",\n                \"icon\": \"search\",\n                \"title\": \"Finn hovedbilde\"\n            }\n        ],\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"media\": {\n            \"ui:title\": \"Hovedbilde\"\n        }\n\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"bodytext\"\n        ],\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"bodytext\": {\n            \"ui:title\": \"Brdtekst\",\n            \"ui:widget\": \"textarea\"\n        }\n    },\n\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Mosaikk\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"items\": {\n        ...links.items,\n        \"ui:settings\": [\n            \"grid\",\n            \"placement\",\n            \"backgroundColor\",\n            \"color\"\n        ],\n    \n\n        \"content\": {\n            ...links.items.content,\n            \"linkContent\": {\n                ...links.items.content.linkContent,\n                \"title\": {\n                    ...links.items.content.linkContent.title,\n                    \"ui:settings\": [\n                        \"titleSize\",\n                        \"titleColor\",\n                    ],\n                }\n            }\n        }\n    }\n}","import article from './article';\n\nimport pageHome from './pageHome';\nimport pageMap from './pageMap';\nimport pageTopic from './pageTopic';\n\nimport pageGrid from './pageGrid';\nimport pageList from './pageList';\nimport pageTimeline from './pageTimeline';\nimport pageAnnotate from './pageAnnotate';\nimport pageMedia from './pageMedia';\n\nimport device from './device';\n\nexport default [\n    article,\n    pageHome,\n    pageMap,\n    pageTopic,\n    pageGrid,\n    pageList,\n    pageTimeline,\n    pageAnnotate,\n    pageMedia,\n    device\n]","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"../../Preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageGrid',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./gridHeader/uiSchema\"\nimport media from \"./gridMedia/uiSchema\"\nimport body from \"./gridBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import body from \"../../page/pageBody/uiSchema\"\nimport links from \"../gridLinks/uiSchema\"\n\nexport default {\n    ...body,\n    \"links\": links\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../Preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageList',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./listHeader/uiSchema\"\nimport media from \"./listMedia/uiSchema\"\nimport body from \"./listBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Liste\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../Preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTimeline',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./timelineHeader/uiSchema\"\nimport media from \"./timelineMedia/uiSchema\"\nimport body from \"./timelineBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Tidslinje\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilder\",\n    \"media\": {\n        ...uiSchema.media,\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"backgroundImage\",\n            \"parallaxImage\"\n        ],\n        \"backgroundImage\": {\n            ...uiSchema.media.backgroundImage,\n            \"ui:xs\": 6\n        },\n        \"parallaxImage\": {\n            ...uiSchema.media.parallaxImage,\n            \"ui:xs\": 6\n        }\n    }\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../Preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageAnnotate',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default {\n    ...schema,\n    \"properties\": {\n        ...schema.properties,\n        \"content\": {\n            ...schema.properties.content,\n            \"properties\": {\n                ...schema.properties.content.properties,\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"annotations\": true,\n                    \"filters\": [\"opacity\"],\n                }\n            }\n        }\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport annotateHeader from \"./annotateHeader/uiSchema\"\nimport annotateBody from \"./annotateBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": annotateHeader,\n        \"body\": annotateBody\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bildekart\",\n}","import annotateLinks from \"../annotateLinks/uiSchema\"\nimport annotateImage from \"../annotateImage/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Markeringer\",\n    \"ui:icon\": \"label\",\n    \"ui:fieldset\": [\n        \"backgroundImage\",\n        \"links\"\n    ],\n    \"ui:settings\": [\n        \"annotateLayout\",\n        \"annotateColor\"\n    ],\n    \"backgroundImage\": annotateImage,\n    \"links\": annotateLinks\n}","export default {\n    \"ui:fieldset\": [\n        \"imageAnnotations\",\n//        \"imageCropdata\",\n//        \"imageFocalpoint\",\n        \"imageFilters\"\n    ],\n    \"imageAnnotations\": {\n        \"ui:field\": \"kpAnnotateImage\",\n        \"ui:title\": \"Markeringer\",\n    },\n    \"ui:minHeight\": 512,\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn bilde\"\n        }\n    ]\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:field\": \"kpAnnotateArray\",\n    \"ui:title\": \"Markrer\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" markrer\"\n            }\n        }\n    },\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../Preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMedia',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./mediaHeader/uiSchema\"\nimport body from \"./mediaBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Media\",\n}","import links from \"../mediaLinks/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Innhold\",\n    \"ui:icon\": \"link\",\n    \"ui:fieldset\": [\n        \"links\"\n    ],\n    \"ui:settings\": [\n        \"mediaLayout\",\n    ],\n    \"links\": links\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:title\": \"Media\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" media\"\n            }\n        }\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video\",\"audio\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\",\n        },\n        {\n            \"type\": \"upload\",\n            \"title\": \"Last opp\"\n        }\n    ],\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n        \"link\": {\n            ...links.items.link,\n            \"linkMedia\": {\n                ...links.items.content.linkMedia,\n                \"ui:sidebar\": {\n                    \"query\": {\n                        \"models\": \"media\",\n                        \"mediaType\": [\"image\",\"video\",\"audio\"]\n                    }\n                }\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../Preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'device',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"deviceId\": {\n                    \"type\": \"number\"\n                },\n                \"deviceTitle\": {\n                    \"type\": \"string\"\n                },\n                \"deviceType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"windows\",\"ipad\"],\n                    \"enumNames\": [\"Windows\",\"iPad\"]\n                },\n                \"serialNumber\": {\n                    \"type\": \"string\",\n                },\n                \"placement\": {\n                    \"type\": \"string\",\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"focalpoint\": true\n                },\n                \"startPageId\": {\n                    \"type\": \"string\",\n                    \"readonly\": true\n                },\n                \"hasPages\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"page\",\n                        \"referenceType\": \"deviceHasPages\",\n                        \"_reverseReferenceType\": \"pageIsPartOf\",\n                        \"_reverseReference\": \"isPartOf[]\",\n                        \"properties\": {\n                            \"content\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"icon\": {\n                                        \"type\": \"string\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}","import settings from \"./settings/uiSchema\";\nimport header from \"./header/uiSchema\";\nimport media from \"./media/uiSchema\";\nimport hasPages from \"./hasPages/uiSchema\";\nimport uiPreview from \"./uiPreview\";\n\nexport default {\n    \"ui:preview\": uiPreview,\n    \"ui:field\": \"pageEditor\",\n    \"ui:fieldset\": [\n        \"content\",\n//        \"settings\"\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:field\": \"kpDevice\",\n        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"hasPages\",\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"hasPages\": hasPages\n    }\n}","export default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\"\n    },\n    prepare({formData, formContext}) {\n        let { documentType, locale, imageUrl, title, content, description } = formData\n  \n//        const { defaultLocale } = formContext\n        const defaultLocale = locale\n        const localeId = \"locale:\" + defaultLocale;\n  \n        let metadata = []\n\n        const backgroundImage = content && content.backgroundImage;\n        const hasPages = content && content.hasPages;\n        const deviceTitle = content && content.deviceTitle\n        const deviceId = content && content.deviceId\n        const deviceType = content && content.deviceType\n\n        const typeLabel = deviceType && documentType + \"/\" + deviceType ||documentType\n\n        if (backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl) {\n            imageUrl = backgroundImage.media.imageUrl\n        }\n      \n        if (hasPages && hasPages.length) {\n            metadata.push(hasPages.length + ' sider')\n        }\n\n        if (deviceId) {\n            metadata.push('#'+deviceId)\n        }\n\n        return {\n            imageUrl: imageUrl,\n            title: deviceTitle ||title,\n            description: description,\n            metadata: metadata,\n            typeLabel: typeLabel\n        }\n      \n    }\n    \n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"device\",\n    ],\n    \"device\": {\n        \"ui:layout\": \"section\",\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"deviceTitle\",\n                \"deviceId\"\n            ],\n            \"deviceTitle\": {\n                \"ui:title\": \"Intern tittel\"\n            },\n            \"deviceId\": {\n                \"ui:title\": \"DeviceId\"\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"settings\",\n    \"ui:options\" : {\n        \"expanded\": true,\n//        \"collapsible\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Enhet\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.deviceTitle \n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"deviceTitle\",\n        \"deviceId\",\n        \"deviceType\",\n        \"serialNumber\",\n        \"startPageId\"\n    ],\n    \"deviceTitle\": {\n        \"ui:title\": \"Intern tittel\"\n    },\n    \"deviceId\": {\n        \"ui:title\": \"Id\",\n    },\n    \"deviceType\": {\n        \"ui:title\": \"Type enhet\",\n    },\n    \"serialNumber\": {\n        \"ui:title\": \"Serienummer\"\n    },\n    \"leadtext\": {\n        \"ui:title\": \"Ingress\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"bodytext\": {\n        \"ui:title\": \"Brdtekst\",\n        \"ui:widget\": \"textarea\"\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"image\",\n    \"ui:title\": \"Bakgrunnsbilde\",\n    \"ui:options\": {\n//        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"backgroundImage\",\n    ],\n    \"backgroundImage\": {\n        \"ui:buttons\": [\n            {\n                \"icon\": \"search\",\n                \"title\": \"Finn bakgrunnsbilde\",\n                \"type\": \"sidebar\"\n            }\n        ]\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"menu\",\n    \"ui:title\": \"Innhold\",\n    \"ui:options\" : {\n        \"draggable\": true\n    },\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData}) {\n            const count = formData && formData.length;\n            if (count) {\n                return {\n                    \"title\": count + \" sider\"\n                }\n            }\n            return {\n               \"title\": \"Ingen sider\"\n            }\n        }\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"page*\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn side\"\n        },\n    ],\n    \"items\": {\n        \"ui:options\": {\n            \"editable\": false\n        },\n        \"ui:field\": \"kpDeviceLink\"\n    }\n}","import mediaSchemas from \"@kit-ui/schema/es/Media/schemas\"\nimport schemas from \"./\"\n\nlet schemasByName = {\n}\n\nconst allSchemas = [\n    ...mediaSchemas,\n    ...schemas\n]\n\nallSchemas.map(schema => {\n    const { schemaType, name } = schema\n\n    if (schemaType && name) {\n        schemasByName[schemaType + \"/\" + name] = schema\n    }\n})\n\nexport default schemasByName","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SchemaBase } from '@kit-ui/schema';\nimport { bulkChange, bulkSubmit } from '../redux/bulk';\n\nimport registry from \"../components/registry\"\nimport schemasByName from \"../schemas/schemasByName\"\n\n\nconst uiSchema = {\n    \"ui:options\": {\n        \"spacing\": 2\n    }\n\n}\n\nconst BulkEditor = ({schema = {}, formData = {}, ...props}) => {\n\n    const renderDebug = () => {\n\n        return (\n            <div style={{position: \"absolute\", bottom: \"100px\", left: 0, right: 0}}>\n                <hr />\n                {JSON.stringify(schema)}\n                <hr />\n                {JSON.stringify(formData)}\n            </div>\n        )\n\n    }\n\n    const dispatch = useDispatch()\n\n    const _onChange = ({formData}) => {\n        dispatch(bulkChange({formData}))\n    }\n\n    const _onSubmit = ({formData}) => {\n        dispatch(bulkSubmit({formData}))\n    }\n\n    const formContext = {}\n\n    return (\n        <div>\n\n            {JSON.stringify(schema)}\n            <br></br>\n            {JSON.stringify(formData)}\n\n\n        <SchemaBase {...registry} \n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={_onChange}\n            onSubmit={_onSubmit} />\n        </div>\n    )\n    \n}\n\nexport default BulkEditor","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getAppLayout } from '../redux/app';\n\nimport FinderLayout from \"./FinderLayout\"\nimport BulkLayout from \"./BulkLayout\"\nimport BulkEditor from \"./BulkEditor\"\n\nconst Finder = ({children, ...props}) => {\n\n    const finder = useSelector(state => state.finder)\n    const bulk = useSelector(state => state.bulk)\n\n    return (\n        <React.Fragment>\n            <BulkLayout {...bulk} expanded={bulk.count && true}>\n                <BulkEditor {...bulk} /> \n            </BulkLayout>\n            <FinderLayout\n                parents={finder && finder.parents}>\n                    {children}\n            </FinderLayout>\n        </React.Fragment>\n    )\n\n}\n\nexport default Finder","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        display: \"flex\",\n        flexDirecton: \"column\",\n//        alignItems: \"baseline\",\n        color: theme.palette.text.secondary,\n        margin: theme.spacing(2),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary\n    }\n}));\n\nconst ResultsLoader = ({query = {}, isLoading, count = 0, children}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const classes = useStyles()\n\n    let title;\n\n    const q = query.q && query.q.replace('*', '')\n\n    if (isLoading && !count) {\n        title = t('Searching, please wait', {q}) + \"...\";\n    } else if (!count) {\n        title = t('No hits')\n    }\n\n    if (title) {\n        return (\n            <div className={classes.loader}>\n                <Typography className={classes.title}>{title}</Typography>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default ResultsLoader","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsFooter = ({start, rows, count, page, pages, nextPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!nextPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n\n    const label = \"get page \" + nextPage // t('Get results {{from}}{{to}}', {from, to}) + \" ...\"\n\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(nextPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsFooter;","import React from 'react';\nimport { ModuleBase, ModuleTitle, ModuleLabel, ModuleMetadata } from \"@kit-ui/admin\"\nimport {ButtonSelect } from \"../\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n        boxShadow: theme.shadows[1],\n\n        \"&:hover\": {\n            boxShadow: theme.shadows[4]\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        }\n\n    },\n    primaryAction: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n    },\n    figure: {\n        width: \"100%\",\n        overflow: \"hidden\",\n        margin: 0,\n\n        \"& > img\": {\n            display: \"block\",\n            width: \"100%\"\n        }\n\n    },\n    content: {\n        padding: theme.spacing(1)\n    }\n\n}));\n\n\nconst MasonryModule = ({uniqueId, title, imageUrl, documentType, selectable, selected, onSelect, onEdit, ...props}) => {\n\n    const classes = useStyles()\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n    return (\n        <ModuleBase className={classes.module} selected={selected} elevation={1} onClick={onEdit}>\n            \n            <figure className={classes.figure}>\n                <img src={imageUrl} />\n            </figure>\n            <div className={classes.content}>\n                <ModuleTitle title={title} />\n                <ModuleLabel>{documentType}</ModuleLabel>\n                <ModuleMetadata metadata={[uniqueId]}></ModuleMetadata>\n            </div>\n            <div className={classes.primaryAction}>\n                { selectable && <ButtonSelect selected={selected} onClick={_onSelect} /> }\n            </div>\n        </ModuleBase>\n    )\n\n}\n\nexport default MasonryModule","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\n\nimport { ListModule, TableModule, GridModule, GalleryModule } from '@kit-ui/admin';\n\nimport MasonryModule from \"../components/Masonry/MasonryModule\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview } = utils;\n\nconst layouts = {\n    \"table\": TableModule,\n    \"list\": ListModule,\n    \"grid\": GridModule,\n    \"masonry\": MasonryModule,\n    \"gallery\": GalleryModule,\n}\n\n\nconst FinderModel = ({moduleComponent, model, layout = \"list\", ...props}) => {\n    const { modelName, uniqueId, mediaType, source, sourceId, } = model;\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const _onLink = () => {\n        props.history.push('/checkout/' + uniqueId)\n    }\n\n    const _onEdit = () => {\n        props.history.push(props.location.pathname + '/' + uniqueId + \"/edit\")\n    }\n\n    const _onDelete = () => {\n        dispatch(deleteModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onRestore = () => {\n        dispatch(restoreModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onErase = () => {\n        dispatch(eraseModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onSelect = () => {\n        dispatch(selectModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    // uniqueModel\n\n    const modelsById = useSelector(state => state.modelsById)\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n\n    const bulkById = useSelector(state => state.bulk.bulkById)\n    const bulkModel = bulkById && bulkById[uniqueId] ||{}\n\n    // uiPreview\n   \n    const documentType = uniqueModel && uniqueModel.documentType ||model && model.documentType\n    const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType]\n    const uiPreview = documentModel && uniqueModel.uniqueId && getUiPreview({...documentModel, formData: uniqueModel}) ||{}\n\n    // model\n\n    model = {\n        ...model,\n        ...bulkModel,\n        ...uniqueModel,\n        ...uiPreview\n    }\n\n\n    const {selected, status } = model\n\n    const getToolbar = () => {\n\n        if (selected) {\n            return false\n        }\n\n        if (status === \"erased\") {\n            return false\n        }\n\n        if (status === \"trash\") {\n            return [\n                {\n                    icon: \"restore\",\n                    onClick: _onRestore\n                },\n                {\n                    icon: \"delete_forever\",\n                    onClick: _onErase\n                },\n                \n            ]\n        }\n\n        return [\n            {\n                icon: \"edit\",\n                onClick: _onEdit\n            },\n            {\n                icon: \"delete\",\n                onClick: _onDelete\n            },\n            {\n                icon: \"links\",\n                onClick: _onLink\n            }\n        ]\n\n    }\n\n    const toolbar = getToolbar()\n\n    if (!moduleComponent) {\n        moduleComponent = layout && layouts[layout]\n    }\n\n    const ModuleComponent = moduleComponent\n\n    return (\n        <ModuleComponent {...model} \n            description={false}\n            selectable={true}\n            onEdit={_onEdit}\n            onSelect={_onSelect}\n            toolbar={toolbar} />\n    )\n\n}\n\nexport default FinderModel","import React from 'react';\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport FinderModel from \"./FinderModel\"\n\nconst ListLayout = ({children}) => {\n    return <div>{children}</div>\n}\n\nconst DocumentsList = ({layout = \"list\", resultsLoaded, onPage, ...props}) => {\n\n    return (\n        <ResultsLoader {...props}>\n            <ListLayout padding={2}>\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <FinderModel model={model} layout={layout} {...props} key={index} />\n                    )\n                })}\n            </ListLayout>\n            <ResultsFooter {...props} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default DocumentsList","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    masonry: {\n        width: \"100%\",\n//        overflow: \"hidden\",\n    },\n    row: {\n        display: \"flex\",\n        width: \"auto\",\n        margin: props => { return theme.spacing(props.spacing/2 * -1) },\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1,\n        }\n    },\n    col: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: props => { return props.colWidth },\n        maxWidth: props => { return props.colWidth },\n    },\n    item: {\n        margin: props => { return theme.spacing(props.spacing/2) },\n        \"& > *\": {\n            display: \"block\",\n            width: \"100%\"\n        }\n    }\n}));\n\nconst Masonry = ({width, columns = 3, spacing = 1, padding = 0, children, debug = false}) => {\n\n    const colWidth = Math.floor(width/columns)\n\n    const classes = useStyles({padding, spacing, colWidth})\n\n    const items = [].concat(children || []);\n\n    const getItemsByColumn = () => {\n        let itemsByColumn = {}\n\n        items.map((item, index) => {\n\n            const c = index % columns\n\n            if (!itemsByColumn[c]) {\n                itemsByColumn[c] = []\n            }\n\n            itemsByColumn[c].push(item)\n\n        })\n\n        return itemsByColumn\n\n    }\n\n\n    const itemsByColumn = getItemsByColumn()\n\n    return (\n        <div className={classes.masonry}>\n            <div className={classes.row}>\n                {itemsByColumn && Object.values(itemsByColumn).map(items => {\n                    return (\n                        <div className={classes.col} style={{width: colWidth}}>\n                            {items.map(item => {\n                                return (\n                                    <div className={classes.item}>\n                                        {item}\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n\n}\n\nexport default withResizeDetector(Masonry);","import React from 'react';\n//import { Masonry } from \"@kit-ui/admin\"\nimport Masonry from \"../components/Masonry/Masonry\"\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport FinderModel from \"./FinderModel\"\n\n\nconst MasonryLayout = ({layout = \"masonry\", resultsLoaded, onPage, ...props}) => {\n\n    return (\n        <ResultsLoader {...props}>\n            <Masonry columns={4} spacing={2}>\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <FinderModel model={model} layout={layout} {...props} key={index} />\n                    )\n                })}\n            </Masonry>\n            <ResultsFooter {...props} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default MasonryLayout","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsHeader = ({start, rows, count, page, pages, prevPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!prevPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n    const label = \"get page \" + prevPage // t('Get results {{from}}{{to}}', {from, to}) + \" ...\"\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(prevPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsHeader;","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { Gallery } from \"@kit-ui/admin\"\n\nimport FinderModel from \"./FinderModel\"\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsHeader from \"./ResultsHeader\"\nimport ResultsFooter from \"./ResultsFooter\"\n\nconst MediaGallery = ({layout = \"gallery\", resultsLoaded = [], onPage, mediaHeight = 180, mediaLayout = \"cover\", ...props}) => {\n\n    return (\n        <ResultsLoader {...props}>\n            <ResultsHeader {...props} onPage={onPage} />\n            <Gallery width=\"100%\" padding={0} spacing={2}>\n                { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                    let width, height;\n                        \n                    if (model.mediaWidth && model.mediaHeight) {\n                        width = model.mediaWidth\n                        height = model.mediaHeight\n                    } else if (model.imageWidth && model.imageHeight) {\n                        width = model.imageWidth\n                        height = model.imageHeight\n                    }\n\n                    model = {\n                        ...model,\n                        width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                        mediaHeight: mediaHeight,\n                        mediaLayout: mediaLayout\n                    }\n\n                    return (\n                        <FinderModel {...props} layout=\"gallery\" model={model} width={model.width} key={index} />\n                    )\n                })}\n            </Gallery>\n            <ResultsFooter {...props} onPage={onPage} />\n        </ResultsLoader>\n    )    \n}\n\nMediaGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    models: PropTypes.array \n}\n\nexport default MediaGallery;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchById';\nimport qs from 'query-string';\n\nimport Finder from \"./Finder\"\n\nimport List from \"./ListLayout\"\nimport Masonry from \"./MasonryLayout\"\nimport Gallery from \"./GalleryLayout\"\n\nconst templates = {\n    \"list\": List,\n    \"masonry\": Masonry,\n    \"gallery\": Gallery,\n    \"media\": Gallery,\n}\n\nconst FinderQuery = ({menuItem: { query = {}, layout = \"list\"}, ...props}) => {\n    const dispatch = useDispatch()\n\n    const { pathname, search } = props.location\n\n    // set query\n\n    const app = useSelector(state => state.app)\n\n    const sq = props.location.search && qs.parse(props.location.search)\n\n    query = {\n        ...query,\n        id: pathname,\n        collectionId: app && app.collectionId,\n        page: sq.page || 1,\n        rows: sq.rows ||10,\n        sort: sq.sort ||query.sort ||undefined,\n        fl: \"uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight\",\n        q: sq.q ||undefined,\n    };\n\n\n    // query\n\n    useEffect(() => {\n        query && dispatch(getQuery(query))\n    }, [pathname, query.q])\n\n    // search\n\n    const searchById = useSelector(state => state.searchById)\n    const currentSearch = searchById && searchById[query.id] ||{}\n    \n    const _onPage = (page) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, page: page});\n        props.history.replace(url)\n\n        dispatch(getQuery({\n            ...query,\n            page: page\n        }))\n    }\n\n    const _onCreate = () => {\n        props.history.push(props.location.pathname + '/' + query.documentType + \"/new\")\n    }\n\n    // layout\n\n    const ResultsTemplate = templates && templates[layout] || templates[\"list\"]\n\n    if (ResultsTemplate) {\n        return <ResultsTemplate {...props} {...currentSearch} onPage={_onPage} />\n    }\n\n\n}\n\nFinderQuery.defaultProps = {\n}\n\nexport default FinderQuery","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    tree: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1,\n            width: \"auto\",\n\n            \"&:last-child\": {\n                minWidth: \"50%\"\n            }\n\n\n        },\n\n        \"& > * + *\": {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n    },\n}));\n\nconst DocumentTree = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tree}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default DocumentTree","import React, {forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    column: {\n        position: \"relative\",\n        flexBasis: 0,\n        flewGrow: 1,\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        height: \"100%\",\n        minWidth: theme.spacing(7),\n        minWidth: theme.spacing(32),\n        overflowY: \"scroll\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"&:hover\": {\n                width: theme.spacing(32),\n                minWidth: theme.spacing(32),\n            }\n\n        }\n\n    },\n\n}));\n\nconst DocumentTreeColumn = ({droppable, expanded, children, ...props}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    if (droppable) {\n        const {provided, snapshot } = droppable\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div data-is-dragging-over={isDraggingOver} className={classes.column} {...provided.droppableProps} ref={provided.innerRef}>\n                {children}\n                {provided.placeholder}\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.column} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default DocumentTreeColumn;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"16px\",\n        lineHeight: \"24px\",\n        fontWeight: \"bold\",\n        maxWidth: \"100%\",\n        color: theme.palette.text.primary,\n        \"&[data-status=trash]\": {\n            color: theme.palette.text.disabled,\n            textDecoration: \"line-through\"\n        },\n        \"&[data-status=erased]\": {\n            color: theme.palette.text.disabled,\n            textDecoration: \"line-through\"\n        },\n    },\n    link: {\n        color: \"inherit\",\n        \"&:hover\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst ModuleTitle = ({className, title, untitled = \"Untitled\", status, onClick, children}) => {\n    const classes = useStyles()\n\n    if (!title && children) {\n        title = children\n    }\n\n    if (!title && untitled) {\n        title = untitled\n    }\n\n    if (onClick) {\n        return (\n            <Typography data-status={status} className={className || classes.root} component=\"h2\" noWrap={true}>\n                <Link className={classes.link} onClick={onClick}>{title}</Link>\n            </Typography>\n        )\n    }\n\n    return (\n        <Typography data-status={status} className={className || classes.root} component=\"h2\" noWrap={true}>{title}</Typography>\n    )\n}\n\nModuleTitle.propTypes = {\n    untitled: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n};\n\nModuleTitle.defaultProps = {\n    onClick: undefined,\n};\n\n\nexport default ModuleTitle;","import React from 'react';\nimport Color from 'color';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst getContrastColor = (color) => {\n\n    color = Color(color);\n\n    if (color.isDark()) {\n        return \"white\"\n    } else {\n        return \"black\"\n    }\n\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"inline-block\",\n        fontSize: \"12px\",\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"inherit\",\n        fontWeight: \"bold\",\n        padding: \".125em .75em\",\n        border: \"1px solid\",\n        backgroundColor: props => { return props.color || \"transparent\" },\n        borderColor: props => { return props.color || theme.palette.divider },\n        color: props =>{ return props.color && getContrastColor(props.color) || theme.palette.text.secondary },\n        borderRadius: \"1.25em\",\n    }\n}));\n\nconst ModuleLabel = ({className, component = \"h4\", label, color, children}) => {\n    const classes = useStyles({color})\n\n    if (!label && children) {\n        label = children\n    }\n\n    if (!label) {\n        return false\n    }\n\n    return (\n        <span className={className || classes.root}>\n           <Typography className={classes.label} noWrap={true} component={component}>{label}</Typography>\n        </span>\n    )\n}\n\nModuleLabel.propTypes = {\n    component: PropTypes.string,\n    label: PropTypes.string,\n    color: PropTypes.string\n};\n\nModuleLabel.defaultProps = {\n    label: undefined,\n    color: undefined\n};\n\nexport default ModuleLabel;","import React, {forwardRef} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DragIcon from '@material-ui/icons/DragHandle';\n\nimport ModuleTitle from \"./ModuleTitle\"\nimport ModuleLabel from \"./ModuleLabel\"\nimport ModuleMetadata from \"./ModuleMetadata\"\n\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"auto\",\n        width: \"100%\",\n        maxWidth: \"100%\",\n        minWidth: theme.spacing(16),\n        overflow: \"hidden\",\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"&[aria-expanded=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n\n        width: \"100%\",\n//        maxWidth: 256 - 48,\n\n        marginTop: 8,\n        marginBottom: 8,\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        color: \"inherit\",\n\n        \"& > *\": {\n            color: \"inherit\"\n        }\n\n    },\n\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    dragHandle: {\n        margin: theme.spacing(.5)\n    },\n    toolbar: {\n        position: \"absolute\",\n        right: 0,\n        margin: theme.spacing(.5),\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    }\n    \n}));\n\nconst DocumentContent = ({url, uniqueId, title, documentType, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.content} onClick={onClick}>\n            <ModuleTitle title={title} />\n            <footer className={classes.footer}>\n                <ModuleLabel>{documentType}</ModuleLabel>\n            </footer>\n        </div>\n    )\n\n}\n\nconst Toolbar = ({children, onSelect, onEdit}) => {\n\n    const classes = useStyles()\n\n    const _onEdit = (event) => {\n        event.stopPropagation()\n        onEdit && onEdit()\n    }\n\n    return (\n        <div className={classes.toolbar}>\n\n                <IconButton onClick={_onEdit}>\n                    <EditIcon />\n                </IconButton>\n\n                {children && \n                    <IconButton  onClick={onSelect}>\n                        <SelectIcon />\n                    </IconButton>\n                }\n\n        </div>\n    )\n\n}\n\nconst DragHandle = ({dragHandleProps}) => {\n\n    const classes = useStyles()\n\n    return (\n        <IconButton {...dragHandleProps} className={classes.dragHandle}>\n            <DragIcon />\n        </IconButton>\n    )\n\n}\n\nconst DocumentTreeRow = ({draggable, expanded, selected, ...props}) => {\n\n    const classes = useStyles()\n\n    if (draggable) {\n        const {provided, snapshot } = draggable\n\n        const {isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module} \n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                onClick={props.onSelect}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef}>\n                    <DragHandle dragHandleProps={provided.dragHandleProps} />\n                    <DocumentContent {...props} />\n                    <Toolbar {...props} />\n            </div>\n        )   \n\n    }\n\n    return (\n        <div className={classes.module} aria-selected={selected}>\n            <DocumentContent {...props} />\n        </div>\n    )\n\n}\n\nexport default DocumentTreeRow;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"normal\",\n        color: \"inherit\",\n        opacity: .54\n    }\n}));\n\n/** ModuleMetadata takes an array of strings and displays them on a single line */\n\nconst ModuleMetadata = ({className, metadata = []}) => {\n    const classes = useStyles()\n\n    if (!metadata) {\n        return false\n    }\n\n    metadata = metadata.join('  ')\n    \n    return (\n        <Typography className={className || classes.root} noWrap component=\"h3\">{metadata}</Typography>\n    )\n}\n\nModuleMetadata.propTypes = {\n    component: PropTypes.string,\n    metadata: PropTypes.array,\n}\n\nexport default ModuleMetadata;","import React, {useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\n\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nimport {ModuleLabel } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        margin: theme.spacing(1),\n\n        \n    },\n\n    header: {\n        margin: theme.spacing(2),\n        flexBasis: 0,\n        flexGrow: 1,\n        color: \"inherit\",\n        textAlign: \"center\",\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 24\n    },\n\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    select: {\n        }\n\n\n}));\n\n\nconst FinderPreview = ({model, ...props}) => {\n\n    const dispatch = useDispatch()\n\n    const { modelName, uniqueId } = model\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const classes = useStyles()\n\n    const modelsById = useSelector(state => state.modelsById)\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n\n    model = {\n        ...model,\n        ...uniqueModel,\n    }\n\n    const { title, description, documentType, content } = model\n\n    return (\n        <div className={classes.module}>\n            <header className={classes.header}>\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                <Typography className={classes.description} component=\"h3\">{description}</Typography>\n                <ModuleLabel>{documentType}</ModuleLabel>\n           </header>\n            <div className={classes.content}>\n                {JSON.stringify(content)}\n            </div>\n            <footer className={classes.footer}>\n                footer\n            </footer>\n        </div>\n\n    )\n\n    \n}\n\nexport default FinderPreview","import React from 'react';\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nimport ModuleTitle from \"./ModuleTitle\"\nimport ModuleLabel from \"./ModuleLabel\"\nimport ModuleMetadata from \"./ModuleMetadata\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n    },\n\n    header: {\n        width: \"100%\",\n        flexBasis: 0,\n        flexGrow: 1,\n//        margin: theme.spacing(1),\n        color: \"inherit\",\n        textAlign: \"center\",\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 24\n    },\n\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    select: {\n        }\n\n\n}));\n\n\nconst DocumentTreeModule = ({uniqueId, title, description, documentType, selectable, selected, onClick}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.module} aria-selected={selected} onClick={onClick}>\n            <header className={classes.header}>\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                <Typography className={classes.description} component=\"h3\">{description}</Typography>\n                <ModuleLabel>{documentType}</ModuleLabel>\n           </header>\n            <div className={classes.content}>\n            </div>\n            <footer className={classes.footer}>\n                footer\n            </footer>\n        </div>\n\n    )\n\n    \n}\n\nexport default DocumentTreeModule","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { sortMenuTree, moveMenuItem } from '../redux/finder';\nimport qs from 'query-string';\n\nimport {\n    DocumentTree,\n    DocumentTreeColumn,\n    DocumentTreeModule,\n} from \"../components/DocumentTree/\"\n\nimport FinderPreview from \"./FinderPreview\"\n\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nconst FinderTree = (props) => {\n    const pathname = props.location.pathname\n\n    const dispatch = useDispatch()\n\n    const finder = useSelector(state => state.finder)\n    const menuByUrl = finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n    const parents = finder.parents\n    const parentsByUrl = finder.parentsByUrl\n\n    const [result, setResult] = useState(undefined)\n\n    const _onEdit = ({url}) => {\n        const editUrl = url + \"/edit\"\n        editUrl && props.history.push(editUrl)\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const _onCreateChild = ({url, id}) => {\n        const parentId = Number.isInteger(id) && id ||null\n        const createUrl = url && url + \"/new?\" + qs.stringify({documentType: \"pageTopic\", parentId: parentId})\n        createUrl && props.history.push(createUrl)\n    }\n\n    const _onDragEnd = (results) => {\n\n        const { draggableId, source, destination, combine } = results\n\n        if (source && destination && \n            source.droppableId !== destination.droppableId &&\n            draggableId !== destination.droppableId) {\n\n            dispatch(sortMenuTree({\n                destination: {\n                    ...menuByUrl[destination.droppableId],\n                    ...destination,\n                },\n                source: {\n                    ...menuByUrl[source.droppableId],\n                    ...source,\n                },\n                item: menuByUrl[draggableId]\n            }))\n\n        } else if (combine) {\n\n            dispatch(sortMenuTree({\n                destination: {\n                    ...menuByUrl[combine.draggableId],\n                    ...destination,\n                },\n                source: {\n                    ...menuByUrl[source.droppableId],\n                    ...source,\n                },\n                item: menuByUrl[draggableId]\n            }))            \n\n        }\n\n        setResult({results})\n\n       \n    }\n    \n    return (\n        <DocumentTree>\n            <DragDropContext onDragEnd={_onDragEnd}>\n                { parents && parents.map((parent, px) => {\n                    const droppableId = parent.url\n\n                    const droppableParent = {\n                        ...menuByUrl[droppableId],\n                    }\n\n                    return (\n                        <Droppable index={px} droppableId={droppableId} isCombineEnabled={true} key={droppableId}>\n                            {(provided, snapshot) => (\n                                <DocumentTreeColumn droppable={{provided, snapshot}} droppableRef={provided.innerRef}>\n                                    { droppableParent.children && droppableParent.children.map((child, cx) => {\n                                        const draggableId = child.url\n                                        const hasChildren = menuByUrl[draggableId] && menuByUrl[draggableId].children && menuByUrl[draggableId].children.length && true\n                                        const expanded = parentsByUrl[child.url] && true\n                                        const selected = pathname == child.url\n\n                                        return (\n                                            <Draggable index={cx} draggableId={draggableId} key={draggableId}>\n                                                {(provided, snapshot) => (\n                                                    <DocumentTreeModule {...child} \n                                                        children={hasChildren}\n                                                        draggable={{provided, snapshot}}\n                                                        draggableRef={provided.innerRef}\n                                                        expanded={expanded}\n                                                        selected={selected}\n                                                        onEdit={() => _onEdit(child)}\n                                                        onSelect={() => _onSelect(child)} />\n                                                )}\n                                            </Draggable>\n                                        )\n                                    })}\n                                    <button onClick={() => _onCreateChild(parent)}>New child</button>\n                                </DocumentTreeColumn>\n                            )}\n                        </Droppable>\n                    )\n\n                })}\n            </DragDropContext>        \n\n            <DocumentTreeColumn>\n                <FinderPreview model={menuItem} />\n            </DocumentTreeColumn>\n        </DocumentTree>\n    )\n\n\n\n}\n\nFinderTree.defaultProps = {\n}\n\nexport default FinderTree","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport EXIF from 'exif-js';\nimport * as mm from 'music-metadata-browser';\n\n\nconst uploadByIdSlice = createSlice({\n    name: 'upload',\n    initialState: {\n    }, \n    reducers: {\n        requestUpload(state, action) {\n            const { id, requested } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n//                    acceptedFiles: acceptedFiles,\n//                    rejectedFiles: rejectedFiles,\n                    requested: requested,\n                    received: 0,\n                    count: 0,\n                    resultsLoaded: []\n                }\n            }\n        },\n        receiveUpload(state, action) {\n            const { id, results } = action.payload\n\n            return state\n        },\n        requestUploadModel(state, action) {\n            const { id, model } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n//                    received: state[id].received + 1,\n                }\n            }\n            \n        },\n        receiveUploadModel(state, action) {\n            const { id, data } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n                    count: state[id].count + 1,\n                    resultsLoaded: [\n                        ...state[id].resultsLoaded,\n                        data\n                    ]\n                }\n            }\n        },\n        receiveUploadProgress(state, action) {\n            const { id, progress } = action.payload\n\n            return state\n            \n        },\n        receiveUploadStatus(state, action) {\n            const { id, status } = action.payload\n\n            return state\n        }\n    }\n})\n\nexport const getUpload = ({id, acceptedFiles = [], uploadData = { status: \"upload\" }}) => dispatch => {\n\n    const requested = acceptedFiles.length ||0\n\n    dispatch(requestUpload({id, requested}))\n\n    acceptedFiles && acceptedFiles.map((file, index) => {\n//      dispatch(requestUploadModel({id}))\n        dispatch(getUploadUrl({id, file, uploadData}))\n    })\n\n}\n\nexport const getUploadUrl = ({id, file, uploadData = {}}) => dispatch => {\n\n    console.log('getUploadMetadata', file)\n\n    const { name, type, size } = file\n\n    uploadData = {\n        ...uploadData,\n        title: uploadData.title || name,\n        filename: name,\n        mimeType: type,\n        mediaSize: size,\n        content: {\n            ...uploadData.content,\n            title: name,\n            filename: name\n        }\n    }\n\n    // where to upload?\n\n    let url = API + '/admin/api/media/upload';\n  \n    if (type.startsWith('image/')) {\n        url = url + '/image'\n    } else if (type.startsWith('video/')) {\n        url = url + '/video'\n    } else if (type.startsWith('audio/')) {\n        url = url + '/audio'\n    } else {\n        url = url + '/misc'\n    }\n\n    console.log('url', url);\n\n    const payload = JSON.stringify(uploadData);\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: payload\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => dispatch(getUploadData({id, file, data})))        \n\n}\n\n\n\nexport const getUploadData = ({id, file, data}) => dispatch => {\n\n    // uniqueId + uploadUrl\n\n    const { uniqueId, uploadUrl } = data;\n\n    dispatch(receiveUploadModel({id, data}))\n\n    const handleStatus = (uniqueId, event) => {\n        let uploadProgress;\n\n        if (event && event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n    \n        let url = API + '/admin/api/media/upload/status/' + uniqueId\n    \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveUploadStatus(uniqueId, data))\n        })\n\n    }\n\n    const _onProgress = (event) => {\n        let uploadProgress;\n\n        if (event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n\n        console.log(\"PROGRESS\", uploadProgress)\n    \n//        dispatch(receiveUploadProgress(uniqueId, uploadProgress))\n    \n    }\n\n\n    // do the upload\n\n    let payload = new FormData();\n    payload.append('file', file);\n\n    var xhr = new XMLHttpRequest();\n//    onLoadStart && xhr.upload.addEventListener(\"load\", (event) => _onLoadStatus(event), false);\n        xhr.upload.addEventListener(\"progress\", (event) => _onProgress(event), false);\n//    onAbort && xhr.upload.addEventListener(\"abort\", (event) => _onAbort(event), false);\n//    onError && xhr.upload.addEventListener(\"error\", (event) => _onError(event), false);\n//    onLoad && xhr.upload.addEventListener(\"load\", (event) => _onLoad(event), false);\n//    onTimeout && xhr.upload.addEventListener(\"timeout\", (event) => _onTimeout(event), false);\n//    onLoadEnd && xhr.upload.addEventListener(\"loadend\", (event) => _onLoadEnd(event), false);\n    xhr.open(\"POST\", uploadUrl);\n    xhr.send(payload);\n\n\n//    getUploadModel({id, file, uploadData, callback: (props) => dispatch(handleUpload(props))})\n\n}\n\n\n\nexport const { requestUpload, requestUploadModel, receiveUploadModel, receiveUploadStatus, receiveUploadProgress } = uploadByIdSlice.actions\nexport default uploadByIdSlice.reducer","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst UploadDropzone = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nUploadDropzone.propTypes = {\n    onUpload: PropTypes.func\n}\n\nUploadDropzone.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default UploadDropzone","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp, getAppLayout, getParents } from '../redux/app';\nimport { getUpload } from '../redux/uploadById';\n\nimport FinderLayout from \"./FinderLayout\"\nimport ListLayout from \"./ListLayout\"\nimport UploadDropzone from \"../Upload/UploadDropzone\"\n\nconst MediaUpload = (props) => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getAppLayout(\"finder\"))\n    }, [])\n\n    const app = useSelector(state => state.app)\n    const menuByUrl = app && app.menuByUrl\n\n    const { pathname } = props.location\n\n    useEffect(() => {\n        menuByUrl && dispatch(getParents({menuByUrl, pathname: pathname}))\n    }, [menuByUrl, pathname])\n\n\n    const _onUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: app.collectionId,\n            status: \"upload\"\n        }\n\n        dispatch(getUpload({\n            id: pathname,\n            acceptedFiles,\n            uploadData\n        }))\n\n    }\n\n\n    const uploadById = useSelector(state => state.uploadById)\n\n    const currentUpload = uploadById && uploadById[pathname] ||{}\n\n\n    return (\n        <FinderLayout\n            parents={app && app.parents}>\n                <ListLayout {...currentUpload} {...props} />\n                <UploadDropzone onUpload={_onUpload} />\n        </FinderLayout>\n    )\n\n}\n\nMediaUpload.defaultProps = {\n}\n\nexport default MediaUpload","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getAppLayout } from '../redux/app';\nimport { getFinder, getMenuItem, getParents } from '../redux/finder';\n\nimport { AppLoader } from \"@kit-ui/admin\"\nimport { EditorIcon } from \"@kit-ui/icons\"\n\nimport Finder from \"./Finder\"\nimport FinderQuery from \"./FinderQuery\"\nimport FinderTree from \"./FinderTree\"\nimport FinderUpload from \"./FinderUpload\"\n\nconst templates = {\n    \"finder/query\": FinderQuery,\n    \"finder/tree\": FinderTree,\n    \"tree\": FinderTree,\n    \"treeitem\": FinderTree,\n    \"upload\": FinderUpload\n}\n\nconst FinderLoader = (props) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    const menuByUrl = finder.menuByUrl\n    const menuItem = pathname && menuByUrl && menuByUrl[pathname] ||{}\n\n    const title = menuItem.title ||app && app.title || \"Finder\"\n    const description = app.isLoading && \"Loading app\" || finder.isLoading && \"Loading finder\" ||menuItem.isLoading && \"Loading menuItem\" || \"Finder loaded\"\n\n    const isLoading = app.isLoading; //  || finder.isLoading || menuItem.isLoading || false\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getAppLayout(\"finder\"))\n    }, [isLoading])\n\n    useEffect(() => {\n        dispatch(getFinder({pathname}))\n    }, [pathname, menuItem.isLoading])\n\n    const { type, template } = menuItem\n    const FinderTemplate = templates && templates[template] ||templates && templates[type] ||FinderQuery\n\n    return (\n        <AppLoader\n            isLoading={isLoading}\n            icon={<EditorIcon />}\n            title={title}\n            description={description}>\n                <Finder {...props}>\n                    <FinderTemplate menuItem={menuItem} {...props} />\n                </Finder>\n        </AppLoader>\n    )\n\n}\n\nFinderLoader.defaultProps = {\n}\n\nexport default FinderLoader","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\n\nimport { requestModel, receiveModel } from \"../modelsById\"\nimport schema from \"../../schemas/article/section/schema\"\n\nconst editorSlide = createSlice({\n    name: 'editor',\n    initialState: {\n        isLoading: undefined,\n        isSaving: undefined,\n        pathname: undefined,\n        uniqueId: undefined,\n        parents: [],\n        currentId: undefined,\n        schema: {},\n        formData: {},\n        dialog: {}\n    }, \n    reducers: {\n        requestEditor(state, action) {\n            const { pathname } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                isLoading: true,\n            }\n        },\n        receiveEditor(state, action) {\n            const { pathname, uniqueId } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                uniqueId: uniqueId,\n                isLoading: false,\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents\n            }\n        },\n        requestEdit(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                isLoading: true,\n                formData: {\n                    uniqueId: uniqueId\n                }\n            }\n\n        },\n        receiveEdit(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            if (uniqueId) {\n                return {\n                    ...state,\n                    isLoading: false,\n                    formData: {\n                        ...formData,\n                        uniqueId: uniqueId\n                    }\n                }\n            } else {\n                return {\n                    ...state,\n                    isLoading: false,\n                    formData: formData\n                }\n            }\n\n        },\n        requestSave(state, action) {\n           return {\n                ...state,\n                isSaving: true,\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            return {\n                isSaving: false,\n                formData: {\n                    ...formData,\n                    uniqueId: uniqueId\n                }\n            }\n        },\n        receiveCurrentId(state, action) {\n            const { currentId } = action.payload\n            return {\n                ...state,\n                currentId: currentId,\n            }\n        },\n        requestDialog(state, action) {\n            return {\n                ...state,\n                dialog: {},\n            }\n        },\n        receiveDialog(state, action) {\n            const { id, schema, uiSchema, formData, onChange } = action.payload\n            return {\n                ...state,\n                dialog: {\n                    id: id,\n                    expanded: true,\n                    schema: schema,\n                    uiSchema: uiSchema,\n                    formData: formData,\n                    onChange: onChange\n                },\n            }\n        }        \n    }\n})\n\nexport const getEditor = ({pathname, uniqueId}) => (dispatch, getState) => {\n    dispatch(receiveEditor({pathname}))\n\n    const state = getState()\n    const app = state.app\n    const finder = state.finder\n\n    dispatch(getParents({url: pathname, uniqueId}))\n    dispatch(receiveEditor({pathname, uniqueId}))\n}\n\nexport const getParents = ({url, uniqueId}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    const pathnames = url.split('/');\n    pathnames.pop()\n\n    const parentUrl = pathnames.join(\"/\")\n\n    let parent = menuByUrl[parentUrl] || menuById[pathnames.length-1]\n\n    let parents = []\n\n    while (parent) {\n        parents.push(parent)\n        parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n    }\n\n    if (uniqueId) {\n        parents = parents.filter(parent => parent.uniqueId !== uniqueId)\n    }\n\n\n    dispatch(receiveParents({parents: parents.reverse()}))\n  \n}\n\n/** Edit model from uniqueId */\n\nexport const editModel = ({modelName = \"documents\", uniqueId, ...formData}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    if (uniqueId) {\n        dispatch(requestEdit({uniqueId}))\n        \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveEdit(formData))\n                dispatch(receiveModel(formData))\n            })\n\n    } else if (formData) {\n        dispatch(receiveEdit(formData))\n    }\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    dispatch(requestSave())\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n        dispatch(receiveModel(formData))\n    })\n\n}\n\nexport const { \n    requestEditor, receiveEditor, \n    requestParents, receiveParents,\n    receiveCurrentId, \n    requestEdit, receiveEdit, \n    requestSave, receiveSave, \n    requestDialog, receiveDialog\n} = editorSlide.actions\nexport default editorSlide.reducer","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\n\nconst DialogBase = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <section className={classes.dialog}>\n            {children}\n        </section>\n    )\n}\n\nexport default DialogBase","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"absolute\",\n        zIndex: 2,\n        bottom: 0,\n        left: 0,\n        right: 0,\n\n        backgroundColor: \"inherit\",\n\n        \"& + *\": {\n            marginBottom: theme.spacing(8)\n        }\n\n    },\n    navigation: {\n        backgroundColor: \"inherit\",\n        width: \"100%\"\n    },\n}));\n\nconst Menu = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(8)\n    }\n}))(BottomNavigation);\n\nconst MenuItem = withStyles(theme => ({\n    root: {\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px !important\",\n    },\n    selected: {\n    },\n}))(BottomNavigationAction);\n\nconst DialogFooter = ({menu = [], tabIndex = 0}) => {\n \n    const classes = useStyles();\n\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (menu[index].onClick) {\n            menu[index].onClick()\n        }\n\n    }\n    \n    return (\n        <Paper component=\"footer\" elevation={4} square={true} className={classes.footer}>\n            <Menu \n                value={value} \n                onChange={handleChange}\n                showLabels\n                className={classes.navigation}>\n                    { menu && menu.map((item, index) => {\n                        return (\n                            <MenuItem {...item} key={index} />\n                        )\n                    })}\n            </Menu>\n        </Paper>\n    )\n}\n\nexport default DialogFooter","import React, { useState, useEffect } from 'react';\nimport { AppSearch, NavTabs } from '@kit-ui/admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from \"lodash\"\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        backgroundColor: \"inherit\",\n        color: \"black\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n\n        transition: \".125s ease-out\",\n        marginTop: theme.spacing(-8),\n\n        \"&[aria-expanded=true]\": {\n            marginTop: 0,\n \n            \"& + *\": {\n                marginTop: theme.spacing(8),\n            }\n    \n        },\n\n \n    },\n}));\n\n\nconst DialogSearch = ({placeholder, q, onChange, onReset, expanded = false}) => {\n    const classes = useStyles()\n\n    return (\n        <AppSearch className={classes.search} placeholder={placeholder} onChange={onChange} onReset={onReset} expanded={expanded} />\n    )\n}\n\nexport default DialogSearch","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport Typography from '@material-ui/core/Typography';\n\nconst DialogTabpanel = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(3),\n    },\n    indicator: {\n        bottom: \"auto\",\n        top: 0\n    },\n}))(Tabs);\n\nconst DialogTab = withStyles(theme => ({\n    root: {\n        textTransform: 'none',\n        letterSpacing: 0,\n        minWidth: 0,\n        minHeight: theme.spacing(3),\n        paddingLeft: 0,\n        paddingRight: 0,\n        marginLeft: 0,\n        marginRight: theme.spacing(2),\n        color: \"inherit\",\n        '&:hover': {\n          color: \"inherit\",\n          opacity: 1,\n        },\n        '&$selected': {\n          opacity: 1,\n        },\n        '&:focus': {\n          opacity: 1,\n        },\n    },\n    selected: {},\n\n}))(props => <Tab disableRipple label={<DialogLabel {...props} />} {...props} />);\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    },\n    title: {\n        fontWeight: \"bold\",\n    },\n    count: {\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(.5)\n    }\n\n}))\n\nconst DialogLabel = ({title, count}) => {\n\n    const classes = useStyles()\n\n    return (\n        <Typography className={classes.label}>\n            <b className={classes.title}>{title}</b>\n            { count && <i className={classes.count}>({count})</i> || \"\" }\n        </Typography>\n    )\n}\n\n\nconst DialogTabs = ({tabs = [], tabIndex = 0}) => {\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    }\n\n    return (\n        <DialogTabpanel\n            value={tabIndex ||value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"inherit\">\n            { tabs && tabs.map((tab, index) => {\n                return (\n                    <DialogTab {...tab} value={index} key={index} />\n                )\n            })}\n        </DialogTabpanel>        \n    )\n\n}\n\nexport default DialogTabs;","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport DialogTabs from \"./DialogTabs\"\n\nimport { NavSettings } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"sticky\",\n        zIndex: 2,\n        top: 0,\n        padding: 0,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n//        minHeight: theme.spacing(4.5),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    tabs: {\n\n    },\n    settings: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        margin: theme.spacing(.75,.5)\n\n    }\n}))\n\nconst DialogHeader = ({tabs, tabIndex, settings}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            { tabs && <DialogTabs className={classes.tabs} tabs={tabs} tabIndex={tabIndex} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n}\n\n\nexport default DialogHeader;","import React, { useRef, useState, useEffect } from 'react';\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from \"lodash\"\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n    }\n}));\n\nconst DialogSection = ({height, onScroll, children}) => {\n    const classes = useStyles()\n\n    const parentRef = useRef()\n\n    const handleScroll = _.debounce((event) => {\n        onScroll && onScroll(event)\n    }, 500)\n\n    useEffect(() => {\n        const ph = parentRef.current && parentRef.current.offsetHeight\n        const ch = parentRef.current && parentRef.current.children && parentRef.current.children[0] && parentRef.current.children[0].offsetHeight\n\n        parentRef.current.addEventListener(\"scroll\", handleScroll);\n\n        if (ph < ch) {\n//            setOverflow(true)\n        }\n\n        return () => {\n            parentRef.current.removeEventListener(\"scroll\", handleScroll);\n        };\n\n    }, [children, height]);\n\n\n    return (\n        <section className={classes.section} ref={parentRef}>\n            {children}\n        </section>\n    )\n}\n\nexport default withResizeDetector(DialogSection)","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        color: theme.palette.text.secondary,\n        margin: theme.spacing(2),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary\n    }\n}));\n\nconst ResultsLoader = ({query = {}, results = {}, children}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const classes = useStyles()\n\n    const { models = [], count, rows } = results\n\n    let title;\n\n    const q = query.q && query.q.replace('*', '')\n\n    if (rows && !count) {\n        title = t('No hits')\n    } else if (!models.length) {\n        title = t('Searching, please wait', {q}) + \"...\";\n    }\n\n    if (title) {\n        return (\n            <div className={classes.loader}>\n                <Typography className={classes.title}>{title}</Typography>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default ResultsLoader","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        /*\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        */\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n        margin: theme.spacing(2),\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsFooter = ({start, rows, count, page, pages, nextPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!nextPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n    const label = t('Get results {{from}}{{to}}', {from, to}) + \" ...\"\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(nextPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsFooter;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadModel } from '../redux/modelsById';\n\nimport { ListModule, TableModule, GridModule, GalleryModule } from '@kit-ui/admin';\nimport { getUiPreview } from '@kit-ui/schema/lib';\n\nimport { useTranslation } from 'react-i18next';\nimport qs from 'query-string';\n\nconst layouts = {\n    \"table\": TableModule,\n    \"list\": ListModule,\n    \"grid\": GridModule,     \n    \"gallery\": GalleryModule,\n}\n\nconst ModuleLoader = ({app, dialog, query, model, layout = \"table\", size = \"medium\", modelsSelected = [], onAdd, onRemove, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const schemasByName = {}\n\n    const modelsById = useSelector(state => state.modelsById)\n    const modelsBySource = {}\n\n    const { uniqueId, source, sourceId, documentType, mediaType } = model;\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(loadModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const appDocumentType = documentType && app && app.root + \"/\" + documentType\n    const sourceDocumentType = source && \"document/\" + source\n\n    let modelName = model.modelName === \"doc_schemas\" && \"schemas\" ||model.modelName\n    let modelSchema;\n\n    if (modelName === \"users\") {\n        modelSchema = schemasByName['user']\n    } else if (modelName === \"sites\") {\n        modelSchema = schemasByName['site']\n    } else if (modelName === \"collections\") {\n        modelSchema = schemasByName['collection']\n    } else if (modelName === \"doc_schemas\") {\n        modelSchema = schemasByName['schema']\n    }else if (modelName === \"documents\" || documentType) {\n        if (schemasByName[appDocumentType]) {\n            modelSchema = schemasByName[appDocumentType]\n        } else if (source && schemasByName[sourceDocumentType]) {\n            modelSchema = schemasByName[sourceDocumentType]\n        } else if (documentType) {\n            modelSchema = schemasByName[documentType]\n        }\n    } else if (modelName === \"media\" ||mediaType) {\n        modelSchema = mediaType && schemasByName[\"media/\"+mediaType]\n    }\n\n\n    const [preview, setPreview] = useState(model)\n\n    const getImageUrl = (model) => {\n        const { imageUrl, uploadStatus, uploadProgress } = model\n\n        const imageUrlParts = imageUrl && imageUrl.split(\"?\")\n        const imageParams = imageUrlParts && imageUrlParts[1] && qs.parse(imageUrlParts[1])\n\n        if (!imageParams) {\n            return imageUrl\n        }\n\n        const newImageParams = qs.stringify({\n            ...imageParams,\n            uploadStatus: uploadStatus,\n            uploadProgress: uploadProgress,\n            dimension: \"250x250\"\n        })\n\n        const newImageUrl = imageUrlParts[0] + \"?\" + newImageParams\n        \n        return newImageUrl\n\n    }\n\n    const uniqueModel = source && sourceId && modelsBySource && modelsBySource[source + \"/\" + sourceId] || uniqueId && modelsById && modelsById[uniqueId]; //  || model\n\n    useEffect(() => {\n        let uiPreview = {}\n\n        if (modelSchema && uniqueModel) {\n            uiPreview = getUiPreview({...modelSchema, formData: uniqueModel, formContext: {t:t}})\n        }\n\n        const newModel = {\n            ...uniqueModel,\n            ...model,\n            ...uiPreview,\n        }\n\n        const newImageUrl = getImageUrl(newModel)\n\n        setPreview({\n            ...newModel,\n            imageUrl: newImageUrl,\n        })\n\n    }, [uniqueModel])\n\n    const {status, createdAt, createdByName, updatedAt, updatedByName, deletedAt, deletedByName } = preview;\n\n    const author = deletedByName ||updatedByName || createdByName ||\"N/A\"\n    const datetime = deletedAt ||updatedAt || createdAt\n\n    const statusLabel = t(\"status:\"+status ||undefined)\n    const LayoutTemplate = layout && layouts[layout]\n\n    let selected;\n\n    if (source && sourceId) {\n        selected = modelsSelected && modelsSelected.includes(source + \"/\" + sourceId)\n    } else if (uniqueId) {\n        selected = modelsSelected && modelsSelected.includes(uniqueId)\n    }\n\n    const handleSelect = () => {\n\n        console.log(\"ADD/REMOVE\", uniqueModel)\n\n        if (selected) {\n            onRemove && onRemove(uniqueModel)\n        } else {\n            onAdd && onAdd(uniqueModel)\n        }\n\n    }\n\n    const selectable = uniqueModel && true || false\n    const onClick = selectable ? handleSelect : undefined\n\n    return (\n        <LayoutTemplate {...preview} size={size} \n            statusLabel={statusLabel} author={author} datetime={datetime}\n            selectable={selectable} selected={selected} onClick={onClick} />\n    )\n\n}\n\nexport default ModuleLoader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return <div>{children}</div>\n}\n\nconst ResultsList = ({layout = \"list\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <ListLayout padding={2}>\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                    )\n                })}\n            </ListLayout>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default ResultsList","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { Gallery } from \"@kit-ui/admin\"\n\nimport DialogModel from \"./DialogModel\"\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsHeader from \"./ResultsHeader\"\nimport ResultsFooter from \"./ResultsFooter\"\n\nconst LayoutGallery = ({children}) => {\n    return children\n}\n\n\nconst ResultsGallery = ({layout = \"gallery\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, mediaHeight = 120, mediaLayout = \"cover\", spacing = 1, padding = 2, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <Gallery padding={padding} spacing={spacing}>\n                { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                    let width, height;\n                        \n                    if (model.mediaWidth && model.mediaHeight) {\n                        width = model.mediaWidth\n                        height = model.mediaHeight\n                    } else if (model.imageWidth && model.imageHeight) {\n                        width = model.imageWidth\n                        height = model.imageHeight\n                    }\n\n                    model = {\n                        ...model,\n                        width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                        mediaHeight: mediaHeight,\n                        mediaLayout: mediaLayout\n                    }\n\n                    return (\n                        <DialogModel {...props} layout=\"gallery\" model={model} modelsSelected={selected} width={model.width} key={index} />\n                    )\n                })}\n            </Gallery>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )    \n}\n\nResultsGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    models: PropTypes.array \n}\n\nexport default ResultsGallery;","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary,\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        paddingTop: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\"\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ResultsHeader = ({resultsLoaded = [], count, start, rows, pages, page, onPage}) => {\n    const { t, i18n } = useTranslation('search');\n\n    rows = resultsLoaded.length;\n\n    let title;\n\n    if (count > rows) {\n        title = t('{{rows}} of {{count}} hits', { pages, page, count,rows });\n    } else {\n        title = t('{{count}} hits', { pages, page, count, rows });\n    }\n    \n    const classes = useStyles()\n\n    return (\n        <header className={classes.root}>\n            <Typography className={classes.title}>{title}</Typography>\n        </header>\n    )\n\n}\n\nexport default ResultsHeader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return children\n}\n\n\nconst ResultsUploads = ({layout = \"list\", query = {}, results = {}, ...props}) => {\n    const { uploads, resultsLoaded, selected } = results\n    const { t, i18n } = useTranslation('upload');\n\n    if (query.q) {\n\n        return (\n            <ResultsLoader {...props}>\n                <ListLayout padding={2} title=\"Searching uploads\">\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                        )\n                    })}\n                </ListLayout>\n                <ResultsFooter {...props} />\n            </ResultsLoader>\n        )\n        \n    }\n\n    if (!uploads.length) {\n        return false\n    }\n\n    const count = uploads.length;\n    const title = t('{{count}} new uploads today', {count});\n\n    return (\n        <ListLayout padding={2}>\n            { uploads && uploads.map((model, index) => {\n                return (\n                    <DialogModel {...props} model={model} modelsSelected={selected} layout=\"list\" key={index} />\n                )\n            })}\n        </ListLayout>\n    )\n\n}\n\nexport default ResultsUploads;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getMediaSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst MediaResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData ||[]\n        } else {\n            items = formData && [formData] ||[]\n        }\n\n        const selected = items.map(({media, mediaId}) => { \n\n            if (media.source && media.sourceId) {\n                return media.source + \"/\" + media.sourceId\n            }\n\n            return mediaId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n        \n        const item = getDefaultFormState(itemSchema, {\n            mediaId: model.uniqueId,\n            media: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { uniqueId, sourceId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n            console.log('sourceId', sourceId)\n\n            const source = {\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }\n\n            console.log('source', source)\n\n            dispatch(getMediaSource({\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    // remove\n\n    const removeItem = ({uniqueId, source, sourceId}) => {\n        return formData.filter(item => item.mediaId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                mediaId: undefined,\n                media: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nexport default MediaResults","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getDocumentSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils;\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery\n}\n\nconst DocumentsResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData ||[]\n        } else {\n            items = formData && [formData] ||[]\n        }\n\n        console.log('ITEMS', items)\n\n        const selected = items.map(({reference, referenceId}) => { \n\n            const uniqueId = reference && reference.uniqueId\n\n            if (reference.source && reference.sourceId) {\n                return reference.source + \"/\" + reference.sourceId\n            }\n\n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n\n        \n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        console.log(\"NEW\", newFormData)\n        onChange && onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    const addModel = (model) => {\n\n        console.log(itemSchema)\n\n        const item = getDefaultFormState(itemSchema, {\n            referenceId: model.uniqueId,\n            reference: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = formData && formData.length && [].concat(formData, item) ||[item];\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { source, sourceId, uniqueId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n\n            console.log('sourceId', sourceId)\n\n            props.addDocumentSource({\n                ...model,\n                collectionId: query.collectionId\n            }, (model) => addModel(model))\n\n        }else if (source && uniqueId) {\n\n            delete model.uniqueId\n            \n            console.log('sourceId', sourceId)\n\n            dispatch(getDocumentSource({\n                ...model,\n                sourceId: uniqueId,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.referenceId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                referenceId: undefined,\n                reference: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )    \n\n}\n\nexport default DocumentsResults","import React, { useState, useEffect } from 'react';\nimport { getDefaultFormState } from '@kit-ui/schema/lib';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst SearchResultsDefault = ({schema, formData, onChange, query = {}, results = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData\n        } else {\n            items = [formData]\n        }\n\n        const selected = items.map(({uniqueId}) => { \n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n\n        const item = getDefaultFormState(itemSchema, {\n            uniqueId: model.uniqueId,\n            model: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        addModel(model)\n    }\n\n    // remove\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.uniqueId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                uniqueId: undefined,\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            results={{\n                ...results,\n                selected: modelsSelected\n            }}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        searchById: state.searchById,\n        uploadById: state.uploadById\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(SearchResultsDefault);","import React from 'react';\n\nimport MediaResults from \"./MediaResults\"\nimport DocumentsResults from \"./DocumentsResults\"\nimport ResultsDefault from \"./SearchResultsDefault\"\n\nconst templates = {\n    \"default\": ResultsDefault,\n    \"media\": MediaResults,\n    \"youtube\": MediaResults,\n    \"vimeo\": MediaResults,\n    \"sketchfab\": MediaResults,\n    \"documents\": DocumentsResults,\n    \"ekultur\": DocumentsResults\n}\n\nconst SearchResults = ({query = {}, ...props}) => {\n\n    const ResultsTemplate = query.models && templates && templates[query.models] ||templates['default']\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {query.models}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            query={query} />\n    )\n\n    \n}\n\nexport default SearchResults","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchById';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\nimport _ from \"lodash\"\n\nconst SearchDialog = ({schema, formData, onChange, onClose, query = {}, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchById = useSelector(state => state.searchById)\n\n    console.log('query', query)\n\n    // user query\n\n    const [userQ, setUserQ] = useState(\"\")\n\n    const handleQuery = _.debounce((q, event) => {\n        setUserQ(q)\n    }, 500)\n\n    const handleReset = () => {\n        if (q) {\n            setUserQ(\"\")\n        } else if (onClose) {\n            onClose()\n        }\n    }\n\n    // set q\n\n    let q\n\n    if (query.q && userQ) {\n        q = query.q + \" \" + userQ.trim() + \"*\";\n    } else if (userQ) {\n        q = userQ.trim() + \"*\"\n    } else if (query.q) {\n        q = query.q\n    }\n\n    // sort\n\n    const sortOptions = [\n        \"updatedAt DESC\",\n        \"title\", \n    ]\n\n    const [sort, setSort] = useState(sortOptions[0])\n\n    const sortSettings =  {\n        \"name\": \"sort\",\n        \"value\": sort,\n        \"onChange\": (name, value) => setSort(value),\n        \"options\": sortOptions.map(value => {\n            return {\n                label: t(\"sort:\"+value || value),\n                value: value\n            }\n        })\n    }\n\n    // base query\n\n    query = {\n        ...query,\n        id: \"/dialog/search\",\n        start: 0,\n        rows: 20,\n        sort: sort,\n        status: \"NOT trash\",\n        fl: \"uniqueId,source,sourceId,documentType,mediaType,imageUrl,title,description,status,mediaWidth,mediaHeight,updatedAt,updatedByName\",\n        q: q,\n    }\n\n    // dm\n\n    const dmOwnerOptions = [\n        \"*\",\n        \"AHS\",\n        \"NF\", \n    ]\n\n    const [dmOwner, setDmOwner] = useState(dmOwnerOptions[0])\n\n    const dmOwnerSettings =  {\n        \"name\": \"dmOwner\",\n        \"value\": dmOwner,\n        \"onChange\": (name, value) => setDmOwner(value),\n        \"options\": dmOwnerOptions.map(value => {\n            return {\n                label: \"owner:\" + value,\n                value: value\n            }\n        })\n    }\n\n\n    const getMediaSource = (source) => {\n        const queryId = query.id + \"/\" + source + \"/\" + query.q\n\n        return {\n            title: \"media/\" + source,\n            layout: \"gallery\",\n            query: {\n                id: queryId,\n                models: source,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n\n    }\n\n    const getMediaType = (mediaType) => {\n        const queryId = query.id + \"/\" + mediaType + \"/\" + query.q\n\n        return {\n            title: \"media/\" + mediaType,\n            layout: mediaType.includes(\"audio\") && \"list\" ||\"gallery\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                id: queryId,\n                mediaType: mediaType\n            }\n        }\n\n    }\n\n    const getMediaSections = () => {\n\n        let mediaTypes = []\n\n        if (Array.isArray(query.mediaType)) {\n            mediaTypes = query.mediaType\n        } else if (query.mediaType) {\n            mediaTypes = [query.mediaType]\n        } else if (query.models === \"media\") {\n            mediaTypes = ['image*','video*','audio*']\n        }\n\n        return mediaTypes && mediaTypes.map(mediaType => {\n            if (mediaType === \"youtube\" || mediaType == \"vimeo\" || mediaType === \"sketchfab\") {\n                return getMediaSource(mediaType)\n            } else {\n                return getMediaType(mediaType)\n            }\n        })\n\n    }\n\n    // get documentSections\n\n    const getDocumentSource = (source) => {\n        return {\n            title: \"documents/\" + source,\n            layout: \"list\",\n            settings: [\n                dmOwnerSettings\n            ],\n            query: {\n                models: source,\n                id: query.id + \"/\" + source + \"/\" + query.q,\n                owner: dmOwner,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n        \n    }    \n\n    const getDocumentType = (documentType) => {\n        return {\n            title: \"documents/\" + documentType,\n            layout: \"list\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                id: query.id + \"/\" + documentType + \"/\" + query.q,\n                documentType: documentType\n            }\n        }\n    }\n\n    const getDocumentSections = () => {\n        let documentTypes = []\n\n        if (Array.isArray(query.documentType)) {\n            documentTypes = query.documentType\n        } else if (query.documentType) {\n            documentTypes = [query.documentType]\n        } else if (query.models === \"documents\") {\n            documentTypes = ['*']\n        }\n\n        return documentTypes && documentTypes.map(documentType => {\n            if (documentType === \"ekultur\") {\n                return getDocumentSource(documentType)\n            } else {\n                return getDocumentType(documentType)\n            }\n        })   \n\n    }\n\n\n    let sections = []\n\n    if (query.models === \"media\") {\n        sections = getMediaSections()\n    } else if (query.models === \"documents\") {\n        sections = getDocumentSections()\n    } else if (query.models === \"ekultur\") {\n        sections = [getDocumentSource(\"ekultur\")]\n    } else if (query.models) {\n        sections = [\n            {\n                title: query.models,\n                query: {\n                    ...query,\n                    models: query.models,\n                    id: query.id + \"/\" + query.models + \"/\" + query.q,\n                }\n            }\n        ]\n    }\n    // get tabs\n\n    const [tabIndex, setTabIndex] = useState(0)\n    const currentTab = sections[tabIndex]\n\n    // get search count\n\n    const getSearchCount = () => {\n        sections.map((section, index) => {\n            const { query } = section;\n\n            if (query.models === \"media\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n            if (query.models === \"documents\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n        })\n        \n    }\n\n    // setup tabs\n\n    const handleTab = (index) => {\n        setTabIndex(index)\n    }\n\n    const tabs = sections.map((section, index) => {\n        const { title, query } = section;\n\n        const currentSearch = searchById && searchById[query.id]\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n        \n        let count;\n\n        if (section.layout === \"uploads\") {\n            count = section.count\n        } else if (currentSearch && currentSearch.count) {\n            count = currentSearch && currentSearch.count\n        } else if (resultsLoaded && resultsLoaded.length && currentSearch.nextToken) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length + \"+\";\n        } else if (resultsLoaded && resultsLoaded.length) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length;\n        }\n\n        return {\n            title: t(title),\n            count: count,\n            onClick: () => handleTab(index)\n        }\n\n    })\n\n    const getSearch = () => {\n        currentTab && currentTab.query && dispatch(getQuery(currentTab.query))\n    }\n\n    useEffect(() => {\n        getSearch()\n    }, [tabIndex, query.q, query.sort, dmOwner])\n\n    // current query and search \n\n    const currentQuery = currentTab && currentTab.query\n    const currentSearch = currentQuery.id && searchById && searchById[currentQuery.id];\n\n    useEffect(() => {\n        getSearchCount()\n    }, [query.q])\n\n    // handle page\n\n    const handlePage = (page) => {\n        dispatch(getQuery({\n            ...currentQuery,\n            page: page,\n            start: currentQuery.rows * (page-1),\n            nextToken: currentSearch && currentSearch.nextToken\n        }))\n    }\n\n    // pages\n    \n    const [pages, setPages] = useState(0)\n    const [currentPage, setCurrentPage] = useState(0)\n    const [nextPage, setNextPage] = useState(0)\n\n    const getPages = () => {\n        const pages = Math.ceil(currentSearch.count/currentSearch.rows)\n        const page = Math.ceil((currentSearch.start+currentSearch.rows)/currentSearch.rows)\n\n        setPages(pages)\n        setCurrentPage(page)\n\n        let nextPage = 0\n\n        for (let p = page; p <= pages; p++) {\n            if (!currentSearch.resultsByPage[p]) {\n                nextPage = p\n                break\n            }\n        }    \n\n        setNextPage(nextPage)\n    \n    }\n\n    useEffect(() => {\n        currentSearch && currentSearch.count && getPages()\n    }, [currentSearch])\n\n    // search\n\n    let search = {\n        placeholder: \"Search\"\n    }\n\n    if (!search.placeholder) {\n\n        if (tabs.length === 1 && currentQuery.models === \"media\" && currentQuery.mediaType) {\n            search.placeholder = t(\"Search media/\" + currentQuery.mediaType)\n        } else if (tabs.length === 1 && currentQuery.models === \"ekultur\" ) {\n            search.placeholder = t(\"Search ekultur\")\n        } else if (query.models === \"media\") {\n            search.placeholder = t(\"Search media\")\n        } else if (query.models === \"documents\") {\n            search.placeholder = t(\"Search documents\")\n        } else {\n            search.placeholder = t(\"Search models\")\n        }\n\n    }\n\n    return (\n        <DialogBase>\n            <DialogSection>\n                <DialogSearch \n                    {...search} \n                    expanded={true}\n                    onChange={handleQuery}\n                    onReset={handleReset} />\n                <DialogHeader \n                    tabs={tabs}\n                    tabIndex={tabIndex}\n                    settings={currentTab && currentTab.settings} />\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={currentQuery}\n                    layout={currentTab && currentTab.layout}\n                    search={currentSearch}\n                    results={{\n                        ...currentSearch,\n                        pages: pages,\n                        page: currentPage,\n                        nextPage: nextPage\n                    }}\n                    onPage={handlePage}                    \n                    />\n            </DialogSection>\n        </DialogBase>        \n    )\n\n}\n\n\nexport default SearchDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport SearchDialog from \"./SearchDialog\"\n\nconst FavouritesDialog = ({query, favourites, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const search = {\n        placeholder: t('Search favorites')\n    }\n\n    const getFavouritesQuery = (uniqueIds = []) => {\n\n        if (uniqueIds.length) {\n            return {\n                ...query,\n                q: \"uniqueId:\" + uniqueIds.join(\" OR \")\n            }\n        } else {\n            return {\n                ...query,\n                q: \"uniqueId:false\"\n            }\n\n        }\n\n        return query\n\n    }\n\n    if (query.models && favourites[query.models]) {\n        query = getFavouritesQuery(favourites[query.models])\n    }\n\n    return (\n        <DialogBase>\n            <SearchDialog query={query} search={search} {...props} />\n        </DialogBase>\n    )\n\n}\n\nFavouritesDialog.defaultProps = {\n    favourites: {\n        media: [],\n        documents: []\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(FavouritesDialog);","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst DialogUpload = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nDialogUpload.propTypes = {\n    onUpload: PropTypes.func\n}\n\nDialogUpload.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default DialogUpload","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchById';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\nimport DialogUpload from \"./DialogUpload\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\n\nconst UploadDialog = ({schema, formData, onChange, onClose, query, upload, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchById = useSelector(state => state.searchById)\n    const uploadById = {}\n\n    const [q, setQ] = useState(\"\")\n\n    const handleQuery = (q) => {\n        setQ(q)\n    }\n\n    const handleReset = () => {\n        if (q) {\n            setQ(\"\")\n        } else if (onClose) {\n            onClose()\n        }\n    }\n\n    const search = {\n        placeholder: t(\"Search uploads\"),\n    }\n\n    // handle upload\n\n    const [uploadSession, setUploadSession] = useState(false)\n\n    const handleUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: query.collectionId,\n            status: \"upload\"\n        }\n\n        props.getUpload({id: upload.id, session: uploadSession, acceptedFiles, uploadData})\n\n        setUploadSession(true)\n\n    }\n    \n    // current uploads \n\n    const currentUpload = upload.id && uploadById && uploadById[upload.id];\n    const uploadModels = currentUpload && currentUpload.models \n\n    const uploadResults = uploadModels && q && uploadModels.filter((model) => { \n        const { title } = model\n\n        if (title.includes(q)) {\n            return true\n        }\n\n        return false\n    }) ||uploadModels\n\n\n    let placeholder = t(\"Search uploads\")\n\n    const tabs = uploadResults && [\n        {\n            title: t(\"media\"),\n            count: uploadResults.length             \n        }\n    ]\n\n    return (\n        <DialogBase>\n           <DialogSection>\n                <DialogSearch {...search} \n                    placeholder={placeholder}\n                    expanded={uploadResults && true}\n                    onChange={handleQuery}\n                    onReset={handleReset}\n                    \n                />\n                <DialogHeader tabs={tabs}></DialogHeader>\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={query}\n                    layout=\"uploads\"\n                    results={{\n                        ...currentUpload,\n                        uploads: uploadResults ||[],\n//                        resultsLoaded: currentUpload && currentUpload.models,\n//                        pages: pages,\n//                        page: currentPage,\n//                        nextPage: nextPage\n                    }}\n                />\n                <DialogUpload \n                    {...upload} \n                    currentUpload={currentUpload} expanded={!currentUpload} onUpload={handleUpload} onCancel={handleReset}></DialogUpload>\n            </DialogSection>\n       </DialogBase>        \n    )\n\n}\n\nUploadDialog.defaultProps = {\n    upload: {\n        id: \"/dialog/upload\",\n        accept: [\n            \"image/*\",\n        ],\n    },\n    query: {\n//        mediaType: \"*\"\n    }\n}\n\nexport default UploadDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogFooter from \"./DialogFooter\"\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport FavouriteIcon from '@material-ui/icons/Favorite';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport UploadDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Badge from '@material-ui/core/Badge';\n\n\nimport SearchDialog from \"./SearchDialog\"\nimport FavoritesDialog from './FavouritesDialog';\nimport UploadDialog from \"./UploadDialog\"\n\nconst MediaDialog = ({query, favourites, uploadById, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const [template, setTemplate] = useState(\"search\")\n\n    // get mediaTypes\n\n    let mediaTypes = []\n\n    if (Array.isArray(query.mediaType)) {\n        mediaTypes = query.mediaType\n    } else if (query.mediaType) {\n        mediaTypes = [query.mediaType]\n    } else if (query.models === \"media\") {\n        mediaTypes = ['image*','video*','audio*']\n    }\n\n    // get upload\n\n    let upload = {\n        id: \"/dialog/upload\",\n        accept: []\n    }\n\n    mediaTypes && mediaTypes.map(mediaType => {\n\n        if (mediaType.includes('image')) {\n            upload.accept.push('image/*')\n        }\n    \n        if (mediaType.includes(\"video\")) {\n            upload.accept.push('video/*')\n        }\n    \n        if (mediaType.includes(\"audio\")) {\n            upload.accept.push('audio/*')\n        }\n    \n    })    \n\n    const mediaFavourites = favourites && favourites[\"media\"] && favourites[\"media\"].length\n    const mediaUploads = uploadById && uploadById[upload.id] && uploadById[upload.id].models\n\n    const FavouriteBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaFavourites && true} color=\"primary\">\n                <FavouriteIcon />\n            </Badge>\n        )\n    }\n\n    const UploadBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaUploads && true} color=\"primary\">\n                { mediaUploads && <UploadDoneIcon /> || <UploadIcon /> }\n            </Badge>\n        )\n    }\n\n    const menu = [\n        {\n            label: t(\"Search\"),\n            icon: <SearchIcon />,\n            onClick: () => setTemplate('search')\n        },\n        {\n            label: t(\"Favorites\"),\n            icon: <FavouriteBadge />,\n            onClick: () => setTemplate('favourites')\n        },\n        {\n            label: t(\"Upload\"),\n            icon: <UploadBadge />,\n            onClick: () => setTemplate('upload')\n        }\n    ]\n\n    return (\n        <DialogBase>\n            <DialogFooter menu={menu} />\n            { template === \"search\" && <SearchDialog query={query} {...props} /> }\n            { template === \"favourites\" && <FavoritesDialog query={query} favourites={favourites} {...props} /> }\n            { template === \"upload\" && <UploadDialog upload={upload} query={query} {...props} /> }\n        </DialogBase>\n    )\n\n}\n\nMediaDialog.defaultProps = {\n    query: {\n        models: \"media\",\n        mediaType: \"*\"\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n        uploadById: state.uploadById\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(MediaDialog);","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SearchDialog from \"./SearchDialog\"\n\nconst DocumentsDialog = ({schema, formData, ...props}) => {\n\n    return (\n        <SearchDialog schema={schema} formData={formData} {...props} />\n    )\n\n}\n\nDocumentsDialog.defaultProps = {\n    query: {\n        models: \"documents\",\n        documentType: \"*\"\n    }\n}\n\nexport default DocumentsDialog","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from '../redux/app';\n\nimport MediaDialog from \"./MediaDialog\"\nimport DocumentsDialog from \"./DocumentsDialog\"\nimport SearchDialog from \"./SearchDialog\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst templates = {\n    \"media\": MediaDialog,\n    \"documents\": DocumentsDialog,\n    \"search\": SearchDialog\n}\n\nconst EditorDialog = (props) => {\n    const dispatch = useDispatch()\n\n    console.log(\"DIALOG\", props)\n\n    \n\n    const { schema = {}, uiSchema = {}, onChange, onClose } = props;\n\n    const [formData, setFormData] = useState(props.formData)\n\n    useEffect(() => {\n        setFormData(props.formData)\n    }, [props.formData])\n\n    const _onChange = (formData) => {\n        setFormData(formData)\n        onChange(formData);\n    }\n\n    const app = useSelector(state => state.app)\n\n    let itemSchema;\n\n    if (schema && schema.type === \"array\") {\n        itemSchema = schema.items\n    } else if (schema) {\n        itemSchema = schema\n    }\n\n    const getReferenceQuery = (query) => {\n        const documentSchema = itemSchema && itemSchema.properties && itemSchema.properties.reference\n        const documentType = documentSchema && documentSchema.properties.documentType\n    \n        query.documentType = \"*\"\n    \n        if (documentType && documentType.enum) {\n            query.documentType = documentType.enum\n        }\n    \n        if (documentType && documentType.default) {\n            query.documentType = documentType.default\n        }\n\n        return {\n            ...query,\n            models: \"documents\"\n        } \n        \n    }\n\n    const getMediaQuery = (query) => {\n        const mediaSchema = itemSchema && itemSchema.properties && itemSchema.properties.media\n        const mediaType = mediaSchema && mediaSchema.properties.mediaType\n    \n//        query.mediaType = \"*\"\n\n        if (mediaType && mediaType.enum) {\n            query.mediaType = mediaType.enum\n        }\n    \n        if (mediaType && mediaType.default) {\n            query.mediaType = mediaType.default\n        }\n\n        return {\n            ...query,\n            models: \"media\"\n        }\n        \n    }\n\n    const getQuery = () => {\n\n        const uiOptions = uiSchema && getUiOptions(uiSchema)\n\n        const { dialog } = uiOptions\n\n        if (dialog && dialog.query) {\n            return {\n                ...dialog.query,\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            }\n        }\n\n\n        if (itemSchema.properties && itemSchema.properties.referenceId) {\n            return getReferenceQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        if (itemSchema.properties && itemSchema.properties.mediaId) {\n            return getMediaQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        return {\n        }\n\n    }\n\n    const query = getQuery()\n    const template = query.models;\n\n    const DialogTemplate = template && templates[template]; // ||templates[\"search\"]\n\n    if (!DialogTemplate) {\n        return (\n            <div>\n                Missing template for {JSON.stringify(props)}.\n                <button onClick={onClose}>Close</button>\n            </div>\n        )\n    }\n\n    return (\n        <DialogTemplate query={query} schema={schema} formData={formData} onChange={_onChange} onClose={onClose} /> \n    )\n\n}\n\nexport default EditorDialog","import React from \"react\"\n\nimport Dialog from \"../Dialog/Dialog\"\n\n\nconst EditorDialog = (props) => {\n\n    const { expanded, schema = {}, uiSchema = {}, formData = {}, formContext, onChange, onClose } = props\n\n    if (!expanded) {\n        return false\n    }\n\n    return <Dialog {...props} />\n\n    const _addImage = () => {\n        onChange && onChange({\n            mediaId: 1,\n            media: {\n                mediaType: \"image\",\n                imageUrl: \"https://akamai.vgc.no/drfront/images/2020/09/22/c=144,24,404,232;w=362;h=208;557008.jpg\"\n            }\n        })\n    }\n\n    return (\n        <div>\n            {JSON.stringify(schema)}\n            {JSON.stringify(formData)}\n\n            <button onClick={() => _addImage()}>Add img</button>\n\n            <button onClick={() => onClose()}>Close</button>\n\n        </div>\n    )\n\n\n}\n\nexport default EditorDialog","import React from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { receiveEdit, receiveCurrentId, requestDialog, receiveDialog } from '../redux/editor';\n\nconst EditorPreview = ({formData = {}, formContext}) => {\n    \n    return (\n        <div>\n            {JSON.stringify(formData)}\n        </div>\n    )\n\n\n}\n\nexport default EditorPreview","import React, { useRef, useState, useEffect } from \"react\"\nimport { SchemaBase } from \"@kit-ui/schema\"\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { receiveEdit, receiveCurrentId, requestDialog, receiveDialog } from '../redux/editor';\n\nimport registry from \"../components/registry\"\n\nimport EditorDialog from \"./EditorDialog\"\nimport EditorPreview from \"./EditorPreview\"\n\nconst Editor = ({schema, uiSchema, onSubmit, ...props}) => {\n\n    let history = useHistory();\n\n    const editorRef = useRef(null)\n\n    const dispatch = useDispatch()\n\n    const editor = useSelector(state => state.editor)\n\n    const { formData, currentId } = editor\n\n//    const formData = useSelector(state => state.editor.formData)\n//    const currentId = useSelector(state => state.editor.currentId)\n\n    const onChange = ({formData}) => {\n        console.log('onChange', formData)\n        dispatch(receiveEdit(formData))\n\n        //        setFormData(formData)\n    }\n\n    const [languages, setLanguages] = useState([\"en\"])\n    const [currentLocale, setCurrentLocale] = useState(null)\n\n    const _onLocale = (locale) => {\n\n    }\n\n    // hashId toggling\n\n    const hashId = props.location.hash && props.location.hash.replace('#','') ||null\n\n    useEffect(() => {\n        dispatch(receiveCurrentId({currentId: hashId}))\n    }, [hashId])\n\n    const _onCurrentId = (currentId) => {\n        console.log('editor:onCurrentId', currentId);\n        dispatch(receiveCurrentId({currentId: currentId}))\n        const hashUrl = props.location.pathname + \"#\" + currentId; \n        history.replace(hashUrl);\n\n    }\n\n    const _onToggle = ({id, ...props}) => {\n        console.log('onToggle', props)\n\n        let parentId = id.split('_');\n        parentId.pop();\n        parentId = parentId.join('_');\n        \n        let expandId = undefined\n\n        if (id && currentId && currentId.startsWith(id)) {\n            expandId = parentId;            \n        } else {\n            expandId = id;\n        }\n\n        _onCurrentId(expandId)\n\n    }\n    \n    const _onSelect = (props) => {\n        console.log(\"select\", props)\n    }\n\n    const _onExpand = ({id}) => {\n        console.log('onExpand', props)\n        _onCurrentId(id)\n    }\n\n    const _onCollapse = ({id}) => {\n        console.log('onCollapse', props)\n        _onToggle({id})\n    }\n\n//    const dialog = useSelector(state => state.editor.dialog)\n    const [dialog, setDialog] = useState({})\n\n    const _onDialog = (props) => {\n\n        const {id, formData, schema, uiSchema, onChange} = props\n\n        console.log(\"Editor:onDialog\", props)\n\n        if (dialog && dialog.id) {\n//            dispatch(requestDialog())\n            setDialog({})\n        } else {\n            setDialog({\n                id: id,\n                formData: formData,\n                schema: schema,\n                uiSchema: uiSchema,\n                onChange: onChange,\n                expanded: true\n            })\n            /*\n            dispatch(receiveDialog({\n                ...props,\n                expanded: true\n            }))\n            */\n        }\n\n    }\n\n    // formContext\n\n    const formContext = {\n        isLoading: editor.isLoading,\n        isSaving: editor.isSaving,\n        parents: editor.parents,\n\n        languages: languages,\n        currentLocale: currentLocale,\n        onLocale: _onLocale,\n\n        currentId: currentId,\n        onToggle: _onToggle,\n\n        onExpand: _onExpand,\n        onCollapse: _onCollapse,\n\n        onEdit: _onExpand,\n        onSave: _onCollapse,\n\n        onSubmit: (status) => onSubmit && onSubmit({formData: {...formData, status: status ||formData.status}}), // (e) => editorRef && editorRef.current && editorRef.current.onSubmit(e),\n\n        preview: {\n            template: props.preview && props.preview.template ||EditorPreview,\n            formData: formData,\n            formContext: {\n                currentId,\n                onToggle: _onToggle\n            }\n        },\n\n        ...props.formContext,\n\n        onDialog: _onDialog,\n\n        sidebar: {\n            ...dialog,\n            onClose: () => _onDialog({}),\n            template: EditorDialog\n        },\n\n    }    \n\n    return (\n        <SchemaBase\n            {...registry}\n            ref={editorRef}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={onChange}\n            onSubmit={onSubmit}\n            />\n    )\n\n\n}\n\nEditor.defaultProps = {\n    schema: {},\n    formData: {},\n    formContext: {}\n}\n\nexport default Editor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getAppLayout } from '../redux/app';\nimport { getEditor } from '../redux/editor';\n\nimport { AppLoader } from \"@kit-ui/admin\"\nimport { EditorIcon } from \"@kit-ui/icons\"\n\nconst EditorLoader = ({formData = {}, schema, uiSchema, children, ...props}) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const editor = useSelector(state => state.editor)\n    const uniqueId = editor.formData && editor.formData.uniqueId\n\n    const title = formData.title ||app && app.title || \"Editor\"\n    const description = app.isLoading && \"Loading app\" || editor.isLoading && \"Loading editor\" ||!schema && \"Loading schema\" ||!uiSchema && \"Loading uiSchema\" ||\"Editor loaded\"\n\n    const isLoading = app.isLoading || finder.isLoading ||editor.isLoading || !schema || !uiSchema || false\n    const isSaving = editor.isSaving\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getAppLayout(\"editor\"))\n    }, [isLoading, isSaving])\n\n    useEffect(() => {\n        dispatch(getEditor({pathname, uniqueId}))\n    }, [pathname, uniqueId])\n\n    return (\n        <AppLoader\n            isLoading={isLoading}\n            icon={<EditorIcon />}\n            title={title}\n            description={description}>\n                {children}\n        </AppLoader>\n)\n\n}\n\nEditorLoader.defaultProps = {\n}\n\nexport default EditorLoader","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getParents, editModel, saveModel } from '../redux/editor';\nimport qs from 'query-string';\n\nimport Editor from \"../Editor/Editor\"\nimport EditorLoader from \"../Editor/EditorLoader\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst DocumentEditor = (props) => {\n    const { uniqueId, documentType } = props.match.params\n    const pathname = props.location.pathname\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    // create new\n\n    useEffect(() => {\n        sq.documentType && dispatch(editModel({\n            collectionId: app.collectionId,\n            schemaId: 1,\n            locale: \"no\",\n            parentId: sq.parentId ||null,\n            documentType: sq.documentType,\n            content: sq.content && JSON.parse(sq.content) || {}\n        }))\n    }, [sq.documentType])\n\n    // load uniqueId\n\n    useEffect(() => {\n        uniqueId && dispatch(editModel({uniqueId: uniqueId}))\n    }, [uniqueId])\n\n    // uniqueId has changed, update location\n\n    const _onHistory = (uniqueId) => {\n\n        const { path, params } = props.match;\n        const { hash, search } = props.location;\n        \n        let location = path;\n    \n        if (hash) {\n            location = location + hash;\n        }\n    \n        for (let key in params) {\n      \n            let value;\n          \n            if (key === \"uniqueId\") {\n                value = uniqueId\n            } else if (key === \"new\") {\n//                value = uniqueId + \"/edit\"\n            } else {\n                value = params[key];\n            }\n\n            if (value) {\n                location = location.replace(':'+key+\"*\", value);\n                location = location.replace(':'+key, value);\n            } else {\n                location = location.replace(':'+key+\"*\", '');\n                location = location.replace(':'+key, '');\n            }\n\n            location = location.replace(\"//\", \"/\");\n\n        }\n\n        location = location.replace(\"new\", uniqueId + \"/edit\");\n        props.history.replace(location);\n\n    }\n\n    // set formContext\n\n    const _onBack = () => {\n        props.history.goBack()\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const _onEditReference = ({id, formData: { referenceId, reference: { documentType } }}) => {\n\n        const referenceUrl = app.root + \"/\" + referenceId + \"/edit/#\" + id\n\n        props.history.push({\n            pathname: referenceUrl,\n            search: \"?backUrl=\" + props.location.pathname + \"&backId=\" + id\n        })\n        \n    }\n\n    const formContext = {\n        id: formData && formData.id,\n        uniqueId: formData && formData.uniqueId,\n        collectionId: formData && formData.collectionId,\n        languages: app && app.languages,\n        onBack: _onBack,\n        onSelect: _onSelect,\n        onEditReference: _onEditReference\n    }\n\n    // get schemas based on documentType\n\n//    const modelType = uniqueId && formData.documentType ||documentType\n    const modelType = formData.documentType // ||documentType\n    const documentModel = modelType && \"documents/\"+modelType \n    const model = schemasByName && schemasByName[documentModel]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    // submit\n\n    const collectionId = useSelector(state => state.app.collectionId)\n\n    const _onSubmit = ({formData}) => {\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n        \n        formData = {\n            ...formData,\n            ...uiPreview,\n            collectionId: collectionId,\n            schemaId: 1,\n            locale: \"no\",\n        }\n\n        dispatch(saveModel(formData))\n\n        if (!uniqueId && formData.uniqueId) {\n            _onHistory(formData.uniqueId)\n        }\n\n    }\n\n\n    return (\n        <EditorLoader formData={formData} schema={schema} uiSchema={uiSchema} {...props}>\n            <Editor {...props}\n                schema={schema}\n                uiSchema={uiSchema}\n                formData={formData}\n                formContext={formContext}\n                preview={model && model.preview}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nDocumentEditor.defaultProps = {\n}\n\nexport default DocumentEditor","import React, { useEffect, useState } from 'react';\nimport { PreviewMedia } from \"@kit-ui/admin\"\n\nconst MediaPreview = ({formData, formContext}) => {\n    return <PreviewMedia {...formData} />\n}\n\nexport default MediaPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getAppLayout } from '../redux/app';\nimport { editModel, saveModel } from '../redux/editor';\n\nimport Editor from \"../Editor/Editor\"\nimport EditorLoader from \"../Editor/EditorLoader\"\n\nimport MediaPreview from \"./MediaPreview\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst MediaEditor = (props) => {\n    const { uniqueId } = props.match.params\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getAppLayout(\"editor\"))\n    }, [])\n\n    useEffect(() => {\n        uniqueId && dispatch(editModel({modelName: \"media\", uniqueId: uniqueId}))\n    }, [uniqueId])\n\n\n    // set formContext\n\n    const _onBack = () => {\n        props.history.goBack()\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    const formContext = {\n        isLoading: editor && editor.isLoading,\n        isSaving: editor && editor.isSaving,\n        parents: useSelector(state => state.app.parents),\n        onBack: _onBack,\n        onSelect: _onSelect,\n    }\n\n    // get schemas based on documentType\n\n    const mediaType = uniqueId && formData && formData.mediaType\n    const mediaModel = mediaType && \"media/\" + mediaType\n    const model = schemasByName && schemasByName[mediaModel]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    // submit\n\n    const collectionId = useSelector(state => state.app.collectionId)\n\n    const _onSubmit = ({formData}) => {\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n        \n        formData = {\n            ...formData,\n            ...uiPreview,\n            modelName: \"media\",\n            collectionId: collectionId,\n            schemaId: 1,\n            locale: \"no\",\n        }\n\n        dispatch(saveModel(formData))\n    }\n\n\n    return (\n        <EditorLoader formData={formData} schema={schema} uiSchema={uiSchema}>\n            <Editor {...props}\n                schema={schema}\n                uiSchema={uiSchema}\n                formData={formData}\n                formContext={formContext}\n                preview={{\n                    template: MediaPreview\n                }}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nMediaEditor.defaultProps = {\n}\n\nexport default MediaEditor","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport FinderLoader from \"../Finder/FinderLoader\"\nimport DocumentEditor from \"./DocumentEditor\"\nimport MediaEditor from \"./MediaEditor\"\n\nconst AdminRoutes = (props) => {\n\n    return (\n        <Switch>\n            <Route path=\"/:appRoot/media/:parents*/:uniqueId/edit\" component={ MediaEditor } />\n            <Route path=\"/:appRoot/:parents*/new\" component={ DocumentEditor } />\n            <Route path=\"/:appRoot/:parents*/:uniqueId/edit\" component={ DocumentEditor } />\n            <Route path=\"/:appRoot/:parents*\" component={ FinderLoader } />\n            <Route path=\"/:appRoot\" component={ FinderLoader } />\n        </Switch>\n      )\n}\n\nexport default AdminRoutes","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        \"&[role=tree]\": {\n            marginLeft: theme.spacing(3)\n        },\n        \"& > li + li\": {\n            marginTop: theme.spacing(.5)\n        },\n        \"& > li > ul > li + li\": {\n            marginTop: 0\n        },\n        \"&[role=group] > li + li\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n}));\n\nconst MenuList = ({className, role = \"tree\", children}) => {\n    const classes = useStyles()\n\n    return (\n        <ul className={className || classes.root} role={role}>\n            { children }\n        </ul>\n    )\n}\n\nexport default MenuList","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        display: \"block\",\n        width: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        left: \"-24px\",\n        padding: 0,\n        margin: 0,\n        opacity: 0.5\n    },\n    toggleCollapsed: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\"\n    },\n    toggleExpanded: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(0deg)\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        opacity: 0.5\n    }\n}));\n\nconst MenuToggle = ({expanded = false, onClick}) => {\n    const classes = useStyles();\n    const toggleIcon = expanded && classes.toggleExpanded || classes.toggleCollapsed\n\n    return (\n        <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded} size=\"small\">\n            <ToggleIcon className={toggleIcon} />\n        </IconButton>\n    )\n}\n\nconst MenuItem = ({className, role = \"treeitem\", count, expanded = false, onToggle, children}) => {\n    const classes = useStyles();\n\n    return (\n        <li className={className || classes.root} role={role} aria-expanded={expanded}>\n            { onToggle && <MenuToggle expanded={expanded} onClick={onToggle} /> }\n            { children }\n        </li>\n    )\n}\n\nexport default MenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        }\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        }\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n        paddingLeft: \"12px\",\n        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst MenuLink = ({className, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    return (\n        <ButtonBase color={color} className={className ||classes.root} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon} aria-selected={selected}>{icon}</Icon> }\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            { count && <Typography component=\"i\" align=\"right\" nowrap=\"true\" className={classes.count}>{count}</Typography> }\n            { children }\n        </ButtonBase>\n    )\n}\n\nexport default MenuLink","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavMenuList from \"./NavMenuList\"\nimport NavMenuItem from \"./NavMenuItem\"\nimport NavMenuLink from \"./NavMenuLink\"\n\nconst NavMenuCalendar = () => { return <p>cal</p>}\n\n/** Menu component. Takes */\n\nconst NavMenu = ({className, menu = [], menuByUrl, currentUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLink selected={selected} url={url} icon={icon} label={label ||title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...item,\n                ...menuByUrl[item.url],\n            }\n        }\n\n        if (item.url && currentUrl && item.url === currentUrl) {\n            item = {\n                ...item,\n                expanded: true,\n                selected: true\n            }\n        }\n\n        if (item.url && currentUrl && currentUrl.startsWith(item.url)) {\n            item = {\n                ...item,\n                expanded: true,\n            }\n        }\n\n        const { role, calendar, children, hidden, selected, expanded } = item;\n\n        if (hidden) {\n            return (\n                <NavMenuItem key={index} role={role}>\n                    <NavMenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </NavMenuList>\n                </NavMenuItem>\n            )\n        }\n\n        if (calendar) {\n            return (\n                <NavMenuItem key={index} role={role ||\"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { expanded &&\n                        <NavMenuCalendar {...calendar} /> \n                    }\n                </NavMenuItem>\n            )\n\n        }\n\n        if (children && children.length) {\n            return (\n                <NavMenuItem key={index} role={role ||\"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <NavMenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </NavMenuList>\n                    }\n                </NavMenuItem>\n            )\n        }\n\n        return (\n            <NavMenuItem {...item} key={index} role={role ||\"none\"}>\n                { renderLink(item) }\n            </NavMenuItem>\n        )\n\n    }\n\n    if (!menu ||!menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <NavMenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </NavMenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","\nimport React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport { AppBase, AppHeader, AppSidebar, AppContent, AppBody } from \"@kit-ui/admin\"\nimport { NavAction, NavCalendar } from \"@kit-ui/admin\"\n\nimport NavMenu from \"../components/NavMenu/NavMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    app: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n\n        display: \"flex\",\n        flexDirection: \"column\"\n\n    },\n    header: {\n        position: \"absolute\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0,\n            \n            \"& + *\": {\n                marginTop: theme.spacing(8),\n            }\n        },\n    },\n    body: {\n        position: \"relative\",\n        transition: \".125s ease-out\",\n        display: \"flex\",\n\n        flexBasis: 0,\n        flexGrow: 1\n\n    },\n    sidebar: {\n        width: props => { return props.sidebar.width },\n        marginLeft: props => { return props.sidebar.width * -1 },\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            [theme.breakpoints.up('sm')]: {\n                marginLeft: 0,\n            }\n        },\n        \"&[aria-expanded=true] + *\":  {\n            [theme.breakpoints.up('sm')]: {\n //               marginLeft: props => { return props.sidebar.width },\n            }\n        },\n    },\n    content: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\"\n    },\n    navAction: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    },\n\n    navCalendar: {\n        margin: theme.spacing(2,.5)\n    },\n\n    navMenu: {\n//        margin: theme.spacing(2)\n    },\n\n}));\n\n/** AppLayout is a wrapper for all apps using AppHeader */\n\nconst AppLayout = ({\n    app = {},\n    theme = undefined, \n    header = {}, \n    sidebar = {\n        width: 224\n    }, \n    search = undefined, \n    subview = undefined,\n    calendar = undefined,\n    primaryAction = undefined,\n    menu, \n    menuByUrl = {},\n    currentUrl = undefined,\n    onSelect,\n    onToggle,\n    children\n}) => {\n\n    if (search && app.search) {\n        search = {\n            ...app.search,\n            ...search\n        }\n    }\n     \n\n    header = {\n        title: app.title,\n        subtitle: app.subtitle,\n        subview: subview,\n        search: search,\n        menu: {\n            expanded: false,\n            onToggle: () => onToggle({sidebar: true})\n        },\n        ...header\n    }\n\n    sidebar = {\n        ...sidebar,\n        width: 256\n    }\n\n    const classes = useStyles({header, sidebar})\n\n    return (\n        <AppBase theme={theme} className={classes.app}>\n            <AppHeader {...header} className={classes.header} />\n            <AppBody className={classes.body}>\n                <AppSidebar {...sidebar} className={classes.sidebar}>\n                    { primaryAction && <NavAction className={classes.navAction} primaryAction={primaryAction} onSelect={onSelect} />}\n                    { calendar && <NavCalendar className={classes.navCalendar} {...calendar} onChange={(date) => onSelect({type: \"calendar\", date: date})}  />}\n                    {menu && <NavMenu className={classes.navMenu} menu={menu} menuByUrl={menuByUrl} currentUrl={currentUrl} onSelect={onSelect} onToggle={onToggle} />}\n                </AppSidebar>\n                <AppContent className={classes.content}>\n                    { children }\n                </AppContent>\n            </AppBody>\n        </AppBase>\n    )\n\n}\n\nAppLayout.defaultProps = {\n    app: {\n\n    },\n    header: {\n        expanded: true\n    },\n}\n\nAppLayout.propTypes = {\n    /** App properties */\n    app: PropTypes.shape({\n        uniqueId: PropTypes.string,\n        title: PropTypes.string\n    }),\n    /** Header properties */\n    header: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Search properties */\n    search: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Subview properties */\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n}\n\nexport default AppLayout;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { AppLoader } from \"@kit-ui/admin\"\nimport { EditorIcon } from \"@kit-ui/icons\"\n\nconst AdminLoader = ({children, ...props}) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    const menuByUrl = finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    const loadingTitle = menuItem && menuItem.title ||app && app.title\n    const loadingDescription = menuItem && menuItem.url ||app.isLoading && \"Loading app\" || finder.isLoading && \"Loading finder\"\n\n    const isLoading = app.isLoading || finder.isLoading || menuItem && menuItem.isLoading ||false\n\n    return (\n        <AppLoader\n            isLoading={isLoading}\n            icon={<EditorIcon />}\n            title={loadingTitle}\n            description={loadingDescription}>\n                {children}\n        </AppLoader>\n    )\n\n}\n\nAdminLoader.defaultProps = {\n}\n\nexport default AdminLoader","import Admin from \"./Admin\"\nexport default Admin","import React, {useEffect, useState } from \"react\"\nimport { AppLayout} from \"@kit-ui/admin\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp, getAppLayout, toggleSearch, toggleSidebar } from '../redux/app';\nimport { getFinder, getParents, toggleMenuItem, getMenuItem } from '../redux/finder';\n\nimport _ from \"lodash\"\nimport qs from 'query-string';\n\nimport appData from \"./app\"\nimport AdminRoutes from \"./AdminRoutes\"\nimport AdminLayout from \"./AdminLayout\"\nimport AdminLoader from \"./AdminLoader\"\n\nconst Admin = (props) => {\n    const {pathname } = props.location\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getApp({...appData, pathname: pathname}))\n    }, [])\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // date + view\n\n    let date = sq.date\n    let view = sq.view\n\n    if (!view) {\n        view = \"week\"\n    }\n\n    // select menu or calendar\n\n    const _onToggle = ({sidebar, search, url}) => {\n\n        sidebar && dispatch(toggleSidebar())\n        search && dispatch(toggleSearch())\n        \n        url && dispatch(toggleMenuItem({url}))\n\n    }\n\n    const _onSelect = ({url, date}) => {\n\n        if (!url && date) {\n            sq.date = date\n            props.history.replace(pathname + \"?\" + qs.stringify(sq))\n        }\n\n        url && props.history.push(url)\n    }\n\n    // search\n\n    const [q, setQ] = useState(sq && sq.q)\n\n    useEffect(() => {\n        if (q) {\n            sq.q = q.replace(' ', '+')\n        } else {\n            delete sq.q\n        }\n\n        let query = qs.stringify(sq)\n\n        const pathname = props.location.pathname + \"?\" + query;\n        const hash = props.location.hash;\n\n        const url = hash && pathname + hash ||pathname\n        \n        if (props.history) {\n            props.history.replace(url)\n        }\n    }, [q])\n\n    const _onSearchQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    const _onSearchReset = () => {\n        if (q) {\n            setQ('')\n        } else {\n            dispatch(toggleSearch())\n        }\n    }\n\n    // search\n\n    const search = {\n        ...app.search,\n//        expanded: q && q.length && true,\n        q: q,\n        onChange: (q, event) => _onSearchQuery(q),\n        onReset: (q, event) => _onSearchReset(),\n        onToggle: () => dispatch(toggleSearch())\n    }\n\n    return (\n        <AdminLoader {...props}>\n            <AdminLayout\n                app={app}\n                theme={app && app.theme}\n                header={app && app.header}\n\n                search={search}\n\n                sidebar={app && app.sidebar}\n\n                primaryAction={app.primaryAction}\n\n                menu={app && app.menu}\n                menuByUrl={finder && finder.menuByUrl}\n                currentUrl={pathname}\n                \n                parents={finder && finder.parents}\n\n                onSelect={_onSelect}\n                onToggle={_onToggle}\n                >\n                    <AdminRoutes {...props} />\n            </AdminLayout>\n        </AdminLoader>\n    )\n}\n\nexport default Admin","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Admin from \"./Admin\"\n\nconst AppRoutes = (props) => {\n\n    return (\n        <Switch>\n            <Route path=\"/\" component={Admin} />\n        </Switch>\n    )\n}\n\nexport default AppRoutes","import React, { useEffect } from \"react\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n} from \"react-router-dom\";\n\nimport \"./css/reset.css\"\nimport \"./css/Akkurat.css\"\nimport \"./css/AkkuratMono.css\"\nimport \"./css/MaterialIcons.css\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from './redux/app';\n\nimport appData from \"./Admin/app\"\nimport AppRoutes from \"./AppRoutes\"\n\nconst App = (props) => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getApp(appData))\n    }, [])\n\n    const app = useSelector(state => state.app)\n\n    return (\n        <Router>\n            <AppRoutes {...props} />\n        </Router>\n    )\n}\n\nexport default App","import { combineReducers } from '@reduxjs/toolkit'\n\nimport appReducer from './app/appSlice'\nimport finderReducer from './finder/finderSlice'\nimport editorReducer from './editor/editorSlice'\nimport bulkReducer from './bulk/bulkSlice'\n\nimport searchByIdReducer from './searchById/searchByIdSlice'\nimport uploadByIdReducer from './uploadById/uploadByIdSlice'\nimport modelsByIdReducer from './modelsById/modelsByIdSlice'\n\nexport default combineReducers({\n    app: appReducer,\n    editor: editorReducer,\n    finder: finderReducer,\n    bulk: bulkReducer,\n    modelsById: modelsByIdReducer,\n    searchById: searchByIdReducer,\n    uploadById: uploadByIdReducer,\n})","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger'\r\n\r\nimport rootReducer from \"./rootReducer\"\r\nconst middleware = [...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      // Ignore these action types\r\n      ignoredActions: ['editor/receiveDialog'],\r\n      // Ignore these field paths in all actions\r\n//      ignoredActionPaths: ['meta.arg', 'payload.timestamp'],\r\n      // Ignore these paths in the state\r\n//        ignoredPaths: ['items.dates']\r\n    }\r\n  }), logger]\r\n\r\nexport default configureStore({\r\n    reducer: rootReducer,\r\n    middleware\r\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/pageMedia.299b8634.svg\";","module.exports = __webpack_public_path__ + \"static/media/pageList.576d164b.svg\";","module.exports = __webpack_public_path__ + \"static/media/pageTimeline.d8f4f6d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/pageMosaic.8dd7bc1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/pageAnnotate.6687e957.svg\";"],"sourceRoot":""}