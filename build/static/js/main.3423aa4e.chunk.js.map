{"version":3,"sources":["redux/settings.js","redux/bulk/bulkSlice.js","redux/modelsById/modelsByIdSlice.js","redux/finder/finderSlice.js","redux/app/appSlice.js","icons/ArticleIcon.js","icons/PageHomeIcon.js","icons/PageGridIcon.js","icons/PageMediaIcon.js","icons/PageTimelineIcon.js","icons/PageListIcon.js","icons/PageAnnotateIcon.js","icons/PageMapIcon.js","icons/PageParentIcon.js","app/kiosk/theme.js","icons/KioskAppIcon.js","icons/MenuIcon.js","icons/KioskMenuIcon.js","app/kp/theme.js","icons/KpAppIcon.js","icons/KpMenuIcon.js","icons/DeviceIcon.js","icons/DeviceMacIcon.js","icons/DeviceWinIcon.js","icons/index.js","app/AppLoader.js","Finder/FinderLoader.js","redux/searchByUrl/searchByUrlSlice.js","Finder/BulkLayout.js","components/KpPage/KpPageField.js","components/KpPage/KpAnnotateArrayField.js","components/KpPage/registry.js","components/KpPage/KpAnnotateImageField.js","components/KpLink/KpLink.model.js","components/KpLink/KpLink.schema.js","components/KpLink/KpLink.uiSchema.js","components/KpLink/KpLinkButtons.js","components/KpLink/KpLinkMediaLayout.js","components/KpLink/KpLinkReferenceLayout.js","components/KpLink/KpLinkContentField.js","components/KpLink/KpLinkField.js","components/KpLink/KpLinkCollapsed.js","components/KpLink/KpLinkExpanded.js","components/KpLink/KpLinkLayout.js","components/KpLink/registry.js","components/KpDevice/KpDeviceField.js","components/KpDevice/registry.js","components/KpDevice/KpDeviceLinkField.js","components/KpLocation/GeopointField.js","components/KpLocation/GeopointLoader.js","components/KpLocation/GeopointBase.js","components/KpLocation/GeopointMap.js","components/KpLocation/GeopointMapCenter.js","components/KpLocation/GeopointPreview.js","components/KpLocation/GeopointSearch.js","components/KpLocation/GeopointEditor.js","components/KpLocation/Geopoint.js","components/KpLocation/Geocoder.js","components/KpLocation/registry.js","components/DocumentEditor/DocumentParentIdField.js","components/TreeView/TreeView.js","components/TreeView/TreeList.js","components/TreeView/TreeModule.js","components/ColumnView/ColumnView.js","components/ColumnView/ColumnList.js","components/ColumnView/ColumnModule.js","components/DocumentEditor/DocumentListRemove.js","components/DocumentEditor/DocumentParentsField.js","components/DocumentEditor/DocumentListSearch.js","components/DocumentEditor/DocumentChildrenField.js","components/DocumentEditor/DocumentLocaleField.js","components/DocumentEditor/DocumentCollectionIdField.js","components/DocumentEditor/registry.js","components/ReferenceEditor/ReferenceField.js","components/ReferenceEditor/registry.js","components/CollectionEditor/CollectionSiteIdField.js","components/CollectionEditor/registry.js","components/PageEditor/PageEditorField.js","components/PageEditor/PageEditorLayout.js","components/PageEditor/PageContentField.js","components/PageEditor/PageMenu.js","components/PageEditor/PageContentLayout.js","components/PageEditor/PageSettingsField.js","components/PageEditor/PageSettingsLayout.js","components/PageEditor/registry.js","components/ThemeEditor/ThemePaletteColor.schema.js","components/ThemeEditor/ThemePalette.schema.js","components/ThemeEditor/ThemePaletteColor.uiSchema.js","components/ThemeEditor/ThemeEditor.model.js","components/ThemeEditor/ThemeEditor.schema.js","components/ThemeEditor/ThemeEditor.uiSchema.js","components/ThemeEditor/ThemePalette.model.js","components/ThemeEditor/ThemePaletteField.js","components/ThemeEditor/ThemePaletteColorField.js","components/ThemeEditor/ThemeColorWidget.js","components/ThemeEditor/registry.js","components/LocalizedString/LocalizedStringSettings.js","components/LocalizedString/LocalizedStringField.js","components/LocalizedString/registry.js","components/registry.js","schemas/media/media/schema.js","schemas/media/media/additionalCredits/schema.js","schemas/media/image/schema.js","schemas/media/image/category/schema.js","schemas/media/image/iptcdata/schema.js","schemas/media/media/uiSchema.js","schemas/media/media/uiPreview.js","schemas/media/utils/formatMedia.js","schemas/media/media/settings/uiSchema.js","schemas/media/media/data/uiSchema.js","schemas/media/media/file/uiSchema.js","schemas/media/media/metadata/uiSchema.js","schemas/media/media/rights/uiSchema.js","schemas/media/image/index.js","schemas/media/image/uiSchema.js","schemas/media/image/iptcdata/uiSchema.js","schemas/media/media/audiotracks/schema.js","schemas/media/media/captions/schema.js","schemas/media/media/audiotracks/uiSchema.js","schemas/media/media/captions/uiSchema.js","schemas/media/video/index.js","schemas/media/video/schema.js","schemas/media/video/category/schema.js","schemas/media/video/dependencies.js","schemas/media/video/uiSchema.js","schemas/media/audio/index.js","schemas/media/audio/schema.js","schemas/media/audio/category/schema.js","schemas/media/media/artwork/schema.js","schemas/media/audio/dependencies.js","schemas/media/audio/uiSchema.js","schemas/media/media/artwork/uiSchema.js","schemas/media/misc/index.js","schemas/media/misc/schema.js","schemas/media/misc/uiSchema.js","schemas/media/media/source/uiSchema.js","schemas/media/index.js","schemas/media/vimeo/index.js","schemas/media/vimeo/schema.js","schemas/media/vimeo/uiSchema.js","schemas/media/youtube/index.js","schemas/media/youtube/schema.js","schemas/media/youtube/uiSchema.js","schemas/media/sketchfab/index.js","schemas/media/sketchfab/schema.js","schemas/media/sketchfab/uiSchema.js","schemas/kpCollection/theme/schema.js","schemas/kpCollection/schema.js","schemas/kpCollection/uiPreview.js","schemas/kpCollection/theme/uiSchema.js","schemas/kpCollection/index.js","schemas/kpCollection/uiSchema.js","schemas/kpCollection/header/uiSchema.js","schemas/article/section/mediaSize.js","schemas/article/section/mediaFormat.js","schemas/article/index.js","schemas/article/schema.js","schemas/article/section/schema.js","schemas/article/section/sectionType.js","schemas/article/section/sectionText.js","schemas/article/section/sectionMedia.js","schemas/article/section/media.js","schemas/article/section/sectionDm.js","schemas/article/section/ekultur.js","schemas/article/section/sectionLinks.js","schemas/article/section/sectionAttachments.js","schemas/article/section/attachments.js","schemas/article/section/sectionQuote.js","schemas/article/uiSchema.js","schemas/article/uiPreview.js","schemas/article/settings/uiSchema.js","schemas/article/header/uiSchema.js","schemas/article/body/uiSchema.js","schemas/article/section/uiSchema.js","schemas/article/section/uiPreview.js","schemas/article/section/mediaUi.js","schemas/article/section/attachmentsUi.js","schemas/article/section/ekulturUi.js","schemas/article/section/linksUi.js","schemas/article/isPartOf/uiSchema.js","schemas/page/schema.js","schemas/page/documentType/schema.js","schemas/page/linksLayout/schema.js","schemas/page/links/schema.js","schemas/page/links/items.js","schemas/pageHome/schema.js","schemas/page/uiPreview.js","schemas/page/settings/uiSchema.js","schemas/page/pageHeader/uiSchema.js","schemas/page/pageMedia/uiSchema.js","schemas/page/links/uiSchema.js","schemas/page/links/itemsUi.js","schemas/page/pageBody/uiSchema.js","schemas/pageHome/uiSchema.js","schemas/pageHome/uiPreview.js","schemas/pageHome/homeHeader/uiSchema.js","schemas/pageHome/listMedia/uiSchema.js","schemas/pageHome/listBody/uiSchema.js","preview/KioskPreview/ArticleBase.js","preview/KioskPreview/ArticleGrid.js","preview/KioskPreview/ArticleTitle.js","preview/KioskPreview/ArticleBodytext.js","preview/KioskPreview/LayoutList.js","preview/KioskPreview/LayoutGrid.js","preview/KioskPreview/LayoutSlideshow.js","preview/KioskPreview/LayoutFormat.js","preview/KioskPreview/ModuleMedia.js","preview/KioskPreview/ArticleMedia.js","preview/KioskPreview/ModuleEkultur.js","preview/KioskPreview/ArticleReferences.js","preview/KioskPreview/ArticleLinks.js","preview/KioskPreview/ArticleHead.js","preview/KioskPreview/ArticleBody.js","preview/KioskPreview/ArticleLeadtext.js","preview/KioskPreview/ArticleSection.js","preview/KioskPreview/Article.js","preview/KioskPreview/PreviewFormat.js","preview/KioskPreview/utils/getPreviewItem.js","preview/KioskPreview/Menu.js","preview/KioskPreview/PageHeader.js","preview/KioskPreview/GridModule.js","preview/KioskPreview/Grid.js","preview/KioskPreview/TimelineModule.js","preview/KioskPreview/Timeline.js","preview/KioskPreview/AnnotateImagemap.js","preview/KioskPreview/utils/getContrastColor.js","preview/KioskPreview/AnnotateLegends.js","preview/KioskPreview/Page.js","preview/KioskPreview/PreviewKiosk.js","preview/KioskPreview/index.js","schemas/pageHome/index.js","schemas/pageMap/schema.js","schemas/pageMap/uiPreview.js","schemas/pageMap/mapLinks/uiSchema.js","schemas/pageMap/uiSchema.js","schemas/pageMap/header/uiSchema.js","schemas/pageMap/body/uiSchema.js","preview/Page/PageLayout.js","preview/Page/PageMedia.js","preview/Page/PageHeader.js","preview/Page/PageBody.js","preview/PageMap/DefaultMapMarker.js","preview/PageMap/DefaultMap.js","preview/PageMap/RoundtripMapMarker.js","preview/PageMap/RoundtripMap.js","preview/PageMap/PageMap.js","schemas/pageMap/index.js","schemas/pageTopic/index.js","schemas/pageTopic/schema.js","schemas/pageTopic/uiSchema.js","schemas/pageTopic/uiPreview.js","schemas/pageTopic/header/uiSchema.js","schemas/pageTopic/body/uiSchema.js","schemas/pageGrid/schema.js","schemas/pageGrid/uiPreview.js","schemas/pageGrid/gridHeader/uiSchema.js","schemas/pageGrid/gridMedia/uiSchema.js","schemas/pageGrid/gridLinks/uiSchema.js","schemas/pageGrid/index.js","schemas/pageGrid/uiSchema.js","schemas/pageGrid/gridBody/uiSchema.js","schemas/pageList/index.js","schemas/pageList/schema.js","schemas/pageList/uiSchema.js","schemas/pageList/uiPreview.js","schemas/pageList/listHeader/uiSchema.js","schemas/pageList/listMedia/uiSchema.js","schemas/pageList/listBody/uiSchema.js","schemas/pageTimeline/index.js","schemas/pageTimeline/schema.js","schemas/pageTimeline/uiSchema.js","schemas/pageTimeline/uiPreview.js","schemas/pageTimeline/timelineHeader/uiSchema.js","schemas/pageTimeline/timelineMedia/uiSchema.js","schemas/pageTimeline/timelineBody/uiSchema.js","schemas/pageAnnotate/index.js","schemas/pageAnnotate/schema.js","schemas/pageAnnotate/uiSchema.js","schemas/pageAnnotate/uiPreview.js","schemas/pageAnnotate/annotateHeader/uiSchema.js","schemas/pageAnnotate/annotateBody/uiSchema.js","schemas/pageAnnotate/annotateImage/uiSchema.js","schemas/pageAnnotate/annotateLinks/uiSchema.js","schemas/pageMedia/index.js","schemas/pageMedia/schema.js","schemas/pageMedia/uiSchema.js","schemas/pageMedia/uiPreview.js","schemas/pageMedia/mediaHeader/uiSchema.js","schemas/pageMedia/mediaBody/uiSchema.js","schemas/pageMedia/mediaLinks/uiSchema.js","schemas/device/index.js","schemas/device/schema.js","schemas/device/uiSchema.js","schemas/device/uiPreview.js","schemas/device/settings/uiSchema.js","schemas/device/header/uiSchema.js","schemas/device/media/uiSchema.js","schemas/device/hasPages/uiSchema.js","schemas/index.js","schemas/schemasByName.js","Finder/BulkPreview.js","Finder/BulkEditor.js","Finder/Bulk.js","Finder/FinderLayout.js","Finder/FinderModel.js","Finder/ViewList.js","Finder/ViewTable.js","Finder/ViewIcons.js","Finder/ViewMasonry.js","Finder/ViewGallery.js","Finder/FinderPreview.js","Finder/ViewColumn.js","components/PreviewModule/PreviewModule.js","Finder/ViewGroup.js","Finder/View.js","Finder/FinderQuery.js","redux/uploadByUrl/uploadByUrlSlice.js","Upload/UploadDropzone.js","Finder/FinderUpload.js","Finder/DocumentTreeList.js","Finder/DocumentTreeColumn.js","Finder/DocumentTree.js","Finder/Finder.js","redux/editor/editorSlice.js","Dialog/DialogBase.js","Dialog/DialogFooter.js","Dialog/DialogSearch.js","Dialog/DialogTabs.js","Dialog/DialogHeader.js","Dialog/DialogSection.js","Dialog/ResultsLoader.js","Dialog/ResultsFooter.js","Dialog/DialogModel.js","Dialog/ResultsList.js","Dialog/ResultsGallery.js","Dialog/ResultsHeader.js","Dialog/ResultsUploads.js","Dialog/MediaResults.js","Dialog/DocumentsResults.js","Dialog/SearchResultsDefault.js","Dialog/SearchResults.js","Dialog/SearchDialog.js","Dialog/FavouritesDialog.js","Dialog/DialogUpload.js","Dialog/UploadDialog.js","Dialog/MediaDialog.js","Dialog/DocumentsDialog.js","Dialog/Dialog.js","Editor/EditorDialog.js","Editor/EditorOverlay.js","Editor/Editor.js","Editor/EditorLoader.js","Finder/MediaPreview.js","Finder/MediaEditor.js","Finder/DocumentPreview.js","Finder/DocumentEditor.js","Finder/CollectionPreview.js","Finder/CollectionEditor.js","Finder/FinderEditor.js","Finder/DocumentLinks.js","Admin/AdminRoutes.js","Admin/AdminLoader.js","Admin/AdminSearch.js","components/App/utils/theme.overrides.js","components/App/utils/createAppTheme.js","components/App/AppBase.js","components/App/AppBody.js","components/NavAction/NavActionButtongroup.js","components/NavAction/NavActionButton.js","components/NavAction/NavActionDropdown.js","components/NavAction/NavActionMenuList.js","components/NavAction/NavActionMenuItem.js","components/NavAction/NavActionMenuLink.js","components/NavAction/NavActionMenu.js","components/NavAction/NavActionItem.js","components/NavAction/NavAction.js","components/NavMenu/NavMenuList.js","components/NavMenu/NavMenuItem.js","components/NavMenu/NavMenuLink.js","components/NavMenu/NavMenuLabel.js","components/NavMenu/NavMenu.js","components/App/AppSidebar.js","components/App/AppContent.js","components/NavSearch/NavSearch.js","components/App/AppSearch.js","components/App/AppIdentifier.js","components/App/AppSubview.js","components/App/AppHeader.js","components/App/AppLayout.js","Admin/index.js","Admin/Admin.js","app/menu/articles.js","app/menu/media.js","app/menu/latest.js","app/menu/trash.js","app/menu/search.js","app/menu/adminLink.js","app/menu/collectionsLink.js","app/kp/index.js","app/kp/app.js","app/kp/menu.js","app/menu/kpHome.js","app/menu/kpPages.js","app/menu/kioskLink.js","app/kp/action.js","app/KpApp.js","app/kiosk/app.js","app/kiosk/menu.js","app/menu/kioskHome.js","app/menu/kioskPages.js","app/menu/kioskDevices.js","app/menu/kpLink.js","app/kiosk/action.js","app/KioskApp.js","app/admin/app.js","app/admin/theme.js","app/admin/menu.js","app/admin/action.js","app/AdminApp.js","redux/site/siteSlice.js","redux/collection/collectionSlice.js","app/CollectionSwitcher.js","app/AppRoutes.js","app/index.js","app/App.js","redux/user/userSlice.js","redux/rootReducer.js","redux/store.js","serviceWorker.js","translations/nb.js","translations/nn.js","i18n.js","translations/en.js","translations/sv.js","index.js"],"names":["API","bulkSlice","createSlice","name","initialState","count","isLoading","isSaving","formData","schema","bulkSchema","bulk","bulkById","reducers","receiveBulkEditor","state","action","payload","bulkChange","bulkAdd","uniqueId","parentId","status","documentType","selected","bulkRemove","getBulkEditor","dispatch","getState","bulkModels","Object","values","filter","model","console","log","properties","multiple","map","keys","key","value","property","enum","includes","enumNames","actions","modelsByIdSlice","requestModel","receiveModel","requestParents","parents","receiveParents","requestChildren","children","receiveChildren","requestReferences","references","receiveReferences","receiveParentId","receiveStatus","requestSave","receiveSave","getModel","modelName","id","fetch","method","headers","then","response","json","error","getChildren","query","qs","stringify","apiUrl","results","models","loadModel","url","deleteModel","data","restoreModel","eraseModel","selectModel","modelsById","uniqueModel","bulkToggle","addDocumentSource","callback","undefined","source","toLowerCase","schemaId","JSON","body","addMediaSource","finderByIdSlice","sortOptions","sort","rowsOptions","rows","viewOptions","view","primaryAction","parent","parentsByUrl","menu","menuByUrl","menuById","requestFinder","receiveFinder","receiveView","requestViewOptions","receiveViewOptions","receiveSort","requestSortOptions","receiveSortOptions","length","requestPrimaryAction","receivePrimaryAction","requestMenu","receiveMenu","requestMenuByUrl","receiveMenuByUrl","requestMenuItem","item","receiveMenuItem","moveMenuItem","destination","expandMenuItem","expanded","collapseMenuItem","toggleMenuItem","getMenu","siteName","root","collectionId","getChild","sections","pathname","search","startsWith","replace","child","section","menuItem","forEach","push","rootMenu","getPrimaryAction","requestMenuTree","receiveMenuTree","requestMenuTreeItem","receiveMenuTreeItem","appSlice","icon","title","siteTitle","siteId","header","subview","sidebar","requestApp","collectionType","receiveAppSite","receiveAppCollection","receiveApp","requestSubview","receiveSubview","requestLayout","receiveLayout","toggleSearch","collapseSearch","toggleHeader","toggleSidebar","requestSchemasByName","schemasByName","receiveSchemasByName","receiveMenuItemByUrl","getSiteApp","app","getAppSite","fl","site","getAppCollection","collection","getAppProperties","finder","getFinder","getLayout","layout","ArticleIcon","props","SvgIcon","viewBox","fillRule","clipRule","d","x","y","width","height","PageHomeIcon","PageGridIcon","PageMediaIcon","fill-rule","clip-rule","cx","cy","r","PageListIcon","PageAnnotateIcon","PageMapIcon","transform","PageParentIcon","KioskAppIcon","AppIcon","variant","color","theme","palette","primary","main","text","variants","fill","fontFamily","fontSize","fontWeight","dominantBaseline","textAnchor","MenuIcon","IconTemplate","KioskMenuIcon","KpAppIcon","KpMenuIcon","DeviceIcon","DeviceMacIcon","DeviceWinIcon","PageTimelineIcon","AppLoader","location","useSelector","loadingTitle","description","appIcon","icons","Loader","defaultProps","FinderLoader","useDispatch","useEffect","pathUrl","path","split","join","getParents","searchByUrlSlice","requestSearch","page","receiveError","toString","receiveSearch","receivePage","nextPage","prevPage","start","pages","Math","ceil","currentPage","resultsByPage","resultsLoaded","concat","p","getQuery","sq","useStyles","makeStyles","position","top","right","bottom","left","transition","marginLeft","marginRight","spacing","display","alignItems","zIndex","marginTop","overflowY","margin","settings","BulkLayout","classes","className","aria-expanded","getDefaultFormState","utils","getUiOptions","FieldKioskPage","registry","uiSchema","formContext","handleChange","newFormData","definitions","onChange","annotateImage","backgroundImage","imageAnnotations","links","newRegistry","onAnnotateArrayChange","onAnnotateImageChange","newUiSchema","dialog","preview","newFormContext","ObjectField","fields","ImageAnnotateArrayField","ArrayField","KpPageField","KpAnnotateArrayField","media","mediaId","imageFilters","ImageAnnotations","imageUrl","prepare","index","referenceId","reference","localeId","currentLocale","defaultLocale","typeLabel","metadata","buttongroup","button","textTransform","letterSpacing","borderRadius","minWidth","minHeight","label","SectionButtons","buttons","SectionButton","size","Button","type","data-size","data-variant","disableElevation","Icon","ButtonGroup","backgroundColor","opacity","justifyContent","KpLinkMediaLayout","onDialog","mediaButtons","onClick","data-name","ImagePreview","KpLinkButtons","border","borderColor","divider","KpLinkReferenceLayout","LinkAddButton","IconButton","LinkRemoveButton","startAdornment","untitled","KpLinKContentField","mediaType","referenceTitle","referenceDescription","_onMediaChange","_onReferenceChange","linkContent","runningHead","KpLinkField","imageFocalpoint","imageCropdata","uiOptions","fieldset","uiPreview","content","KpLinkContentField","cropdata","_onCropChange","focalpoint","_onFocalpoint","filters","_onFiltersChange","pageType","link","getUiSchema","hex","Color","isLight","titleColor","module","userSelect","cursor","pointerEvents","paddingLeft","paddingRight","borderTop","borderTopColor","boxShadow","shadows","badge","flexWrap","toolbar","flexGrow","maxWidth","flexDirection","overflow","footer","StartAdornment","badgeContent","Badge","ListModule","statusLabel","author","datetime","ModuleBase","role","ModuleTitle","onEdit","ModuleStatus","ModuleByline","ModuleLabel","ModuleMetadata","ModuleDescription","NavSettings","NavToolbar","editable","selectable","deletable","restorable","padding","ExpandedModule","elevation","ModuleFormat","ModuleHeader","ModuleBody","ModuleFooter","ModuleButtons","KpLinkLayout","onSave","KpLinkExpanded","KpLinkCollapsed","KpDeviceField","startPageId","setStartPageId","isStartPage","toggleStartPage","ButtonBase","GeopointField","_onChange","GeopointLoader","GeopointBase","googleMapsApiKey","libraries","loadingElement","preventGoogleFontsLoading","memo","GeopointMap","center","zoom","options","useState","setMap","draggable","zoomControl","scaleControl","mapTypeControl","fullscreenControl","streetViewControl","clickableIcons","mapContainerClassName","onLoad","onZoomChanged","onDragEnd","lat","lng","point","crosshair","crosshairX","crosshairY","GeopointMapCenter","GeopointPreview","input","GeopointAutocomplete","autocomplete","setAutocomplete","types","onPlaceChanged","getPlace","TextField","placeholder","fullWidth","overlay","geocoder","closeButton","GeocoderOverlay","onClose","GeopointSearch","place","geometry","placeId","place_id","flexBasis","Geopoint","setOverlay","Geocoder","ParentIdField","uiQuery","editor","q","enumOptions","setEnumOptions","setEnumNames","searchByUrl","currentSearch","optionsEnum","optionsNames","getOptions","SchemaField","newSchema","default","treeView","TreeView","droppable","provided","snapshot","droppableProps","innerRef","isDraggingOver","data-is-dragging-over","ref","treeList","TreeList","maxHeight","level","image","toggle","toggleIcon","TreeModule","onSelect","collapsible","onToggle","renderChildren","DragHandle","dragHandleProps","ButtonToggle","ModuleContent","src","_onSelect","event","stopPropagation","isDragging","isTarget","combineTargetFor","draggableProps","aria-selected","data-is-dragging","data-is-target","columnView","columns","borderLeft","ColumnView","ViewHeader","column","ColumnList","marginBottom","dragHandle","ColumnModule","toggleButton","DocumentChildrenList","onRemove","DocumentModule","primaryButton","ButtonRemove","ListView","DocumentParentsField","idSchema","DocumentListRemove","$id","DocumentChildrenSearch","setQ","queryQ","_onQuery","_","debounce","ListSearch","ButtonAdd","DocumentChildrenField","DocumentListSearch","LocaleField","languages","lang","ISO6391","getNativeName","DocumentParentIdField","DocumentLocaleField","getUiButtons","buttonProps","onEditReference","uiButtons","onUpload","charAt","toUpperCase","slice","disabled","readonly","uiReference","uiContent","uiSchemaReference","uiSchemaContent","_action","widgets","PageEditorField","statusCode","statusMessage","createdAt","updatedAt","deletedAt","currentId","onExpand","onCollapse","onLocale","onSubmit","useTranslation","t","i18n","secondary","idPrefix","primaryId","secondaryId","locale","_onLocale","PageEditor","EditorBase","EditorHeader","EditorBody","EditorFooter","OverlayTemplate","template","renderOverlay","PageContentField","menuWidth","menuList","PageMenu","NavMenuList","NavMenuItem","NavMenuLink","background","wrapper","PageContent","EditorSection","SidebarTemplate","EditorSidebar","renderSidebar","PreviewTemplate","renderPreview","EditorContent","PageSettingsField","paletteColor","colorUi","CollectionThemePaletteField","CollectionThemePaletteColorField","light","dark","createPalette","tinycolor","toHex","_getColor","swatch","getContrastText","paddingBottom","CollectionThemeColorWidget","setValue","TextWidget","isValid","ThemePaletteField","ThemePaletteColorField","ThemeEditor","ThemePaletteModel","lineHeight","textAlign","LocalizedStringSettings","useRef","SchemaFieldset","localizedUiSchema","help","endAdornment","widget","newUiOptions","kpPage","foelds","kpLink","kpDevide","kpLocation","documentEditor","referenceEditor","collectionEditor","pageEditor","themeEditor","localizedString","uploadProgress","uploadStatus","mediaSize","mediaWidth","mediaHeight","mimeType","filename","duration","artwork","bytes","decimals","k","dm","sizes","i","floor","parseFloat","pow","toFixed","formatMediaSize","timeInSeconds","pad","num","time","hours","minutes","seconds","formatMediaTime","captions","sourceId","schemaType","audiotracks","dependencies","schemas","video","audio","misc","mediaFormat","titleImage","isPartOf","address","sectionType","bodytext","attachments","cite","quote","article","boxSizing","ArticleBase","ArticleGrid","ArticleTitle","component","language","Typography","listStyle","fontStyle","ArticleBodytext","list","LayoutList","gridColumns","React","cloneElement","grid","LayoutGrid","slideshow","slider","navigation","dots","backButton","nextButton","LayoutSlideshow","totalSlides","format","naturalSlideWidth","naturalSlideHeight","ratio","LayoutFormat","w","data-minHeight","data-ratio","data-format","caption","headline","byline","license","ModuleMedia","layouts","ArticleMedia","renderMedia","LayoutTemplate","templates","objectCount","imageCount","videoCount","audioCount","commentCount","ArticleReferences","renderReference","referenceType","ModuleTemplate","ArticleLinks","href","renderLink","head","ArticleHead","leadtext","ArticleBody","ArticleLeadtext","ArticleSection","sectionLayout","Article","headerImage","PreviewFormat","getPreviewItem","itemType","m","cols","PreviewTimeline","figure","pageHeader","pageTitle","KioskPageHeader","titleSize","GridModule","skin","placement","getTextPlacement","Card","ImageBase","objectFit","CardContent","gridTemplateColumns","templateCols","gridTemplateRows","templateRows","gridColumnGap","colGap","gridRowGap","rowGap","gridItem","gridColumnStart","gridColumnEnd","colEnd","gridRowStart","gridRowEnd","rowEnd","MosaicGrid","items","onCurrentId","rowHeight","repeat","GridItem","itemProps","PreviewMosaic","card","cardMedia","cardContent","MosaicModule","CardMedia","alt","overflowX","timeline","timelineItem","Timeline","TimelineItem","TimelineModule","marker","borderSize","ImagemapPreview","contentTitle","annotateColor","contrastColor","ImageAnnotationsBase","markerTemplate","line","Menu","Imagemap","MarkerModule","data-index","Fragment","Grid","backgroundImageUrl","backgroundPosition","backgroundSize","PreviewPage","annotateLayout","mediaLayout","withResizeDetector","Page","PreviewKiosk","localTitle","MapLink","Map","defaultCenter","defaultZoom","KEY","markers","setMarkers","setOrigin","setDestination","setWaypoints","setCenter","uuidv4","mapId","setMapId","mapRef","newWaypoints","current","style","bootstrapURLKeys","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","google","bounds","maps","LatLngBounds","extend","LatLng","fitBounds","origin","waypoints","directions","setDirections","drawDirections","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","directionsService","DirectionsService","route","travelMode","TravelMode","WALKING","result","DirectionsStatus","OK","overviewPath","routes","overview_path","resultsPath","getDirections","mapTypes","DefaultMap","newLinks","setNewLinks","referenceModel","mapLayout","MapTemplate","parallaxImage","linkMedia","hasPages","deviceTitle","deviceId","deviceType","deviceIcons","mediaSchemas","kpCollection","pageHome","pageMap","pageTopic","pageGrid","pageList","pageTimeline","pageAnnotate","pageMedia","device","BulkPreview","bulkCount","BulkEditor","Schema","noValidate","bulkSubmit","FinderBulk","FinderLayout","onView","NavPath","NavView","getUiPreview","FinderModel","viewable","linkable","deleted","erasable","erased","_onClick","_onView","history","_onEdit","_onLink","onLink","_onDelete","onDelete","_onRestore","onRestore","_onErase","onErase","bulkModel","documentModel","mediaModel","collectionModel","schemaModel","mediaLabel","documentLabel","modelLabel","deletedByName","updatedByName","createdByName","childrenWithProps","Children","isValidElement","ViewList","onPage","emptyTitle","pagedResults","ViewTable","TableView","TableModule","ViewGrid","IconsView","IconsModule","MasonryView","MasonryModule","ViewGallery","pop","shift","GalleryView","imageWidth","imageHeight","GalleryModule","select","FinderPreview","ViewColumn","alert","iconWidth","outline","outlineColor","textDecoration","iconHeight","PreviewModule","Paper","square","ModuleImage","group","GroupIcons","FinderView","ViewIcons","ViewMasonry","ViewGroup","Template","option","FinderQuery","parse","Bulk","View","onSort","onRows","uploadByUrlSlice","requestUpload","requested","received","receiveUpload","requestUploadModel","receiveUploadModel","receiveUploadProgress","progress","receiveUploadStatus","getUpload","acceptedFiles","uploadData","file","getUploadUrl","getUploadData","uploadUrl","FormData","append","xhr","XMLHttpRequest","upload","addEventListener","lengthComputable","round","loaded","total","_onProgress","open","send","dropzone","dropButton","UploadDropzone","accept","onCancel","currentUpload","ButtonClose","onDrop","rejectedFiles","getRootProps","getInputProps","MediaUpload","uploadByUrl","DocumentTreeList","treeRoot","treeParent","treeChildren","DraggableChild","draggableId","droppableId","DroppableChildren","isCombineEnabled","TreeColumn","treeParents","onCreate","setParents","_getParents","treeNode","modelParents","parentModel","parentChildren","DocumentTree","_getNodeId","TreeListView","TreeColumnView","Number","isInteger","createUrl","combine","destinationId","FinderUpload","Finder","FinderTemplate","editorSlide","requestEditor","receiveEditor","requestEdit","receiveEdit","receiveChange","receiveCurrentId","receiveCurrentLocale","requestDialog","receiveDialog","pathnames","parentUrl","reverse","editModel","saveModel","DialogBase","withStyles","BottomNavigation","MenuItem","BottomNavigationAction","DialogFooter","tabIndex","showLabels","reset","ButtonReset","disableRipple","AppSearchDefault","onFocus","onReset","inputRef","focus","target","DialogTabpanel","indicator","Tabs","DialogTab","Tab","DialogLabel","DialogTabs","tabs","indicatorColor","textColor","tab","DialogHeader","onScroll","parentRef","handleScroll","offsetHeight","removeEventListener","loader","ResultsLoader","ResultsFooter","from","to","ModuleLoader","modelsSelected","onAdd","modelsBySource","modelSchema","appDocumentType","sourceDocumentType","setPreview","newModel","newImageUrl","imageUrlParts","imageParams","newImageParams","dimension","getImageUrl","ListLayout","ResultsList","DialogModel","ResultsGallery","paddingTop","Gallery","ResultsUploads","uploads","MediaResults","itemSchema","setModelsSelected","getSelected","addModel","ResultsTemplate","identifier","getMediaSource","removeItem","DocumentsResults","getDocumentSource","connect","bindActionCreators","SearchResults","SearchDialog","userQ","setUserQ","handleQuery","trim","setSort","sortSettings","dmOwnerOptions","dmOwner","setDmOwner","dmOwnerSettings","owner","mediaTypes","Array","isArray","queryUrl","getMediaType","getMediaSections","documentTypes","getDocumentType","getDocumentSections","setTabIndex","currentTab","nextToken","handleTab","currentQuery","setPages","setCurrentPage","setNextPage","getPages","DialogSearch","FavouritesDialog","favourites","uniqueIds","getFavouritesQuery","documents","DialogUpload","UploadDialog","handleReset","uploadSession","setUploadSession","uploadModels","uploadResults","session","MediaDialog","setTemplate","mediaFavourites","mediaUploads","FavouriteBadge","invisible","UploadBadge","DocumentsDialog","EditorDialog","setFormData","documentSchema","getReferenceQuery","mediaSchema","getMediaQuery","DialogTemplate","Dialog","EditorOverlay","Editor","useHistory","editorRef","_onOverlay","setDialog","_onDialog","_onSubmit","hashId","hash","_onCurrentId","hashUrl","_onToggle","expandId","_onExpand","_onCollapse","onBack","goBack","referenceUrl","onOverlay","EditorLoader","EditorIcon","getEditor","MediaPreview","previewOptions","PreviewJSON","PreviewMedia","currentPreview","find","PreviewBase","PreviewOptions","MediaEditor","match","params","DocumentPreview","DocumentEditor","modelType","_onHistory","CollectionPreview","CollectionEditor","FinderEditor","q1","q2","parentUniqueId","AdminRoutes","DocumentLinks","AdminLoader","AdminSearch","inputValue","setInputValue","searchRoot","rootQuery","documentsQuery","mediaQuery","documentsSearch","documentsSuggest","mediaSearch","mediaSuggest","suggest","scopes","scope","autocompleteProps","freeSolo","disableClearable","autoHighlight","disablePortal","groupBy","reason","searchUrl","onInputChange","searchProps","MuiInputBase","MuiFilledInput","borderTopLeftRadius","borderTopRightRadius","MuiFormLabel","MuiFormHelperText","MuiButtonGroup","grouped","MuiButton","outlined","getColor","getPalette","primaryColor","secondaryColor","createAppTheme","createMuiTheme","typography","overrides","AppBase","ThemeProvider","AppBody","NavActionButtongroup","ActionButton","forwardedRef","controls","aria-label","dropdown","NavActionDropdown","anchorEl","onClickAway","Popper","ClickAwayListener","actionList","ActionMenuList","actionListItem","ActionMenuItem","ListItem","actionLink","ActionMenuLink","ListItemIcon","ListItemText","NavMenu","renderItem","hidden","NavActionItem","setExpanded","anchorRef","prevExpanded","NavActionButton","NavActionMenu","NavAction","MenuList","toggleCollapsed","toggleExpanded","MenuToggle","MenuLink","align","noWrap","nowrap","NavMenuCalendar","currentUrl","calendar","NavMenuLabel","renderLabel","AppSidebar","AppContent","field","NavSearch","InputProps","inputProps","inputClassName","onBlur","InputBase","growingField","growingInput","suggestRoot","suggestOverlay","suggestPopper","suggestPaper","suggestList","suggestListItem","suggestIcon","suggestLabel","suggestCount","suggestQuery","suggestGroupList","suggestGroupLabel","AppSearch","fieldClassName","scopeOptions","suggestOptions","_getOptionHighlight","matches","part","highlight","suggestHighlight","_getOptionQuery","Autocomplete","popper","paper","listbox","groupUl","groupLabel","filterOptions","filtered","matchSorter","baseSort","a","b","renderGroup","renderOption","getOptionLabel","renderInput","contrastText","breakpoints","down","subtitle","AppIdentifier","AppSubview","rigth","growingSearch","AppHeader","ButtonSidebar","ButtonSearch","collapsibleSidebar","AppBar","up","navAction","navCalendar","navMenu","AppLayout","Admin","date","articles","latest","trash","collectionsLink","adminLink","KpApp","KioskApp","AdminApp","siteSlice","requestSite","receiveSite","requestSiteCollections","collections","receiveSiteCollections","collectionSlice","requestCollection","receiveCollection","CollectionSwitcher","CollectionItem","kpUrl","kioskUrl","kioskLink","AppRoutes","App","userSlice","requestUser","receiveUser","combineReducers","user","userReducer","siteReducer","collectionReducer","appReducer","editorReducer","finderReducer","bulkReducer","modelsByIdReducer","searchByUrlReducer","uploadByUrlReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","logger","configureStore","reducer","rootReducer","Boolean","window","hostname","bylineTitle","licenseGroup","translations","use","LanguageDetector","initReactI18next","init","resources","en","nb","nn","sv","fallbackLng","debug","interpolation","escapeValue","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.3423aa4e.chunk.js","sourcesContent":["let API = \"https://kompass.dimu.org\";\n\nexport {\n    API,\n}","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { receiveModel } from \"../modelsById\"\n\nconst bulkSlice = createSlice({\n    name: 'bulk',\n    initialState: {\n        count: 0,\n        isLoading: false,\n        isSaving: false,\n        formData: {\n\n        },\n        schema: {\n\n        },\n        bulkSchema: {\n            \"type\": \"object\",\n            \"properties\": {\n                \"status\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"draft\",\n                        \"publish\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Draft\",\n                        \"Publish\"\n                    ],\n                    \"default\": false\n                },\n                \"parentId\": {\n                    \"type\": \"number\",\n                    \"enum\": [\n                        false,\n                        \"null\",\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Reset to null\",\n                    ],\n                    \"default\": false\n                },\n                \"documentType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"default\": false\n                }\n            }\n        },\n        bulk: [],\n        bulkById: {}\n    }, \n    reducers: {\n        receiveBulkEditor(state, action) {\n            const { schema, formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n                schema: schema\n            }\n\n        },\n        bulkChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n            }\n\n        },\n        bulkAdd(state, action) {\n            const { uniqueId, parentId, status, documentType } = action.payload\n\n            return {\n                ...state,\n                count: state.count + 1,\n                bulkById: {\n                    ...state.bulkById,\n                    [uniqueId]: {\n                        uniqueId: uniqueId,\n                        parentId: parentId,\n                        documentType: documentType,\n                        status: status,\n                        selected: true\n                    }\n                }\n            }\n\n        },\n        bulkRemove(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                count: state.count - 1,\n                bulkById: {\n                    ...state.bulkById,\n                    [uniqueId]: {\n                        selected: false\n                    }\n                }\n            }\n\n        },\n    }\n})\n\nexport const bulkToggle = ({uniqueId}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkById = state.bulk.bulkById\n\n    const modelsById = state.modelsById\n    const uniqueModel = modelsById && modelsById[uniqueId]\n\n    const selected = bulkById && bulkById[uniqueId] && bulkById[uniqueId].selected\n\n    if (selected) {\n        dispatch(bulkRemove(uniqueModel))\n        dispatch(getBulkEditor())\n    } else {\n        dispatch(bulkAdd(uniqueModel))\n        dispatch(getBulkEditor())\n    }\n\n}\n\nexport const bulkSubmit = ({modelName = \"documents\", formData}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n    const modelsById = state.modelsById\n\n    const url = API + '/admin/api/' + modelName;\n\n    bulkModels.map(model => {\n\n        const uniqueId = model && model.uniqueId\n        const uniqueModel = modelsById && modelsById[uniqueId]\n\n        if (!uniqueModel) {\n            return false\n        }\n\n        let newFormData = {\n            ...uniqueModel\n        }\n\n        Object.keys(formData).map(key => {\n\n            if (formData[key]) {\n                newFormData[key] = formData[key]\n            }\n\n            if (formData[key] === \"null\") {\n                newFormData[key] = null\n            }\n\n\n        })\n\n        /*\n\n        const newFormData = {\n            ...uniqueModel,\n            ...formData\n        }\n        */\n\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: JSON.stringify(newFormData)\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n//            dispatch(receiveSave(formData))\n            dispatch(receiveModel(formData))\n        })    \n    \n\n    })\n\n\n}\n\nexport const getBulkEditor = () => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n\n    console.log('BULK', bulkModels)\n\n    const bulkSchema = state.bulk.bulkSchema\n\n    let properties = {}, formData = {}, multiple = {}\n\n    bulkModels.map(model => {\n\n        Object.keys(bulkSchema.properties).map(key => {\n\n            const value = model[key]\n            const property = properties[key] ||bulkSchema.properties[key]\n\n            // set formData\n\n            if (formData[key] && formData[key] !== value) {\n                formData[key] = false\n                multiple[key] = true\n            } else if (!multiple[key] && !formData[key]) {\n                formData[key] = value\n            }\n\n            // set schema\n\n            if (property && value) {\n\n                if (property.enum && !property.enum.includes(value)) {\n                    properties[key] = {\n                        ...property,\n                        enum: [\n                            ...property.enum,\n                            value\n                        ],\n                        enumNames: [\n                            ...property.enumNames,\n                            value\n                        ]\n                    }\n\n                } else {\n                    properties[key] = property\n                }\n\n            }\n\n        })\n\n    })\n\n    const schema = {\n        ...bulkSchema,\n        properties: {\n            ...properties\n        }\n    }\n\n    dispatch(receiveBulkEditor({schema, formData}))\n\n\n}\n\nexport const { receiveBulkEditor, bulkChange, bulkAdd, bulkRemove } = bulkSlice.actions\nexport default bulkSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { bulkToggle } from '../bulk/'\nimport qs from 'query-string';\n\nconst modelsByIdSlice = createSlice({\n    name: 'modelsById',\n    initialState: {\n    }, \n    reducers: {\n        requestModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: true,\n                }\n            }\n\n        },\n        receiveModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: false,\n                    ...action.payload\n                }\n            }\n\n        },\n        requestParents(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parents: []\n                }\n            }\n\n        },\n        receiveParents(state, action) {\n            const { uniqueId, parents } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parents: parents\n                }\n            }\n\n        },\n        requestChildren(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: []\n                }\n            }\n\n        },\n        receiveChildren(state, action) {\n            const { uniqueId, children } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: children\n                }\n           }\n\n        },\n        requestReferences(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: []\n                }\n            }\n\n        },\n        receiveReferences(state, action) {\n            const { uniqueId, references } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: references\n                }\n           }\n\n        },\n        receiveParentId(state, action) {\n            const { uniqueId, parentId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parentId: parentId\n                }\n            }\n\n        },\n        receiveStatus(state, action) {\n            const { uniqueId, status } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    status: status\n                }\n            }\n\n        },\n        requestSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    isSaving: true\n                }\n\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isSaving: false,\n                    ...action.payload\n                }\n            }\n        }        \n    }\n})\n\n/** Get models from a list of results */\n\nexport const getModels = ({models}) => (dispatch, getState) => {\n\n    const state = getState()\n    const modelsById = state.modelsById\n\n    models && models.map(model => {\n        const { modelName, uniqueId } = model\n\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n\n\n    })\n\n}\n\n/** Get model from uniqueId */\n\nexport const getModel = ({modelName = \"documents\", id, uniqueId}) => dispatch => {\n\n    uniqueId && dispatch(requestModel({uniqueId}))\n\n    if (!uniqueId) {\n        uniqueId = id\n    }\n\n    const apiUrl = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel({...formData, modelName}))\n//            dispatch(getParents({...formData, modelName}))\n            dispatch(getChildren({...formData, modelName}))\n        })\n\n}\n\n/** Get parents from uniqueId */\n\nexport const getParents = ({modelName = \"documents\", uniqueId, id, parentId, parents}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/' + modelName + '/' + parentId;\n    \n    if (!parents) {\n        dispatch(requestParents({uniqueId}))\n        parents = []\n    }\n\n    if (parentId && parentId !== id) {\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(parent => {\n\n                parent && parent.uniqueId && parents.unshift(parent)\n\n                dispatch(getParents({parentId: parent.parentId, id, uniqueId, parents}))\n\n                /*\n                \n                if (parent && parent.parentId && parent.parentId !== parentId) {\n                    dispatch(getParents({parentId: parent.parentId, id, uniqueId, parents}))\n                }  else {\n                    dispatch(receiveParents({uniqueId, parents}))\n                }*/\n\n            })\n    \n    } else {\n        dispatch(receiveParents({uniqueId, parents}))\n    }\n\n}\n\n/** Get children from uniqueId */\n\nexport const getChildren = ({modelName = \"documents\", uniqueId, id}) => (dispatch, getState) => {\n\n    const query = qs.stringify({\n        parentId: id,\n    })\n\n    const apiUrl = API + '/admin/api/' + modelName + '/search?' + query;\n\n    dispatch(requestChildren({uniqueId}))\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results.models && dispatch(receiveChildren({uniqueId, children: results.models}))\n        })\n\n}\n\n/** Get references from uniqueId */\n\nexport const getReferences = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/references/' + modelName + '/' + uniqueId;\n\n    dispatch(requestReferences({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveReferences({...formData, uniqueId}))\n        })\n\n}\n\n\n/** Load model from uniqueId */\n\nexport const loadModel = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestModel({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel(formData))\n        })\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    formData && formData.uniqueId && dispatch(requestSave({uniqueId: formData.uniqueId}))\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n\n/** Delete */\n\nexport const deleteModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Restore */\n\nexport const restoreModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/restore/' + uniqueId;\n  \n    fetch(url, {\n        method: \"POST\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Erase */\n\nexport const eraseModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId + \"?erase=true\";\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(receiveStatus({modelName, uniqueId, status: \"erased\"}))\n    )\n\n}\n\n/** Select */\n\nexport const selectModel = ({modelName, uniqueId}) => dispatch => {\n//    dispatch(toggleModel({modelName, uniqueId}))\n    dispatch(bulkToggle({uniqueId}))\n}\n\n/** Set parentId */\n\nexport const setParentId = ({modelName = \"documents\", uniqueId, parentId}) => dispatch => {\n//    dispatch(receiveParentId({uniqueId, parentId}))\n\n    const url = API + '/admin/api/' + modelName;\n\n\n    const formData = {\n        uniqueId: uniqueId,\n        parentId: parentId,\n    }\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n    \n/** Document source */\n\nexport const getDocumentSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/documents/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addDocumentSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addDocumentSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/documents'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\n/** Media source */\n\nexport const getMediaSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/media/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addMediaSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addMediaSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/media'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\nexport const { \n    requestModel, receiveModel, \n    requestParents, receiveParents, \n    requestChildren, receiveChildren, \n    requestReferences, receiveReferences, \n    receiveStatus, receiveParentId,\n    requestSave, receiveSave\n} = modelsByIdSlice.actions\nexport default modelsByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { saveModel } from \"../modelsById/\";\nimport qs from 'query-string';\n\nconst finderByIdSlice = createSlice({\n    name: 'finder',\n    initialState: {\n        isLoading: true,\n        url: undefined,\n        sortOptions: [],\n        sort: undefined,\n        rowsOptions: [\n            10,\n            20,\n            30,\n            40,\n            50,\n        ],\n        rows: undefined,\n        viewOptions: [],\n        view: undefined,\n        primaryAction: {},\n        parent: {},\n        parents: [],\n        parentsByUrl: {},\n        menu: undefined,\n        menuByUrl: {},\n        menuById: {},\n    }, \n    reducers: {\n        requestFinder(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                url: url,\n                isLoading: true,\n            }\n        },\n        receiveFinder(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                url: url,\n                isLoading: false,\n            }\n        },\n        receiveView(state, action) {\n            const { view } = action.payload\n            return {\n                ...state,\n                view: view\n            }\n        },\n        requestViewOptions(state, action) {\n            return {\n                ...state,\n                viewOptions: undefined,\n                view: undefined\n            }\n        },\n        receiveViewOptions(state, action) {\n            const { viewOptions, view } = action.payload\n            return {\n                ...state,\n                viewOptions: viewOptions,\n                view: view\n            }\n        },\n        receiveSort(state, action) {\n            const { sort } = action.payload\n            return {\n                ...state,\n                sort: sort\n            }\n        },\n        requestSortOptions(state, action) {\n            return {\n                ...state,\n                sortOptions: undefined,\n                sort: undefined\n            }\n        },\n        receiveSortOptions(state, action) {\n            const { sortOptions, sort } = action.payload\n            return {\n                ...state,\n                sortOptions: sortOptions,\n                sort: sort\n            }\n        },\n \n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents, parentsByUrl } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                parentsByUrl: parentsByUrl,\n                parent: parents && parents[parents.length-1]\n            }\n        },\n        requestPrimaryAction(state, action) {\n            return {\n                ...state,\n                primaryAction: {}\n            }\n        },\n        receivePrimaryAction(state, action) {\n            const { primaryAction } = action.payload\n            return {\n                ...state,\n                primaryAction: primaryAction\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const {menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        requestMenuItem(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        isLoading: true,\n                        url: url,\n                        ...item,\n                    }\n                }\n            }\n        },\n        receiveMenuItem(state, action) {\n            const { id, url, ...item } = action.payload\n\n            const count = item.children && item.children.length ||null\n\n            if (id) {\n                return {\n                    ...state,\n                    menuById: {\n                        ...state.menuById,\n                        [id]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            url: url,\n                            count: count,\n                        }\n                    },\n                    menuByUrl: {\n                        ...state.menuByUrl,\n                        [url]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            count: count,\n                            url: url,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                isLoading: false,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        id: id,\n                        count: count,\n                        isLoading: false,\n                        url: url,\n                    }\n                }\n            }\n        },\n        moveMenuItem(state, action) {\n            const { source, destination } = action.payload\n\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [source.url]: source,\n                    [destination.url]: destination  \n                }\n            }\n\n        },\n        expandMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: true\n                    }\n                }\n            }\n        },\n        collapseMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: false\n                    }\n                }\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n        },\n    }\n})\n\nexport const getFinder = ({url = undefined, ...menuItem}) => (dispatch, getState) => {\n\n    const state = getState()\n    const app = state.app\n    const finder = state.finder\n\n    dispatch(requestFinder({url}))\n    dispatch(getMenu(app))\n    dispatch(getPrimaryAction(app))\n\n    finder.menu && dispatch(receiveFinder({url}))\n\n}\n\nexport const getOptions = ({viewOptions, view, sortOptions, sort}) => (dispatch) => {\n    dispatch(requestViewOptions())\n    dispatch(requestSortOptions())\n\n    viewOptions && dispatch(receiveViewOptions({viewOptions, view: view ||viewOptions[0]}))\n    sortOptions && dispatch(receiveSortOptions({sortOptions, sort: sortOptions[0]}))\n}\n\nexport const getView = ({pathname, view}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveView({view}))\n   \n}\n\nexport const getSort = ({pathname, sort}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveSort({sort}))\n}\n\nexport const getMenu = ({siteName, menu, root, collectionId}) => (dispatch) => {\n\n    const getChild = ({parent, sections, children, url, pathname, search, query, viewOptions, sortOptions, ...item}) => {\n\n        if (pathname && pathname.startsWith(\"/\")) {\n            url = root + pathname\n        }\n\n        if (!url && parent.url) {\n            url = pathname && parent.url + \"/\" + pathname || parent.url\n        } else if (!url) {\n            url = pathname && root + \"/\" + pathname || root\n        }\n\n        if (url.includes(\":siteName\")) {\n            url = url.replace(\":siteName\", siteName)\n        }\n\n        if (search) {\n            url = url + \"?\" + search\n        }\n\n        if (query) {\n            query = {\n                ...query,\n                collectionId: query.collectionId || parent.collectionId\n            }\n        }\n\n        if (query && query.models === \"media\") {\n            viewOptions = viewOptions || [\"gallery\", \"icons\", \"list\", \"table\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (query && query.models === \"documents\") {\n            viewOptions = viewOptions || [\"list\", \"table\", \"icons\", \"column\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (sortOptions) {\n            query.sort = sortOptions[0]\n        }\n        \n        const child = {\n            ...item,\n            url: url,\n            query: query,\n            viewOptions: viewOptions,\n            sortOptions: sortOptions\n        }\n\n        if (sections) {\n            sections = sections.map(section => {\n\n                return {\n                    ...section,\n                    url: section.url.replace(\":siteName\", siteName)\n                }\n\n            })\n        }\n\n        const menuItem = {\n            ...child,\n            sections: sections,\n            children: children && children.length && getChildren({...child, children: children})\n        }\n\n        dispatch(receiveMenuItem(menuItem))\n\n        return menuItem\n\n    }\n\n    const getChildren = (parent) => {\n        let children = []\n  \n        parent.children.forEach((child) => {\n            child = getChild({...child, parent});\n            children.push(child);\n        });\n        \n        return children\n    }\n\n    const rootMenu = getChildren({\n        root: root,\n        children: menu,\n        collectionId: collectionId\n    })\n\n    dispatch(receiveMenu({menu: rootMenu}))\n    \n}\n\nexport const getPrimaryAction = ({primaryAction, root, collectionId}) => (dispatch) => {\n\n    const getChild = ({parent, children, url, pathname, search, query, viewOptions, sortOptions, ...item}) => {\n\n        if (pathname && pathname.startsWith(\"/\")) {\n            url = root + pathname\n        }\n\n        if (!url && parent.url) {\n            url = pathname && parent.url + \"/\" + pathname || parent.url\n        } else if (!url) {\n            url = pathname && root + \"/\" + pathname || root\n        }\n\n        if (url && search) {\n            url = url + \"?\" + search\n        }\n\n        const child = {\n            ...item,\n            root: parent.root,\n            url: url,\n        }\n\n        const menuItem = {\n            ...child,\n            children: children && children.length && getChildren({...child, children: children})\n        }\n\n        return menuItem\n\n    }\n\n    const getChildren = (parent) => {\n        let children = []\n  \n        parent.children.forEach((child) => {\n            child = getChild({...child, parent});\n            children.push(child);\n        });\n        \n        return children\n    }\n\n    const rootMenu = getChildren({\n        root: root,\n        children: [primaryAction],\n        collectionId: collectionId\n    })\n\n    dispatch(receivePrimaryAction({primaryAction: rootMenu[0]}))\n    \n}\n\nexport const getParents = ({url}) => (dispatch, getState) => {\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    let parent = false // url && menuByUrl && menuByUrl[url] \n\n    console.log('getParents', parent)\n\n    let parents = [];\n\n    if (parent) {\n\n        /*\n\n        while (parent) {\n            parents.push(parent)\n            parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n        }\n    \n        parents = parents.reverse()\n\n        */\n            \n    } else {\n\n        let path = [], pathUrl\n\n        const pathnames = url.split('/');\n\n        pathnames.map(pathname => {\n    \n            path.push(pathname)\n            pathUrl = path.join('/')\n    \n            console.log('parents by path', pathUrl)\n    \n    \n            if (menuByUrl[pathUrl]) {\n                parents.push(menuByUrl[pathUrl])\n            }\n    \n        })\n    \n    }\n \n    let parentsByUrl = {}\n\n    parents.map(parent => {\n        if (parent.url) {\n            parentsByUrl[parent.url] = parent\n        }\n    })\n\n    dispatch(receiveParents({parents, parentsByUrl}))\n  \n}\n\nexport const getMenuItem = (item) => (dispatch) => {\n    const { type = \"default\", url, children} = item\n\n    if (type === \"tree\") {\n        dispatch(getMenuTree(item))\n    } else if (children) {\n        dispatch(getMenuParent(item))        \n    } else if (url) {\n        dispatch(getMenuChild(item))\n    } \n    \n}\n\nconst getMenuParent = ({children, level = 0, ...parent}) => dispatch => {\n    dispatch(requestMenuItem(parent))\n\n    children.map((child) => {\n        dispatch(getMenuItem({\n            ...child,\n            parentUrl: parent.url,\n            level: level + 1\n        }))\n    })\n\n    dispatch(receiveMenuItem({\n        ...parent,\n        children: children,\n        level: level,\n    }))\n}\n\nconst getMenuChild = ({level, ...child}) => dispatch => {\n    dispatch(requestMenuItem(child))\n    dispatch(receiveMenuItem({\n        ...child,\n        level: level\n    }))\n}\n\nexport const getMenuTree = ({level = 0, ...parent}) => dispatch => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { query } = parent\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const {models, count } = results\n\n        const parentUrl = parent.url\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                level: level + 1,\n                parentId: parentUrl,\n                parentUrl: parentUrl,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(getMenuTreeNode(child))\n\n            return child\n\n        })\n\n        dispatch(receiveMenuItem({\n            ...parent,\n            id: parentUrl,\n            level: level,\n            parentUrl: parentUrl,\n            children: children,\n            count\n        }))\n\n    })\n\n}\n\nexport const getMenuTreeNode = (item) => (dispatch) => {\n\n    const { url, uniqueId } = item\n\n    const query = {\n        models: \"documents\",\n        uniqueId: uniqueId\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const model = results.models && results.models[0]\n        const parent = {\n            ...item,\n            ...model,\n            type: \"treeitem\",\n            url: url,\n            query: {\n                models: \"documents\",\n                parentId: model && model.id\n            }\n        }\n\n        dispatch(getMenuTreeChildren(parent))\n    \n    })\n\n}\n\nexport const getMenuTreeChildren = ({level = 0, ...parent}) => (dispatch) => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { parentUrl } = parent\n\n    const query = {\n        models: \"documents\",\n        parentId: parent.id\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const {models, count } = results\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                parentUrl: parentUrl,\n                level: level + 1,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(receiveMenuItem(child))\n\n            return child\n\n        })\n\n        if (children && children.length) {\n            parent = {\n                ...parent,\n                level: level,\n                count: count,\n                children: children\n            }\n        }\n \n        dispatch(receiveMenuItem({\n            ...parent,\n            level: level\n        }))\n         \n    })\n\n}\n\nexport const sortMenuTree = ({source, destination, item}) => (dispatch, getState) => {\n\n    const state = getState()\n    const finder = state.finder\n    const menuByUrl = finder.menuByUrl\n    const menuById = finder.menuById\n\n    const itemNode = item.id && menuById[item.id]\n\n    let sourceNode = source.url && {\n        ...menuByUrl[source.url],\n        children: [...menuByUrl[source.url].children]\n    }\n\n    sourceNode.children.splice(source.index, 1)\n\n    let destinationNode = destination.url && {\n        ...menuByUrl[destination.url],\n        children: menuByUrl[destination.url].children && [...menuByUrl[destination.url].children, itemNode] ||[itemNode]\n    }\n\n\n    dispatch(receiveMenuItem({\n        ...sourceNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...destinationNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...itemNode,\n        parentUrl: destinationNode.url,\n        parentId: destinationNode.id\n    }))\n\n    const id = itemNode.id;\n    const parentId = destinationNode.id\n\n    if (id && parentId === destinationNode.url) {\n        dispatch(saveModel({\n            id: id,\n            parentId: null\n        }))\n    } else if (id && parentId) {\n        dispatch(saveModel({\n            id: id,\n            parentId: parentId\n        }))\n    }\n\n}\n\nexport const { \n    requestFinder, receiveFinder, \n    requestMenu, receiveMenu,\n    requestPrimaryAction, receivePrimaryAction,\n    requestViewOptions, receiveViewOptions, receiveView,\n    requestSortOptions, receiveSortOptions, receiveSort,\n    requestMenuByUrl, receiveMenuByUrl, \n    requestMenuTree, receiveMenuTree, \n    requestMenuTreeItem, receiveMenuTreeItem, \n    requestMenuItem, receiveMenuItem, \n    moveMenuItem,\n    expandMenuItem, collapseMenuItem, toggleMenuItem, \n    requestParents, receiveParents } = finderByIdSlice.actions\n\nexport default finderByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getFinder } from \"../finder/\"\n\nconst appSlice = createSlice({\n    name: 'app',\n    initialState: {\n        icon: undefined,\n        isLoading: true,\n        title: undefined,\n        siteName: undefined,\n        siteTitle: undefined,\n        siteId: undefined,\n        collectionId: undefined,\n        header: {\n        },\n        subview: {\n            expanded: false\n        },\n        search: {\n        },\n        sidebar: {\n        }\n    }, \n    reducers: {\n        requestApp(state, action) {\n            const { root, icon, title, siteName, collectionType } = action.payload\n            return {\n                root: root,\n                icon: icon,\n                title: title,\n                siteName: siteName,\n                collectionType: collectionType,\n                isLoading: true,\n            }\n        },\n        receiveAppSite(state, action) {\n            const { id, title } = action.payload\n            return {\n                ...state,\n                siteId: id,\n                siteTitle: title\n            }\n        },\n        receiveAppCollection(state, action) {\n            const { id } = action.payload\n            return {\n                ...state,\n                collectionId: id,\n            }\n        },\n        receiveApp(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        requestSubview(state, action) {\n            return {\n                ...state,\n                subview: undefined,\n            }\n        },\n        receiveSubview(state, action) {\n            const { subview } = action.payload\n            return {\n                ...state,\n                subview: {\n                    ...state.subview,\n                    ...subview\n                },\n            }\n        },\n        requestLayout(state, action) {\n            return {\n                ...state,\n            }\n        },\n        receiveLayout(state, action) {\n            const { header, sidebar, subview } = action.payload\n            return {\n                ...state,\n                header: header,\n                sidebar: sidebar,\n                subview: subview\n            }\n        },\n        toggleSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: !state.search.expanded,\n                }\n            }\n        },\n        collapseSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: false,\n                }\n            }\n        },\n        toggleHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: !state.header.expanded,\n                }\n            }\n        },\n        toggleSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: !state.sidebar.expanded,\n                }\n            }\n        },\n        requestSchemasByName(state, action) {\n            return {\n                ...state,\n                schemasByName: {}\n            }\n        },\n        receiveSchemasByName(state, action) {\n            const { schemasByName } = action.payload\n            return {\n                ...state,\n                schemasByName: schemasByName\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const {menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n\n        },\n        receiveMenuItemByUrl(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        url: url\n                    }\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents\n            }\n        }\n    }\n})\n\nexport const getApp = (app) => dispatch => {\n    dispatch(requestApp(app))\n    dispatch(getAppProperties(app))\n}\n\nexport const getSiteApp = (app) => dispatch => {\n    dispatch(requestApp(app))\n    dispatch(getAppSite(app))\n}\n\nexport const getAppSite = ({siteName, ...app}) => dispatch => {\n\n    const query = qs.stringify({\n        name: siteName,\n        fl: \"id,name,title\"\n    })\n\n    const apiUrl = API + '/admin/api/sites/search?' + query;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const site = results.models && results.models[0] ||{}\n\n        dispatch(receiveAppSite(site))\n\n        dispatch(getAppCollection({\n            ...app,\n            siteId: site.id,\n            siteName: site.name,\n            siteTitle: site.title\n        }))\n\n    })\n\n}\n\nexport const getAppCollection = ({siteId, collectionType, ...app}) => dispatch => {\n\n    const query = qs.stringify({\n        siteId: siteId,\n        collectionType: collectionType,\n        fl: \"id,name,title\"\n    })\n\n    const apiUrl = API + \"/admin/api/collections/search?\" + query;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const collection = results.models && results.models[0] ||{}\n\n        dispatch(receiveAppCollection(collection))\n\n        dispatch(getAppProperties({\n            ...app,\n            collectionId: collection.id,\n        }))\n\n    })\n\n}\n\nexport const getAppProperties = (app) => dispatch => {\n\n    dispatch(receiveApp(app))\n    dispatch(getFinder(app))\n\n}\n\nexport const getSubview = (subview) => dispatch => {\n\n    dispatch(receiveSubview({\n        subview: subview\n    }))\n\n}\n\nexport const getLayout = (layout = \"default\") => dispatch => {\n\n    if (layout === \"editor\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: false\n            },\n            sidebar: {\n                expanded: false\n            },\n            subview: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: true\n            },\n            subview: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder/subview\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: false\n            },\n            subview: {\n                expanded: true\n            }\n        }))\n    }\n\n}\n\nexport const getAppSearch = ({expanded, q}) => dispatch => {\n    dispatch(toggleSearch({expanded, q}))  \n}\n\nexport const getParents = ({pathname}) => (dispatch, getState) => {\n\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    let parents = [];\n  \n    const pathnames = pathname.split('/');\n  \n    let url = '';\n  \n    pathnames.forEach((path) => {\n\n        if (path) {\n            url = url + '/' + path;\n        } else {\n            url = '/';\n        }\n    \n        if (menuByUrl && menuByUrl[url] && menuByUrl[url].title) {\n            parents.push(menuByUrl[url]);\n        }\n        \n        if (url == '/') {\n            url = '';\n        }\n\n    });\n\n    dispatch(receiveParents({parents:parents}))\n  \n}\n\nexport const getSchemasByName = ({schemas = []}) => dispatch => {\n\n    dispatch(requestSchemasByName())\n\n    let schemasByName = {}\n\n    schemas.map(schema => {\n\n        if (schema.name) {\n            schemasByName[schema.name] = schema\n        }\n\n    })\n\n    dispatch(receiveSchemasByName({schemasByName}))\n    \n}\n\nexport const getMenuItem = ({pathname}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    if (menuItem && menuItem.type === \"tree\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    if (menuItem && menuItem.type === \"treeitem\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    \n}\n \nconst getMenuTree = (parent) => dispatch => {\n\n    const { query } = parent\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => \n       dispatch(getMenuTreeChildren({parent, results}))\n    )\n\n}\n\nconst getMenuTreeChildren = ({parent, results}) => dispatch => {\n    const { models } = results;\n\n\n    let children = []\n\n    if (models) {\n        models.map((model) => {\n\n            const { template, query } = parent\n            const { collectionId, models } = query;\n\n            const { id, title, uniqueId } = model;\n                \n            let url = parent.url + \"/\" + uniqueId;\n        \n            const child = {\n                ...model,\n                template: template,\n                type: \"treeitem\",\n                pathname: url,\n                url: url,\n                query: {\n                    collectionId: collectionId,\n                    models: models,\n                    parentId: id\n                }\n            }\n            \n            children.push(child)\n        })\n    \n    }\n    \n    if (children.length) {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"tree\", count: children.length, children: children}))\n        \n        children.map((child) => {\n//            dispatch(receiveMenuItemByUrl(child))\n            dispatch(getMenuTree(child))\n        })\n        \n    } else {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"treeitem\"}))\n\n    }\n\n}\n\n\nconst getMenuChildren = ({children = [], level = 0}) => dispatch => {\n\n    children.forEach((child) => {\n\n        let item = {\n            ...child,\n            level: level\n        }\n\n        if (item.children) {\n            dispatch(getMenuChildren({children: item.children, level: level++}))\n        }\n\n        dispatch(receiveMenuItemByUrl(item))\n\n    });\n\n}\n\n/*\nexport const getMenuByUrl = ({menu = []}) => dispatch => {\n    dispatch(requestMenuByUrl())\n    dispatch(getMenuChildren({children: menu}))\n}*/\n\n\nexport const { \n    requestApp, receiveApp, \n    receiveAppSite, receiveAppCollection, \n    requestLayout, receiveLayout, \n    requestSubview, receiveSubview, \n    toggleHeader, \n    toggleSearch, collapseSearch,\n    toggleSidebar, \n    requestSchemasByName, \n    receiveSchemasByName, \n    requestMenu, receiveMenu, \n    toggleMenuItem, requestMenuByUrl, \n    receiveMenuByUrl, receiveMenuItemByUrl, \n    requestParents, receiveParents\n} = appSlice.actions\nexport default appSlice.reducer","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst ArticleIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M18.5 20.5L18.5 3.5L5.5 3.5L5.5 20.5H18.5ZM20 2L4 2L4 22H20V2Z\"/>\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"5\" height=\"1\" />\n        </SvgIcon>\n    )\n}\n\nexport default ArticleIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageHomeIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M11 16V13H13V16H15.5V12H17L12 7.5L7 12H8.5V16H11Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageHomeIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"4\" y=\"12\" width=\"16\" height=\"1\"/>\n            <rect x=\"15\" y=\"13\" width=\"1\" height=\"5\"/>\n            <rect x=\"10\" y=\"6\" width=\"1\" height=\"6\"/>\n        </SvgIcon>\n    )\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMediaIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M18 16.1382H6L9 12.2873L11.1382 14.8618L14.1382 11L18 16.1382Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageMediaIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"17\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1.5\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageListIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"8\" height=\"1\" />\n\n\n        </SvgIcon>\n    )\n\n}\n\nexport default PageListIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageAnnotateIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <circle cx=\"7\" cy=\"12\" r=\"1\"/>\n            <circle cx=\"12\" cy=\"8\" r=\"1\"/>\n            <rect x=\"15\" y=\"11\" width=\"1\" height=\"5\"/>\n            <rect x=\"13\" y=\"13\" width=\"5\" height=\"1\"/>\n\n\n\n\n        </SvgIcon>\n    )\n}\n\nexport default PageAnnotateIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMapIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <rect x=\"17.5355\" y=\"10\" width=\"1\" height=\"5\" transform=\"rotate(45 17.5355 10)\" />\n            <rect x=\"18.2426\" y=\"13.5355\" width=\"1\" height=\"5\" transform=\"rotate(135 18.2426 13.5355)\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1\" />\n            <circle cx=\"11\" cy=\"12\" r=\"1\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageMapIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageParentIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"9\" y=\"8\" width=\"6\" height=\"4\"/>\n            <rect x=\"5\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"10\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"15\" y=\"14\" width=\"4\" height=\"2\"/>\n        </SvgIcon>\n    )\n\n}\n\nexport default PageParentIcon","export default {\n    \"palette\": {\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        }\n    }\n}","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport theme from \"../app/kiosk/theme\"\nconst KioskAppIcon = (props) => <AppIcon {...props} variant=\"filled\" color={theme.palette.primary.main} text=\"Ki\" />\nexport default KioskAppIcon","import React from \"react\";\nimport PropTypes from \"prop-types\"\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst MenuIconFilled = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"currentColor\"\n    const color = \"white\"\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill=\"white\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst MenuIconOutlined = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"white\"\n    const color = \"currentColor\"\n    const borderColor = color\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={borderColor}></rect>\n            <rect x=\"3.5\" y=\"3.5\" width=\"17\" height=\"17\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill={color} fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst variants = {\n    \"outlined\": MenuIconOutlined,\n    \"filled\": MenuIconFilled,\n}\n\nconst MenuIcon = ({color, text, variant = \"outlined\", ...props}) => {\n    const IconTemplate = variants && variants[variant]\n\n    if (!IconTemplate) {\n        return \"<p>Failed</p>\"\n    }\n\n    return (\n        <IconTemplate color={color} text={text} {...props} />\n    )\n    \n}\n\nMenuIcon.propTypes = {\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default MenuIcon","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport MenuIcon from \"./MenuIcon\"\nconst KioskMenuIcon = () => <MenuIcon variant=\"filled\" text=\"Ki\" />\nexport default KioskMenuIcon","export default {\n    \"palette\": {\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        }\n    }\n}","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport theme from \"../app/kp/theme\"\nconst KpAppIcon = () => <AppIcon variant=\"outlined\" color={theme.palette.primary.main} text=\"Kp\" />\nexport default KpAppIcon","import React from \"react\"\nimport { AppIcon } from \"@kit-ui/icons\"\nimport MenuIcon from \"./MenuIcon\"\nconst KpMenuIcon = () => <MenuIcon variant=\"outlined\" text=\"Kp\" />\nexport default KpMenuIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M13.3333 10.6667H10.6667V13.3333H13.3333V10.6667ZM12.4444 12.4444H11.5556V11.5556H12.4444V12.4444ZM16 11.5556V10.6667H15.1111V9.77778C15.1111 9.28889 14.7111 8.88889 14.2222 8.88889H13.3333V8H12.4444V8.88889H11.5556V8H10.6667V8.88889H9.77778C9.28889 8.88889 8.88889 9.28889 8.88889 9.77778V10.6667H8V11.5556H8.88889V12.4444H8V13.3333H8.88889V14.2222C8.88889 14.7111 9.28889 15.1111 9.77778 15.1111H10.6667V16H11.5556V15.1111H12.4444V16H13.3333V15.1111H14.2222C14.7111 15.1111 15.1111 14.7111 15.1111 14.2222V13.3333H16V12.4444H15.1111V11.5556H16ZM14.2222 14.2222H9.77778V9.77778H14.2222V14.2222Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceMacIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M14.3442 11.5628C14.3325 10.475 15.2302 9.95122 15.2706 9.92587C14.7644 9.18771 13.978 9.08756 13.6979 9.07571C13.0284 9.00882 12.3924 9.47162 12.053 9.47206C11.7139 9.47256 11.1891 9.08932 10.6343 9.10057C9.90452 9.11204 9.23287 9.52639 8.85753 10.1798C8.10181 11.4962 8.66833 13.4436 9.40813 14.5094C9.76981 15.0304 10.2008 15.617 10.7662 15.595C11.3106 15.573 11.5159 15.2422 12.1736 15.2414C12.8314 15.2405 13.0171 15.592 13.5926 15.5803C14.1784 15.5692 14.5488 15.0472 14.9064 14.5233C15.3202 13.917 15.4898 13.3303 15.5 13.3001C15.4873 13.2943 14.3575 12.863 14.3442 11.5628Z\"/>\n            <path d=\"M13.2636 8.37228C13.564 8.00874 13.7658 7.50352 13.7106 7C13.2784 7.01756 12.755 7.28809 12.4446 7.65119C12.1666 7.97291 11.9231 8.48713 11.9889 8.98061C12.4707 9.01793 12.9633 8.73544 13.2636 8.37228Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceMacIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceWinIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M8 9.13617L11.2693 8.69092L11.2708 11.8445L8.00299 11.8631L8 9.13617ZM11.2678 12.2078L11.2703 15.3641L8.00254 14.9148L8.00235 12.1866L11.2678 12.2078ZM11.6641 8.63267L15.999 8V11.8044L11.6641 11.8388V8.63267ZM16 12.2375L15.999 16.0247L11.6641 15.4129L11.658 12.2304L16 12.2375Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceWinIcon","import React from \"react\"\n\nimport ArticleIcon from \"./ArticleIcon\"\n\nimport PageHomeIcon from \"./PageHomeIcon\"\nimport PageGridIcon from \"./PageGridIcon\"\nimport PageMediaIcon from \"./PageMediaIcon\"\nimport PageTimelineIcon from \"./PageTimelineIcon\"\nimport PageListIcon from \"./PageListIcon\"\nimport PageAnnotateIcon from \"./PageAnnotateIcon\"\nimport PageMapIcon from \"./PageMapIcon\"\nimport PageParentIcon from \"./PageParentIcon\"\n\nimport KioskAppIcon from \"./KioskAppIcon\"\nimport KioskMenuIcon from \"./KioskMenuIcon\"\n\nimport KpAppIcon from \"./KpAppIcon\"\nimport KpMenuIcon from \"./KpMenuIcon\"\n\nimport DeviceIcon from \"./DeviceIcon\"\nimport DeviceMacIcon from \"./DeviceMacIcon\"\nimport DeviceWinIcon from \"./DeviceWinIcon\"\n\nexport default {\n    \"kpApp\": <KpAppIcon />,\n    \"kpMenu\": <KpMenuIcon />,\n\n    \"kioskApp\": <KioskAppIcon />,\n    \"kioskMenu\": <KioskMenuIcon />,\n\n    \"article\": <ArticleIcon />,\n    \"pageHome\": <PageHomeIcon />,\n    \"pageGrid\": <PageGridIcon />,\n    \"pageMedia\": <PageMediaIcon />,\n    \"pageAnnotate\": <PageAnnotateIcon />,\n    \"pageTimeline\": <PageTimelineIcon />,\n    \"pageList\": <PageListIcon />,\n    \"pageMap\": <PageMapIcon />,\n    \"pageParent\": <PageParentIcon />,\n    \"pageTopic\": <PageParentIcon />,\n\n    \"device\": <DeviceIcon />,\n    \"deviceMac\": <DeviceMacIcon />,\n    \"deviceWin\": <DeviceWinIcon />\n\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Loader } from \"@kit-ui/admin\"\nimport icons from \"../icons/\"\n\nconst AppLoader = ({children, ...props}) => {\n\n    const pathname = props.location.pathname\n    const app = useSelector(state => state.app)\n\n    const { root, icon, siteId, title, siteName, siteTitle, collectionType, collectionId } = app\n\n    const isLoading = app.isLoading\n    const loadingTitle = title && title ||\"Loading app ...\"\n\n    let description = \"Loading \" + root + \"...\"\n\n    if (siteId) {\n        description = \"Site loaded: \" + siteTitle\n    }\n\n    if (collectionId) {\n        description = \"Collection loaded: \" + collectionId\n    }\n\n    const appIcon = icon && icons[icon]\n\n    return (\n        <Loader\n            icon={appIcon}\n            isLoading={isLoading}\n            title={loadingTitle}\n            description={description}>\n                {collectionId && children}\n        </Loader>\n    )\n\n}\n\nAppLoader.defaultProps = {\n}\n\nexport default AppLoader","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getParents } from '../redux/finder';\nimport { Loader } from \"@kit-ui/admin\"\nimport icons from \"../icons\"\n\nconst FinderLoader = ({children, ...props}) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const menuByUrl = finder.menuByUrl\n    const parent = menuByUrl[pathname] ||finder.parent\n\n    const appIcon = icons[app.icon]\n\n    const title = parent && parent.title ||app && app.title\n    const description = finder.isLoading && \"Loading finder ...\" ||\"Finder loaded\"\n\n    const isLoading = !pathname ||finder.isLoading ||false\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        pathname && dispatch(getParents({url: pathname}))\n    }, [pathname, finder.isLoading, parent])\n\n    return children\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={appIcon}\n            title={title}\n            description={description}>\n                {children}\n        </Loader>\n    )\n\n}\n\nFinderLoader.defaultProps = {\n}\n\nexport default FinderLoader","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getModels } from \"../modelsById\"\n\nconst searchByUrlSlice = createSlice({\n    name: 'search',\n    initialState: {\n    }, \n    reducers: {\n        requestSearch(state, action) {\n            const { models, url, page, apiUrl, query } = action.payload\n\n            if (state[url] && state[url].page) {\n                return {\n                    ...state,\n                    [url]: {\n                        ...state[url],\n                        isLoading: true,\n                        apiUrl: apiUrl,\n                        query: {\n                            ...query,\n                            models: models,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: true,\n                    apiUrl: apiUrl,\n                    query: {\n                        ...query,\n                        models: models,\n                    }\n                }\n            }\n        },\n        receiveError(state, action) {\n            const { url, error } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: false,\n                    error: error.toString()\n                }\n            }\n\n        },\n        receiveSearch(state, action) {\n            const { url, results } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    isLoading: false,\n                    results: results\n                }\n            }\n        },\n        receivePage(state, action) {\n            const { url, page, results } = action.payload\n\n            const { start, rows, count } = results\n\n            const pages = Math.ceil(count/rows)\n            const currentPage = Math.ceil((start+rows)/rows)\n\n            const resultsByPage = {\n                ...state[url].resultsByPage,\n                [page]: results.models\n            }\n\n            let resultsLoaded = []\n\n            Object.values(resultsByPage).map(page => {\n                resultsLoaded = resultsLoaded.concat(page)\n            })\n\n            let nextPage, prevPage\n\n            for (let p = page; p <= pages; p++) {\n                if (!resultsByPage[p]) {\n                    nextPage = p\n                    break\n                }\n            }    \n\n            for (let p = page; p >= 1; p--) {\n                if (!resultsByPage[p]) {\n                    prevPage = p\n                    break\n                }\n            }    \n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    count: count,\n                    start: start,\n                    rows: rows,\n                    page: currentPage,\n                    pages: pages,\n                    nextPage: nextPage,\n                    prevPage: prevPage,\n                    resultsByPage: resultsByPage,\n                    resultsLoaded: resultsLoaded\n                }\n            }\n\n        }\n    }\n})\n\nexport const getQuery = ({models, url, page = 1, ...query}) => dispatch => {\n\n    if (page > 1 && query.rows) {\n        query.start = query.rows * (page-1)\n    }\n\n    if (query.collectionId && query.collectionId === \"*\") {\n        delete query.collectionId\n    }\n\n    if (query.siteId && query.siteId === \"*\") {\n        delete query.siteId\n    }\n    \n    const sq = qs.stringify(query)\n\n    let apiUrl = API + '/admin/api/' + models + '/search';\n\n    if (sq) {\n        apiUrl = apiUrl + '?' + sq;\n    }\n\n    if (page === 1) {\n        dispatch(requestSearch({models, url, page, apiUrl, query}))\n    }\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        dispatch(receiveSearch({url, results}))\n        dispatch(receivePage({url, page, results}))\n\n//        results.models && dispatch(getModels(results))\n\n    })\n\n}\n\n\n\n\nexport const { requestSearch, receiveSearch, receivePage, receiveError } = searchByUrlSlice.actions\nexport default searchByUrlSlice.reducer","\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    bulk: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        transition: \".125s ease-out\",\n        marginLeft: \"100%\",\n\n        \"& + *\": {\n            transition: \".125s ease-out\",\n            marginRight: 0,\n        },\n\n        \"&[aria-expanded=true]\": {\n            marginLeft: \"50%\",\n\n            \"& + *\": {\n                marginRight: \"50%\"\n            }\n\n        }\n\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: 1,\n        \"& + *\": {\n            marginTop: theme.spacing(8),\n            marginLeft: theme.spacing(2),\n            marginRight: theme.spacing(2),\n        }\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },  \n    path: {\n        margin: theme.spacing(0,2),\n    },\n    settings: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        margin: theme.spacing(1)\n    }\n}));\n\nconst BulkLayout = ({\n    expanded = false,\n    parents,\n    settings,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.bulk} aria-expanded={expanded}>\n            <header className={classes.header}>\n                #header\n            </header>\n            <div className={classes.body}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nBulkLayout.defaultProps = {\n\n}\n\nBulkLayout.propTypes = {\n\n}\n\nexport default BulkLayout;","import React, { useState, useEffect } from 'react';\n// import { v4 as uuidv4 } from 'uuid';\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst FieldKioskPage = (props) => {\n    const {registry, formData, schema, uiSchema, formContext } = props;\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange(newFormData)\n    }\n\n    const _onAnnotateArrayChange = (links = []) => {\n        console.log('onAnnotateArrayChange', links)\n\n        handleChange({\n            ...formData,\n            links: links\n        })\n\n    }\n\n    const _onAnnotateImageChange = (links = []) => {\n        console.log('onAnnotateImageChange', links)\n\n        handleChange({\n            ...formData,\n            links: links\n        })\n \n    }\n\n    const annotateImage = formData && formData.backgroundImage\n    const imageAnnotations = formData && formData.links\n\n    let newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            annotateImage: annotateImage,\n            imageAnnotations: imageAnnotations,\n            onAnnotateArrayChange: _onAnnotateArrayChange,\n            onAnnotateImageChange: _onAnnotateImageChange,\n        }\n    }\n\n    /*\n    useEffect(() => {\n        newRegistry.formContext.imageAnnotations = imageAnnotations\n    }, [imageAnnotations])\n    */\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n    }\n\n    const newFormContext = newRegistry.formContext\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} \n            registry={newRegistry} \n            formContext={newFormContext} \n            uiSchema={newUiSchema}\n            onChange={handleChange} />\n    )\n\n\n}\n\nexport default FieldKioskPage","import React from 'react';\n\nconst ImageAnnotateArrayField = ({registry, ...props}) => {\n    const { ArrayField } = registry.fields;\n    const { onAnnotateArrayChange } = registry.formContext\n\n    return (\n        <ArrayField {...props} registry={registry} onChange={onAnnotateArrayChange} />\n    )\n\n}\n\nexport default ImageAnnotateArrayField;","\n\nimport KpPageField from \"./KpPageField\"\nimport KpAnnotateArrayField from \"./KpAnnotateArrayField\"\nimport KpAnnotateImageField from \"./KpAnnotateImageField\"\n\nexport default {\n    \"fields\": {\n        \"kpPage\": KpPageField,\n        \"kpAnnotateArray\": KpAnnotateArrayField,\n        \"kpAnnotateImage\": KpAnnotateImageField,\n    },\n    \"widgets\": {\n    },\n    \"models\": {\n    }\n}","import React, {useState, useEffect } from 'react';\nimport { ImageAnnotations } from \"@kit-ui/admin\"\n\nconst KioskAnnotateImageField = ({formContext, uiSchema, ...props}) => {\n    const { annotateImage = {}, imageAnnotations, onAnnotateImageChange } = formContext\n    const { mediaId, media, imageFilters } = annotateImage\n\n//    const uiOptions = getUiOptions(uiSchema)\n\n    return (\n        <ImageAnnotations imageUrl={media && media.imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} onChange={onAnnotateImageChange} />\n    )\n\n}\n\nexport default KioskAnnotateImageField;","import schema from \"./KpLink.schema\"\nimport uiSchema from \"./KpLink.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\",\n            \"filters\": [\"opacity\"]\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"textColor\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"textColor\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"module\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"link\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale ||formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"link\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\"\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markr\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    buttongroup: {\n        margin: props => { return theme.spacing(props.spacing/2 * -1) },\n        \"& > *\": {\n            margin: props => { return theme.spacing(props.spacing/2) },\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    label: {\n\n    }\n}));\n\nconst SectionButtons = ({className, spacing = 1, buttons = []}) => {\n\n    const classes = useStyles({spacing: 1})\n\n    if (!buttons.length) {\n        return null\n    }\n\n    const SectionButton = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n        \n        return (\n            <Button {...props} type=\"button\" data-size={size} data-variant={variant} disableElevation={true} color={color} variant={variant} size={size} className={classes.button}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon>}\n                <b className={classes.label}>{title}</b>\n            </Button>\n        )\n    \n    }\n    \n    return (\n        <ButtonGroup color=\"primary\" className={className ||classes.buttongroup}>\n            { buttons && buttons.map((button, index) => {\n                return (\n                    <SectionButton {...button} key={index} />\n                )\n            })}\n        </ButtonGroup>\n    )\n    \n}\n\nSectionButtons.defaultProps = {\n    \"spacing\": 1\n}\n\nSectionButtons.propTypes = {\n    buttons: PropTypes.array,\n    buttonGroupProps: PropTypes.object,\n    buttonProps: PropTypes.object\n}\n\nexport default SectionButtons;","import React, { Component } from 'react';\nimport { ImagePreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport KpLinkButtons from './KpLinkButtons';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n\n        minHeight: 256,\n\n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n    buttons: {\n        zIndex: 2,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    preview: {\n        margin: 0\n    }\n}));\n\nconst KpLinkMediaLayout = (props) => {\n\n    const {mediaId, media, referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const mediaButtons = [\n        {\n            icon: \"remove_circle\",\n            title: \"Remove\",\n            variant: \"text\",\n            size: \"small\",\n            onClick: () => onChange({mediaId: undefined, media: {}})\n        }\n    ]\n\n    const buttons = [\n        {\n            icon: \"search\",\n            title: \"Finn media\",\n            color: \"inherit\",\n            size: \"small\",\n            onClick: () => onDialog(props)\n        }\n    ]\n\n    const imageUrl = mediaId && media && media.imageUrl || referenceId && reference && reference.imageUrl;\n\n    if (media && media.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={media.imageUrl} />\n                <KpLinkButtons className={classes.buttons} buttons={mediaButtons} />\n            </div>\n        )\n    }\n\n    if (referenceId && reference && reference.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={reference.imageUrl} />\n                <KpLinkButtons className={classes.buttons} buttons={buttons} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.root} data-name=\"media\">\n            <KpLinkButtons className={classes.buttons} buttons={buttons} />\n        </div>\n    )\n\n}\n\nexport default KpLinkMediaLayout","import React, { Component } from 'react';\nimport { ListModule } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\n\nconst useStyles = makeStyles(theme => ({\n    reference: {\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        \n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n}));\n\nconst KpLinkReferenceLayout = (props) => {\n\n    const {referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const _onAddLink = () => {\n        onDialog && onDialog(props)\n    }\n\n    const _onRemoveLink = () => {\n        onChange && onChange({\n            referenceId: undefined, \n            reference: {}\n        })\n    }\n\n    const LinkAddButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkIcon />\n            </IconButton>\n        )\n    }\n\n    const LinkRemoveButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkOffIcon />\n            </IconButton>\n        )\n    }\n\n\n    if (referenceId && reference) {\n        return (\n            <div className={classes.reference}>\n                <ListModule {...reference} startAdornment={<LinkRemoveButton onClick={_onRemoveLink} />} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.reference} onClick={_onAddLink}>\n            <ListModule untitled=\"Add a link\" startAdornment={<LinkAddButton />} />\n        </div>\n    )\n\n}\n\nexport default KpLinkReferenceLayout","import React, { Component } from 'react';\n\n//import KpLinkContentLayout from \"./KpLinkContentLayout\"\nimport KpLinkMediaLayout from \"./KpLinkMediaLayout\"\nimport KpLinkReferenceLayout from \"./KpLinkReferenceLayout\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KpLinKContentField = (props) => {\n\n    const { formData, formContext, schema, uiSchema, registry} = props\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n    const mediaType = media && media.mediaType\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n    const referenceDescription = reference && reference.description\n\n    /*\n    const imageUrl = media.imageUrl || reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n    */\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const _onMediaChange = ({mediaId, media}) => {\n\n        console.log('MEDIA change', media)\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            mediaId: mediaId,\n            media: media\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onMediaDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    mediaId: schema.properties.mediaId,\n                    media: schema.properties.media\n                }\n            },\n            formData: {\n                mediaId: mediaId,\n                media: media\n            },\n            onChange: _onMediaChange\n        })\n\n    }\n\n    const _onReferenceChange = ({referenceId, reference}) => {\n\n        console.log(\"KpLink:onChange\", referenceId)\n\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            referenceId: referenceId,\n            reference: reference\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onReferenceDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    referenceId: schema.properties.referenceId,\n                    reference: schema.properties.reference\n                }\n            },\n            onChange: _onReferenceChange\n        })\n\n    }\n    \n    const newUiSchema = {\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n            \"grid\": true,\n        },\n        \"linkMedia\": {\n            \"ui:layout\": KpLinkMediaLayout,\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\",\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:xs\": 4,\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": media,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:onDialog\": _onMediaDialog,\n            \"ui:onChange\": _onMediaChange,\n        },\n        \"linkContent\": {\n            \"ui:xs\": 8,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                ...uiSchema.linkContent.runningHead,\n                \"color\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\",\n                \"ui:placeholder\": referenceTitle,\n                ...uiSchema.linkContent.title,\n                \"titleColor\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n                \"ui:placeholder\": referenceDescription,\n                \"ui:widget\": \"textarea\"\n            },\n        },\n        \"linkReference\": {\n            \"ui:layout\": KpLinkReferenceLayout,\n            \"ui:xs\": 12,\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:dialog\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:onDialog\": _onReferenceDialog,\n            \"ui:onChange\": _onReferenceChange,\n        },\n    }\n\n    const {ObjectField } = registry.fields\n\n\n    return <ObjectField {...props} uiSchema={newUiSchema} />\n\n    return (\n        <p>{JSON.stringify(uiSchema)}</p>\n    )\n\n}\n\nexport default KpLinKContentField","import React, { Component } from 'react';\nimport Color from 'color';\nimport model from \"./KpLink.model\"\n\nimport KpLinkContentField from \"./KpLinkContentField\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\n\n\nconst KpLinkField = (props) => {\n    const {formData, formContext, registry } = props\n\n\n    const schema = {\n        ...model.schema,\n//        ...props.schema\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:layout\": \"kpLink\"\n    }\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n\n    const imageUrl = media.imageUrl || referenceId && reference && reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const getContrastColor = (hex) => {\n        const color = Color(hex)\n        return color.isLight() && \"black\" || \"white\"\n    }\n\n    const _onChange = (formData) => {\n\n        if (formData.backgroundColor !== backgroundColor) {\n            formData.color = getContrastColor(formData.backgroundColor)\n        }\n\n        if (formData.color !== color) {\n            formData.titleColor = formData.color\n        }\n\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange && props.onChange(newFormData)\n    }\n\n    const _onCropChange = (imageCropdata) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageCropdata: imageCropdata\n        })\n    }\n\n    const _onFocalpoint = (imageFocalpoint) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFocalpoint: imageFocalpoint\n        })\n    }\n\n    const _onFiltersChange = (imageFilters) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFilters: imageFilters\n        })\n     }\n    \n    const getUiSchema = () => {\n        const uiOptions = getUiOptions(uiSchema);\n\n        let fieldset = []\n\n        const uiPreview = {\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": mediaId,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:imageUrl\": imageUrl,\n            \"ui:imageCropdata\": imageCropdata,\n            \"ui:imageFilters\": imageFilters,\n            \"ui:imageFocalpoint\": imageFocalpoint,\n        }\n\n        let newUiSchema = {}\n\n        if (uiSchema.content) {\n            newUiSchema.content = {\n                ...uiSchema.content,\n                ...uiPreview,\n\n                \"ui:field\": KpLinkContentField,\n\n            }\n\n            fieldset.push('content')\n\n        }\n\n        if (uiSchema.imageCropdata && imageUrl) {\n            newUiSchema.imageCropdata = {\n                ...uiSchema.imageCropdata,\n                ...uiPreview,\n                \"ui:onChange\": (cropdata) => _onCropChange(cropdata),\n            }\n\n            fieldset.push('imageCropdata')\n        }\n\n        if (uiSchema.imageFocalpoint && imageUrl) {\n            newUiSchema.imageFocalpoint = {\n                ...uiSchema.imageFocalpoint,\n                ...uiPreview,\n                \"ui:onChange\": (focalpoint) => _onFocalpoint(focalpoint),\n            }\n\n            fieldset.push('imageFocalpoint')\n\n        }\n\n        if (uiSchema.imageFilters && imageUrl) {\n            newUiSchema.imageFilters = {\n                ...uiSchema.imageFilters,\n                ...uiPreview,\n                \"ui:onChange\": (filters) => _onFiltersChange(filters),\n            }\n\n            fieldset.push('imageFilters')\n        }\n\n        if (formContext.pageType === \"annotate\") {\n            newUiSchema.imageAnnotations = {\n                ...uiSchema.imageAnnotations,\n                ...uiPreview\n            }\n\n            fieldset.push('imageAnnotations')\n        }\n\n        return {\n            ...uiSchema,\n            ...newUiSchema,\n            \"ui:options\": uiOptions,\n            \"ui:fieldset\": fieldset,\n            \"color\": {\n                ...uiSchema.color,\n                \"ui:backgroundColor\": formData && formData.backgroundColor\n            },\n            \"link\": {\n                ...newUiSchema.link,\n                \"linkContent\": {\n                    ...newUiSchema.content.linkContent,\n                    \"titleColor\": {\n                        \"ui:backgroundColor\": formData && formData.backgroundColor\n                    }\n                }\n            }\n        }\n\n    }\n\n    const newUiSchema = getUiSchema()\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} schema={schema} uiSchema={newUiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default KpLinkField","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '@material-ui/core/Badge';\n\nimport {\n    ModuleBase,\n    ModuleMedia,\n    ModuleTitle,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline,\n    NavToolbar,\n    NavSettings\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n\n            \"& *\": {\n                pointerEvents: \"none\"\n            },\n\n            \"&[aria-selected=true]\": {\n            },\n\n        },\n\n        \"&[data-elevated=true]\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1)\n        },\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&.sortable-helper\": {\n            borderTopColor: \"transparent\",\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n            \"& $settings\": {\n                display: \"none\"\n            },\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n        },\n\n        \"&[data-status=erased]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n        \"&[data-status=trash]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n    },\n    badge: {\n        \"& .MuiBadge-badge\": {\n            pointerEvents: \"none\",\n            margin: theme.spacing(1)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n        \n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },\n    media: {\n        display: \"flex\",\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst StartAdornment = ({startAdornment, badgeContent}) => {\n\n    const classes = useStyles({})\n\n    return (\n        <Badge className={classes.badge} badgeContent={badgeContent} color=\"primary\">\n            {startAdornment}\n        </Badge>\n    )\n\n}\n\nconst ListModule = ({imageUrl, untitled, typeLabel, type, title, description, metadata, status, statusLabel, author, datetime, selected, onClick, ...props }) => {\n    const classes = useStyles({})\n\n    return (\n        <ModuleBase {...props} className={classes.module} role={onClick && \"button\"} status={status} selected={selected} onClick={onClick}>\n            <StartAdornment {...props} />\n            <div className={classes.media}>\n                <ModuleMedia backgroundColor=\"transparent\" imageUrl={imageUrl} width=\"48px\" height=\"48px\" />\n            </div>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && props.onEdit} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel ||status} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={typeLabel || type} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n            <NavSettings {...props} className={classes.settings} />\n            <NavToolbar {...props} className={classes.toolbar} />\n        </ModuleBase>\n    )    \n\n}\n\nListModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleBase,\n    ModuleFormat,\n    ModuleHeader,\n    ModuleBody,\n    ModuleFooter,\n    ModuleButtons,\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        position: \"relative\",\n        flexGrow: 1,\n        padding: theme.spacing(2)\n    },\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n//        padding: props => { return theme.spacing(props.padding) }\n    }\n\n}));\n\nconst ExpandedModule = ({id, children, buttons, ...props }) => {\n    const classes = useStyles(props)\n\n    return (\n        <ModuleBase className={classes.module} id={id} expanded={true} elevation={4}>\n            <ModuleFormat {...props}>\n                <ModuleHeader {...props} className={classes.header} />\n                <ModuleBody className={classes.body}>\n                    {children}\n                </ModuleBody>\n            </ModuleFormat>\n            <ModuleFooter {...props} className={classes.footer}>\n                {buttons && <ModuleButtons buttons={buttons} />}\n            </ModuleFooter>\n        </ModuleBase>\n    )    \n\n}\n\nExpandedModule.propTypes = {\n    title: PropTypes.string,\n    menu: PropTypes.array,\n    buttons: PropTypes.array,\n    children: PropTypes.node\n}\n\nexport default ExpandedModule;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport KpLinkCollapsed from \"./KpLinkCollapsed\"\nimport KpLinkExpanded from \"./KpLinkExpanded\"\n\nconst KpLinkLayout = ({\n    editable,\n    expanded,\n    buttons,\n    onSave,\n    children,\n    ...props\n}) => {\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onSave\n                }\n            ]\n        }\n\n        return (\n            <KpLinkExpanded {...props} buttons={buttons}>\n                {children}\n            </KpLinkExpanded>\n        )\n    }\n\n    return (\n        <KpLinkCollapsed\n            {...props}\n            editable={editable}\n        />\n    )\n\n}\n\nKpLinkLayout.defaultProps = {\n    padding: 2,\n    editable: true\n}\n\nKpLinkLayout.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default KpLinkLayout;\n","import KpLinkField from \"./KpLinkField\"\nimport KpLinkLayout from \"./KpLinkLayout\"\nimport KpLinkMediaLayout from \"./KpLinkMediaLayout\"\n\nexport default {\n    \"fields\": {\n        \"kpLink\": KpLinkField,\n        \"kpLinkLayout\": KpLinkLayout,\n        \"kpLinkMediaLayout\": KpLinkMediaLayout,\n    },\n    \"widgets\": {\n    },\n    \"models\": {\n    }\n}","import React from 'react';\n\nconst KpDeviceField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props;\n\n    const setStartPageId = (startPageId) => {\n        props.onChange({\n            ...formData,\n            startPageId: startPageId\n        })\n    }\n\n    const startPageId = formData && formData.startPageId\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            startPageId: startPageId,\n            setStartPageId: setStartPageId\n        }\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} registry={newRegistry} />\n    )\n\n\n}\n\nexport default KpDeviceField","import KpDeviceField from \"./KpDeviceField\"\nimport KpDeviceLinkField from \"./KpDeviceLinkField\"\n\nexport default {\n    \"fields\": {\n        \"kpDevice\": KpDeviceField,\n        \"kpDeviceLink\": KpDeviceLinkField,\n    },\n    \"widgets\": {\n    },\n    \"models\": {\n    }\n}","import React from 'react';\nimport { ListModule, ExpandedModule, ModuleLabel } from \"@kit-ui/admin\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\n\nconst KpDeviceLinkField = ({\n    formData,\n    formContext,\n    children,\n    ...props\n}) => {\n\n    const { startPageId, setStartPageId } = formContext\n    const { referenceId, reference }= formData\n\n    const isStartPage = startPageId && referenceId === startPageId\n\n    const toggleStartPage = (id) => {\n        setStartPageId && setStartPageId(id)\n    }\n\n\n\n    const StartPageSettings = () => {\n\n        if (isStartPage) {\n            return (\n                <ButtonBase onClick={() => toggleStartPage(undefined)}>\n                    <ModuleLabel backgroundColor=\"black\">Startpage</ModuleLabel>\n                </ButtonBase>\n            )\n        }\n\n        return (\n            <ButtonBase onClick={() => toggleStartPage(referenceId)}>\n                <ModuleLabel>Startpage</ModuleLabel>\n            </ButtonBase>\n        )\n    }\n\n    const settings = [\n        StartPageSettings\n    ]\n\n    if (props.editable && props.expanded) {\n        return (\n            <ExpandedModule {...props}>\n                {children}\n            </ExpandedModule>\n        )\n    }\n\n    return (\n        <ListModule\n            {...reference}\n            onEdit={undefined}\n            elevation={1}\n            settings={settings}\n        />\n    )\n\n}\n\nexport default KpDeviceLinkField;\n","\nimport React, { Component } from 'react';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst GeopointField = (props) => {\n    const { registry, schema, uiSchema, formData, formContext } = props\n    const { ObjectField } = registry.fields;\n\n    const _onChange = (formData) => {\n \n        const newFormData = getDefaultFormState(schema, formData)\n        \n        console.log('GeopointField:onChange', newFormData)\n\n        if (props.onChange) {\n            props.onChange(newFormData);\n        }\n        \n    }   \n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:location\": formData ||{},\n        \"ui:onChange\": _onChange\n    }\n\n    return (\n        <ObjectField {...props} onChange={_onChange} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default GeopointField;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointLoader = () => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n                Loading ...\n        </div>\n    )        \n\n}\n\nexport default GeopointLoader;","import React, { memo } from 'react';\nimport { LoadScript } from '@react-google-maps/api';\nimport GeopointLoader from \"./GeopointLoader\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointBase = ({className, googleMapsApiKey, children, onClick}) => {\n    const classes = useStyles()\n\n\n    return (\n        <div className={className ||classes.root} onClick={onClick}>\n            <LoadScript\n                libraries={[\"places\"]}\n                loadingElement={GeopointLoader}\n                googleMapsApiKey={googleMapsApiKey}\n                preventGoogleFontsLoading={true}>\n                    {children}\n            </LoadScript>\n        </div>\n    )        \n\n}\n\nGeopointBase.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n}\n\nexport default memo(GeopointBase);","import React, { useState } from 'react';\nimport { GoogleMap } from '@react-google-maps/api';\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    map: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointMap = ({id = \"map\", className, center, zoom, onChange, onClick, options, children}) => {\n    const [map, setMap]= useState(null) \n\n    const handleChange = () => {\n        map && onChange && onChange(map)\n    }\n\n    const classes = useStyles()\n\n    if (onClick) {\n        return (\n            <GoogleMap\n                id={id}\n                options={{\n                    draggable: false,\n                    zoomControl: false,\n                    scaleControl: false,\n                    mapTypeControl: false,\n                    fullscreenControl: false,\n                    streetViewControl: false,\n                }}\n                clickableIcons={false}\n                mapContainerClassName={className ||classes.map}\n                center={center}\n                zoom={zoom}\n                onClick={onClick}\n                onLoad={(map) => setMap(map)}>\n                {children}\n            </GoogleMap>\n        )\n    }\n    \n    return (\n        <GoogleMap\n            id={id}\n            options={options}\n            clickableIcons={false}\n            mapContainerClassName={className ||classes.map}\n            center={center}\n            zoom={zoom}\n            onLoad={(map) => setMap(map)}\n            onZoomChanged={handleChange}\n            onDragEnd={handleChange}\n        >\n            {children}\n        </GoogleMap>\n    )        \n\n}\n\nGeopointMap.defaultProps = {\n    options: {\n        scaleControl: false,\n        draggable: false,\n        mapTypeControl: false,\n        fullscreenControl: false,\n        streetViewControl: false\n    },\n    center: {\n        lat: undefined,\n        lng: undefined,\n    },\n    zoom: 12\n}\n\nexport default GeopointMap;","import React, { useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%,-50%)\",\n        pointerEvents: \"none\",\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n    },\n    point: {\n        position: \"absolute\",\n        backgroundColor: \"white\",\n        borderRadius: \"50%\",\n        width: \"100%\",\n        height: \"100%\",\n        opacity: 0.25\n    },\n    crosshair: {\n        position: \"absolute\",\n        display: \"block\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    crosshairX: {\n        display: \"block\",\n        position: \"absolute\",\n        left: \"-15%\",\n        top: \"50%\",\n        backgroundColor: \"black\",\n        width: \"130%\",\n        height: \"1px\"\n    },\n    crosshairY: {\n        display: \"block\",\n        position: \"absolute\",\n        left: \"50%\",\n        top: \"-15%\",\n        backgroundColor: \"black\",\n        width: \"1px\",\n        height: \"130%\"\n    }\n}));\n\nconst GeopointMapCenter = ({size = 8}) => {\n\n    const classes = useStyles({size})\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.point}>\n            </div>\n            <div className={classes.crosshair}>\n                <div className={classes.crosshairX}></div>\n                <div className={classes.crosshairY}></div>\n            </div>\n        </div>\n    )\n\n}\n\nexport default GeopointMapCenter;","import React, { useState, useEffect } from 'react';\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\n\nconst GeopointPreview = ({id = \"map\", location, onClick}) => {\n    const { lat, lng, zoom } = location\n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <GeopointMap id={id + \"-preview\"} center={center} zoom={zoom} onClick={onClick}>\n            <GeopointMapCenter />\n        </GeopointMap>\n    )        \n}\n\nGeopointPreview.defaultProps = {\n}\n\nexport default GeopointPreview;","import React, { useState } from 'react';\nimport { Autocomplete } from '@react-google-maps/api';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n\n    },\n    input: {\n        backgroundColor: \"white\",\n\n        \"& .MuiFilledInput-root\": {\n//            backgroundColor: \"rgba(255,255,255,.9)\",\n\n            \"&.Mui-focused\": {\n                backgroundColor: \"white\"\n            }\n\n        }\n\n        \n    }\n}));\n\nconst GeopointAutocomplete = ({className, onChange}) => {\n    const [autocomplete, setAutocomplete]= useState(null) \n\n    const handleChange = () => {\n        if (autocomplete !== null) {\n            onChange && onChange(autocomplete.getPlace())\n        } else {\n            console.log('Autocomplete is not loaded yet!')\n        }        \n    }\n\n    const classes = useStyles()\n\n    return (\n        <div className={className ||classes.root}>\n            <Autocomplete\n                options={{\n                    types: \"geocode\"\n                }}\n                onLoad={(autocomplete) => setAutocomplete(autocomplete)}\n                onPlaceChanged={handleChange}\n            >\n                <TextField className={classes.input} label=\"Find location\" placeholder=\"Enter a place\" variant=\"filled\" fullWidth />\n            </Autocomplete>\n      </div>\n    )        \n\n}\n\nexport default GeopointAutocomplete;","import React, { memo, useEffect } from 'react';\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\nimport GeopointSearch from \"./GeopointSearch\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: \"fixed\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        zIndex: 2000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    geocoder: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: theme.spacing(4)\n    },\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        margin: theme.spacing(2)\n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: \"auto\",\n        margin: theme.spacing(2.5)\n\n    }\n}));\n\nconst GeocoderOverlay = ({id = \"map\", location, onChange, onClose}) => {\n    const { lat, lng, zoom } = location;\n\n    const _onChange = (location) => {\n        onChange && onChange(location)\n    }\n\n    const _onMapChange = (map) => {\n        console.log('map', map)\n\n        let lat, lng\n\n        if (map && map.center) {\n            lat = map.center.lat()\n            lng = map.center.lng()\n        }\n            \n        const zoom = map && map.zoom;\n\n        if (lat && lng) {\n            _onChange({\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const _onSearch = (place) => {\n        console.log('place', place)\n\n        let lat, lng\n\n        if (place && place.geometry && place.geometry.location) {\n            lat = place.geometry.location.lat()\n            lng = place.geometry.location.lng()\n        }\n\n        if (lat && lng) {\n            _onChange({\n                placeId: place && place.place_id,\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const classes = useStyles() \n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <div className={classes.overlay}>\n            <div className={classes.geocoder}>\n                <GeopointMap id={id + \"-editor\"} center={center} zoom={zoom} onChange={_onMapChange}>\n                    <GeopointMapCenter />\n                    <GeopointSearch className={classes.search} onChange={_onSearch} />\n                </GeopointMap>\n\n                <IconButton className={classes.closeButton} onClick={() => onClose()}>\n                    <CloseIcon></CloseIcon>\n                </IconButton>\n            </div>\n        </div>\n    )        \n}\n\nGeocoderOverlay.defaultProps = {\n    formData: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default GeocoderOverlay;","import React, { useState, useEffect } from 'react';\nimport GeopointBase from \"./GeopointBase\"\nimport GeopointPreview from \"./GeopointPreview\"\nimport GeocoderEditor from \"./GeopointEditor\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        width: \"100%\",\n        position: props => { return props.position },\n        flexBasis: props => { return props.minWidth },\n        minWidth: props => { return props.minWidth },\n        minHeight: props => { return props.minHeight },\n    },\n}));\n\nconst Geopoint = (props) => {\n    const { id, position = \"relative\", minWidth = 164, minHeight = 164, googleMapsApiKey, location } = props;\n    const { lat, lng, zoom } = location\n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    const classes = useStyles({position, minWidth, minHeight})\n\n    const [overlay, setOverlay] = useState(false)\n\n    const _onEdit = () => {\n        setOverlay(true)\n    }\n\n    const _onClose = () => {\n        setOverlay(false)\n    }\n\n    return (\n        <GeopointBase\n            className={classes.root}\n            googleMapsApiKey={googleMapsApiKey}>\n                <GeopointPreview {...props} onClick={_onEdit} />\n                {overlay && <GeocoderEditor {...props} onClose={() => _onClose()} /> }\n        </GeopointBase>\n    )        \n}\n\nGeopoint.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    location: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default Geopoint;","import React, { memo } from 'react';\nimport GeopointBase from \"./GeopointBase\"\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\nimport GeopointSearch from \"./GeopointSearch\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    geocoder: {\n        backgroundColor: \"#e5e3df\",\n        width: \"100%\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        margin: theme.spacing(2)\n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: \"auto\",\n        margin: theme.spacing(2)\n\n    }\n}));\n\nconst Geocoder = ({googleMapsApiKey, location, onChange, onClose}) => {\n    const { lat, lng, zoom } = location;\n\n    const handleChange = (location) => {\n        onChange && onChange(location)\n    }\n\n    const handleMapChange = (map) => {\n        console.log('map', map)\n\n        let lat, lng\n\n        if (map && map.center) {\n            lat = map.center.lat()\n            lng = map.center.lng()\n        }\n            \n        const zoom = map && map.zoom;\n\n        if (lat && lng) {\n            handleChange({\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const handleSearch = (place) => {\n        console.log('place', place)\n\n        let lat, lng\n\n        if (place && place.geometry && place.geometry.location) {\n            lat = place.geometry.location.lat()\n            lng = place.geometry.location.lng()\n        }\n\n        if (lat && lng) {\n            handleChange({\n                placeId: place && place.place_id,\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const classes = useStyles() \n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <GeopointBase\n            className={classes.root}\n            googleMapsApiKey={googleMapsApiKey}>\n                <GeopointMap center={center} zoom={zoom} onChange={handleMapChange}>\n                    <GeopointMapCenter />\n                    <GeopointSearch className={classes.search} onChange={handleSearch} />\n                </GeopointMap>\n\n                {onClose && <IconButton className={classes.closeButton} onClick={() => onClose()}>\n                    <CloseIcon></CloseIcon>\n                </IconButton> }\n\n        </GeopointBase>\n    )        \n}\n\nGeocoder.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    location: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default Geocoder;","import GeopointField from './GeopointField';\n\nimport Geopoint from './Geopoint';\nimport Geocoder from './Geocoder'\n\nexport default {\n    \"fields\": {\n        \"kpGeopoint\": GeopointField,\n        \"kpGeopointLayout\": Geopoint,\n        \"kpGeocoderLayout\": Geocoder,\n    },\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst ParentIdField = (props) => {\n    const { formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    const query = {\n        url: pathname + \"/parentId\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        collectionId && pathname && dispatch(getQuery(query))\n    }, [pathname])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded ||[]\n        // const options = models.length && getOptionsTree(models) ||[]\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No parentId\"\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const {SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default ParentIdField","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeView: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        \n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n    },\n\n}));\n\nconst TreeView = ({droppable, children, ...props}) => {\n\n    const classes = useStyles();\n\n    if (droppable && droppable.provided) {\n        const {provided, snapshot } = droppable\n        const {droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeView}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeView}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeView","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeList: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n    },\n\n}));\n\nconst TreeList = ({droppable, children, ...props}) => {\n\n    const classes = useStyles();\n\n    if (droppable && droppable.provided) {\n        const {provided, snapshot } = droppable\n        const {droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeList}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeList}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeList","import React, { useEffect, useState } from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport DragIcon from '@material-ui/icons/DragHandle';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { ModuleBase, ModuleTitle, NavToolbar } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            maxHeight: theme.spacing(6),\n\n            \"& $toolbar\": {\n                display: \"none\"\n            },\n\n            \"& $children\": {\n                display: \"none\"\n            },\n\n            \"& $toggle\": {\n                display: \"none\"\n            },\n\n            \"& $level\": {\n                marginLeft: 0\n            }\n\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n    },\n    children: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    toolbar: {\n\n    },\n    level: {\n        marginLeft: props => {return props.level * 48 },\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    },\n    content: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n    },\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 24,\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    toggle: {\n        width: 48,\n        position: \"absolute\",\n        left: -48,\n\n        \"& $toggleIcon\": {\n            transition: \".125s ease-in-out\",\n            transform: \"rotate(-90deg)\",\n        },\n\n        \"&[aria-expanded=true] $toggleIcon\": {\n//            transition: \".125s ease-in-out\",\n            transform: \"rotate(0deg)\"\n        },\n    },\n    toggleIcon: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\",\n    }\n\n}));\n\nconst TreeModule = ({\n    selectable,\n    selected,\n    onSelect,\n    collapsible, \n    expanded = false,\n    onToggle,\n    draggable, \n    level, \n    title,\n    imageUrl,\n    icon, \n    renderChildren,\n...props}) => {\n\n    const classes = useStyles({level});\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ButtonToggle = ({onClick}) => {\n    \n        return (\n            <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded}>\n                <ToggleIcon className={classes.toggleIcon} />\n            </IconButton>\n        )\n    }\n\n    const ModuleContent = () => {\n\n        return (\n            <div className={classes.content}>\n                <div className={classes.media}>\n                    { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { imageUrl && <img className={classes.image} src={imageUrl} /> }\n                </div>\n                <ModuleTitle>{title}</ModuleTitle>\n            </div>\n\n        )\n\n    }\n\n    const _onToggle = (event) => {\n        event.stopPropagation()\n        onToggle && onToggle()\n    }\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n    if (draggable && draggable.provided) {\n\n        const {provided, snapshot, } = draggable\n        const {isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module}\n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={_onSelect}>\n                <div className={classes.level}>\n                    {collapsible && <ButtonToggle onClick={_onToggle} /> || \"\" }\n                    <DragHandle dragHandleProps={provided.dragHandleProps} />\n                    <ModuleContent />\n                    <NavToolbar {...props} className={classes.toolbar} />\n                </div>\n                {renderChildren && <div className={classes.children}>{renderChildren()}</div> }\n            </div>\n        )\n    \n\n    }\n\n\n    return (\n        <div className={classes.module} onClick={_onSelect}>\n            <div className={classes.level}>\n                {collapsible && <ButtonToggle onClick={onToggle} /> }\n                <ModuleContent />\n            </div>\n            {renderChildren && <div className={classes.children}>{renderChildren()}</div> }\n        </div>\n    )\n\n}\n\nexport default TreeModule","import React, {forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ViewHeader, ViewPages } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    columnView: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n    },\n    columns: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1\n        },\n\n        \"& > * + *\": {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n    },\n\n}));\n\nconst ColumnView = ({children}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <div className={classes.columnView}>\n            <ViewHeader />\n            <div className={classes.columns}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nexport default ColumnView;","import React, {forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    column: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"&:hover\": {\n                width: theme.spacing(32),\n                minWidth: theme.spacing(32),\n            }\n\n        }\n\n    },\n\n}));\n\nconst ColumnList = ({droppable, expanded, children, ...props}) => {\n\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    if (droppable) {\n        const {provided, snapshot } = droppable\n        const {droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div data-is-dragging-over={isDraggingOver} className={classes.column} {...droppableProps} ref={innerRef}>\n                {children}\n                {provided.placeholder}\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.column} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default ColumnList;","import React, {forwardRef} from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\nimport EditIcon from \"@material-ui/icons/Edit\"\nimport DragIcon from '@material-ui/icons/DragHandle';\n\nimport { ModuleBase, ModuleTitle, NavToolbar } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        width: \"auto\",\n        width: \"100%\",\n        maxWidth: \"100%\",\n        minWidth: theme.spacing(16),\n        overflow: \"hidden\",\n\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"&[aria-expanded=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n\n        width: \"100%\",\n\n        marginTop: 8,\n        marginBottom: 8,\n\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        color: \"inherit\",\n\n        \"& > *\": {\n            color: \"inherit\"\n        }\n\n    },\n    media: {\n        minWidth: 48,\n        width: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n        fontSize: 24,\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n    },\n    image: {\n        display: \"block\",\n        width: 48,\n    },\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    dragHandle: {\n        margin: theme.spacing(.5)\n    },\n    toolbar: {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    }\n    \n}));\n\nconst ColumnModule = ({\n    selectable,\n    selected,\n    onSelect,\n    collapsible, \n    expanded = false,\n    onToggle,\n    draggable, \n    level, \n    title,\n    imageUrl,\n    icon, \n    ...props}) => {\n\n    const classes = useStyles()\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ButtonToggle = ({onClick}) => {\n    \n        return (\n            <IconButton className={classes.toggleButton} onClick={onClick} aria-expanded={expanded}>\n                <SelectIcon className={classes.toggleIcon} />\n            </IconButton>\n        )\n    }\n\n    const ModuleContent = () => {\n\n        return (\n            <div className={classes.content}>\n                <div className={classes.media}>\n                    { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { imageUrl && <img className={classes.image} src={imageUrl} /> }\n                </div>\n                <ModuleTitle>{title}</ModuleTitle>\n            </div>\n\n        )\n\n    }\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        onSelect && onSelect()\n    }\n\n    if (draggable) {\n        const {provided, snapshot } = draggable\n        const {isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module} \n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                onClick={props.onSelect}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={_onSelect}>\n                    <DragHandle dragHandleProps={provided.dragHandleProps} />\n                    <ModuleContent />\n                    <NavToolbar {...props} className={classes.toolbar} />\n                    {collapsible && <ButtonToggle onClick={onSelect} /> || \"\" }\n\n            </div>\n        )   \n\n    }\n\n    return (\n        <div className={classes.module} aria-selected={selected}>\n            <ModuleContent />\n            <NavToolbar {...props} className={classes.toolbar} />\n            {collapsible && <ButtonToggle onClick={onSelect} /> || \"\" }\n        </div>\n    )\n\n}\n\nexport default ColumnModule;","import React, { useState,useEffect } from 'react';\nimport _ from \"lodash\"\n\nimport { \n    ListView, \n    ListModule, \n    ButtonAdd, \n    ButtonRemove\n} from \"@kit-ui/admin\"\n\nconst DocumentChildrenList = ({title, resultsLoaded, onRemove, onEdit}) => {\n\n    const DocumentModule = (model) => {\n\n        return (\n            <ListModule {...model}\n                primaryButton={<ButtonRemove onClick={() => onRemove(model)} />}\n                editable={true}\n                onEdit={() => onEdit(model)}\n            />\n        )\n\n    }\n\n    return (\n\n        <ListView title={title}>\n            {resultsLoaded && resultsLoaded.map((model, index) => <DocumentModule {...model} key={index} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenList","import React, { useState,useEffect } from 'react';\nimport { WidgetSearch, List, ListModule, ButtonAdd, ButtonRemove } from \"../\"\nimport _ from \"lodash\"\n\nimport DocumentListRemove from \"./DocumentListRemove\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getParents } from '../../redux/modelsById';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\n\nconst DocumentParentsField = (props) => {\n    const { schema, idSchema, uiSchema, formContext } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // currentParent\n\n    const query = {\n        url: pathname + \"/parents\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"id:\"+parentId,\n        ...uiQuery\n    }\n\n    useEffect(() => {\n        parentId && dispatch(getQuery(query))\n    }, [parentId])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const uniqueModel = useSelector(state => state.modelsById[uniqueId])\n\n    // actions\n\n    const onSelect = formContext && formContext.onSelect\n\n    const _onRemove = ({uniqueId}) => {\n\n    }\n\n    const _onEdit = ({uniqueId}) => {\n        const id = idSchema && idSchema.$id\n        const url = app.root + \"/\" + uniqueId + \"/edit#\" + id\n        onSelect && onSelect({url})\n    }\n\n\n    return (\n        <div>\n\n            <DocumentListRemove {...currentSearch} title=\"Parents\" onRemove={_onRemove} onEdit={_onEdit} />\n\n            {JSON.stringify(uniqueModel.parents)}\n\n\n\n        </div>\n    )\n\n\n    \n\n}\n\nexport default DocumentParentsField","import React, { useState,useEffect } from 'react';\nimport _ from \"lodash\"\n\nimport { \n    ListSearch,\n    ListView, \n    ListModule, \n    ButtonAdd, \n    ButtonRemove\n} from \"@kit-ui/admin\"\n\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst DocumentChildrenSearch = (props) => {\n    const { schema, uiSchema } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const id = formData && formData.id\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // add children\n\n    const [q, setQ] = useState(\"\")\n    const [list, setList] = useState([])\n\n    const queryQ = [\n        \"uniqueId:NOT \" + uniqueId,\n        \"parentId:NOT \" + id,\n        q\n    ]\n\n    const query = {\n        url: pathname + \"/children/search\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: queryQ.join(' '),\n        ...uiQuery\n    }\n\n    // query\n\n    useEffect(() => {\n        query && dispatch(getQuery(query))\n    }, [q])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n    const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n\n    // onAdd and onRemove\n\n    const _onAdd = ({uniqueId}) => {\n        uniqueId && setList([...list, uniqueId])\n    }\n\n    const _onQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    return (\n\n        <ListView title=\"Add children\">\n            <ListSearch onChange={_onQuery} />\n            {resultsLoaded && resultsLoaded.map(model => <ListModule {...model} primaryButton={<ButtonAdd />} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenSearch","import React, { useState,useEffect } from 'react';\nimport { WidgetSearch, List, ListModule, ButtonAdd, ButtonRemove } from \"../\"\nimport _ from \"lodash\"\n\nimport DocumentListRemove from \"./DocumentListRemove\"\nimport DocumentListSearch from \"./DocumentListSearch\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\n\nconst DocumentChildrenField = (props) => {\n    const { schema, idSchema, uiSchema, formContext } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // currentChildren\n\n    const query = {\n        url: pathname + \"/children\",\n        models: \"documents\",\n        collectionId: collectionId,\n        parentId: formData.id,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery(query))\n    }, [uniqueId, parentId])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    // actions\n\n    const onSelect = formContext && formContext.onSelect\n\n    const _onRemove = ({uniqueId}) => {\n\n    }\n\n    const _onEdit = ({uniqueId}) => {\n        const id = idSchema && idSchema.$id\n        const url = app.root + \"/\" + uniqueId + \"/edit#\" + id\n        onSelect && onSelect({url})\n    }\n\n    return (\n        <div>\n\n            <DocumentListRemove {...currentSearch} title=\"Children\" onRemove={_onRemove} onEdit={_onEdit} />\n\n            <DocumentListSearch {...props} />\n\n        </div>\n    )\n\n\n    \n\n}\n\nexport default DocumentChildrenField","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ISO6391 from 'iso-639-1'\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst LocaleField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const pathname = useSelector(state => state.editor.pathname)\n    const languages = useSelector(state => state.app.languages)\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const getOptions = () => {\n\n        let optionsEnum = [\n        ], optionsNames = [\n        ]\n\n        languages && languages.map(lang => {\n            const label = ISO6391.getNativeName(lang) + \" (\"+lang+\")\" || lang\n            optionsEnum.push(lang)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [languages])\n\n    const {SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default LocaleField","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst CollectionIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const pathname = useSelector(state => state.editor.pathname)\n\n    const query = {\n        url: pathname + \"/collectionId\",\n        models: \"collections\",\n        fl: \"id,collectionType,uniqueId,title\",\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        pathname && dispatch(getQuery(query))\n    }, [pathname])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded ||[]\n        // const options = models.length && getOptionsTree(models) ||[]\n\n        let optionsEnum = [\n            null,\n            formData,\n        ], optionsNames = [\n            \"No collectionId\",\n            \"CollectionId \" + formData,\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.collectionType+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const {SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default CollectionIdField","import DocumentParentIdField from \"./DocumentParentIdField\"\nimport DocumentParentsField from \"./DocumentParentsField\"\nimport DocumentChildrenField from \"./DocumentChildrenField\"\nimport DocumentLocaleField from \"./DocumentLocaleField\"\nimport DocumentCollectionIdField from \"./DocumentCollectionIdField\"\n\nexport default {\n    fields: {\n        \"documentParentId\": DocumentParentIdField,\n        \"documentParents\": DocumentParentsField,\n        \"documentChildren\": DocumentChildrenField,\n        \"documentLocale\": DocumentLocaleField,\n        \"documentCollectionId\": DocumentCollectionIdField\n    }\n\n}","import React from \"react\"\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst ReferenceField = (props) => {\n    const { schema, idSchema, uiSchema = {}, formData = {}, formContext } = props;\n    const { referenceId, reference = {} } = formData;\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const getUiButtons = () => {\n        const buttons = uiOptions && uiOptions.buttons ||[\"save\",\"edit\"]\n\n        const buttonProps = {\n            ...props,\n            referenceId: referenceId,\n            reference: reference,\n            id: idSchema && idSchema.$id\n        }\n\n        const { onSave, onEditReference, onDialog, onUpload } = formContext\n\n        let uiButtons = []\n        \n        buttons.map(button => {\n\n            if (typeof button === \"string\") {\n                button = {\n                    type: button,\n                    title: button.charAt(0).toUpperCase() + button.slice(1)\n                }\n            }\n\n            const { type = \"button\" } = button\n\n            if (type === \"save\") {\n                button.onClick = () => onSave && onSave(buttonProps)\n            } else if (type === \"edit\") {\n                button.onClick = () => onEditReference && onEditReference(buttonProps)\n            }\n\n            /*\n            if (type === \"dialog\" || type === \"sidebar\") {\n                button.onClick = () => onDialog && onDialog(buttonProps)\n            } else if (type === \"upload\") {\n                button.onClick = () => onUpload && onUpload(buttonProps)\n            }\n            */\n\n            button = {\n                ...button,\n                type: \"button\",\n                disabled: props.disabled ||props.readonly\n            }\n\n            uiButtons.push(button)\n        })\n\n        return uiButtons\n\n    }\n\n    const getUiSchema = () => {\n\n        let fieldset = uiOptions.fieldset || []\n\n        if (!uiOptions.fieldset && schema.properties) {\n            \n            Object.keys(schema.properties).map(name => {\n                \n                const type = schema.properties[name] && schema.properties[name].type ||undefined;\n                \n                if (type === \"object\") {\n                    fieldset.push(name)\n                }\n\n                if (type === \"array\") {\n                    fieldset.push(name)\n                }\n                \n            })\n            \n        }\n\n        let uiReference, uiContent\n\n        if (fieldset && fieldset.includes('reference')) {\n            const uiSchemaReference = uiSchema && uiSchema.reference;\n            uiReference = {\n                \"ui:title\": \"Reference\",\n                ...uiSchemaReference\n            }\n\n        }\n\n        if (fieldset && fieldset.includes('content')) {\n            const uiSchemaContent = uiSchema && uiSchema.content;\n            uiContent = {\n                \"ui:title\": \"Innhold\",\n                ...uiSchemaContent\n            }\n        }\n\n        const layout = uiOptions.layout ||\"module\"\n\n        return {\n            \"ui:editable\": true,\n            \"ui:deletable\": referenceId && true,\n            \"ui:restorable\": referenceId && true,\n            \"ui:removable\": !referenceId && true,\n            \"ui:layout\": layout,\n            \"ui:fieldset\": fieldset,\n            \"ui:buttons\": getUiButtons(),\n            \"ui:nav\": \"tabs\",\n            \"reference\": uiReference,\n            \"content\": uiContent,\n            \"ui:preview\": {\n                \"select\": {\n                    \"_action\": \"_action\",\n                    \"type\": \"type\",\n                    \"title\": \"title\",\n                    \"description\": \"description\",\n                    \"imageUrl\": \"imageUrl\",\n                    \"status\": \"status\",\n                    \"referenceId\": \"referenceId\",\n                    \"reference\": \"reference\"\n                },\n                prepare({formData = {}}) {\n                    const {_action, reference, referenceId } = formData;\n            \n                    let status = reference && reference.status;\n            \n                    if (_action === \"delete\") {\n                        status = \"trash\"\n                    }\n            \n                    return {\n                        _action: _action,\n                        type: reference && reference.documentType,\n                        title: reference && reference.title,\n                        description: reference && reference.description,\n                        imageUrl: reference && reference.imageUrl,\n                        status: status,\n                        referenceId: referenceId,\n                        reference: reference\n                    }\n                }                \n            },\n            ...uiSchema,\n        }\n        \n    }\n\n    const _onChange = (formData) => {\n        const { _action, referenceId, reference = {} } = formData;\n\n        // if no referenceId, action = \"create\"\n\n        if (!referenceId) {\n            formData._action = \"create\"\n        }\n\n        // if reference dont have a uniqueId, action = \"create\"\n\n        if (!reference) {\n            formData.reference = {}\n        }\n\n        if (!reference.uniqueId) {\n            formData.reference._action = \"create\"\n        }\n\n        props.onChange && props.onChange(formData)\n\n\n    }\n\n\n    const { ObjectField } = props.registry.fields\n\n    const newUiSchema = getUiSchema()\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default ReferenceField","import ReferenceField from \"./ReferenceField\"\n\nexport default {\n    fields: {\n        \"reference\": ReferenceField,\n    },\n    widgets: {}\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst CollectionSiteIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query ||{}\n\n    const pathname = useSelector(state => state.editor.pathname)\n\n    const query = {\n        url: pathname + \"/siteId\",\n        models: \"sites\",\n        fl: \"id,parentId,uniqueId,title\",\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        pathname && dispatch(getQuery(query))\n    }, [pathname])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded ||[]\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No siteId\"\n        ]\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const {SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default CollectionSiteIdField","import CollectionSiteIdField from \"./CollectionSiteIdField\"\n\nexport default {\n    fields: {\n        \"collectionSiteId\": CollectionSiteIdField,\n    }\n\n}","import React, {useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst PageEditorField = (props) => {\n    const { idSchema, schema, uiSchema, formData, formContext, registry } = props;\n    const { uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { isLoading, isSaving, currentId, currentLocale, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const getPrimaryAction = () => {\n\n        if (isLoading) {\n            return {\n                label: t(\"Loading\") + \" ...\",\n                disabled: true\n            }\n        } else if (isSaving) {\n            return {\n                label: t(\"Saving\") + \" ...\",\n                disabled: true\n            }\n        }\n\n        let primary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save as draft\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"draft\"}}, event),\n                },\n                {\n                    label: t(\"Save and publish\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"publish\"}}, event),\n                },\n            ]\n        }\n\n        let secondary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save and exit\"),\n                }\n            ]\n\n        }\n\n        if (uniqueId) {\n            secondary.children.push({\n                label: t(\"Save as\") + \" ...\",\n                onClick: (event) =>  onSubmit({formData: {...formData, status: \"copy\"}}, event),\n            })\n        }\n        \n\n        return {\n            type: \"save\",\n            label: t(\"Save\"),\n            onClick: (event) => onSubmit({formData}, event),\n            children: [\n                primary,\n                secondary\n            ]\n        }\n    \n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getPrimaryAction()\n\n    // toggle fieldset\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggle = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale ||formContext.languages && formContext.languages[0]\n//    const [currentLocale, setCurrentLocale] = useState(defaultLocale)\n\n    const _onLocale = (locale) => {\n\n\n        onLocale && onLocale(locale)\n//        setCurrentLocale(locale)\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:layout\": \"pageEditor\",\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggle\": () => _onToggle()\n    }\n\n    const { ObjectField } = registry.fields;\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...formContext,\n            currentLocale: currentLocale\n        }\n    }\n\n    return (\n        <ObjectField {...props} registry={newRegistry} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageEditorField;","import React from 'react'\nimport {EditorBase, EditorHeader, EditorBody, EditorFooter, EditorOverlay } from \"@kit-ui/admin\"\n\nconst PageEditor = ({collapsible, expanded, overlay, onToggle, onSelect, children, ...props}) => {\n\n    const renderOverlay = () => {\n        const OverlayTemplate = overlay && overlay.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={overlay && overlay.expanded}>\n                { OverlayTemplate && <OverlayTemplate {...overlay} /> }\n            </EditorOverlay>\n        )\n    }\n\n    return (\n        <EditorBase>\n            <EditorHeader {...props} collapsible={collapsible} expanded={expanded} onToggle={onToggle} onSelect={onSelect} />\n            <EditorBody elevation={1} expanded={expanded}>\n                {children}\n            </EditorBody>\n            <EditorFooter {...props} />\n            { overlay && renderOverlay() }\n        </EditorBase>\n    )\n}\n\nexport default PageEditor;","import React, { useState } from 'react'\n\nconst PageContentField = (props) => {\n    const { uiSchema, formContext, registry } = props\n    const { dialog, preview } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": dialog,\n        \"ui:preview\": preview,\n        \"ui:layout\": \"pageContent\"\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageContentField;","import React from 'react';\nimport { NavMenuList, NavMenuItem, NavMenuLink } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    menu: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: \"auto\",\n        left: 0,\n        bottom: 0,\n        margin: 0,\n        width: props => { return props.menuWidth },\n        transition: \".125s ease-out\",\n\n        \"& + *\": {\n            position: \"absolute\",\n            zIndex: 1,\n            top: 0,\n            right: 0,\n            left: 0,\n            bottom: 0,\n            margin: 0,\n            overflowY: \"scroll\"\n        },\n\n        \"&[aria-expanded=true] + *\":  {\n            marginLeft: props => { return props.menuWidth },\n        }\n    },\n    menuList: {\n        margin: theme.spacing(2, 0),\n        \"& > li + li\": {\n            marginTop: theme.spacing(1)\n        }\n    }\n}));\n\nconst PageMenu = ({className, menuWidth = 224, menu = undefined}) => {\n    const classes = useStyles({menuWidth});\n\n    if (!menu) {\n        return false\n    }\n\n    return (\n        <aside className={className ||classes.menu} aria-expanded={true}>\n            <NavMenuList className={classes.menuList}>\n                {menu.map((item, index) => {\n                    return (\n                        <NavMenuItem key={index}>\n                            <NavMenuLink {...item} />\n                        </NavMenuItem>\n                    )\n                })}\n            </NavMenuList>\n        </aside>\n    )\n\n}\n\nexport default PageMenu;","import React from 'react';\nimport { EditorSection, EditorContent, EditorPreview, EditorSidebar } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    content: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n\n        transition: \".125s ease-out\",\n        transform: \"translateY(100%)\",\n\n        \"&[aria-expanded=true]\": {\n            transform: \"translateY(0)\",\n        }\n    },\n    wrapper: {\n        backgroundColor: \"inherit\", \n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst PageContent = ({id, selected = true, sidebar, preview, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    const renderSidebar = () => {\n        const SidebarTemplate = sidebar && sidebar.template;\n\n        return (\n            <EditorSidebar expanded={sidebar && sidebar.expanded}>\n                { SidebarTemplate && <SidebarTemplate {...sidebar} /> }\n            </EditorSidebar>\n        )\n    }\n\n    const renderPreview = () => {\n        const PreviewTemplate = preview && preview.template;\n        return (\n            <EditorPreview expanded={true}>\n                { PreviewTemplate && <PreviewTemplate {...preview} /> }\n            </EditorPreview>\n        )\n    }  \n\n    return (\n        <EditorSection id={id} expanded={selected} className={classes.content}>\n            { sidebar && renderSidebar() }\n            <EditorSection elevation={0} className={classes.wrapper}>\n                { preview && renderPreview() }\n                <EditorContent elevation={0}>\n                    { menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n                    {children}\n                </EditorContent>\n            </EditorSection>\n        </EditorSection>\n    )\n\n}\n\nexport default PageContent;","import React, { useState } from 'react'\n\nconst PageSettingsField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props\n    const { dialog } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:layout\": \"pageSettings\",\n        \"ui:field\": undefined\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageSettingsField;","import React from 'react';\n\nimport { EditorSection, EditorContent, EditorOverlay } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        \"&[aria-expanded=true]\": {\n            top: 0\n        }\n\n    },\n}));\n\nconst PageSettings = ({id, expanded = true, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    /*\n\n    const renderDialog = () => {\n        const DialogTemplate = dialog && dialog.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={dialog && dialog.expanded}>\n                { DialogTemplate && <DialogTemplate {...dialog} /> }\n            </EditorOverlay>\n        )\n    }\n\n    */\n\n    return (\n        <EditorSection id={id} elevation={0} className={classes.settings} aria-expanded={expanded}>\n            {menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n            <EditorContent expanded={true}>\n                {children}\n            </EditorContent>\n        </EditorSection>\n    )\n\n}\n\nexport default PageSettings;","import PageEditorField from \"./PageEditorField\"\nimport PageEditor from \"./PageEditorLayout\"\nimport PageContentField from \"./PageContentField\"\nimport PageContent from \"./PageContentLayout\"\nimport PageSettingsField from \"./PageSettingsField\"\nimport PageSettings from \"./PageSettingsLayout\"\n\nexport default {\n    fields: {\n        \"pageEditor\": PageEditorField,\n        \"pageEditorLayout\": PageEditor,\n        \"pageContent\": PageContentField,\n        \"pageContentLayout\": PageContent,\n        \"pageSettings\": PageSettingsField,\n        \"pageSettingsLayout\": PageSettings\n    }\n\n}","\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"main\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"light\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"dark\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"contrastText\": {\n            \"type\": \"string\",\n//            \"format\": \"color\"\n        },\n    }\n}","import paletteColor from \"./ThemePaletteColor.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"primary\": paletteColor,\n        \"secondary\": paletteColor\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"main\",\n        \"light\",\n        \"dark\"\n    ],\n    \"ui:options\": {\n        \"grid\": true,\n    },\n    \"main\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:size\": \"large\",\n        \"ui:xs\": 12,\n    },\n    \"light\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:xs\": 6,\n    },\n    \"dark\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:xs\": 6,\n    }\n}","import schema from \"./ThemeEditor.schema\"\nimport uiSchema from \"./ThemeEditor.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","import palette from \"./ThemePalette.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"type\": {\n            \"type\": \"string\",\n            \"enum\": [\"light\",\"dark\"],\n            \"enumNames\": [\"Light\",\"Dark\"],\n            \"default\": \"light\"\n        },\n        \"palette\": palette,\n        \"colors\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"string\",\n                \"format\": \"color\"\n            }\n        }\n    }\n}","import colorUi from \"./ThemePaletteColor.uiSchema\"\n\nexport default {\n    \"ui:fieldset\": [\n        \"type\",\n        \"palette\",\n        \"colors\"\n    ],\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"palette\": {\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"primary\": {\n            ...colorUi,\n            \"ui:field\": \"themePaletteColor\",\n            \"ui:layout\": \"fieldset\",\n            \"ui:title\": \"Primary\",\n            \"ui:options\": {\n                \"xs\": 6,\n                \"grid\": true\n            },\n        },\n        \"secondary\": {\n            ...colorUi,\n            \"ui:field\": \"themePaletteColor\",\n            \"ui:layout\": \"fieldset\",\n            \"ui:title\": \"Secondary\",\n            \"ui:options\": {\n                \"xs\": 6,\n                \"grid\": true\n            }\n        },\n    },\n    \"colors\": {\n        \"ui:title\": \"Additional colors\",\n        \"ui:layout\": \"fieldset\",\n        \"ui:sortable\": true,\n        \"items\": {\n            \"ui:widget\": \"themePaletteColor\",\n            \"ui:title\": \"Color\"\n        }\n    }\n}","import schema from \"./ThemePalette.schema\"\n\nexport default {\n    schema: schema\n}","import React, { useState, useEffect } from 'react';\nimport createPalette from '@material-ui/core/styles/createPalette';\n\nconst CollectionThemePaletteField = (props) => {\n\n    const { onChange } = props\n\n    const { ObjectField } = props.registry.fields\n\n    const _onChange = (formData) => {\n\n        if (formData.primary.main) {\n//            formData = createPalette({primary: {main: formData.primary.main}})\n        }\n\n        onChange && onChange(formData)\n\n    }\n\n    return (\n        <div>\n            <ObjectField {...props} onChange={_onChange} />\n        </div>\n    )\n    \n}\n\nexport default CollectionThemePaletteField;\n","import React, { useState, useEffect } from 'react';\nimport createPalette from '@material-ui/core/styles/createPalette';\nimport tinycolor from 'tinycolor2';\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst CollectionThemePaletteColorField = (props) => {\n    const { formData, onChange } = props\n\n    const { ObjectField } = props.registry.fields\n\n    const _getColor = ({main, light, dark, ...color}) => {\n\n        return {\n            ...color,\n            main: \"#\" + tinycolor(main).toHex(),\n            light: \"#\" + tinycolor(light).toHex(),\n            dark: \"#\" + tinycolor(dark).toHex(),\n        }\n\n    }\n\n    const _onChange = ({main, light, dark}) => {\n\n        let palette, color\n\n        if (main && main !== formData.main) {\n            palette = createPalette({primary: {main: main }})\n        }\n\n        if (palette && palette.primary) {\n            onChange && onChange(_getColor(palette.primary))\n        }\n\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n\n\n    const uiSchema = {\n        ...props.uiSchema,\n        main: {\n            ...props.uiSchema.main,\n            \"ui:title\": uiOptions.title.charAt(0) + \"  main\"\n        },\n        light: {\n            ...props.uiSchema.light,\n            \"ui:title\": uiOptions.title.charAt(0) + \"  light\"\n        },\n        dark: {\n            ...props.uiSchema.dark,\n            \"ui:title\": uiOptions.title.charAt(0) + \"  dark\"\n        }\n    }\n\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} onChange={_onChange} />\n    )\n\n\n}\n\nexport default CollectionThemePaletteColorField;\n","import React, {useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\"\nimport tinycolor from 'tinycolor2';\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\" \n\nconst useStyles = makeStyles(theme => ({\n    swatch: {\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return theme.palette.getContrastText(props.backgroundColor) },\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& input\": {\n            fontFamily: \"Akkurat mono, monospace\",\n            fontSize: props => { return props.size === \"large\" && 24 },\n            paddingBottom: props => { return props.size === \"large\" && 10 + 24 }\n        },\n\n        \"& *\": {\n            color: \"inherit\"\n        }\n\n    }\n}));\n\nconst CollectionThemeColorWidget = (props) => {\n\n    const {\n        onChange,\n        registry,\n        options\n    } = props\n\n    const [value, setValue] = useState(props.value)\n\n    const classes = useStyles({backgroundColor: props.value, size: options && options.size})\n\n    const _getColor = (color) => {\n        return \"#\" + tinycolor(color).toHex()\n    }\n\n    useEffect(() => {\n        setValue(props.value)\n    }, [props.value])\n\n    const _onChange = (value) => {\n\n        if (tinycolor(value).isValid()) {\n            onChange && onChange(_getColor(value))\n        }\n\n        setValue(value)\n\n    }\n\n    const { TextWidget } = registry.widgets\n\n    return (\n        <TextWidget {...props} className={classes.swatch} value={value} onChange={_onChange} />\n    )\n\n}\n\nCollectionThemeColorWidget.defaultProps = {\n    value: \"#666\"\n}\n\nCollectionThemeColorWidget.propTypes = {\n    value: PropTypes.string,\n    onChange: PropTypes.func\n}\n\nexport default CollectionThemeColorWidget;","import ThemeEditor from \"./ThemeEditor.model\"\n\nimport ThemePaletteModel from \"./ThemePalette.model\"\nimport ThemePaletteField from \"./ThemePaletteField\"\n\nimport ThemePaletteColorField from \"./ThemePaletteColorField\"\nimport ThemeColorWidget from \"./ThemeColorWidget\"\n\nexport default {\n    fields: {\n        \"themePalette\": ThemePaletteField,\n        \"themePaletteColor\": ThemePaletteColorField,\n    },\n    widgets: {\n        \"themeColor\": ThemeColorWidget\n    },\n    models: {\n        \"themeEditor\": ThemeEditor,\n        \"themePalette\": ThemePaletteModel\n    }\n\n}","import React, { forwardRef, useState, useEffect, useRef } from 'react';\nimport PropTypes from \"prop-types\"\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: \"fixed\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        zIndex: 3000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    header: {\n        height: theme.spacing(6),\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        padding: theme.spacing(2)\n    },\n    editor: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: theme.spacing(4)\n    },\n    closeButton: {\n    },\n    icon: {\n        width: 20,\n        height: 20,\n//        borderRadius: \"50%\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n//        boxShadow: theme.shadows[1]\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 11,\n        textTransform: \"uppercase\",\n        fontWeight: \"bold\",\n        lineHeight: '1',\n        textAlign: \"center\",\n    }    \n}));\n\nconst LocalizedStringSettings = (props) => {\n\n    const { name, schema, formContext } = props;\n\n    const languages = formContext.languages ||[\"en\"];\n    const defaultLocale = formContext.defaultLocale ||languages[0]\n    const currentLocale = formContext.currentLocale ||defaultLocale\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onExpand = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const classes = useStyles()\n\n    const {ObjectField } = props.registry.fields\n\n    const uiSchema = {\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        }\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n    const title = uiOptions.title || name\n\n    const Overlay = ({expanded, children}) => {\n\n        if (!expanded) {\n            return false\n        }\n\n        return (\n            <div className={classes.overlay}>\n\n                <div className={classes.editor}>\n\n                    <header className={classes.header}>\n                        <Typography>{title}</Typography>\n                        <IconButton className={classes.closeButton} onClick={() => _onCollapse()}>\n                            <CloseIcon></CloseIcon>\n                        </IconButton>\n                    </header>\n\n                    {children}\n                </div>\n\n            </div>\n        )\n\n    }\n\n    return (\n        <IconButton>\n            <div className={classes.icon}>\n                <div className={classes.label}>{currentLocale}</div>\n            </div>\n        </IconButton>\n    )\n\n    return (\n        <React.Fragment>\n            <IconButton onClick={_onExpand} ref={anchorRef}>\n                <div className={classes.icon}>\n                    <div className={classes.label}>{currentLocale}</div>\n                </div>\n            </IconButton>\n            <Overlay expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <ObjectField {...props} uiSchema={uiSchema} />\n            </Overlay>\n        </React.Fragment>\n    )\n\n}\n\nLocalizedStringSettings.defaultProps = {\n}\n\nLocalizedStringSettings.propTypes = {\n}\n\nexport default LocalizedStringSettings;","import React from 'react';\nimport LocalizedStringSettings from \"./LocalizedStringSettings\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\n/** Localized string  */\n\nconst LocalizedStringField = (props) => {\n    const { schema, uiSchema, formContext } = props;\n    const uiOptions = getUiOptions(uiSchema)\n\n    const languages = formContext.languages ||[\"en\"];\n    const defaultLocale = formContext.defaultLocale ||languages[0]\n    const currentLocale = formContext.currentLocale ||defaultLocale\n\n    const getUiSchema = () => {\n\n        let localizedUiSchema = {\n            \"ui:fieldset\": [\n                \"locale:\"+currentLocale\n            ]\n        }\n    \n        Object.keys(schema.properties).map(name => {\n            const localeProps = name.split(':')\n            const locale = localeProps[1]\n\n            const title = uiOptions.title && uiOptions.title + \":\" + locale;\n            const help = uiOptions.help;\n\n            const endAdornment = <LocalizedStringSettings {...props} />\n\n            localizedUiSchema[name] = {\n                ...uiSchema,\n                \"ui:field\": undefined,\n                \"ui:options\": {\n                    \"endAdornment\": endAdornment,\n                    \"widget\": uiOptions.widget || \"text\",\n                    \"title\": title, \n                    \"language\": locale,\n                    \"help\": help,\n                },\n            }\n        \n        })\n    \n        return {\n            ...localizedUiSchema,\n            \"ui:collapsible\": true,\n            \"ui:expanded\": false\n        }\n        \n    }\n\n    const { SchemaFieldset } = props.registry.fields;\n\n    const newUiSchema = getUiSchema()\n    const newUiOptions = getUiOptions(newUiSchema)\n\n    return (\n        <SchemaFieldset  {...props} uiSchema={newUiSchema} fieldset={newUiOptions.fieldset} />\n    )\n\n}\n\nexport default LocalizedStringField;","import LocalizedStringField from \"./LocalizedStringField\"\n\nexport default {\n    \"fields\": {\n        \"localizedString\": LocalizedStringField\n    },\n    \"layouts\": {\n    },\n    \"widgets\": {\n    }\n}","\n\nimport kpPage from \"./KpPage/registry\"\nimport kpLink from \"./KpLink/registry\"\nimport kpDevide from \"./KpDevice/registry\"\nimport kpLocation from \"./KpLocation/registry\"\n\nimport documentEditor from \"./DocumentEditor/registry\"\nimport referenceEditor from \"./ReferenceEditor/registry\"\nimport collectionEditor from \"./CollectionEditor/registry\"\nimport pageEditor from \"./PageEditor/registry\"\nimport themeEditor from \"./ThemeEditor/registry\"\n\nimport localizedString from \"./LocalizedString/registry\"\n\nexport default {\n    \"fields\": {\n        ...kpPage.foelds,\n        ...kpLink.fields,\n        ...kpDevide.fields,\n        ...kpLocation.fields,\n        ...documentEditor.fields,\n        ...referenceEditor.fields,\n        ...collectionEditor.fields,\n        ...pageEditor.fields,\n        ...themeEditor.fields,\n        ...localizedString.fields\n    },\n    \"widgets\": {\n        ...documentEditor.widgets,\n        ...referenceEditor.widgets,\n        ...collectionEditor.widgets,\n        ...pageEditor.widgets,\n        ...themeEditor.widgets\n    },\n    \"models\": {\n        ...documentEditor.models,\n        ...referenceEditor.models,\n        ...collectionEditor.models,\n        ...pageEditor.models,\n        ...themeEditor.models\n    }\n}","import additionalCredits from \"./additionalCredits/schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"uniqueId\": {\n            \"type\": \"string\"\n        },\n        \"mediaType\": {\n            \"type\": \"string\"\n        },\n        \"filename\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"filename\": {\n                    \"type\": \"string\",\n                    \"readonly\": true\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"description\": {\n                    \"type\": \"localizedString\"\n                },\n                \"keywords\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [],\n                    },\n                    \"uniqueItems\": true\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n                \"credit\": {\n                    \"type\": \"string\"\n                },\n                \"additionalCredits\": additionalCredits,\n            },\n            \"dependencies\": {\n                \"license\": {\n                    \"oneOf\": [\n                        {\n                            \"properties\": {\n                                \"license\": {\n                                    \"enum\": [\"copyright\"]\n                                },\n                                \"copyright\": {\n                                    \"type\": \"string\"\n                                },\n                                \"copyrightYear\": {\n                                    \"type\": \"number\"\n                                }\n                            }\n                        }\n                    ]\n                }\n            }\n        }\n    }\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"type\": {\n                \"type\": \"string\",\n                \"enum\": [\n                    \"undefined\",\n                    \"photographer\",\n                    \"artist\",\n                    \"author\",\n                    \"director\",\n                    \"producer\",\n                    \"voice\",\n                    \"owner\",\n                    \"rightsmanager\"\n                ],\n                \"enumNames\": [\n                    \"Ikke spesifisert\",\n                    \"Fotograf\",\n                    \"Kunstner\",\n                    \"Forfatter\",\n                    \"Regissr\",\n                    \"Produsent\",\n                    \"Stemme\",\n                    \"Eier\",\n                    \"Rettighetsforvalter\"\n                ],\n                \"default\": \"undefined\"\n            },\n            \"name\": {\n                \"type\": \"string\"\n            }\n        }\n    }\n}\n","import media from \"../media/schema\"\nimport category from './category/schema';\nimport iptcdata from \"./iptcdata/schema\"\n\nexport default {\n    ...media,\n    \"properties\": {\n        ...media.properties,\n        \"content\": {\n            ...media.properties.content,\n            \"properties\": {\n                ...media.properties.content.properties,\n                \"category\": category,\n                \"iptcdata\": iptcdata\n            }\n        }\n    }\n}","export default {\n  \"type\": \"string\",\n  \"enum\": [\n    \"photograph\",\n    \"illustration\",\n    \"vector\",\n    \"painting\"\n  ],\n  \"enumNames\": [\n    \"Fotografi\",\n    \"Illustrasjon\",\n    \"Vektor\",\n    \"Maleri\"\n  ],\n  \"default\": \"photograph\"\n}","export default {\n    \"type\": \"object\",\n    \"readonly\": true,\n    \"properties\": {\n        \"headline\": {\n            \"type\": \"string\"\n        },\n        \"caption\": {\n            \"type\": \"string\"\n        },\n        \"captionWriter\": {\n            \"type\": \"string\"\n        },\n        \"credit\": {\n            \"type\": \"string\"\n        },\n        \"keywords\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"string\",\n                \"enum\": [],\n            },\n            \"uniqueItems\": true\n        },\n        \"bylineTitle\": {\n            \"type\": \"string\"\n        },\n        \"byline\": {\n            \"type\": \"string\"\n        },\n        \"copyright\": {\n            \"type\": \"string\"\n        },\n        \"dateCreated\": {\n            \"type\": \"string\"\n        }\n        /*\n        \"locationShown\": {\n            \"type\": \"string\"\n        },\n        \"locationCreated\": {\n            \"type\": \"string\"\n        },\n        \"creditLine\": {\n            \"type\": \"string\"\n        },\n        \"creator\": {\n            \"type\": \"string\"\n        },\n        \"creatorJobtitle\": {\n            \"type\": \"string\"\n        },\n        \"creatorContactInfo\": {\n            \"type\": \"string\"\n        },\n        \"copyrightNotice\": {\n            \"type\": \"string\"\n        },\n        \"copyrightOwner\": {\n            \"type\": \"string\"\n        },\n        \"license\": {\n            \"type\": \"string\"\n        },\n        \"instructions\": {\n            \"type\": \"string\"\n        }\n        */\n    }\n}","import uiPreview from './uiPreview';\n\nimport data from \"./data/uiSchema\"\nimport file from \"./file/uiSchema\"\nimport metadata from \"./metadata/uiSchema\"\nimport rights from \"./rights/uiSchema\"\nimport settings from \"./settings/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"collapsible\": true\n    },  \n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": settings,    \n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"data\",\n            \"file\",\n            \"metadata\",\n            \"rights\"\n        ],\n        \"data\": {\n            ...data,\n            \"ui:layout\": \"section\",\n            \"ui:icon\": \"image\",\n            \"ui:title\": \"Bilde\"\n        },\n        \"file\": {\n            ...file,\n            \"ui:layout\": \"section\",\n            \"ui:icon\": \"tag\",\n            \"ui:title\": \"File\",\n        },\n        \"metadata\": {\n            ...metadata,\n            \"ui:layout\": \"section\",\n            \"ui:icon\": \"tag\",\n            \"ui:title\": \"Metadata\",\n        },\n        \"rights\": {\n            ...rights,\n            \"ui:layout\": \"section\",\n            \"ui:icon\": \"copyright\",\n            \"ui:title\": \"Rettigheter\",\n        }\n    }\n}","import { formatMediaSize, formatMediaTime } from \"../utils\"\n\nexport default {\n    \"select\": {\n        \"source\": \"source\",\n        \"sourceId\": \"sourceId\",\n        \"imageUrl\": \"imageUrl\",\n        \"title\" : \"title\",\n        \"typeLabel\": \"typeLabel\",\n        \"metadata\": \"metadata\",\n        \"filename\": \"filename\",\n        \"duration\": \"duration\"\n    },\n    prepare({formData, formContext}) {\n        let { uploadProgress, uploadStatus, title, description, mediaType, mediaSize, mediaWidth, mediaHeight, mimeType, imageUrl, filename, duration, content } = formData;\n\n        const t = formContext && formContext.t\n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = currentLocale ||defaultLocale\n        const localeId = locale && \"locale:\" + locale\n\n        if (content) {\n            title = content.title && content.title[localeId] || content.filename || title\n            description = content.description && content.description[localeId] || description\n            duration = content.duration || duration\n            filename = content.filename || filename\n        }\n\n        if (content && content.artwork && content.artwork[0] && content.artwork[0].media && content.artwork[0].media.imageUrl) {\n            imageUrl = content.artwork[0].media.imageUrl\n        }\n\n        let typeLabel\n\n        if (mediaType) {\n            typeLabel = mediaType;\n        }\n\n        if (mediaType === \"misc\" && mimeType) {\n            typeLabel = mimeType;\n        }\n\n        // meta\n\n        let metadata = []\n\n        if (uploadProgress) {\n            metadata.push(uploadProgress + \"%\")\n        } else if (uploadStatus && uploadStatus !== \"done\") {\n            metadata.push(t && t(\"uploadStatus:\"+uploadStatus || uploadStatus))\n        }\n\n        if (mediaWidth && mediaHeight) {\n            metadata.push(mediaWidth + \"x\" + mediaHeight);\n        } else if (mediaSize) {\n            metadata.push(formatMediaSize(mediaSize));\n        }\n\n        if (duration) {\n            metadata.push(formatMediaTime(duration));\n        }\n\n        if (content && content.captions && content.captions.length) {\n            metadata.push(content.captions.length + \" undertekster\");\n        }\n\n\n        return {\n            source: undefined,\n            sourceId: undefined,\n            imageUrl: imageUrl,\n            title: title,\n            typeLabel: typeLabel,\n            metadata: metadata,\n            filename: filename,\n            duration: duration\n        }\n    }\n\n}","export const formatMediaSize = (bytes, decimals = 2) => {\n    if (bytes === 0) return '0 Bytes';\n\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n}\n\nexport const formatMediaTime = (timeInSeconds) => {\n\n    var pad = function(num, size) { return ('000' + num).slice(size * -1); },\n    time = parseFloat(timeInSeconds).toFixed(3),\n    hours = Math.floor(time / 60 / 60),\n    minutes = Math.floor(time / 60) % 60,\n    seconds = Math.floor(time - minutes * 60),\n    milliseconds = time.slice(-3);\n\n//    return pad(hours, 2) + ':' + pad(minutes, 2) + ':' + pad(seconds, 2) + ',' + pad(milliseconds, 3);\n\n    if (hours) {\n        return pad(hours, 2) + ':' + pad(minutes, 2) + ':' + pad(seconds, 2);\n    }\n\n    return minutes + ':' + pad(seconds, 2);\n}","export default {\n    \"ui:fieldset\": [\n        \"uniqueId\",\n        \"content\"\n    ],\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"content\": {\n        \"ui:spacing\": 2,\n        \"ui:fieldset\": [\n            \"filedata\"\n        ],\n        \"filedata\": {\n            \"ui:fieldset\": [\n                \"name\",\n                \"size\",\n                \"type\"\n            ],\n        }\n    }\n}","export default {\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"filename\",\n        \"title\",\n        \"description\",\n        \"category\",\n        \"credit\",\n        \"license\",\n        \"keywords\"\n    ],\n    \"filename\": {\n        \"ui:title\": \"Originalt filnavn\",\n        \"ui:help\": \"Navn p filen som ble lastet opp.\"\n    },\n    \"title\": {\n        \"ui:title\": \"Tittel\",\n    },\n    \"description\": {\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\",\n    },\n   \"category\": {\n        \"ui:title\": \"Kategori\",\n        \"ui:placeholder\": \"Velg kategori\"\n    },\n    \"credit\": {\n        \"ui:title\": \"Kreditering\",\n        \"ui:help\": \"Opphavsrett, person eller organisasjon\",\n    },\n    \"keywords\": {\n        \"ui:widget\": \"tags\",\n        \"ui:title\": \"Nkkelord\",\n        \"ui:help\": \"Beskrivende stikkord.\",\n    },\n    \"license\": {\n        \"ui:widget\": \"selectLicense\",\n        \"ui:title\": \"Lisens\",\n        \"ui:help\": \"Velg en lisens for dette innholdet.\",\n    },\n}","export default {\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"filename\",\n        \"videoDimensions\",\n        \"duration\",\n    ],\n    \"videoDimensions\": {\n        \"ui:grid\": true,\n        \"ui:spacing\": 2,\n        \"ui:fieldset\": [\n            \"videoWidth\",\n            \"videoHeight\",\n        ],\n        \"videoWidth\": {\n            \"ui:gridCols\": 6\n        },\n        \"videoHeight\": {\n            \"ui:gridCols\": 6\n        }\n    \n    },\n    \"category\": {\n        \"ui:title\": \"Kategori\",\n        \"ui:placeholder\": \"Velg kategori\"\n    },\n    \"keywords\": {\n        \"ui:widget\": \"tags\",\n        \"ui:title\": \"Stikkord\",\n        \"ui:help\": \"Enter keyword terms or phrases to describe the subject of content in the photograph.\",\n    },\n    \"license\": {\n        \"ui:widget\": \"selectLicense\",\n        \"ui:title\": \"Lisens\",\n        \"ui:help\": \"Velg en lisens for dette innholdet.\",\n    },\n    \"copyright\": {\n        \"ui:title\": \"Copyright\",\n        \"ui:help\": \"Beskrivelse av opphavsrett\"\n    },\n    \"copyrightYear\": {\n        \"ui:title\": \"Copyright year\",\n        \"ui:help\": \"Beskrivelse av opphavsrett\"\n    },\n    \"director\": {\n        \"ui:title\": \"Regissr\"\n    },\n    \"producer\": {\n        \"ui:title\": \"Produsent\"\n    },\n    \"series\": {\n        \"ui:title\": \"Serie\",\n        \"ui:help\": \"Evt. serie videoen er en del av.\"\n    },\n    \"season\": {\n        \"ui:title\": \"Sesong\",\n        \"ui:help\": \"Evt. sesong videoen er den del av..\"\n    },\n    \"episode\": {\n        \"ui:title\": \"Episode\",\n        \"ui:help\": \"Evt. episode av en serie eller sesong.\"\n    },\n    \"locationShot\": {\n        \"ui:title\": \"Steder spilt inn\",\n        \"ui:widget\": \"textarea\",\n        \"ui:help\": \"Steder hvor videon ble spilt inn.\"\n    },\n    \"locationShown\": {\n        \"ui:title\": \"Steder som vises\",\n        \"ui:widget\": \"textarea\",\n        \"ui:help\": \"Steder som vises i videoen.\"\n    },\n    \"album\": {\n        \"ui:title\": \"Albumtittel\",\n        \"ui:help\": \"Tittel p albumet lten er utgitt p.\"\n    },\n    \"artist\": {\n        \"ui:title\": \"Artist\"\n    },\n    \"composer\": {\n        \"ui:title\": \"Komponist\"\n    },\n    \"copywriter\": {\n        \"ui:title\": \"Tekstforfatter\",\n    },\n    \"releaseYear\": {\n        \"ui:title\": \"Utgivelsesr\"\n    },\n    \"recordCompany\": {\n        \"ui:title\": \"Plateselskap\",\n        \"ui:help\": \"Plateselskap og/eller label lten er utgitt p.\"\n    },\n    \"catalogNumber\": {\n        \"ui:title\": \"Katalognummer\",\n        \"ui:help\": \"Plateselskapets katalognummer.\"\n    },\n}","export default {\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"category\",\n\n        \"director\",\n        \"producer\",\n        \"series\",\n        \"season\",\n        \"episode\",\n  \n        \"locationShot\",\n        \"locationShown\",\n  \n        \"album\",\n        \"artist\",\n        \"composer\",\n        \"copywriter\",\n        \"releaseYear\",\n  \n        \"recordCompany\",\n        \"catalogNumber\"\n  \n    ],\n    \"category\": {\n        \"ui:title\": \"Kategori\",\n        \"ui:placeholder\": \"Velg kategori\"\n    },\n    \"keywords\": {\n        \"ui:widget\": \"tags\",\n        \"ui:title\": \"Stikkord\",\n        \"ui:help\": \"Enter keyword terms or phrases to describe the subject of content in the photograph.\",\n    },\n    \"license\": {\n        \"ui:widget\": \"selectLicense\",\n        \"ui:title\": \"Lisens\",\n        \"ui:help\": \"Velg en lisens for dette innholdet.\",\n    },\n    \"copyright\": {\n        \"ui:title\": \"Copyright\",\n        \"ui:help\": \"Beskrivelse av opphavsrett\"\n    },\n    \"copyrightYear\": {\n        \"ui:title\": \"Copyright year\",\n        \"ui:help\": \"Beskrivelse av opphavsrett\"\n    },\n    \"director\": {\n        \"ui:title\": \"Regissr\"\n    },\n    \"producer\": {\n        \"ui:title\": \"Produsent\"\n    },\n    \"series\": {\n        \"ui:title\": \"Serie\",\n        \"ui:help\": \"Evt. serie videoen er en del av.\"\n    },\n    \"season\": {\n        \"ui:title\": \"Sesong\",\n        \"ui:help\": \"Evt. sesong videoen er den del av..\"\n    },\n    \"episode\": {\n        \"ui:title\": \"Episode\",\n        \"ui:help\": \"Evt. episode av en serie eller sesong.\"\n    },\n    \"locationShot\": {\n        \"ui:title\": \"Steder spilt inn\",\n        \"ui:widget\": \"textarea\",\n        \"ui:help\": \"Steder hvor videon ble spilt inn.\"\n    },\n    \"locationShown\": {\n        \"ui:title\": \"Steder som vises\",\n        \"ui:widget\": \"textarea\",\n        \"ui:help\": \"Steder som vises i videoen.\"\n    },\n    \"album\": {\n        \"ui:title\": \"Albumtittel\",\n        \"ui:help\": \"Tittel p albumet lten er utgitt p.\"\n    },\n    \"artist\": {\n        \"ui:title\": \"Artist\"\n    },\n    \"composer\": {\n        \"ui:title\": \"Komponist\"\n    },\n    \"copywriter\": {\n        \"ui:title\": \"Tekstforfatter\",\n    },\n    \"releaseYear\": {\n        \"ui:title\": \"Utgivelsesr\"\n    },\n    \"recordCompany\": {\n        \"ui:title\": \"Plateselskap\",\n        \"ui:help\": \"Plateselskap og/eller label lten er utgitt p.\"\n    },\n    \"catalogNumber\": {\n        \"ui:title\": \"Katalognummer\",\n        \"ui:help\": \"Plateselskapets katalognummer.\"\n    },\n}","export default {\n    \"ui:options\": {\n        \"spacing\": 2,\n    },\n    \"ui:fieldset\": [\n        \"credit\",\n        \"additionalCredits\"\n    ],\n    \"credit\": {\n        \"ui:title\": \"Kreditering\",\n        \"ui:help\": \"Opphavsrett, person eller organisasjon\",\n    },\n    \"additionalCredits\": {\n        \"ui:title\": \"Kreditering\",\n        \"ui:buttons\": [\n            {\n                \"title\": \"Legg til kreditering\"\n            }\n        ],\n        \"items\": {\n            \"ui:options\": {\n                \"grid\": true,\n                \"spacing\": 2,\n            },\n            \"type\": {\n                \"ui:xs\": 6,\n                \"ui:title\": \"Type\",\n                \"ui:widget\": \"select\"\n            },\n            \"name\": {\n                \"ui:xs\": 6,\n                \"ui:title\": \"Navn\",\n            }\n        }\n    }\n}","import schema from './schema';\nimport uiSchema from './uiSchema';\n\nexport default {\n    schemaType: 'media',\n    name: 'image',\n    title: 'Media/Image',\n    schema: schema,\n    uiSchema: uiSchema,\n}","import iptcdata from \"./iptcdata/uiSchema\"\nimport uiSchema from '../media/uiSchema';\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"data\",\n            \"metadata\",\n            \"rights\",\n            \"iptcdata\",\n            \"exifdata\",\n        ],\n        \"data\": {\n            ...uiSchema.content.data,\n            \"ui:icon\": \"image\",\n            \"ui:title\": \"Bilde\"\n        },\n        \"iptcdata\": {\n            ...iptcdata,\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"IPTC\"\n        },\n        \"exifdata\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"EXIF\"\n        },\n    }\n}","export default {\n    \"headline\": {\n        \"ui:help\": \"Brief synopsis or summary of the image's content\"\n    },\n    \"caption\": {\n        \"ui:help\": \"The who, what and why of what the photograph depicts.\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"captionWriter\": {\n        \"ui:help\": \"Enter the name of the person writing, editing or correcting the description of the photograph in this field.\"       \n    },\n    \"credit\": {\n        \"ui:help\": \"How to acknowledge the supplying person(s) and/or organization(s) when publishing the image.\"\n    },\n    \"keywords\": {\n        \"ui:title\": \"Keywords\",\n        \"ui:help\": \"Terms or phrases to describe the subject of content in the photograph.\",\n        \"ui:widget\": \"tags\",\n    },\n    \"bylineTitle\": {\n        \"ui:help\": \"Creator's job title.\",\n    },\n    \"byline\": {\n        \"ui:help\": \"Creator.\"       \n    },\n    \"copyright\": {\n        \"ui:help\": \"Copyright notice.\",\n    },\n    \"dateCreated\": {\n        \"ui:help\": \"Date image was created.\"       \n    },\n\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"mediaId\": {\n                \"type\": \"string\",\n                \"readonly\": true\n            },\n            \"media\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"mediaType\": {\n                        \"type\": \"string\",\n                        \"default\": \"audio\"\n                    },\n                    \"locale\": {\n                        \"type\": \"string\"\n                    },\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"filename\": {\n                        \"type\": \"string\",\n                        \"readonly\": true\n                    },\n                    \"mimeType\": {\n                        \"type\": \"string\",\n                        \"readonly\": true\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"mediaId\": {\n                \"type\": \"string\",\n                \"readonly\": true\n            },\n            \"media\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"mediaType\": {\n                        \"type\": \"string\",\n                        \"default\": \"subtitles\"\n                    },\n                    \"locale\": {\n                        \"type\": \"string\"\n                    },\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"filename\": {\n                        \"type\": \"string\",\n                        \"readonly\": true\n                    },\n                    \"mimeType\": {\n                        \"type\": \"string\",\n                        \"readonly\": true\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"ui:field\": \"mediaChildren\",\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Lydspor\",\n    \"ui:icon\": \"library_music\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData = []}) {\n            const title = formData.length + \" lydspor\"\n            return {\n                title: title\n            }\n        }\n    },\n    \"items\": {\n        \"ui:layout\": \"module\"\n    }\n}","export default {\n    \"ui:field\": \"mediaChildren\",\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Undertekster\",\n    \"ui:icon\": \"library_books\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData = []}) {\n            const title = formData.length + \" undertekster\"\n            return {\n                title: title\n            }\n        }\n    },\n    \"items\": {\n        \"ui:layout\": \"module\"\n    }\n}","import schema from './schema';\nimport uiSchema from './uiSchema';\n\nexport default {\n  schemaType: 'media',\n  name: 'video',\n  title: 'Media/Video',\n  schema: schema,\n  uiSchema: uiSchema,\n}","import media from \"../media/schema\"\nimport category from './category/schema'\nimport dependencies from './dependencies'\nimport audiotracks from \"../media/audiotracks/schema\"\nimport captions from \"../media/captions/schema\"\n\nexport default {\n    ...media,\n    \"properties\": {\n        ...media.properties,\n        \"content\": {\n            ...media.properties.content,\n            \"properties\": {\n                ...media.properties.content.properties,\n                \"category\": category,\n                \"volume\": {\n                    \"type\": \"integer\",\n                    \"minimum\": -10,\n                    \"maximum\": 10\n                },\n                \"videoWidth\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"videoHeight\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"duration\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"audiotracks\": audiotracks,\n                \"captions\": captions\n            },\n            \"dependencies\": {\n                ...media.properties.content.dependencies,\n                ...dependencies\n            }\n        }\n    }\n}","export default {\n  \"type\": \"string\",\n  \"enum\": [\n    \"movie\",\n    \"tv\",\n    \"music\"\n  ],\n  \"enumNames\": [\n    \"Film\",\n    \"TV-program\",\n    \"Musikkvideo\"\n  ],\n  \"default\": \"movie\"\n}","export default {\n  \"category\" : {\n  \t\"oneOf\": [\n  \t  {\n    \t  \"properties\": {\n  \t\t\t  \"category\": {\n  \t\t\t\t  \"enum\": [\"movie\"]\n  \t\t\t  },\n  \t\t\t  \"director\": {\n            \"type\": \"string\"\n  \t\t\t  },\n  \t\t\t  \"producer\": {\n            \"type\": \"string\"\n  \t\t\t  },\n          \"locationShown\": {\n            \"type\": \"string\"\n          },\n          \"locationShot\": {\n            \"type\": \"string\"\n          }\n    \t\t}\n    \t},\n  \t  {\n    \t  \"properties\": {\n  \t\t\t  \"category\": {\n  \t\t\t\t  \"enum\": [\"music\"]\n  \t\t\t  },\n  \t\t\t  \"director\": {\n            \"type\": \"string\"\n  \t\t\t  },\n  \t\t\t  \"producer\": {\n            \"type\": \"string\"\n  \t\t\t  },\n          \"album\": {\n            \"type\": \"string\"\n          },\n          \"artist\": {\n            \"type\": \"string\"\n          },\n          \"composer\": {\n            \"type\": \"string\"\n          },\n          \"copywriter\": {\n            \"type\": \"string\"\n          },\n          \"releaseYear\": {\n            \"type\": \"string\"\n          },\n          \"recordCompany\": {\n            \"type\": \"string\"\n          },\n          \"catalogNumber\": {\n            \"type\": \"string\"\n          }\n    \t\t}\n    \t},\n  \t  {\n    \t  \"properties\": {\n  \t\t\t  \"category\": {\n  \t\t\t\t  \"enum\": [\"tv\"]\n  \t\t\t  },\n  \t\t\t  \"director\": {\n            \"type\": \"string\"\n  \t\t\t  },\n  \t\t\t  \"producer\": {\n            \"type\": \"string\"\n  \t\t\t  },\n          \"series\": {\n            \"type\": \"string\"\n          },\n          \"season\": {\n            \"type\": \"string\"\n          },\n          \"episode\": {\n            \"type\": \"string\"\n          },\n          \"locationShown\": {\n            \"type\": \"string\"\n          },\n          \"locationShot\": {\n            \"type\": \"string\"\n          }\n    \t\t}\n    \t}\n    ]\n  }\n}","import uiSchema from '../media/uiSchema';\nimport audiotracks from '../media/audiotracks/uiSchema';\nimport captions from '../media/captions/uiSchema';\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"data\",\n            \"audiotracks\",\n            \"captions\",\n            \"metadata\",\n            \"rights\"\n        ],\n        \"data\": {\n            ...uiSchema.content.data,\n            \"ui:icon\": \"movie\",\n            \"ui:title\": \"Video\",\n        },\n        \"audiotracks\": audiotracks,\n        \"captions\": captions\n    }\n}","import schema from './schema';\nimport uiSchema from './uiSchema';\n\nexport default {\n  schemaType: 'media',\n  name: 'audio',\n  title: 'Media/Audio',\n  schema: schema,\n  uiSchema: uiSchema,\n}","import media from \"../media/schema\"\nimport category from './category/schema';\nimport dependencies from './dependencies';\nimport artwork from \"../media/artwork/schema\"\nimport audiotracks from \"../media/audiotracks/schema\"\nimport captions from \"../media/captions/schema\"\n\nexport default {\n    ...media,\n    \"properties\": {\n        ...media.properties,\n        \"content\": {\n            ...media.properties.content,\n            \"properties\": {\n                ...media.properties.content.properties,\n                \"category\": category,\n                \"duration\": {\n                    \"type\": \"number\"\n                },\n                \"volume\": {\n                    \"type\": \"integer\",\n                    \"minimum\": -10,\n                    \"maximum\": 10\n                },\n                \"artwork\": artwork,\n                \"audiotracks\": audiotracks,\n                \"captions\": captions\n            },\n            \"dependencies\": dependencies\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"sound\",\n        \"music\"\n    ],\n    \"enumNames\": [\n        \"Generell\",\n        \"Musikk\"\n    ],\n    \"default\": \"sound\"\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"mediaId\": {\n                \"type\": \"string\",\n                \"readonly\": true\n            },\n            \"media\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"mediaType\": {\n                        \"type\": \"string\",\n                        \"default\": \"artwork\"\n                    },\n                    \"locale\": {\n                        \"type\": \"string\"\n                    },\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"filename\": {\n                        \"type\": \"string\",\n                        \"readonly\": true\n                    },\n                    \"mimeType\": {\n                        \"type\": \"string\",\n                        \"readonly\": true\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n  \"category\" : {\n  \t\"oneOf\": [\n  \t  {\n    \t  \"properties\": {\n  \t\t\t  \"category\": {\n  \t\t\t\t  \"enum\": [\"movie\"]\n  \t\t\t  },\n  \t\t\t  \"director\": {\n            \"type\": \"string\"\n  \t\t\t  },\n  \t\t\t  \"producer\": {\n            \"type\": \"string\"\n  \t\t\t  },\n          \"locationShown\": {\n            \"type\": \"string\"\n          },\n          \"locationShot\": {\n            \"type\": \"string\"\n          }\n    \t\t}\n    \t},\n  \t  {\n    \t  \"properties\": {\n  \t\t\t  \"category\": {\n  \t\t\t\t  \"enum\": [\"music\"]\n  \t\t\t  },\n  \t\t\t  \"director\": {\n            \"type\": \"string\"\n  \t\t\t  },\n  \t\t\t  \"producer\": {\n            \"type\": \"string\"\n  \t\t\t  },\n          \"album\": {\n            \"type\": \"string\"\n          },\n          \"artist\": {\n            \"type\": \"string\"\n          },\n          \"composer\": {\n            \"type\": \"string\"\n          },\n          \"copywriter\": {\n            \"type\": \"string\"\n          },\n          \"releaseYear\": {\n            \"type\": \"string\"\n          },\n          \"recordCompany\": {\n            \"type\": \"string\"\n          },\n          \"catalogNumber\": {\n            \"type\": \"string\"\n          }\n    \t\t}\n    \t},\n  \t  {\n    \t  \"properties\": {\n  \t\t\t  \"category\": {\n  \t\t\t\t  \"enum\": [\"tv\"]\n  \t\t\t  },\n  \t\t\t  \"director\": {\n            \"type\": \"string\"\n  \t\t\t  },\n  \t\t\t  \"producer\": {\n            \"type\": \"string\"\n  \t\t\t  },\n          \"series\": {\n            \"type\": \"string\"\n          },\n          \"season\": {\n            \"type\": \"string\"\n          },\n          \"episode\": {\n            \"type\": \"string\"\n          },\n          \"locationShown\": {\n            \"type\": \"string\"\n          },\n          \"locationShot\": {\n            \"type\": \"string\"\n          }\n    \t\t}\n    \t}\n    ]\n  }\n}","import uiSchema from '../media/uiSchema';\nimport artwork from '../media/artwork/uiSchema';\nimport audiotracks from '../media/audiotracks/uiSchema';\nimport captions from '../media/captions/uiSchema';\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"data\",\n            \"artwork\",\n            \"audiotracks\",\n            \"captions\",\n            \"metadata\",\n            \"rights\",\n        ],\n        \"data\": {\n            ...uiSchema.content.data,\n            \"ui:icon\": \"album\",\n            \"ui:title\": \"Audio\"\n        },\n        \"artwork\": artwork,\n        \"audiotracks\": audiotracks,\n        \"captions\": captions\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:field\": \"mediaChildren\",\n    \"ui:title\": \"Artwork\",\n    \"ui:icon\": \"photo_library\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData = []}) {\n            const title = formData.length + \" bilder\"\n            return {\n                title: title\n            }\n        }\n    },\n    \"items\": {\n        \"ui:layout\": \"module\"\n    }\n}","import schema from './schema';\nimport uiSchema from './uiSchema';\n\nexport default {\n  schemaType: 'media',\n  name: 'misc',\n  title: 'Media/Misc',\n  schema: schema,\n  uiSchema: uiSchema,\n}","\n\nimport media from \"../media/schema\"\n\nexport default {\n    ...media,\n    \"properties\": {\n        ...media.properties,\n        \"content\": {\n            ...media.properties.content\n        }\n    }\n}","import uiSchema from '../media/uiSchema';\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"data\",\n            \"metadata\",\n            \"rights\",\n        ],\n        \"data\": {\n            ...uiSchema.content.data,\n            \"ui:icon\": \"album\",\n            \"ui:title\": \"Misc\"\n        },\n    }\n}","export default {\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"title\",\n        \"description\",\n        \"source\",\n        \"sourceId\"\n    ],\n    \"title\": {\n        \"ui:title\": \"Tittel\",\n        \"ui:help\": \"Original tittel.\"\n    },\n    \"description\": {\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\",\n        \"ui:help\": \"Original beskrivelse.\"\n    },\n    \"source\": {\n        \"ui:title\": \"Kilde\",\n    },\n    \"sourceId\": {\n        \"ui:title\": \"Kildens id\",\n    },\n\n}","import image from './image';\nimport video from './video';\nimport audio from './audio';\nimport misc from './misc';\nimport vimeo from './vimeo';\nimport youtube from './youtube';\nimport sketchfab from './sketchfab';\n\n/*\nconst schemas = {\n    \"image\": image,\n    \"video\": video,\n    \"audio\": audio\n}\n*/\n\nconst schemas = [\n    image,\n    video,\n    audio,\n    vimeo,\n    misc,\n    youtube,\n    sketchfab\n]\n\nexport default schemas;","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n\nexport default {\n    id: 1,\n    schemaType: 'media',\n    name: 'video/vimeo',\n    schema: schema,\n    uiSchema: uiSchema,\n}","export default {\n    \"type\": \"object\",\n    \"readonly\": true,\n    \"properties\": {\n        \"uniqueId\": {\n            \"type\": \"string\"\n        },\n        \"sourceId\": {\n            \"type\": \"string\"\n        },\n        \"mediaType\": {\n            \"type\": \"string\"\n        },\n        \"imageUrl\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"description\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"title\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                }\n            }\n        }\n    }\n}","import source from \"../media/source/uiSchema\"\nimport uiSchema from \"../media/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:fieldset\": [\n        \"contentSource\"\n    ],\n    \"contentSource\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"source\"\n        ],\n        \"source\": {\n            ...source,\n            \"ui:layout\": \"section\",\n            \"ui:icon\": \"movie\",\n            \"ui:title\": \"Vimeo\",\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n\nexport default {\n    id: 1,\n    schemaType: 'media',\n    name: 'video/youtube',\n    schema: schema,\n    uiSchema: uiSchema,\n}","export default {\n    \"type\": \"object\",\n    \"readonly\": true,\n    \"properties\": {\n        \"uniqueId\": {\n            \"type\": \"string\"\n        },\n        \"sourceId\": {\n            \"type\": \"string\"\n        },\n        \"mediaType\": {\n            \"type\": \"string\"\n        },\n        \"imageUrl\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        }\n    }\n}","import source from \"../media/source/uiSchema\"\nimport uiSchema from \"../media/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:fieldset\": [\n        \"contentSource\"\n    ],\n    \"contentSource\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"source\"\n        ],\n        \"source\": {\n            ...source,\n            \"ui:layout\": \"section\",\n            \"ui:icon\": \"movie\",\n            \"ui:title\": \"YouTube\",\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n\nexport default {\n    id: 1,\n    schemaType: 'media',\n    name: 'application/sketchfab',\n    schema: schema,\n    uiSchema: uiSchema,\n}","export default {\n    \"type\": \"object\",\n    \"readonly\": true,\n    \"properties\": {\n        \"uniqueId\": {\n            \"type\": \"string\"\n        },\n        \"sourceId\": {\n            \"type\": \"string\"\n        },\n        \"mediaType\": {\n            \"type\": \"string\"\n        },\n        \"imageUrl\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        }\n    }\n}","import source from \"../media/source/uiSchema\"\nimport uiSchema from \"../media/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:fieldset\": [\n        \"contentSource\"\n    ],\n    \"contentSource\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"source\"\n        ],\n        \"source\": {\n            ...source,\n            \"ui:layout\": \"section\",\n            \"ui:icon\": \"local_play\",\n            \"ui:title\": \"Sketchfab\",\n        }\n    }\n}","import registry from \"../../../components/registry\"\nconst themeEditor = registry.models.themeEditor\n\nexport default {\n    ...themeEditor.schema\n}","import theme from \"./theme/schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"modelName\": {\n            \"type\": \"string\",\n            \"default\": \"collections\",\n            \"readOnly\": true\n        },\n        \"collectionType\": {\n            \"type\": \"string\",\n            \"default\": \"kp\",\n            \"readOnly\": true\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"readOnly\": true\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"siteId\": {\n            \"type\": \"number\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"name\": {\n                    \"type\": \"string\",\n                    \"readOnly\": true\n                },\n                \"title\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                },\n                \"siteId\": {\n                    \"type\": \"number\"\n                },\n                \"theme\": theme,\n            }\n        }\n    }\n}","import icons from \"../../icons\"\n\nexport default {\n    \"select\": {\n        \"siteId\": \"siteId\",\n        \"title\": \"title\",\n        \"name\": \"name\",\n        \"metadata\": \"metadata\",\n        \"icon\": \"icon\"\n    },\n    prepare({formData, formContext}) {\n        let { id, siteId, siteName, name, title, collectionType, content = {} } = formData\n\n        if (content) {\n\n            title = content.title\n            siteId = content.siteId\n            name = title && collectionType + \":\" + title.replace(' ', '-').toLowerCase()\n\n        }\n        \n        const metadata = [\n            \"Id:\"+id,\n            \"Site:\"+siteName,\n        ]\n\n        return {\n            siteId: siteId,\n            title: title,\n            name: name,\n            metadata: metadata,\n            icon: icons[\"kpMenu\"]\n        }\n    }\n}","import registry from \"../../../components/registry\"\nconst themeEditor = registry.models.themeEditor\n\nexport default {\n    ...themeEditor.uiSchema,\n    \"ui:title\": \"Theme\",\n    \"ui:icon\": \"palette\",\n    \"ui:layout\": \"section\",\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n//import PreviewTemplate from \"../../preview/BpnCollectionPreview\"\n\nexport default {\n    id: 1,\n    schemaType: \"collections\",\n    name: 'kp',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import uiPreview from \"./uiPreview\"\nimport header from \"./header/uiSchema\"\nimport theme from \"./theme/uiSchema\"\n\nexport default {\n    \"ui:preview\": uiPreview,\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": {\n        \"ui:fieldset\": [\n            \"modelName\",\n            \"collectionType\",\n            \"title\",\n            \"name\",\n            \"siteId\"\n        ],\n        \"siteId\": {\n            \"ui:field\": \"collectionSiteId\"\n        }\n    },\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"theme\"\n        ],\n        \"header\": header,\n        \"theme\": theme\n    }\n}","export default {\n    \"ui:title\": \"Informasjon\",\n    \"ui:icon\": \"info\",\n    \"ui:layout\": \"section\",\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"title\",\n        \"description\",\n        \"siteId\"\n    ],\n    \"title\": {\n        \"ui:title\": \"Tittel\"\n    },\n    \"description\": {\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"siteId\": {\n        \"ui:title\": \"Eier\",\n        \"ui:field\": \"collectionSiteId\"\n    },\n\n}","export default {\n    \"type\": \"string\",\n    \"format\": \"size\",\n    \"enum\": [\n      \"small\",\n      \"medium\",\n      \"large\",\n      \"xl\"\n    ],\n    \"enumNames\": [\n      \"Small\",\n      \"Medium\",\n      \"Large\",\n      \"XL\"\n    ],\n    \"default\" : \"small\"\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"1:1\",\n        \"2:1\",\n        \"4:3\"\n    ],\n    \"default\" : \"1:1\"\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\n//import PreviewTemplate from \"@frontend-components/admin/lib/components/AppKp/preview/Article\"\n\nexport default {\n    id: 1,\n    schemaType: \"documents\",\n    name: 'article',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import section from './section/schema'\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"article\"\n        },\n        \"collectionId\": {\n            \"type\": \"number\",\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"location\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"lat\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        },\n                        \"lng\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        },\n                        \"zoom\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        }\n                    }\n                },\n                \"keywords\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [],\n                    },\n                    \"uniqueItems\": true\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\",\n                    \"properties\": {\n                        \"content\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"headline\": {\n                                    \"type\": \"localizedString\"\n                                },\n                                \"caption\": {\n                                    \"type\": \"localizedString\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"author\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"type\": \"string\"\n                        },\n                        \"description\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"sections\" : {\n                    \"type\": \"array\",\n                    \"items\": section\n                },\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"topic\",\n                        \"referenceType\": \"articleIsPartOf\",\n                        \"_reverseReferenceType\": \"topicHasArticles\",\n                        \"_reverseReference\": \"hasArticles[]\"\n                    }\n                }\n            }\n        }\n    }\n}","import sectionType from './sectionType';\nimport sectionText from './sectionText';\nimport sectionMedia from './sectionMedia';\nimport sectionDm from './sectionDm';\nimport sectionLinks from './sectionLinks';\nimport sectionAttachments from './sectionAttachments';\nimport sectionQuote from './sectionQuote';\n  \nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": sectionType,\n        \"title\": {\n            \"type\" : \"localizedString\"\n        },\n        \"titleHidden\": {\n            \"type\" : \"boolean\"\n        }\n    },\n    \"dependencies\": {\n        \"sectionType\" : {\n            \"oneOf\": [\n                sectionText,\n                sectionMedia,\n                sectionDm,\n                sectionLinks,\n                sectionAttachments,\n                sectionQuote,\n            ]\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"text\",\n        \"media\",\n        \"dm\",\n        \"links\",\n        \"attachments\",\n        \"quote\"\n    ],\n    \"enumNames\": [\n        \"Tekst\",\n        \"Media\",\n        \"DM\",\n        \"Lenker\",\n        \"Vedlegg\",\n        \"Sitat\"\n    ],\n    \"default\" : \"text\"\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"text\"]\n        },\n        \"leadtext\": {\n            \"type\": \"localizedString\"\n        },\n        \"bodytext\": {\n            \"type\": \"localizedString\"\n        }\n    }\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"media\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"list\",\n                \"grid\",\n                \"slideshow\",\n            ],\n            \"enumNames\": [\n                \"Liste\",\n                \"Grid\",\n                \"Slideshow\",\n            ],\n            \"default\" : \"grid\"\n          },\n        \"media\": media\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","import ekultur from \"./ekultur\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"dm\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"grid\",\n              \"grid-wide\",\n              \"slideshow\",\n              \"slideshow-wide\"\n            ],\n            \"enumNames\": [\n              \"Grid\",\n              \"Grid Wide\",\n              \"Slideshow\",\n              \"Slideshow Wide\"\n            ],\n            \"default\" : \"grid\"\n          },\n        \"references\": ekultur\n    }\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"reference\",\n        \"referenceType\": \"ekultur\"\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"links\"]\n        },\n        \"links\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"url\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}","import attachments from \"./attachments\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"attachments\"]\n        },\n        \"attachments\": attachments\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"quote\"]\n        },\n        \"quote\": {\n            \"type\": \"localizedString\"\n        },\n        \"cite\": {\n            \"type\": \"string\"\n        }\n    }\n}","import header from \"./header/uiSchema\";\nimport body from \"./body/uiSchema\";\nimport isPartOf from \"./isPartOf/uiSchema\";\nimport settings from \"./settings/uiSchema\";\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\",\n            \"isPartOf\"\n        ],\n        \"header\": header,\n        \"body\": body,\n        \"isPartOf\": isPartOf\n    }\n}","import icons from \"../../icons\"\n\nexport default {\n  \"select\": {\n        \"icon\": \"icon\",\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\"\n  },\n  prepare({formData, formContext}) {\n    let { documentType, title, content, description } = formData\n\n    const defaultLocale = formContext && formContext.defaultLocale\n    const currentLocale = formContext && formContext.currentLocale\n    const locale = defaultLocale ||currentLocale ||formData.locale\n    const localeId =  \"locale:\" + locale\n\n    let metadata = []\n\n    const titleImage = content && content.titleImage\n    const imageUrl = titleImage && titleImage.media && titleImage.media.imageUrl\n    \n    if (content) {\n\n        title = content.title && content.title[localeId]\n        description = content.description && content.description[localeId]\n\n        const { location, sections, isPartOf } = content\n\n        if (location && location.lat && location.lng) {\n            \n            if (location.address) {\n                metadata.push(location.address)\n            } else {\n                metadata.push(\"Sted\")\n            }\n            \n        }\n\n        if (sections && sections.length) {\n            metadata.push(sections.length + ' seksjoner')\n        }\n\n        if (isPartOf && isPartOf.length) {\n            metadata.push(isPartOf.length + ' tema')\n        }\n        \n                \n    }\n\n    return {\n        icon: icons[\"article\"],\n        imageUrl: imageUrl,\n        untitled: \"Ny artikkel\",\n        title: title || \"Uten tittel\",\n        description: description,\n        metadata: metadata,\n        typeLabel: documentType\n    }\n    \n  }\n  \n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n        \"geocoder\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"documentType\",\n            \"collectionId\",\n            \"locale\",\n            \"content\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"documentType\": {\n        },\n        \"collectionId\": {\n            \"ui:field\": \"documentCollectionId\",\n            \"ui:query\": {\n                \"collectionType\": \"kp\"\n            }\n        },\n        \"locale\": {\n            \"ui:field\": \"documentLocale\"\n        },\n        \"content\": {\n            \"ui:fieldset\": [\n                \"keywords\",\n                \"license\",\n                \"location\"\n            ],\n            \"keywords\": {\n                \"ui:widget\": \"tags\",\n                \"ui:title\": \"Nkkelord\",\n                \"ui:help\": \"Beskrivende stikkord.\",\n            },\n            \"license\": {\n//                \"ui:widget\": \"selectLicense\",\n                \"ui:title\": \"Lisens\",\n                \"ui:help\": \"Velg en lisens for dette innholdet.\",\n            },\n            \"location\": {\n                \"ui:options\": {\n                    \"grid\": true,\n                    \"spacing\": 2,\n                },\n                \"ui:fieldset\": [\n                    \"map\",\n                    \"info\"\n                ],\n                \"map\": {\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                    \"ui:options\": {\n                        \"minWidth\": 200,\n                        \"minHeight\": 200\n                    },\n                    \"ui:field\": \"kpGeopoint\",\n                    \"ui:layout\": \"kpGeopoint\",\n                    \"ui:overlay\": {\n                        \"template\": \"kpGeocoder\"\n                    }\n                },\n                \"info\": {\n                    \"ui:options\": {\n                        \"spacing\": 2,\n                    },\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                }\n            }\n        }\n    },\n    \"geocoder\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Lokasjon\",\n        \"ui:icon\": \"near_me\",\n        \"ui:options\": {\n            \"position\": \"absolute\",\n            \"padding\": 2,\n            \"grid\": false\n        },\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"location\"\n            ],\n            \"location\": {\n                \"ui:field\": \"kpGeopoint\",\n                \"ui:layout\": \"kpGeocoder\",\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\",\n    ],\n    \"ui:layout\": \"section\",\n    \"ui:options\" : {\n        \"collapsible\": true,\n        \"expanded\": true,\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Header\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.title && formData.title[localeId]  \n    \n            return {\n                description: description\n            }\n    \n        }\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:field\": \"media\",\n//        \"ui:minHeight\": 240,\n        \"ui:options\": {\n            \"editable\": true,\n            \"hotspot\": true\n        },\n        \"ui:buttons\": [\n            {\n                \"title\": \"Finn hovedbilde\",\n                \"icon\": \"search\",\n                \"type\": \"sidebar\"\n            },\n        ],\n        \"ui:fieldset\": [\n            \"media\",\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"author\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"author\": {\n            \"fieldset\": [\n                \"name\",\n                \"description\"\n            ],\n            \"name\": {\n                \"ui:title\": \"Forfatter\"\n            },\n            \"description\": {\n                \"ui:title\": \"Forfatter, beskrivelse\",\n            },\n        }        \n    }\n\n}","import section from \"../section/uiSchema\";\n\nexport default {\n    \"ui:fieldset\": [\n        \"sections\"\n    ],\n    \"sections\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Innhold\",\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\" \n            },\n            prepare({formData = []}) {\n    \n                let description;\n    \n                if (formData.length && formData.length === 1) {\n                    description = formData.length + \" seksjon\"\n                } else if (formData.length) {\n                    description = formData.length + \" seksjoner\"\n                } else {\n                    description = \"Ingen seksjoner\"\n                }\n    \n                return {\n                    \"description\": description\n                }\n            }\n        },\n        \"ui:options\" : {\n            \"collapsible\": true,\n            \"expanded\": true,\n            \"draggable\": true,\n            \"spacing\": 2,\n        },\n        \"ui:buttons\" : [\n            {\n                \"icon\": \"subject\",\n                \"title\" : \"Tekst\",\n                \"item\" : {\n                    \"sectionType\" : \"text\"\n                }\n            },\n            {\n                \"icon\": \"insert_photo\",\n                \"title\" : \"Media\",\n                \"item\" : {\n                    \"sectionType\" : \"media\"\n                }\n            },\n            {\n                \"icon\": \"fingerprint\",\n                \"title\" : \"DM\",\n                \"item\" : {\n                    \"sectionType\" : \"dm\"\n                }\n            },\n            {\n                \"icon\": \"insert_link\",\n                \"title\" : \"Lenker\",\n                \"item\" : {\n                    \"sectionType\" : \"links\"\n                }\n            },\n            {\n                \"icon\": \"attach_file\",\n                \"title\" : \"Vedlegg\",\n                \"item\" : {\n                    \"sectionType\" : \"attachments\"\n                }\n            },\n            {\n                \"icon\": \"format_quote\",\n                \"title\" : \"Sitat\",\n                \"item\" : {\n                    \"sectionType\" : \"quote\"\n                }\n            }\n        ],\n        \"items\": section\n    }\n}","import media from \"./mediaUi\"\nimport attachments from \"./attachmentsUi\"\nimport links from \"./linksUi\"\nimport ekultur from \"./ekulturUi\"\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"editable\": true,\n        \"hideable\": true,\n        \"removable\": true,\n        \"spacing\": 2\n    },\n    \"ui:settings\": [\n        \"sectionType\",\n        \"sectionLayout\"\n    ],\n    \"sectionType\": {\n        \"ui:enumIcons\": {\n            \"text\": \"subject\",\n            \"media\": \"insert_photo\",\n            \"links\": \"insert_link\",\n            \"attachments\": \"attach_file\",\n            \"quote\": \"format_quote\",\n            \"dm\": \"fingerprint\"\n        }\n    },\n    \"ui:fieldset\": [\n        \"head\",\n        \"body\"\n    ],\n    \"head\": {\n        \"ui:fieldset\": [\n            \"title\",\n            \"titleHidden\",\n            \"description\"\n        ],\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"title\": {\n            \"ui:xs\": 9,\n            \"ui:label\": false,\n            \"ui:placeholder\": \"Tittel\"\n        },\n        \"titleHidden\": {\n            \"ui:gridCols\": 3,\n            \"ui:title\": \"Skjul tittel\",\n            \"ui:widget\": \"switch\"\n        },\n        \"description\" : {\n            \"ui:gridCols\": 12,\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\" : \"textarea\",\n        }\n    },\n    \"body\": {\n        \"ui:fieldset\": [\n            \"media\",\n            \"attachments\",\n            \"references\",\n            \"bodytext\",\n            \"links\",\n            \"quote\",\n            \"cite\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"media\": media,\n        \"attachments\": attachments,\n        \"references\": ekultur,\n        \"bodytext\" : {\n            \"ui:title\": \"Brdtekst\",\n            \"ui:widget\" : \"texteditor\"\n        },\n        \"quote\" : {\n            \"ui:title\": \"Sitat\",\n            \"ui:widget\" : \"textarea\"\n        },\n        \"cite\" : {\n            \"ui:title\": \"Byline\",\n        },\n        \"links\" : links\n    }\n}","export default {\n    \"select\": {\n        \"title\": \"title\",\n        \"untitled\": \"untitled\",\n        \"description\": \"description\"\n    },\n    prepare({formData, formContext}) {\n        const localeId = \"locale:no\"\n        const title = formData.title && formData.title[localeId]\n\n        const sectionType = formData.sectionType\n        const untitled = \"Untitled \" + sectionType\n\n        const {bodytext, media, references, links, attachments, cite, quote } = formData\n\n        let description;\n\n        if (sectionType === \"text\") {\n            description = bodytext && bodytext[localeId]\n        }\n\n        if (sectionType === \"media\") {\n            description = media && media.length + \" media\"\n        }\n\n        if (sectionType === \"dm\") {\n            description = references && references.length + \" referanser\"\n        }\n\n        if (sectionType === \"links\") {\n            description = links && links.length + \" lenker\"\n        }\n\n        if (sectionType === \"attachments\") {\n            description = attachments && attachments.length + \" vedlegg\"\n        }\n\n        if (sectionType === \"quote\") {\n            description = []\n\n            cite && description.push(cite)\n            quote && quote[localeId] && description.push(quote[localeId])\n\n            description = description.join(\": \")\n        }\n\n        return {\n            title: title,\n            untitled: untitled,\n            description: description\n        }\n\n    }\n}","export default {\n    \"ui:title\": \"Media\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video/*\",\"audio/*\",\"youtube\",\"vimeo\",\"sketchfab\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\"\n        }\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:settings\": [\n            \"mediaSize\",\n            \"mediaFormat\"\n        ],\n        \"ui:fieldset\": [\n            \"content\",\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Vedlegg\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"misc\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn vedlegg\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Referanser\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"ekultur\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn referanse\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"title\": \"title\"\n            },\n            prepare({formData}) {\n                const { imageUrl, title } = formData.reference;\n\n                return {\n                    imageUrl: imageUrl,\n                    title: title\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Lenker\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": {\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\"\n            },\n            prepare({formData}) {\n                return {\n                    description: formData.url\n                }\n            }\n        },\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:options\": {\n                \"grid\": true,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"title\",\n                \"url\"\n            ],\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"url\": {\n                \"ui:title\": \"URL\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Er en del av\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\" \n        },\n        prepare({formData = []}) {\n\n            let description;\n\n            if (formData.length) {\n                description = formData.length + \" tema\"\n            } else {\n                description = \"Ingen tema\"\n            }\n\n            return {\n                \"description\": description\n            }\n        }\n    },\n    \"ui:options\" : {\n        \"draggable\": true,\n        \"collapsible\": true,\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn tema\"\n        },\n        {\n            \"title\": \"Legg til\"\n        }\n    ]\n}","import documentType from \"./documentType/schema\"\nimport links from \"./links/schema\"\nimport linksLayout from \"./linksLayout/schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": documentType,\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"collectionId\": {\n            \"type\": \"string\",\n        },\n        \"parentId\": {\n            \"type\": \"string\",\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"mapLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"default\",\"roundtrip\"],\n                    \"default\": \"default\"\n                },\n                \"mediaLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"gallery\",\"autoplay\"],\n                    \"default\": \"gallery\"\n                },\n                \"annotateLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"imagemap\",\"legends\"],\n                    \"default\": \"imagemap\"\n                },\n                \"annotateColor\": {\n                    \"type\": \"color\",\n                    \"enum\": [\"red\",\"green\",\"blue\",\"black\",\"white\"]\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"annotations\": true,\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"parallaxImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"linksLayout\": linksLayout,\n                \"links\": links,\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"presentation\",\n                        \"referenceType\": \"pageIsPartOf\",\n                        \"_reverseReferenceType\": \"presentationHasPages\",\n                        \"_reverseReference\": \"hasPages[]\"\n                    }\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"pageHome\",\n        \"pageTopic\",\n        \"pageMap\"\n    ],\n    \"enumNames\": [\n        \"Startside\",\n        \"Tema\",\n        \"Kart\"\n    ]\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"list\",\n        \"mosaic\",\n        \"imagelegend\",\n        \"imagemap\",\n        \"gallery\",\n        \"autoplay\",\n        \"timeline\"\n    ],\n    \"enumNames\": [\n        \"Liste\",\n        \"Mosaikk\",\n        \"Bildeforklaring\",\n        \"Bildekart\",\n        \"Mediagalleri\",\n        \"Autoplay\",\n        \"Tidslinje\"\n    ],\n    \"default\" : \"list\"\n}","import items from \"./items\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": items\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\"\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import icons from \"../../icons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\",\n        \"icon\": \"icon\"\n    },\n    prepare({formData, formContext}) {\n        const { parents, children, parentId, documentType, content } = formData\n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale ||currentLocale ||formData.locale\n        const localeId =  \"locale:\" + locale\n\n        let metadata = []\n\n        let path = []\n\n        parents && parents.map(parent => {\n            path.push(parent.title)\n        })\n\n        path.length && metadata.push(\"/\" + path.join('/'))\n\n        parentId && metadata.push(\"Parent: \" + parentId)\n\n        const backgroundImage = content && content.backgroundImage\n\n        const imageUrl = backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl\n\n        const icon = documentType && icons[documentType]\n        const title = content && content.title && content.title[localeId] ||formData.title\n        const description = content && content.description && content.description[localeId]\n\n        \n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            title: title ||\"Untitled\",\n            description: description,\n            metadata: metadata,\n            typeLabel: documentType,\n        }\n    \n    }\n  \n}","export default {\n    \"ui:layout\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"documentType\",\n            \"collectionId\",\n            \"locale\",\n            \"parentId\",\n            \"parents\",\n            \"children\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"collectionId\": {\n            \"ui:field\": \"documentCollectionId\",\n            \"ui:query\": {\n                \"collectionType\": \"kp\"\n            }\n        },\n        \"locale\": {\n            \"ui:field\": \"documentLocale\"\n        },\n        \"documentType\": {\n            \"ui:title\": \"Sidetype\"\n        },\n        \"parentId\": {\n            \"ui:field\": \"documentParentId\",\n            \"ui:title\": \"ParentId\",\n            \"ui:query\": {\n                \"documentType\": \"page*\",\n            }\n        },\n        \"parents\": {\n            \"ui:fieldset\": [\n                \"parentId\",\n                \"uniqueId\",\n                \"id\"\n            ],\n            \"ui:field\": \"documentParents\",\n            \"ui:query\": {\n                \"documentType\": \"page*\",\n            }\n        },\n        \"children\": {\n            \"ui:fieldset\": [\n                \"uniqueId\",\n                \"id\"\n            ],\n            \"ui:field\": \"documentChildren\",\n            \"ui:query\": {\n                \"documentType\": \"page*\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Presentasjon\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"title\",\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"title\": {\n        \"ui:title\": \"Tittel\"\n    },\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Media\",\n    \"ui:fieldset\": [\n        \"media\",\n    ],\n    \"ui:options\": {\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"media\": {\n        \"ui:options\": {\n//            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"backgroundImage\"\n        ],\n        \"backgroundImage\": {\n            \"ui:layout\": \"media\",\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn bakgrunnsbilde\"\n                }\n            ],\n            \"ui:fieldset\": [\n                \"media\",\"imageCropdata\",\"imageFilters\"\n            ],\n            \"media\": {\n                \"ui:title\": \"Bakgrunnsbilde\"\n            }\n        },\n        \"parallaxImage\": {\n            \"ui:layout\": \"media\",\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn parallaxbilde\"\n                }\n            ],\n            \"media\": {\n                \"ui:title\": \"Parallaxbilde\"\n            }\n        }        \n    }\n}","import items from \"./itemsUi\"\n\nexport default {\n    \"ui:title\": \"Lenker\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" lenker\"\n            }\n        }\n    },\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": [\"page*\",\"article\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn innhold\",\n        },\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": items\n}","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"module\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale ||formContext.defaultLocale ||\"no\";\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"backgroundColor\": {\n        \"ui:widget\": \"color\"\n    },\n    \"color\": {\n        \"ui:widget\": \"color\",\n        \"ui:settingsVariant\": \"text\"\n    },\n    \"grid\": {\n        \"ui:widget\": \"grid\",\n        \"ui:maxCols\": 5,\n        \"ui:maxRows\": 3\n    },\n    \"placement\": {\n        \"ui:widget\": \"placement\",\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"content\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                \"ui:settings\": [\n                    \"color\"\n                ]\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"titleColor\": {\n                \"ui:widget\": \"color\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markr\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import links from \"../links/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Innhold\",\n    \"ui:icon\": \"link\",\n    \"ui:fieldset\": [\n        \"links\"\n    ],\n    \"ui:settings\": [\n//        \"linksLayout\"\n    ],\n    \"links\": links\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./homeHeader/uiSchema\"\nimport media from \"./listMedia/uiSchema\"\nimport body from \"./listBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:fieldset\": [\n        \"title\",\n        \"leadtext\",\n        \"bodytext\"\n    ],\n    \"ui:title\": \"Hjemmeside\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    article: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        margin: theme.spacing(1),\n        overflowY: \"scroll\",\n\n        \"& *\": {\n            boxSizing: \"border-box\"\n        },\n\n        backgroundColor: \"white\",\n        fontFamily: \"Akkurat, sans-serif\",\n        lineHeight: 1.5,\n\n        \"& h1\": {\n            fontSize: \"1.5em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n        \"& h2\": {\n            fontSize: \"1.25em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n    }\n}));\n\nconst ArticleBase = ({className, children}) => {\n    const classes = useStyles()\n    return (\n        <article className={className ||classes.article}>\n            {children}\n        </article>\n    )\n}\n\nexport default ArticleBase","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n        margin: \"auto\"\n    },\n}));\n\n\nconst ArticleGrid = ({className, maxWidth = 720, children}) => {\n    const classes = useStyles({maxWidth})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            {children}\n        </section>\n    )\n\n}\n\nexport default ArticleGrid","import React from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n\n        \"&.h1\": {\n            fontSize: \"1.5em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n        \"&.h2\": {\n            fontSize: \"1.25em\",\n            fontWeight: \"bold\",\n            lineHeight: 1.25,\n            margin: \".5em 0\"\n        },\n\n    },\n}));\n\nconst ArticleTitle = ({className, component = \"h1\", language = \"no\", children}) => {\n\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <Typography className={className ||classes.title} component={component}>{children}</Typography    >\n    )\n}\n\nexport default ArticleTitle","import React from \"react\"\nimport ReactMarkdown from 'react-markdown';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    bodytext: {\n        \"& p\": {\n            margin: \"1em 0\"\n        },\n\n        \"& ul\": {\n            listStyle: \"disc\",\n            margin: \"1em 0\"\n        },\n\n        \"& ol\": {\n            listStyle: \"upper-roman\",\n            margin: \"1em 0\"\n        },\n\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleBodytext = ({className, language = \"no\", children}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <ReactMarkdown className={className ||classes.bodytext} source={children} />             \n    )\n}\n\nexport default ArticleBodytext","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n//        overflow: \"hidden\",\n        margin: \"auto\"\n    },\n    list: {\n        margin: props => { return theme.spacing(-props.spacing/2) },\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    item: {\n        width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        padding: props => { return theme.spacing(props.spacing/2) },\n\n        /*\n        width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns },\n        padding: props => { return theme.spacing(props.spacing/2) },\n        \"&[data-size=medium]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*2 },\n        },\n        \"&[data-size=large]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*4 },\n        },\n        \"&[data-size=xl]\": {\n            width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        }\n        */\n    }\n\n}));\n\n\nconst LayoutList = ({className, spacing = 2, padding = 0, maxWidth = 720, gridColumns = 4, mediaFormat = \"2:1\", children}) => {\n    const classes = useStyles({maxWidth, gridColumns, spacing, padding})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            <div className={className ||classes.list}>\n                {children.map((child, index) => {\n                    const item = React.cloneElement(child, {\n                        mediaFormat: mediaFormat\n                    })\n                    return (\n                        <div className={classes.item} data-size={item.props.size} key={index}>\n                            { item }\n                        </div>\n                    )\n                })}\n            </div>\n        </section>\n    )\n\n}\n\nexport default LayoutList","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        maxWidth: props => { return props.maxWidth },\n        overflow: \"hidden\",\n        margin: \"auto\"\n    },\n    grid: {\n        margin: props => { return theme.spacing(-props.spacing/2) },\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    item: {\n        width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns },\n        padding: props => { return theme.spacing(props.spacing/2) },\n        \"&[data-size=medium]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*2 },\n        },\n        \"&[data-size=large]\": {\n            width: props => { return (props.maxWidth+theme.spacing(props.spacing))/props.gridColumns*4 },\n        },\n        \"&[data-size=xl]\": {\n            width: props => { return props.maxWidth+theme.spacing(props.spacing) },\n        }\n    }\n\n}));\n\n\nconst LayoutGrid = ({className, spacing = 2, padding = 0, maxWidth = 720, gridColumns = 4, children}) => {\n    const classes = useStyles({maxWidth, gridColumns, spacing, padding})\n\n    return (\n        <section className={className ||classes.wrapper}>\n            <div className={className ||classes.grid}>\n                {children.map((child, index) => {\n                    const item = React.cloneElement(child)\n                    return (\n                        <div className={classes.item} data-size={item.props.size} key={index}>\n                            { item }\n                        </div>\n                    )\n                })}\n            </div>\n        </section>\n    )\n\n}\n\nexport default LayoutGrid","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CarouselProvider, Slider, Slide, ButtonBack, ButtonNext, DotGroup } from 'pure-react-carousel';\nimport 'pure-react-carousel/dist/react-carousel.es.css';\n\n\nconst useStyles = makeStyles(theme => ({\n    slideshow: {\n        position: \"relative\",\n        maxWidth: props => { return props.maxWidth },\n        margin: \"auto\"\n    },\n    slider: {\n        \"& ul\": {\n//            margin: 0\n        }\n    },\n    navigation: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    dots: {\n        position: \"absolute\",\n        right: 0,\n        left: 0,\n        bottom: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n    },\n    backButton: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        bottom: 0,\n    },\n    nextButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n\n    }\n}));\n\n\nconst LayoutSlideshow = ({className, spacing = 2, padding = 0, maxWidth = 720, mediaFormat = \"2:1\", children}) => {\n    const classes = useStyles({spacing, padding, maxWidth})\n\n    const totalSlides = children && children.length\n    const format = mediaFormat.split(':')\n\n    return (\n        <CarouselProvider className={className ||classes.slideshow}\n            naturalSlideWidth={format[0]}\n            naturalSlideHeight={format[1]}\n            totalSlides={totalSlides}>\n                <Slider className={classes.slider}>\n                    {children.map((child, index) => {\n                        const item = React.cloneElement(child, {\n                            mediaFormat: mediaFormat\n                        })\n                        return (\n                            <Slide index={index}>\n                                { item }\n                            </Slide>\n                        )\n                    })}\n                </Slider>\n                <nav className={classes.navigation}>\n                    <DotGroup className={classes.dots} />\n                    <ButtonBack className={classes.backButton}>Back</ButtonBack>\n                    <ButtonNext className={classes.nextButton}>Next</ButtonNext>\n                </nav>\n        </CarouselProvider>\n    )\n\n}\n\nexport default LayoutSlideshow","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: props => { return props.minHeight },\n        paddingBottom: props => { return props.ratio * 100 + \"%\" },\n    }\n}));\n\nconst LayoutFormat = ({format, minHeight, children}) => {\n\n    let ratio;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        ratio = h/w;\n    }\n\n    const classes = useStyles({ratio, minHeight})\n\n    if (ratio ||minHeight) {\n\n        return (\n            <div className={classes.format}\n                data-minHeight={minHeight}\n                data-ratio={ratio} \n                data-format={format}>\n                { children }\n            </div>\n        )\n           \n    }\n\n    return children\n\n}\n\nexport default LayoutFormat","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport LayoutFormat from \"./LayoutFormat\"\nimport {MediaPreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n//        paddingBotton: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"13px\",\n        lineHeight: 1.5,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    media: {\n        backgroundColor: \"grey\",\n        position: \"relative\",\n        width: \"100%\"\n    },\n    content: {\n        fontFamily: \"Akkurat, sans-serif\",\n        marginTop: \".25em\",\n    },\n    caption: {\n    },\n    headline: {\n        fontWeight: \"bold\",\n    },\n    byline: {\n        fontStyle: \"italic\"\n    },\n    license: {\n        \n    }\n}));\n\nconst ModuleMedia = ({mediaType, mediaFormat = \"1:1\", imageUrl, headline, caption, byline, license, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <article className={classes.module}>\n            <figure className={classes.media}>\n                <LayoutFormat format={mediaFormat}>\n                    <MediaPreview mediaType={mediaType} imageUrl={imageUrl} {...props} />\n                </LayoutFormat>\n            </figure>\n            <Typography component=\"figcaption\" className={classes.content}>\n                {headline && <strong className={classes.headline}>{headline}:</strong>}\n                {headline && \" \"}\n                {caption && <span className={classes.caption}>{caption}</span>}\n                {byline && \" \"}\n                {byline && <em className={classes.byline}>({byline})</em>}\n                {license && \" \"}\n                {license && <em className={classes.license}>{license}</em>}\n            </Typography>\n        </article>\n    )\n\n}\n\n\nexport default ModuleMedia;","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LayoutList from \"./LayoutList\"\nimport LayoutGrid from \"./LayoutGrid\"\nimport LayoutSlideshow from \"./LayoutSlideshow\"\n\n\nimport ModuleMedia from \"./ModuleMedia\"\n\nconst layouts = {\n    \"list\": LayoutList,\n    \"grid\": LayoutGrid,\n    \"slideshow\": LayoutSlideshow\n}\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        position: \"relative\"\n    },\n}));\n\nconst ArticleMedia = ({className, language = \"no\", layout = \"grid\", media = [], mediaWidth = 180, mediaHeight = 180}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles({mediaWidth, mediaHeight})\n\n    const renderMedia = ({media, mediaSize, mediaFormat, content}) => {\n        const mediaType = media && media.mediaType;\n\n        let headline = content && content.headline || media && media.content && media.content.headline ||undefined\n        let caption = content && content.caption || media && media.content && media.content.caption ||undefined\n\n        const byline = content && content.byline || media && media.content && media.content.byline ||undefined\n        const license = content && content.license || media && media.content && media.content.license ||undefined\n\n        if (typeof headline === \"object\") {\n            headline = headline[localeId] || undefined\n        }\n\n        if (typeof caption === \"object\") {\n            caption = caption[localeId] || undefined\n        }\n       \n        return (\n            <ModuleMedia {...media}\n                size={mediaSize} \n                mediaFormat={mediaFormat} \n                headline={headline} \n                caption={caption}\n                byline={byline}\n                license={license} />\n        )\n    \n    }\n        \n    if (!media.length) {\n        return false\n    }\n\n    const LayoutTemplate = layout && layouts[layout]\n\n    if (LayoutTemplate) {\n        return (\n            <LayoutTemplate>\n                { media.map(media => renderMedia(media))}\n            </LayoutTemplate>\n        )\n    }\n\n    return (\n        <div className={className}>\n            { media.map(media => renderMedia(media))}\n        </div>\n    )\n\n}\n\nexport default ArticleMedia","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: \"100%\",\n//        minHeight: \"240px\",\n        backgroundColor: \"#f2f2f2\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"13px\",\n        lineHeight: 1.5,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    media: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: \"100%\",\n        flexBasis: 0,\n        flexGrow: 1,\n        margin: 0\n    },\n    image: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        maxWidth: \"90%\",\n        maxHeight: \"90%\",\n        margin: \"auto\"\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n        padding: theme.spacing(.5),\n        minHeight: \"5em\"\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"1em\",\n        lineHeight: 1.25,\n        maxHeight: \"3.75em\",\n        overflow: \"hidden\",\n        display: \"-webkit-box\",\n        \"-webkit-line-clamp\": 3,\n        \"-webkit-box-orient\": \"vertical\",\n    },\n    footer: {\n        flexBasis: 0,\n        flexGrow: 0\n    }\n}));\n\nconst ModuleEkultur = ({size, documentType, imageUrl, title, author, objectCount, imageCount, videoCount, audioCount, commentCount}) => {\n    const classes = useStyles()\n\n    let metadata = [];\n\n    if (objectCount) {\n      metadata.push(objectCount + ' objekter'); \n    }\n    \n    if (imageCount) {\n      metadata.push(imageCount + ' bilder'); \n    }\n\n    if (videoCount) {\n      metadata.push(videoCount + ' videoer'); \n    }\n\n    if (audioCount) {\n      metadata.push(audioCount + ' lydklipp'); \n    }\n    \n    metadata = metadata.length && metadata.join(', ');    \n\n    return (\n        <article className={classes.module}>\n            <figure className={classes.media}>\n                <img className={classes.image} src={ imageUrl } />\n            </figure>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <Typography className={classes.title}>{title}</Typography>\n                </header>\n                <footer className={classes.footer}>\n                    <p></p>\n                    <b className=\"comments__label\">{ commentCount }</b>\n                </footer>\n            </div>\n        </article>\n    )\n\n}\n\n\nexport default ModuleEkultur;","import React from \"react\"\nimport LayoutGrid from \"./LayoutGrid\"\nimport ModuleEkultur from \"./ModuleEkultur\"\n\nconst layouts = {\n    \"grid\": LayoutGrid\n}\n\nconst templates = {\n    \"ekultur\": ModuleEkultur\n}\n\nconst ArticleReferences = ({className, language = \"no\", layout = \"grid\", references = []}) => {\n    const localeId = \"locale:\" + language;\n\n    const renderReference = ({referenceType, reference, content}) => {\n        let title = content && content.title || reference && reference.title ||undefined\n\n        if (typeof title === \"object\") {\n            title = title[localeId] || undefined\n        }\n\n        const ModuleTemplate = referenceType && templates[referenceType]\n\n        if (ModuleTemplate) {\n            return (\n                <ModuleTemplate {...reference} title={title} />\n            )\n        }\n\n        return (\n            <li>{title}</li>\n        )\n    \n    }\n        \n\n    if (!references.length) {\n        return false\n    }\n\n    const LayoutTemplate = layout && layouts[layout]\n\n    if (LayoutTemplate) {\n        return (\n            <LayoutTemplate>\n                { references.map(reference => renderReference(reference))}\n            </LayoutTemplate>\n        )\n    }\n\n    return (\n        <div className={className}>\n            { references.map(reference => renderReference(reference))}\n        </div>\n    )\n\n}\n\nexport default ArticleReferences","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    links: {\n        \"& ul\": {\n            listStyle: \"disc\",\n            margin: \"1em 0\"\n        },\n        \"& ol\": {\n            listStyle: \"upper-roman\",\n            margin: \"1em 0\"\n        },\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleLinks = ({className, language = \"no\", links = []}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n\n    const renderLink = ({title, url}) => {\n\n        if (typeof title === \"object\") {\n            title = title[localeId] || undefined\n        }\n\n        return (\n            <li><a href={url}>{title}</a></li>\n        )\n    \n    }\n        \n\n    if (!links.length) {\n        return false\n    }\n\n    return (\n        <div className={className ||classes.links}>\n            <ul>\n                { links.map(link => renderLink(link))}\n            </ul>\n        </div>\n    )\n\n}\n\nexport default ArticleLinks","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ArticleGrid from \"./ArticleGrid\"\nimport ArticleTitle from \"./ArticleTitle\"\nimport ArticleBodytext from \"./ArticleBodytext\"\nimport ArticleMedia from \"./ArticleMedia\"\nimport ArticleReferences from \"./ArticleReferences\"\nimport ArticleLinks from \"./ArticleLinks\"\n\nconst useStyles = makeStyles(theme => ({\n    head: {\n\n    }\n}));\n\nconst ArticleHead = ({className, language, title, leadtext, media}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={className || classes.head}>\n           <ArticleGrid>\n                <ArticleTitle language={language}>{title}</ArticleTitle>\n\n                { media && \n                    <ArticleMedia media={media} layout=\"list\" mediaFormat=\"2:1\" />\n                }\n\n                <ArticleBodytext language={language}>{leadtext}</ArticleBodytext>\n            </ArticleGrid>\n        </header>\n    )\n}\n\nexport default ArticleHead","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n\n    }\n}));\n\nconst ArticleBody = ({className, children}) => {\n    const classes = useStyles()\n    return (\n        <div className={className || classes.body}>\n            {children}\n        </div>\n    )\n}\n\nexport default ArticleBody","import React from \"react\"\nimport ReactMarkdown from 'react-markdown';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    leadtext: {\n        \"& strong\": {\n            fontWeight: \"bold\"\n        },\n        \"& em\": {\n            fontStyle: \"italic\"\n        }\n    },\n}));\n\nconst ArticleLeadtext = ({className, language = \"no\", children}) => {\n    const localeId = \"locale:\" + language;\n    const classes = useStyles()\n        \n    if (typeof children === \"object\") {\n        children = children[localeId] || undefined\n    }\n\n    return (\n        <ReactMarkdown className={className ||classes.leadtext} source={children} />             \n    )\n}\n\nexport default ArticleLeadtext","import React from \"react\"\nimport ArticleGrid from \"./ArticleGrid\"\nimport ArticleTitle from \"./ArticleTitle\"\nimport ArticleLeadtext from \"./ArticleLeadtext\"\nimport ArticleBodytext from \"./ArticleBodytext\"\nimport ArticleMedia from \"./ArticleMedia\"\nimport ArticleReferences from \"./ArticleReferences\"\nimport ArticleLinks from \"./ArticleLinks\"\n\nconst ArticleSection = ({sectionType, sectionLayout, language = \"no\", title, leadtext, bodytext, links = [], media = [], references = []}) => {\n\n    if (sectionType === \"media\") {\n        return (\n            <ArticleGrid>\n                <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n                <ArticleMedia layout={sectionLayout} language={language} media={media} />\n                <ArticleBodytext language={language}>{bodytext}</ArticleBodytext>\n            </ArticleGrid>\n        )\n    }\n\n    if (sectionType === \"references\") {\n        return (\n            <ArticleGrid>\n                <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n                <ArticleLeadtext language={language}>{leadtext}</ArticleLeadtext>\n                <ArticleReferences language={language} references={references} />\n            </ArticleGrid>\n        )\n    }\n\n    return (\n        <ArticleGrid>\n            <ArticleTitle component=\"h2\" language={language}>{title}</ArticleTitle>\n            <ArticleMedia layout={sectionLayout} language={language} media={media} />\n            <ArticleLeadtext language={language}>{leadtext}</ArticleLeadtext>\n            <ArticleReferences language={language} references={references} />\n            <ArticleBodytext language={language}>{bodytext}</ArticleBodytext>\n            <ArticleLinks language={language} links={links} />\n        </ArticleGrid>\n    )\n\n}\n\nexport default ArticleSection","import React from \"react\"\n\nimport ArticleBase from \"./ArticleBase\"\nimport ArticleHead from \"./ArticleHead\"\nimport ArticleBody from \"./ArticleBody\"\nimport ArticleSection from \"./ArticleSection\"\n\nconst Article = ({formData, formContext}) => {\n    const language = formContext.currentLocale ||formContext.defaultLocale ||formData.locale\n    const content = formData && formData.content;\n\n    const { title, leadtext, headerImage, sections } = content;\n\n    return (\n        <ArticleBase>\n            <ArticleHead language={language} title={title} leadtext={leadtext} media={headerImage && [headerImage]} />\n            <ArticleBody>\n                { sections && sections.map((section, index) => <ArticleSection {...section} language={language} /> )}\n            </ArticleBody>\n        </ArticleBase>\n    )\n\n}\n\nArticle.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default Article","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    /*\n    perspective: {\n        perspective: \"1000px\",\n        perspectiveOriginX: \"25%\",\n        perspectiveOriginY: \"75%\",\n    },\n    transform: {\n        transform: \"rotateY(-45deg)\",\n    },\n    */\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: props => { return props.paddingBottom },\n    }\n}));\n\nconst PreviewFormat = ({format, children}) => {\n\n    let paddingBottom;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        const ratio = h/w;\n\n        paddingBottom = ratio * 100 + \"%\";\n    }\n\n    const classes = useStyles({paddingBottom})\n\n    if (paddingBottom) {\n        return (\n            <div className={classes.root}>\n                <div className={classes.format} data-format={format}>\n                    { children }\n                </div>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default PreviewFormat","import Color from 'color';\n\nexport const getPreviewItem = (item) => {\n    const { index, referenceId, reference, mediaId, media, grid, localeId, backgroundColor, color } = item;\n\n//    const primaryColor = Color(backgroundColor)\n//    const contrastColor = primaryColor.isLight() && \"black\" || \"white\"\n\n\n    const imageUrl = media && media.imageUrl || referenceId && reference && reference.imageUrl;\n    const runningHead = item.runningHead && item.runningHead[localeId];\n    const title = item.title && item.title[localeId] || referenceId && reference && reference.title || \"Untitled\";\n    const description = item.description && item.description[localeId];\n\n    let itemType;\n\n    if (referenceId) {\n        itemType = \"link\"\n    } else if (mediaId) {\n        itemType = \"media\"\n    }    \n\n    // grid\n    const m = grid && grid.split(':');\n    const cols = m && m[0] || 1\n    const rows = m && m[1] || 1\n\n    // id\n    const id = \"root_content_body_links_\" + index\n\n    // colors\n\n    return {\n        ...item,\n        id: id,\n        itemType: itemType,\n        imageUrl: imageUrl,\n        runningHead: runningHead,\n        title: title,\n        description: description,\n        cols: cols,\n        rows: rows\n    }\n    \n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    menuList: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        margin: \"0 3.5em\",\n    },\n    menuItem: {\n        position: \"relative\",\n        width: '8em',\n        margin: \".5em\"\n    },\n    figure: {\n        paddingBottom: \"100%\",\n        borderRadius: \"100%\",\n        backgroundColor: \"white\"\n    },\n    title: {\n        color: \"white\", \n        textAlign: \"center\",\n        lineHeight: 1.25,\n        height: \"2.5em\",\n        margin: theme.spacing(1)\n    }\n}));\n\nconst MenuItem = ({title}) => {\n\n    const classes = useStyles()\n\n    return (\n        <article className={classes.menuItem}>\n            <figure className={classes.figure}>\n\n            </figure>\n            <Typography className={classes.title}>{title}</Typography>\n        </article>\n    )\n\n\n}\n\nconst Menu = ({items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n\n    const TimelineItem = ({cols, rows, index, ...item}) => {\n        const id = \"root_content_pageLinks_\" + index\n        return (\n            <MenuItem {...item} onClick={() => onCurrentId(id)} />\n        )\n    }\n    \n    return (\n        <div className={classes.menuList}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n\n    return (\n        <p>{JSON.stringify(formData)}</p>\n    )\n\n\n    const { pageTitle, backgroundImage, hasPages } = formData.content;\n    const currentLocale = formContext && formContext[currentLocale];\n    const title = pageTitle && pageTitle[currentLocale] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <Menu items={hasPages} width={width} height={height} onCurrentId={onCurrentId} />\n        </div>\n    )\n\n}\n\nexport default PreviewTimeline","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    pageHeader: {\n        position: props => { return props.position },\n        zIndex: 2,\n        height: \"6em\",\n        padding: \"2em 4em\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    pageTitle: {\n        fontSize: \"2em\",\n    }\n}));\n\nconst KioskPageHeader = ({title, position = \"relative\"}) => {\n\n    const classes = useStyles({position})\n\n    return (\n        <header className={classes.pageHeader}>\n            <Typography className={classes.pageTitle}>{ title }</Typography>\n        </header>\n    )\n}\n\nexport default KioskPageHeader","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { ImageBase } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color},\n    },\n    media: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    content: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    runningHead: {\n        fontSize: props => {return props.titleSize === \"large\" && \"1.25em\" ||props.titleSize === \"medium\" && \"1em\" ||\"0.875em\" },\n        color: props => {return props.titleColor ||props.color },\n        textTransform: \"uppercase\",\n        lineHeight: 1.5\n    },\n    title: {\n        fontSize: props => {return props.titleSize === \"large\" && \"2em\" ||props.titleSize === \"medium\" && \"1.5em\" ||\"1.25em\" },\n        color: props => {return props.titleColor ||props.color },\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst GridModule = ({imageUrl, mediaWidth, mediaHeight, imageCropdata, imageFilters, runningHead, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n\n    const classes = useStyles({...props, justifyContent, alignItems})\n\n    return (\n        <Card className={classes.module} onClick={onClick}>\n            { imageUrl && <ImageBase imageUrl={imageUrl} imageFilters={imageFilters} imageCropdata={imageCropdata} objectFit=\"cover\" /> }\n\n            <CardContent className={classes.content}>\n                {runningHead && <Typography className={classes.runningHead} component=\"h3\">{runningHead}</Typography> }\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                { description && <Typography className={classes.description} component=\"p\">{description}</Typography> }\n            </CardContent>\n\n        </Card>\n    )\n\n}\n\nexport default GridModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport PageHeader from \"./PageHeader\"\nimport KioskMosaicModule from \"./GridModule\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: \"5.5em 3.5em 1.5em 3.5em\",\n    },\n    grid: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"grid\",\n        gridTemplateColumns: props => { return props.templateCols },\n        gridTemplateRows: props => { return props.templateRows },\n        gridColumnGap: props => { return props.colGap },\n        gridRowGap: props => { return props.rowGap },\n    },\n    gridItem: {\n        gridColumnStart: \"auto\",\n        gridColumnEnd: props => { return props.colEnd },\n        gridRowStart: \"auto\",\n        gridRowEnd: props => { return props.rowEnd },\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst MosaicGrid = ({localeId, items, cols = 5, rows = 3, onCurrentId}) => {\n\n    const colWidth = (100/cols);\n    const rowHeight = (100/rows);\n\n    const classes = useStyles({\n        templateCols: (colWidth + \"% \").repeat(cols),\n        templateRows: (rowHeight + \"% \").repeat(rows),\n    })\n\n    const GridItem = ({id, cols, rows, index, ...item}) => {\n\n        const classes = useStyles({\n            colEnd: \"span \" + cols,\n            rowEnd: \"span \" + rows\n        })\n        \n        return (\n            <div className={classes.gridItem}>\n                <KioskMosaicModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    \n    }\n    \n    return (\n        <div className={classes.grid}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                return (\n                    <GridItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewMosaic = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={pageTitle} />\n            <div className={classes.body}>\n                <MosaicGrid localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PreviewMosaic","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        width: '16em',\n        backgroundColor: props => { return props.backgroundColor },\n    },\n    cardMedia: {\n        width: \"100%\",\n        paddingBottom: props => { return 9/16 * 100 + \"%\" },\n    },\n    cardContent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    title: {\n        fontSize: \"2em\",\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst MosaicModule = ({imageUrl, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n    const classes = useStyles({...props, backgroundColor: \"white\", justifyContent, alignItems})\n   \n    return (\n        <Card className={classes.card} onClick={onClick}>\n            { imageUrl && \n                <CardMedia\n                    className={classes.cardMedia}\n                    alt={title}\n                    image={imageUrl}\n                    title={title} />\n            }\n            <CardContent className={classes.cardContent}>\n                <Typography className={classes.title} variant=\"h6\" component=\"h2\">\n                    {title}\n                </Typography>\n                {description &&\n                    <Typography className={classes.description} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                        {description}\n                    </Typography>\n                }\n            </CardContent>\n        </Card>\n    )\n\n}\n\nexport default MosaicModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport PageHeader from \"./PageHeader\"\nimport TimelineModule from \"./TimelineModule\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    body: {\n        overflowX: \"scroll\",\n    },\n    timeline: {\n        display: \"flex\",\n        margin: \"0 3.5em\",\n    },\n    timelineItem: {\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst Timeline = ({localeId, items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n    const TimelineItem = ({id, cols, rows, index, ...item}) => {\n        return (\n            <div className={classes.timelineItem}>\n                <TimelineModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    }\n    \n    return (\n        <div className={classes.timeline}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, localeId: localeId, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] ||formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={pageTitle}  />\n            <div className={classes.body}>\n                <Timeline localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PreviewTimeline","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem, getContrastColor } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        left: props => { return props.left + \"%\" ||\"50%\"},\n    },\n    label: {\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n        top: \"0\",\n        left: \"0\",\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color },\n        borderSize: \".25em\",\n        borderRadius: \"50%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"Akkurat Mono, monspace\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ImagemapPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] ||formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    const contrastColor = annotateColor && getContrastColor(annotateColor)\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4}) => {\n\n        const classes = useStyles({size, zIndex: index, top, left, backgroundColor: annotateColor, color: contrastColor})\n    \n        return (\n            <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                <div className={classes.label}>\n                    {index+1}\n                </div>\n            </div>\n        )\n    }\n    \n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase {...annotateImage} imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations}  markerTemplate={MarkerTemplate} />\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagemapPreview;","import Color from 'color';\n\nexport const getContrastColor = (hex) => {\n    const color = Color(hex)\n    return color.isLight() && \"black\" || \"white\"\n}","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em 1em\"\n    },\n    line: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        right: props => { return props.left <= 50 && 100-props.left + \"%\" ||\"0\" },\n        left: props => { return props.left > 50 && props.left + \"%\" || \"0\" },\n        height: \"2px\",\n        backgroundColor: \"white\"\n    },\n    module: {\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        right: props => { return props.left > 50 && \"0\" },\n        left: props => { return props.left <= 50 && \"0\" },\n        width: \"12em\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        padding: \"1em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" ||\"50%\"},\n        left: props => { return props.left + \"%\" ||\"50%\"},\n    },\n    border: {\n        width: \"1.5em\",\n        height: \"1.5em\",\n        backgroundColor: \"white\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: \"50%\",\n        padding: \".25em\"\n    },\n    label: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: props => { return props.color },\n        color: \"transparent\",\n        borderRadius: \"50%\",\n    },\n}));\n\nconst ImagelegendPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] ||formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerModule = ({id, index, top = 50, left = 50, size = 4, runningHead, title, description, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left})\n\n        return (\n            <div className={classes.module} data-index={index} onClick={() => onCurrentId(id)}>\n                {runningHead && <h3>{runningHead}</h3> }\n                <h2>{title}</h2>\n                {description && <p>{description}</p> }\n            </div>\n        )\n\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left, color: annotateColor})\n\n        return (\n            <React.Fragment>\n                <div className={classes.line} data-index={index}></div>\n                <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                    <div className={classes.border}>\n                        <div className={classes.label}>\n                            {index+1}\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n    \n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} overflow=\"visible\" markerTemplate={MarkerTemplate} />\n                { imageAnnotations && imageAnnotations.map((item, index) => {\n                    const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                    return (\n                        <MarkerModule {...itemProps} key={index} />\n                    )\n                })}\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagelegendPreview;","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withResizeDetector } from 'react-resize-detector';\n\nimport PreviewFormat from \"./PreviewFormat\"\n\nimport Menu from \"./Menu\"\nimport Grid from \"./Grid\"\nimport Timeline from \"./Timeline\"\nimport Imagemap from \"./AnnotateImagemap\"\nimport Legends from \"./AnnotateLegends\"\n\nconst templates = {\n    \"device\": Menu,\n    \"pageAnnotate/imagemap\": Imagemap,\n    \"pageAnnotate/legends\": Legends,\n    \"pageTimeline\": Timeline,\n    \"pageList\": Grid,\n    \"pageGrid\": Grid,\n    \"pageMedia\": Grid,\n    \"pageMedia/gallery\": Grid,\n    \"pageMedia/autoplay\": Grid,\n    \"page\": Grid\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundImage: props => { return 'url('+props.backgroundImageUrl+')' },\n        backgroundPosition: \"50% 50%\",\n        backgroundSize: \"cover\",\n        fontSize: props => { return props.fontSize },\n    },\n    page: {\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    header: {\n        width: \"100%\",\n        display: \"flex\",\n        margin: theme.spacing(2)\n    },\n    title: {\n        fontSize: \"3em\"\n    },\n    body: {\n        flexBasis: \"100%\",\n        flexGrow: 1,\n        width: \"100%\",\n        position: \"relative\"\n    },\n    footer: {\n        flexBasis: \"15%\",\n        width: \"100%\",\n        margin: theme.spacing(2)\n    },\n}));\n\n\n\nconst PreviewPage = ({width, height, ...props}) => {\n\n    const fontSize = width / 64 + \"px\";\n\n    const classes = useStyles({\n        fontSize: fontSize,\n    })\n    \n    const formData = props.formData;\n\n    const { documentType, content } = formData;\n\n    let layout;\n\n    if (documentType === \"pageAnnotate\") {\n        layout = content && content.annotateLayout\n    }\n\n    if (documentType === \"pageMedia\") {\n        layout = content && content.mediaLayout\n    }\n\n    let template;\n\n    if (layout) {\n        template = documentType + \"/\" + layout\n    } else {\n        template = documentType\n    }\n\n    let PreviewTemplate = templates && templates[template]\n\n    if (!PreviewTemplate) {\n        return (<p>No preview for {template}</p>)\n    }\n\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <div className={classes.root}>\n                <PreviewTemplate {...props} />\n            </div>\n        </PreviewFormat>\n    )\n\n}\n\nPreviewPage.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default withResizeDetector(PreviewPage)","import React from \"react\"\nimport Article from \"./Article\"\nimport Page from \"./Page\"\n\nconst templates = {\n    \"device\": Page,\n    \"page\": Page,\n    \"article\": Article\n}\n\nconst PreviewKiosk = (props) => {\n    const documentType = props && props.formData && props.formData.documentType;\n\n    let template;\n\n    if (documentType && documentType.startsWith('page')) {\n        template = \"page\"\n    } else {\n        template = documentType\n    }\n\n    let PreviewTemplate = templates && templates[template]\n\n    if (!PreviewTemplate) {\n        return (<p>No preview for {documentType}</p>)\n    }\n\n    return (\n        <PreviewTemplate {...props} />\n    )\n\n}\n\nexport default PreviewKiosk","import PreviewKiosk from \"./PreviewKiosk\"\nexport default PreviewKiosk","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageHome',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:field\": \"kpAnnotateArray\",\n    \"ui:title\": \"Markrer\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" markrer\"\n            }\n        }\n    },\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./header/uiSchema\"\nimport body from \"./body/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Tema\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"title\",\n        \"leadtext\",\n        \"bodytext\"\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"spacing\": 2,\n    },\n    \"title\": {\n        \"ui:title\": \"Tittel\"\n    },\n    \"leadtext\": {\n        \"ui:title\": \"Ingress\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"bodytext\": {\n        \"ui:title\": \"Brdtekst\",\n        \"ui:widget\": \"textarea\"\n    }\n}","import body from \"../../page/pageBody/uiSchema\"\nimport links from \"../mapLinks/uiSchema\"\n\nexport default {\n    ...body,\n    \"links\": links,\n    \"ui:settings\": [\n        \"mapLayout\",\n    ],\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    page: {\n        backgroundColor: \"white\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },\n}));\n\nconst PageLayout = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <main className={classes.page}>\n            {children}\n        </main>\n    )\n\n}\n\nexport default PageLayout","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageImage = ({imageUrl = undefined, language}) => {\n    const classes = useStyles()\n\n    if (!imageUrl) {\n        return false\n    }\n\n    return (\n        <figure className={classes.media}>\n            <img src={imageUrl} />\n        </figure>\n    )\n\n}\n\nexport default PageImage","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport PageMedia from \"./PageMedia\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageHeader = ({title, leadtext, media, language}) => {\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n\n    if (typeof title === \"object\") {\n        title = title[localeId] || undefined\n    }\n    \n    if (typeof leadtext === \"object\") {\n        leadtext = leadtext[localeId] || undefined\n    }\n\n    return (\n        <header className={classes.header}>\n            <Typography variant=\"h2\">{title}</Typography>\n            { media && <PageMedia {...media} /> }\n            <Typography>{leadtext}</Typography>\n        </header>\n    )\n\n}\n\nexport default PageHeader","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        margin: theme.spacing(2)\n    },\n}));\n\nconst PageHeader = ({bodytext, language}) => {\n    const classes = useStyles()\n\n    const localeId = \"locale:\" + language;\n\n    if (typeof bodytext === \"object\") {\n        bodytext = bodytext[localeId] || undefined\n    }\n\n    return (\n        <div className={classes.body}>\n            <Typography>{bodytext}</Typography>\n        </div>\n    )\n\n}\n\nexport default PageHeader","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n    },\n    marker: {\n\n    }\n}));\n\nconst MapLink = ({title}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.link}>\n            <PlaceIcon />\n        </div>\n    )\n\n    return (\n        <div className={classes.link}>\n            <IconButton>\n                <PlaceIcon />\n            </IconButton>\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./DefaultMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, links = []}) => {\n\n    const [markers, setMarkers] = useState(links)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = links && links[0] && links[0].lat \n        const lng = links && links[0] && links[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        links && links.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [links])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, result) => {\n\n        const path = result.routes[0].overview_path\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  drawDirections(google, result)\n                  setDirections(result)\n              } else {\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n//        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n\n        \"& $media\": {\n            transition: \".125s ease-out\",\n            transform: \"scale(1)\"\n        },\n\n        \"&[aria-expanded=true] $media\": {\n            transform: \"scale(2)\"\n        },\n\n        \"&:hover $media\": {\n            transform: \"scale(2)\"\n        }\n\n    },\n    label: {\n        position: \"absolute\",\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, .5),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    media: {\n        position: \"absolute\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(-.5, 0),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundSize: \"cover\",\n\n    },\n    image: {\n\n    }\n}));\n\nconst MapLink = ({reference, media, index}) => {\n    const classes = useStyles()\n\n    const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n    return (\n        <div className={classes.link} aria-expanded={index === 0}>\n            <figure className={classes.media} style={{backgroundImage: \"url(\"+imageUrl+\")\"}}></figure>\n            <i className={classes.label}>{index+1}</i>\n            <PlaceIcon />\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./RoundtripMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, links = []}) => {\n\n    const [markers, setMarkers] = useState(links)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = links && links[0] && links[0].lat \n        const lng = links && links[0] && links[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        links && links.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [links])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} count={index+1} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, path) => {\n\n        setDirections(path)\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  const overviewPath = result.routes[0].overview_path\n                  const resultsPath = overviewPath.length && overviewPath ||markers\n                  drawDirections(google, resultsPath)\n              } else {\n                drawDirections(google, markers)\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n            Debug:\n            {JSON.stringify(directions)}\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel } from '../../redux/modelsById';\n\nimport PageLayout from \"../Page/PageLayout\"\nimport PageHeader from \"../Page/PageHeader\"\nimport PageBody from \"../Page/PageBody\"\n\n\nimport DefaultMap from \"./DefaultMap\"\nimport RoundtripMap from \"./RoundtripMap\"\n\nconst mapTypes = {\n    \"default\": DefaultMap,\n    \"roundtrip\": RoundtripMap\n}\n\nconst PageMap = ({formData, formContext, ...props}) => {\n\n    const dispatch = useDispatch()\n    const modelsById = useSelector(state => state.modelsById)\n   \n    const links = formData && formData.content && formData.content.links\n\n    const [newLinks, setNewLinks] = useState([])\n\n    useEffect(() => {\n\n        links && links.map(link => {\n            const referenceId = link && link.referenceId;\n            const referenceModel = referenceId && modelsById[referenceId]\n\n            if (referenceId && !referenceModel) {\n                dispatch(getModel({modelName: \"documents\", uniqueId: referenceId}))\n            }\n        })\n\n    }, [links])\n\n\n    useEffect(() => {\n\n        const newLinks = links && links.map(link => {\n            const referenceId = link && link.referenceId;\n            const referenceModel = referenceId && modelsById[referenceId]\n\n            const location = referenceModel && referenceModel.content && referenceModel.content.location\n\n            return {\n                ...link,\n                ...location,\n                reference: referenceModel\n            }\n\n        })\n\n        setNewLinks(newLinks)        \n\n    }, [modelsById, links])\n\n    const language = formContext && formContext.currentLocale\n    const content = formData && formData.content\n\n    const mapLayout = content && content.mapLayout\n    const MapTemplate = mapLayout && mapTypes[mapLayout] || DefaultMap\n\n    if (!newLinks) {\n        return <p>No links to display</p>\n    }\n\n    return <MapTemplate links={newLinks} />\n    \n    return (\n        <PageLayout>\n            <PageHeader {...content} language={language}></PageHeader>\n            {newLinks && newLinks.length && <MapTemplate links={newLinks} /> }\n            <PageBody {...content} language={language} />\n        </PageLayout>\n    )\n\n}\n\nexport default PageMap\n\n","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/PageMap\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMap',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n//import PreviewTemplate from \"../../preview/PageTopic\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTopic',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./header/uiSchema\"\nimport body from \"./body/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n//        \"ui:field\": \"kioskPage\",\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Tema\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const { title } = formData;\n\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = title && title[localeId]\n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\"\n    ],\n    \"ui:options\": {\n        \"expanded\": true,\n        \"collapsible\": true,\n        \"grid\": true,\n        \"spacing\": 2,\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:layout\": \"media\",\n        \"ui:buttons\": [\n            {\n                \"type\": \"sidebar\",\n                \"icon\": \"search\",\n                \"title\": \"Finn hovedbilde\"\n            }\n        ],\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"media\": {\n            \"ui:title\": \"Hovedbilde\"\n        }\n\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"bodytext\"\n        ],\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"bodytext\": {\n            \"ui:title\": \"Brdtekst\",\n            \"ui:widget\": \"textarea\"\n        }\n    },\n\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Mosaikk\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"items\": {\n        ...links.items,\n        \"ui:settings\": [\n            \"grid\",\n            \"placement\",\n            \"backgroundColor\",\n            \"color\"\n        ],\n    \n\n        \"content\": {\n            ...links.items.content,\n            \"linkContent\": {\n                ...links.items.content.linkContent,\n                \"title\": {\n                    ...links.items.content.linkContent.title,\n                    \"ui:settings\": [\n                        \"titleSize\",\n                        \"titleColor\",\n                    ],\n                }\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageGrid',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./gridHeader/uiSchema\"\nimport media from \"./gridMedia/uiSchema\"\nimport body from \"./gridBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import body from \"../../page/pageBody/uiSchema\"\nimport links from \"../gridLinks/uiSchema\"\n\nexport default {\n    ...body,\n    \"links\": links\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageList',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./listHeader/uiSchema\"\nimport media from \"./listMedia/uiSchema\"\nimport body from \"./listBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Liste\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilde\"\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTimeline',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./timelineHeader/uiSchema\"\nimport media from \"./timelineMedia/uiSchema\"\nimport body from \"./timelineBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Tidslinje\",\n}","import uiSchema from \"../../page/pageMedia/uiSchema\"\n\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bakgrunnsbilder\",\n    \"media\": {\n        ...uiSchema.media,\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"backgroundImage\",\n            \"parallaxImage\"\n        ],\n        \"backgroundImage\": {\n            ...uiSchema.media.backgroundImage,\n            \"ui:xs\": 6\n        },\n        \"parallaxImage\": {\n            ...uiSchema.media.parallaxImage,\n            \"ui:xs\": 6\n        }\n    }\n}","import body from \"../../page/pageBody/uiSchema\"\n\nexport default {\n    ...body\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageAnnotate',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default {\n    ...schema,\n    \"properties\": {\n        ...schema.properties,\n        \"content\": {\n            ...schema.properties.content,\n            \"properties\": {\n                ...schema.properties.content.properties,\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"annotations\": true,\n                    \"filters\": [\"opacity\"],\n                }\n            }\n        }\n    }\n}","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport annotateHeader from \"./annotateHeader/uiSchema\"\nimport annotateBody from \"./annotateBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": annotateHeader,\n        \"body\": annotateBody\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Bildekart\",\n}","import annotateLinks from \"../annotateLinks/uiSchema\"\nimport annotateImage from \"../annotateImage/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Markeringer\",\n    \"ui:icon\": \"label\",\n    \"ui:fieldset\": [\n        \"backgroundImage\",\n        \"links\"\n    ],\n    \"ui:settings\": [\n        \"annotateLayout\",\n        \"annotateColor\"\n    ],\n    \"backgroundImage\": annotateImage,\n    \"links\": annotateLinks\n}","export default {\n    \"ui:fieldset\": [\n        \"imageAnnotations\",\n//        \"imageCropdata\",\n//        \"imageFocalpoint\",\n        \"imageFilters\"\n    ],\n    \"imageAnnotations\": {\n        \"ui:field\": \"kpAnnotateImage\",\n        \"ui:title\": \"Markeringer\",\n    },\n    \"ui:minHeight\": 512,\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn bilde\"\n        }\n    ]\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:field\": \"kpAnnotateArray\",\n    \"ui:title\": \"Markrer\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" markrer\"\n            }\n        }\n    },\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMedia',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import uiPreview from \"./uiPreview\"\nimport settings from \"../page/settings/uiSchema\"\nimport header from \"./mediaHeader/uiSchema\"\nimport body from \"./mediaBody/uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"content\": {\n        \"ui:field\": \"kpPage\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"header\": header,\n        \"body\": body\n    },\n    \"settings\": settings\n}","import uiPreview from \"../page/uiPreview\"\nexport default uiPreview","import uiSchema from \"../../page/pageHeader/uiSchema\"\nexport default {\n    ...uiSchema,\n    \"ui:title\": \"Media\",\n}","import links from \"../mediaLinks/uiSchema\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Innhold\",\n    \"ui:icon\": \"link\",\n    \"ui:fieldset\": [\n        \"links\"\n    ],\n    \"ui:settings\": [\n        \"mediaLayout\",\n    ],\n    \"links\": links\n}","import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:title\": \"Media\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData =[]}) {\n            return {\n                title: formData.length + \" media\"\n            }\n        }\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video\",\"audio\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\",\n        },\n        {\n            \"type\": \"upload\",\n            \"title\": \"Last opp\"\n        }\n    ],\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale ||formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n\n                const localTitle = runningHead && title && runningHead + \": \" + title ||title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n        \"link\": {\n            ...links.items.link,\n            \"linkMedia\": {\n                ...links.items.content.linkMedia,\n                \"ui:sidebar\": {\n                    \"query\": {\n                        \"models\": \"media\",\n                        \"mediaType\": [\"image\",\"video\",\"audio\"]\n                    }\n                }\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport PreviewTemplate from \"../../preview/KioskPreview\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'device',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"device\"\n        },\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"deviceId\": {\n                    \"type\": \"number\"\n                },\n                \"deviceTitle\": {\n                    \"type\": \"string\"\n                },\n                \"deviceType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"windows\",\"ipad\"],\n                    \"enumNames\": [\"Windows\",\"iPad\"]\n                },\n                \"serialNumber\": {\n                    \"type\": \"string\",\n                },\n                \"placement\": {\n                    \"type\": \"string\",\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"focalpoint\": true\n                },\n                \"startPageId\": {\n                    \"type\": \"string\",\n                    \"readonly\": true\n                },\n                \"hasPages\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"page\",\n                        \"referenceType\": \"deviceHasPages\",\n                        \"_reverseReferenceType\": \"pageIsPartOf\",\n                        \"_reverseReference\": \"isPartOf[]\",\n                        \"properties\": {\n                            \"content\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"icon\": {\n                                        \"type\": \"string\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}","import settings from \"./settings/uiSchema\";\nimport header from \"./header/uiSchema\";\nimport media from \"./media/uiSchema\";\nimport hasPages from \"./hasPages/uiSchema\";\nimport uiPreview from \"./uiPreview\";\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n//        \"settings\"\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:field\": \"kpDevice\",\n        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"hasPages\",\n        ],\n        \"header\": header,\n        \"media\": media,\n        \"hasPages\": hasPages\n    }\n}","import icons from \"../../icons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\",\n        \"icon\": \"icon\",\n    },\n    prepare({formData, formContext}) {\n        let { documentType, imageUrl, title, content, description } = formData\n  \n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale ||currentLocale ||formData.locale\n        const localeId = \"locale:\" + locale;\n  \n        let metadata = []\n\n        const backgroundImage = content && content.backgroundImage;\n        const hasPages = content && content.hasPages;\n        const deviceTitle = content && content.deviceTitle\n        const deviceId = content && content.deviceId\n        const deviceType = content && content.deviceType\n\n        const typeLabel = deviceType && documentType + \"/\" + deviceType ||documentType\n\n        if (backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl) {\n            imageUrl = backgroundImage.media.imageUrl\n        }\n      \n        if (hasPages && hasPages.length) {\n            metadata.push(hasPages.length + ' sider')\n        }\n\n        if (deviceId) {\n            metadata.push('#'+deviceId)\n        }\n\n        if (deviceType) {\n            metadata.push(deviceType)\n        }\n\n        let icon\n\n        const deviceIcons = {\n            ...icons,\n            \"windows\": icons[\"deviceWin\"],\n            \"ipad\": icons[\"deviceMac\"],\n        }\n\n        if (deviceType && deviceIcons[deviceType]) {\n            icon = deviceIcons[deviceType]\n        } else {\n            icon = deviceIcons[\"device\"]\n        }\n\n\n\n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            title: deviceTitle ||title,\n            description: description,\n            metadata: metadata,\n            typeLabel: typeLabel\n        }\n      \n    }\n    \n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"device\",\n    ],\n    \"device\": {\n        \"ui:layout\": \"section\",\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"deviceTitle\",\n                \"deviceId\"\n            ],\n            \"deviceTitle\": {\n                \"ui:title\": \"Intern tittel\"\n            },\n            \"deviceId\": {\n                \"ui:title\": \"DeviceId\"\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"settings\",\n    \"ui:options\" : {\n        \"expanded\": true,\n//        \"collapsible\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Enhet\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.deviceTitle \n\n            return {\n                description: description\n            }\n\n        }\n    },\n    \"ui:fieldset\": [\n        \"deviceTitle\",\n        \"deviceId\",\n        \"deviceType\",\n        \"serialNumber\",\n        \"startPageId\"\n    ],\n    \"deviceTitle\": {\n        \"ui:title\": \"Intern tittel\"\n    },\n    \"deviceId\": {\n        \"ui:title\": \"Id\",\n    },\n    \"deviceType\": {\n        \"ui:title\": \"Type enhet\",\n    },\n    \"serialNumber\": {\n        \"ui:title\": \"Serienummer\"\n    },\n    \"leadtext\": {\n        \"ui:title\": \"Ingress\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"bodytext\": {\n        \"ui:title\": \"Brdtekst\",\n        \"ui:widget\": \"textarea\"\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"image\",\n    \"ui:title\": \"Bakgrunnsbilde\",\n    \"ui:options\": {\n//        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"backgroundImage\",\n    ],\n    \"backgroundImage\": {\n        \"ui:buttons\": [\n            {\n                \"icon\": \"search\",\n                \"title\": \"Finn bakgrunnsbilde\",\n                \"type\": \"sidebar\"\n            }\n        ]\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:icon\": \"menu\",\n    \"ui:title\": \"Innhold\",\n    \"ui:options\" : {\n        \"draggable\": true\n    },\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData}) {\n            const count = formData && formData.length;\n            if (count) {\n                return {\n                    \"title\": count + \" sider\"\n                }\n            }\n            return {\n               \"title\": \"Ingen sider\"\n            }\n        }\n    },\n    \"ui:dialog\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"page*\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn side\"\n        },\n    ],\n    \"items\": {\n        \"ui:options\": {\n            \"editable\": false\n        },\n        \"ui:field\": \"kpDeviceLink\"\n    }\n}","import mediaSchemas from \"./media\"\n\nimport kpCollection from './kpCollection';\n\nimport article from './article';\n\nimport pageHome from './pageHome';\nimport pageMap from './pageMap';\nimport pageTopic from './pageTopic';\n\nimport pageGrid from './pageGrid';\nimport pageList from './pageList';\nimport pageTimeline from './pageTimeline';\nimport pageAnnotate from './pageAnnotate';\nimport pageMedia from './pageMedia';\n\nimport device from './device';\n\nexport default [\n    ...mediaSchemas,\n    kpCollection,\n    article,\n    pageHome,\n    pageMap,\n    pageTopic,\n    pageGrid,\n    pageList,\n    pageTimeline,\n    pageAnnotate,\n    pageMedia,\n    device\n]","import schemas from \"./\"\n\nlet schemasByName = {\n}\n\n\nschemas.map(schema => {\n    const { schemaType, name } = schema\n\n    if (schemaType && name) {\n        schemasByName[schemaType + \"/\" + name] = schema\n    }\n})\n\nexport default schemasByName","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SchemaBase } from '@kit-ui/schema';\nimport { bulkChange, bulkSubmit } from '../redux/bulk';\n\n\nconst BulkPreview = ({schema = {}, formData = {}, ...props}) => {\n\n    const dispatch = useDispatch()\n    const bulk = useSelector(state => state.bulk)\n\n    const bulkCount = bulk.count\n\n\n    return (\n        <div>\n            Selected: {bulkCount}\n        </div>\n    )\n    \n}\n\nexport default BulkPreview","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { SchemaBase } from '@kit-ui/schema';\nimport { bulkChange, bulkSubmit } from '../redux/bulk';\n\nimport registry from \"../components/registry\"\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport BulkPreview from \"./BulkPreview\"\n\nconst uiSchema = {\n    \"ui:options\": {\n        \"spacing\": 2\n    }\n\n}\n\nconst BulkEditor = ({schema = {}, formData = {}, ...props}) => {\n\n    const renderDebug = () => {\n\n        return (\n            <div style={{position: \"absolute\", bottom: \"100px\", left: 0, right: 0}}>\n                <hr />\n                {JSON.stringify(schema)}\n                <hr />\n                {JSON.stringify(formData)}\n            </div>\n        )\n\n    }\n\n    const dispatch = useDispatch()\n\n    const _onChange = ({formData}) => {\n        dispatch(bulkChange({formData}))\n    }\n\n    const _onSubmit = ({formData}) => {\n        dispatch(bulkSubmit({formData}))\n    }\n\n    const formContext = {}\n\n    return (\n        <div>\n\n            { renderDebug() }\n\n            <BulkPreview />\n\n        <SchemaBase {...registry} \n            noValidate={true}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={_onChange}\n            onSubmit={_onSubmit} />\n        </div>\n    )\n    \n}\n\nexport default BulkEditor","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getSubview, getLayout } from '../redux/app';\n\nimport BulkLayout from \"./BulkLayout\"\nimport BulkEditor from \"./BulkEditor\"\n\nconst FinderBulk = ({children}) => {\n    const dispatch = useDispatch()\n    const bulk = useSelector(state => state.bulk)\n\n    useEffect(() => {\n\n        if (bulk.count) {\n            dispatch(getLayout(\"finder/subview\"))\n        } else {\n            dispatch(getLayout(\"finder\"))\n        }\n\n        bulk.count && dispatch(getSubview({\n            title: \"Subview\",\n            description: bulk.count + \" selected\"\n        }))\n\n        \n    }, [bulk.count])\n\n    return (\n        <React.Fragment>\n            <BulkLayout {...bulk} expanded={bulk.count && true}>\n                <BulkEditor {...bulk} /> \n            </BulkLayout>\n            {children}\n        </React.Fragment>\n    )\n\n}\n\nexport default FinderBulk","\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport { NavPath, NavView } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    finder: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: 1,\n        padding: theme.spacing(0,1),\n        \"& + *\": {\n            marginTop: theme.spacing(8),\n            marginRight: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n            marginLeft: theme.spacing(2),\n        }\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },  \n    path: {\n        flexBasis: 0,\n        flexGrow: 1,\n        margin: theme.spacing(0,1),\n    },\n    view: {\n        margin: theme.spacing(1)\n    }\n}));\n\nconst FinderLayout = ({\n    parents,\n    onSelect,\n    viewOptions,\n    view,\n    onView,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.finder}>\n            <header className={classes.header}>\n                {parents && <NavPath className={classes.path} parents={parents} onSelect={onSelect} /> }\n                { viewOptions && <NavView className={classes.view} options={viewOptions} value={view} onChange={onView} /> }\n            </header>\n            <div className={classes.body}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nFinderLayout.defaultProps = {\n\n}\n\nFinderLayout.propTypes = {\n\n}\n\nexport default FinderLayout;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\nimport { useTranslation } from 'react-i18next';\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview } = utils;\n\nconst FinderModel = ({\n    model, \n    viewable = false,\n    linkable = true,\n    selectable = true, \n    editable = true, \n    deletable = true, \n    deleted = false,\n    restorable = true, \n    erasable = true,\n    erased = false,\n    children,\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation();\n\n    const { modelName, id, uniqueId, source, sourceId, } = model;\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const _onClick = props.onClick\n\n    const _onView = () => {\n        props.onView && props.onView() ||props.history && props.history.push(props.location.pathname + '/' + uniqueId)\n    }\n\n    const _onEdit = (event) => {\n        event.stopPropagation()\n        props.onEdit && props.onEdit() ||props.history && props.history.push(props.location.pathname + '/' + uniqueId + \"/edit\")\n    }\n\n    const _onLink = () => {\n        props.onLink && props.onLink() ||props.history && props.history.push(props.location.pathname + '/' + uniqueId + \"/link\")\n    }\n\n    const _onDelete = () => {\n        props.onDelete && props.onDelete() ||dispatch(deleteModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onRestore = () => {\n        props.onRestore && props.onRestore() ||dispatch(restoreModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onErase = () => {\n        props.onErase && props.onErase() ||dispatch(eraseModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onSelect = () => {\n        props.onSelect && props.onSelect() ||dispatch(selectModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    // uniqueModel\n\n    const modelsById = useSelector(state => state.modelsById)\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n\n    const bulkById = useSelector(state => state.bulk.bulkById)\n    const bulkModel = bulkById && bulkById[uniqueId] ||{}\n\n    // uiPreview\n\n    const documentType = uniqueModel && uniqueModel.documentType ||model && model.documentType\n    const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType]\n\n    const mediaType = uniqueModel && uniqueModel.mediaType ||model && model.mediaType\n    const mediaModel = mediaType && schemasByName && schemasByName[\"media/\" + mediaType]\n\n    const collectionType = uniqueModel && uniqueModel.collectionType ||model && model.collectionType\n    const collectionModel = collectionType && schemasByName && schemasByName[\"collections/\" + collectionType]\n    \n    const schemaModel = documentModel ||mediaModel ||collectionModel\n\n    const uiPreview = schemaModel && uniqueModel.uniqueId && getUiPreview({...schemaModel, formData: uniqueModel}) ||{}\n\n    // model\n\n    model = {\n        ...uniqueModel,\n        ...bulkModel,\n        ...model,\n        ...uiPreview\n    }\n\n\n    const {selected, status } = model\n\n    if (selected) {\n        editable = false\n        deletable = false\n    }\n\n    if (status === \"trash\") {\n        deleted = true\n        deletable = false\n    }\n\n    if (status === \"erased\") {\n        erased = true\n        selectable = false\n        editable = false\n        deletable = false\n    }\n\n    /*\n\n    const getToolbar = () => {\n\n        if (selected) {\n            return false\n        }\n\n        if (status === \"erased\") {\n            return false\n        }\n\n        if (status === \"trash\") {\n            return [\n                {\n                    icon: \"restore\",\n                    onClick: _onRestore\n                },\n                {\n                    icon: \"delete_forever\",\n                    onClick: _onErase\n                },\n                \n            ]\n        }\n\n        return [\n            {\n                icon: \"edit\",\n                onClick: _onEdit\n            },\n            {\n                icon: \"delete\",\n                onClick: _onDelete\n            },\n            {\n                icon: \"links\",\n                onClick: _onLink\n            }\n        ]\n\n    }\n\n\n    const toolbar = getToolbar()\n\n    */\n\n    const mediaLabel = mediaType && t('mediaType:'+mediaType)\n    const documentLabel = documentType && t('documentType:'+documentType)\n\n    const modelLabel = documentLabel ||mediaLabel\n    const statusLabel = t('status:'+status)\n\n    const author = model.deletedByName || model.updatedByName || model.createdByName ||\"N/A\"\n    const datetime = model.deletedAt || model.updatedAt || model.createdAt\n\n    model = {\n        ...model,\n        modelLabel: modelLabel,\n        mediaLabel: mediaLabel,\n        documentLabel: documentLabel,\n        statusLabel: statusLabel,\n        author: author,\n        datetime: datetime,\n    }\n\n\n    const childrenWithProps = React.Children.map(children, (child, index) => {\n        // checking isValidElement is the safe way and avoids a typescript error too\n        if (React.isValidElement(child)) {\n\n            return React.cloneElement(child, { \n                ...model,\n                editable: editable,\n                onEdit: _onEdit,\n                viewable: viewable,\n                onView: _onView,\n                linkable: linkable,\n                onLink: _onLink,\n                selectable: selectable,\n                selected: selected,\n                onSelect: _onSelect,\n                deletable: deletable,\n                deleted: deleted,\n                onDelete: _onDelete,\n                restorable: restorable,\n                onRestore: _onRestore,\n                erasable: erasable,\n                erased: erased,\n                onErase: _onErase,\n                onClick: _onClick,\n                ...props\n//                ...child.props\n            });\n        }\n        return child;\n    });\n\n    return (\n        <>\n            {childrenWithProps}\n        </>\n    )\n\n}\n\nexport default FinderModel","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { ListView, ListModule } from \"@kit-ui/admin\"\n\nconst ViewList = ({resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { isLoading, resultsByPage, count, page, pages, onPage } = props\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const pagedResults = resultsByPage && resultsByPage[page]\n\n    if (isLoading) {\n        return <ListView title={loadingTitle} />\n    } else if (!count) {\n        return <ListView title={emptyTitle} />\n    }\n    \n    return (\n        <ListView {...props} title={title} description={description}>\n            {pagedResults && pagedResults.map((model, index) => {\n                return (\n                    <FinderModel {...props} model={model} key={index}>\n                        <ListModule />\n                    </FinderModel>\n                )\n            })}\n        </ListView>\n    )\n\n}\n\nexport default ViewList","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { TableView, TableModule } from \"@kit-ui/admin\"\n\nconst ViewTable = ({resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { resultsByPage, count, page, pages, onPage } = props\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const pagedResults = resultsByPage && resultsByPage[page]\n\n    return (\n        <TableView {...props} loadingTitle={loadingTitle} emptyTitle={emptyTitle} title={title} description={description}>\n            {pagedResults && pagedResults.map((model, index) => {\n                return (\n                    <FinderModel {...props} model={model}>\n                        <TableModule {...model} key={index} />\n                    </FinderModel>\n                )\n            })}\n        </TableView>\n    )\n\n}\n\nexport default ViewTable","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { IconsView, IconsModule } from \"@kit-ui/admin\"\n\nconst ViewGrid = ({resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { isLoading, resultsByPage, count, page, pages, onPage } = props\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const pagedResults = resultsByPage && resultsByPage[page]\n\n    if (isLoading) {\n        return <IconsView title={loadingTitle} />\n    } else if (!count) {\n        return <IconsView title={emptyTitle} />\n    }\n\n    return (\n        <IconsView {...props} title={title} description={description}>\n            {pagedResults && pagedResults.map((model, index) => {\n                return (\n                    <FinderModel {...props} model={model} key={index}>\n                        <IconsModule />\n                    </FinderModel>\n                )\n            })}\n        </IconsView>\n    )\n\n}\n\nexport default ViewGrid","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { MasonryView, MasonryModule } from \"@kit-ui/admin\"\n\nconst ViewList = ({resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { isLoading, resultsByPage, count, page, pages, onPage } = props\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const pagedResults = resultsByPage && resultsByPage[page]\n\n    if (isLoading) {\n        return <MasonryView title={loadingTitle} />\n    } else if (!count) {\n        return <MasonryView title={emptyTitle} />\n    }\n    \n    return (\n        <MasonryView {...props} title={title} description={description}>\n            {pagedResults && pagedResults.map((model, index) => {\n                return (\n                    <FinderModel {...props} model={model} key={index}>\n                        <MasonryModule />\n                    </FinderModel>\n                )\n            })}\n        </MasonryView>\n    )\n\n}\n\nexport default ViewList","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { useTranslation } from 'react-i18next';\n\nimport { GalleryView, GalleryModule } from \"@kit-ui/admin\"\nimport FinderModel from \"./FinderModel\"\n\nconst ViewGallery = ({resultsLoaded = [], mediaHeight = 180, mediaLayout = \"cover\", ...props}) => {\n    const { t, i18n } = useTranslation(['search']);\n\n    const { query, start, isLoading, count, page, prevPage, nextPage, pages, onPage } = props\n\n    // prev, next buttons\n    \n    if (resultsLoaded && prevPage) {\n\n        resultsLoaded = [\n            {\n                role: \"button\",\n                title: t('Page {{page}}', { page:prevPage }) + \" ...\",\n                mediaWidth: mediaHeight,\n                onClick: () => onPage(prevPage)\n            },\n            ...resultsLoaded\n        ]\n\n    }\n\n    if (resultsLoaded && nextPage) {\n\n        resultsLoaded = [\n            ...resultsLoaded,\n            {\n                role: \"button\",\n                title: t('Page {{page}}', { page:nextPage }) + \" ...\",\n                mediaWidth: mediaHeight,\n                onClick: () => onPage(nextPage)\n            },\n        ]\n\n    }\n\n    const title = props.title ||t('{{count}} hits', { count });\n    const description = t('{{page}} of {{pages}} pages', { pages, page });\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n\n    if (resultsLoaded.length && isLoading && query.start > start) {\n\n        resultsLoaded.pop()\n\n        resultsLoaded = [\n            ...resultsLoaded,\n            {\n                role: \"button\",\n                title: t('Loading page {{page}}', { page:nextPage }) + \" ...\",\n                mediaWidth: mediaHeight,\n            }\n        ]\n    \n    } else if (resultsLoaded.length && isLoading) {\n\n        resultsLoaded.shift()\n\n        resultsLoaded = [\n            {\n                role: \"button\",\n                title: t('Loading page {{page}}', { page:prevPage }) + \" ...\",\n                mediaWidth: mediaHeight,\n            },\n            ...resultsLoaded,\n        ]\n\n    } else if (isLoading) {\n        return <GalleryView title={loadingTitle} />\n    } else if (!count) {\n        return <GalleryView title={emptyTitle} />\n    }\n\n    return (\n        <GalleryView {...props} pages={undefined} padding={0} spacing={2} title={title} description={description}>\n\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                let width, height;\n                    \n                if (model.mediaWidth && model.mediaHeight) {\n                    width = model.mediaWidth\n                    height = model.mediaHeight\n                } else if (model.imageWidth && model.imageHeight) {\n                    width = model.imageWidth\n                    height = model.imageHeight\n                }\n\n                model = {\n                    ...model,\n                    width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                    mediaHeight: mediaHeight,\n                    mediaLayout: mediaLayout\n                }\n\n                return (\n                    <FinderModel {...props} layout=\"gallery\" model={model} width={model.width} onClick={model && model.onClick} key={index}>\n                        <GalleryModule />\n                    </FinderModel>\n                )\n            })}\n        </GalleryView>\n    )    \n}\n\nexport default ViewGallery;","import React, {useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getModel, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\n\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SelectIcon from \"@material-ui/icons/ChevronRight\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nimport {ModuleLabel } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        margin: theme.spacing(1),\n\n        \n    },\n\n    header: {\n        margin: theme.spacing(2),\n        flexBasis: 0,\n        flexGrow: 1,\n        color: \"inherit\",\n        textAlign: \"center\",\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 24\n    },\n\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    select: {\n        }\n\n\n}));\n\n\nconst FinderPreview = ({model, ...props}) => {\n\n    const dispatch = useDispatch()\n\n    const { modelName, uniqueId } = model\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const classes = useStyles()\n\n    const modelsById = useSelector(state => state.modelsById)\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n\n    model = {\n        ...model,\n        ...uniqueModel,\n    }\n\n    const { title, description, documentType, content } = model\n\n    return (\n        <div className={classes.module}>\n            <header className={classes.header}>\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                <Typography className={classes.description} component=\"h3\">{description}</Typography>\n                <ModuleLabel>{documentType}</ModuleLabel>\n           </header>\n            <div className={classes.content}>\n                {JSON.stringify(content)}\n            </div>\n            <footer className={classes.footer}>\n                footer\n            </footer>\n        </div>\n\n    )\n\n    \n}\n\nexport default FinderPreview","import React, { useEffect, useState } from 'react';\n\nimport {\n    ColumnView,\n    ColumnList,\n    ColumnModule,\n} from \"../components/\"\n\nimport FinderPreview from \"./FinderPreview\"\nimport FinderModel from \"./FinderModel\"\n\nconst ViewColumn = ({layout = \"list\", resultsLoaded, onPage, ...props})  => {\n\n    const _onEdit = () => {\n        alert(\"edit\")\n    }\n\n    return (\n        <ColumnView>\n            <ColumnList>\n\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <FinderModel model={model} onEdit={_onEdit}>\n                                <ColumnModule  />\n                            </FinderModel>\n                        )\n                    })}\n\n            </ColumnList>\n            <ColumnList>\n                <FinderPreview model={{title: \"Untitled\"}} />\n            </ColumnList>\n        </ColumnView>\n    )\n\n}\n\nViewColumn.defaultProps = {\n}\n\nexport default ViewColumn","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Paper from \"@material-ui/core/Paper\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { NavToolbar, NavSettings, ButtonSelect } from \"@kit-ui/admin\"\n\nimport {\n    ModuleBase,\n    ModuleTitle,\n    ModuleImage,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: props => {return props.iconWidth + 24 },\n        minWidth: props => {return props.iconWidth + 24 },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        margin: theme.spacing(2),\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            }\n\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"&:hover\": {\n\n                \"& $image, & $icon\": {\n                    opacity: 1\n                },\n    \n            },\n\n            \"& $figure\": {\n                boxShadow: \"none\",\n                outline: \"1px solid\",\n                outlineColor: theme.palette.action.selected\n            },\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& button[name=restore]\": {\n                opacity: .5,\n\n                \"&:hover\": {\n                    opacity: 1,\n                },\n\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& [data-name=title]\": {\n                color: theme.palette.text.disabled,\n                textDecoration: \"line-through\"\n            }\n\n\n        },\n\n        \"&[data-erased=true]\": {\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& [data-name=title]\": {\n                color: theme.palette.text.disabled,\n                textDecoration: \"line-through\"\n            }\n\n        }\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },    \n    figure: {\n        position: \"relative\",\n        minWidth: props => {return props.iconWidth },\n        minHeight: props => {return props.iconHeight },\n        padding: 8,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            margin: theme.spacing(-1)\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.selected\n        }\n\n    },\n    icon: {\n        fontSize: 96,\n\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    image: {\n        display: \"block\",\n        width: 96,\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n\n        \"& > *\": {\n            maxWidth: \"100%\",\n            overflow: \"hidden\"\n        }\n\n    },\n    status: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"baseline\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n\n}));\n\n/** PreviewModule for listing documents */\n\nconst PreviewModule = (props) => {\n\n    const {\n        variant = \"portrait\",\n        status,\n        statusLabel,\n    \n        documentType,\n        documentLabel,\n    \n        selectable,\n        selected,\n        onSelect,\n    \n        editable,\n        onEdit,\n    \n        viewable,\n        onView,\n    \n        linkable,\n        onLink,\n    \n        deletable,\n        deleted,\n        onDelete,\n    \n        restorable,\n        onRestore,\n    \n        erasable,\n        erased,\n        onErase,\n    \n        icon,\n        imageUrl,\n        untitled,\n    \n        title,\n        description,\n        metadata,\n        author,\n        datetime,\n    \n        onClick,\n    } = props\n\n    let iconHeight, iconWidth\n\n    if (variant === \"landscape\") {\n        iconWidth = 180\n        iconHeight = 120\n    } else {\n        iconWidth = 90\n        iconHeight = 120\n    }\n\n    const classes = useStyles({iconWidth, iconHeight})\n\n    return (\n        <ModuleBase className={classes.module} status={status} selected={selected} deleted={deleted} erased={erased} onClick={selected && onSelect}>\n\n            <Paper className={classes.figure} square={true}>\n                { !imageUrl && icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { imageUrl && <ModuleImage className={classes.image} imageUrl={imageUrl} /> }\n                { selected && <NavToolbar selectable={selectable} selected={selected} className={classes.toolbar} /> ||<NavToolbar className={classes.toolbar} {...props} /> }\n            </Paper>\n\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle untitled={untitled} title={title} onClick={!selected && onEdit} />\n                    <div className={classes.status}>\n                        <ModuleLabel label={documentLabel || documentType} />\n                        <ModuleStatus statusLabel={statusLabel} status={statusLabel ||status} />\n                    </div>\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleByline author={author} datetime={datetime} />\n                </footer>\n            </div>\n            <NavSettings {...props} className={classes.settings} />\n        </ModuleBase>\n    )    \n\n}\n\nPreviewModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nPreviewModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default PreviewModule;\n","import React from 'react';\nimport FinderModel from \"./FinderModel\"\nimport { useTranslation } from 'react-i18next';\nimport { NavPath } from \"@kit-ui/admin\"\n\nimport { PreviewModule } from \"../components/PreviewModule\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    group: {\n        position: \"relative\",\n        overflow: \"hidden\",\n\n        \"& + $group\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n    },\n    header: {\n        position: \"sticky\",\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        zIndex: 1,\n        padding: theme.spacing(0,1),\n    },\n    body: {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        minHeight: 250\n    },  \n}));\n\nconst GroupIcons = ({view, title, resultsLoaded, ...props}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const { isLoading, resultsByPage, count, page, pages, onPage } = props\n\n    const loadingTitle = t('Searching, please wait') + \"...\";\n    const emptyTitle = t('No hits')\n\n    const classes = useStyles()\n\n    const variant = view.replace(\"group/\", \"\")\n\n    if (resultsLoaded && resultsLoaded.length) {\n        return (\n            <div className={classes.group}>\n\n            <header className={classes.header}>\n                <NavPath title={title} />\n            </header>\n\n            <div className={classes.body}>\n\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <FinderModel {...props} model={model} variant={variant} key={index}>\n                            <PreviewModule />\n                        </FinderModel>\n                    )\n                })}\n\n            </div>\n\n        </div>            \n        )\n    }\n\n    return (\n        <div className={classes.group}>\n            <header className={classes.header}>\n                <NavPath title={title} />\n            </header>\n        </div>\n    )\n\n}\n\nexport default GroupIcons","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\n\nimport ViewList from \"./ViewList\"\nimport ViewTable from \"./ViewTable\"\nimport ViewIcons from \"./ViewIcons\"\nimport ViewMasonry from \"./ViewMasonry\"\nimport ViewGallery from \"./ViewGallery\"\nimport ViewColumn from \"./ViewColumn\"\nimport ViewGroup from \"./ViewGroup\"\n\nconst FinderView = ({view = \"list\", template, ...props}) => {\n\n    const { t, i18n } = useTranslation()\n\n    const templates = {\n        \"list\": ViewList,\n        \"table\": ViewTable,\n        \"icons\": ViewIcons,\n        \"masonry\": ViewMasonry,\n        \"gallery\": ViewGallery,\n        \"column\": ViewColumn,\n        \"group/icons\": ViewGroup,\n        \"group/landscape\": ViewGroup,\n        \"group/portrait\": ViewGroup,\n    }\n\n    // actions\n\n    const dispatch = useDispatch()\n\n    const _onEdit = ({uniqueId}) => {\n        uniqueId && props.history.push(props.location.pathname + '/' + uniqueId + \"/edit\")\n    }\n\n    const _onDelete = ({modelName, uniqueId}) => {\n        dispatch(deleteModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onRestore = ({modelName, uniqueId}) => {\n        dispatch(restoreModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onErase = ({modelName, uniqueId}) => {\n        dispatch(eraseModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onSelect = ({modelName, uniqueId}) => {\n        dispatch(selectModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    // template\n\n    if (!template && templates[view]) {\n        template = templates[view]\n    } else if (!template) {\n        template = \"list\"\n    }\n    \n    const Template = template\n\n    // sortOptions\n\n    const sortOptions = props.sortOptions && props.sortOptions.map(option => {\n        \n        if (typeof option === \"string\" ||typeof option === \"number\") {\n            return {\n                label: t(\"sort:\"+option),\n                value: option\n            }\n        }\n\n        return option\n\n    })\n\n    // rowsOptions\n\n    const rowsOptions = props.rowsOptions && props.rowsOptions.map(option => {\n        \n        if (typeof option === \"string\" ||typeof option === \"number\") {\n            return {\n                label: t('view:{{rows}} rows', { rows: option }),\n                value: option\n            }\n        }\n\n        return option\n\n    })    \n\n    if (Template) {\n        return (\n            <Template {...props} view={view} sortOptions={sortOptions} rowsOptions={rowsOptions} />\n        )\n        \n    }\n\n\n}\n\nFinderView.defaultProps = {\n}\n\nexport default FinderView","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getView, getSort } from '../redux/finder';\nimport { getQuery } from '../redux/searchByUrl';\nimport qs from 'query-string';\n\nimport Bulk from \"./Bulk\"\nimport FinderLayout from \"./FinderLayout\"\nimport View from \"./View\"\n\nconst FinderQuery = ({url, query = {}, sortOptions = [], viewOptions = [], ...props}) => {\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // set query\n\n    const pathname = props.location.pathname\n    const sq = props.location.search && qs.parse(props.location.search)\n\n    let q = []\n\n    query.q && q.push(query.q)\n    sq.q && q.push(sq.q)\n\n    query = {\n        ...query,\n        url: url,\n        collectionId: query.collectionId ||app && app.collectionId,\n        siteId: query.siteId ||app && app.siteId,\n        page: sq.page || 1,\n        rows: sq.rows ||10,\n        sort: sq.sort ||query.sort ||undefined,\n        fl: query.fl ||\"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName\",\n        q: q && q.join(\" \") ||undefined,\n    };\n\n\n    // query\n\n    useEffect(() => {\n        query.models && dispatch(getQuery(query))\n    }, [url, query.models, query.q, sq.sort, sq.rows])\n\n    // search\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url] ||{}\n    \n    const _onPage = (page) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, page: page});\n        props.history.replace(url)\n\n        dispatch(getQuery({\n            ...query,\n            page: page\n        }))\n    }\n\n    const _onCreate = () => {\n        props.history.push(props.location.pathname + '/' + query.documentType + \"/new\")\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const _onRows = (rows) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, rows: rows});\n        props.history.replace(url)\n\n//        dispatch(getSort({sort}))\n\n    }\n\n    const _onSort = (sort) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, sort: sort});\n        props.history.replace(url)\n\n//        dispatch(getSort({sort}))\n\n    }\n\n    const _onView = (view) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, view: view});\n        props.history.replace(url)\n\n//        dispatch(getView({view}))\n\n    }\n\n    const view = sq.view || props.view || viewOptions && viewOptions[0] ||\"list\"\n\n    return (\n        <Bulk>\n            <FinderLayout {...finder} {...sq} onSelect={_onSelect} view={view} viewOptions={viewOptions} onView={_onView}>\n                <View {...finder} {...sq} {...props} {...currentSearch} view={view} onPage={_onPage} sortOptions={sortOptions} onSort={_onSort} onRows={_onRows} />\n            </FinderLayout>\n        </Bulk>\n    )\n\n\n\n}\n\nFinderQuery.defaultProps = {\n}\n\nexport default FinderQuery","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport EXIF from 'exif-js';\nimport * as mm from 'music-metadata-browser';\n\nconst uploadByUrlSlice = createSlice({\n    name: 'upload',\n    initialState: {\n    }, \n    reducers: {\n        requestUpload(state, action) {\n            const { id, requested } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n//                    acceptedFiles: acceptedFiles,\n//                    rejectedFiles: rejectedFiles,\n                    requested: requested,\n                    received: 0,\n                    count: 0,\n                    resultsLoaded: []\n                }\n            }\n        },\n        receiveUpload(state, action) {\n            const { id, results } = action.payload\n\n            return state\n        },\n        requestUploadModel(state, action) {\n            const { id, model } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n//                    received: state[id].received + 1,\n                }\n            }\n            \n        },\n        receiveUploadModel(state, action) {\n            const { id, data } = action.payload\n\n            return {\n                ...state,\n                [id]: {\n                    ...state[id],\n                    count: state[id].count + 1,\n                    resultsLoaded: [\n                        ...state[id].resultsLoaded,\n                        data\n                    ]\n                }\n            }\n        },\n        receiveUploadProgress(state, action) {\n            const { id, progress } = action.payload\n\n            return state\n            \n        },\n        receiveUploadStatus(state, action) {\n            const { id, status } = action.payload\n\n            return state\n        }\n    }\n})\n\nexport const getUpload = ({id, acceptedFiles = [], uploadData = { status: \"upload\" }}) => dispatch => {\n\n    const requested = acceptedFiles.length ||0\n\n    dispatch(requestUpload({id, requested}))\n\n    acceptedFiles && acceptedFiles.map((file, index) => {\n//      dispatch(requestUploadModel({id}))\n        dispatch(getUploadUrl({id, file, uploadData}))\n    })\n\n}\n\nexport const getUploadUrl = ({id, file, uploadData = {}}) => dispatch => {\n\n    console.log('getUploadMetadata', file)\n\n    const { name, type, size } = file\n\n    uploadData = {\n        ...uploadData,\n        title: uploadData.title || name,\n        filename: name,\n        mimeType: type,\n        mediaSize: size,\n        content: {\n            ...uploadData.content,\n            title: name,\n            filename: name\n        }\n    }\n\n    // where to upload?\n\n    let url = API + '/admin/api/media/upload';\n  \n    if (type.startsWith('image/')) {\n        url = url + '/image'\n    } else if (type.startsWith('video/')) {\n        url = url + '/video'\n    } else if (type.startsWith('audio/')) {\n        url = url + '/audio'\n    } else {\n        url = url + '/misc'\n    }\n\n    console.log('url', url);\n\n    const payload = JSON.stringify(uploadData);\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: payload\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => dispatch(getUploadData({id, file, data})))        \n\n}\n\n\n\nexport const getUploadData = ({id, file, data}) => dispatch => {\n\n    // uniqueId + uploadUrl\n\n    const { uniqueId, uploadUrl } = data;\n\n    dispatch(receiveUploadModel({id, data}))\n\n    const handleStatus = (uniqueId, event) => {\n        let uploadProgress;\n\n        if (event && event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n    \n        let url = API + '/admin/api/media/upload/status/' + uniqueId\n    \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveUploadStatus(uniqueId, data))\n        })\n\n    }\n\n    const _onProgress = (event) => {\n        let uploadProgress;\n\n        if (event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n\n        console.log(\"PROGRESS\", uploadProgress)\n    \n//        dispatch(receiveUploadProgress(uniqueId, uploadProgress))\n    \n    }\n\n\n    // do the upload\n\n    let payload = new FormData();\n    payload.append('file', file);\n\n    var xhr = new XMLHttpRequest();\n//    onLoadStart && xhr.upload.addEventListener(\"load\", (event) => _onLoadStatus(event), false);\n        xhr.upload.addEventListener(\"progress\", (event) => _onProgress(event), false);\n//    onAbort && xhr.upload.addEventListener(\"abort\", (event) => _onAbort(event), false);\n//    onError && xhr.upload.addEventListener(\"error\", (event) => _onError(event), false);\n//    onLoad && xhr.upload.addEventListener(\"load\", (event) => _onLoad(event), false);\n//    onTimeout && xhr.upload.addEventListener(\"timeout\", (event) => _onTimeout(event), false);\n//    onLoadEnd && xhr.upload.addEventListener(\"loadend\", (event) => _onLoadEnd(event), false);\n    xhr.open(\"POST\", uploadUrl);\n    xhr.send(payload);\n\n\n//    getUploadModel({id, file, uploadData, callback: (props) => dispatch(handleUpload(props))})\n\n}\n\n\n\nexport const { requestUpload, requestUploadModel, receiveUploadModel, receiveUploadStatus, receiveUploadProgress } = uploadByUrlSlice.actions\nexport default uploadByUrlSlice.reducer","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst UploadDropzone = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nUploadDropzone.propTypes = {\n    onUpload: PropTypes.func\n}\n\nUploadDropzone.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default UploadDropzone","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getUpload } from '../redux/uploadByUrl';\nimport qs from 'query-string';\n\nimport Bulk from \"./Bulk\"\nimport FinderLayout from \"./FinderLayout\"\nimport View from \"./View\"\nimport UploadDropzone from \"../Upload/UploadDropzone\"\n\nconst MediaUpload = (props) => {\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // set query\n\n    const pathname = props.location.pathname\n    const sq = props.location.search && qs.parse(props.location.search)\n\n    const _onUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: app.collectionId,\n            status: \"upload\"\n        }\n\n        dispatch(getUpload({\n            id: pathname,\n            acceptedFiles,\n            uploadData\n        }))\n\n    }\n\n    const uploadByUrl = useSelector(state => state.uploadByUrl)\n    const currentUpload = uploadByUrl && uploadByUrl[pathname] ||{}\n\n    return (\n        <Bulk>\n            <FinderLayout {...finder} {...props}>\n                <View {...currentUpload} {...props} />\n                <UploadDropzone onUpload={_onUpload} />\n            </FinderLayout>\n        </Bulk>\n    )\n\n}\n\nMediaUpload.defaultProps = {\n}\n\nexport default MediaUpload","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { TreeView, TreeList, TreeModule } from \"../components\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst DocumentTreeList = ({\n    treeRoot,\n    treeParent,\n    treeChildren,\n    onToggle,\n    onSelect,\n    onDragEnd,\n    ...props\n}) => {\n\n    const modelsById = useSelector(state => state.modelsById)\n\n    const _onSelect = ({url}) => {\n        onSelect && onSelect({url})\n    }\n\n    const _onToggle = () => {\n        \n    }\n\n    const DraggableChild = ({child, level, index}) => {\n\n        child = {\n            ...child,\n            draggableId: treeRoot + \"/\" + child.id,\n            droppableId: treeRoot + \"/\" + child.id,\n            url: treeRoot + \"/\" + child.uniqueId\n        }\n\n        const uniqueModel = modelsById && modelsById[child.uniqueId]\n        const children = uniqueModel && uniqueModel.children\n\n        let selected = props.location.pathname === child.url\n        let collapsible = true, expanded = true\n\n        child = {\n            ...child,\n            selected: selected,\n            collapsible: collapsible,\n            expanded: selected || expanded,\n        }\n\n        const renderChildren = () => {\n\n            if (!children) {\n                return false\n            }\n\n            return (\n                <DroppableChildren parent={child} children={children} level={level+1} />\n            )\n\n        }\n\n        return (\n            <Draggable index={index} draggableId={child.draggableId} key={child.draggableId}>\n                {(provided, snapshot) => (\n                    <FinderModel {...props} model={child} onSelect={() => _onSelect(child)} onToggle={() => _onToggle(child)}>\n                        <TreeModule {...child} index={index} draggable={{provided, snapshot}} level={level} renderChildren={renderChildren} />\n                    </FinderModel>\n                )}\n            </Draggable>\n        )\n\n\n    }\n\n    const DroppableChildren = ({parent, children, index, level}) => {\n\n        return (\n            <Droppable isCombineEnabled={true} index={index} droppableId={parent.droppableId} key={parent.droppableId}>\n                {(provided, snapshot) => (\n                    <TreeList droppable={{provided, snapshot}}>\n                        {children && children.map((child, index) => {\n                            return (\n                                <DraggableChild child={child} level={level} index={index} key={index} />\n                            )\n                        })}\n                    </TreeList>\n                )}\n            </Droppable>\n\n        )\n        \n    }\n\n    return (\n        <TreeView>\n            <DragDropContext onDragEnd={onDragEnd}>\n                { treeParent && treeChildren && <DroppableChildren parent={treeParent}children={treeChildren} index={0} level={1} /> }\n            </DragDropContext>        \n        </TreeView>\n    )\n\n\n}\n\nDocumentTreeList.defaultProps = {\n}\n\nexport default DocumentTreeList","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport {\n    ColumnView,\n    ColumnList,\n    ColumnModule,\n} from \"../components/ColumnView\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst TreeColumn = ({\n    treeRoot,\n    treeParent,\n    treeParents,\n    treeChildren,\n    onToggle,\n    onSelect,\n    onEdit,\n    onCreate,\n    onDragEnd,\n    ...props\n}) => {\n\n    const modelsById = useSelector(state => state.modelsById)\n\n    const [parents, setParents] = useState([\n        {\n            ...treeParent,\n            children: treeChildren\n        }\n    ])\n\n    const _getNodeId = (treeNode) => {\n        if (treeNode === treeRoot) {\n            return null\n        } else {\n            return treeNode.replace(treeRoot + \"/\", \"\")\n        }\n    }\n\n    const _getParents = ({url}) => {\n\n        const uniqueId = url && _getNodeId(url)\n        const uniqueModel = uniqueId && modelsById && modelsById[uniqueId]\n\n        if (uniqueModel) {\n\n            const modelParents = uniqueModel.parents && uniqueModel.parents.map(parent => {\n\n                const parentModel = modelsById && modelsById[parent.uniqueId]\n                const parentChildren = parentModel && parentModel.children\n        \n                return {\n                    ...parent,\n                    selected: true,\n                    children: parentChildren && parentChildren.map(child => {\n                        return {\n                            ...child,\n                            draggableId: treeRoot + \"/\" + child.id,\n                            droppableId: treeRoot + \"/\" + child.id,\n                            url: treeRoot + \"/\" + child.uniqueId\n                        }\n                    }),\n                    draggableId: treeRoot + \"/\" + parent.id,\n                    droppableId: treeRoot + \"/\" + parent.id,\n                    url: treeRoot + \"/\" + parent.uniqueId\n                }\n            })\n    \n            setParents([\n                treeParent,\n                ...modelParents,\n                {\n                    ...uniqueModel,\n                    draggableId: treeRoot + \"/\" + uniqueModel.id,\n                    droppableId: treeRoot + \"/\" + uniqueModel.id,\n                    url: treeRoot + \"/\" + uniqueModel.uniqueId\n                }\n            ])\n\n            console.log('treeParents', treeParents)\n\n        } else {\n            setParents([\n                treeParent\n            ])\n        }\n        \n    }\n\n    useEffect(() => {\n        setParents([{\n            ...treeParent,\n            children: treeChildren\n        }])\n    }, [treeChildren])\n\n    const _onSelect = (model) => {\n//        onSelect && onSelect(model)\n        _getParents(model)\n    }\n\n    const DraggableChild = ({child = {}, level, index}) => {\n\n        child = {\n            ...child,\n            url: treeRoot + \"/\" + child.uniqueId,\n            draggableId: treeRoot + \"/\" + child.id,\n            droppableId: treeRoot + \"/\" + child.id\n        }\n\n        const uniqueModel = modelsById && modelsById[child.uniqueId]\n        const children = uniqueModel && uniqueModel.children\n\n//      const selected = false\n        let collapsible = children && true \n        let expanded = false\n\n        child = {\n            ...child,\n            ...uniqueModel,\n            collapsible: collapsible,\n        }\n\n        return (\n            <Draggable index={index} draggableId={child.draggableId} key={child.draggableId}>\n                {(provided, snapshot) => (\n                    <FinderModel model={child} onSelect={() => _onSelect(child)}>\n                        <ColumnModule {...child} index={index} draggable={{provided, snapshot}} level={level} />\n                    </FinderModel>\n                )}\n            </Draggable>\n        )\n\n    }    \n    \n\n    const DroppableChildren = ({children, index, level, ...parent}) => {\n\n        return (\n            <Droppable isCombineEnabled={true} index={index} droppableId={parent.droppableId} key={parent.droppableId}>\n                {(provided, snapshot) => (\n                    <ColumnList droppable={{provided, snapshot}} key={index}>\n                        {children && children.map((child, index) => {\n                            return (\n                                <DraggableChild child={child} level={level} index={index} key={index} />\n                            )\n                        })}\n                    </ColumnList>\n                )}\n            </Droppable>\n\n        )\n        \n    }\n\n    return (\n        <DragDropContext onDragEnd={onDragEnd}>\n            <ColumnView>\n                { parents && parents.map((parent, index) => {\n                    return <DroppableChildren {...parent} index={index} level={index+2} key={index} />\n                })}\n            </ColumnView>\n        </DragDropContext>\n    )\n\n\n}\n\nTreeColumn.defaultProps = {\n}\n\nexport default TreeColumn","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchByUrl';\nimport { getModel } from '../redux/modelsById';\nimport { API } from \"../redux/settings\"\nimport qs from 'query-string';\n\nimport TreeListView from \"./DocumentTreeList\"\nimport TreeColumnView from \"./DocumentTreeColumn\"\nimport FinderLayout from \"./FinderLayout\"\n\nconst DocumentTree = ({url, query, ...props}) => {\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const parent = finder.parent\n\n    const modelsById = useSelector(state => state.modelsById)\n\n    // set query\n\n    const sq = props.location.search && qs.parse(props.location.search)\n\n    let q = []\n\n    query.q && q.push(query.q)\n    sq.q && q.push(sq.q)\n\n    query = {\n        ...query,\n        url: url,\n        collectionId: query.collectionId ||app && app.collectionId,\n        siteId: query.siteId ||app && app.siteId,\n        page: sq.page || 1,\n        rows: sq.rows ||10,\n        sort: sq.sort ||query.sort ||undefined,\n        fl: query.fl ||\"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName\",\n        q: q && q.join(\" \") ||undefined,\n    };\n\n    // query\n\n    useEffect(() => {\n        query.models && dispatch(getQuery(query))\n    }, [url, query.models, query.q, sq.sort, sq.rows])\n\n    // get search\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url] ||{}\n    const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n\n    const _onToggle = ({url}) => {\n//        url && dispatch(toggleMenuItem({url}))\n    }    \n\n    const _onCreate = ({url, id}) => {\n        const parentId = Number.isInteger(id) && id ||null\n        const createUrl = url && url + \"/new?\" + qs.stringify({documentType: \"pageTopic\", parentId: parentId})\n        createUrl && props.history.push(createUrl)\n    }\n\n    const _onChange = ({id, parentId, sourceId, destinationId}) => {\n\n        const formData = {\n            id: id,\n            parentId: parentId\n        }\n\n        const url = API + '/admin/api/documents';\n\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: JSON.stringify(formData)\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            id && dispatch(getModel({id}))\n            parentId && dispatch(getModel({id: parentId})) ||dispatch(getQuery(query))\n            sourceId && dispatch(getModel({id: sourceId}))\n            destinationId && dispatch(getModel({id: destinationId}))\n        })\n        \n    }\n\n    const treeRoot = query.url\n\n    const _getNodeId = (treeNode) => {\n        if (treeNode === treeRoot) {\n            return null\n        } else {\n            return treeNode.replace(treeRoot + \"/\", \"\")\n        }\n    }\n\n    // treeRoot\n\n    const treeChildren = resultsLoaded && resultsLoaded.map(child => {\n        return {\n            ...child,\n            draggableId: treeRoot + \"/\" + child.id,\n            droppableId: treeRoot + \"/\" + child.id,\n            url: treeRoot + \"/\" + child.uniqueId\n        }\n    })\n\n    const treeParent = treeRoot && {\n        ...parent,\n        children: treeChildren,\n        draggableId: treeRoot,\n        droppableId: treeRoot,\n        url: treeRoot\n    }\n\n    const _onDragEnd = (results) => {\n\n        const { draggableId, source, destination, combine } = results\n\n        let id, parentId, sourceId, destinationId\n\n        if (source && destination && source.droppableId !== destination.droppableId) {\n\n            id = _getNodeId(draggableId)\n            parentId = _getNodeId(destination.droppableId)\n            sourceId = _getNodeId(source.droppableId)\n\n        } else if (combine && combine.draggableId !== source.droppableId && draggableId !== combine.draggableId) {\n\n            id = _getNodeId(draggableId)\n            parentId = _getNodeId(combine.draggableId)\n            sourceId = _getNodeId(source.droppableId)\n\n        }\n\n        if (id && id !== parentId) {\n\n            _onChange({\n                id: id,\n                parentId: parentId,\n                sourceId: sourceId,\n            })\n\n        }\n\n    }\n\n    const _onSelect = ({url}) => {\n\n        if (sq) {\n            url = url + \"?\" + qs.stringify(sq);\n        }\n\n        url && props.history.push(url)\n\n        const uniqueId = _getNodeId(url)\n        uniqueId && getModel(uniqueId)\n\n    }\n\n    // viewOptions\n\n    const viewOptions = [\"list\",\"column\"]\n    const view = sq.view ||viewOptions[0]\n\n    const _onView = (view) => {\n        const sq = props.location.search && qs.parse(props.location.search)\n        const url = props.location.pathname + \"?\" + qs.stringify({...sq, view: view});\n        props.history.replace(url)\n    }\n\n    // template\n\n    const templates = {\n        \"list\": TreeListView,\n        \"column\": TreeColumnView\n    }\n    \n    let template;\n\n    if (!template && templates[view]) {\n        template = templates[view]\n    } else if (!template) {\n        template = \"list\"\n    }\n    \n    const Template = template\n\n    return (\n        <FinderLayout {...finder} viewOptions={viewOptions} view={view} onView={_onView}>\n            <Template {...props} \n                {...currentSearch}\n                treeRoot={treeRoot}\n                treeParent={treeParent}\n                treeChildren={treeChildren}\n                onToggle={_onToggle}\n                onSelect={_onSelect}\n                onCreate={_onCreate}\n                onDragEnd={_onDragEnd} />\n        </FinderLayout>\n    )\n\n\n\n}\n\nDocumentTree.defaultProps = {\n}\n\nexport default DocumentTree","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout } from '../redux/app';\nimport { getFinder, getMenuItem, getParents } from '../redux/finder';\n\nimport FinderLoader from \"./FinderLoader\"\nimport FinderQuery from \"./FinderQuery\"\nimport FinderUpload from \"./FinderUpload\"\n\nimport DocumentTree from \"./DocumentTree\"\n\nconst templates = {\n    \"finder/query\": FinderQuery,\n    \"finder/tree\": DocumentTree,\n    \"tree\": DocumentTree,\n    \"treeitem\": DocumentTree,\n    \"upload\": FinderUpload,\n}\n\nconst Finder = (props) => {\n    const pathname = props.location.pathname\n    const finder = useSelector(state => state.finder)\n\n    const parent = finder.parent\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getLayout(\"finder\"))\n    }, [])\n\n    const template = parent && parent.template\n    const FinderTemplate = templates && templates[template] ||FinderQuery\n\n    return (\n        <FinderLoader {...props}>\n            <FinderTemplate \n                url={parent && parent.url}\n                query={parent && parent.query}\n                sortOptions={parent && parent.sortOptions}\n                view={parent && parent.view}\n                viewOptions={parent && parent.viewOptions}\n                {...props} />\n        </FinderLoader>\n    )\n\n}\n\nFinder.defaultProps = {\n}\n\nexport default Finder","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { requestModel, receiveModel, getModel } from \"../modelsById\"\nimport qs from 'query-string';\n\nconst editorSlide = createSlice({\n    name: 'editor',\n    initialState: {\n        isLoading: true,\n//        isSaving: undefined,\n        pathname: undefined,\n        collectionId: undefined,\n        uniqueId: undefined,\n        parents: [],\n        currentId: undefined,\n        schema: {},\n        uiSchema: {},\n        formData: {},\n        formContext: {\n            isLoading: true,\n            isSaving: undefined,\n        },\n        dialog: {}\n    }, \n    reducers: {\n        requestEditor(state, action) {\n            const { pathname } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                isLoading: true,\n                formContext: {\n                    ...state.formContext,\n                    isLoading: true\n                }\n            }\n        },\n        receiveEditor(state, action) {\n            const { pathname, uniqueId, languages } = action.payload\n            return {\n                ...state,\n                pathname: pathname,\n                uniqueId: uniqueId,\n                isLoading: false,\n                formContext: {\n                    ...state.formContext,\n                    languages: languages,\n                    isLoading: false\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                formContext: {\n                    ...state.formContext,\n                    parents: parents\n                }\n            }\n        },\n        requestChildren(state, action) {\n            return state            \n        },\n        receiveChildren(state, action) {\n            const { children } = action.payload\n            return {\n                ...state,\n                children: children,\n                formContext: {\n                    ...state.formContext,\n                    children: children\n                }\n            }\n        },\n        requestEdit(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                isLoading: true,\n                formData: {\n                    uniqueId: uniqueId\n                }\n            }\n\n        },\n        receiveEdit(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            if (uniqueId) {\n                return {\n                    ...state,\n                    uniqueId: uniqueId,\n                    formData: {\n                        ...formData,\n                        uniqueId: uniqueId\n                    }\n                }\n            } else {\n                return {\n                    ...state,\n                    formData: formData\n                }\n            }\n\n        },\n        requestSave(state, action) {\n           return {\n                ...state,\n                isSaving: true,\n                formContext: {\n                    ...state.formContext,\n                    isSaving: true\n                }\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            return {\n                ...state,\n                isSaving: false,\n                formData: {\n                    ...formData,\n                    uniqueId: uniqueId\n                },\n                formContext: {\n                    ...state.formContext,\n                    isSaving: false\n                }\n            }\n        },\n        receiveChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData\n            }\n\n        },\n        receiveCurrentId(state, action) {\n            const { currentId } = action.payload\n            return {\n                ...state,\n                currentId: currentId,\n                formContext: {\n                    ...state.formContext,\n                    currentId: currentId,\n                }\n            }\n        },\n        receiveCurrentLocale(state, action) {\n            const { currentLocale } = action.payload\n            return {\n                ...state,\n                currentLocale: currentLocale,\n                formContext: {\n                    ...state.formContext,\n                    currentLocale: currentLocale,\n                }\n            }\n        },\n        requestDialog(state, action) {\n            return {\n                ...state,\n                dialog: {},\n            }\n        },\n        receiveDialog(state, action) {\n            const { id, schema, uiSchema, formData, onChange } = action.payload\n            return {\n                ...state,\n                dialog: {\n                    id: id,\n                    expanded: true,\n                    schema: schema,\n                    uiSchema: uiSchema,\n                    formData: formData,\n                    onChange: onChange\n                },\n            }\n        }        \n    }\n})\n\nexport const getEditor = ({pathname, uniqueId, schema, uiSchema}) => (dispatch, getState) => {\n    dispatch(requestEditor({pathname}))\n\n    const state = getState()\n    const app = state.app\n\n    dispatch(getParents({url: pathname, uniqueId}))\n\n    schema && uiSchema && dispatch(receiveEditor({pathname, uniqueId, languages: app.languages}))\n\n}\n\nexport const getChildren = ({modelName = \"documents\", id}) => (dispatch, getState) => {\n\n    const query = qs.stringify({\n        parentId: id,\n    })\n\n    const apiUrl = API + '/admin/api/' + modelName + '/search?' + query;\n\n    dispatch(requestChildren())\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results.models && dispatch(receiveChildren({children: results.models}))\n        })\n\n\n}\n\nexport const getParents = ({url, uniqueId, id, parentId, parents = []}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    const pathnames = url.split('/');\n    pathnames.pop()\n\n    const parentUrl = pathnames.join(\"/\")\n\n    let parent = menuByUrl[parentUrl] || menuById[pathnames.length-1]\n\n    // find parent by last child\n\n    if (parent) {\n\n        console.log('parents by last child', parent)\n\n        while (parent) {\n            parents.push(parent)\n            parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n        }\n\n        parents = parents.reverse()\n\n    } else {\n\n        let path = [], pathUrl\n\n        pathnames.map(pathname => {\n\n            path.push(pathname)\n            pathUrl = path.join('/')\n\n            console.log('parents by path', pathUrl)\n\n\n            if (menuByUrl[pathUrl]) {\n                parents.push(menuByUrl[pathUrl])\n            }\n\n        })\n\n\n    }\n\n\n    if (uniqueId) {\n        parents = parents.filter(parent => parent.uniqueId !== uniqueId)\n    }\n\n\n    dispatch(receiveParents({parents}))\n  \n}\n\n/** Edit model from uniqueId */\n\nexport const editModel = ({modelName = \"documents\", uniqueId, ...formData}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    if (uniqueId) {\n        dispatch(requestEdit({uniqueId}))\n        \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveEdit({...formData, modelName}))\n                dispatch(getModel({...formData, modelName}))\n            })\n\n    } else if (formData) {\n        dispatch(receiveEdit({...formData, modelName}))\n    }\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    dispatch(requestSave())\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave({...formData, modelName}))\n        dispatch(getModel({...formData, modelName}))\n    })\n\n}\n\nexport const { \n    requestEditor, receiveEditor, \n    requestParents, receiveParents,\n    requestChildren, receiveChildren,\n    receiveChange,\n    receiveCurrentId, \n    receiveCurrentLocale,\n    requestEdit, receiveEdit, \n    requestSave, receiveSave, \n    requestDialog, receiveDialog\n} = editorSlide.actions\nexport default editorSlide.reducer","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\n\nconst DialogBase = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <section className={classes.dialog}>\n            {children}\n        </section>\n    )\n}\n\nexport default DialogBase","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"absolute\",\n        zIndex: 2,\n        bottom: 0,\n        left: 0,\n        right: 0,\n\n        backgroundColor: \"inherit\",\n\n        \"& + *\": {\n            marginBottom: theme.spacing(8)\n        }\n\n    },\n    navigation: {\n        backgroundColor: \"inherit\",\n        width: \"100%\"\n    },\n}));\n\nconst Menu = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(8)\n    }\n}))(BottomNavigation);\n\nconst MenuItem = withStyles(theme => ({\n    root: {\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px !important\",\n    },\n    selected: {\n    },\n}))(BottomNavigationAction);\n\nconst DialogFooter = ({menu = [], tabIndex = 0}) => {\n \n    const classes = useStyles();\n\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (menu[index].onClick) {\n            menu[index].onClick()\n        }\n\n    }\n    \n    return (\n        <Paper component=\"footer\" elevation={4} square={true} className={classes.footer}>\n            <Menu \n                value={value} \n                onChange={handleChange}\n                showLabels\n                className={classes.navigation}>\n                    { menu && menu.map((item, index) => {\n                        return (\n                            <MenuItem {...item} key={index} />\n                        )\n                    })}\n            </Menu>\n        </Paper>\n    )\n}\n\nexport default DialogFooter","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        width: \"100%\",\n        height: \"64px\",\n        overflow: \"hidden\",\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n\n        paddingLeft: theme.spacing(8),\n        paddingRight: theme.spacing(8),\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"1\",\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"&:focus + *\": {\n            opacity: 1\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        left: \"0\",\n        margin: theme.spacing(1),\n        \"&[disabled]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    reset: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    }\n}));\n\nconst ButtonReset = ({className, onClick}) => {\n    return (\n        <IconButton className={className} onClick={onClick}>\n            <CloseIcon />\n        </IconButton>\n    )\n}\n\nconst ButtonToggle = ({className, disabled, onClick}) => {\n    return (\n        <IconButton disableRipple className={className} disabled={disabled} onClick={onClick}>\n            <SearchIcon />\n        </IconButton>\n    )\n}\n\nconst AppSearchDefault = ({className, variant, expanded = true, placeholder = \"Search\", q, onFocus, onChange, onToggle, onClose, onReset}) => {\n    const inputRef = useRef(null);\n    const classes = useStyles()\n\n    const _onToggle = (event) => {\n        onToggle && onToggle(event)\n    }\n\n    useEffect(() => {\n        expanded && inputRef.current.focus()\n    }, [expanded])\n\n    const _onChange = (event) => {\n        onChange && onChange(event.target.value, event);\n//        onFocus && onFocus(event)\n    }\n\n    const _onReset = () => {\n        if (inputRef.current && inputRef.current.value) {\n            inputRef.current.value = \"\"\n            onReset && onReset()\n        } else if (onClose) {\n            onClose()\n        }\n\n//        onReset && onReset()\n    }\n\n    return (\n        <div className={className ||classes.search} aria-expanded={expanded}>\n            <ButtonToggle className={classes.toggle} onClick={_onToggle} disabled={!onToggle && true || false} />\n            <input ref={inputRef} className={classes.input} type=\"text\"\n                placeholder={placeholder}\n                onChange={_onChange} />\n            <ButtonReset className={classes.reset} onClick={_onReset} />\n        </div>\n    )\n}\n\nAppSearchDefault.propTypes = {\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default AppSearchDefault;","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport Typography from '@material-ui/core/Typography';\n\nconst DialogTabpanel = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(3),\n    },\n    indicator: {\n        bottom: \"auto\",\n        top: 0\n    },\n}))(Tabs);\n\nconst DialogTab = withStyles(theme => ({\n    root: {\n        textTransform: 'none',\n        letterSpacing: 0,\n        minWidth: 0,\n        minHeight: theme.spacing(3),\n        paddingLeft: 0,\n        paddingRight: 0,\n        marginLeft: 0,\n        marginRight: theme.spacing(2),\n        color: \"inherit\",\n        '&:hover': {\n          color: \"inherit\",\n          opacity: 1,\n        },\n        '&$selected': {\n          opacity: 1,\n        },\n        '&:focus': {\n          opacity: 1,\n        },\n    },\n    selected: {},\n\n}))(props => <Tab disableRipple label={<DialogLabel {...props} />} {...props} />);\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    },\n    title: {\n        fontWeight: \"bold\",\n    },\n    count: {\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(.5)\n    }\n\n}))\n\nconst DialogLabel = ({title, count}) => {\n\n    const classes = useStyles()\n\n    return (\n        <Typography className={classes.label}>\n            <b className={classes.title}>{title}</b>\n            { count && <i className={classes.count}>({count})</i> || \"\" }\n        </Typography>\n    )\n}\n\n\nconst DialogTabs = ({tabs = [], tabIndex = 0}) => {\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    }\n\n    return (\n        <DialogTabpanel\n            value={tabIndex ||value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"inherit\">\n            { tabs && tabs.map((tab, index) => {\n                return (\n                    <DialogTab {...tab} value={index} key={index} />\n                )\n            })}\n        </DialogTabpanel>        \n    )\n\n}\n\nexport default DialogTabs;","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport DialogTabs from \"./DialogTabs\"\n\nimport { NavSettings } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"sticky\",\n        zIndex: 2,\n        top: 0,\n        padding: 0,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n//        minHeight: theme.spacing(4.5),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    tabs: {\n\n    },\n    settings: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        margin: theme.spacing(.75,.5)\n\n    }\n}))\n\nconst DialogHeader = ({tabs, tabIndex, settings}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            { tabs && <DialogTabs className={classes.tabs} tabs={tabs} tabIndex={tabIndex} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n}\n\n\nexport default DialogHeader;","import React, { useRef, useState, useEffect } from 'react';\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from \"lodash\"\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n    }\n}));\n\nconst DialogSection = ({height, onScroll, children}) => {\n    const classes = useStyles()\n\n    const parentRef = useRef()\n\n    const handleScroll = _.debounce((event) => {\n        onScroll && onScroll(event)\n    }, 500)\n\n    useEffect(() => {\n        const ph = parentRef.current && parentRef.current.offsetHeight\n        const ch = parentRef.current && parentRef.current.children && parentRef.current.children[0] && parentRef.current.children[0].offsetHeight\n\n        parentRef.current.addEventListener(\"scroll\", handleScroll);\n\n        if (ph < ch) {\n//            setOverflow(true)\n        }\n\n        return () => {\n            parentRef.current.removeEventListener(\"scroll\", handleScroll);\n        };\n\n    }, [children, height]);\n\n\n    return (\n        <section className={classes.section} ref={parentRef}>\n            {children}\n        </section>\n    )\n}\n\nexport default withResizeDetector(DialogSection)","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        color: theme.palette.text.secondary,\n        margin: theme.spacing(2),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary\n    }\n}));\n\nconst ResultsLoader = ({query = {}, results = {}, children}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const classes = useStyles()\n\n    const { models = [], count, rows } = results\n\n    let title;\n\n    const q = query.q && query.q.replace('*', '')\n\n    if (rows && !count) {\n        title = t('No hits')\n    } else if (!models.length) {\n        title = t('Searching, please wait', {q}) + \"...\";\n    }\n\n    if (title) {\n        return (\n            <div className={classes.loader}>\n                <Typography className={classes.title}>{title}</Typography>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default ResultsLoader","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        /*\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        */\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n        margin: theme.spacing(2),\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsFooter = ({start, rows, count, page, pages, nextPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!nextPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n    const label = t('Get results {{from}}{{to}}', {from, to}) + \" ...\"\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(nextPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsFooter;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadModel } from '../redux/modelsById';\n\nimport { ListModule, TableModule, GalleryModule } from '@kit-ui/admin';\nimport { getUiPreview } from '@kit-ui/schema/lib';\n\nimport { useTranslation } from 'react-i18next';\nimport qs from 'query-string';\n\nconst layouts = {\n    \"table\": TableModule,\n    \"list\": ListModule,\n    \"gallery\": GalleryModule,\n}\n\nconst ModuleLoader = ({app, dialog, query, model, layout = \"table\", size = \"medium\", modelsSelected = [], onAdd, onRemove, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const schemasByName = {}\n\n    const modelsById = useSelector(state => state.modelsById)\n    const modelsBySource = {}\n\n    const { uniqueId, source, sourceId, documentType, mediaType } = model;\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(loadModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const appDocumentType = documentType && app && app.root + \"/\" + documentType\n    const sourceDocumentType = source && \"document/\" + source\n\n    let modelName = model.modelName === \"doc_schemas\" && \"schemas\" ||model.modelName\n    let modelSchema;\n\n    if (modelName === \"users\") {\n        modelSchema = schemasByName['user']\n    } else if (modelName === \"sites\") {\n        modelSchema = schemasByName['site']\n    } else if (modelName === \"collections\") {\n        modelSchema = schemasByName['collection']\n    } else if (modelName === \"doc_schemas\") {\n        modelSchema = schemasByName['schema']\n    }else if (modelName === \"documents\" || documentType) {\n        if (schemasByName[appDocumentType]) {\n            modelSchema = schemasByName[appDocumentType]\n        } else if (source && schemasByName[sourceDocumentType]) {\n            modelSchema = schemasByName[sourceDocumentType]\n        } else if (documentType) {\n            modelSchema = schemasByName[documentType]\n        }\n    } else if (modelName === \"media\" ||mediaType) {\n        modelSchema = mediaType && schemasByName[\"media/\"+mediaType]\n    }\n\n\n    const [preview, setPreview] = useState(model)\n\n    const getImageUrl = (model) => {\n        const { imageUrl, uploadStatus, uploadProgress } = model\n\n        const imageUrlParts = imageUrl && imageUrl.split(\"?\")\n        const imageParams = imageUrlParts && imageUrlParts[1] && qs.parse(imageUrlParts[1])\n\n        if (!imageParams) {\n            return imageUrl\n        }\n\n        const newImageParams = qs.stringify({\n            ...imageParams,\n            uploadStatus: uploadStatus,\n            uploadProgress: uploadProgress,\n            dimension: \"250x250\"\n        })\n\n        const newImageUrl = imageUrlParts[0] + \"?\" + newImageParams\n        \n        return newImageUrl\n\n    }\n\n    const uniqueModel = source && sourceId && modelsBySource && modelsBySource[source + \"/\" + sourceId] || uniqueId && modelsById && modelsById[uniqueId]; //  || model\n\n    useEffect(() => {\n        let uiPreview = {}\n\n        if (modelSchema && uniqueModel) {\n            uiPreview = getUiPreview({...modelSchema, formData: uniqueModel, formContext: {t:t}})\n        }\n\n        const newModel = {\n            ...uniqueModel,\n            ...model,\n            ...uiPreview,\n        }\n\n        const newImageUrl = getImageUrl(newModel)\n\n        setPreview({\n            ...newModel,\n            imageUrl: newImageUrl,\n        })\n\n    }, [uniqueModel])\n\n    const {status, createdAt, createdByName, updatedAt, updatedByName, deletedAt, deletedByName } = preview;\n\n    const author = deletedByName ||updatedByName || createdByName ||\"N/A\"\n    const datetime = deletedAt ||updatedAt || createdAt\n\n    const statusLabel = t(\"status:\"+status ||undefined)\n    const LayoutTemplate = layout && layouts[layout]\n\n    let selected;\n\n    if (source && sourceId) {\n        selected = modelsSelected && modelsSelected.includes(source + \"/\" + sourceId)\n    } else if (uniqueId) {\n        selected = modelsSelected && modelsSelected.includes(uniqueId)\n    }\n\n    const handleSelect = () => {\n\n        console.log(\"ADD/REMOVE\", uniqueModel)\n\n        if (selected) {\n            onRemove && onRemove(uniqueModel)\n        } else {\n            onAdd && onAdd(uniqueModel)\n        }\n\n    }\n\n    const selectable = uniqueModel && true || false\n    const onClick = selectable ? handleSelect : undefined\n\n    return (\n        <LayoutTemplate {...preview} size={size} \n            statusLabel={statusLabel} author={author} datetime={datetime}\n            selectable={selectable} selected={selected} onClick={onClick} />\n    )\n\n}\n\nexport default ModuleLoader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return <div>{children}</div>\n}\n\nconst ResultsList = ({layout = \"list\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <ListLayout padding={2}>\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                    )\n                })}\n            </ListLayout>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default ResultsList","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { Gallery } from \"@kit-ui/admin\"\n\nimport DialogModel from \"./DialogModel\"\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsHeader from \"./ResultsHeader\"\nimport ResultsFooter from \"./ResultsFooter\"\n\nconst LayoutGallery = ({children}) => {\n    return children\n}\n\n\nconst ResultsGallery = ({layout = \"gallery\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, mediaHeight = 120, mediaLayout = \"cover\", spacing = 1, padding = 2, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <Gallery padding={padding} spacing={spacing}>\n                { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                    let width, height;\n                        \n                    if (model.mediaWidth && model.mediaHeight) {\n                        width = model.mediaWidth\n                        height = model.mediaHeight\n                    } else if (model.imageWidth && model.imageHeight) {\n                        width = model.imageWidth\n                        height = model.imageHeight\n                    }\n\n                    model = {\n                        ...model,\n                        width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                        mediaHeight: mediaHeight,\n                        mediaLayout: mediaLayout\n                    }\n\n                    return (\n                        <DialogModel {...props} layout=\"gallery\" model={model} modelsSelected={selected} width={model.width} key={index} />\n                    )\n                })}\n            </Gallery>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )    \n}\n\nResultsGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    models: PropTypes.array \n}\n\nexport default ResultsGallery;","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary,\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        paddingTop: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\"\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ResultsHeader = ({resultsLoaded = [], count, start, rows, pages, page, onPage}) => {\n    const { t, i18n } = useTranslation('search');\n\n    rows = resultsLoaded.length;\n\n    let title;\n\n    if (count > rows) {\n        title = t('{{rows}} of {{count}} hits', { pages, page, count,rows });\n    } else {\n        title = t('{{count}} hits', { pages, page, count, rows });\n    }\n    \n    const classes = useStyles()\n\n    return (\n        <header className={classes.root}>\n            <Typography className={classes.title}>{title}</Typography>\n        </header>\n    )\n\n}\n\nexport default ResultsHeader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return children\n}\n\n\nconst ResultsUploads = ({layout = \"list\", query = {}, results = {}, ...props}) => {\n    const { uploads, resultsLoaded, selected } = results\n    const { t, i18n } = useTranslation('upload');\n\n    if (query.q) {\n\n        return (\n            <ResultsLoader {...props}>\n                <ListLayout padding={2} title=\"Searching uploads\">\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                        )\n                    })}\n                </ListLayout>\n                <ResultsFooter {...props} />\n            </ResultsLoader>\n        )\n        \n    }\n\n    if (!uploads.length) {\n        return false\n    }\n\n    const count = uploads.length;\n    const title = t('{{count}} new uploads today', {count});\n\n    return (\n        <ListLayout padding={2}>\n            { uploads && uploads.map((model, index) => {\n                return (\n                    <DialogModel {...props} model={model} modelsSelected={selected} layout=\"list\" key={index} />\n                )\n            })}\n        </ListLayout>\n    )\n\n}\n\nexport default ResultsUploads;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getMediaSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst MediaResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData ||[]\n        } else {\n            items = formData && [formData] ||[]\n        }\n\n        const selected = items.map(({media, mediaId}) => { \n\n            if (media.source && media.sourceId) {\n                return media.source + \"/\" + media.sourceId\n            }\n\n            return mediaId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n        \n        const item = getDefaultFormState(itemSchema, {\n            mediaId: model.uniqueId,\n            media: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { uniqueId, sourceId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n            console.log('sourceId', sourceId)\n\n            const source = {\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }\n\n            console.log('source', source)\n\n            dispatch(getMediaSource({\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    // remove\n\n    const removeItem = ({uniqueId, source, sourceId}) => {\n        return formData.filter(item => item.mediaId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                mediaId: undefined,\n                media: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nexport default MediaResults","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getDocumentSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils;\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery\n}\n\nconst DocumentsResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData ||[]\n        } else {\n            items = formData && [formData] ||[]\n        }\n\n        console.log('ITEMS', items)\n\n        const selected = items.map(({reference, referenceId}) => { \n\n            const uniqueId = reference && reference.uniqueId\n\n            if (reference.source && reference.sourceId) {\n                return reference.source + \"/\" + reference.sourceId\n            }\n\n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n\n        \n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        console.log(\"NEW\", newFormData)\n        onChange && onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    const addModel = (model) => {\n\n        console.log(itemSchema)\n\n        const item = getDefaultFormState(itemSchema, {\n            referenceId: model.uniqueId,\n            reference: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = formData && formData.length && [].concat(formData, item) ||[item];\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { source, sourceId, uniqueId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n\n            console.log('sourceId', sourceId)\n\n            props.addDocumentSource({\n                ...model,\n                collectionId: query.collectionId\n            }, (model) => addModel(model))\n\n        }else if (source && uniqueId) {\n\n            delete model.uniqueId\n            \n            console.log('sourceId', sourceId)\n\n            dispatch(getDocumentSource({\n                ...model,\n                sourceId: uniqueId,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.referenceId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                referenceId: undefined,\n                reference: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )    \n\n}\n\nexport default DocumentsResults","import React, { useState, useEffect } from 'react';\nimport { getDefaultFormState } from '@kit-ui/schema/lib';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst SearchResultsDefault = ({schema, formData, onChange, query = {}, results = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData\n        } else {\n            items = [formData]\n        }\n\n        const selected = items.map(({uniqueId}) => { \n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n\n        const item = getDefaultFormState(itemSchema, {\n            uniqueId: model.uniqueId,\n            model: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        addModel(model)\n    }\n\n    // remove\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.uniqueId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                uniqueId: undefined,\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            results={{\n                ...results,\n                selected: modelsSelected\n            }}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        searchByUrl: state.searchByUrl,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(SearchResultsDefault);","import React from 'react';\n\nimport MediaResults from \"./MediaResults\"\nimport DocumentsResults from \"./DocumentsResults\"\nimport ResultsDefault from \"./SearchResultsDefault\"\n\nconst templates = {\n    \"default\": ResultsDefault,\n    \"media\": MediaResults,\n    \"youtube\": MediaResults,\n    \"vimeo\": MediaResults,\n    \"sketchfab\": MediaResults,\n    \"documents\": DocumentsResults,\n    \"ekultur\": DocumentsResults\n}\n\nconst SearchResults = ({query = {}, ...props}) => {\n\n    const ResultsTemplate = query.models && templates && templates[query.models] ||templates['default']\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {query.models}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            query={query} />\n    )\n\n    \n}\n\nexport default SearchResults","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\nimport _ from \"lodash\"\n\nconst SearchDialog = ({schema, formData, onChange, onClose, query = {}, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    console.log('query', query)\n\n    // user query\n\n    const [userQ, setUserQ] = useState(\"\")\n\n    const handleQuery = _.debounce((q, event) => {\n        setUserQ(q)\n    }, 500)\n\n    const handleReset = () => {\n\n        if (q) {\n            console.log(\"SearchDialog:reset\")\n            setUserQ(\"\")\n        } else {\n            console.log(\"SearchDialog:close\")\n            onClose && onClose()\n        }\n    }\n\n    // set q\n\n    let q\n\n    if (query.q && userQ) {\n        q = query.q + \" \" + userQ.trim() + \"*\";\n    } else if (userQ) {\n        q = userQ.trim() + \"*\"\n    } else if (query.q) {\n        q = query.q\n    }\n\n    // sort\n\n    const sortOptions = [\n        \"updatedAt DESC\",\n        \"title\", \n    ]\n\n    const [sort, setSort] = useState(sortOptions[0])\n\n    const sortSettings =  {\n        \"name\": \"sort\",\n        \"value\": sort,\n        \"onChange\": (name, value) => setSort(value),\n        \"options\": sortOptions.map(value => {\n            return {\n                label: t(\"sort:\"+value || value),\n                value: value\n            }\n        })\n    }\n\n    // base query\n\n    query = {\n        ...query,\n        url: \"/dialog/search\",\n        start: 0,\n        rows: 20,\n        sort: sort,\n        status: \"NOT trash\",\n        fl: \"uniqueId,source,sourceId,documentType,mediaType,imageUrl,title,description,status,mediaWidth,mediaHeight,updatedAt,updatedByName\",\n        q: q,\n    }\n\n    // dm\n\n    const dmOwnerOptions = [\n        \"*\",\n        \"AHS\",\n        \"NF\", \n    ]\n\n    const [dmOwner, setDmOwner] = useState(dmOwnerOptions[0])\n\n    const dmOwnerSettings =  {\n        \"name\": \"dmOwner\",\n        \"value\": dmOwner,\n        \"onChange\": (name, value) => setDmOwner(value),\n        \"options\": dmOwnerOptions.map(value => {\n            return {\n                label: \"owner:\" + value,\n                value: value\n            }\n        })\n    }\n\n\n    const getMediaSource = (source) => {\n        const queryUrl = query.url + \"/\" + source + \"/\" + query.q\n\n        return {\n            title: \"media/\" + source,\n            layout: \"gallery\",\n            query: {\n                url: queryUrl,\n                models: source,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n\n    }\n\n    const getMediaType = (mediaType) => {\n        const queryUrl = query.url + \"/\" + mediaType + \"/\" + query.q\n\n        return {\n            title: \"media/\" + mediaType,\n            layout: mediaType.includes(\"audio\") && \"list\" ||\"gallery\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: queryUrl,\n                mediaType: mediaType\n            }\n        }\n\n    }\n\n    const getMediaSections = () => {\n\n        let mediaTypes = []\n\n        if (Array.isArray(query.mediaType)) {\n            mediaTypes = query.mediaType\n        } else if (query.mediaType) {\n            mediaTypes = [query.mediaType]\n        } else if (query.models === \"media\") {\n            mediaTypes = ['image*','video*','audio*']\n        }\n\n        return mediaTypes && mediaTypes.map(mediaType => {\n            if (mediaType === \"youtube\" || mediaType == \"vimeo\" || mediaType === \"sketchfab\") {\n                return getMediaSource(mediaType)\n            } else {\n                return getMediaType(mediaType)\n            }\n        })\n\n    }\n\n    // get documentSections\n\n    const getDocumentSource = (source) => {\n        return {\n            title: \"documents/\" + source,\n            layout: \"list\",\n            settings: [\n                dmOwnerSettings\n            ],\n            query: {\n                models: source,\n                url: query.url + \"/\" + source + \"/\" + query.q,\n                owner: dmOwner,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n        \n    }    \n\n    const getDocumentType = (documentType) => {\n        return {\n            title: \"documents/\" + documentType,\n            layout: \"list\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: query.url + \"/\" + documentType + \"/\" + query.q,\n                documentType: documentType\n            }\n        }\n    }\n\n    const getDocumentSections = () => {\n        let documentTypes = []\n\n        if (Array.isArray(query.documentType)) {\n            documentTypes = query.documentType\n        } else if (query.documentType) {\n            documentTypes = [query.documentType]\n        } else if (query.models === \"documents\") {\n            documentTypes = ['*']\n        }\n\n        return documentTypes && documentTypes.map(documentType => {\n            if (documentType === \"ekultur\") {\n                return getDocumentSource(documentType)\n            } else {\n                return getDocumentType(documentType)\n            }\n        })   \n\n    }\n\n\n    let sections = []\n\n    if (query.models === \"media\") {\n        sections = getMediaSections()\n    } else if (query.models === \"documents\") {\n        sections = getDocumentSections()\n    } else if (query.models === \"ekultur\") {\n        sections = [getDocumentSource(\"ekultur\")]\n    } else if (query.models) {\n        sections = [\n            {\n                title: query.models,\n                query: {\n                    ...query,\n                    models: query.models,\n                    url: query.url + \"/\" + query.models + \"/\" + query.q,\n                }\n            }\n        ]\n    }\n    // get tabs\n\n    const [tabIndex, setTabIndex] = useState(0)\n    const currentTab = sections[tabIndex]\n\n    // get search count\n\n    const getSearchCount = () => {\n        sections.map((section, index) => {\n            const { query } = section;\n\n            if (query.models === \"media\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n            if (query.models === \"documents\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n        })\n        \n    }\n\n    // setup tabs\n\n    const handleTab = (index) => {\n        setTabIndex(index)\n    }\n\n    const tabs = sections.map((section, index) => {\n        const { title, query } = section;\n\n        const currentSearch = searchByUrl && searchByUrl[query.url]\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n        \n        let count;\n\n        if (section.layout === \"uploads\") {\n            count = section.count\n        } else if (currentSearch && currentSearch.count) {\n            count = currentSearch && currentSearch.count\n        } else if (resultsLoaded && resultsLoaded.length && currentSearch.nextToken) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length + \"+\";\n        } else if (resultsLoaded && resultsLoaded.length) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length;\n        }\n\n        return {\n            title: t(title),\n            count: count,\n            onClick: () => handleTab(index)\n        }\n\n    })\n\n    const getSearch = () => {\n        currentTab && currentTab.query && dispatch(getQuery(currentTab.query))\n    }\n\n    useEffect(() => {\n        getSearch()\n    }, [tabIndex, query.q, query.sort, dmOwner])\n\n    // current query and search \n\n    const currentQuery = currentTab && currentTab.query\n    const currentSearch = currentQuery.url && searchByUrl && searchByUrl[currentQuery.url];\n\n    useEffect(() => {\n        getSearchCount()\n    }, [query.q])\n\n    // handle page\n\n    const handlePage = (page) => {\n        dispatch(getQuery({\n            ...currentQuery,\n            page: page,\n            start: currentQuery.rows * (page-1),\n            nextToken: currentSearch && currentSearch.nextToken\n        }))\n    }\n\n    // pages\n    \n    const [pages, setPages] = useState(0)\n    const [currentPage, setCurrentPage] = useState(0)\n    const [nextPage, setNextPage] = useState(0)\n\n    const getPages = () => {\n        const pages = Math.ceil(currentSearch.count/currentSearch.rows)\n        const page = Math.ceil((currentSearch.start+currentSearch.rows)/currentSearch.rows)\n\n        setPages(pages)\n        setCurrentPage(page)\n\n        let nextPage = 0\n\n        for (let p = page; p <= pages; p++) {\n            if (!currentSearch.resultsByPage[p]) {\n                nextPage = p\n                break\n            }\n        }    \n\n        setNextPage(nextPage)\n    \n    }\n\n    useEffect(() => {\n        currentSearch && currentSearch.count && getPages()\n    }, [currentSearch])\n\n    // search\n\n    let search = {\n        placeholder: \"Search\"\n    }\n\n    if (!search.placeholder) {\n\n        if (tabs.length === 1 && currentQuery.models === \"media\" && currentQuery.mediaType) {\n            search.placeholder = t(\"Search media/\" + currentQuery.mediaType)\n        } else if (tabs.length === 1 && currentQuery.models === \"ekultur\" ) {\n            search.placeholder = t(\"Search ekultur\")\n        } else if (query.models === \"media\") {\n            search.placeholder = t(\"Search media\")\n        } else if (query.models === \"documents\") {\n            search.placeholder = t(\"Search documents\")\n        } else {\n            search.placeholder = t(\"Search models\")\n        }\n\n    }\n\n    return (\n        <DialogBase>\n            <DialogSection>\n                <DialogSearch \n                    {...search} \n                    expanded={true}\n                    onChange={handleQuery}\n                    onClose={onClose}\n                    onReset={handleReset} />\n                <DialogHeader \n                    tabs={tabs}\n                    tabIndex={tabIndex}\n                    settings={currentTab && currentTab.settings} />\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={currentQuery}\n                    layout={currentTab && currentTab.layout}\n                    search={currentSearch}\n                    results={{\n                        ...currentSearch,\n                        pages: pages,\n                        page: currentPage,\n                        nextPage: nextPage\n                    }}\n                    onPage={handlePage}                    \n                    />\n            </DialogSection>\n        </DialogBase>        \n    )\n\n}\n\n\nexport default SearchDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport SearchDialog from \"./SearchDialog\"\n\nconst FavouritesDialog = ({query, favourites, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const search = {\n        placeholder: t('Search favorites')\n    }\n\n    const getFavouritesQuery = (uniqueIds = []) => {\n\n        if (uniqueIds.length) {\n            return {\n                ...query,\n                q: \"uniqueId:\" + uniqueIds.join(\" OR \")\n            }\n        } else {\n            return {\n                ...query,\n                q: \"uniqueId:false\"\n            }\n\n        }\n\n        return query\n\n    }\n\n    if (query.models && favourites[query.models]) {\n        query = getFavouritesQuery(favourites[query.models])\n    }\n\n    return (\n        <DialogBase>\n            <SearchDialog query={query} search={search} {...props} />\n        </DialogBase>\n    )\n\n}\n\nFavouritesDialog.defaultProps = {\n    favourites: {\n        media: [],\n        documents: []\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(FavouritesDialog);","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst DialogUpload = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nDialogUpload.propTypes = {\n    onUpload: PropTypes.func\n}\n\nDialogUpload.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default DialogUpload","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getUpload } from '../redux/uploadByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\nimport DialogUpload from \"./DialogUpload\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\n\nconst UploadDialog = ({schema, formData, onChange, onClose, query, upload, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const uploadByUrl = {}\n\n    const [q, setQ] = useState(\"\")\n\n    const handleQuery = (q) => {\n        setQ(q)\n    }\n\n    const handleReset = () => {\n        if (q) {\n            setQ(\"\")\n        } else if (onClose) {\n            onClose()\n        }\n    }\n\n    const search = {\n        placeholder: t(\"Search uploads\"),\n    }\n\n    // handle upload\n\n    const [uploadSession, setUploadSession] = useState(false)\n\n    const handleUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: query.collectionId,\n            status: \"upload\"\n        }\n\n        dispatch(getUpload({\n            id: upload.id,\n            session: uploadSession,\n            acceptedFiles,\n            uploadData\n        }))\n\n\n//        props.getUpload({id: upload.id, session: uploadSession, acceptedFiles, uploadData})\n\n        setUploadSession(true)\n\n    }\n    \n    // current uploads \n\n    const currentUpload = upload.id && uploadByUrl && uploadByUrl[upload.id];\n    const uploadModels = currentUpload && currentUpload.models \n\n    const uploadResults = uploadModels && q && uploadModels.filter((model) => { \n        const { title } = model\n\n        if (title.includes(q)) {\n            return true\n        }\n\n        return false\n    }) ||uploadModels\n\n\n    let placeholder = t(\"Search uploads\")\n\n    const tabs = uploadResults && [\n        {\n            title: t(\"media\"),\n            count: uploadResults.length             \n        }\n    ]\n\n    return (\n        <DialogBase>\n           <DialogSection>\n                <DialogSearch {...search} \n                    placeholder={placeholder}\n                    expanded={uploadResults && true}\n                    onChange={handleQuery}\n                    onReset={handleReset}\n                    \n                />\n                <DialogHeader tabs={tabs}></DialogHeader>\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={query}\n                    layout=\"uploads\"\n                    results={{\n                        ...currentUpload,\n                        uploads: uploadResults ||[],\n//                        resultsLoaded: currentUpload && currentUpload.models,\n//                        pages: pages,\n//                        page: currentPage,\n//                        nextPage: nextPage\n                    }}\n                />\n                <DialogUpload \n                    {...upload} \n                    currentUpload={currentUpload} expanded={!currentUpload} onUpload={handleUpload} onCancel={handleReset}></DialogUpload>\n            </DialogSection>\n       </DialogBase>        \n    )\n\n}\n\nUploadDialog.defaultProps = {\n    upload: {\n        id: \"/dialog/upload\",\n        accept: [\n            \"image/*\",\n        ],\n    },\n    query: {\n//        mediaType: \"*\"\n    }\n}\n\nexport default UploadDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogFooter from \"./DialogFooter\"\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport FavouriteIcon from '@material-ui/icons/Favorite';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport UploadDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Badge from '@material-ui/core/Badge';\n\n\nimport SearchDialog from \"./SearchDialog\"\nimport FavoritesDialog from './FavouritesDialog';\nimport UploadDialog from \"./UploadDialog\"\n\nconst MediaDialog = ({query, favourites, uploadByUrl, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const [template, setTemplate] = useState(\"search\")\n\n    // get mediaTypes\n\n    let mediaTypes = []\n\n    if (Array.isArray(query.mediaType)) {\n        mediaTypes = query.mediaType\n    } else if (query.mediaType) {\n        mediaTypes = [query.mediaType]\n    } else if (query.models === \"media\") {\n        mediaTypes = ['image*','video*','audio*']\n    }\n\n    // get upload\n\n    let upload = {\n        id: \"/dialog/upload\",\n        accept: []\n    }\n\n    mediaTypes && mediaTypes.map(mediaType => {\n\n        if (mediaType.includes('image')) {\n            upload.accept.push('image/*')\n        }\n    \n        if (mediaType.includes(\"video\")) {\n            upload.accept.push('video/*')\n        }\n    \n        if (mediaType.includes(\"audio\")) {\n            upload.accept.push('audio/*')\n        }\n    \n    })    \n\n    const mediaFavourites = favourites && favourites[\"media\"] && favourites[\"media\"].length\n    const mediaUploads = uploadByUrl && uploadByUrl[upload.id] && uploadByUrl[upload.id].models\n\n    const FavouriteBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaFavourites && true} color=\"primary\">\n                <FavouriteIcon />\n            </Badge>\n        )\n    }\n\n    const UploadBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaUploads && true} color=\"primary\">\n                { mediaUploads && <UploadDoneIcon /> || <UploadIcon /> }\n            </Badge>\n        )\n    }\n\n    const menu = [\n        {\n            label: t(\"Search\"),\n            icon: <SearchIcon />,\n            onClick: () => setTemplate('search')\n        },\n        {\n            label: t(\"Favorites\"),\n            icon: <FavouriteBadge />,\n            onClick: () => setTemplate('favourites')\n        },\n        {\n            label: t(\"Upload\"),\n            icon: <UploadBadge />,\n            onClick: () => setTemplate('upload')\n        }\n    ]\n\n    return (\n        <DialogBase>\n            <DialogFooter menu={menu} />\n            { template === \"search\" && <SearchDialog query={query} {...props} /> }\n            { template === \"favourites\" && <FavoritesDialog query={query} favourites={favourites} {...props} /> }\n            { template === \"upload\" && <UploadDialog upload={upload} query={query} {...props} /> }\n        </DialogBase>\n    )\n\n}\n\nMediaDialog.defaultProps = {\n    query: {\n        models: \"media\",\n        mediaType: \"*\"\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(MediaDialog);","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SearchDialog from \"./SearchDialog\"\n\nconst DocumentsDialog = ({schema, formData, ...props}) => {\n\n    return (\n        <SearchDialog schema={schema} formData={formData} {...props} />\n    )\n\n}\n\nDocumentsDialog.defaultProps = {\n    query: {\n        models: \"documents\",\n        documentType: \"*\"\n    }\n}\n\nexport default DocumentsDialog","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from '../redux/app';\n\nimport MediaDialog from \"./MediaDialog\"\nimport DocumentsDialog from \"./DocumentsDialog\"\nimport SearchDialog from \"./SearchDialog\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst templates = {\n    \"media\": MediaDialog,\n    \"documents\": DocumentsDialog,\n    \"search\": SearchDialog\n}\n\nconst EditorDialog = (props) => {\n    const dispatch = useDispatch()\n\n    console.log(\"DIALOG\", props)\n\n    const { schema = {}, uiSchema = {}, onChange, onClose } = props;\n\n    const [formData, setFormData] = useState(props.formData)\n\n    useEffect(() => {\n        setFormData(props.formData)\n    }, [props.formData])\n\n    const _onChange = (formData) => {\n        setFormData(formData)\n        onChange(formData);\n    }\n\n    const _onClose = () => {\n        console.log('Dialog:onClose')\n        onClose && onClose()\n    }\n\n    const app = useSelector(state => state.app)\n\n    let itemSchema;\n\n    if (schema && schema.type === \"array\") {\n        itemSchema = schema.items\n    } else if (schema) {\n        itemSchema = schema\n    }\n\n    const getReferenceQuery = (query) => {\n        const documentSchema = itemSchema && itemSchema.properties && itemSchema.properties.reference\n        const documentType = documentSchema && documentSchema.properties.documentType\n    \n        query.documentType = \"*\"\n    \n        if (documentType && documentType.enum) {\n            query.documentType = documentType.enum\n        }\n    \n        if (documentType && documentType.default) {\n            query.documentType = documentType.default\n        }\n\n        return {\n            ...query,\n            models: \"documents\"\n        } \n        \n    }\n\n    const getMediaQuery = (query) => {\n        const mediaSchema = itemSchema && itemSchema.properties && itemSchema.properties.media\n        const mediaType = mediaSchema && mediaSchema.properties.mediaType\n    \n//        query.mediaType = \"*\"\n\n        if (mediaType && mediaType.enum) {\n            query.mediaType = mediaType.enum\n        }\n    \n        if (mediaType && mediaType.default) {\n            query.mediaType = mediaType.default\n        }\n\n        return {\n            ...query,\n            models: \"media\"\n        }\n        \n    }\n\n    const getQuery = () => {\n\n        const uiOptions = uiSchema && getUiOptions(uiSchema)\n\n        const { dialog } = uiOptions\n\n        if (dialog && dialog.query) {\n            return {\n                ...dialog.query,\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            }\n        }\n\n\n        if (itemSchema.properties && itemSchema.properties.referenceId) {\n            return getReferenceQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        if (itemSchema.properties && itemSchema.properties.mediaId) {\n            return getMediaQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        return {\n        }\n\n    }\n\n    const query = getQuery()\n    const template = query.models;\n\n    const DialogTemplate = template && templates[template]; // ||templates[\"search\"]\n\n    if (!DialogTemplate) {\n        return (\n            <div>\n                Missing template for {JSON.stringify(props)}.\n                <button onClick={onClose}>Close</button>\n            </div>\n        )\n    }\n\n    return (\n        <DialogTemplate query={query} schema={schema} formData={formData} onChange={_onChange} onClose={_onClose} /> \n    )\n\n}\n\nexport default EditorDialog","import React from \"react\"\n\nimport Dialog from \"../Dialog/Dialog\"\n\n\nconst EditorDialog = (props) => {\n\n    const { expanded, schema = {}, uiSchema = {}, formData = {}, formContext, onChange, onClose } = props\n\n    if (!expanded) {\n        return false\n    }\n\n    return <Dialog {...props} />\n\n    const _addImage = () => {\n        onChange && onChange({\n            mediaId: 1,\n            media: {\n                mediaType: \"image\",\n                imageUrl: \"https://akamai.vgc.no/drfront/images/2020/09/22/c=144,24,404,232;w=362;h=208;557008.jpg\"\n            }\n        })\n    }\n\n    return (\n        <div>\n            {JSON.stringify(schema)}\n            {JSON.stringify(formData)}\n\n            <button onClick={() => _addImage()}>Add img</button>\n\n            <button onClick={() => onClose()}>Close</button>\n\n        </div>\n    )\n\n\n}\n\nexport default EditorDialog","import React from \"react\"\n\nimport Dialog from \"../Dialog/Dialog\"\n\n\nconst EditorOverlay = (props) => {\n\n    const { expanded, schema = {}, uiSchema = {}, formData = {}, formContext, onChange, template, onClose, children } = props\n\n    if (!expanded) {\n        return false\n    }\n\n    return (\n        <div>\n            {JSON.stringify(schema)}\n            {JSON.stringify(formData)}\n\n            {children}\n           \n\n            <button onClick={() => onClose()}>Close</button>\n\n        </div>\n    )\n\n\n}\n\nexport default EditorOverlay","import React, { useRef, useState, useEffect } from \"react\"\nimport { SchemaBase } from \"@kit-ui/schema\"\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getLayout } from '../redux/app';\nimport { receiveChange, receiveCurrentId, receiveCurrentLocale, requestDialog, receiveDialog } from '../redux/editor';\n\nimport registry from \"../components/registry\"\n\nimport EditorDialog from \"./EditorDialog\"\nimport EditorOverlay from \"./EditorOverlay\"\n\nimport EditorPreview from \"./EditorPreview\"\n\nconst Editor = ({schema, uiSchema, onSubmit, ...props}) => {\n    const { t, i18n } = useTranslation('schema');\n\n    let history = useHistory();\n\n    const editorRef = useRef(null)\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getLayout(\"editor\"))\n    }, [])\n\n    const app = useSelector(state => state.app)\n    const languages = app && app.languages\n\n    const finder = useSelector(state => state.finder)\n    const parents = finder && app.finder\n\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    const currentId = editor.formContext.currentId\n    const currentLocale = editor.formContext.currentLocale ||formData.locale\n\n    // overlay\n\n    const [overlay, setOverlay] = useState({})\n\n    const _onOverlay = (props) => {\n        const {id, formData, schema, uiSchema, onChange, template} = props\n        console.log(\"Editor:onOverlay\", props)\n\n        if (overlay && overlay.id) {\n            setOverlay({})\n        } else {\n            setOverlay({\n                ...props,\n                id: id,\n                formData: formData,\n                schema: schema,\n                uiSchema: uiSchema,\n                onChange: onChange,\n                template: template ||EditorOverlay,\n                expanded: true,\n            })\n        }\n\n    }\n\n    // dialog\n\n    const [dialog, setDialog] = useState({})\n\n    const _onDialog = (props) => {\n        const {id, formData, schema, uiSchema, onChange} = props\n        console.log(\"Editor:onDialog\", props)\n\n        if (dialog && dialog.id) {\n            setDialog({})\n        } else {\n            setDialog({\n                id: id,\n                formData: formData,\n                schema: schema,\n                uiSchema: uiSchema,\n                onChange: onChange,\n                expanded: true\n            })\n        }\n\n    }\n    \n    // change\n\n    const _onChange = ({formData}) => {\n        dispatch(receiveChange({formData}))\n    }\n\n    // submit\n\n    const _onSubmit = ({formData}) => {\n        onSubmit && onSubmit({formData})\n\n        if (dialog && dialog.id) {\n            _onDialog({})\n        }\n\n    }\n\n    // locale\n\n    const _onLocale = (locale) => {\n        dispatch(receiveCurrentLocale({currentLocale: locale}))\n    }\n\n    // hashId toggling\n\n    const hashId = props.location.hash && props.location.hash.replace('#','') ||null\n\n    useEffect(() => {\n        dispatch(receiveCurrentId({currentId: hashId}))\n    }, [hashId])\n\n    const _onCurrentId = (currentId) => {\n        const hashUrl = props.location.pathname + \"#\" + currentId; \n        history.replace(hashUrl);\n    }\n\n    const _onToggle = ({id, ...props}) => {\n        console.log('onToggle', props)\n\n        let parentId = id.split('_');\n        parentId.pop();\n        parentId = parentId.join('_');\n        \n        let expandId = undefined\n\n        if (id && currentId && currentId.startsWith(id)) {\n            expandId = parentId;            \n        } else {\n            expandId = id;\n        }\n\n        _onCurrentId(expandId)\n\n    }\n    \n    const _onExpand = ({id}) => {\n        console.log('onExpand', props)\n        _onCurrentId(id)\n    }\n\n    const _onCollapse = ({id}) => {\n        console.log('onCollapse', props)\n        _onToggle({id})\n    }\n\n    // navigation\n\n    const _onBack = () => {\n        props.history.goBack()\n    }\n\n    const _onSelect = ({url}) => {\n        props.history.push(url)\n    }\n\n    // reference\n\n    const _onEditReference = ({id, referenceId, reference}) => {\n\n        const referenceUrl = app.root + \"/documents/\" + referenceId + \"/edit\"\n\n        props.history.push({\n            pathname: referenceUrl,\n            hash: id,\n//            search: \"?backUrl=\" + props.location.pathname + \"&backId=\" + currentId\n        })\n        \n    }\n\n    // formContext\n\n    const formContext = {\n        t: t,\n\n        ...editor.formContext,\n        ...props.formContext,\n\n        onLocale: _onLocale,\n        onToggle: _onToggle,\n\n        onExpand: _onExpand,\n        onCollapse: _onCollapse,\n\n        onEdit: _onExpand,\n        onSave: _onCollapse,\n\n        onBack: _onBack,\n        onSelect: _onSelect,\n\n        onEditReference: _onEditReference,\n\n        onSubmit: (event) => _onSubmit(event), // (e) => editorRef && editorRef.current && editorRef.current.onSubmit(e),\n\n        onDialog: _onDialog,\n\n        sidebar: {\n            ...dialog,\n            onClose: () => _onDialog({}),\n            template: EditorDialog\n        },\n\n        onOverlay: _onOverlay,\n\n        overlay: {\n            ...overlay,\n            onClose: () => _onOverlay({}),\n        },\n\n    }    \n\n    return (\n        <SchemaBase\n            {...registry}\n            ref={editorRef}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={_onChange}\n            onSubmit={_onSubmit}\n            />\n    )\n\n\n}\n\nEditor.defaultProps = {\n    schema: {},\n    formData: {},\n    formContext: {}\n}\n\nexport default Editor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getEditor } from '../redux/editor';\n\nimport { Loader } from \"@kit-ui/admin\"\nimport { EditorIcon } from \"@kit-ui/icons\"\nimport icons from \"../icons\"\n\nconst EditorLoader = ({formData = {}, schema, uiSchema, children, ...props}) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const languages = app && app.languages\n\n    const finder = useSelector(state => state.finder)\n    const parents = finder && finder.parents\n\n    const editor = useSelector(state => state.editor)\n    \n    const uniqueId = editor.formData && editor.formData.uniqueId\n\n    const appIcon = icons[app.icon]\n\n    const title = formData.title ||app && app.title || \"Editor\"\n    const description = editor.isLoading && \"Loading editor ...\" ||!schema && \"Loading schema ...\" ||!uiSchema && \"Loading uiSchema ...\" ||\"Editor loaded\"\n    const isLoading = editor.isLoading || false\n    const icon = <EditorIcon color={app.theme.palette.primary.main} />\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getEditor({\n            pathname, \n            uniqueId, \n            schema, \n            uiSchema,\n            languages,\n            parents\n        }))\n    }, [pathname, parents, uniqueId, schema, uiSchema])\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={icon}\n            title={title}\n            description={description}>\n                {children}\n        </Loader>\n    )\n\n}\n\nEditorLoader.defaultProps = {\n}\n\nexport default EditorLoader","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n    PreviewBase, \n    PreviewOptions, \n    PreviewJSON, \n    PreviewMedia\n} from \"@kit-ui/admin\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nconst MediaPreview = (props) => {\n    const editor = useSelector(state => state.editor)\n\n    const { formData } = editor\n    const { mediaType } = formData\n\n    const modelType = mediaType && \"media/\"+mediaType \n    const model = schemasByName && schemasByName[modelType]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    let previewOptions = [\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{formData}</PreviewJSON> \n        },\n        {\n            \"title\": \"uiSchema\",\n            \"value\": \"uiSchema\",\n            \"template\": () => <PreviewJSON>{uiSchema}</PreviewJSON> \n        },\n        {\n            \"title\": \"schema\",\n            \"value\": \"schema\",\n            \"template\": () => <PreviewJSON>{schema}</PreviewJSON> \n        },\n    ]    \n\n    if (mediaType) {\n\n        previewOptions = [\n            {\n//                ...model.preview,\n                template: () => <PreviewMedia {...formData}></PreviewMedia>,\n                title: \"Preview\",\n                value: \"preview\"\n            },\n            ...previewOptions\n        ]\n            \n    }\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n    \n    return (\n\n        <PreviewBase>\n            { PreviewTemplate && <PreviewTemplate formData={formData} /> }\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n\n    )\n\n}\n\nMediaPreview.defaultProps = {\n}\n\nexport default MediaPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { editModel, saveModel } from '../redux/editor';\n\nimport Editor from \"../Editor/Editor\"\nimport EditorLoader from \"../Editor/EditorLoader\"\n\nimport MediaPreview from \"./MediaPreview\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst MediaEditor = (props) => {\n    const { uniqueId } = props.match.params\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        uniqueId && dispatch(editModel({modelName: \"media\", uniqueId: uniqueId}))\n    }, [uniqueId])\n\n\n    // set formContext\n\n    const _onBack = () => {\n        props.history.goBack()\n    }\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    const formContext = {\n        isLoading: editor && editor.isLoading,\n        isSaving: editor && editor.isSaving,\n        onBack: _onBack,\n        onSelect: _onSelect,\n        preview: {\n            template: MediaPreview\n        }\n    }\n\n    // get schemas based on documentType\n\n    const mediaType = uniqueId && formData && formData.mediaType\n    const mediaModel = mediaType && \"media/\" + mediaType\n    const model = schemasByName && schemasByName[mediaModel]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    // submit\n\n    const collectionId = useSelector(state => state.app.collectionId)\n\n    const _onSubmit = ({formData}) => {\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n        \n        formData = {\n            ...formData,\n            ...uiPreview,\n            modelName: \"media\",\n            collectionId: collectionId,\n            schemaId: 1,\n            locale: \"no\",\n        }\n\n        dispatch(saveModel(formData))\n    }\n\n\n    return (\n        <EditorLoader formData={formData} schema={schema} uiSchema={uiSchema} {...props}>\n            <Editor {...props}\n                schema={schema}\n                uiSchema={uiSchema}\n                formData={formData}\n                formContext={formContext}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nMediaEditor.defaultProps = {\n}\n\nexport default MediaEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n    PreviewBase, \n    PreviewOptions, \n    PreviewJSON\n} from \"@kit-ui/admin\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nconst DocumentPreview = (props) => {\n    const editor = useSelector(state => state.editor)\n\n    const { formData } = editor\n    const { documentType } = formData\n\n    const modelType = documentType && \"documents/\"+documentType \n    const model = schemasByName && schemasByName[modelType]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    let previewOptions = [\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{formData}</PreviewJSON> \n        },\n        {\n            \"title\": \"uiSchema\",\n            \"value\": \"uiSchema\",\n            \"template\": () => <PreviewJSON>{uiSchema}</PreviewJSON> \n        },\n        {\n            \"title\": \"schema\",\n            \"value\": \"schema\",\n            \"template\": () => <PreviewJSON>{schema}</PreviewJSON> \n        },\n    ]    \n\n    if (model.preview && model.preview.template) {\n\n        previewOptions = [\n            {\n                ...model.preview,\n                title: \"Preview\",\n                value: \"preview\"\n            },\n            ...previewOptions\n        ]\n            \n    }\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n    \n    return (\n\n        <PreviewBase>\n            <PreviewTemplate formData={formData} />\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n\n    )\n\n}\n\nDocumentPreview.defaultProps = {\n}\n\nexport default DocumentPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { editModel, saveModel } from '../redux/editor';\nimport qs from 'query-string';\n\nimport Editor from \"../Editor/Editor\"\nimport EditorLoader from \"../Editor/EditorLoader\"\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst DocumentEditor = (props) => {\n    const { uniqueId, documentType } = props.match.params\n    const pathname = props.location.pathname\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    // create new document\n\n    useEffect(() => {\n        sq.documentType && dispatch(editModel({\n            collectionId: app.collectionId,\n            schemaId: 1,\n            locale: \"no\",\n            parentId: sq.parentId ||null,\n            documentType: sq.documentType,\n            content: sq.content && JSON.parse(sq.content) || {}\n        }))\n    }, [sq.documentType])\n\n    // load uniqueId\n\n    useEffect(() => {\n        uniqueId && dispatch(editModel({uniqueId: uniqueId}))\n    }, [uniqueId])\n\n    // uniqueId has changed, update location\n\n    const _onHistory = (uniqueId) => {\n\n        const { path, params } = props.match;\n        const { hash, search } = props.location;\n        \n        let location = path;\n    \n        if (hash) {\n            location = location + hash;\n        }\n    \n        for (let key in params) {\n      \n            let value;\n          \n            if (key === \"uniqueId\") {\n                value = uniqueId\n            } else if (key === \"new\") {\n//                value = uniqueId + \"/edit\"\n            } else {\n                value = params[key];\n            }\n\n            if (value) {\n                location = location.replace(':'+key+\"*\", value);\n                location = location.replace(':'+key, value);\n            } else {\n                location = location.replace(':'+key+\"*\", '');\n                location = location.replace(':'+key, '');\n            }\n\n            location = location.replace(\"//\", \"/\");\n\n        }\n\n        location = location.replace(\"new\", uniqueId + \"/edit\");\n        props.history.replace(location);\n\n    }\n\n    // set formContext\n\n    const formContext = {\n        preview: {\n            template: DocumentPreview\n        }\n    }\n\n    // get schemas based on documentType\n\n    const modelType = formData.documentType // ||documentType\n    const documentModel = modelType && \"documents/\"+modelType \n    const model = schemasByName && schemasByName[documentModel]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    // submit\n\n    const collectionId = useSelector(state => state.app.collectionId)\n\n    const _onSubmit = ({formData}) => {\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n        \n        formData = {\n            ...formData,\n            ...uiPreview,\n            locale: formData.locale ||\"no\",\n            collectionId: formData.collectionId ||collectionId,\n            schemaId: 1,\n        }\n\n        dispatch(saveModel(formData))\n\n        if (!uniqueId && formData.uniqueId) {\n            _onHistory(formData.uniqueId)\n        }\n\n    }\n\n\n    return (\n        <EditorLoader formData={formData} schema={schema} uiSchema={uiSchema} {...props}>\n            <Editor {...props}\n                schema={schema}\n                uiSchema={uiSchema}\n                formData={formData}\n                formContext={formContext}\n                preview={model && model.preview}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nDocumentEditor.defaultProps = {\n}\n\nexport default DocumentEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n    PreviewBase, \n    PreviewOptions, \n    PreviewJSON\n} from \"@kit-ui/admin\"\n\nimport schemasByName from \"../schemas/schemasByName\"\n\nconst CollectionPreview = (props) => {\n    const editor = useSelector(state => state.editor)\n\n    const { formData, formContext } = editor\n    const { collectionType } = formData\n\n    const modelType = collectionType && \"collections/\"+collectionType \n    const model = schemasByName && schemasByName[modelType]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    let previewOptions = [\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{formData}</PreviewJSON> \n        },\n        {\n            \"title\": \"formContext\",\n            \"value\": \"formContext\",\n            \"template\": () => <PreviewJSON>{formContext}</PreviewJSON> \n        },\n        {\n            \"title\": \"uiSchema\",\n            \"value\": \"uiSchema\",\n            \"template\": () => <PreviewJSON>{uiSchema}</PreviewJSON> \n        },\n        {\n            \"title\": \"schema\",\n            \"value\": \"schema\",\n            \"template\": () => <PreviewJSON>{schema}</PreviewJSON> \n        },\n    ]    \n\n    if (model.preview && model.preview.template) {\n\n        previewOptions = [\n            {\n                ...model.preview,\n                title: \"Preview\",\n                value: \"preview\"\n            },\n            ...previewOptions\n        ]\n            \n    }\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n    \n    return (\n\n        <PreviewBase>\n            <PreviewTemplate formData={formData} formContext={formContext} />\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n\n    )\n\n}\n\nCollectionPreview.defaultProps = {\n}\n\nexport default CollectionPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { editModel, saveModel } from '../redux/editor';\nimport qs from 'query-string';\n\nimport Editor from \"../Editor/Editor\"\nimport EditorLoader from \"../Editor/EditorLoader\"\n\nimport CollectionPreview from \"./CollectionPreview\"\nimport schemasByName from \"../schemas/schemasByName\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst CollectionEditor = (props) => {\n    const { uniqueId } = props.match.params\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const formData = editor.formData\n\n    // create new\n\n    useEffect(() => {\n        sq.collectionType && dispatch(editModel({\n            modelName: \"collections\",\n            collectionType: sq.collectionType,\n            defaultLocale: \"no\",\n            content: sq.content && JSON.parse(sq.content) || {}\n        }))\n    }, [sq.collectionType])\n\n    // load uniqueId\n\n    useEffect(() => {\n        uniqueId && dispatch(editModel({modelName: \"collections\", uniqueId: uniqueId}))\n    }, [uniqueId])\n\n    // uniqueId has changed, update location\n\n    const _onHistory = (uniqueId) => {\n\n        const { path, params } = props.match;\n        const { hash, search } = props.location;\n        \n        let location = path;\n    \n        if (hash) {\n            location = location + hash;\n        }\n    \n        for (let key in params) {\n      \n            let value;\n          \n            if (key === \"uniqueId\") {\n                value = uniqueId\n            } else if (key === \"new\") {\n//                value = uniqueId + \"/edit\"\n            } else {\n                value = params[key];\n            }\n\n            if (value) {\n                location = location.replace(':'+key+\"*\", value);\n                location = location.replace(':'+key, value);\n            } else {\n                location = location.replace(':'+key+\"*\", '');\n                location = location.replace(':'+key, '');\n            }\n\n            location = location.replace(\"//\", \"/\");\n\n        }\n\n        location = location.replace(\"new\", uniqueId + \"/edit\");\n        props.history.replace(location);\n\n    }\n\n    // set formContext\n\n    const formContext = {\n        preview: {\n            template: CollectionPreview\n        }\n    }\n\n    // get schemas based on collectionType\n\n    const modelType = formData.collectionType\n    const modelId = modelType && \"collections/\"+modelType \n    const model = schemasByName && schemasByName[modelId]\n\n    const schema = model && model.schema\n    const uiSchema = model && model.uiSchema\n\n    // submit\n\n    const _onSubmit = ({formData}) => {\n\n        const status = formData && formData.status\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n        \n        formData = {\n            ...formData,\n            ...uiPreview,\n        }\n\n        if (status === \"copy\") {\n            formData.name = formData.name + \" (copy)\"\n            formData.status = \"draft\"\n            delete formData.id\n            delete formData.uniqueId\n        }\n\n\n        dispatch(saveModel(formData))\n    }\n\n    useEffect(() => {\n        editor.isSaving && formData.uniqueId && _onHistory(formData.uniqueId)\n    }, [editor.isSaving])\n\n\n    return (\n        <EditorLoader formData={formData} schema={schema} uiSchema={uiSchema} {...props}>\n            <Editor {...props}\n                schema={schema}\n                uiSchema={uiSchema}\n                formData={formData}\n                formContext={formContext}\n                preview={model && model.preview}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nCollectionEditor.defaultProps = {\n}\n\nexport default CollectionEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport qs from 'query-string';\n\nimport MediaEditor from \"../Finder/MediaEditor\"\nimport DocumentEditor from \"../Finder/DocumentEditor\"\nimport CollectionEditor from \"../Finder/CollectionEditor\"\n\nconst FinderEditor = (props) => {\n    const { uniqueId } = props.match.params\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const modelsById = useSelector(state => state.modelsById)\n    const uniqueModel = uniqueId && modelsById && modelsById[uniqueId]\n\n    if (uniqueModel && uniqueModel.documentType ||sq.documentType) {\n\n        return (\n            <DocumentEditor {...props} />\n        )\n\n    }\n\n    if (uniqueModel && uniqueModel.mediaType) {\n\n        return (\n            <MediaEditor {...props} />\n        )\n\n    }\n\n\n    if (uniqueModel && uniqueModel.collectionType ||sq.collectionType) {\n\n        return (\n            <CollectionEditor {...props} />\n        )\n\n    }\n\n    return (\n        <DocumentEditor {...props} />\n    )\n\n    return (\n        <p>Unknown editor for { uniqueId } </p>\n    )    \n\n}\n\nFinderEditor.defaultProps = {\n}\n\nexport default FinderEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout } from '../redux/app';\nimport { getModel } from '../redux/modelsById';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport FinderLayout from \"./FinderLayout\"\nimport FinderQuery from \"./FinderQuery\"\nimport View from \"./View\"\n\nimport FinderModel from \"./FinderModel\"\nimport { IconsView, IconsModule } from \"@kit-ui/admin\"\n\n\nconst Finder = (props) => {\n    const pathname = props.location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const modelsById = useSelector(state => state.modelsById)\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    const { uniqueId } = props.match.params\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery({\n            url: pathname,\n            models: \"documents\",\n            collectionId: app && app.collectionId,\n            uniqueId: uniqueId,\n            fl: \"id,title,uniqueId,parentId\"\n        }))\n\n    }, [uniqueId])\n\n    const uniqueModel = modelsById && modelsById[uniqueId] ||{}\n    const id = uniqueModel && uniqueModel.id\n\n    const parentId = uniqueModel && uniqueModel.parentId\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getLayout(\"finder\"))\n    }, [])\n\n    const parentQuery = {\n        models: \"documents\",\n        uniqueId: parentId,\n    };\n\n    const q1 = {\n        url: pathname + \"/parents\",\n        models: \"documents\",\n        collectionId: app && app.collectionId,\n        q: \"id:\"+parentId,\n        fl: \"id,title,uniqueId,parentId\"\n    };\n\n    const q2 = {\n        url: pathname + \"/children\",\n        models: \"documents\",\n        collectionId: app && app.collectionId,\n        parentId: id,\n        fl: \"id,title,uniqueId,parentId\"\n    };\n\n    useEffect(() => {\n        parentId && dispatch(getQuery(q1))\n        id && dispatch(getQuery(q2))\n    }, [parentId])\n\n\n    const parents = searchByUrl && searchByUrl[q1.url] ||{}\n    const parentUniqueId = parents && parents.resultsLoaded && parents.resultsLoaded[0]\n    const parentModel = parentUniqueId && modelsById && modelsById[parentUniqueId]\n\n    const children = searchByUrl && searchByUrl[q2.url] ||{}\n    \n    return (\n        <FinderLayout parents={[...finder.parents, uniqueModel]}>\n\n\n            {parentModel && \n            \n                <IconsView>\n                    <FinderModel {...props} model={parentModel}>\n                        <IconsModule />\n                    </FinderModel>\n                </IconsView>\n            \n            }\n            \n\n\n            <IconsView>\n                <FinderModel {...props} model={uniqueModel}>\n                    <IconsModule />\n                </FinderModel>\n            </IconsView>\n\n            <View {...props} {...children} view=\"list\" title=\"Barn\" />\n        </FinderLayout>\n    )\n\n    return (\n        <FinderQuery {...props} />\n    )\n\n}\n\nFinder.defaultProps = {\n}\n\nexport default Finder","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Finder from \"../Finder/Finder\"\n\nimport FinderEditor from \"../Finder/FinderEditor\"\n\nimport MediaEditor from \"../Finder/MediaEditor\"\nimport DocumentEditor from \"../Finder/DocumentEditor\"\nimport DocumentPreview from \"../Finder/DocumentPreview\"\nimport DocumentLinks from \"../Finder/DocumentLinks\"\n\nimport CollectionEditor from \"../Finder/CollectionEditor\"\n\n\nconst AdminRoutes = (props) => {\n\n\n    return (\n        <Switch>\n            <Route path=\"/:root*/collections/:parents*/:uniqueId/edit\" component={ CollectionEditor } />\n            <Route path=\"/:root*/media/:parents*/:uniqueId/edit\" component={ MediaEditor } />\n            <Route path=\"/:root*/documents/:parents*/:uniqueId/edit\" component={ DocumentEditor } />\n\n            <Route path=\"/:root*/:parents*/new\" component={ FinderEditor } />\n            <Route path=\"/:root*/:parents*/:uniqueId/edit\" component={ FinderEditor } />\n            <Route path=\"/:root*/:parents*/:uniqueId/view\" component={ DocumentPreview } />\n            <Route path=\"/:root*/:parents*/:uniqueId/link\" component={ DocumentLinks } />\n            <Route path=\"/:root*/:parents*\" component={ Finder } />\n            <Route path=\"/:root*\" component={ Finder } />\n        </Switch>\n      )\n\n}\n\nexport default AdminRoutes","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Loader } from \"@kit-ui/admin\"\nimport icons from \"../icons/\"\n\nconst AdminLoader = ({children, ...props}) => {\n    const app = useSelector(state => state.app)\n    const appIcon = app.icon && icons[app.icon]\n\n    return (\n        <Loader\n            isLoading={app.isLoading}\n            icon={appIcon}\n            title={app.title ||\"App\"}\n            description={app.uniqueId && \"App loaded ...\"}>\n                {children}\n        </Loader>\n    )\n\n}\n\nAdminLoader.defaultProps = {\n}\n\nexport default AdminLoader","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport { toggleSearch, collapseSearch } from '../redux/app';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport icons from \"../icons/\"\n\nimport _ from \"lodash\"\nimport qs from 'query-string';\n\nconst AdminSearch = ({children, ...props}) => {\n    const { t, i18n } = useTranslation(['search']);\n\n    const {pathname } = props.location\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const search = app.search\n    const expanded = search && search.expanded\n\n    const finder = useSelector(state => state.finder)\n    const parents = finder.parents\n    const parent = finder.parent\n\n\n    // search\n\n    const [inputValue, setInputValue] = useState(sq.q)\n    const [q, setQ] = useState(sq.q)\n\n    const _onQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    useEffect(() => {\n        if (q) {\n            sq.q = q.replace(' ', '+')\n        } else {\n            delete sq.q\n        }\n\n        let query = qs.stringify(sq)\n\n        const pathname = props.location.pathname + \"?\" + query;\n        const hash = props.location.hash;\n\n        const url = hash && pathname + hash ||pathname\n        \n        if (props.history) {\n            props.history.replace(url)\n        }\n        \n    }, [q])\n\n    const _onReset = () => {\n\n        console.log('onReset')\n\n        if (inputValue) {\n            setInputValue(\"\")\n            setQ(\"\")\n            delete sq.q\n        } else {\n            dispatch(toggleSearch())\n        }\n\n    }\n\n    const _onToggle = () => {\n        setInputValue(sq.q || \"\")\n        dispatch(toggleSearch())\n    }\n\n    const _onClickOutside = () => {\n        dispatch(toggleSearch())\n    }\n\n    // suggest\n\n    const searchRoot = app.root + \"/search\"\n\n    const rootQuery = {\n        url: searchRoot,\n        collectionId: app && app.collectionId,\n        siteId: app && app.siteId,\n        models: \"documents\",\n        page: 1,\n        rows: 100,\n    }\n\n    const documentsQuery = {\n        ...rootQuery,\n        url: searchRoot + \"/documents\",\n        models: \"documents\",\n        fl: \"uniqueId,title,documentType\",\n    }\n\n    const mediaQuery = {\n        ...rootQuery,\n        url: searchRoot + \"/media\",\n        models: \"media\",\n        fl: \"uniqueId,title,mediaType\",\n    }\n\n    useEffect(() => {\n        dispatch(getQuery(documentsQuery))\n        dispatch(getQuery(mediaQuery))\n    }, [])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    const documentsSearch = searchByUrl && searchByUrl[documentsQuery.url] ||{}\n    const documentsSuggest = documentsSearch && documentsSearch.resultsLoaded\n\n    const mediaSearch = searchByUrl && searchByUrl[mediaQuery.url] ||{}\n    const mediaSuggest = mediaSearch && mediaSearch.resultsLoaded\n\n    let suggest = []\n\n    if (documentsSuggest) {\n        suggest = [\n            ...documentsSuggest,\n        ]\n    }\n\n    if (mediaSuggest) {\n        suggest = [\n            ...suggest,\n            ...mediaSuggest,\n        ]\n    }\n    \n    // scopes\n\n\n    let scopes = [\n        {\n            icon: \"search\",\n            placeholder: t(\"Search everything\"),\n            title: t(\"Search for {{q}} in everything\", {q: \"[q]\"}),\n            url: searchRoot,\n            query: {\n                ...rootQuery,\n                url: searchRoot,\n            }\n        }\n    ]\n\n    if (parent && parent.url && parent.url !== searchRoot) {\n\n        const query = {\n            ...parent.query,\n            collectionId: app && app.collectionId,\n            siteId: app && app.siteId,\n            url: parent.url\n        }\n\n        scopes.push({\n            ...parent,\n            query: query,\n            icon: \"search\",\n            placeholder: t(\"Everything in {{scope}}\", {scope: parent.title}),\n            title: t(\"Search for {{q}} in {{scope}}\", {q: \"[q]\", scope: parent.title}),\n        })\n    }\n\n    // options\n\n\n    let options = scopes.map(scope => {\n\n        const count = searchByUrl && searchByUrl[scope.query.url] && searchByUrl[scope.query.url].results && searchByUrl[scope.query.url].results.count ||\"-\"\n\n        return {\n            ...scope,\n            count: count\n        }\n\n    })\n\n    if (suggest) {\n        options = [\n            ...options,\n            ...suggest\n        ]\n    }\n\n\n    const _onChange = (event, option = {}, reason) => {\n        console.log(\"onChange\", option)\n        console.log(\"onChange\", reason)\n\n        const { query, uniqueId, url } = option\n\n        const searchUrl = url && query && url + \"?q=\" + inputValue.replace(' ', '+')\n\n        if (searchUrl) {\n            props.history.replace(searchUrl)\n        } else if (uniqueId) {\n            props.history.replace(app.root + \"/\" + uniqueId + \"/edit\")\n        }\n\n        dispatch(collapseSearch())\n\n    }\n\n    const _onInputChange = (event, option, reason) => {\n        const value = event && event.target.value ||\"\"\n        value && setInputValue(event.target.value)\n//        value && _onQuery(value)\n    }\n\n    const autocompleteProps = {\n        open: expanded,\n        freeSolo: true,\n        disableClearable: true,\n        options: options,\n        autoHighlight: true,\n        disablePortal: true,\n        inputValue: inputValue,\n        groupBy: (options) => options.modelName,\n//        filterOptions: _filterOptions,\n        onChange: _onChange,\n        onInputChange: _onInputChange\n    }\n\n    // search\n\n    const searchProps = {\n        ...search,\n        autocompleteProps: autocompleteProps,\n        onReset: () => _onReset(),\n        onToggle: () => _onToggle()\n    }\n\n    // merge with children\n\n    const childrenWithProps = React.Children.map(children, (child, index) => {\n        // checking isValidElement is the safe way and avoids a typescript error too\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, { \n                search: searchProps,\n                ...props\n            });\n        }\n        return child;\n    });\n\n    return (\n        <>\n            {childrenWithProps}\n        </>\n    )\n\n    \n}\n\nexport default AdminSearch","export default {\n    MuiInputBase: {\n        root: {\n            fontFamily: \"Akkurat, sans-serif\",\n            lineHeight: \"1.25\"\n        }\n    },\n    MuiFilledInput: {\n        root: {\n            borderTopLeftRadius: \"0\",\n            borderTopRightRadius: \"0\"\n        }\n    },\n    MuiFormLabel: {\n        root: {\n        }\n    },\n    MuiFormHelperText: {\n        root: {\n        }\n    },\n    MuiButtonGroup: {\n        grouped: {\n        }\n    },\n    MuiButton: {\n        root: {\n            fontFamily: \"Akkurat, sans-serif\",\n            fontWeight: \"bold\",\n            textTransform: \"none\",\n            borderRadius: 1,\n        },\n        outlined: {\n        },\n    }\n}","import Color from 'color';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport overrides from \"./theme.overrides\"\n\nconst getColor = (color = \"#666\") => {\n    return Color(color).hex();\n}\n\nconst getPalette = ({primaryColor, secondaryColor}) => {\n\n    return {\n        primary: {\n            main: getColor(primaryColor),\n        },\n        secondary: {\n            main: getColor(secondaryColor ||primaryColor),\n        }\n    }\n\n}\n\n\nexport const createAppTheme = ({palette, ...theme}) => {\n\n    return createMuiTheme({\n        typography: {\n            fontFamily: \"Akkurat, sans-serif !important\"\n        },\n        palette: palette ||getPalette(theme),\n        overrides: overrides\n    })\n\n\n}\n\nexport default createAppTheme","import React, {useState, useEffect } from 'react';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {createAppTheme }from \"./utils/createAppTheme\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n    },\n}));\n\n/** AppBase sets a backgroundColor and supplies a theme to the application */\n\nconst AppBase = ({className, theme, children}) => {\n    const classes = useStyles()\n\n    return (\n        <ThemeProvider theme={createAppTheme(theme)}>\n            <main className={className ||classes.root}>\n                {children}\n            </main>\n        </ThemeProvider>\n    )\n}\n\nAppBase.defaultProps = {\n    /** MUI theme or primaryColor */\n    theme: {\n        primaryColor: \"blue\"\n    }\n}\n\nexport default AppBase","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        position: \"relative\",\n        transition: \".125s ease-out\",\n    },\n}));\n\nconst AppBody = ({className, expanded = false, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.body} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n}\n\nexport default AppBody;","import React from 'react';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    buttongroup: {\n        display: \"flex\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n\n    }\n}));\n\nconst NavActionButtongroup = ({className, color = \"primary\", variant = \"contained\", children}) => {\n    const classes = useStyles()\n\n    return (\n        <div color={color} variant={variant} className={className || classes.buttongroup}>\n            { children }\n        </div>\n    )\n}\n\nexport default NavActionButtongroup","import React, { useState, useRef, forwardRef } from 'react';\nimport DropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        borderRadius: 1,\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        marginLeft: theme.spacing(-.5)\n    },\n    toggle: {\n        borderRadius: 0,\n        width: theme.spacing(5),\n    },\n}));\n\nconst ActionButton = ({className, forwardedRef, icon, role, size = \"large\", variant = \"contained\", color = \"primary\", disabled, expanded, controls, children, onClick, onToggle, ...item}) => {\n    const { label, title } = item;\n\n    const classes = useStyles()\n\n    if (onClick && onToggle) {\n        return (\n            <ButtonGroup aria-label=\"action\" color={color} ref={forwardedRef}>\n                <Button size={size} variant={variant} className={className || classes.root} disabled={disabled} onClick={onClick}> \n                    {icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { label || title }\n                </Button>\n                <Button size={size} variant={variant} disabled={disabled} className={classes.toggle}\n                    size=\"small\"\n                    aria-controls={expanded ? controls : undefined}\n                    aria-expanded={expanded ? 'true' : undefined}\n                    aria-label=\"options\"    \n                    aria-haspopup=\"menu\"\n                    onClick={onToggle}>\n                    <DropDownIcon />\n                </Button>\n            </ButtonGroup>\n        )\n    }\n\n    if (onToggle) {\n        return (\n            <Button size={size} variant={variant} color={color} className={className || classes.root} disabled={disabled} onClick={onToggle} ref={forwardedRef}>\n                {icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { label || title }\n                <DropDownIcon />\n            </Button>\n        )\n    }\n    \n    return (\n        <Button size={size} variant={variant} color={color} className={className || classes.root} disabled={disabled} onClick={onClick}>\n            {icon && <Icon className={classes.icon}>{icon}</Icon> }\n            { label || title }\n        </Button>\n    )\n}\n\nexport default ActionButton;","import React from 'react';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dropdown: {\n        minWidth: props => { return props.minWidth },\n    },\n}));\n\nconst NavActionDropdown = ({className, minWidth = 192, open, anchorEl, placement = \"bottom-start\", onClickAway, children}) => {\n\n    const classes = useStyles({minWidth})\n\n    return (\n        <Popper open={open} style={{zIndex: 2000}}\n            role={undefined} transition anchorEl={anchorEl} placement={placement}>\n            <ClickAwayListener onClickAway={onClickAway}>\n                <Paper className={className ||classes.dropdown} elevation={16} square={true}>\n                    {children}\n                </Paper>\n            </ClickAwayListener>\n        </Popper>\n    )\n}\n\nexport default NavActionDropdown;","import React from 'react';\nimport MenuList from \"@material-ui/core/MenuList\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionList: {\n        width: \"100%\",\n        paddingTop: theme.spacing(1.5),\n        paddingBottom: theme.spacing(1.5),\n        \"& $root\": {\n            paddingTop: 0,\n            paddingBottom: 0\n        }\n    },\n}));\n\nconst ActionMenuList = ({className, children}) => {\n    const classes = useStyles()\n\n    return (\n        <MenuList className={className || classes.actionList}>\n            {children}\n        </MenuList>\n    )\n\n}\n\nexport default ActionMenuList","import React from 'react';\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionListItem: {\n        width: \"100%\",\n        padding: 0,\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n        }\n    }\n}));\n\nconst ActionMenuItem = ({className, role, children}) => {\n    const classes = useStyles()\n\n    return (\n        <ListItem className={className ||classes.actionListItem} role={role}>\n            {children}\n        </ListItem>\n    )\n\n}\n\nexport default ActionMenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase'\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Icon from '@material-ui/core/Icon';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionLink: {\n        width: \"100%\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        \"& .MuiTypography-root\": {\n            fontFamily: \"Akkurat, sans-serif\",\n        },\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n\n    },\n    icon: {\n        color: \"rgba(0,0,0,.54)\"\n    },\n    text: {\n        fontFamily: \"Akkurat, sans-serif !important\",\n        fontSize: \"inherit\",\n        \"& strong\": {\n            fontWeight: \"bold\"\n        }\n    }\n}));\n\nconst ActionMenuLink = ({className, icon, label, title, description, onClick}) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    if (!label) {\n        return null\n    }\n\n    return (\n        <MenuItem className={className ||classes.actionLink} onClick={onClick}>\n            { icon && <ListItemIcon><Icon className={classes.icon}>{icon}</Icon></ListItemIcon> }\n            <ListItemText className={classes.text} primary={label} secondary={description}></ListItemText>\n        </MenuItem>\n    )\n\n}\n\nexport default ActionMenuLink","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuList from \"./NavActionMenuList\"\nimport MenuItem from \"./NavActionMenuItem\"\nimport MenuLink from \"./NavActionMenuLink\"\n\n/** Menu component. Takes */\n\nconst NavMenu = ({className, icons = {}, menu = [], menuByUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count, onClick } = item;\n\n        return (\n            <MenuLink selected={selected} url={url} icon={icon} label={label ||title} count={count} onClick={() => _onSelect(item)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        const { role, children, hidden, selected } = item;\n\n        const expanded = true\n\n        if (hidden) {\n            return (\n                <MenuItem key={index} role={role}>\n                    <MenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </MenuList>\n                </MenuItem>\n            )\n        }\n\n        if (children) {\n            return (\n                <MenuItem key={index} role={role ||\"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <MenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </MenuList>\n                    }\n                </MenuItem>\n            )\n        }\n\n        return (\n            <MenuItem {...item} key={index} role={role ||\"none\"}>\n                { renderLink(item) }\n            </MenuItem>\n        )\n\n    }\n\n    if (!menu ||!menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <MenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </MenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","import React, { useState, useRef, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavActionButton from \"./NavActionButton\"\nimport NavActionDropdown from \"./NavActionDropdown\"\nimport NavActionMenu from \"./NavActionMenu\"\n\nconst NavActionItem = ({icons = {}, menuByUrl = {}, onSelect, ...props}) => {\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null);\n\n    const { url, children, onClick } = props\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onSelect = (item) => {\n        onSelect && onSelect(item)\n        setExpanded(false);\n    }\n\n    // combo\n\n    if (children && url ||children && onClick) {\n\n        return (\n            <>\n                <NavActionButton {...props} onClick={() => _onSelect(props)} forwardedRef={anchorRef} onToggle={_onToggle} />\n                <NavActionDropdown open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                    <NavActionMenu icons={icons} menu={children} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                </NavActionDropdown>\n            </>\n        )\n\n    }\n\n    // children\n\n    if (children) {\n\n        return (\n            <>\n                <NavActionButton {...props} expanded={expanded} forwardedRef={anchorRef} onToggle={_onToggle} />\n                <NavActionDropdown open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                    <NavActionMenu icons={icons} menu={children} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                </NavActionDropdown>\n            </>\n        )\n        \n    }\n\n    // single\n\n    return (\n        <NavActionButton {...props} onClick={() => _onSelect(props)} />\n    )\n\n    return null\n\n}\n\n\nNavActionItem.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavActionItem.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n}\n\nexport default NavActionItem;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavActionButtongroup from \"./NavActionButtongroup\"\nimport NavActionItem from \"./NavActionItem\"\n\n/** Action menu component */\n\nconst NavAction = ({className, icons = {}, menu = [], menuByUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        item.onClick && item.onClick() || onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        return (\n            <NavActionItem {...item} icons={icons} menuByUrl={menuByUrl} key={index} onSelect={_onSelect} />\n        )\n\n    }\n\n    if (!menu ||!menu.length) {\n        return false\n    }\n\n    return (\n        <NavActionButtongroup variant=\"contained\" className={className}>\n            { menu.map(renderItem)}\n        </NavActionButtongroup>\n    )\n\n}\n\nNavAction.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavAction.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavAction;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        \"&[role=tree]\": {\n            marginLeft: theme.spacing(3)\n        },\n        \"& > li + li\": {\n            marginTop: theme.spacing(.5)\n        },\n        \"& > li > ul > li + li\": {\n            marginTop: 0\n        },\n        \"&[role=group] > li + li\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n}));\n\nconst MenuList = ({className, role = \"tree\", children}) => {\n    const classes = useStyles()\n\n    return (\n        <ul className={className || classes.root} role={role}>\n            { children }\n        </ul>\n    )\n}\n\nexport default MenuList","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        display: \"block\",\n        width: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        left: \"-24px\",\n        padding: 0,\n        margin: 0,\n        opacity: 0.5\n    },\n    toggleCollapsed: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\"\n    },\n    toggleExpanded: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(0deg)\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        opacity: 0.5\n    }\n}));\n\nconst MenuToggle = ({expanded = false, onClick}) => {\n    const classes = useStyles();\n    const toggleIcon = expanded && classes.toggleExpanded || classes.toggleCollapsed\n\n    return (\n        <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded} size=\"small\">\n            <ToggleIcon className={toggleIcon} />\n        </IconButton>\n    )\n}\n\nconst MenuItem = ({className, role = \"treeitem\", count, expanded = false, onToggle, children}) => {\n    const classes = useStyles();\n\n    return (\n        <li className={className || classes.root} role={role} aria-expanded={expanded}>\n            { onToggle && <MenuToggle expanded={expanded} onClick={onToggle} /> }\n            { children }\n        </li>\n    )\n}\n\nexport default MenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        }\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        }\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n        paddingLeft: \"12px\",\n        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst MenuLink = ({className, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    return (\n        <ButtonBase color={color} className={className ||classes.root} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon} aria-selected={selected}>{icon}</Icon> }\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            { count && <Typography component=\"i\" align=\"right\" nowrap=\"true\" className={classes.count}>{count}</Typography> }\n            { children }\n        </ButtonBase>\n    )\n}\n\nexport default MenuLink","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"12px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        },\n        marginBottom: theme.spacing(1.5),\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        }\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n//        paddingLeft: \"12px\",\n//        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst MenuLink = ({className, url, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    if (!url) {\n        return (\n            <div color={color} className={className ||classes.root} aria-selected={selected}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            </div>\n        )\n    }\n\n    return (\n        <ButtonBase color={color} className={className ||classes.root} aria-selected={selected} onClick={onClick}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n        </ButtonBase>\n    )\n\n    return (\n        <ButtonBase color={color} className={className ||classes.root} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon} aria-selected={selected}>{icon}</Icon> }\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            { count && <Typography component=\"i\" align=\"right\" nowrap=\"true\" className={classes.count}>{count}</Typography> }\n            { children }\n        </ButtonBase>\n    )\n}\n\nexport default MenuLink","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavMenuList from \"./NavMenuList\"\nimport NavMenuItem from \"./NavMenuItem\"\nimport NavMenuLink from \"./NavMenuLink\"\nimport NavMenuLabel from \"./NavMenuLabel\"\n\nconst NavMenuCalendar = () => { return <p>cal</p>}\n\n/** Menu component */\n\nconst NavMenu = ({className, icons = {}, menu = [], menuByUrl, currentUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLink selected={selected} url={url} icon={icon} label={label ||title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderLabel = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLabel selected={selected} url={url} icon={icon} label={label ||title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        if (item.url && currentUrl && item.url === currentUrl) {\n            item = {\n                ...item,\n                expanded: true,\n                selected: true\n            }\n        }\n\n        if (item.url && currentUrl && currentUrl.startsWith(item.url)) {\n            item = {\n                ...item,\n                expanded: true,\n            }\n        }\n\n        const { role, calendar, children, hidden, selected, expanded } = item;\n\n        if (role === \"section\") {\n\n            return (\n                <NavMenuItem key={index} role=\"group\">\n                    { renderLabel(item) }\n\n                    { children && \n                        <NavMenuList role=\"group\">\n                        { children && children.map((item, index) => renderItem({...item, role: ''}, index))}\n                        </NavMenuList>\n                    }\n\n                </NavMenuItem>\n            )\n\n            \n        }\n\n        if (hidden) {\n            return (\n                <NavMenuItem key={index} role={role}>\n                    <NavMenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </NavMenuList>\n                </NavMenuItem>\n            )\n        }\n\n        if (calendar) {\n            return (\n                <NavMenuItem key={index} role={role ||\"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { expanded &&\n                        <NavMenuCalendar {...calendar} /> \n                    }\n                </NavMenuItem>\n            )\n\n        }\n\n        if (children && children.length) {\n            return (\n                <NavMenuItem key={index} role={role ||\"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <NavMenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </NavMenuList>\n                    }\n                </NavMenuItem>\n            )\n        }\n\n        return (\n            <NavMenuItem {...item} key={index} role={role ||\"none\"}>\n                { renderLink(item) }\n            </NavMenuItem>\n        )\n\n    }\n\n    if (!menu ||!menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <NavMenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </NavMenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NavAction from \"../NavAction/NavAction\"\nimport NavMenu from \"../NavMenu/NavMenu\"\n\nconst useStyles = makeStyles(theme => ({\n    sidebar: {\n        position: \"relative\",\n    },\n    action: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    }\n}));\n\nconst AppSidebar = ({className, icons = {}, expanded = false, width = 224, calendar, menu, menuByUrl = {}, primaryAction, onSelect, children}) => {\n\n    const classes = useStyles({width})\n\n    return (\n        <aside className={className ||classes.sidebar} aria-expanded={expanded}>\n            { primaryAction && <NavAction className={classes.action} icons={icons} primaryAction={[primaryAction]} menuByUrl={menuByUrl} onSelect={onSelect} />}\n            {menu && <NavMenu icons={icons} menu={menu} menuByUrl={menuByUrl} onSelect={onSelect} /> }\n            { children }\n        </aside>\n    )\n\n}\n\nAppSidebar.propTypes = {\n    className: PropTypes.string,\n    expanded: PropTypes.bool,\n    calendar: PropTypes.shape({\n        date: PropTypes.string\n    }),\n    menu: PropTypes.array\n}\n\nAppSidebar.defaultProps = {\n    calendar: undefined\n}\n\nexport default AppSidebar;","import React, { Component } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        transition: \".125s ease-out\"\n    },\n}));\n\nconst AppContent = ({className, expanded, children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={className ||classes.root} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n}\n\nexport default AppContent;","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport TextField from \"@material-ui/core/TextField\"\nimport InputBase from \"@material-ui/core/InputBase\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n    },\n    field: {\n        display: \"flex\",\n        width: \"100%\",\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        width: \"100%\",\n        height: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"1\",\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"&:focus + *\": {\n            opacity: 1\n        }\n    },\n    toggle: {\n        marginLeft: theme.spacing(1),\n    },\n    reset: {\n        marginRight: theme.spacing(1),\n    }\n}));\n\nconst NavSearch = ({\n    id = \"nav-search\",\n    className,\n    expanded,\n    InputProps = {},\n    inputRef,\n    inputProps = {},\n    inputClassName,\n    placeholder = \"Search\",\n    value,\n    onChange,\n    onFocus,\n    onBlur,\n    onToggle,\n    onReset\n}) => {\n\n//    const {id = \"nav-search\", className, fieldClassName, inputRef, inputClassName, InputProps = {}, inputProps = {}, resetClassName, toggleClassName, expanded = true, placeholder = \"Search\", children, onFocus, onChange, onToggle, onReset} = props\n\n    const classes = useStyles()\n\n\n    /*\n\n    const _onToggle = (event) => {\n        onToggle && onToggle(event)\n    }\n\n    useEffect(() => {\n        expanded && inputRef && inputRef.current.focus()\n    }, [expanded])\n\n    const _onChange = (event) => {\n        onChange && onChange(event.target.value, event);\n    }\n\n    const _onReset = () => {\n        if (inputRef && inputRef.current && inputRef.current.value) {\n            inputRef.current.value = \"\"\n            onReset && onReset()\n        } else if (onToggle) {\n            onToggle()\n        }\n   }\n\n   */\n\n    const ButtonReset = () => {\n        return (\n            <IconButton className={classes.reset} onClick={onReset}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n    \n    const ButtonToggle = () => {\n        return (\n            <IconButton className={classes.toggle} disableRipple disabled={!onToggle} onClick={onToggle}>\n                <SearchIcon />\n            </IconButton>\n        )\n    }\n\n//    console.log(\"InputProps\", InputProps)\n//    console.log(\"inputProps\", inputProps)\n\n    const startAdornment = <ButtonToggle />\n    const endAdornment = <ButtonReset />\n\n    const ref = InputProps.ref\n\n    if (inputProps.value) {\n        value = inputProps.value\n    }\n\n    return (\n        <InputBase\n            aria-expanded={expanded}\n            inputRef={inputRef}\n            id={id}\n            ref={ref}\n            className={className ||classes.field}\n            placeholder={placeholder}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            onChange={onChange}\n            value={value}\n            startAdornment={startAdornment}\n            endAdornment={endAdornment}\n            inputProps={{\n                ...inputProps,\n                className: inputClassName ||classes.input,\n                'aria-label': 'Search',\n            }}\n        />        \n    )\n\n    /*\n    \n    return (\n        <div className={className ||classes.search} aria-expanded={expanded}>\n            <div ref={InputProps.ref} className={fieldClassName ||classes.field} aria-expanded={expanded ||\"false\"}>\n                <ButtonToggle onClick={_onToggle} disabled={!onToggle && true || false} />\n                <input id={id} ref={inputRef} type=\"text\"\n                    placeholder={placeholder}\n                    onChange={_onChange}\n                    {...inputProps} \n                    className={inputClassName || classes.input} \n                    />\n                {InputProps.endAdornment ||<ButtonReset onClick={_onReset} /> }\n            </div>\n            {children}\n        </div>\n    )\n\n    */\n}\n\nNavSearch.propTypes = {\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default NavSearch;","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavSearch from \"../NavSearch/NavSearch\"\n\nimport Typography from '@material-ui/core/Typography';\nimport Icon from '@material-ui/core/Icon';\n\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { matchSorter } from 'match-sorter'\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: theme.palette.primary.main,\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n    },\n    field: {\n        display: \"flex\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n        width: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        lineHeight: 1,\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n    },\n    growingField: {\n        position: \"absolute\",\n        right: 0,\n    \n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n        transition: \".125s ease-out\",\n\n        width: theme.spacing(16),\n        height: theme.spacing(5),\n        margin: theme.spacing(1.5),\n        borderRadius: theme.spacing(2.5),\n\n        \"& > input\": {\n            fontSize: 16\n        },\n\n        \"&[aria-expanded=true]\": {\n            borderRadius: 0,\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            margin: 0,\n            width: \"100%\",\n            height: theme.spacing(8),\n\n            \"& > input\": {\n                fontSize: 18,\n            },\n\n            \"& > input + button\": {\n                display: \"block\"\n            }\n\n\n        },\n\n        \"& > button\": {\n            margin: 0\n        }\n\n    },\n    growingInput: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        lineHeight: 1,\n        color: \"inherit\",\n\n//        textOverflow: \"ellipsis\",\n//        overflow: \"hidden\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"& + button\": {\n            display: \"none\"\n        },\n\n    },\n    suggestRoot: {\n\n        \"& > $suggestPopper\": {\n            marginTop: 0\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"& > $suggestPopper\": {\n                marginTop: 64\n            }\n\n        }\n    },\n    suggestOverlay: {\n        position: \"fixed\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        transition: \".125s ease-out\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        pointerEvents: \"none\",\n        opacity: 0,\n        \"&[aria-expanded=true]\": {\n            opacity: 1,\n            pointerEvents: \"all\",\n        }\n    },\n    suggestPopper: {\n        position: \"fixed\",\n        marginTop: 64,\n        width: \"100%\",\n    },\n    suggestPaper: {\n        width: \"100%\",\n        padding: 0,\n        margin: 0,\n        borderRadius: 0,\n//        borderTop: \"1px solid\",\n        borderTopColor: theme.palette.divider,\n        boxShadow: theme.shadows[2]\n    },\n    suggestList: {\n        paddingTop: 8,\n        paddingBottom: 8\n    },\n    suggestListItem: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n        paddingTop: 8,\n        paddingRight: 16,\n        paddingBottom: 8,\n        paddingLeft: 16,\n    },\n    suggestIcon: {\n        \"& + $suggestLabel\": {\n            marginLeft: 16\n        }\n    },\n    suggestLabel: {\n        flexGrow: 1,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14\n    },\n    suggestCount: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n        color: theme.palette.text.secondary\n    },\n    suggestQuery: {\n        textDecoration: \"underline\",\n        \"&:before\": {\n            content: '\"\"'\n        },\n        \"&:after\": {\n            content: '\"\"'\n        },\n    },\n\n    suggestGroupList: {\n        padding: 0,\n        margin: 0,\n\n        \"& > $suggestListItem\": {\n            paddingLeft: 16\n        },\n\n    },\n    suggestGroupLabel: {\n        borderTop: \"1px solid\",\n        marginTop: 8,\n        paddingTop: 16,\n        paddingLeft: 16,\n        marginBottom: 8,\n        borderTopColor: theme.palette.divider,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n        fontWeight: \"normal\",\n        textTransform: \"capitalize\",\n        color: theme.palette.text.secondary\n\n\n    },\n    \n}));\n\n\nconst AppSearch = ({\n    id = \"app-search\",\n    className,\n    variant = \"default\",\n    expanded,\n    placeholder = \"Search app\",\n    icons,\n    options,\n    scopes,\n    suggest,\n    value,\n    onChange,\n    onFocus,\n    onBlur,\n    onToggle,\n    onReset,\n    autocompleteProps,\n    ...props}) => {\n\n    const classes = useStyles()\n\n    const inputRef = useRef(null)\n\n    let fieldClassName = classes.field\n    let inputClassName = classes.input\n\n    if (variant === \"growing\") {\n        fieldClassName = classes.growingField\n        inputClassName = classes.growingInput\n    }\n\n    const _onFocus = (event) => {\n        if (!expanded) {\n            onToggle && onToggle()\n        }\n\n        onFocus && onFocus(event)\n    }\n\n    const _onBlur = (event) => {\n        onBlur && onBlur(event)\n    }\n\n    const _onChange = (event) => {\n        onChange && onChange(event.target.value, event)\n    }\n\n    if (options) {\n\n        autocompleteProps = {\n            options: options,\n            ...autocompleteProps\n        }\n\n    }\n\n    if (autocompleteProps) {\n\n        // keep query options\n\n        const scopeOptions = autocompleteProps.options.filter(option => option.query)\n        const suggestOptions = autocompleteProps.options.filter(option => !option.query)\n\n        const _filterOptions = (options, state) => {\n            const {inputValue, selected } = state\n\n            // keep query options\n\n//            let query = options.filter(option => option.query)\n//            let items = options.filter(option => !option.query)\n\n            const baseSort = (a, b) => ( a.modelName < b.modelName ? -1: 1 )\n\n            let filtered = matchSorter(suggestOptions, inputValue, { keys: ['title'], baseSort: baseSort })\n\n            /*\n\n            if (state.inputValue !== '') {\n              filtered.push({\n                inputValue: state.inputValue,\n                title: `Add \"${state.inputValue}\"`,\n              });\n            }\n\n            */\n\n            if (scopeOptions) {\n                filtered = [\n                    ...scopeOptions,\n                    ...filtered\n                ]\n            }\n\n            return filtered;\n        \n        }\n    \n        const _getOptionLabel = (option) => {\n            return option.q\n        }\n   \n        const _getOptionHighlight = (label, q) =>  {\n\n            const matches = match(label, q);\n            const parts = parse(label, matches);\n        \n            return parts.map((part, index) => {\n                if (part.highlight) {\n                    return <b className={classes.suggestHighlight}>{part.text}</b>\n                }\n                return part.text\n            })\n\n        }\n\n        const _getOptionQuery = (label, q) =>  {\n\n            const matches = match(label, \"[q]\");\n            const parts = parse(label, matches);\n        \n            return parts.map((part, index) => {\n                if (part.highlight) {\n                    return <b className={classes.suggestQuery}>{q}</b>\n                }\n                return part.text\n            })\n\n        }\n\n        const _renderGroup = ({group, children}) => {\n\n            if (group) {\n                return (\n                    <li>\n                        <div className={classes.suggestGroupLabel}>{group}</div>\n                        <ul className={classes.suggestGroupList}>{children}</ul>\n                    </li>\n                )\n            }\n\n            return children\n\n        }\n\n        const _renderOption = (option = {}, state) => {\n            const {inputValue, selected } = state\n    \n            let {uniqueId, documentType, query, icon, placeholder, title, count } = option\n    \n            if (!icon && icons && icons[documentType]) {\n                icon = icons[documentType]\n            }\n\n            // highlight\n\n            const label = inputValue == '' && placeholder ||query && _getOptionQuery(title, inputValue) ||_getOptionHighlight(title, inputValue)\n    \n            return (\n                <>\n                    {icon && <Icon className={classes.suggestIcon}>{icon}</Icon>}\n                    <Typography className={classes.suggestLabel}>\n                        {label}\n                    </Typography>\n                    { count && <Typography className={classes.suggestCount}>{count}</Typography> }\n                </>\n            ) \n    \n        }\n\n        return (\n            <div className={className ||classes.search} aria-expanded={expanded}>\n                <div className={classes.suggestOverlay} aria-expanded={expanded} onClick={onToggle}></div>\n                <Autocomplete\n                    id={id + \"-suggest\"}\n                    classes={{\n                        root: classes.suggestRoot,\n                        popper: classes.suggestPopper,\n                        paper: classes.suggestPaper,\n                        listbox: classes.suggestList,\n                        option: classes.suggestListItem,\n                        groupUl: classes.suggestGroupList,\n                        groupLabel: classes.suggestGroupLabel,\n                    }}\n                    fullWidth={true}\n                    disablePortal={true}\n                    open={expanded || false}\n                    filterOptions={_filterOptions}\n                    renderGroup={_renderGroup}\n                    renderOption={_renderOption}\n                    getOptionLabel={_getOptionLabel}\n        \n                    {...autocompleteProps}\n    \n                    renderInput={({InputProps, inputProps}) => {\n                        return (\n                            <NavSearch\n                                InputProps={InputProps}\n                                id={id}\n                                className={fieldClassName}\n                                expanded={expanded}\n                                inputRef={inputRef}\n                                inputProps={{\n                                    ...inputProps,\n                                    placeholder: placeholder\n                                }}\n                                inputClassName={inputClassName}\n    //                            onFocus={_onFocus}\n    //                            onBlur={_onBlur}\n    //                            onChange={_onChange}\n                                onToggle={onToggle}\n                                onReset={onReset}\n                                />\n                        )\n                    }}\n                />        \n            </div>\n        )\n\n    }\n\n    // default search\n    \n    return (\n        <div className={className ||classes.search} aria-expanded={expanded}>\n            <NavSearch {...props}\n                id={id}\n                className={fieldClassName}\n                expanded={expanded}\n                inputRef={inputRef}\n                inputClassName={inputClassName}\n                onFocus={_onFocus}\n                onBlur={_onBlur}\n                onChange={_onChange}\n                onToggle={onToggle}\n                onReset={onReset}\n                />\n        </div>\n    )\n\n\n\n\n}\n\nAppSearch.defaultProps = {\n    expanded: true,\n    placeholder: \"Search\"\n}\n\nAppSearch.propTypes = {\n    /** Expanded */\n    expanded: PropTypes.bool,\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default AppSearch;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    identifier: {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n//        width: \"100%\",\n        flexGrow: 1,\n        height: theme.spacing(8),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        color: props => { return theme.palette.header && theme.palette.header.title ||theme.palette.primary.contrastText },\n    },\n    divider: {\n        backgroundColor: theme.palette.primary.contrastText,\n        width: \"1px\",\n        height: theme.spacing(3),\n        opacity: 0.85,\n        margin: theme.spacing(1.5),\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        },\n\n    },\n    subtitle: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"normal\",\n        opacity: 0.85,\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        },\n\n    }\n}));\n\nconst AppIdentifier = ({className, expanded, title, subtitle}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className ||classes.identifier} aria-expanded={expanded}>\n            <Typography component=\"h1\" className={classes.title} noWrap>{title}</Typography>\n            { title && subtitle && <div className={classes.divider}></div> }\n            <Typography component=\"h2\" className={classes.subtitle} noWrap>{subtitle}</Typography>\n        </div>\n    )\n\n}\n\nAppIdentifier.propTypes = {\n    title: PropTypes.string,\n    subtitle: PropTypes.string\n}\n\nexport default AppIdentifier;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport BackIcon from '@material-ui/icons/ArrowBack';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    subview: {\n        backgroundColor: theme.palette.background.default,\n        color: \"black\",\n    },\n    section: {\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n    },\n    button: {\n        width: theme.spacing(6),\n        height: theme.spacing(6),\n        color: \"inherit\",\n\n        \"& + $content\": {\n            paddingRight: theme.spacing(8)\n        }\n\n    },\n    content: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        marginLeft: theme.spacing(1),\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"normal\",\n        marginLeft: \"0.25em\"\n    }\n}));\n\nconst AppSubview = ({className, expanded, title, description, onToggle}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={className ||classes.subview} aria-expanded={expanded}>\n            <div className={classes.section}>\n                <IconButton className={classes.button} onClick={onToggle}>\n                    <BackIcon />\n                </IconButton>\n                <div className={classes.content}>\n                    <Typography component=\"h1\" className={classes.title}>{title && description && title + \":\" || title}</Typography>\n                    <Typography component=\"h2\" className={classes.description}>{description}</Typography>\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\nAppSubview.propTypes = {\n    className: PropTypes.string,\n    expanded: PropTypes.bool,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    onBack: PropTypes.func\n}\n\nexport default AppSubview;","import React, { useState } from 'react';\nimport PropTypes from \"prop-types\"\nimport AppBar from '@material-ui/core/AppBar';\nimport AppSearch from \"./AppSearch\"\nimport AppIdentifier from \"./AppIdentifier\"\nimport AppSubview from \"./AppSubview\"\n\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"relative\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n    },\n    section: {\n        position: \"relative\",\n        width: \"100%\",\n\n        height: theme.spacing(8),\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\": {\n            marginTop: 0\n        },\n\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n\n    },\n    button: {\n        margin: theme.spacing(1),\n        color: \"inherit\"\n    },\n    identifier: {\n        position: \"absolute\",\n        top: 0,\n        rigth: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        pointerEvents: \"none\"\n    },\n    subview: {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary,\n        position: \"relative\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n        \"&[aria-expanded=true]\": {\n            marginTop: 0\n        }\n    },\n    growingSearch: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"auto\",\n        height: theme.spacing(8),\n        display: \"flex\",\n\n        width: \"auto\",\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\": {\n            width: \"100%\",\n        }\n\n    },\n    search: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        transition: \".125s ease-out\",\n\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        fontFamily: \"Akkurat, sans-serif\",\n\n        \"&[aria-expanded=true]\": {\n            marginTop: theme.spacing(-8),\n        }\n    }\n}));\n\n\nconst AppHeader = ({className, icons, expanded = true, elevation = 2, color = \"primary\", title, subtitle, sidebar, search, subview, children }) => {\n\n    const classes = useStyles({color, search})\n\n    const ButtonSidebar = ({onClick}) => {\n        return (\n            <IconButton className={classes.button} onClick={onClick}>\n                <MenuIcon />\n            </IconButton>\n        )\n\n    }\n\n    const ButtonSearch = ({onClick}) => {\n        return (\n            <IconButton className={classes.button} onClick={onClick}>\n                <SearchIcon />\n            </IconButton>\n        )\n    }\n\n    const collapsibleSidebar = sidebar && sidebar.collapsible\n    const growingSearch = search && search.variant === \"growing\"\n\n    return (\n        <AppBar position=\"absolute\" className={className || classes.header} component=\"header\" aria-expanded={expanded} elevation={expanded && elevation}>\n            { subview && <AppSubview {...subview} className={classes.subview} expanded={subview && subview.expanded}/> }\n            <section className={classes.section} aria-expanded={search && search.expanded && false || true}>\n                { collapsibleSidebar && <ButtonSidebar onClick={sidebar && sidebar.onToggle} /> }\n                <AppIdentifier className={classes.identifier} title={title} subtitle={subtitle} />\n                { search && !growingSearch && <ButtonSearch onClick={search && search.onToggle} /> }\n            </section>\n            { search && <AppSearch {...search} icons={icons} className={growingSearch && classes.growingSearch ||classes.search} /> }\n            { children }\n        </AppBar>\n    )\n}\n\nAppHeader.defaultProps = {\n    expanded: true,\n    search: undefined,\n    subview: undefined\n}\n\nAppHeader.propTypes = {\n    expanded: PropTypes.bool,\n    elevation: PropTypes.number,\n    color: PropTypes.string,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    sidebar: PropTypes.shape({\n        expanded: PropTypes.bool,\n        onToggle: PropTypes.func\n    }),\n    search: PropTypes.shape({\n        expanded: PropTypes.bool,\n        placeholder: PropTypes.string,\n        onToggle: PropTypes.func\n    }),\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool,\n        title: PropTypes.string,\n        subtitle: PropTypes.string,\n        onToggle: PropTypes.func\n    })\n}\n\nexport default AppHeader;","\nimport React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport { AppBase, AppHeader, AppSidebar, AppContent, AppBody } from \"./\"\n\nimport NavAction from \"../NavAction/NavAction\"\nimport NavMenu from \"../NavMenu/NavMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    app: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n\n        display: \"flex\",\n        flexDirection: \"column\"\n\n    },\n    header: {\n        position: \"absolute\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0,\n            \n            \"& + *\": {\n                marginTop: theme.spacing(8),\n            }\n        },\n    },\n    body: {\n        position: \"relative\",\n        transition: \".125s ease-out\",\n        display: \"flex\",\n\n        flexBasis: 0,\n        flexGrow: 1\n\n    },\n    sidebar: {\n        width: props => { return props.sidebar.width },\n        marginLeft: props => { return props.sidebar.width * -1 },\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            [theme.breakpoints.up('sm')]: {\n                marginLeft: 0,\n            }\n        },\n        \"&[aria-expanded=true] + *\":  {\n            [theme.breakpoints.up('sm')]: {\n //               marginLeft: props => { return props.sidebar.width },\n            }\n        },\n    },\n    content: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\"\n    },\n    navAction: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    },\n\n    navCalendar: {\n        margin: theme.spacing(2,.5)\n    },\n\n    navMenu: {\n//        margin: theme.spacing(2)\n    },\n\n}));\n\n/** AppLayout is a wrapper for all apps using AppHeader */\n\nconst AppLayout = ({\n    theme = undefined, \n    header = {}, \n    sidebar = {\n        width: 224\n    }, \n    search = undefined, \n    subview = undefined,\n    primaryAction = undefined,\n    icons = {},\n    menu, \n    menuByUrl = {},\n    currentUrl = undefined,\n    onSelect,\n    onToggle,\n    children\n}) => {\n\n    sidebar = {\n        ...sidebar,\n        width: 256\n    }\n\n    header = {\n        subview: subview,\n        search: search,\n        sidebar: sidebar,\n        ...header\n    }\n\n\n    const classes = useStyles({header, sidebar})\n\n    return (\n        <AppBase theme={theme} className={classes.app}>\n            <AppHeader {...header} icons={icons} className={classes.header} />\n            <AppBody className={classes.body}>\n                <AppSidebar {...sidebar} className={classes.sidebar}>\n                    { primaryAction && <NavAction className={classes.navAction} icons={icons} menu={[primaryAction]} menuByUrl={menuByUrl} onSelect={onSelect} />}\n                    {menu && <NavMenu className={classes.navMenu} icons={icons} menu={menu} menuByUrl={menuByUrl} currentUrl={currentUrl} onSelect={onSelect} onToggle={onToggle} />}\n                </AppSidebar>\n                <AppContent className={classes.content}>\n                    { children }\n                </AppContent>\n            </AppBody>\n        </AppBase>\n    )\n\n}\n\nAppLayout.defaultProps = {\n    app: {\n\n    },\n    header: {\n        expanded: true\n    },\n}\n\nAppLayout.propTypes = {\n    /** App properties */\n    app: PropTypes.shape({\n        uniqueId: PropTypes.string,\n        title: PropTypes.string\n    }),\n    /** Header properties */\n    header: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Search properties */\n    search: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Subview properties */\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n}\n\nexport default AppLayout;","import Admin from \"./Admin\"\nexport default Admin","import React, {useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getLayout, toggleSidebar } from '../redux/app';\nimport { toggleMenuItem } from '../redux/finder';\n\nimport _ from \"lodash\"\nimport qs from 'query-string';\n\nimport AdminRoutes from \"./AdminRoutes\"\nimport AdminLoader from \"./AdminLoader\"\nimport AdminSearch from \"./AdminSearch\"\n\n//import { AppLayout } from \"@kit-ui/admin\"\nimport AppLayout from \"../components/App/AppLayout\"\n\nimport icons from \"../icons\"\n\nconst Admin = (props) => {\n    const {pathname } = props.location\n    const sq = props.location.search && qs.parse(props.location.search) ||{}\n\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // date + view\n\n    let date = sq.date\n    let view = sq.view\n\n    if (!view) {\n        view = \"week\"\n    }\n\n    // select menu or calendar\n\n    const _onToggle = ({url}) => {\n        url && dispatch(toggleMenuItem({url}))\n    }\n\n    const _onSelect = ({url, date}) => {\n\n        console.log('onSelect', url)\n\n        if (!url && date) {\n            sq.date = date\n            props.history.replace(pathname + \"?\" + qs.stringify(sq))\n        }\n\n        url && props.history.push(url)\n    }\n\n\n\n    // header\n\n    const header = {\n        ...app.header,\n        title: app.title,\n        subtitle: app.siteTitle\n    }\n\n    // sidebar\n\n    const sidebar = {\n        ...app.sidebar,\n        collapsible: true,\n        onToggle: () => dispatch(toggleSidebar())\n    }\n\n    // subview\n\n    const subview = app.subview && {\n        ...app.subview,\n        onToggle: () => dispatch(getLayout('finder'))\n    }\n\n    return  (\n        <AdminSearch {...props}>\n            <AppLayout \n                theme={app.theme}\n                icons={icons}\n\n                header={header}\n    //            search={search}\n                sidebar={sidebar}\n                subview={subview}\n\n                primaryAction={finder.primaryAction}\n                menu={finder && finder.menu}\n                menuByUrl={finder && finder.menuByUrl}\n\n                currentUrl={pathname}\n\n                onSelect={_onSelect}\n                onToggle={_onToggle}>\n                <AdminRoutes {...props} />\n            </AppLayout>\n        </AdminSearch>\n    )\n\n    \n}\n\nexport default Admin","export default {\n    role: \"group\",\n    title: \"Artikler\",\n    icon: \"article\",\n    pathname: \"article\",\n    query: {\n        models: \"documents\",\n        documentType: \"article\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"group\",\n    icon: \"photo\",\n    title: \"Media\",\n    pathname: \"media\",\n    query: {\n        models: \"media\",\n        mediaType: \"*\",\n        collectionId: \"*\",\n        status: \"NOT trash\"\n    },\n    children: [\n        {\n            title: \"Images\",\n            pathname: \"images\",\n            query: {\n                models: \"media\",\n                mediaType: \"image\"\n            },\n        },\n        {\n            title: \"Video\",\n            pathname: \"video\",\n            query: {\n                models: \"media\",\n                mediaType: \"video\"\n            },\n        },\n        {\n            title: \"Audio\",\n            pathname: \"audio\",\n            query: {\n                models: \"media\",\n                mediaType: \"audio\"\n            },\n        },\n        {\n            title: \"Misc\",\n            pathname: \"misc\",\n            query: {\n                models: \"media\",\n                mediaType: \"misc\"\n            },\n        },\n        {\n            title: \"Apps\",\n            pathname: \"apps\",\n            query: {\n                models: \"media\",\n                mediaType: \"misc\"\n            },\n        },\n        {\n            title: \"Upload\",\n            pathname: \"upload\",\n            template: \"upload\"\n        }\n    ]\n}","export default {\n    role: \"group\",\n    title: \"Latest\",\n    pathname: \"latest\",\n    icon: \"access_time\",\n    query: {\n        models: \"documents\",\n        status: \"NOT trash\",\n        models: \"documents\",\n        sort: \"updatedAt DESC\"\n    }\n}","export default {\n    role: \"group\",\n    icon: \"delete\",\n    title: \"Trash\",\n    pathname: \"trash\",\n    query: {\n        models: \"documents\",\n        status: \"trash\",\n        models: \"documents\",\n        sort: \"deletedAt DESC\",\n    }\n}","export default {\n    role: \"group\",\n    icon: \"search\",\n    title: \"Sk\",\n    pathname: \"search\",\n    groupBy: \"documentType\",\n    query: {\n        models: \"documents\",\n        sort: \"updatedAt DESC\",\n    }\n}","export default {\n    icon: \"settings\",\n    title: \"Settings\",\n    url: \"/admin\",\n}\n","export default {\n    icon: \"trending_flat\",\n    title: \"Collections\",\n    url: \"/\",\n}\n","import app from \"./app\"\n\nexport default app","import menu from \"./menu\"\nimport primaryAction from \"./action\"\nimport theme from \"./theme\"\n\nexport default {\n    theme: theme,\n    icon: \"kpApp\",\n    url: \"/:siteName/kp\",\n    root: \"/kp\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"KulturPunkt\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n        \"expanded\": false,\n        \"placeholder\": \"Sk i KulturPunkt\"\n    }\n}","import {\n    kpHome,\n    kpPages,\n    kpLink,\n\n    kioskHome,\n    kioskPages,\n    kioskDevices,\n    kioskLink,\n\n    ekultur,\n    articles,\n    media,\n    latest,\n    trash,\n    search,\n\n    adminLink,\n    collectionsLink\n} from \"../menu/\"\n\nexport default [\n    kpHome,\n    articles,\n    kpPages,\n    media,\n    latest,\n    trash,\n    search,\n    {\n        role: \"section\",\n        title: \"Favoritter\",\n        pathname: \"favourites\",\n        children: [\n            kioskLink,\n            collectionsLink,\n            adminLink,\n        ]\n    }\n]","export default {\n    type: \"tree\",\n    role: \"group\",\n    title: \"KulturPunkt\",\n    icon: \"kpMenu\",\n    url: \"/:siteName/kp\",\n    template: \"finder/tree\",\n    query: {\n        rows: 100,\n        models: \"documents\",\n        status: \"NOT trash\",\n        documentType: \"page*\",\n        q: \"NOT parentId:*\"\n    },\n}","export default {\n    role: \"section\",\n//    hidden: true,\n    title: \"Sider\",\n    pathname: \"pages\",\n//    viewOptions: [\"list\",\"grid\"],\n//    view: \"grid\",\n    query: {\n        models: \"documents\",\n        documentType: \"page*\",\n        status: \"NOT trash\"\n    },\n    children: [\n        {\n            title: \"Hjemmeside\",\n            icon: \"pageHome\",\n            pathname: \"home\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageHome\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Tema\",\n            icon: \"pageParent\",\n            pathname: \"topic\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageTopic\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Kart\",\n            icon: \"pageMap\",\n            pathname: \"map\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageMap\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n}","export default {\n    icon: \"kioskMenu\",\n    title: \"Kiosk\",\n    url: \"/:siteName/kiosk\",\n//    search: \"link=true\"\n}","\nconst kpArticle = {\n    icon: \"article\",\n    title: \"Ny artikkel\",\n    pathname: \"/article/new?documentType=article\"\n}\n\n\nconst kpPages = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"pageHome\",\n            title: \"Ny forside\",\n            pathname: \"/pages/new?documentType=pageHome\"\n        },\n        {\n            icon: \"pageMap\",\n            title: \"Nytt kart\",\n            pathname: \"/pages/new?documentType=pageMap\"\n        },\n        {\n            icon: \"pageTopic\",\n            title: \"Nytt tema\",\n            pathname: \"/pages/new?documentType=pageTopic\"\n        },\n    ]\n}\n\n\nexport default {\n    title: \"Nytt innhold\",\n    pathname: \"/create\",\n    \"children\": [\n        kpArticle,\n        kpPages\n    ]\n\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getSiteApp } from \"../redux/app\"\nimport AppLoader from \"./AppLoader\"\nimport Admin from \"../Admin\"\nimport app from \"./kp\"\n\nconst KpApp = ({children, ...props}) => {\n    const { siteName } = props.match.params\n  \n    const dispatch = useDispatch()\n\n    const collectionType = \"kp\"\n    const root = \"/\" + siteName + \"/kp\"\n    \n    useEffect(() => {\n        root && dispatch(getSiteApp({\n            ...app,\n            root: root,\n            siteName: siteName,\n            collectionType: collectionType,\n        }))\n    }, [root])\n\n    return (\n        <AppLoader {...props}>\n            <Admin {...props} />\n        </AppLoader>\n    )\n\n\n}\n\nKpApp.defaultProps = {\n}\n\nexport default KpApp","import menu from \"./menu\"\nimport theme from \"./theme\"\nimport primaryAction from \"./action\"\n\nexport default {\n    theme: theme,\n    icon: \"kioskApp\",\n    url: \"/:siteName/kp\",\n    root: \"/kiosk\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"Kiosk\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n        \"expanded\": false,\n        \"placeholder\": \"Sk i Kiosk\"\n    }\n}","import {\n    kpHome,\n    kpPages,\n    kpLink,\n\n    kioskHome,\n    kioskPages,\n    kioskDevices,\n    kioskLink,\n\n    ekultur,\n    articles,\n    media,\n    latest,\n    trash,\n    search,\n    \n    collectionsLink,\n    adminLink,\n} from \"../menu/\"\n\nexport default [\n    kioskHome,\n    articles,\n    kioskPages,\n    kioskDevices,\n    media,\n    search,\n    latest,\n    trash,\n    {\n        role: \"section\",\n        title: \"Favoritter\",\n        pathname: \"favourites\",\n        children: [\n            kpLink,\n            collectionsLink,\n            adminLink,\n        ]\n    }\n]","export default {\n    icon: \"kioskMenu\",\n    url: \"/:siteName/kiosk\",\n    title: \"Kiosk\",\n    view: \"icons\",\n    viewOptions: [\"list\",\"icons\"],\n    query: {\n        models: \"documents\",\n        documentType: \"device*\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    role: \"section\",\n//    hidden: true,\n    title: \"Presentasjoner\",\n    pathname: \"pages\",\n    view: \"grid\",\n    query: {\n        models: \"documents\",\n        documentType: \"page*\",\n//        status: \"NOT trash\"\n    },\n    children: [\n        {\n            title: \"Mosaikk\",\n            icon: \"pageGrid\",\n            pathname: \"grid\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageGrid\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Tidslinje\",\n            icon: \"pageTimeline\",\n            pathname: \"timeline\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageTimeline\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Bildekart\",\n            icon: \"pageAnnotate\",\n            pathname: \"annotate\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageAnnotate\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Media\",\n            icon: \"pageMedia\",\n            pathname: \"media\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageMedia\",\n                status: \"NOT trash\"\n            }\n        },\n        {\n            title: \"Liste\",\n            icon: \"pageList\",\n            pathname: \"list\",\n            query: {\n                models: \"documents\",\n                documentType: \"pageList\",\n                status: \"NOT trash\"\n            }\n        }\n    ]\n}","export default {\n    role: \"group\",\n    title: \"Enheter\",\n    icon: \"bug_report\",\n    pathname: \"device\",\n    query: {\n        models: \"documents\",\n        documentType: \"device\",\n        status: \"NOT trash\"\n    }\n}","export default {\n    icon: \"kpMenu\",\n    title: \"KulturPunkt\",\n    url: \"/:siteName/kp\",\n//    search: \"link=true\"\n}","\nconst kpArticle = {\n    icon: \"article\",\n    title: \"Ny artikkel\",\n    pathname: \"/article/new?documentType=article\"\n}\n\nconst kioskPages = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"pageGrid\",\n            title: \"Ny mosaikkk\",\n            pathname: \"/kiosk/new?documentType=pageGrid\"\n        },\n        {\n            icon: \"pageTimeline\",\n            title: \"Ny tidslinje\",\n            pathname: \"/kiosk/new?documentType=pageTimeline\"\n        },\n        {\n            icon: \"pageAnnotate\",\n            title: \"Nytt bildekart\",\n            pathname: \"/kiosk/new?documentType=pageAnnotate\"\n        },\n        {\n            icon: \"pageMedia\",\n            title: \"Ny media\",\n            pathname: \"/kiosk/new?documentType=pageMedia\"\n        },\n        {\n            icon: \"pageList\",\n            title: \"Ny liste\",\n            pathname: \"/kiosk/new?documentType=pageList\"\n        },\n    ]\n}\n\nconst kioskDevice = {\n    role: \"group\",\n    children: [\n        {\n            icon: \"bug_report\",\n            title: \"Ny enhet\",\n            pathname: \"/device/new?documentType=device\"\n        },\n    ]\n}\n\nexport default {\n    title: \"Nytt innhold\",\n    pathname: \"/create\",\n    \"children\": [\n        kpArticle,\n        kioskPages,\n        kioskDevice\n    ]\n\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getSiteApp } from \"../redux/app\"\nimport AppLoader from \"./AppLoader\"\nimport Admin from \"../Admin\"\nimport app from \"./kiosk/app\"\n\nconst KioskApp = ({children, ...props}) => {\n    const { siteName } = props.match.params\n  \n    const dispatch = useDispatch()\n\n    const collectionType = \"kp\"\n    const root = \"/\" + siteName + \"/kiosk\"\n    \n    useEffect(() => {\n        root && dispatch(getSiteApp({\n            ...app,\n            root: root,\n            siteName: siteName,\n            collectionType: collectionType,\n        }))\n    }, [root])\n\n    return (\n        <AppLoader {...props}>\n            <Admin {...props} />\n        </AppLoader>\n    )\n\n\n}\n\nKioskApp.defaultProps = {\n}\n\nexport default KioskApp","import menu from \"./menu\"\nimport theme from \"./theme\"\nimport primaryAction from \"./action\"\n\nexport default {\n    theme: theme,\n    icon: \"kpApp\",\n    root: \"/admin\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"Kp+Kiosk admin\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n        \"expanded\": false,\n        \"placeholder\": \"Sk i Kiosk\"\n    }\n}","export default {\n    \"palette\": {\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        },\n        \"secondary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        }\n    }\n}","import {\n    latest,\n    trash,\n} from \"../menu/\"\n\nconst sites = {\n    icon: \"business\",\n    title: \"Sites\",\n    pathname: \"sites\",\n    query: {\n        models: \"sites\",\n        status: \"NOT trash\"\n    }\n}\n\nconst users = {\n    icon: \"people\",\n    title: \"Users\",\n    pathname: \"users\",\n    query: {\n        models: \"users\",\n        status: \"NOT trash\"\n    }\n}\n\nconst collections = {\n    icon: \"folder\",\n    title: \"Collections\",\n    pathname: \"collections\",\n    query: {\n        models: \"collections\",\n        collectionType: \"kp\",\n        status: \"NOT trash\"\n    }\n}\n\nconst home = {\n    title: \"Admin\",\n    url: \"/admin\",\n    role: \"section\",\n    viewOptions: [\"icons\"],\n    query: {\n        models: \"collections\",\n        collectionType: \"kp\",\n        status: \"NOT trash\"\n    },\n    children: [\n        collections,\n        sites,\n        users,\n    ]\n}\n\nconst loaders = {\n    role: \"section\",\n    title: \"Favoritter\",\n    pathname: \"favourites\",\n    children: [\n        {\n            icon: \"folder\",\n            title: \"Swich collection\",\n            url: \"/\",\n        }\n    ]\n\n}\n\n\nexport default [\n    home,\n//    collections,\n//    sites,\n//    users,\n    loaders\n]","\nexport default {\n    title: \"Nytt innhold\",\n    \"children\": [\n        {\n            icon: \"add\",\n            title: \"Ny collection\",\n            url: \"/admin/collections/new?collectionType=kp\"\n        },\n    ]\n\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getAppProperties } from \"../redux/app\"\nimport Admin from \"../Admin\"\nimport app from \"./admin/app\"\n\nconst AdminApp = ({children, ...props}) => {\n  \n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getAppProperties(app))\n    }, [])\n\n    return (\n        <Admin {...props} />\n    )\n\n}\n\nAdminApp.defaultProps = {\n}\n\nexport default AdminApp","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst siteSlice = createSlice({\n    name: 'site',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestSite(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveSite(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        requestSiteCollections(state, action) {\n            return {\n                ...state,\n                collections: undefined\n            }\n        },\n        receiveSiteCollections(state, action) {\n            const { models } = action.payload\n            return {\n                ...state,\n                collections: models\n            }\n        }\n    }\n})\n\nexport const getSite = ({id, uniqueId, name}) => dispatch => {\n\n    if (id) {\n        dispatch(getSiteById({id}))\n    } else if (uniqueId) {\n        dispatch(getSiteById({id: uniqueId}))\n    } else if (name) {\n        dispatch(getSiteByName({name}))\n    }\n\n}    \n\nexport const getSiteById = ({id}) => dispatch => {\n    const apiUrl = API + '/admin/api/sites/' + id;\n\n    dispatch(requestSite({id}))\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(site => {\n            dispatch(receiveSite(site))\n        })\n    \n}\n\nexport const getSiteByName = ({name}) => dispatch => {\n    const apiUrl = API + '/admin/api/sites/search?name=' + name + \"&fl=id\";\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        results.models && results.models[0] && dispatch(getSiteById(results.models[0]))\n    })\n\n}\n\nexport const { \n    requestSite, receiveSite,\n    requestSiteCollections, receiveSiteCollections\n} = siteSlice.actions\n\nexport default siteSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getSite } from \"../site\"\n\nconst collectionSlice = createSlice({\n    name: 'collection',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestCollection(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveCollection(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getCollection = ({id, uniqueId, siteName, collectionType}) => dispatch => {\n\n    if (id) {\n        dispatch(getCollectionById({id}))\n    } else if (uniqueId) {\n        dispatch(getCollectionById({id: uniqueId}))\n    } else if (siteName && collectionType) {\n        dispatch(getCollectionByType({siteName, collectionType}))\n    }\n\n}\n\nexport const getCollectionById = ({id}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/collections/' + id;\n\n    dispatch(requestCollection({id}))\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(collection => {\n            dispatch(receiveCollection(collection))\n        })\n    \n}\n\nexport const getCollectionByType = ({siteName, collectionType}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/collections/search?siteName=' + siteName + \"&collectionType=\"+ collectionType +\"&fl=id\";\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        results.models && results.models[0] && dispatch(getCollectionById(results.models[0]))\n    })\n\n\n}\n\n\nexport const { requestCollection, receiveCollection } = collectionSlice.actions\nexport default collectionSlice.reducer","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getCollection } from '../redux/collection';\n\nimport Link from \"@material-ui/core/Link\"\n\nimport FinderQuery from \"../Finder/FinderQuery\"\nimport FinderModel from \"../Finder/FinderModel\"\n\nimport {ModuleBase, ModuleTitle, ModuleDescription, ListView } from \"@kit-ui/admin\"\n\nconst CollectionSwitcher = ({query, ...props}) => {\n\n    const _onSelect = ({url}) => {\n        url && props.history.push(url)\n    }\n\n    const CollectionItem = ({id, siteName, title, collectionType}) => {\n\n        const kpUrl = \"/\"+siteName+\"/kp\"\n        const kioskUrl = \"/\"+siteName+\"/kiosk\"\n        \n        const kpLink = <Link onClick={() => _onSelect({url: kpUrl})}>KulturPunkt</Link>\n        const kioskLink = <Link onClick={() => _onSelect({url: kioskUrl})}>Kiosk</Link>\n\n        return (\n            <ModuleBase>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleDescription>CollectionId: {id}  SiteName: {siteName}  {kpLink}  {kioskLink}</ModuleDescription>\n            </ModuleBase>\n        )\n    \n    }\n    \n    const CollectionList = ({layout = \"list\", resultsLoaded, onPage, ...props}) => {\n\n        return (\n            <ListView>\n                {resultsLoaded && resultsLoaded.map((model, index) => <FinderModel model={model}><CollectionItem model={model} key={index} /></FinderModel>)}\n            </ListView>\n        )\n    \n    }\n\n    const parents = [{title: \"Switch collection\"}]\n    \n    return (\n        <FinderQuery parents={parents} query={query} template={CollectionList} {...props} />\n    )\n\n\n}\n\nCollectionSwitcher.defaultProps = {\n    query: {\n        models: \"collections\",\n        siteId: \"*\",\n        collectionId: \"*\",\n        collectionType: \"kp\",\n        fl: \"id,uniqueId,title,collectionType,siteName,siteId\",\n        status: \"NOT trash\"\n    }\n}\n\nexport default CollectionSwitcher","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport KpApp from \"./KpApp\"\nimport KioskApp from \"./KioskApp\"\nimport AdminApp from \"./AdminApp\"\n\nimport CollectionSwitcher from \"./CollectionSwitcher\"\n\nconst AppRoutes = (props) => {\n\n    return (\n        <Switch>\n            <Route path=\"/admin\" component={AdminApp} />\n            <Route path=\"/:siteName/kiosk\" component={KioskApp} />\n            <Route path=\"/:siteName/kp\" component={KpApp} />\n            <Route path=\"/\" component={CollectionSwitcher} />\n        </Switch>\n    )\n\n}\n\nexport default AppRoutes","import App from \"./App\"\nexport default App","import React, { useEffect } from \"react\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n} from \"react-router-dom\";\n\nimport \"../styles/reset.css\"\nimport \"../styles/Akkurat.css\"\nimport \"../styles/AkkuratMono.css\"\nimport \"../styles/MaterialIcons.css\"\n\nimport AppRoutes from \"./AppRoutes\"\n\nconst App = (props) => {\n\n    return (\n        <Router>\n            <AppRoutes {...props} />\n        </Router>\n    )\n}\n\nexport default App","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestUser(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveUser(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getUser = ({modelName = \"users\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestUser({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveUser(formData))\n        })\n\n}    \n\n\nexport const { requestUser, receiveUser } = userSlice.actions\nexport default userSlice.reducer","import { combineReducers } from '@reduxjs/toolkit'\n\nimport userReducer from './user/userSlice'\nimport siteReducer from './site/siteSlice'\nimport collectionReducer from './collection/collectionSlice'\n\nimport appReducer from './app/appSlice'\nimport finderReducer from './finder/finderSlice'\nimport editorReducer from './editor/editorSlice'\nimport bulkReducer from './bulk/bulkSlice'\n\nimport searchByUrlReducer from './searchByUrl/searchByUrlSlice'\n\nimport uploadByUrlReducer from './uploadByUrl/uploadByUrlSlice'\nimport modelsByIdReducer from './modelsById/modelsByIdSlice'\n\nexport default combineReducers({\n    user: userReducer,\n    site: siteReducer,\n    collection: collectionReducer,\n    app: appReducer,\n    editor: editorReducer,\n    finder: finderReducer,\n    bulk: bulkReducer,\n    modelsById: modelsByIdReducer,\n    searchByUrl: searchByUrlReducer,\n    uploadByUrl: uploadByUrlReducer,\n})","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger'\r\n\r\nimport rootReducer from \"./rootReducer\"\r\nconst middleware = [...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      // Ignore these action types\r\n      ignoredActions: ['editor/receiveDialog'],\r\n      // Ignore these field paths in all actions\r\n//      ignoredActionPaths: ['meta.arg', 'payload.timestamp'],\r\n      // Ignore these paths in the state\r\n//        ignoredPaths: ['items.dates']\r\n    }\r\n  }), logger]\r\n\r\nexport default configureStore({\r\n    reducer: rootReducer,\r\n    middleware\r\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export default {\n    search: {\n        \"Fetching data, please wait\": \"Henter data, vennligst vent\",\n        \"No hits\": \"Ingen treff\",\n        \"{{count}} hits\": \"{{count}} treff\",\n        \"{{page}} of {{pages}} pages\": \"Side {{page}} av {{pages}}\",\n        \"More results\": \"Flere resultater\",\n        \"Next page\": \"Neste side\",\n        \"Previous page\": \"Forrige side\",\n        \"Page {{page}}\": \"Side {{page}}\",\n        \"Searching, please wait\": \"Sker, vennligst vent\",\n        \"Loading page {{page}}\": \"Henter side {{page}}\",\n        \"All documents\": \"Alle dokumenter\",\n        \"Search for {{q}} in all documents\": \"{{q}} i alle dokumenter\",\n        \"Everything in {{scope}}\": \"Alt i {{scope}}\",\n        \"Search everything\": \"Sk i alt innhold\",\n        \"Search for {{q}} in everything\": \"{{q}} i alt innhold\",\n        \"Search in {{scope}}\": \"Sk i {{scope}}\",\n        \"Search for {{q}} in {{scope}}\": \"{{q}} i {{scope}}\",\n        \"{{count}} suggestions\": \"{{count}} forslag\",\n    },\n    editor: {\n        \"Loading\": \"Laster\",\n        \"Saving\": \"Lagrer\",\n        \"Save\": \"Lagre\",\n        \"Save as draft\": \"Lagre som utkast\",\n        \"Save and publish\": \"Lagre og publiser\",\n        \"Save and exit\": \"Lagre og avslutt\",\n        \"Save as\": \"Lagre som\",\n        \"Empty trash\": \"Tm papirkurv\",\n        \"Restore\": \"Gjenopprett\",\n        \"Erase\": \"Slett for alltid\"\n    },\n    layout: {\n        \"table\": \"Tabell\",\n        \"grid\": \"Grid\",\n        \"list\": \"Liste\",\n        \"gallery\": \"Galleri\",\n    },\n    dialog: {\n        \"Search\": \"Sk\",\n        \"Search documents\": \"Sk i dokumenter\",\n        \"Search media\": \"Sk i media\",\n        \"Search media/image\": \"Sk i bilder\",\n        \"Search media/video\": \"Sk i videoer\",\n        \"Search media/audio\": \"Sk i audio\",\n        \"Search media/misc\": \"Sk i filer\",\n        \"Search ekultur\": \"Sk i DigitaltMuseum\",\n        \"Search favorites\": \"Sk i favoritter\",\n        \"Search uploads\": \"Sk i opplastede filer\",\n        \"Search models\": \"Sk i referanser\",\n        \"Favorites\": \"Favoritter\",\n        \"Upload\": \"Last opp\",\n        \"Upload media\": \"Last opp media\",\n        \"media\": \"Media\",\n        \"media/*\": \"Media\",\n        \"media/image\": \"Bilder\",\n        \"media/image*\": \"Bilder\",\n        \"media/video\": \"Video\",\n        \"media/video*\": \"Video\",\n        \"media/audio\": \"Audio\",\n        \"media/audio*\": \"Audio\",\n        \"media/misc\": \"Filer\",\n        \"media/misc*\": \"Filer\",\n        \"media/youtube\": \"YouTube\",\n        \"media/vimeo\": \"Vimeo\",\n        \"media/sketchfab\": \"Sketchfab\",\n        \"documents/*\": \"Dokumenter\",\n        \"documents/ekultur\": \"Objekter\",\n        \"youtube\": \"YouTube\",\n        \"vimeo\": \"Vimeo\",\n        \"sketchfab\": \"Sketchfab\",\n        \"ekultur\": \"Objekter\",\n    },\n    upload: {\n        \"Uploading {{requested}} of {{received}}\": \"Laster opp {{requested}} av {{received}}\",\n        \"Click or drop files to upload\": \"Klikk eller dra filer her for  laste opp\",\n        \"Fetching unprocessed uploads\": \"Finner ubehandlede opplastninger\",\n        \"No unprocessed uploads\": \"Ingen ubehandlede opplastninger\",\n        \"{{count}} unprocessed uploads\": \"{{count}} ubehandlede opplastninger\",\n    },\n    view: {\n        \"{{rows}} rows\": \"{{rows}} rader\",\n    },\n    sort: {\n        \"title\": \"Sortert alfabetisk\",\n        \"updatedAt DESC\": \"Sist oppdatert\",\n        \"createdAt ASC\": \"Opprettet dato, frst\",\n        \"createdAt DESC\": \"Opprettet dato\",\n    },\n    mediaType: {\n        \"image\": \"Bilde\",\n        \"video\": \"Video\",\n        \"audio\": \"Audio\",\n    },\n    documentType: {\n        \"article\": \"Artikkel\",\n        \"pageHome\": \"Hjemmeside\",\n        \"pageTopic\": \"Tema\",\n        \"pageMap\": \"Kart\",\n        \"pageGrid\": \"Mosaikk\",\n        \"pageList\": \"Liste\",\n        \"pageAnnotate\": \"Bildekart\",\n        \"pageMedia\": \"Media\",\n        \"device\": \"Enhet\",\n    },\n    status: {\n        \"undefined\": \"Ukjent\",\n        \"error\": \"Feil\",\n        \"general\": \"N/A\",\n        \"draft\": \"Utkast\",\n        \"publish\": \"Publisert\",\n        \"trash\": \"Papirkurv\",\n        \"erased\": \"Slettet\",\n        \"restore\": \"Gjenopprettet\",\n        \"upload\": \"Ubehandlet\",\n        \"new\": \"Ny\",\n        \"copy\": \"Kopi\"\n    },\n    uploadStatus: {\n        \"init\": \"Laster opp\",\n        \"done\": \"Lastet opp\",\n        \"convert\": \"Konverterer media\",\n    },\n    bylineTitle: {\n        \"photographer\": \"Foto\",\n        \"rightsmanager\": \"Rettighetsforvalter\",\n        \"director\": \"Regissr\",\n        \"photograph\": \"Foto\",\n        \"vector\": \"Grafikk\",\n        \"illustration\": \"Illustrasjon\",\n        \"painting\": \"Maleri\",\n    },\n    license: {\n        \"copyright\": \"Opphavsrett\",\n        \"by\": \"Navngivelse\",\n        \"by-sa\": \"Navngivelse-DelPSammeVilkr\",\n        \"by-nd\": \"Navngivelse-IngenBearbeidelse\",\n        \"by-nc\": \"Navngivelse-IkkeKommersiell\",\n        \"by-nc-sa\": \"Navngivelse-IkkeKommersiell-DelPSammeVilkr\",\n        \"pdm\": \"Public Domain Mark\",\n        \"pdd\": \"Public Domain Dedication\",\n    },\n    licenseGroup: {\n        \"by\": \"Kan gjenbrukes ved navngivelse\",\n        \"by-nd\": \"Kan kun gjenbrukes ved tillatelse\",\n        \"by-nc\": \"Kan ikke gjenbrukes kommersielt\",\n        \"pd\": \"pne lisenser (kan gjenbrukes)\"\n    }\n}","import translations from \"./nb\"\n\nexport default {\n    ...translations\n}","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n// not like to use this?\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\nimport en from \"./translations/en\";\nimport nn from \"./translations/nn\";\nimport nb from \"./translations/nb\";\nimport sv from \"./translations/sv\";\n\n\ni18n\n    // load translation using xhr -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n    // learn more: https://github.com/i18next/i18next-xhr-backend\n//    .use(Backend)\n    // detect user language\n    // learn more: https://github.com/i18next/i18next-browser-languageDetector\n    .use(LanguageDetector)\n    // pass the i18n instance to react-i18next.\n    .use(initReactI18next)\n    // init i18next\n    // for all options read: https://www.i18next.com/overview/configuration-options\n    .init({\n\n        resources: {\n            en: en,\n            nb: nb,\n            nn: nn,\n            sv: sv\n        },\n\n        fallbackLng: 'en',\n        debug: true,\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        }\n    });\n\n\nexport default i18n;","export default {\n    editor: {\n        \"Loading\": \"Loading\",\n        \"Saving\": \"Saving\",\n        \"Save\": \"Save\",\n        \"Save as draft\": \"Save as draft\",\n        \"Save and publish\": \"Save and publish\",\n        \"Save and exit\": \"Save and exit\",\n        \"Save as\": \"Save as\"\n    }\n}","export default {\n    editor: {\n        \"Loading\": \"Lsa\",\n        \"Saving\": \"Spara\",\n        \"Save\": \"Spara\",\n        \"Save as draft\": \"Spara som utkast\",\n        \"Save and publish\": \"Spara och publicera\",\n        \"Save and exit\": \"Spare och avsluta\",\n        \"Save as\": \"Spare som\"\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport * as serviceWorker from './serviceWorker';\n\n// i18next\nimport './i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}