{"version":3,"sources":["redux/settings.js","redux/bulk/bulkSlice.js","redux/modelsById/modelsByIdSlice.js","redux/finder/finderSlice.js","redux/app/appSlice.js","app/settings/kiosk/theme.js","app/settings/kiosk/action.js","app/settings/kiosk/index.js","app/settings/kiosk/app.js","app/settings/kiosk/menu.js","components/App/utils/theme.overrides.js","components/App/utils/createAppTheme.js","components/App/AppBase.js","components/App/AppBody.js","components/NavAction/NavActionButton.js","components/NavAction/NavActionDropdown.js","components/NavAction/NavActionMenuList.js","components/NavAction/NavActionMenuItem.js","components/NavAction/NavActionMenuLink.js","components/NavAction/NavActionMenu.js","components/NavAction/NavActionItem.js","components/NavAction/NavAction.js","components/NavMenu/NavMenuList.js","components/NavMenu/NavMenuItem.js","components/NavMenu/NavMenuLink.js","components/NavMenu/NavMenuLabel.js","components/NavMenu/NavMenu.js","components/App/AppSidebar.js","components/App/AppContent.js","components/NavSearch/NavSearch.js","components/App/AppSearch.js","components/App/AppIdentifier.js","components/NavPath/NavPathList.js","components/NavPath/NavPath.js","components/NavPath/NavPathItem.js","components/App/AppSubview.js","components/App/AppHeader.js","components/App/AppInfo.js","components/App/AppLayout.js","redux/site/siteSlice.js","redux/collection/collectionSlice.js","components/Loader/Loader.js","icons/AppIcon.js","icons/MenuIcon.js","icons/EditorIcon.js","components/KpIcons/Article.js","components/KpIcons/Object.js","components/KpIcons/Device.js","components/KpIcons/DeviceMac.js","components/KpIcons/DeviceWin.js","components/KpIcons/PageHome.js","components/KpIcons/PageGrid.js","components/KpIcons/PageMedia.js","components/KpIcons/PageTimeline.js","components/KpIcons/PageList.js","components/KpIcons/PageAnnotate.js","components/KpIcons/PageMap.js","components/KpIcons/PageParent.js","components/KpIcons/ImageFolder.js","components/KpIcons/VideoFolder.js","components/KpIcons/AudioFolder.js","components/KpIcons/AppIcon.js","components/KpIcons/KioskApp.js","components/KpIcons/MenuIcon.js","components/KpIcons/KioskMenu.js","components/KpIcons/EditorIcon.js","components/KpIcons/KioskEditor.js","app/settings/kp/theme.js","components/KpIcons/KpApp.js","components/KpIcons/KpMenu.js","components/KpIcons/KpEditor.js","components/KpIcons/index.js","icons/index.js","app/AppLoader.js","redux/searchByUrl/searchByUrlSlice.js","app/AppSearch.js","components/Finder/FinderBase.js","components/Finder/FinderSidebar.js","components/Finder/FinderSection.js","components/View/ViewBase.js","components/Finder/FinderHeader.js","components/Finder/FinderBody.js","components/Finder/FinderLayout.js","components/NavView/NavView.js","components/NavView/ViewOptions.js","components/NavView/NavViewButton.js","components/NavView/RowsOptions.js","components/NavView/SortOptions.js","components/NavView/SizeOptions.js","components/View/ViewHeader.js","components/View/ViewLoader.js","components/View/ViewPages.js","components/View/EmptyView.js","components/ListView/ListView.js","components/Module/ModuleBase.js","components/Module/ModuleSelect.js","components/Module/ModulePrefix.js","components/Module/ModuleImage.js","components/Module/ModuleIcon.js","components/Module/ModuleMedia.js","components/Module/ModuleTitle.js","components/Module/utils/getContrastColor.js","components/Module/ModuleLabel.js","components/Module/ModuleMetadata.js","components/Module/ModuleDescription.js","components/Module/ModuleStatus.js","components/Module/ModuleDate.js","components/Module/ModuleByline.js","components/NavToolbar/NavToolbarOptions.js","components/NavToolbar/NavToolbarSettings.js","components/NavToolbar/ButtonSelect.js","components/NavToolbar/NavToolbarButton.js","components/NavToolbar/getToolbar.js","components/NavToolbar/NavToolbar.js","components/NavSettings/ListSettings.js","components/NavSettings/GridSettingsList.js","components/NavSettings/NavSettings.js","components/NavSettings/GridSettings.js","components/Module/CollapsedModule.js","components/Module/ModuleFormat.js","components/Module/ModuleTabs.js","components/Module/ModuleHeader.js","components/Module/ModuleBody.js","components/Module/ModuleFooter.js","components/Module/ModuleButtons.js","components/Module/ExpandedModule.js","components/Module/Module.js","components/Module/ModuleIdentifier.js","components/Module/ModuleToolbar.js","components/Module/ModuleActionbar.js","components/Module/ModuleSettings.js","components/ListView/ListModule.js","components/ListView/utils/getImageUrl.js","components/TableView/TableHead.js","components/TableView/TableView.js","components/TableView/TableModule.js","components/TableView/utils/getImageUrl.js","components/GalleryView/utils/getGallery.js","components/GalleryView/Gallery.js","components/GalleryView/GalleryView.js","components/GalleryView/GalleryModule.js","components/GalleryView/utils/getImageUrl.js","components/MasonryView/Masonry.js","components/MasonryView/MasonryView.js","components/MasonryView/MasonryModule.js","components/MasonryView/utils/getImageUrl.js","components/IconsView/IconsView.js","components/IconsView/IconsModule.js","components/GridView/GridModule.js","components/GridView/GridView.js","components/TreeView/TreeView.js","components/TreeView/TreeList.js","components/TreeView/TreeModule.js","components/ColumnView/ColumnView.js","components/ColumnView/ColumnList.js","components/ColumnView/ColumnModule.js","app/utils/getUiPreview.js","components/KpEditor/schemas/article/section/mediaSize.js","components/KpEditor/schemas/article/section/mediaFormat.js","components/KpEditor/schemas/article/index.js","components/KpEditor/schemas/article/schema.js","components/KpEditor/schemas/article/section/schema.js","components/KpEditor/schemas/article/section/sectionType.js","components/KpEditor/schemas/article/section/sectionText.js","components/KpEditor/schemas/article/section/sectionMedia.js","components/KpEditor/schemas/article/section/media.js","components/KpEditor/schemas/article/section/sectionDm.js","components/KpEditor/schemas/article/section/ekultur.js","components/KpEditor/schemas/article/section/sectionLinks.js","components/KpEditor/schemas/article/section/sectionAttachments.js","components/KpEditor/schemas/article/section/attachments.js","components/KpEditor/schemas/article/section/sectionQuote.js","components/KpEditor/schemas/article/uiSchema.js","components/KpEditor/schemas/article/uiPreview.js","components/KpEditor/schemas/article/settings/uiSchema.js","components/KpEditor/schemas/article/header/uiSchema.js","components/KpEditor/schemas/article/body/uiSchema.js","components/KpEditor/schemas/article/section/uiSchema.js","components/KpEditor/schemas/article/section/uiPreview.js","components/KpEditor/schemas/article/section/mediaUi.js","components/KpEditor/schemas/article/section/attachmentsUi.js","components/KpEditor/schemas/article/section/ekulturUi.js","components/KpEditor/schemas/article/section/linksUi.js","components/KpEditor/schemas/article/isPartOf/uiSchema.js","components/KpEditor/schemas/object/index.js","components/KpEditor/schemas/object/schema.js","components/KpEditor/schemas/object/uiSchema.js","components/KpEditor/schemas/object/uiPreview.js","components/KpEditor/schemas/device/uiSchema.js","components/KpEditor/schemas/device/uiPreview.js","components/KpEditor/schemas/device/index.js","components/KpEditor/schemas/device/schema.js","components/KpEditor/schemas/device/PreviewTemplate.js","components/KpEditor/KpDeviceField.js","components/KpEditor/KpDeviceLinkField.js","components/KpEditor/KpLocation/GeopointField.js","components/KpEditor/KpLocation/GeopointLoader.js","components/KpEditor/KpLocation/GeopointBase.js","components/KpEditor/KpLocation/GeopointMap.js","components/KpEditor/KpLocation/GeopointMapCenter.js","components/KpEditor/KpLocation/GeopointPreview.js","components/KpEditor/KpLocation/GeopointSearch.js","components/KpEditor/KpLocation/GeopointEditor.js","components/KpEditor/KpLocation/Geopoint.js","components/KpEditor/KpLocation/Geocoder.js","components/KpEditor/KpLocation/registry.js","components/KpEditor/KpPageField.js","components/KpEditor/KpLink.uiSchema.js","components/KpEditor/KpLink.model.js","components/KpEditor/KpLink.schema.js","components/KpEditor/KpLinkMediaLayout.js","components/KpEditor/KpLinkModule.js","components/utils/getImageUrl.js","components/KpEditor/KpLinkReferenceLayout.js","components/KpEditor/KpLinkContentField.js","components/KpEditor/KpLinkField.js","components/KpEditor/KpLinkLayout.js","components/KpEditor/KpAnnotateImageField.js","components/KpEditor/KpAnnotateLinks.model.js","components/KpEditor/KpAnnotateLinks.uiSchema.js","components/KpEditor/KpAnnotateLinksField.js","components/KpEditor/registry.js","components/DocumentEditor/DocumentParentIdField.js","components/DocumentEditor/DocumentListRemove.js","components/DocumentEditor/DocumentParentsField.js","components/DocumentEditor/DocumentListSearch.js","components/DocumentEditor/DocumentChildrenField.js","components/DocumentEditor/DocumentLocaleField.js","components/DocumentEditor/DocumentCollectionIdField.js","components/DocumentEditor/registry.js","components/ReferenceEditor/ReferenceField.js","components/ReferenceEditor/registry.js","components/ThemeEditor/ThemePaletteColor.schema.js","components/ThemeEditor/ThemePalette.schema.js","components/ThemeEditor/ThemeEditor.schema.js","components/CollectionEditor/CollectionEditor.schema.js","components/ThemeEditor/ThemePaletteColor.uiSchema.js","components/ThemeEditor/ThemeEditor.uiSchema.js","components/CollectionEditor/CollectionEditor.model.js","components/CollectionEditor/CollectionEditor.uiSchema.js","components/CollectionEditor/CollectionSiteIdField.js","components/CollectionEditor/registry.js","components/PageEditor/PageEditorField.js","components/Editor/EditorBase.js","components/Editor/EditorPath.js","components/NavLocale/LocaleIcon.js","components/NavLocale/NavLocale.js","components/Editor/EditorLocale.js","components/Editor/EditorStatus.js","components/Editor/EditorAction.js","components/Editor/EditorToogle.js","components/Editor/EditorHeader.js","components/Editor/EditorFooter.js","components/Editor/EditorBody.js","components/Editor/EditorContent.js","components/Editor/EditorSection.js","components/Editor/EditorSidebar.js","components/Editor/EditorPreview.js","components/Editor/EditorOverlay.js","components/Editor/EditorLayout.js","components/PageEditor/PageEditorLayout.js","components/PageEditor/PageContentField.js","components/PageEditor/PageMenu.js","components/PageEditor/PageContentLayout.js","components/PageEditor/PageSettingsField.js","components/PageEditor/PageSettingsLayout.js","components/PageEditor/registry.js","components/ThemeEditor/ThemeEditor.model.js","components/ThemeEditor/ThemePalette.model.js","components/ThemeEditor/ThemePaletteField.js","components/ThemeEditor/ThemePaletteColorField.js","components/ThemeEditor/ThemeColorWidget.js","components/ThemeEditor/registry.js","components/LocalizedString/LocalizedStringSettings.js","components/LocalizedString/LocalizedStringField.js","components/LocalizedString/registry.js","components/PrimusEditor/PrimusObjectFieldTemplate.js","components/PrimusEditor/utils/getMeasure.js","components/PrimusEditor/utils/getUpload.js","components/PrimusEditor/utils/getUploadProps.js","components/PrimusEditor/utils/getEventsProps.js","components/PrimusEditor/utils/arrayUtils.js","components/PrimusEditor/utils/getUiFieldset.js","components/PrimusEditor/utils/getUiMenu.js","components/PrimusEditor/PrimusEditorField.js","components/PrimusEditor/utils/getPrimusEventsMenu.js","components/PrimusEditor/utils/getPrimusMediaMenu.js","components/PrimusEditor/utils/getEditorAction.js","components/PrimusEditor/PrimusEditorLayout.js","components/PrimusEditor/PrimusContentField.js","components/PrimusEditor/PrimusContentLayout.js","components/PrimusEditor/PrimusSectionField.js","components/PrimusEditor/PrimusSectionLayout.js","components/PrimusMedia/PrimusMediaArrayTemplate.js","components/PrimusMedia/ImageEditor.schema.js","components/PrimusMedia/ImageEditor.uiSchema.js","components/PrimusMedia/PrimusMedia.model.js","components/PrimusMedia/PrimusMedia.schema.js","components/PrimusMedia/PrimusMedia.uiSchema.js","components/PrimusMedia/ImageEditorToolbar.js","components/PrimusMedia/ImageEditorNavigation.js","components/PrimusMedia/ImagePreviewToolbar.js","components/PrimusMedia/ImagePreview.js","components/PrimusMedia/utils/getImagePoint.js","components/PrimusMedia/ImageAnnotationsMarkerDefault.js","components/PrimusMedia/ImageAnnotationsBase.js","components/PrimusMedia/ImageAnnotationsMarkerPrimus.js","components/PrimusMedia/ImageAnnotations.js","components/PrimusMedia/ImageCropperBase.js","components/PrimusMedia/ImageCropper.js","components/PrimusMedia/ImageEditorLayout.js","components/PrimusMedia/ImageEditor.model.js","components/PrimusMedia/PrimusMediaTheme.js","components/PrimusMedia/ImageEditorField.js","components/PrimusMedia/PrimusMediaEditorField.js","components/PrimusEditor/PrimusMediaField.js","components/PrimusEditor/PrimusMediaLayout.js","components/PrimusEditor/SelectAdornmentWidget.js","components/PrimusEditor/SelectNativeWidget.js","components/PrimusEditor/PrimusFieldsetLayout.js","components/PrimusEditor/AutocompleteOptionsField.js","components/PrimusEditor/KnavSearchField.js","components/PrimusEditor/AutocompleteTagsField.js","components/PrimusEditor/AutocompleteListField.js","components/PrimusEditor/KnavTagsField.js","components/PrimusEditor/PersonRoleField.js","components/PrimusEditor/PersonStatusField.js","components/PrimusEditor/DesignationField.js","components/PrimusEditor/Designation.model.js","components/PrimusEditor/Designation.schema.js","components/PrimusEditor/Designation.uiSchema.js","components/PrimusEditor/DesignationTagsField.js","components/PrimusEditor/ClassificationField.js","components/PrimusEditor/Classification.model.js","components/PrimusEditor/Classification.schema.js","components/PrimusEditor/ClassificationTagsField.js","components/PrimusEditor/MaterialField.js","components/PrimusEditor/Material.model.js","components/PrimusEditor/Material.schema.js","components/PrimusEditor/Material.uiSchema.js","components/PrimusEditor/MaterialTagsField.js","components/PrimusEditor/TechniqueField.js","components/PrimusEditor/Technique.model.js","components/PrimusEditor/Technique.schema.js","components/PrimusEditor/Technique.uiSchema.js","components/PrimusEditor/TechniqueTagsField.js","components/PrimusEditor/Color.model.js","components/PrimusEditor/Color.schema.js","components/PrimusEditor/Color.uiSchema.js","components/PrimusEditor/ColorTagsDropImage.js","components/PrimusEditor/ColorTagsAutocomplete.js","components/PrimusEditor/ColorTagsField.js","components/PrimusEditor/Measure.model.js","components/PrimusEditor/Measure.schema.js","components/PrimusEditor/Measure.uiSchema.js","components/PrimusEditor/MeasureTypeField.js","components/PrimusEditor/TextFieldPopper.js","components/PrimusEditor/MeasureField.js","components/PrimusEditor/MeasuresListField.js","components/PrimusEditor/MeasureTagsAutocompleteField.js","components/PrimusEditor/MeasureTagsField.js","components/PrimusEditor/PersonField.js","components/PrimusEditor/Person.schema.js","components/PrimusEditor/PersonRole.schema.js","components/PrimusEditor/Person.model.js","components/PrimusEditor/Person.uiSchema.js","components/PrimusEditor/KnavListLayout.js","components/PrimusEditor/KnavListItemLayout.js","components/PrimusEditor/KnavListArrayField.js","components/PrimusEditor/ListSearch.js","components/PrimusEditor/ListSearchLayout.js","components/PrimusEditor/ListResultsLayout.js","components/PrimusEditor/ListResultsItemLayout.js","components/PrimusEditor/ListResultsAddLayout.js","components/PrimusEditor/KnavListSearchField.js","components/PrimusEditor/KnavListField.js","components/PrimusEditor/PeopleListField.js","components/PrimusEditor/PeopleTagsField.js","components/PrimusEditor/PlaceStatusField.js","components/PrimusEditor/PlaceField.js","components/PrimusEditor/Place.schema.js","components/PrimusEditor/Place.model.js","components/PrimusEditor/Place.uiSchema.js","components/PrimusEditor/PlacesListField.js","components/PrimusEditor/PlaceTagsField.js","components/PrimusEditor/SearchAutocomplete.js","components/PrimusEditor/ObjectSearchField.js","components/PrimusEditor/ObjectField.js","components/PrimusEditor/Dating.schema.js","components/PrimusEditor/Dating.model.js","components/PrimusEditor/Dating.uiSchema.js","components/PrimusEditor/DatingField.js","components/PrimusEditor/EventType.schema.js","components/PrimusEditor/Event.model.js","components/PrimusEditor/Event.schema.js","components/PrimusEditor/Event.uiSchema.js","components/PrimusEditor/EventField.js","components/PrimusEditor/EventTypeField.js","components/PrimusEditor/EventType.model.js","components/PrimusEditor/EventType.uiSchema.js","components/PrimusEditor/EventsListField.js","components/PrimusEditor/LicenseIcons.js","components/PrimusEditor/icons/CC.js","components/PrimusEditor/icons/By.js","components/PrimusEditor/icons/Nd.js","components/PrimusEditor/icons/Nc.js","components/PrimusEditor/icons/Sa.js","components/PrimusEditor/icons/Pd.js","components/PrimusEditor/icons/Pdm.js","components/PrimusEditor/icons/Copyright.js","components/PrimusEditor/LicenseFieldAutocomplete.js","components/PrimusEditor/LicenseField.data.js","components/PrimusEditor/LicenseField.js","components/PrimusEditor/registry.js","components/PrimusMedia/PrimusMediaSectionField.js","components/PrimusMedia/PrimusMediaSectionLayout.js","components/PrimusMedia/ImageAnnotationsSectionField.js","components/PrimusMedia/ImageAnnotationsSectionLayout.js","components/PrimusMedia/ImageAnnotationsModuleField.js","components/PrimusMedia/ImageAnnotationsModuleLayout.js","components/NavToolbar/ButtonEdit.js","components/NavToolbar/ButtonView.js","components/NavToolbar/ButtonLink.js","components/NavToolbar/ButtonAdd.js","components/NavToolbar/ButtonRemove.js","components/NavToolbar/ButtonDelete.js","components/NavToolbar/ButtonRestore.js","components/NavToolbar/ButtonErase.js","components/PrimusMedia/registry.js","components/registry.js","components/KpEditor/schemas/page/schema.js","components/KpEditor/schemas/page/itemsUi.js","components/KpEditor/schemas/page/uiSchema.js","components/KpEditor/schemas/page/uiPreview.js","components/KpEditor/schemas/page/index.js","components/KpEditor/schemas/pageHome/schema.js","components/KpEditor/schemas/pageHome/itemsUi.js","components/KpEditor/schemas/pageHome/uiSchema.js","components/KpPreview/PageHeader.js","components/KpPreview/GridModule.js","components/KpPreview/utils/getPreviewItem.js","components/KpPreview/PreviewFormat.js","components/KpPreview/Grid.js","components/KpEditor/schemas/pageHome/index.js","components/KpEditor/schemas/pageHome/PreviewTemplate.js","components/KpEditor/schemas/pageTopic/schema.js","components/KpEditor/schemas/pageTopic/itemsUi.js","components/KpEditor/schemas/pageTopic/index.js","components/KpEditor/schemas/pageTopic/uiSchema.js","components/KpEditor/schemas/pageMap/schema.js","components/KpEditor/schemas/pageMap/itemsUi.js","components/KpEditor/schemas/pageMap/uiSchema.js","components/KpPreview/DefaultMapMarker.js","components/KpPreview/DefaultMap.js","components/KpPreview/RoundtripMapMarker.js","components/KpPreview/RoundtripMap.js","components/KpEditor/schemas/pageMap/PreviewTemplate.js","components/KpEditor/schemas/pageMap/index.js","components/KpEditor/schemas/pageGrid/schema.js","components/KpEditor/schemas/pageGrid/itemsUi.js","components/KpEditor/schemas/pageGrid/index.js","components/KpEditor/schemas/pageGrid/uiSchema.js","components/KpEditor/schemas/pageGrid/PreviewTemplate.js","components/KpEditor/schemas/pageList/schema.js","components/KpEditor/schemas/pageList/itemsUi.js","components/KpEditor/schemas/pageList/index.js","components/KpEditor/schemas/pageList/uiSchema.js","components/KpEditor/schemas/pageList/PreviewTemplate.js","components/KpEditor/schemas/pageTimeline/schema.js","components/KpEditor/schemas/pageTimeline/uiSchema.js","components/KpPreview/TimelineModule.js","components/KpPreview/Timeline.js","components/KpEditor/schemas/pageTimeline/index.js","components/KpEditor/schemas/pageTimeline/PreviewTemplate.js","components/KpEditor/schemas/pageAnnotate/schema.js","components/KpEditor/schemas/pageAnnotate/itemsUi.js","components/KpEditor/schemas/pageAnnotate/uiSchema.js","components/KpPreview/AnnotateImagemap.js","components/KpPreview/utils/getContrastColor.js","components/KpPreview/AnnotateLegends.js","components/KpPreview/Annotate.js","components/KpEditor/schemas/pageAnnotate/index.js","components/KpEditor/schemas/pageAnnotate/PreviewTemplate.js","components/KpEditor/schemas/pageMedia/schema.js","components/KpEditor/schemas/pageMedia/itemsUi.js","components/KpEditor/schemas/index.js","components/KpEditor/schemas/pageMedia/index.js","components/KpEditor/schemas/pageMedia/uiSchema.js","components/KpEditor/schemas/pageMedia/PreviewTemplate.js","app/schemas/index.js","app/utils/getSchemaModel.js","app/FinderModel.js","app/utils/getUiModel.js","app/FinderViewList.js","app/FinderViewGrid.js","app/FinderViewTable.js","app/FinderViewIcons.js","app/FinderViewGallery.js","app/FinderViewMasonry.js","redux/tree/treeSlice.js","app/FinderViewTree.js","app/FinderViewCols.js","app/FinderView.js","app/FinderViewApps.js","app/FinderResults.js","app/FinderQuery.js","components/PrimusPreview/ArticleBase.js","components/PrimusPreview/ArticleHeader.js","components/PrimusPreview/ArticleTypography.js","components/PrimusPreview/ArticleSection.js","components/PrimusPreview/MediaSlideshow.js","components/PrimusPreview/MetaList.js","components/PrimusPreview/MetaListItem.js","components/PrimusPreview/MetaLabel.js","components/PrimusPreview/MetaValue.js","components/PrimusPreview/MetaCode.js","components/PrimusPreview/Measures.js","components/PrimusPreview/Metadata.js","components/PrimusPreview/Classifications.js","components/PrimusPreview/Motif.js","components/PrimusPreview/Events.js","components/PrimusPreview/Colors.js","components/PrimusPreview/PreviewTemplate.js","components/PrimusPreview/DocumentPreview.js","components/PrimusPreview/EkulturPreview.js","components/PrimusPreview/KnavPreview.js","components/PrimusPreview/PersonPreview.js","components/PrimusPreview/PreviewScroller.js","app/BulkPreviewList.js","components/PrimusPreview/PreviewCols.js","components/PrimusPreview/PreviewGrid.js","app/BulkPreviewGallery.js","app/BulkPreviewMasonry.js","app/BulkPreview.js","app/BulkEditor.js","app/FinderLoader.js","app/Finder.js","redux/editor/editorSlice.js","app/EditorLoader.js","Dialog/DialogBase.js","Dialog/DialogFooter.js","Dialog/DialogSearch.js","Dialog/DialogTabs.js","Dialog/DialogHeader.js","Dialog/DialogSection.js","Dialog/ResultsLoader.js","Dialog/ResultsFooter.js","Dialog/DialogModel.js","Dialog/ResultsList.js","Dialog/ResultsGallery.js","Dialog/ResultsHeader.js","Dialog/ResultsUploads.js","Dialog/MediaResults.js","Dialog/DocumentsResults.js","Dialog/SearchResultsDefault.js","Dialog/SearchResults.js","Dialog/SearchDialog.js","Dialog/FavouritesDialog.js","redux/uploadByUrl/uploadByUrlSlice.js","Dialog/DialogUpload.js","Dialog/UploadDialog.js","Dialog/MediaDialog.js","Dialog/DocumentsDialog.js","Dialog/Dialog.js","app/EditorDialog.js","app/EditorSchema.js","app/Editor.js","app/AppSettings.js","app/DocumentPreview.js","components/PrimusEditor/schemas/artwork/schema.js","components/PrimusEditor/Artwork.model.js","components/PrimusEditor/schemas/artwork/index.js","components/PrimusEditor/schemas/artwork/uiSchema.js","components/PrimusEditor/schemas/artwork/basis.uiSchema.js","components/PrimusEditor/schemas/artwork/measure.uiSchema.js","components/PrimusEditor/schemas/artwork/metadata.uiSchema.js","components/PrimusEditor/schemas/artwork/motif.uiSchema.js","components/PrimusEditor/schemas/artwork/appearance.uiSchema.js","components/PrimusEditor/schemas/artwork/events.uiSchema.js","components/PrimusEditor/schemas/artwork/media.uiSchema.js","components/PrimusEditor/ArtworkPreview.js","app/DocumentEditor.js","app/DocumentViewer.js","app/MediaEditor.js","app/KpRoutes.js","app/settings/kp/action.js","app/settings/kp/index.js","app/settings/kp/app.js","app/settings/kp/menu.js","app/KpApp.js","app/settings/app.js","app/settings/theme.js","app/settings/menu.js","app/settings/action.js","app/AppRoutes.js","app/App.js","app/index.js","redux/user/userSlice.js","redux/rootReducer.js","redux/store.js","serviceWorker.js","translations/nb.js","translations/nn.js","i18n.js","translations/en.js","translations/sv.js","index.js"],"names":["API","bulkSlice","createSlice","name","initialState","items","count","isLoading","isSaving","formData","schema","bulkSchema","reducers","requestBulk","state","action","receiveBulkEditor","payload","bulkChange","bulkAdd","uniqueId","bulkItems","includes","bulkRemove","filter","id","length","bulkToggle","dispatch","getState","bulk","bulkReset","actions","modelsByIdSlice","requestModel","receiveModel","receiveModelProps","props","requestParents","parents","receiveParents","requestChildren","children","receiveChildren","requestReferences","references","receiveReferences","receiveParentId","parentId","receiveStatus","status","requestSave","receiveSave","getModel","modelName","sourceId","source","fetch","method","headers","then","response","json","error","console","log","loadModel","url","deleteModel","data","eraseModel","addDocumentSource","model","callback","undefined","toLowerCase","schemaId","JSON","stringify","body","addMediaSource","finderByIdSlice","sortOptions","sort","rowsOptions","rows","viewOptions","view","primaryAction","parent","parentsByUrl","menu","menuByUrl","menuById","sidebar","expanded","requestFinder","receiveFinder","expandSidebar","collapseSidebar","toggleSidebar","receiveSidebar","collapseView","expandView","receiveView","expandPreview","preview","collapsePreview","receivePreview","expandEditor","editor","collapseEditor","receiveEditor","requestViewOptions","receiveViewOptions","receiveSort","requestSortOptions","receiveSortOptions","requestPrimaryAction","receivePrimaryAction","requestMenu","receiveMenu","requestMenuByUrl","receiveMenuByUrl","requestMenuItem","item","receiveMenuItem","moveMenuItem","destination","expandMenuItem","collapseMenuItem","toggleMenuItem","getMenu","siteName","root","collectionId","getChild","sections","pathname","search","query","startsWith","replace","models","child","map","section","menuItem","getChildren","forEach","push","rootMenu","getPrimaryAction","getParents","finder","pathUrl","path","split","join","role","getEditor","requestMenuTree","receiveMenuTree","requestMenuTreeItem","receiveMenuTreeItem","appSlice","icon","version","title","siteTitle","siteId","theme","palette","type","header","subview","requestApp","collectionType","receiveApp","receiveTheme","toggleDarkMode","receiveAppSite","receiveAppCollection","requestSubview","receiveSubview","requestLayout","receiveLayout","toggleSearch","collapseSearch","toggleHeader","expandHeader","collapseHeader","toggleSubview","requestSchemasByName","schemasByName","receiveSchemasByName","receiveMenuItemByUrl","getApp","app","getAppProperties","getFinder","subtitle","documentType","mediaType","languages","MuiInputBase","fontFamily","lineHeight","MuiFilledInput","borderTopLeftRadius","borderTopRightRadius","MuiFormLabel","MuiFormHelperText","MuiButtonGroup","grouped","MuiButton","fontWeight","textTransform","borderRadius","outlined","getColor","color","Color","hex","getPalette","primaryColor","secondaryColor","primary","main","secondary","createAppTheme","createMuiTheme","typography","overrides","useStyles","makeStyles","position","backgroundColor","background","default","zIndex","top","right","left","bottom","overflow","display","flexDirection","AppBase","className","classes","ThemeProvider","defaultProps","flexGrow","transition","AppBody","aria-expanded","marginRight","spacing","marginLeft","toggle","width","ActionButton","forwardedRef","size","variant","disabled","controls","onClick","onToggle","label","ButtonGroup","aria-label","ref","dropdown","minWidth","NavActionDropdown","open","anchorEl","placement","onClickAway","Popper","style","ClickAwayListener","Paper","elevation","square","actionList","paddingTop","paddingBottom","ActionMenuList","actionListItem","padding","borderTop","borderTopColor","divider","marginTop","ActionMenuItem","ListItem","actionLink","paddingLeft","paddingRight","text","fontSize","ActionMenuLink","description","ListItemIcon","ListItemText","NavMenu","icons","onSelect","_onToggle","event","renderLink","selected","_onSelect","renderItem","index","hidden","key","NavActionItem","useState","setExpanded","anchorRef","useRef","prevExpanded","NavActionButton","current","NavActionMenu","NavAction","boxSizing","listStyle","margin","MenuList","opacity","toggleCollapsed","transform","toggleExpanded","fontStyle","MenuToggle","toggleIcon","IconButton","MenuItem","alignItems","justifyContent","light","dark","flexBasis","textAlign","MenuLink","ButtonBase","aria-selected","Typography","component","align","noWrap","nowrap","marginBottom","NavMenuLabel","NavMenuCalendar","currentUrl","NavMenuLink","NavMenuList","calendar","NavMenuItem","renderLabel","AppSidebar","height","field","input","border","outline","reset","NavSearch","InputProps","inputRef","inputProps","inputClassName","placeholder","value","onChange","onFocus","onBlur","onReset","ButtonReset","ButtonToggle","disableRipple","startAdornment","endAdornment","InputBase","growingField","growingInput","suggestRoot","suggestOverlay","pointerEvents","suggestPopper","suggestPaper","boxShadow","shadows","suggestList","suggestListItem","suggestIcon","suggestLabel","suggestCount","suggestQuery","textDecoration","content","suggestGroupList","suggestGroupLabel","AppSearch","options","scopes","suggest","autocompleteProps","fieldClassName","scopeOptions","option","suggestOptions","_getOptionHighlight","q","matches","match","parse","part","highlight","suggestHighlight","_getOptionQuery","Autocomplete","popper","paper","listbox","groupUl","groupLabel","fullWidth","disablePortal","filterOptions","inputValue","filtered","matchSorter","keys","baseSort","a","b","renderGroup","group","renderOption","getOptionLabel","renderInput","target","identifier","contrastText","breakpoints","down","AppIdentifier","cursor","link","NavPath","untitled","NavPathLink","Link","NavPathTitle","NavPathDescription","NavPathIdentifier","Breadcrumbs","separator","back","AppSubview","onBack","button","rigth","growingSearch","AppHeader","ButtonSidebar","ButtonSearch","collapsibleSidebar","collapsible","AppBar","wrapper","info","AppInfo","appIcon","up","navAction","navCalendar","navMenu","AppLayout","siteSlice","requestSite","receiveSite","requestSiteCollections","collections","receiveSiteCollections","collectionSlice","requestCollection","receiveCollection","getCollectionById","apiUrl","collection","getCollectionByType","results","loader","Loader","imageUrl","data-is-loading","colors","AppIcon","SvgIcon","viewBox","x","y","fill","dominantBaseline","textAnchor","fillRule","clipRule","d","variants","MenuIcon","IconTemplate","EditorIcon","fillOpacity","ArticleIcon","ObjectIcon","DeviceIcon","fill-rule","clip-rule","DeviceMacIcon","DeviceWinIcon","PageHomeIcon","PageGridIcon","PageMediaIcon","cx","cy","r","PageListIcon","PageAnnotateIcon","PageMapIcon","PageParentIcon","AudioFolder","kioskColor","kioskTheme","KioskAppIcon","KioskMenuIcon","KioskEditorIcon","kpColor","kpTheme","KpAppIcon","KpMenuIcon","KpEditorIcon","KpEditor","KpMenu","KioskEditor","KioskMenu","Article","PageHome","PageGrid","PageMap","PageMedia","PageAnnotate","PageTimeline","PageList","PageParent","Device","DeviceMac","DeviceWin","VideoFolder","ImageFolder","kpIcons","AppLoader","useDispatch","useEffect","getCollection","useSelector","searchByUrlSlice","requestSearch","page","receiveError","toString","receiveSearch","requestPage","receivePage","nextPage","prevPage","start","pages","Math","ceil","currentPage","resultsByPage","resultsLoaded","Object","values","concat","p","getQuery","sq","qs","PrimusSearch","useTranslation","t","i18n","location","useLocation","history","useHistory","setInputValue","setQ","_","debounce","hash","searchByUrl","currentSearch","currentResults","setSuggest","scope","freeSolo","disableClearable","autoHighlight","groupBy","reason","searchUrl","onInputChange","searchProps","childrenWithProps","React","Children","isValidElement","cloneElement","FinderBase","FinderSidebar","overflowY","FinderSection","backgroundImage","alpha","rgb","getBackgroundImage","ViewBase","viewRef","onScroll","nav","NavView","onView","onRows","onSort","sizeOptions","onSize","buttongroup","borderColor","borderLeft","ViewOptions","_onChange","arrow","NavViewButton","RowsOptions","currentOption","find","SortOptions","control","slider","SizeOptions","min","max","defaultValue","Slider","minHeight","toolbar","ViewHeader","viewAction","loading","ViewLoader","CircularProgress","ViewPages","onPage","Pagination","LoadingView","message","list","ListView","footer","ModuleBase","deleted","erased","data-status","data-deleted","data-erased","data-elevated","active","check","selectButton","borderButton","ModuleSelect","ModulePrefix","selectable","cropbox","maxWidth","maxHeight","transformOrigin","userSelect","image","ModuleImage","layout","coverStyle","backgroundPosition","backgroundSize","backgroundRepeat","src","ModuleIcon","media","ModuleTitle","data-name","data-untitled","getContrastColor","isDark","ModuleLabel","ModuleMetadata","metadata","ModuleDescription","ModuleStatus","whiteSpace","textOverflow","ModuleDate","date","locale","datetime","format","moment","fromNow","dateTime","byline","author","ModuleByline","NavToolbarOptions","ListOption","Fragment","Dropdown","List","NavToolbarSettings","select","ButtonSelect","NavToolbarButton","getVisibilityOptions","hideable","deletable","restorable","removable","restored","onHide","onUnhide","onDelete","onRestore","onRemove","getToolbar","editable","editing","erasable","addable","onEdit","onSave","onErase","unshift","visibility","flexWrap","NavToolbar","ListSettings","cols","GridItem","data-size","GridList","OptionsGrid","templates","_cols","_rows","_options","_byValue","grid","order","orderBy","byValue","getOptions","GridSettingsList","settings","NavSettings","settingsProps","SettingsTemplate","template","renderSettings","module","uploadProgress","progress","CollapsedModule","typeLabel","statusLabel","ratio","ModuleFormat","w","data-minHeight","data-ratio","data-format","StyledTabs","withStyles","indicator","Tabs","StyledTab","letterSpacing","Tab","NavTabs","tabs","setValue","indicatorColor","textColor","tab","ModuleHeader","ModuleTabs","ModuleBody","ModuleFooter","overflowX","ModuleButtons","buttons","ModuleButton","data-variant","disableElevation","ExpandedModule","Module","ModuleIdentifier","ModuleToolbar","actionbar","ModuleSettings","mediaSize","ListModule","documentLabel","createdAt","mediaLabel","updatedAt","parseUrl","stringifyUrl","getImageUrl","ModuleMedia","ModuleContent","head","TableHead","sortable","_onSort","Label","table","tableLayout","borderCollapse","borderSpacing","TableView","flexShrink","tags","TableModule","colspan","ModuleValue","ModuleTags","Column","Array","isArray","getGalleryRow","gap","rowPlusGap","row","rowWidth","shift","delta","cutoff","cutsum","i","fractOfLen","floor","stillToCutOff","calculateCutOff","pixelsToRemove","j","gallery","Gallery","debug","useResizeDetector","maxMediaHeight","toArray","mediaWidth","mediaHeight","maxRows","getGallery","galleryChildren","data-layout","GalleryView","GalleryModule","mediaStyle","mediaLayout","masonry","Masonry","columnSize","columns","colWidth","transitionDuration","disableImagesLoaded","updateOnEachImageLoad","imagesLoadedOptions","MasonryView","mediaRatio","MasonryModule","gridTemplateColumns","iconSize","getTemplateColumns","gridGap","IconsView","outlineColor","paperWidth","paperHeight","IconModule","minIconSize","maxIconSize","minImageSize","minPaperWidth","viewable","linkable","onLink","artist","GridModule","GridView","treeView","TreeView","droppable","provided","snapshot","droppableProps","innerRef","isDraggingOver","data-is-dragging-over","treeList","TreeList","TreeModule","level","draggable","DragHandle","dragHandleProps","ModuleToggle","isDragging","isTarget","combineTargetFor","draggableProps","data-is-dragging","data-is-target","columnView","ColumnView","column","ColumnList","ColumnModule","getUiOptions","utils","getUiPreview","uiSchema","formContext","uiOptions","previewData","selection","prepare","single","plural","empty","hasOwnProperty","getPreviewFilters","getPreviewData","schemaType","mediaFormat","defaultLocale","currentLocale","localeId","titleImage","isPartOf","lat","lng","address","sectionType","bodytext","links","attachments","cite","quote","reference","hasPages","deviceTitle","deviceId","deviceType","deviceIcons","KpDeviceField","registry","startPageId","newRegistry","setStartPageId","newUiSchema","dialog","ObjectField","fields","KpDeviceLinkField","referenceId","getDefaultFormState","GeopointField","newFormData","GeopointLoader","GeopointBase","googleMapsApiKey","libraries","loadingElement","preventGoogleFontsLoading","memo","GeopointMap","center","zoom","setMap","handleChange","zoomControl","scaleControl","mapTypeControl","fullscreenControl","streetViewControl","clickableIcons","mapContainerClassName","onLoad","onZoomChanged","onDragEnd","point","crosshair","crosshairX","crosshairY","GeopointMapCenter","GeopointPreview","GeopointAutocomplete","autocomplete","setAutocomplete","types","onPlaceChanged","getPlace","TextField","overlay","geocoder","closeButton","GeocoderOverlay","onClose","GeopointSearch","place","geometry","placeId","place_id","Geopoint","setOverlay","Geocoder","KpPageField","idSchema","statusCode","statusMessage","deletedAt","currentId","onExpand","onCollapse","onLocale","onSubmit","fieldset","idPrefix","$id","primaryId","secondaryId","_onLocale","definitions","annotateImage","imageAnnotations","onAnnotateArrayChange","onAnnotateImageChange","mediaId","KpLinkMediaLayout","onDialog","Button","Buttongroup","removeMedia","findMedia","replaceMedia","KpLinkReferenceLayout","LinkRemoveButton","KpLinKContentField","referenceTitle","referenceDescription","_onMediaChange","_onReferenceChange","properties","linkContent","runningHead","KpLinkField","imageFocalpoint","imageCropdata","imageFilters","uiPreview","KpLinkContentField","cropdata","_onCropChange","focalpoint","_onFocalpoint","filters","_onFiltersChange","pageType","getUiSchema","isLight","titleColor","KpLinkLayout","StartAdornment","badgeContent","Badge","badge","primaryButton","KioskAnnotateImageField","ImageAnnotations","itemsUi","localTitle","ImageAnnotateArrayField","ArrayField","KpAnnotateImageField","KpAnnotateLinksField","kpLocation","KpLinkModel","ParentIdField","uiQuery","fl","enumOptions","setEnumOptions","enumNames","setEnumNames","optionsEnum","optionsNames","SchemaField","newSchema","enum","DocumentChildrenList","DocumentModule","DocumentParentsField","uniqueModel","modelsById","DocumentListRemove","DocumentChildrenSearch","queryQ","_onQuery","DocumentChildrenField","DocumentListSearch","LocaleField","lang","ISO6391","getNativeName","DocumentParentIdField","DocumentLocaleField","getUiButtons","buttonProps","onEditReference","uiButtons","onUpload","charAt","toUpperCase","slice","readonly","uiReference","uiContent","uiSchemaReference","uiSchemaContent","_action","widgets","paletteColor","colorUi","setModels","CollectionEditorModel","PageEditorField","EditorBase","breadcrumbs","prefix","ButtonBack","EditorPath","_onBack","data-title","LocaleIcon","NavLocale","EditorLocale","statusLabels","StatusMessage","code","data-code","EditorStatus","statusDate","primaryToggle","iconButton","PrimaryIconButton","EditorAction","EditorToggle","leading","trailing","EditorHeader","EditorFooter","Toolbar","EditorBody","EditorContent","EditorSidebar","EditorPreview","EditorOverlay","EditorLayout","PageEditor","OverlayTemplate","renderOverlay","PageContentField","menuWidth","menuList","PageMenu","PageContent","SidebarTemplate","renderSidebar","PreviewTemplate","renderPreview","PageSettingsField","CollectionThemePaletteField","CollectionThemePaletteColorField","createPalette","tinycolor","toHex","_getColor","swatch","getContrastText","CollectionThemeColorWidget","TextWidget","isValid","ThemePaletteField","ThemePaletteColorField","ThemeEditor","ThemePaletteModel","LocalizedStringSettings","SchemaFieldset","localizedUiSchema","help","widget","newUiOptions","hasFormat","flex","inline","CustomObjectFieldTemplate","direction","justify","fieldUiSchema","fieldUiOptions","aria-hidden","Grid","container","xs","sm","md","lg","xl","flexItem","getMeasureFromString","measureType","typings","measureValue","numberValue","parseFloat","depth","unitValue","unit","_getUploadUrl","file","uploadData","onAdd","onProgress","filename","mimeType","_getUploadData","uploadUrl","FormData","append","xhr","XMLHttpRequest","upload","addEventListener","lengthComputable","round","loaded","total","_onProgress","send","getUploadProps","images","keyedMedia","generateKeyedFormData","_onUploadChange","_onUploadAdd","newKeyedMediaRow","keyedToPlainFormData","_onUploadProgress","_onUpload","acceptedFiles","getUpload","getEventsProps","keyedEvents","onCurrentId","events","_onEventAdd","neyKeyedRow","generateRowId","_onEventsChange","shortid","generate","keyedFormData","keyedItem","retrieveSchema","toIdSchema","getUiFieldset","rootSchema","uiFieldset","fieldSchema","fieldFormData","fieldIdPrefix","fieldSelected","fieldIdSchema","getFieldByName","getUiMenu","uiMenu","PrimusEditorField","isEditing","dropzoneRef","onTogglePreview","getEditorAction","ObjectFieldTemplate","PrimusObjectFieldTemplate","_onUploadClick","_onEventAddClick","onDrop","getRootProps","getInputProps","PrimusEditorLayout","PrimusEditorContentField","currentParents","currentSection","eventType","dating","getPrimusEventsMenu","imagesMenu","attachmentsMenu","getPrimusMediaMenu","Template","EditorSplitView","EditorMenu","PrimusEditorContentLayout","PrimusSectionField","PrimusSectionLayout","sortableHandle","scrollIntoView","behavior","data-collapsible","MediaArrayTemplate","LayoutField","hasToolbar","hasMoveUp","hasMoveDown","hasRemove","onAddIndexClick","onDropIndexClick","onReorderClick","itemUiSchema","itemProps","currentIndex","itemSchema","ImageEditorToolbar","ToolbarButton","MediaLayout","currentItem","onSelectIndex","MediaItem","scale","ImagePreviewToolbar","onZoomIn","onZoomOut","minScale","maxScale","ZoomInButton","ZoomOutButton","ScaleButton","figure","ImagePreview","onTransformChange","TransformToolbar","prevScale","zoomIn","zoomOut","resetTransform","positionX","positionY","getImagePointEvent","offsetParent","offset","el","rect","getBoundingClientRect","window","scrollX","scrollY","getOffset","pageX","pageY","offsetWidth","offsetHeight","draghandle","marker","ImageAnnotationsMarker","onStart","onDrag","onStop","setCursor","bounds","handle","MarkerTemplate","markerTemplate","setIsDragging","handleClick","stopPropagation","MarkerDefault","MarkerList","withResizeDetector","handleStop","coords","handleIndexChange","handleStart","shape","hoverColor","borderStyle","contrastColor","ButtonHandle","onResize","handleResize","handleButton","handleIcon","ButtonLabel","labelButton","ButtonRemove","removeButton","removeShape","removeIcon","ButtonColor","colorButton","colorIcon","MarkerPrimus","setShape","setSize","setWidth","setHeight","setColor","setContrastColor","setBorderColor","nextColor","setNextColor","prevColor","setPrevColor","setHoverColor","string","indexOf","toggleColor","newWidth","newHeight","ImageAnnotationsBase","ImageCropperBase","aspectRatio","cropperRef","ready","getImageData","imageWidth","naturalWidth","imageHeight","naturalHeight","setData","bind","crop","getData","viewMode","dragMode","initialAspectRatio","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","cropper","ImageCropper","formats","formatSelected","setFormatSelected","setAspectRatio","handleFormat","edit","canvas","ImageEditorField","onAnnotationsChange","onCropChange","ImageTemplate","editorExpanded","ImageEditorNavigation","PrimusMediaTheme","darkTheme","idParents","currentIdParents","_onFieldset","setTransform","pop","idParent","ImageEditorLayout","PrimusMediaEditorField","selectedItem","itemId","_onSelectIndex","PrimusMediaField","asNumber","guessType","nums","Set","processValue","has","every","SelectWidget","required","multiple","autofocus","rawErrors","enumDisabled","emptyValue","Select","displayEmpty","autoFocus","getDisplayLabel","helperText","FormControl","InputLabel","htmlFor","native","InputLabelProps","shrink","SelectProps","FormHelperText","KnavSearchAutocomplete","selectOnFocus","clearOnBlur","handleHomeEndKeys","params","createFilterOptions","FilledInput","KnavSearchField","setResults","setOptions","getOption","uuid","specificType","displayValue","_getOption","tag","borderBottom","borderBottomColor","sorthandle","remove","TagList","TagItem","system","systemId","SortableHandle","SortableTagItem","sortableElement","sortIndex","SortableTagList","sortableContainer","Option","AutocompleteTagsField","_onSortEnd","oldIndex","newIndex","arrayMove","_filterTags","renderTags","getTagProps","onSortEnd","helperClass","useDragHandle","AutcompleteWidget","AutocompleteList","PersonRoleField","StringField","SelectAdornmentWidget","DesignationField","DesignationTagsField","KnavTagsField","ClassificationField","_getOutlineId","EndAdornment","caption","partOf","MaterialField","MaterialTagsField","TechniqueTagsField","ColorTagsDropImageField","setImageUrl","_onDrop","useCallback","reader","FileReader","onabort","onerror","onload","result","readAsDataURL","usePalette","useDropzone","dropButton","dropIcon","dropLabel","_onDropColors","_onImageUrl","InputAdornment","ColorTagsDropImage","ColorTagsField","colorNames","ColorTagsAutocomplete","MeasureTypeField","TextFieldPopper","setOpen","autoComplete","MeasureField","dtStart","dtEnd","MeasuresListField","form","inputFormData","setInputFormData","PaperComponent","MeasureTagsField","MeasureTagsAutocompleteField","PersonField","ListSearchItem","listItem","PrimusListItemLayout","PrimusListArrayField","PrimusListLayout","searchInput","searchIcon","resetButton","resetIcon","SearchReset","ListSearch","buttonReset","ListSearchLayout","ListResultsLayout","ListResultsItemLayout","dense","cancelButton","PrimusListResultsAddLayout","KnavListSearchField","_onAdd","uiSearch","ListResults","ListResultsItem","ListResultsAdd","_onRemove","newData","setNewData","ListResultsAddLayout","PrimusListField","PeopleListField","KnavListField","PeopleTagsField","PlaceRoleField","PlaceStatusField","PlacesListField","PlaceField","PlacesTagsField","SearchAutocompleteWidget","getOptionSelected","PersonFieldSearch","begin","end","SearchAutocomplete","ObjectSearchField","DateRangeField","parts","person","EventField","EventTypeField","PrimusEventsField","LicenseIcons","licenses","licenseIcons","license","Icon","LicenseFieldAutocomplete","LicenseField","PrimusContentField","PrimusContentLayout","PrimusMediaLayout","ClassificationTagsField","TechniqueField","PlaceTagsField","EventsListField","DatingField","PrimusFieldsetLayout","SelectNativeWidget","DesignationModel","ClassificationModel","MeasureModel","TechniqueModel","MaterialModel","ColorModel","EventModel","EventTypeModel","PersonModel","PlaceModel","DatingModel","PrimusMediaSectionField","ImageAnnotationsArrayField","ImageAnnotationsArrayItemField","ImageAnnotationsArrayItemLayout","PrimusMediaSectionLayout","ImageAnnotationsSectionField","ImageAnnotationsSectionLayout","ImageAnnotationsModuleField","PrimusMediaModel","documentEditor","referenceEditor","collectionEditor","pageEditor","themeEditor","localizedString","primusEditor","primusMedia","kpEditor","kpLink","pageHeader","pageTitle","KioskPageHeader","titleSize","skin","getTextPlacement","Card","ImageBase","objectFit","CardContent","getPreviewItem","itemType","m","PreviewFormat","templateCols","gridTemplateRows","templateRows","gridColumnGap","colGap","gridRowGap","rowGap","gridItem","gridColumnStart","gridColumnEnd","colEnd","gridRowStart","gridRowEnd","rowEnd","MosaicGrid","rowHeight","repeat","PreviewGrid","PageHeader","MapLink","Map","defaultCenter","defaultZoom","KEY","markers","setMarkers","setOrigin","setDestination","setWaypoints","setCenter","uuidv4","mapId","setMapId","mapRef","newWaypoints","bootstrapURLKeys","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","google","maps","LatLngBounds","extend","LatLng","fitBounds","origin","waypoints","directions","setDirections","drawDirections","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","directionsService","DirectionsService","route","travelMode","TravelMode","WALKING","DirectionsStatus","OK","overviewPath","routes","overview_path","resultsPath","getDirections","mapTypes","DefaultMap","mapLayout","parallaxImage","card","cardMedia","cardContent","MosaicModule","CardMedia","alt","timeline","timelineItem","Timeline","TimelineItem","TimelineModule","PreviewTimeline","borderSize","ImagemapPreview","contentTitle","annotateColor","line","Imagemap","MarkerModule","data-index","AnnotatePreview","annotateLayout","Annotate","linkMedia","article","object","pageHome","pageMap","pageTopic","pageGrid","pageList","pageTimeline","pageAnnotate","device","schemas","mediaSchemas","kpSchemas","getSchemaModel","documentModel","mediaModel","collectionModel","FinderModel","bulkCount","uiModel","updatedByName","uiLabels","getUiModel","_onEdit","editUrl","selectModel","capabilities","restoreModel","FinderViewList","FinderViewGrid","FinderViewIcons","prevPageLabel","nextPageLabel","IconsModule","FinderViewGallery","FinderViewMasonry","treeSlice","nodesExpanded","nodesById","requestTree","receiveTree","treeRoot","draggableId","droppableId","treeParents","treeColumns","toggleNode","selectNode","columnParents","col","expandNode","collapseNode","addNode","node","removeNode","getTree","dragNode","_getNodeId","treeNode","combine","sortNode","destinationId","FinderViewTree","tree","DraggableChild","uniqueNode","DroppableChildren","isCombineEnabled","TreeColumn","DroppableColumn","apps","_onClick","FinderViewTable","FinderView","ViewTemplate","FinderResults","selectedFormatted","Intl","NumberFormat","countFormatted","selectOptions","exportOptions","bulkOptions","queryTitle","EmptyView","FinderQuery","ArticleBase","ArticleHeader","ArticleSection","slideshow","figcaption","MediaSlideshow","setCurrentIndex","_onIndex","MetaList","MetaListItem","MetaLabel","MetaValue","verticalAlign","MetaCode","measures","rectangle","Measures","Rectangle","Measure","Metadata","MetaItemValue","e","MetaItem","Classifications","ClassificationItem","Events","EventList","EventPerson","EventPeople","people","EventPlace","EventPlaces","places","EventItem","Colors","Swatch","designations","materials","techniques","classifications","motifType","motifDescription","depictedPeople","depictedPlaces","motif","ArticleTypography","producer","owner","ownerName","biography","gender","birthDate","birthPlace","deathDate","deathPlace","names","reverse","scroller","PreviewScroller","BulkPreviewList","paddingX","BulkPreviewGallery","BulkPreviewMasonry","colSize","BulkPreview","schemaModel","bulkTitle","previewOptions","PreviewList","PreviewGallery","PreviewMasonry","bulkAction","currentPreview","PreviewBase","PreviewOptions","BulkEditor","Schema","FinderLoader","Finder","editorSlide","requestEditor","requestEdit","receiveEdit","receiveChange","receiveCurrentId","receiveCurrentLocale","requestDialog","receiveDialog","EditorLoader","iconColor","DialogBase","navigation","Menu","BottomNavigation","BottomNavigationAction","DialogFooter","tabIndex","showLabels","AppSearchDefault","focus","DialogTabpanel","DialogTab","DialogLabel","DialogTabs","DialogHeader","parentRef","handleScroll","removeEventListener","ResultsLoader","ResultsFooter","from","to","layouts","ModuleLoader","modelsSelected","modelsBySource","modelSchema","appDocumentType","sourceDocumentType","setPreview","newModel","newImageUrl","uploadStatus","imageUrlParts","imageParams","newImageParams","dimension","createdByName","deletedByName","LayoutTemplate","ListLayout","ResultsList","DialogModel","ResultsGallery","ResultsUploads","uploads","MediaResults","setModelsSelected","getSelected","addModel","ResultsTemplate","getMediaSource","removeItem","DocumentsResults","getDocumentSource","connect","uploadByUrl","bindActionCreators","SearchResults","SearchDialog","userQ","setUserQ","handleQuery","trim","setSort","sortSettings","dmOwnerOptions","dmOwner","setDmOwner","dmOwnerSettings","mediaTypes","queryUrl","getMediaType","getMediaSections","documentTypes","getDocumentType","getDocumentSections","setTabIndex","currentTab","nextToken","handleTab","currentQuery","setPages","setCurrentPage","setNextPage","getPages","DialogSearch","FavouritesDialog","favourites","uniqueIds","getFavouritesQuery","documents","uploadByUrlSlice","requestUpload","requested","received","receiveUpload","requestUploadModel","receiveUploadModel","receiveUploadProgress","receiveUploadStatus","getUploadUrl","getUploadData","dropzone","DialogUpload","accept","onCancel","currentUpload","ButtonClose","rejectedFiles","UploadDialog","handleReset","uploadSession","setUploadSession","uploadModels","uploadResults","session","MediaDialog","setTemplate","mediaFavourites","mediaUploads","FavouriteBadge","invisible","UploadBadge","DocumentsDialog","EditorDialog","setFormData","documentSchema","getReferenceQuery","mediaSchema","getMediaQuery","DialogTemplate","Dialog","Editor","_onSubmit","saveModel","prevUniqueId","setPrevUniqueId","newLocation","hashId","setCurrentId","_onCurrentId","hashUrl","expandId","setDialog","_onDialog","EditorSchema","AppSettings","DocumentPreview","PreviewJSON","primusPerson","primusDating","primusPlace","primusClassification","primusMaterial","primusTechnique","primusColor","primusDesignation","primusMeasure","primusEvent","designation","material","technique","DocumentEditor","useParams","previewExpanded","setPreviewExpanded","_onExpandPreview","_onCollapsePreview","onExpandPreview","onCollapsePreview","DocumentViewer","MediaEditor","PrimusRoutes","DocumentCreate","kpSettings","kioskSettings","KpApp","appName","editorParents","AppRoutes","ReactGA","initialize","pageview","App","basename","userSlice","requestUser","receiveUser","combineReducers","user","userReducer","site","siteReducer","collectionReducer","appReducer","editorReducer","finderReducer","bulkReducer","treeReducer","modelsByIdReducer","searchByUrlReducer","uploadByUrlReducer","middleware","getDefaultMiddleware","logger","configureStore","reducer","rootReducer","Boolean","hostname","bylineTitle","licenseGroup","translations","use","LanguageDetector","initReactI18next","init","resources","en","nb","nn","sv","fallbackLng","interpolation","escapeValue","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","registration","unregister","catch"],"mappings":"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","file":"static/js/main.0a7b4710.chunk.js","sourcesContent":["let API = \"https://kompass.dimu.org\";\n\nexport {\n    API,\n}","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { receiveModel, deleteModel, eraseModel } from \"../modelsById\"\n\nconst bulkSlice = createSlice({\n    name: 'bulk',\n    initialState: {\n        items: [],\n        count: 0,\n        isLoading: false,\n        isSaving: false,\n        formData: {\n\n        },\n        schema: {\n\n        },\n        bulkSchema: {\n            \"type\": \"object\",\n            \"properties\": {\n                \"status\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"draft\",\n                        \"publish\",\n                        \"delete\",\n                        \"erase\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Draft\",\n                        \"Publish\",\n                        \"Move to trash\",\n                        \"Erase permanently\"\n                    ],\n                    \"default\": false\n                },\n                \"parentId\": {\n                    \"type\": \"number\",\n                    \"enum\": [\n                        false,\n                        \"null\",\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"Reset to null\",\n                    ],\n                    \"default\": false\n                },\n                \"documentType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        false,\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"enumNames\": [\n                        \"** Multiple values **\",\n                        \"pageMap\",\n                        \"pageTopic\"\n                    ],\n                    \"default\": false\n                }\n            }\n        },\n    }, \n    reducers: {\n        requestBulk(state, action) {\n            return {\n                ...state,\n                items: [],\n                count: 0,\n                formData: {},\n            }\n        },\n        receiveBulkEditor(state, action) {\n            const { schema, formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n                schema: schema\n            }\n\n        },\n        bulkChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData,\n            }\n\n        },\n        bulkAdd(state, action) {\n            const { uniqueId } = action.payload\n\n            const bulkItems = state.items\n\n            if (bulkItems.includes(uniqueId)) {\n                return state\n            }\n\n            return {\n                ...state,\n                count: state.count + 1,\n                items: [\n                    ...bulkItems,\n                    uniqueId\n                ]\n            }\n\n        },\n        bulkRemove(state, action) {\n            const { uniqueId } = action.payload\n\n            const bulkItems = state.items.filter(id => id !== uniqueId)\n\n            return {\n                ...state,\n                count: bulkItems.length,\n                items: bulkItems\n            }\n\n        },\n    }\n})\n\nexport const bulkToggle = ({uniqueId}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkItems = state.bulk.items\n    const selected = bulkItems.includes(uniqueId)\n\n    if (selected) {\n        dispatch(bulkRemove({uniqueId}))\n    } else {\n        dispatch(bulkAdd({uniqueId}))\n    }\n\n}\n\nexport const bulkReset = () => (dispatch) => {\n    dispatch(requestBulk())\n}\n\nexport const bulkSubmit = ({modelName = \"documents\", formData}) => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n    const modelsById = state.modelsById\n\n    bulkModels.map(model => {\n\n        const uniqueId = model && model.uniqueId\n        const uniqueModel = modelsById && modelsById[uniqueId]\n\n        if (!uniqueModel) {\n            return false\n        }\n\n        if (uniqueModel.modelName) {\n            modelName = uniqueModel.modelName\n        }\n\n        let apiUrl = API + '/admin/api/documents' + modelName;\n\n        let newFormData = {\n            ...uniqueModel\n        }\n\n        Object.keys(formData).map(key => {\n\n            if (formData[key]) {\n                newFormData[key] = formData[key]\n            }\n\n            if (formData[key] === \"null\") {\n                newFormData[key] = null\n            }\n\n\n        })\n\n        const { status } = newFormData\n\n        if (status === \"delete\") {\n            dispatch(deleteModel(uniqueModel))\n\n        } else if (status === \"erase\") {\n            dispatch(eraseModel(uniqueModel))\n    \n        } else {\n\n            fetch(apiUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Content-Type\": \"application/json; charset=utf-8\",\n                },\n                body: JSON.stringify(newFormData)\n            })\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveModel(formData))\n            })    \n    \n        }\n\n    \n\n    })\n\n    dispatch(requestBulk())\n\n\n}\n\nexport const getBulkEditor = () => (dispatch, getState) => {\n\n    const state = getState()\n    const bulkModels = Object.values(state.bulk.bulkById).filter(model => model.selected)\n\n    console.log('BULK', bulkModels)\n\n    const bulkSchema = state.bulk.bulkSchema\n\n    let properties = {}, formData = {}, multiple = {}\n\n    bulkModels.map(model => {\n\n        Object.keys(bulkSchema.properties).map(key => {\n\n            const value = model[key]\n            const property = properties[key] || bulkSchema.properties[key]\n\n            // set formData\n\n            if (formData[key] && formData[key] !== value) {\n                formData[key] = false\n                multiple[key] = true\n            } else if (!multiple[key] && !formData[key]) {\n                formData[key] = value\n            }\n\n            // set schema\n\n            if (property && value) {\n\n                if (property.enum && !property.enum.includes(value)) {\n                    properties[key] = {\n                        ...property,\n                        enum: [\n                            ...property.enum,\n                            value\n                        ],\n                        enumNames: [\n                            ...property.enumNames,\n                            value\n                        ]\n                    }\n\n                } else {\n                    properties[key] = property\n                }\n\n            }\n\n        })\n\n    })\n\n    const schema = {\n        ...bulkSchema,\n        properties: {\n            ...properties\n        }\n    }\n\n    dispatch(receiveBulkEditor({schema, formData}))\n\n\n}\n\nexport const { requestBulk, receiveBulkEditor, bulkChange, bulkAdd, bulkRemove } = bulkSlice.actions\nexport default bulkSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { bulkToggle } from '../bulk/'\nimport qs from 'query-string';\n\n\nconst modelsByIdSlice = createSlice({\n    name: 'modelsById',\n    initialState: {\n    }, \n    reducers: {\n        requestModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: true,\n                }\n            }\n\n        },\n        receiveModel(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isLoading: false,\n                    ...action.payload\n                }\n            }\n\n        },\n        receiveModelProps(state, action) {\n            const { uniqueId, ...props } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    ...props\n                }\n            }\n\n        },\n        requestParents(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parents: []\n                }\n            }\n\n        },\n        receiveParents(state, action) {\n            const { uniqueId, parents } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parents: parents\n                }\n            }\n\n        },\n        requestChildren(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: []\n                }\n            }\n\n        },\n        receiveChildren(state, action) {\n            const { uniqueId, children } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    children: children\n                }\n           }\n\n        },\n        requestReferences(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: []\n                }\n            }\n\n        },\n        receiveReferences(state, action) {\n            const { uniqueId, references } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    references: references\n                }\n           }\n\n        },\n        receiveParentId(state, action) {\n            const { uniqueId, parentId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    parentId: parentId\n                }\n            }\n\n        },\n        receiveStatus(state, action) {\n            const { uniqueId, status } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    status: status\n                }\n            }\n\n        },\n        requestSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    ...state[uniqueId],\n                    isSaving: true\n                }\n\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                [uniqueId]: {\n                    isSaving: false,\n                    ...action.payload\n                }\n            }\n        }        \n    }\n})\n\n/** Get models from a list of results */\n\nexport const getModels = ({models}) => (dispatch, getState) => {\n\n    const state = getState()\n    const modelsById = state.modelsById\n\n    models && models.map(model => {\n        const { modelName, uniqueId } = model\n\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n\n\n    })\n\n}\n\n\n\n/** Get model from uniqueId */\n\nexport const getModel = ({modelName = \"documents\", id, uniqueId, source, sourceId}) => dispatch => {\n\n    uniqueId && dispatch(requestModel({uniqueId}))\n\n    if (!uniqueId && sourceId) {\n        uniqueId = sourceId\n    } else if (!uniqueId && id) {\n        uniqueId = id\n    }\n\n    const apiUrl = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n\n            let { uniqueId, source, sourceId } = formData\n\n            if (!uniqueId && source && sourceId) {\n                uniqueId = source + \"/\" + sourceId\n            }\n\n\n            dispatch(receiveModel({...formData, uniqueId: uniqueId, modelName}))\n//            dispatch(getParents({...formData, modelName}))\n//            dispatch(getChildren({...formData, modelName}))\n        })\n\n}\n\n/** Get parents from uniqueId */\n\nexport const getParents = ({modelName = \"documents\", uniqueId, id, parentId, parents}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/' + modelName + '/' + parentId;\n    \n    if (!parents) {\n        dispatch(requestParents({uniqueId}))\n        parents = []\n    }\n\n    if (parentId && parentId !== id) {\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(parent => {\n\n                parent && parent.uniqueId && parents.unshift(parent)\n\n                dispatch(getParents({parentId: parent.parentId, id, uniqueId, parents}))\n\n                /*\n                \n                if (parent && parent.parentId && parent.parentId !== parentId) {\n                    dispatch(getParents({parentId: parent.parentId, id, uniqueId, parents}))\n                }  else {\n                    dispatch(receiveParents({uniqueId, parents}))\n                }*/\n\n            })\n    \n    } else {\n        dispatch(receiveParents({uniqueId, parents}))\n    }\n\n}\n\n/** Get children from uniqueId */\n\nexport const getChildren = ({modelName = \"documents\", uniqueId, id}) => (dispatch, getState) => {\n\n    const query = qs.stringify({\n        fl: \"id,parentId,uniqueId,title\",\n        parentId: id,\n    })\n\n    const apiUrl = API + '/admin/api/' + modelName + '/search?' + query;\n\n    dispatch(requestChildren({uniqueId}))\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results.models && dispatch(receiveChildren({uniqueId, children: results.models}))\n        })\n\n}\n\n/** Get references from uniqueId */\n\nexport const getReferences = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/references/' + modelName + '/' + uniqueId;\n\n    dispatch(requestReferences({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveReferences({...formData, uniqueId}))\n        })\n\n}\n\n\n/** Load model from uniqueId */\n\nexport const loadModel = ({modelName = \"documents\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestModel({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveModel(formData))\n        })\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    formData && formData.uniqueId && dispatch(requestSave({uniqueId: formData.uniqueId}))\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n\n/** Delete */\n\nexport const deleteModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Restore */\n\nexport const restoreModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/restore/' + uniqueId;\n  \n    fetch(url, {\n        method: \"POST\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(loadModel({modelName, uniqueId}))\n    )\n\n}\n\n/** Erase */\n\nexport const eraseModel = ({modelName, uniqueId}) => dispatch => {\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId + \"?erase=true\";\n  \n    fetch(url, {\n        method: \"DELETE\",\n    })\n    .then(\n        error => console.log('An error occurred.', error)\n    )\n    .then(data =>\n        dispatch(receiveStatus({modelName, uniqueId, status: \"erased\"}))\n    )\n\n}\n\n/** Select */\n\nexport const selectModel = ({modelName, uniqueId, selected, ...props}) => (dispatch, getState) => {\n\n    /*\n    dispatch(receiveModelProps({\n        modelName: modelName,\n        uniqueId: uniqueId,\n        selected: !selected\n    }))\n    */\n\n    dispatch(bulkToggle({uniqueId}))\n\n\n}\n\n/** Set parentId */\n\nexport const setParentId = ({modelName = \"documents\", uniqueId, parentId}) => dispatch => {\n//    dispatch(receiveParentId({uniqueId, parentId}))\n\n    const url = API + '/admin/api/' + modelName;\n\n    const formData = {\n        uniqueId: uniqueId,\n        parentId: parentId,\n    }\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave(formData))\n    })\n\n}\n    \n/** Document source */\n\nexport const getDocumentSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/documents/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addDocumentSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addDocumentSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/documents'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\n/** Media source */\n\nexport const getMediaSource = (model, callback = undefined) => dispatch => {\n    const { collectionId, sourceId } = model;    \n\n    let url = API + '/admin/api/media/search?collectionId=' + collectionId + \"&sourceId=\" +sourceId;\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(data => {\n\n        if (data.models && data.models[0]) {\n            dispatch(receiveModel(data.models[0]))\n            callback && callback(data.models[0])\n        } else {\n            dispatch(addMediaSource(model, callback))\n        }\n\n    })\n\n}\n\nexport const addMediaSource = (model, callback = undefined) => dispatch => {\n    const url = API + '/admin/api/media'\n\n    model = {\n        ...model,\n        source: model.source.toLowerCase(),\n        schemaId: 1\n    }\n\n    delete model.uniqueId\n    \n    const payload = JSON.stringify(model);\n\n    console.log(payload);\n\n    return function (dispatch) {\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            },\n            body: payload\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(data => {\n            dispatch(receiveModel(data))\n            callback && callback(data)\n        })\n    }\n\n}\n\nexport const { \n    requestModel, receiveModel, \n    receiveModelProps,\n    requestParents, receiveParents, \n    requestChildren, receiveChildren, \n    requestReferences, receiveReferences, \n    receiveStatus, receiveParentId,\n    requestSave, receiveSave\n} = modelsByIdSlice.actions\nexport default modelsByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { saveModel } from \"../modelsById/\";\nimport qs from 'query-string';\n\nconst finderByIdSlice = createSlice({\n    name: 'finder',\n    initialState: {\n        isLoading: true,\n        url: undefined,\n        sortOptions: [],\n        sort: undefined,\n        rowsOptions: [\n            10,\n            20,\n            30,\n            40,\n            50,\n        ],\n        rows: undefined,\n        viewOptions: [],\n        view: undefined,\n        primaryAction: {},\n        parent: {},\n        parents: [],\n        parentsByUrl: {},\n        menu: undefined,\n        menuByUrl: {},\n        menuById: {},\n        sidebar: {\n            expanded: true\n        },\n        view: {\n            expanded: true\n        },\n        preview: {\n            expanded: false\n        },\n        editor: {\n            expanded: false\n        }\n     }, \n    reducers: {\n        requestFinder(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                url: url,\n                isLoading: true,\n            }\n        },\n        receiveFinder(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                url: url,\n                isLoading: false,\n            }\n        },\n        expandSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: true\n                }\n            }\n        },\n        collapseSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: false\n                }\n            }\n        },\n        toggleSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: !state.sidebar.expanded\n                }\n            }\n        },\n        receiveSidebar(state, action) {\n            const { sidebar } = action.payload\n            return {\n                ...state,\n                sidebar: sidebar\n            }\n        },\n        collapseView(state, action) {\n            return {\n                ...state,\n                view: {\n                    ...state.view,\n                    expanded: false\n                }\n            }\n        },\n        expandView(state, action) {\n            return {\n                ...state,\n                view: {\n                    ...state.view,\n                    expanded: true\n                }\n            }\n        },\n        receiveView(state, action) {\n            const { view } = action.payload\n            return {\n                ...state,\n                view: view\n            }\n        },\n        expandPreview(state, action) {\n            return {\n                ...state,\n                preview: {\n                    ...state.preview,\n                    expanded: true\n                }\n            }\n        },\n        collapsePreview(state, action) {\n            return {\n                ...state,\n                preview: {\n                    ...state.preview,\n                    expanded: false\n                }\n            }\n        },\n        receivePreview(state, action) {\n            const { preview } = action.payload\n            return {\n                ...state,\n                preview: preview\n            }\n        },\n        expandEditor(state, action) {\n            return {\n                ...state,\n                editor: {\n                    ...state.editor,\n                    expanded: true\n                }\n            }\n        },\n        collapseEditor(state, action) {\n            return {\n                ...state,\n                editor: {\n                    ...state.editor,\n                    expanded: false\n                }\n            }\n        },\n        receiveEditor(state, action) {\n            const { editor } = action.payload\n            return {\n                ...state,\n                editor: editor\n            }\n        },\n        requestViewOptions(state, action) {\n            return {\n                ...state,\n                viewOptions: undefined,\n                view: undefined\n            }\n        },\n        receiveViewOptions(state, action) {\n            const { viewOptions, view } = action.payload\n            return {\n                ...state,\n                viewOptions: viewOptions,\n                view: view\n            }\n        },\n        receiveSort(state, action) {\n            const { sort } = action.payload\n            return {\n                ...state,\n                sort: sort\n            }\n        },\n        requestSortOptions(state, action) {\n            return {\n                ...state,\n                sortOptions: undefined,\n                sort: undefined\n            }\n        },\n        receiveSortOptions(state, action) {\n            const { sortOptions, sort } = action.payload\n            return {\n                ...state,\n                sortOptions: sortOptions,\n                sort: sort\n            }\n        },\n \n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents, parentsByUrl } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                parentsByUrl: parentsByUrl,\n                parent: parents && parents[parents.length-1]\n            }\n        },\n        requestPrimaryAction(state, action) {\n            return {\n                ...state,\n                primaryAction: {}\n            }\n        },\n        receivePrimaryAction(state, action) {\n            const { primaryAction } = action.payload\n            return {\n                ...state,\n                primaryAction: primaryAction\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const { menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        requestMenuItem(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        isLoading: true,\n                        url: url,\n                        ...item,\n                    }\n                }\n            }\n        },\n        receiveMenuItem(state, action) {\n            const { id, url, ...item } = action.payload\n\n            const count = item.children && item.children.length || null\n\n            if (id) {\n                return {\n                    ...state,\n                    menuById: {\n                        ...state.menuById,\n                        [id]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            url: url,\n                            count: count,\n                        }\n                    },\n                    menuByUrl: {\n                        ...state.menuByUrl,\n                        [url]: {\n                            ...item,\n                            id: id,\n                            isLoading: false,\n                            count: count,\n                            url: url,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                isLoading: false,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        id: id,\n                        count: count,\n                        isLoading: false,\n                        url: url,\n                    }\n                }\n            }\n        },\n        moveMenuItem(state, action) {\n            const { source, destination } = action.payload\n\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [source.url]: source,\n                    [destination.url]: destination  \n                }\n            }\n\n        },\n        expandMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: true\n                    }\n                }\n            }\n        },\n        collapseMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: false\n                    }\n                }\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n        },\n    }\n})\n\nexport const getFinder = ({url = undefined, ...menuItem}) => (dispatch, getState) => {\n\n    const state = getState()\n    const app = state.app\n    const finder = state.finder\n\n    dispatch(requestFinder({url}))\n    dispatch(getMenu(app))\n    dispatch(getPrimaryAction(app))\n\n    finder.menu && dispatch(receiveFinder({url}))\n\n}\n\nexport const getOptions = ({viewOptions, view, sortOptions, sort}) => (dispatch) => {\n    dispatch(requestViewOptions())\n    dispatch(requestSortOptions())\n\n    viewOptions && dispatch(receiveViewOptions({viewOptions, view: view || viewOptions[0]}))\n    sortOptions && dispatch(receiveSortOptions({sortOptions, sort: sortOptions[0]}))\n}\n\nexport const getView = ({pathname, view}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveView({view}))\n   \n}\n\nexport const getSort = ({pathname, sort}) => (dispatch, getState) => {\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    dispatch(receiveSort({sort}))\n}\n\nexport const getMenu = ({siteName, menu, root, collectionId}) => (dispatch) => {\n\n    const getChild = ({parent, sections, children, url, pathname, search, query, viewOptions, sortOptions, ...item}) => {\n\n        if (pathname && pathname.startsWith(\"/\")) {\n            url = root + pathname\n        }\n\n        if (!url && parent.url) {\n            url = pathname && parent.url + \"/\" + pathname || parent.url\n        } else if (!url) {\n            url = pathname && root + \"/\" + pathname || root\n        }\n\n        if (url.includes(\":siteName\")) {\n            url = url.replace(\":siteName\", siteName)\n        }\n\n        if (search) {\n            url = url + \"?\" + search\n        }\n\n        if (query) {\n            query = {\n                ...query,\n                collectionId: query.collectionId || parent.collectionId\n            }\n        }\n\n        if (query && query.models === \"media\") {\n            viewOptions = viewOptions || [\"gallery\", \"icons\", \"list\", \"table\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (query && query.models === \"documents\") {\n            viewOptions = viewOptions || [\"list\", \"table\", \"icons\", \"column\"]\n            sortOptions = sortOptions || [\"title\", \"createdAt ASC\", \"updatedAt DESC\"]\n        }\n\n        if (sortOptions) {\n            query.sort = sortOptions[0]\n        }\n        \n        const child = {\n            ...item,\n            url: url,\n            query: query,\n            viewOptions: viewOptions,\n            sortOptions: sortOptions\n        }\n\n        if (sections) {\n            sections = sections.map(section => {\n\n                return {\n                    ...section,\n                    url: section.url.replace(\":siteName\", siteName)\n                }\n\n            })\n        }\n\n        const menuItem = {\n            ...child,\n            sections: sections,\n            children: children && children.length && getChildren({...child, children: children})\n        }\n\n        dispatch(receiveMenuItem(menuItem))\n\n        return menuItem\n\n    }\n\n    const getChildren = (parent) => {\n        let children = []\n  \n        parent && parent.children && parent.children.forEach((child) => {\n            child = getChild({...child, parent});\n            children.push(child);\n        });\n        \n        return children\n    }\n\n    const rootMenu = getChildren({\n        root: root,\n        children: menu,\n        collectionId: collectionId\n    })\n\n    dispatch(receiveMenu({menu: rootMenu}))\n    \n}\n\nexport const getPrimaryAction = ({primaryAction, root, collectionId}) => (dispatch) => {\n\n    const getChild = ({parent, children, url, pathname, search, query, viewOptions, sortOptions, ...item}) => {\n\n        if (pathname && pathname.startsWith(\"/\")) {\n            url = root + pathname\n        }\n\n        if (!url && parent.url) {\n            url = pathname && parent.url + \"/\" + pathname || parent.url\n        } else if (!url) {\n            url = pathname && root + \"/\" + pathname || root\n        }\n\n        if (url && search) {\n            url = url + \"?\" + search\n        }\n\n        const child = {\n            ...item,\n            root: parent.root,\n            url: url,\n        }\n\n        const menuItem = {\n            ...child,\n            children: children && children.length && getChildren({...child, children: children})\n        }\n\n        return menuItem\n\n    }\n\n    const getChildren = (parent) => {\n        let children = []\n  \n        parent.children.forEach((child) => {\n            child = getChild({...child, parent});\n            children.push(child);\n        });\n        \n        return children\n    }\n\n    const rootMenu = getChildren({\n        root: root,\n        children: [primaryAction],\n        collectionId: collectionId\n    })\n\n    dispatch(receivePrimaryAction({primaryAction: rootMenu[0]}))\n    \n}\n\nexport const getParents = ({url}) => (dispatch, getState) => {\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.finder.menuByUrl\n    const menuById = state.finder.menuById\n\n    let parent = false // url && menuByUrl && menuByUrl[url] \n\n    console.log('getParents', parent)\n\n    let parents = [];\n\n    if (parent) {\n\n        /*\n\n        while (parent) {\n            parents.push(parent)\n            parent = parent.parentId && menuById[parent.parentId] || !parent.id && parent.parentUrl && menuByUrl[parent.parentUrl]\n        }\n    \n        parents = parents.reverse()\n\n        */\n            \n    } else {\n\n        let path = [], pathUrl\n\n        const pathnames = url.split('/');\n\n        pathnames.map(pathname => {\n    \n            path.push(pathname)\n            pathUrl = path.join('/')\n\n            console.log('parents by path', path)\n            console.log('parents by path', pathUrl)\n\n            if (!pathUrl && menuByUrl[\"/\"]) {\n//                parents.push(menuByUrl[\"/\"])\n            }\n\n            const parent = menuByUrl[pathUrl]\n    \n            if (parent && parent.role !== \"section\") {\n                parents.push(parent)\n            }\n    \n        })\n    \n    }\n \n    let parentsByUrl = {}\n\n    parents.map(parent => {\n        if (parent.url) {\n            parentsByUrl[parent.url] = parent\n        }\n    })\n\n    dispatch(receiveParents({parents, parentsByUrl}))\n  \n}\n\nexport const getMenuItem = (item) => (dispatch) => {\n    const { type = \"default\", url, children} = item\n\n    if (type === \"tree\") {\n        dispatch(getMenuTree(item))\n    } else if (children) {\n        dispatch(getMenuParent(item))        \n    } else if (url) {\n        dispatch(getMenuChild(item))\n    } \n    \n}\n\nconst getMenuParent = ({children, level = 0, ...parent}) => dispatch => {\n    dispatch(requestMenuItem(parent))\n\n    children.map((child) => {\n        dispatch(getMenuItem({\n            ...child,\n            parentUrl: parent.url,\n            level: level + 1\n        }))\n    })\n\n    dispatch(receiveMenuItem({\n        ...parent,\n        children: children,\n        level: level,\n    }))\n}\n\nconst getMenuChild = ({level, ...child}) => dispatch => {\n    dispatch(requestMenuItem(child))\n    dispatch(receiveMenuItem({\n        ...child,\n        level: level\n    }))\n}\n\nexport const getMenuTree = ({level = 0, ...parent}) => dispatch => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { query } = parent\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const { models, count } = results\n\n        const parentUrl = parent.url\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                level: level + 1,\n                parentId: parentUrl,\n                parentUrl: parentUrl,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(getMenuTreeNode(child))\n\n            return child\n\n        })\n\n        dispatch(receiveMenuItem({\n            ...parent,\n            id: parentUrl,\n            level: level,\n            parentUrl: parentUrl,\n            children: children,\n            count\n        }))\n\n    })\n\n}\n\nexport const getMenuTreeNode = (item) => (dispatch) => {\n\n    const { url, uniqueId } = item\n\n    const query = {\n        models: \"documents\",\n        uniqueId: uniqueId\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const model = results.models && results.models[0]\n        const parent = {\n            ...item,\n            ...model,\n            type: \"treeitem\",\n            url: url,\n            query: {\n                models: \"documents\",\n                parentId: model && model.id\n            }\n        }\n\n        dispatch(getMenuTreeChildren(parent))\n    \n    })\n\n}\n\nexport const getMenuTreeChildren = ({level = 0, ...parent}) => (dispatch) => {\n\n    dispatch(requestMenuItem(parent))\n\n    const { parentUrl } = parent\n\n    const query = {\n        models: \"documents\",\n        parentId: parent.id\n    }\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const { models, count } = results\n\n        const children = models && models.map(child => {\n            const { uniqueId } = child;\n\n            child = {\n                ...child,\n                template: parent.template,\n                parentUrl: parentUrl,\n                level: level + 1,\n                url: parentUrl + \"/\" + uniqueId,\n                type: \"treeitem\"\n            }\n\n            dispatch(receiveMenuItem(child))\n\n            return child\n\n        })\n\n        if (children && children.length) {\n            parent = {\n                ...parent,\n                level: level,\n                count: count,\n                children: children\n            }\n        }\n \n        dispatch(receiveMenuItem({\n            ...parent,\n            level: level\n        }))\n         \n    })\n\n}\n\nexport const sortMenuTree = ({source, destination, item}) => (dispatch, getState) => {\n\n    const state = getState()\n    const finder = state.finder\n    const menuByUrl = finder.menuByUrl\n    const menuById = finder.menuById\n\n    const itemNode = item.id && menuById[item.id]\n\n    let sourceNode = source.url && {\n        ...menuByUrl[source.url],\n        children: [...menuByUrl[source.url].children]\n    }\n\n    sourceNode.children.splice(source.index, 1)\n\n    let destinationNode = destination.url && {\n        ...menuByUrl[destination.url],\n        children: menuByUrl[destination.url].children && [...menuByUrl[destination.url].children, itemNode] || [itemNode]\n    }\n\n\n    dispatch(receiveMenuItem({\n        ...sourceNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...destinationNode,\n    }))\n\n    dispatch(receiveMenuItem({\n        ...itemNode,\n        parentUrl: destinationNode.url,\n        parentId: destinationNode.id\n    }))\n\n    const id = itemNode.id;\n    const parentId = destinationNode.id\n\n    if (id && parentId === destinationNode.url) {\n        dispatch(saveModel({\n            id: id,\n            parentId: null\n        }))\n    } else if (id && parentId) {\n        dispatch(saveModel({\n            id: id,\n            parentId: parentId\n        }))\n    }\n\n}\n\nexport const getEditor = (editor) => dispatch => {\n    dispatch(receiveEditor({editor}))\n}\n\nexport const getPreview = (preview) => dispatch => {\n    dispatch(receivePreview({preview}))\n}\n\nexport const getLayout = (layout = \"default\") => dispatch => {\n\n    if (layout === \"editor\") {\n        dispatch(collapseSidebar())\n        dispatch(collapseView())\n        dispatch(expandPreview())\n        dispatch(expandEditor())\n    }\n\n    if (layout === \"finder\") {\n        dispatch(expandSidebar())\n        dispatch(expandView())\n        dispatch(collapsePreview())\n        dispatch(collapseEditor())\n    }\n\n\n}\n\nexport const { \n    requestFinder, receiveFinder, \n    requestMenu, receiveMenu,\n    expandSidebar, collapseSidebar, receiveSidebar, toggleSidebar,\n    expandView, collapseView, receiveView,\n    expandPreview, collapsePreview, receivePreview,\n    expandEditor, collapseEditor, receiveEditor,\n\n    requestPrimaryAction, receivePrimaryAction,\n    requestViewOptions, receiveViewOptions,\n    requestSortOptions, receiveSortOptions, receiveSort,\n    requestMenuByUrl, receiveMenuByUrl, \n    requestMenuTree, receiveMenuTree, \n    requestMenuTreeItem, receiveMenuTreeItem, \n    requestMenuItem, receiveMenuItem, \n    moveMenuItem,\n    expandMenuItem, collapseMenuItem, toggleMenuItem, \n    requestParents, receiveParents } = finderByIdSlice.actions\n\nexport default finderByIdSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getFinder } from \"../finder/\"\n\nconst appSlice = createSlice({\n    name: 'app',\n    initialState: {\n        icon: undefined,\n        isLoading: true,\n        version: \"0.1.1\",\n        title: undefined,\n        siteName: undefined,\n        siteTitle: undefined,\n        siteId: undefined,\n        collectionId: undefined,\n        theme: {\n            palette: {\n                type: \"light\"\n            }\n        },\n        header: {\n        },\n        sidebar: {\n        },\n        subview: {\n            expanded: false\n        },\n        search: {\n        },\n    }, \n    reducers: {\n        requestApp(state, action) {\n            const { root, icon, title, siteName, collectionType } = action.payload\n            return {\n                ...state,\n                root: root,\n                icon: icon,\n                title: title,\n                siteName: siteName,\n                collectionType: collectionType,\n                isLoading: true,\n            }\n        },\n        receiveApp(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        receiveTheme(state, action) {\n            const { theme } = action.payload\n            return {\n                ...state,\n                theme: theme\n            }\n        },\n        toggleDarkMode(state, action) {\n            const type = state.theme.palette.type\n\n            return {\n                ...state,\n                theme: {\n                    ...state.theme,\n                    palette: {\n                        ...state.theme.palette,\n                        type: type === \"dark\" && \"light\" || \"dark\"\n                    }\n                }\n            }\n        },\n        receiveAppSite(state, action) {\n            const { id, title } = action.payload\n            return {\n                ...state,\n                siteId: id,\n                siteTitle: title\n            }\n        },\n        receiveAppCollection(state, action) {\n            const { id } = action.payload\n            return {\n                ...state,\n                collectionId: id,\n            }\n        },\n        requestSubview(state, action) {\n            return {\n                ...state,\n                subview: undefined,\n            }\n        },\n        receiveSubview(state, action) {\n            const { subview } = action.payload\n            return {\n                ...state,\n                subview: {\n                    ...state.subview,\n                    ...subview\n                },\n            }\n        },\n        requestLayout(state, action) {\n            return {\n                ...state,\n            }\n        },\n        receiveLayout(state, action) {\n            const { header, sidebar, subview } = action.payload\n            return {\n                ...state,\n                header: header,\n                sidebar: sidebar,\n                subview: subview\n            }\n        },\n        toggleSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: !state.search.expanded,\n                }\n            }\n        },\n        collapseSearch(state, action) {\n            return {\n                ...state,\n                search: {\n                    ...state.search,\n                    expanded: false,\n                }\n            }\n        },\n        toggleHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: !state.header.expanded,\n                }\n            }\n        },\n        expandHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: true,\n                }\n            }\n        },\n        collapseHeader(state, action) {\n            return {\n                ...state,\n                header: {\n                    ...state.header,\n                    expanded: false,\n                }\n            }\n        },\n        toggleSidebar(state, action) {\n            return {\n                ...state,\n                sidebar: {\n                    ...state.sidebar,\n                    expanded: !state.sidebar.expanded,\n                }\n            }\n        },\n        toggleSubview(state, action) {\n            return {\n                ...state,\n                subview: {\n                    ...state.subview,\n                    expanded: !state.subview.expanded,\n                }\n            }\n        },\n        requestSchemasByName(state, action) {\n            return {\n                ...state,\n                schemasByName: {}\n            }\n        },\n        receiveSchemasByName(state, action) {\n            const { schemasByName } = action.payload\n            return {\n                ...state,\n                schemasByName: schemasByName\n            }\n        },\n        requestMenu(state, action) {\n            return {\n                ...state,\n                menu: []\n            }\n        },\n        receiveMenu(state, action) {\n            const { menu } = action.payload\n            return {\n                ...state,\n                menu: menu\n            }\n        },\n        requestMenuByUrl(state, action) {\n            return {\n                ...state,\n                menuByUrl: {}\n            }\n        },\n        receiveMenuByUrl(state, action) {\n            const { menuByUrl } = action.payload\n            return {\n                ...state,\n                menuByUrl: menuByUrl\n            }\n        },\n        toggleMenuItem(state, action) {\n            const { url } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...state.menuByUrl[url],\n                        expanded: !state.menuByUrl[url].expanded\n                    }\n                }\n            }\n\n        },\n        receiveMenuItemByUrl(state, action) {\n            const { url, ...item } = action.payload\n            return {\n                ...state,\n                menuByUrl: {\n                    ...state.menuByUrl,\n                    [url]: {\n                        ...item,\n                        url: url\n                    }\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents\n            }\n        }\n    }\n})\n\nexport const getApp = (app) => dispatch => {\n    dispatch(requestApp(app))\n    dispatch(getAppProperties(app))\n}\n\nexport const getSiteApp = (app) => dispatch => {\n    dispatch(requestApp(app))\n    dispatch(getAppSite(app))\n}\n\nexport const getAppSite = ({siteName, ...app}) => dispatch => {\n\n    const query = qs.stringify({\n        name: siteName,\n        fl: \"id,name,title\"\n    })\n\n    const apiUrl = API + '/admin/api/sites/search?' + query;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const site = results.models && results.models[0] || {}\n\n        dispatch(receiveAppSite(site))\n\n        dispatch(getAppCollection({\n            ...app,\n            siteId: site.id,\n            siteName: site.name,\n            siteTitle: site.title\n        }))\n\n    })\n\n}\n\nexport const getAppCollection = ({siteId, collectionType, ...app}) => dispatch => {\n\n    const query = qs.stringify({\n        siteId: siteId,\n        collectionType: collectionType,\n        fl: \"id,name,title\"\n    })\n\n    const apiUrl = API + \"/admin/api/collections/search?\" + query;\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        const collection = results.models && results.models[0] || {}\n\n        dispatch(receiveAppCollection(collection))\n\n        dispatch(getAppProperties({\n            ...app,\n            collectionId: collection.id,\n        }))\n\n    })\n\n}\n\nexport const getAppProperties = (app) => dispatch => {\n\n    dispatch(receiveApp(app))\n    dispatch(getFinder(app))\n\n}\n\nexport const getSubview = (subview) => dispatch => {\n\n    dispatch(receiveSubview({\n        subview: subview\n    }))\n\n}\n\nexport const getLayout = (layout = \"default\") => dispatch => {\n\n    if (layout === \"editor\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: false\n            },\n            sidebar: {\n                expanded: false\n            },\n            subview: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: true\n            },\n            subview: {\n                expanded: false\n            }\n        }))\n    }\n\n    if (layout === \"finder/subview\") {\n        dispatch(receiveLayout({\n            header: {\n                expanded: true\n            },\n            sidebar: {\n                expanded: false\n            },\n            subview: {\n                expanded: true\n            }\n        }))\n    }\n\n}\n\nexport const getAppSearch = ({expanded, q}) => dispatch => {\n    dispatch(toggleSearch({expanded, q}))  \n}\n\nexport const getParents = ({pathname}) => (dispatch, getState) => {\n\n    dispatch(requestParents())\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    let parents = [];\n  \n    const pathnames = pathname.split('/');\n  \n    let url = '';\n  \n    pathnames.forEach((path) => {\n\n        if (path) {\n            url = url + '/' + path;\n        } else {\n            url = '/';\n        }\n    \n        if (menuByUrl && menuByUrl[url] && menuByUrl[url].title) {\n            parents.push(menuByUrl[url]);\n        }\n        \n        if (url == '/') {\n            url = '';\n        }\n\n    });\n\n    dispatch(receiveParents({parents:parents}))\n  \n}\n\nexport const getSchemasByName = ({schemas = []}) => dispatch => {\n\n    dispatch(requestSchemasByName())\n\n    let schemasByName = {}\n\n    schemas.map(schema => {\n\n        if (schema.name) {\n            schemasByName[schema.name] = schema\n        }\n\n    })\n\n    dispatch(receiveSchemasByName({schemasByName}))\n    \n}\n\nexport const getMenuItem = ({pathname}) => (dispatch, getState) => {\n\n    const state = getState()\n    const menuByUrl = state.app.menuByUrl\n\n    const menuItem = menuByUrl && menuByUrl[pathname]\n\n    if (menuItem && menuItem.type === \"tree\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    if (menuItem && menuItem.type === \"treeitem\") {\n        dispatch(getMenuTree(menuItem))\n    }\n\n    \n}\n \nconst getMenuTree = (parent) => dispatch => {\n\n    const { query } = parent\n\n    const fetchUrl = API + '/admin/api/documents/search?' + qs.stringify({...query, fl: \"modelName,documentType,id,title,uniqueId,parentId\"});\n\n    fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n        \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => \n       dispatch(getMenuTreeChildren({parent, results}))\n    )\n\n}\n\nconst getMenuTreeChildren = ({parent, results}) => dispatch => {\n    const { models } = results;\n\n\n    let children = []\n\n    if (models) {\n        models.map((model) => {\n\n            const { template, query } = parent\n            const { collectionId, models } = query;\n\n            const { id, title, uniqueId } = model;\n                \n            let url = parent.url + \"/\" + uniqueId;\n        \n            const child = {\n                ...model,\n                template: template,\n                type: \"treeitem\",\n                pathname: url,\n                url: url,\n                query: {\n                    collectionId: collectionId,\n                    models: models,\n                    parentId: id\n                }\n            }\n            \n            children.push(child)\n        })\n    \n    }\n    \n    if (children.length) {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"tree\", count: children.length, children: children}))\n        \n        children.map((child) => {\n//            dispatch(receiveMenuItemByUrl(child))\n            dispatch(getMenuTree(child))\n        })\n        \n    } else {\n        dispatch(receiveMenuItemByUrl({...parent, type: \"treeitem\"}))\n\n    }\n\n}\n\n\nconst getMenuChildren = ({children = [], level = 0}) => dispatch => {\n\n    children.forEach((child) => {\n\n        let item = {\n            ...child,\n            level: level\n        }\n\n        if (item.children) {\n            dispatch(getMenuChildren({children: item.children, level: level++}))\n        }\n\n        dispatch(receiveMenuItemByUrl(item))\n\n    });\n\n}\n\n/*\nexport const getMenuByUrl = ({menu = []}) => dispatch => {\n    dispatch(requestMenuByUrl())\n    dispatch(getMenuChildren({children: menu}))\n}*/\n\n\nexport const { \n    requestApp, receiveApp, \n    receiveAppSite, receiveAppCollection, \n    receiveTheme, toggleDarkMode,\n    requestLayout, receiveLayout, \n    requestSubview, receiveSubview, \n    toggleHeader, expandHeader, collapseHeader,\n    toggleSearch, collapseSearch,\n    toggleSidebar, \n    toggleSubview, \n    requestSchemasByName, \n    receiveSchemasByName, \n    requestMenu, receiveMenu, \n    toggleMenuItem, requestMenuByUrl, \n    receiveMenuByUrl, receiveMenuItemByUrl, \n    requestParents, receiveParents\n} = appSlice.actions\nexport default appSlice.reducer","export default {\n    \"palette\": {\n        \"media\": \"#303030\",\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        },\n        \"primary\": {\n            \"main\": \"#20734b\"\n        }\n    }\n}","const contentTypes = [\n    {\n        icon: \"article\",\n        title: \"Artikkel\",\n        pathname: \"article\",\n        search: \"documentType=article\"\n    },\n    {\n        icon: \"device\",\n        title: \"Enhet\",\n        pathname: \"device\",\n        search: \"documentType=device\"\n    },\n]\n\n\nconst pageTypes = [\n    {\n        icon: \"pageGrid\",\n        title: \"Mosaikk\",\n        pathname: \"grid\",\n        search: \"documentType=pageGrid\"\n    },\n    {\n        icon: \"pageTimeline\",\n        title: \"Tidslinje\",\n        pathname: \"timeline\",\n        search: \"documentType=pageTimeline\"\n    },\n    {\n        icon: \"pageAnnotate\",\n        title: \"Bildekart\",\n        pathname: \"grid\",\n        search: \"documentType=pageAnnotate\"\n    },\n    {\n        icon: \"pageMedia\",\n        title: \"Media\",\n        pathname: \"media\",\n        search: \"documentType=pageMedia\"\n    },\n    {\n        icon: \"pageList\",\n        title: \"Liste\",\n        pathname: \"grid\",\n        search: \"documentType=pageList\"\n    }\n\n]\n\n\nexport default {\n    title: \"Create\",\n    pathname: \"create\",\n    \"children\": [\n        {\n            type: \"section\",\n            children: contentTypes\n        },\n        {\n            type: \"section\",\n            children: pageTypes\n        }\n    ]\n\n}","import app from \"./app\"\nexport default app","import theme from \"./theme\"\nimport primaryAction from \"./action\"\nimport menu from \"./menu\"\n\nexport default {\n    theme: theme,\n    icon: \"kioskApp\",\n    url: \"/kiosk\",\n    root: \"/kiosk\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"Kiosk\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    sidebar: {\n        expanded: true\n    },\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n//        \"variant\": \"growing\",\n        \"expanded\": false,\n        \"placeholder\": \"Søk i Kiosk\"\n    }\n}","const home = {\n    url: \"/kiosk\",\n    title: \"Alt innhold\",\n    view: \"icons\",\n    viewOptions: [\"list\",\"table\",\"icons\",\"gallery\",\"masonry\"],\n    query: {\n        models: \"documents\",\n        documentType: \"*\",\n        status: \"NOT trash\"\n    }\n}\n\nconst contentTypes = [\n    {\n        pathname: \"article\",\n        title: \"Artikler\",\n        icon: \"article\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"article\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"device\",\n        title: \"Enheter\",\n        icon: \"device\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"device\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"grid\",\n        title: \"Mosaikk\",\n        icon: \"pageGrid\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageGrid\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"timeline\",\n        title: \"Tidslinje\",\n        icon: \"pageTimeline\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageTimeline\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"annotate\",\n        title: \"Bildekart\",\n        icon: \"pageAnnotate\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageAnnotate\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"media\",\n        title: \"Media\",\n        icon: \"pageMedia\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageMedia\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"list\",\n        icon: \"pageList\",\n        title: \"Liste\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageList\",\n            status: \"NOT trash\"\n        }\n    },\n\n]\n\n\nconst mediaTypes = [\n    {\n        pathname: \"image\",\n        title: \"Bilder\",\n        view: \"icons\",\n        icon: \"imageFolder\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"image\",\n        }\n    },\n    {\n        pathname: \"video\",\n        title: \"Video\",\n        icon: \"videoFolder\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"video\",\n        }\n    },\n    {\n        pathname: \"audio\",\n        title: \"Audio\",\n        icon: \"audioFolder\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"audio\",\n        }\n    },\n\n]\n\nconst shortcuts = [\n    {\n        pathname: \"latest\",\n        title: \"Latest\",\n        icon: \"history\",\n        query: {\n            models: \"documents\",\n            status: \"NOT trash\",\n            models: \"documents\",\n            sort: \"updatedAt DESC\"\n        }\n        },\n    {\n        icon: \"delete_outline\",\n        title: \"Trash\",\n        pathname: \"trash\",\n        query: {\n            models: \"documents\",\n            status: \"trash\",\n            models: \"documents\",\n            sort: \"deletedAt DESC\",\n        }\n    }\n\n]\n\nconst favourites = [\n    {\n        url: \"/kp\",\n        title: \"KulturPunkt\",\n        icon: \"kpMenu\",\n    }\n]\n\nexport default [\n    home,\n    {\n        title: \"Innhold\",\n        pathname: \"content\",\n        role: \"section\",\n        children: contentTypes\n    },\n    {\n        title: \"Media\",\n        pathname: \"media\",\n        role: \"section\",\n        children: mediaTypes\n    },\n    {\n        title: \"Snarveier\",\n        pathname: \"shortcuts\",\n        role: \"section\",\n        children: shortcuts\n    },\n    {\n        title: \"Favoritter\",\n        pathname: \"favourites\",\n        role: \"section\",\n        children: favourites\n    }\n\n]","export default {\n    MuiInputBase: {\n        root: {\n            fontFamily: \"Akkurat, sans-serif\",\n            lineHeight: \"1.25\"\n        }\n    },\n    MuiFilledInput: {\n        root: {\n            borderTopLeftRadius: \"0\",\n            borderTopRightRadius: \"0\"\n        }\n    },\n    MuiFormLabel: {\n        root: {\n        }\n    },\n    MuiFormHelperText: {\n        root: {\n        }\n    },\n    MuiButtonGroup: {\n        grouped: {\n        }\n    },\n    MuiButton: {\n        root: {\n            fontFamily: \"Akkurat, sans-serif\",\n            fontWeight: \"bold\",\n            textTransform: \"none\",\n            borderRadius: 1,\n        },\n        outlined: {\n        },\n    }\n}","import Color from 'color';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport overrides from \"./theme.overrides\"\n\nconst getColor = (color = \"#666\") => {\n    return Color(color).hex();\n}\n\nconst getPalette = ({primaryColor, secondaryColor}) => {\n\n    return {\n        primary: {\n            main: getColor(primaryColor), \n        },\n        secondary: {\n            main: getColor(secondaryColor || primaryColor), \n        }\n    }\n\n}\n\n\nexport const createAppTheme = ({palette, ...theme}) => {\n\n    return createMuiTheme({\n        typography: {\n            fontFamily: \"Akkurat, sans-serif !important\"\n        },\n        palette: palette || getPalette(theme),\n        overrides: overrides\n    })\n\n\n}\n\nexport default createAppTheme","import React, { useState, useEffect } from 'react';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { createAppTheme } from \"./utils/createAppTheme\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n\n        display: \"flex\",\n        flexDirection: \"column\",\n\n    },\n}));\n\n/** AppBase sets a backgroundColor and supplies a theme to the application */\n\nconst AppBase = ({className, theme, children}) => {\n    const classes = useStyles()\n\n    return (\n        <ThemeProvider theme={createAppTheme(theme)}>\n            <main className={className || classes.root}>\n                {children}\n            </main>\n        </ThemeProvider>\n    )\n}\n\nAppBase.defaultProps = {\n    /** MUI theme or primaryColor */\n    theme: {\n        primaryColor: \"blue\"\n    }\n}\n\nexport default AppBase","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        flexGrow: 1,\n        position: \"relative\",\n        transition: \".125s ease-out\",\n    },\n}));\n\nconst AppBody = ({className, expanded = false, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.body} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n}\n\nexport default AppBody;","import React, { useState, useRef, forwardRef } from 'react';\nimport DropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        borderRadius: 1,\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        marginLeft: theme.spacing(-.5)\n    },\n    toggle: {\n        borderRadius: 0,\n        width: theme.spacing(5),\n    },\n}));\n\nconst ActionButton = ({className, forwardedRef, icon, role, size = \"large\", variant = \"contained\", color = \"primary\", disabled, expanded, controls, children, onClick, onToggle, ...item}) => {\n    const { label, title } = item;\n\n    const classes = useStyles()\n\n    if (onClick && onToggle) {\n        return (\n            <ButtonGroup aria-label=\"action\" color={color} ref={forwardedRef}>\n                <Button size={size} variant={variant} className={className || classes.root} disabled={disabled} onClick={onClick}> \n                    { icon && <Icon className={classes.icon}>{icon}</Icon> }\n                    { label || title }\n                </Button>\n                <Button size={size} variant={variant} disabled={disabled} className={classes.toggle}\n                    size=\"small\"\n                    aria-controls={expanded ? controls : undefined}\n                    aria-expanded={expanded ? 'true' : undefined}\n                    aria-label=\"options\"    \n                    aria-haspopup=\"menu\"\n                    onClick={onToggle}>\n                    <DropDownIcon />\n                </Button>\n            </ButtonGroup>\n        )\n    }\n\n    if (onToggle) {\n        return (\n            <Button size={size} variant={variant} color={color} className={className || classes.root} disabled={disabled} onClick={onToggle} ref={forwardedRef}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon> }\n                { label || title }\n                <DropDownIcon />\n            </Button>\n        )\n    }\n    \n    return (\n        <Button size={size} variant={variant} color={color} className={className || classes.root} disabled={disabled} onClick={onClick}>\n            { icon && <Icon className={classes.icon}>{icon}</Icon> }\n            { label || title }\n        </Button>\n    )\n}\n\nexport default ActionButton;","import React from 'react';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dropdown: {\n        minWidth: props => { return props.minWidth },\n    },\n}));\n\nconst NavActionDropdown = ({className, minWidth = 192, open, anchorEl, placement = \"bottom-start\", onClickAway, children}) => {\n\n    const classes = useStyles({minWidth})\n\n    return (\n        <Popper open={open} style={{zIndex: 2000}}\n            role={undefined} transition anchorEl={anchorEl} placement={placement}>\n            <ClickAwayListener onClickAway={onClickAway}>\n                <Paper className={className || classes.dropdown} elevation={16} square={true}>\n                    {children}\n                </Paper>\n            </ClickAwayListener>\n        </Popper>\n    )\n}\n\nexport default NavActionDropdown;","import React from 'react';\nimport MenuList from \"@material-ui/core/MenuList\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionList: {\n        width: \"100%\",\n        paddingTop: theme.spacing(1.5),\n        paddingBottom: theme.spacing(1.5),\n    },\n}));\n\nconst ActionMenuList = ({className, children}) => {\n    const classes = useStyles()\n\n    return (\n        <MenuList className={className || classes.actionList}>\n            {children}\n        </MenuList>\n    )\n\n}\n\nexport default ActionMenuList","import React from 'react';\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionListItem: {\n        width: \"100%\",\n        padding: 0,\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n        }\n    }\n}));\n\nconst ActionMenuItem = ({className, role, children}) => {\n    const classes = useStyles()\n\n    return (\n        <ListItem className={className || classes.actionListItem} role={role}>\n            {children}\n        </ListItem>\n    )\n\n}\n\nexport default ActionMenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase'\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Icon from '@material-ui/core/Icon';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    actionLink: {\n        width: \"100%\",\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        \"& .MuiTypography-root\": {\n            fontFamily: \"Akkurat, sans-serif\",\n        },\n        \"&[role=group] + *\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n            borderTop: \"1px solid\",\n            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n                borderTop: \"1px solid\",\n                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n\n    },\n    icon: {\n        color: \"rgba(0,0,0,.54)\"\n    },\n    text: {\n        fontFamily: \"Akkurat, sans-serif !important\",\n        fontSize: \"inherit\",\n        \"& strong\": {\n            fontWeight: \"bold\"\n        }\n    }\n}));\n\nconst ActionMenuLink = ({className, icon, label, title, description, onClick}) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    if (!label) {\n        return null\n    }\n\n    return (\n        <MenuItem className={className || classes.actionLink} onClick={onClick}>\n            { icon && <ListItemIcon><Icon className={classes.icon}>{icon}</Icon></ListItemIcon> }\n            <ListItemText className={classes.text} primary={label} secondary={description}></ListItemText>\n        </MenuItem>\n    )\n\n}\n\nexport default ActionMenuLink","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuList from \"./NavActionMenuList\"\nimport MenuItem from \"./NavActionMenuItem\"\nimport MenuLink from \"./NavActionMenuLink\"\n\n/** Menu component. Takes */\n\nconst NavMenu = ({className, icons = {}, menu = [], menuByUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count, onClick } = item;\n\n        return (\n            <MenuLink selected={selected} url={url} icon={icon} label={label || title} count={count} onClick={() => _onSelect(item)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        const { role, children, hidden, selected } = item;\n\n        const expanded = true\n\n        if (hidden) {\n            return (\n                <MenuItem key={index} role={role}>\n                    <MenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </MenuList>\n                </MenuItem>\n            )\n        }\n\n        if (children) {\n            return (\n                <MenuItem key={index} role={role || \"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <MenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </MenuList>\n                    }\n                </MenuItem>\n            )\n        }\n\n        return (\n            <MenuItem {...item} key={index} role={role || \"none\"}>\n                { renderLink(item) }\n            </MenuItem>\n        )\n\n    }\n\n    if (!menu || !menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <MenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </MenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","import React, { useState, useRef, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavActionButton from \"./NavActionButton\"\nimport NavActionDropdown from \"./NavActionDropdown\"\nimport NavActionMenu from \"./NavActionMenu\"\n\nconst NavActionItem = ({variant = \"contained\", icons = {}, menuByUrl = {}, onSelect, ...props}) => {\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null);\n\n    const { url, children, onClick } = props\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onSelect = (item) => {\n        onSelect && onSelect(item)\n        setExpanded(false);\n    }\n\n    // combo\n\n    if (children && url || children && onClick) {\n\n        return (\n            <>\n                <NavActionButton {...props} variant={variant} onClick={() => _onSelect(props)} forwardedRef={anchorRef} onToggle={_onToggle} />\n                <NavActionDropdown open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                    <NavActionMenu icons={icons} menu={children} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                </NavActionDropdown>\n            </>\n        )\n\n    }\n\n    // children\n\n    if (children) {\n\n        return (\n            <>\n                <NavActionButton {...props} variant={variant} expanded={expanded} forwardedRef={anchorRef} onToggle={_onToggle} />\n                <NavActionDropdown open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                    <NavActionMenu icons={icons} menu={children} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                </NavActionDropdown>\n            </>\n        )\n        \n    }\n\n    // single\n\n    return (\n        <NavActionButton {...props} variant={variant} onClick={() => _onSelect(props)} />\n    )\n\n    return null\n\n}\n\n\nNavActionItem.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavActionItem.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n}\n\nexport default NavActionItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavActionItem from \"./NavActionItem\"\n\n/** Action menu component */\n\nconst NavAction = ({className, variant = \"contained\", icons = {}, menu = [], menuByUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        item.onClick && item.onClick() || onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        return (\n                <NavActionItem {...item} variant={item.variant || variant} icons={icons} menuByUrl={menuByUrl} key={index} onSelect={_onSelect} />\n        )\n\n    }\n\n    if (!menu || !menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            { menu.map(renderItem)}\n        </nav>\n    )\n\n}\n\nNavAction.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavAction.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavAction;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        \"&[role=tree]\": {\n            marginLeft: theme.spacing(3)\n        },\n        \"& > li + li\": {\n            marginTop: theme.spacing(.5)\n        },\n        \"& > li > ul > li + li\": {\n            marginTop: 0\n        },\n        \"&[role=group] > li + li\": {\n            marginTop: theme.spacing(.5)\n        }\n    }\n}));\n\nconst MenuList = ({className, role = \"tree\", children}) => {\n    const classes = useStyles()\n\n    return (\n        <ul className={className || classes.root} role={role}>\n            { children }\n        </ul>\n    )\n}\n\nexport default MenuList","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        display: \"block\",\n        width: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n\n        \"&[role=group] + *\": {\n//            borderTop: \"1px solid\",\n//            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n        },\n        \"& + &[role=group]\": {\n//            borderTop: \"1px solid\",\n//            borderTopColor: theme.palette.divider,\n            marginTop: theme.spacing(1.5),\n            paddingTop: theme.spacing(1.5),\n\n            \"& + *\": {\n//                borderTop: \"1px solid\",\n//                borderTopColor: theme.palette.divider,\n                marginTop: theme.spacing(1.5),\n                paddingTop: theme.spacing(1.5),\n            }\n\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        left: \"-24px\",\n        padding: 0,\n        margin: 0,\n        opacity: 0.5\n    },\n    toggleCollapsed: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\"\n    },\n    toggleExpanded: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(0deg)\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        opacity: 0.5\n    }\n}));\n\nconst MenuToggle = ({expanded = false, onClick}) => {\n    const classes = useStyles();\n    const toggleIcon = expanded && classes.toggleExpanded || classes.toggleCollapsed\n\n    return (\n        <IconButton className={classes.toggle} onClick={onClick} aria-expanded={expanded} size=\"small\">\n            <ToggleIcon className={toggleIcon} />\n        </IconButton>\n    )\n}\n\nconst MenuItem = ({className, role = \"treeitem\", count, expanded = false, onToggle, children}) => {\n    const classes = useStyles();\n\n    return (\n        <li className={className || classes.root} role={role} aria-expanded={expanded}>\n            { onToggle && <MenuToggle expanded={expanded} onClick={onToggle} /> }\n            { children }\n        </li>\n    )\n}\n\nexport default MenuItem","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        }\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        },\n\n        \"& + $label\": {\n            marginLeft: 12\n        }\n\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst MenuLink = ({className, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    return (\n        <ButtonBase color={color} className={className || classes.root} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon} aria-selected={selected}>{icon}</Icon> }\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            { count && <Typography component=\"i\" align=\"right\" nowrap=\"true\" className={classes.count}>{count}</Typography> }\n            { children }\n        </ButtonBase>\n    )\n}\n\nexport default MenuLink","import React from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        width: \"100%\",\n        paddingRight: theme.spacing(3),\n        alignItems: \"center\",\n        justifyContent: \"start\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"12px\",\n        lineHeight: \"24px\",\n        color: theme.palette.text.secondary,\n\n        \"&[aria-selected=true]\": {\n\n            \"& $label\": {\n                color: theme.palette.text.primary,\n                color: theme.palette.type === \"dark\" && theme.palette.primary.light || theme.palette.primary.dark,\n            }\n\n        },\n        marginBottom: theme.spacing(.5),\n    },\n    icon: {\n        \"&[aria-selected=true]\": {\n            color: theme.palette.text.primary,\n        }\n    },\n    label: {\n        display: \"block\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        fontFamily: \"inherit\",\n        fontWeight: \"bold\",\n        fontSize: \"inherit\",\n        lineHeight: \"inherit\",\n//        paddingLeft: \"12px\",\n//        paddingRight: \"6px\"\n    },\n    count: {\n        position: \"absolute\",\n        right: 0,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        lineHeight: \"24px\",\n        textAlign: \"right\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst NavMenuLabel = ({className, url, selected, icon, label, title, count, onClick, children }) => {\n    const classes = useStyles()\n\n    if (!label && title) {\n        label = title\n    }\n\n    let color\n\n    if (selected) {\n        color = \"primary\"\n    }\n\n    if (!url) {\n        return (\n            <div color={color} className={className || classes.root} aria-selected={selected}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n            </div>\n        )\n    }\n\n    return (\n        <ButtonBase color={color} className={className || classes.root} aria-selected={selected} onClick={onClick}>\n            { label && <Typography component=\"b\" align=\"left\" noWrap className={classes.label}>{label}</Typography> }\n        </ButtonBase>\n    )\n\n}\n\nexport default NavMenuLabel","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NavMenuList from \"./NavMenuList\"\nimport NavMenuItem from \"./NavMenuItem\"\nimport NavMenuLink from \"./NavMenuLink\"\nimport NavMenuLabel from \"./NavMenuLabel\"\n\nconst NavMenuCalendar = () => { return <p>cal</p>}\n\n/** Menu component */\n\nconst NavMenu = ({className, icons = {}, menu = [], menuByUrl, currentUrl, onSelect, onToggle}) => {\n\n    const _onSelect = (item, event) => {\n        onSelect && onSelect(item)\n    }\n\n    const _onToggle = (item, event) => {\n        onToggle && onToggle(item)\n    }\n\n    const renderLink = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLink selected={selected} url={url} icon={icon} label={label || title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderLabel = (item) => {\n        const { selected, url, icon, title, label, count } = item;\n\n        return (\n            <NavMenuLabel selected={selected} url={url} icon={icon} label={label || title} count={count} onClick={(event) => _onSelect(item, event)} />\n        )\n\n    }\n\n    const renderItem = (item, index) => {\n\n        if (item.url && menuByUrl && menuByUrl[item.url]) {\n            item = {\n                ...menuByUrl[item.url],\n                ...item,\n            }\n        }\n\n        if (item.icon && icons[item.icon]) {\n            item = {\n                ...item,\n                icon: icons[item.icon]\n            }\n        }\n\n        if (item.url && currentUrl && item.url === currentUrl) {\n            item = {\n                ...item,\n                expanded: true,\n                selected: true\n            }\n        }\n\n        if (item.url && currentUrl && currentUrl.startsWith(item.url)) {\n            item = {\n                ...item,\n                expanded: true,\n            }\n        }\n\n        const { role, calendar, children, hidden, selected, expanded } = item;\n\n        if (role === \"section\") {\n\n            return (\n                <NavMenuItem key={index} role=\"group\">\n                    { renderLabel(item) }\n\n                    { children && \n                        <NavMenuList role=\"group\">\n                        { children && children.map((item, index) => renderItem({...item, role: ''}, index))}\n                        </NavMenuList>\n                    }\n\n                </NavMenuItem>\n            )\n\n            \n        }\n\n        if (hidden) {\n            return (\n                <NavMenuItem key={index} role={role}>\n                    <NavMenuList role={role}>\n                    { children && children.map(renderItem)}\n                    </NavMenuList>\n                </NavMenuItem>\n            )\n        }\n\n        if (calendar) {\n            return (\n                <NavMenuItem key={index} role={role || \"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { expanded &&\n                        <NavMenuCalendar {...calendar} /> \n                    }\n                </NavMenuItem>\n            )\n\n        }\n\n        if (children && children.length) {\n            return (\n                <NavMenuItem key={index} role={role || \"treeitem\"} selected={selected} expanded={expanded} onToggle={(event) => _onToggle(item, event)}>\n                    { renderLink(item) }\n                    { children && expanded && \n                        <NavMenuList role=\"tree\">\n                        { children && children.map(renderItem)}\n                        </NavMenuList>\n                    }\n                </NavMenuItem>\n            )\n        }\n\n        return (\n            <NavMenuItem {...item} key={index} role={role || \"none\"}>\n                { renderLink(item) }\n            </NavMenuItem>\n        )\n\n    }\n\n    if (!menu || !menu.length) {\n        return false\n    }\n\n    return (\n        <nav className={className}>\n            <NavMenuList role=\"tree\">\n                { menu.map(renderItem)}\n            </NavMenuList>\n        </nav>\n    )\n\n}\n\nNavMenu.defaultProps = {\n    menu: [],\n    menuByUrl: {}\n}\n\nNavMenu.propTypes = {\n    /** ClassName */\n    className: PropTypes.string,\n    /** Custom icons */\n    icons: PropTypes.object,\n    /** The menu array */\n    menu: PropTypes.array,\n    /** Menu items, indexed by url */\n    menuByUrl: PropTypes.object,\n    /** Current URL selected */\n    currentUrl: PropTypes.string,\n    /** Select function */\n    onSelect: PropTypes.func,\n    /** Toggle function */\n    onToggle: PropTypes.func\n}\n\nexport default NavMenu;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NavAction from \"../NavAction/NavAction\"\nimport NavMenu from \"../NavMenu/NavMenu\"\n\nconst useStyles = makeStyles(theme => ({\n    sidebar: {\n        position: \"relative\",\n    },\n    action: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    }\n}));\n\nconst AppSidebar = ({className, icons = {}, expanded = false, width = 224, calendar, menu, menuByUrl = {}, primaryAction, onSelect, children}) => {\n\n    const classes = useStyles({width})\n\n    return (\n        <aside className={className || classes.sidebar} aria-expanded={expanded}>\n            { primaryAction && <NavAction className={classes.action} icons={icons} primaryAction={[primaryAction]} menuByUrl={menuByUrl} onSelect={onSelect} />}\n            { menu && <NavMenu icons={icons} menu={menu} menuByUrl={menuByUrl} onSelect={onSelect} /> }\n            { children }\n        </aside>\n    )\n\n}\n\nAppSidebar.propTypes = {\n    className: PropTypes.string,\n    expanded: PropTypes.bool,\n    calendar: PropTypes.shape({\n        date: PropTypes.string\n    }),\n    menu: PropTypes.array\n}\n\nAppSidebar.defaultProps = {\n    calendar: undefined\n}\n\nexport default AppSidebar;","import React, { Component } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        transition: \".125s ease-out\"\n    },\n}));\n\nconst AppContent = ({className, expanded, children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n}\n\nexport default AppContent;","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport TextField from \"@material-ui/core/TextField\"\nimport InputBase from \"@material-ui/core/InputBase\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n    },\n    field: {\n        display: \"flex\",\n        width: \"100%\",\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        width: \"100%\",\n        height: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"1\",\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"&:focus + *\": {\n            opacity: 1\n        }\n    },\n    toggle: {\n        marginLeft: theme.spacing(1),\n    },\n    reset: {\n        marginRight: theme.spacing(1),\n    }\n}));\n\nconst NavSearch = ({\n    id = \"nav-search\",\n    className,\n    expanded,\n    InputProps = {},\n    inputRef,\n    inputProps = {},\n    inputClassName,\n    placeholder = \"Search\",\n    value,\n    onChange,\n    onFocus,\n    onBlur,\n    onToggle,\n    onReset\n}) => {\n\n    const classes = useStyles()\n\n    const ButtonReset = () => {\n        return (\n            <IconButton className={classes.reset} onClick={onReset}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n    \n    const ButtonToggle = () => {\n        return (\n            <IconButton className={classes.toggle} disableRipple disabled={!onToggle} onClick={onToggle}>\n                <SearchIcon />\n            </IconButton>\n        )\n    }\n\n    const startAdornment = <ButtonToggle />\n    const endAdornment = <ButtonReset />\n\n    const ref = InputProps.ref\n\n    if (inputProps.value) {\n        value = inputProps.value\n    }\n\n    return (\n        <InputBase\n            aria-expanded={expanded}\n            inputRef={inputRef}\n            id={id}\n            ref={ref}\n            className={className || classes.field}\n            placeholder={placeholder}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            onChange={onChange}\n            value={value}\n            startAdornment={startAdornment}\n            endAdornment={endAdornment}\n            inputProps={{\n                ...inputProps,\n                className: inputClassName || classes.input,\n                'aria-label': 'Search',\n            }}\n        />        \n    )\n\n    /*\n    \n    return (\n        <div className={className || classes.search} aria-expanded={expanded}>\n            <div ref={InputProps.ref} className={fieldClassName || classes.field} aria-expanded={expanded || \"false\"}>\n                <ButtonToggle onClick={_onToggle} disabled={!onToggle && true || false} />\n                <input id={id} ref={inputRef} type=\"text\"\n                    placeholder={placeholder}\n                    onChange={_onChange}\n                    {...inputProps} \n                    className={inputClassName || classes.input} \n                    />\n                {InputProps.endAdornment || <ButtonReset onClick={_onReset} /> }\n            </div>\n            {children}\n        </div>\n    )\n\n    */\n}\n\nNavSearch.propTypes = {\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default NavSearch;","import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavSearch from \"../NavSearch/NavSearch\"\n\nimport Typography from '@material-ui/core/Typography';\nimport Icon from '@material-ui/core/Icon';\n\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { matchSorter } from 'match-sorter'\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: theme.palette.primary.main,\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n    },\n    field: {\n        display: \"flex\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n        width: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        lineHeight: 1,\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n    },\n    growingField: {\n        position: \"absolute\",\n        right: 0,\n    \n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n        transition: \".125s ease-out\",\n\n        width: theme.spacing(16),\n        height: theme.spacing(5),\n        margin: theme.spacing(1.5),\n        borderRadius: theme.spacing(2.5),\n\n        \"& > input\": {\n            fontSize: 16\n        },\n\n        \"&[aria-expanded=true]\": {\n            borderRadius: 0,\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            margin: 0,\n            width: \"100%\",\n            height: theme.spacing(8),\n\n            \"& > input\": {\n                fontSize: 18,\n            },\n\n            \"& > input + button\": {\n                display: \"block\"\n            }\n\n\n        },\n\n        \"& > button\": {\n            margin: 0\n        }\n\n    },\n    growingInput: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        lineHeight: 1,\n        color: \"inherit\",\n\n//        textOverflow: \"ellipsis\",\n//        overflow: \"hidden\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"& + button\": {\n            display: \"none\"\n        },\n\n    },\n    suggestRoot: {\n\n        \"& > $suggestPopper\": {\n            marginTop: 0\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"& > $suggestPopper\": {\n                marginTop: 64\n            }\n\n        }\n    },\n    suggestOverlay: {\n        position: \"fixed\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        transition: \".125s ease-out\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        pointerEvents: \"none\",\n        opacity: 0,\n        \"&[aria-expanded=true]\": {\n            opacity: 1,\n            pointerEvents: \"all\",\n        }\n    },\n    suggestPopper: {\n        position: \"fixed\",\n        marginTop: 64,\n        width: \"100%\",\n    },\n    suggestPaper: {\n        width: \"100%\",\n        padding: 0,\n        margin: 0,\n        borderRadius: 0,\n//        borderTop: \"1px solid\",\n        borderTopColor: theme.palette.divider,\n        boxShadow: theme.shadows[2]\n    },\n    suggestList: {\n        paddingTop: 8,\n        paddingBottom: 8\n    },\n    suggestListItem: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        width: \"100%\",\n        paddingTop: 8,\n        paddingRight: 16,\n        paddingBottom: 8,\n        paddingLeft: 16,\n    },\n    suggestIcon: {\n        \"& + $suggestLabel\": {\n            marginLeft: 16\n        }\n    },\n    suggestLabel: {\n        flexGrow: 1,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14\n    },\n    suggestCount: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n        color: theme.palette.text.secondary\n    },\n    suggestQuery: {\n        textDecoration: \"underline\",\n        \"&:before\": {\n            content: '\"«\"'\n        },\n        \"&:after\": {\n            content: '\"»\"'\n        },\n    },\n\n    suggestGroupList: {\n        padding: 0,\n        margin: 0,\n\n        \"& > $suggestListItem\": {\n            paddingLeft: 16\n        },\n\n    },\n    suggestGroupLabel: {\n        borderTop: \"1px solid\",\n        marginTop: 8,\n        paddingTop: 16,\n        paddingLeft: 16,\n        marginBottom: 8,\n        borderTopColor: theme.palette.divider,\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n        fontWeight: \"normal\",\n        textTransform: \"capitalize\",\n        color: theme.palette.text.secondary\n\n\n    },\n    \n}));\n\n\nconst AppSearch = ({\n    id = \"app-search\",\n    className,\n    variant = \"default\",\n    expanded,\n    placeholder = \"Search app\",\n    icons,\n    options,\n    scopes,\n    suggest,\n    value,\n    onChange,\n    onFocus,\n    onBlur,\n    onToggle,\n    onReset,\n    autocompleteProps,\n    ...props}) => {\n\n    const classes = useStyles()\n\n    const inputRef = useRef(null)\n\n    let fieldClassName = classes.field\n    let inputClassName = classes.input\n\n    if (variant === \"growing\") {\n        fieldClassName = classes.growingField\n        inputClassName = classes.growingInput\n    }\n\n    const _onFocus = (event) => {\n        if (!expanded) {\n            onToggle && onToggle()\n        }\n\n        onFocus && onFocus(event)\n    }\n\n    const _onBlur = (event) => {\n        onBlur && onBlur(event)\n    }\n\n    const _onChange = (event) => {\n        onChange && onChange(event.target.value, event)\n    }\n\n    if (options) {\n\n        autocompleteProps = {\n            options: options,\n            ...autocompleteProps\n        }\n\n    }\n\n    if (autocompleteProps) {\n\n        // keep query options\n\n        const scopeOptions = autocompleteProps.options && autocompleteProps.options.filter(option => option.query)\n        const suggestOptions = autocompleteProps.options && autocompleteProps.options.filter(option => !option.query)\n\n        const _filterOptions = (options, state) => {\n            const { inputValue, selected } = state\n\n            // keep query options\n\n//            let query = options.filter(option => option.query)\n//            let items = options.filter(option => !option.query)\n\n            const baseSort = (a, b) => ( a.modelName < b.modelName ? -1: 1 )\n\n            let filtered = matchSorter(suggestOptions, inputValue, { keys: ['title'], baseSort: baseSort })\n\n            /*\n\n            if (state.inputValue !== '') {\n              filtered.push({\n                inputValue: state.inputValue,\n                title: `Add \"${state.inputValue}\"`,\n              });\n            }\n\n            */\n\n            if (scopeOptions) {\n                filtered = [\n                    ...scopeOptions,\n                    ...filtered\n                ]\n            }\n\n            return filtered;\n        \n        }\n    \n        const _getOptionLabel = (option) => {\n            return option.q\n        }\n   \n        const _getOptionHighlight = (label, q) =>  {\n\n            const matches = match(label, q);\n            const parts = parse(label, matches);\n        \n            return parts.map((part, index) => {\n                if (part.highlight) {\n                    return <b className={classes.suggestHighlight}>{part.text}</b>\n                }\n                return part.text\n            })\n\n        }\n\n        const _getOptionQuery = (label, q) =>  {\n\n            const matches = match(label, \"[q]\");\n            const parts = parse(label, matches);\n        \n            return parts.map((part, index) => {\n                if (part.highlight) {\n                    return <b className={classes.suggestQuery}>{q}</b>\n                }\n                return part.text\n            })\n\n        }\n\n        const _renderGroup = ({group, children}) => {\n\n            if (group) {\n                return (\n                    <li>\n                        <div className={classes.suggestGroupLabel}>{group}</div>\n                        <ul className={classes.suggestGroupList}>{children}</ul>\n                    </li>\n                )\n            }\n\n            return children\n\n        }\n\n        const _renderOption = (option = {}, state) => {\n            const { inputValue, selected } = state\n    \n            let { uniqueId, documentType, query, icon, placeholder, title, count } = option\n    \n            if (!icon && icons && icons[documentType]) {\n                icon = icons[documentType]\n            }\n\n            // highlight\n\n            const label = inputValue == '' && placeholder || query && _getOptionQuery(title, inputValue) || _getOptionHighlight(title, inputValue)\n    \n            return (\n                <>\n                    {icon && <Icon className={classes.suggestIcon}>{icon}</Icon>}\n                    <Typography className={classes.suggestLabel}>\n                        {label}\n                    </Typography>\n                    { count && <Typography className={classes.suggestCount}>{count}</Typography> }\n                </>\n            ) \n    \n        }\n\n        return (\n            <div className={className || classes.search} aria-expanded={expanded}>\n                <div className={classes.suggestOverlay} aria-expanded={expanded} onClick={onToggle}></div>\n                <Autocomplete\n                    id={id + \"-suggest\"}\n                    classes={{\n                        root: classes.suggestRoot,\n                        popper: classes.suggestPopper,\n                        paper: classes.suggestPaper,\n                        listbox: classes.suggestList,\n                        option: classes.suggestListItem,\n                        groupUl: classes.suggestGroupList,\n                        groupLabel: classes.suggestGroupLabel,\n                    }}\n                    fullWidth={true}\n                    disablePortal={true}\n                    open={expanded || false}\n                    filterOptions={_filterOptions}\n                    renderGroup={_renderGroup}\n                    renderOption={_renderOption}\n                    getOptionLabel={_getOptionLabel}\n        \n                    {...autocompleteProps}\n    \n                    renderInput={({InputProps, inputProps}) => {\n                        return (\n                            <NavSearch\n                                InputProps={InputProps}\n                                id={id}\n                                className={fieldClassName}\n                                expanded={expanded}\n                                inputRef={inputRef}\n                                inputProps={{\n                                    ...inputProps,\n                                    placeholder: placeholder\n                                }}\n                                inputClassName={inputClassName}\n    //                            onFocus={_onFocus}\n    //                            onBlur={_onBlur}\n    //                            onChange={_onChange}\n                                onToggle={onToggle}\n                                onReset={onReset}\n                                />\n                        )\n                    }}\n                />        \n            </div>\n        )\n\n    }\n\n    // default search\n    \n    return (\n        <div className={className || classes.search} aria-expanded={expanded}>\n            <NavSearch {...props}\n                id={id}\n                className={fieldClassName}\n                expanded={expanded}\n                placeholder={placeholder}\n                inputRef={inputRef}\n                inputClassName={inputClassName}\n                onFocus={_onFocus}\n                onBlur={_onBlur}\n                onChange={_onChange}\n                onToggle={onToggle}\n                onReset={onReset}\n                />\n        </div>\n    )\n\n\n\n\n}\n\nAppSearch.defaultProps = {\n    expanded: true,\n    placeholder: \"Search\"\n}\n\nAppSearch.propTypes = {\n    /** Expanded */\n    expanded: PropTypes.bool,\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default AppSearch;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    identifier: {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n//        width: \"100%\",\n        flexGrow: 1,\n        height: theme.spacing(8),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        color: props => { return theme.palette.header && theme.palette.header.title || theme.palette.primary.contrastText },\n    },\n    divider: {\n        backgroundColor: theme.palette.primary.contrastText,\n        width: \"1px\",\n        height: theme.spacing(3),\n        opacity: 0.85,\n        margin: theme.spacing(1.5),\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        },\n\n    },\n    subtitle: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"normal\",\n        opacity: 0.85,\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        },\n\n    }\n}));\n\nconst AppIdentifier = ({className, expanded, title, subtitle}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.identifier} aria-expanded={expanded}>\n            <Typography component=\"h1\" className={classes.title} noWrap>{title}</Typography>\n            { title && subtitle && <div className={classes.divider}></div> }\n            <Typography component=\"h2\" className={classes.subtitle} noWrap>{subtitle}</Typography>\n        </div>\n    )\n\n}\n\nAppIdentifier.propTypes = {\n    title: PropTypes.string,\n    subtitle: PropTypes.string\n}\n\nexport default AppIdentifier;","import React from 'react';\nimport Color from 'color';\nimport SeparatorIcon from '@material-ui/icons/NavigateNext';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nconst getColor = (color) => {\n    color = Color(color);\n\n    if (color.isDark()) {\n        return color.hex()\n    } else {\n        return 'black'\n    }\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        listStyle: \"none\",\n//        color: getColor(theme.palette.primary.main),\n        '& li[aria-hidden]': {\n            marginLeft: theme.spacing(0.5),\n            marginRight: theme.spacing(0.5)\n        },\n        \"& li\": {\n        }\n    }\n}));\n\nconst Path = ({className, children}) => {\n    const classes = useStyles();\n    \n    return (\n        <Breadcrumbs className={className || classes.root} separator={<SeparatorIcon />}>\n            {children}\n        </Breadcrumbs>\n    )\n\n}\n\nexport default Path;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport PathIcon from '@material-ui/icons/NavigateNext';\n\nconst useStyles = makeStyles(theme => ({\n    path: {\n        listStyle: \"none\",\n\n        '& li[aria-hidden]': {\n            marginLeft: theme.spacing(.5),\n            marginRight: theme.spacing(.5)\n        },\n\n        \"& .MuiBreadcrumbs-li\": {\n            fontFamily: \"Akkurat, sans-serif\",\n            fontWeight: \"bold\",\n            fontSize: 18,\n            lineHeight: 1.5,\n            color: \"inherit\",\n        }\n\n    },\n    link: {\n        color: theme.palette.primary.main,\n        color: theme.palette.text.primary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        }\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1),\n        }\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        color: theme.palette.primary.main,\n        fontSize: 18,\n        lineHeight: 1.5,\n        fontWeight: \"bold\",\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        lineHeight: 1.5,\n        color: theme.palette.text.secondary,\n        fontWeight: \"normal\",\n    },\n    identifier: {\n        fontFamily: \"Akkurat mono, Akkurat, sans-serif\",\n        fontSize: 16,\n        lineHeight: 1.5,\n        textTransform: \"uppercase\",\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"[\"'\n        },\n        \"&:after\": {\n            content: '\"]\"'\n        }\n\n    },\n\n}));\n\n\nconst NavPath = ({className, parents, title, untitled, description, identifier, onSelect, children}) => {\n\n    const classes = useStyles()\n\n    const _onSelect = (item) => {\n        item.onClick && item.onClick()\n        onSelect && onSelect(item)\n    }\n\n    const NavPathLink = ({title, label, onClick}) => {\n\n        return (\n            <Link className={classes.link} onClick={onClick}>\n                { title || label }\n            </Link>\n        )\n\n\n    }\n\n    const NavPathTitle = ({children}) => {\n\n        return (\n            <Typography className={classes.title} noWrap={true}>\n                {children}\n            </Typography>\n        )\n        \n    }\n\n    const NavPathDescription = ({children}) => {\n\n        return (\n            <Typography className={classes.description} noWrap={true}>\n                {children}\n            </Typography>\n        )\n        \n    }\n\n    const NavPathIdentifier = ({children}) => {\n\n        return (\n            <div className={classes.identifier}>\n                {children}\n            </div>\n        )\n        \n    }\n\n    const header = title || description || identifier\n\n    return (\n        <Breadcrumbs className={className || classes.path} separator={<PathIcon />}>\n            {parents && parents.map((parent, index) => <NavPathLink key={index} {...parent} onClick={(event) => _onSelect(parent, event)} /> )}\n\n            { header &&\n                <div className={classes.header}>\n                    { title && <NavPathTitle>{title}</NavPathTitle> }\n                    { description && <NavPathDescription>{description}</NavPathDescription> }\n                    { identifier && <NavPathIdentifier>{identifier}</NavPathIdentifier> }\n                </div>\n            }\n\n            {children}\n        </Breadcrumbs>\n    )\n\n\n}\n\nexport default NavPath;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 18,\n        lineHeight: 1,\n        color: \"inherit\",\n        \"&[data-url]\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst PathItem = ({color = \"primary\", url, onClick, children}) => {\n    const classes = useStyles();\n\n    if (url || onClick) {\n        return (\n            <Link color={color} className={classes.item} href={!onClick && url} data-url={url} onClick={onClick}>\n                { children }\n            </Link>\n        )\n    }\n\n    return (\n        <Typography className={classes.item} href={url}>\n            { children }\n        </Typography>\n    )\n\n}\n\nexport default PathItem","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport BackIcon from '@material-ui/icons/ArrowBack';\n\nimport { NavPath } from \"../NavPath\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    subview: {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.secondary,\n    },\n    section: {\n        height: theme.spacing(8),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        color: \"inherit\"\n    },\n    back: {\n        width: theme.spacing(6),\n        height: theme.spacing(6),\n    },\n}));\n\nconst AppSubview = ({className, expanded, parents, title, description, onBack, onSelect}) => {\n    const classes = useStyles()\n\n    const _onSelect = (item, event) => {\n        onSelect && onSelect(item, event)\n    }\n   \n    const _onBack = (event) => {\n        if (onBack) {\n            onBack(event)\n        } else if (onSelect && parents.length) {\n            onSelect(parents[parents.length-1], event)\n        }\n    }\n\n    return (\n        <div className={className || classes.subview} aria-expanded={expanded}>\n            <div className={classes.section}>\n                <IconButton className={classes.back} onClick={_onBack}>\n                    <BackIcon />\n                </IconButton>\n                <NavPath parents={parents} title={title} description={description} onSelect={_onSelect} />\n            </div>\n        </div>\n    )\n\n\n}\n\nAppSubview.propTypes = {\n    className: PropTypes.string,\n    expanded: PropTypes.bool,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    onBack: PropTypes.func\n}\n\nexport default AppSubview;","import React, { useState } from 'react';\nimport PropTypes from \"prop-types\"\nimport AppBar from '@material-ui/core/AppBar';\nimport AppSearch from \"./AppSearch\"\nimport AppIdentifier from \"./AppIdentifier\"\nimport AppSubview from \"./AppSubview\"\n\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"relative\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n\n        marginTop: theme.spacing(-8),\n\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0,\n            \n            \"& + *\": {\n//                marginTop: theme.spacing(8),\n            }\n        },\n\n    },\n    section: {\n        position: \"relative\",\n        width: \"100%\",\n\n        height: theme.spacing(8),\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\": {\n            marginTop: 0\n        },\n\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n\n    },\n    button: {\n        margin: theme.spacing(1),\n        color: \"inherit\"\n    },\n    identifier: {\n        position: \"absolute\",\n        top: 0,\n        rigth: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        pointerEvents: \"none\"\n    },\n    subview: {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary,\n        position: \"relative\",\n        width: \"100%\",\n        height: theme.spacing(8),\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n        \"&[aria-expanded=true]\": {\n            marginTop: 0\n        }\n    },\n    growingSearch: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"auto\",\n        height: theme.spacing(8),\n        display: \"flex\",\n\n        width: \"auto\",\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\": {\n            width: \"100%\",\n        }\n\n    },\n    search: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        transition: \".125s ease-out\",\n\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: theme.palette.text.primary,\n        width: \"100%\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        fontFamily: \"Akkurat, sans-serif\",\n\n        \"&[aria-expanded=true]\": {\n            marginTop: theme.spacing(-8),\n        }\n    }\n}));\n\n\nconst AppHeader = ({className, position = \"relative\", icons, expanded = true, elevation = 2, color = \"primary\", title, subtitle, sidebar, search, subview, children }) => {\n\n    const classes = useStyles({color, search})\n\n    const ButtonSidebar = ({onClick}) => {\n        return (\n            <IconButton className={classes.button} onClick={onClick}>\n                <MenuIcon />\n            </IconButton>\n        )\n\n    }\n\n    const ButtonSearch = ({onClick}) => {\n        return (\n            <IconButton className={classes.button} onClick={onClick}>\n                <SearchIcon />\n            </IconButton>\n        )\n    }\n\n    const collapsibleSidebar = sidebar && sidebar.collapsible\n    const growingSearch = search && search.variant === \"growing\"\n\n    return (\n        <AppBar position={position} className={className || classes.header} component=\"header\" aria-expanded={expanded} elevation={expanded && elevation}>\n            { subview && <AppSubview {...subview} className={classes.subview} expanded={subview && subview.expanded} /> }\n            <section className={classes.section} aria-expanded={search && search.expanded && false || true}>\n                { collapsibleSidebar && <ButtonSidebar onClick={sidebar && sidebar.onToggle} /> }\n                <AppIdentifier className={classes.identifier} title={title} subtitle={subtitle} />\n                { search && !growingSearch && <ButtonSearch onClick={search && search.onToggle} /> }\n            </section>\n            { search && <AppSearch {...search} icons={icons} className={growingSearch && classes.growingSearch || classes.search} /> }\n            { children }\n        </AppBar>\n    )\n}\n\nAppHeader.defaultProps = {\n    expanded: true,\n    search: undefined,\n    subview: undefined\n}\n\nAppHeader.propTypes = {\n    expanded: PropTypes.bool,\n    elevation: PropTypes.number,\n    color: PropTypes.string,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    sidebar: PropTypes.shape({\n        expanded: PropTypes.bool,\n        onToggle: PropTypes.func\n    }),\n    search: PropTypes.shape({\n        expanded: PropTypes.bool,\n        placeholder: PropTypes.string,\n        onToggle: PropTypes.func\n    }),\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool,\n        title: PropTypes.string,\n        subtitle: PropTypes.string,\n        onToggle: PropTypes.func\n    })\n}\n\nexport default AppHeader;","import React, { useEffect, useState } from 'react';\nimport Typography from \"@material-ui/core/Typography\"\nimport Icon from '@material-ui/core/Icon';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        position: \"absolute\",\n        bottom: 0,\n        left: 0,\n    },\n    info: {\n        display: \"flex\",\n        alignItems: \"center\",\n    },\n    icon: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontSize: 64,\n        margin: -10,\n        color: theme.palette.text.primary,\n        \"& > *\": {\n            fontSize: \"inherit\",\n            color: \"inherit\"\n        }\n    },\n    content: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        marginLeft: theme.spacing(2)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        color: theme.palette.text.primary\n    },\n    version: {\n        fontFamily: \"Akkurat mono, monospace\",\n        fontSize: 12,\n        color: theme.palette.text.secondary\n    }\n\n}));\n\n\nconst AppInfo = ({className, icons, icon, title, version, onClick}) => {\n    const classes = useStyles()\n    const appIcon = icons && icons[icon]\n\n    return (\n        <div className={className || classes.wrapper}>\n            <div className={classes.info}>\n                <Icon className={classes.icon} onClick={onClick}>\n                    {appIcon}\n                </Icon>\n                <div className={classes.content}>\n                    <Typography className={classes.title}>{title}</Typography>\n                    <Typography className={classes.version}>{version}</Typography>\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\nAppInfo.defaultProps = {\n}\n\nexport default AppInfo","\nimport React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport { AppBase, AppHeader, AppSidebar, AppContent, AppBody } from \"./\"\n\nimport NavAction from \"../NavAction/NavAction\"\nimport NavMenu from \"../NavMenu/NavMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    app: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n\n        display: \"flex\",\n        flexDirection: \"column\"\n\n    },\n    header: {\n        position: \"absolute\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0,\n            \n            \"& + *\": {\n                marginTop: theme.spacing(8),\n            }\n        },\n    },\n    body: {\n        position: \"relative\",\n        transition: \".125s ease-out\",\n        display: \"flex\",\n\n        flexBasis: 0,\n        flexGrow: 1\n\n    },\n    sidebar: {\n        width: props => { return props.sidebar.width },\n        marginLeft: props => { return props.sidebar.width * -1 },\n        transition: \".125s ease-out\",\n\n        \"&[aria-expanded=true]\":  {\n            [theme.breakpoints.up('sm')]: {\n                marginLeft: 0,\n            }\n        },\n        \"&[aria-expanded=true] + *\":  {\n            [theme.breakpoints.up('sm')]: {\n //               marginLeft: props => { return props.sidebar.width },\n            }\n        },\n    },\n    content: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        position: \"relative\",\n        height: \"100%\"\n    },\n    navAction: {\n        position: \"relative\",\n        zIndex: 2,\n        margin: theme.spacing(3)\n    },\n\n    navCalendar: {\n        margin: theme.spacing(2,.5)\n    },\n\n    navMenu: {\n//        margin: theme.spacing(2)\n    },\n\n}));\n\n/** AppLayout is a wrapper for all apps using AppHeader */\n\nconst AppLayout = ({\n    theme = undefined, \n    header = {}, \n    sidebar = {\n        width: 224\n    }, \n    search = undefined, \n    subview = undefined,\n    primaryAction = undefined,\n    icons = {},\n    menu, \n    menuByUrl = {},\n    currentUrl = undefined,\n    onSelect,\n    onToggle,\n    children\n}) => {\n\n    sidebar = {\n        ...sidebar,\n        width: 256\n    }\n\n    header = {\n        subview: subview,\n        search: search,\n        sidebar: sidebar,\n        ...header\n    }\n\n\n    const classes = useStyles({header, sidebar})\n\n    return (\n        <AppBase theme={theme} className={classes.app}>\n            <AppHeader {...header} icons={icons} className={classes.header} />\n            <AppBody className={classes.body}>\n                {children}\n            </AppBody>\n        </AppBase>\n    )    \n    return (\n        <AppBase theme={theme} className={classes.app}>\n            <AppHeader {...header} icons={icons} className={classes.header} />\n            <AppBody className={classes.body}>\n                <AppSidebar {...sidebar} className={classes.sidebar}>\n                    { primaryAction && <NavAction className={classes.navAction} icons={icons} menu={[primaryAction]} menuByUrl={menuByUrl} onSelect={onSelect} />}\n                    { menu && <NavMenu className={classes.navMenu} icons={icons} menu={menu} menuByUrl={menuByUrl} currentUrl={currentUrl} onSelect={onSelect} onToggle={onToggle} />}\n                </AppSidebar>\n                <AppContent className={classes.content}>\n                    { children }\n                </AppContent>\n            </AppBody>\n        </AppBase>\n    )\n\n}\n\nAppLayout.defaultProps = {\n    app: {\n\n    },\n    header: {\n        expanded: true\n    },\n}\n\nAppLayout.propTypes = {\n    /** App properties */\n    app: PropTypes.shape({\n        uniqueId: PropTypes.string,\n        title: PropTypes.string\n    }),\n    /** Header properties */\n    header: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Search properties */\n    search: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Subview properties */\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n}\n\nexport default AppLayout;","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst siteSlice = createSlice({\n    name: 'site',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestSite(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveSite(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        },\n        requestSiteCollections(state, action) {\n            return {\n                ...state,\n                collections: undefined\n            }\n        },\n        receiveSiteCollections(state, action) {\n            const { models } = action.payload\n            return {\n                ...state,\n                collections: models\n            }\n        }\n    }\n})\n\nexport const getSite = ({id, uniqueId, name}) => dispatch => {\n\n    if (id) {\n        dispatch(getSiteById({id}))\n    } else if (uniqueId) {\n        dispatch(getSiteById({id: uniqueId}))\n    } else if (name) {\n        dispatch(getSiteByName({name}))\n    }\n\n}    \n\nexport const getSiteById = ({id}) => dispatch => {\n    const apiUrl = API + '/admin/api/sites/' + id;\n\n    dispatch(requestSite({id}))\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(site => {\n            dispatch(receiveSite(site))\n        })\n    \n}\n\nexport const getSiteByName = ({name}) => dispatch => {\n    const apiUrl = API + '/admin/api/sites/search?name=' + name + \"&fl=id\";\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        results.models && results.models[0] && dispatch(getSiteById(results.models[0]))\n    })\n\n}\n\nexport const { \n    requestSite, receiveSite,\n    requestSiteCollections, receiveSiteCollections\n} = siteSlice.actions\n\nexport default siteSlice.reducer","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getSite } from \"../site\"\n\nconst collectionSlice = createSlice({\n    name: 'collection',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestCollection(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveCollection(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getCollection = ({id, uniqueId, siteName, collectionType}) => dispatch => {\n\n    if (id) {\n        dispatch(getCollectionById({id}))\n    } else if (uniqueId) {\n        dispatch(getCollectionById({id: uniqueId}))\n    } else if (siteName && collectionType) {\n        dispatch(getCollectionByType({siteName, collectionType}))\n    }\n\n}\n\nexport const getCollectionById = ({id}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/collections/' + id;\n\n    dispatch(requestCollection({id}))\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(collection => {\n            dispatch(receiveCollection(collection))\n        })\n    \n}\n\nexport const getCollectionByType = ({siteName, collectionType}) => dispatch => {\n\n    const apiUrl = API + '/admin/api/collections/search?siteName=' + siteName + \"&collectionType=\"+ collectionType +\"&fl=id\";\n\n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        results.models && results.models[0] && dispatch(getCollectionById(results.models[0]))\n    })\n\n\n}\n\n\nexport const { requestCollection, receiveCollection } = collectionSlice.actions\nexport default collectionSlice.reducer","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        position: \"fixed\",\n        zIndex: 2000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: \"white\",\n        color: \"black\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        opacity: 0,\n        transition: \".5s ease-out\",\n        pointerEvents: \"none\",\n        \"[data-is-loading=true] &\": {\n            opacity: 1\n        }\n    },\n    icon: {\n        width: 64,\n        height: 64,\n\n        \"& > svg\": {\n            fontSize: 64,\n        },\n\n        \"& > img\": {\n            width: theme.spacing(8),\n            height: theme.spacing(8)\n        },\n\n        transition: \".5s ease-out\",\n        transform: \"scale(3)\",\n        opacity: 0,\n\n        \"[data-is-loading=true] &\": {\n            opacity: 1,\n            transform: \"scale(1)\"\n        }\n\n    },\n    content: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        \"& * + *\": {\n            margin: theme.spacing(.5)\n        },\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: \"16px\",\n        color: theme.palette.text.primary\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst Loader = ({className, isLoading = true, icon, imageUrl, title, description, children}) => {\n    const classes = useStyles()\n\n\n    return (\n        <div data-is-loading={isLoading}>\n            <div className={classes.loader}>\n                <Icon className={classes.icon}>\n                    { icon }\n                </Icon>\n                <div className={classes.content}>\n                    <h2 className={classes.title}>{title}</h2>\n                    <p className={classes.description}>{description}</p>\n                </div>\n            </div>\n            {!isLoading && children}\n        </div>\n    )\n\n}\n\nLoader.defaultProps = {\n    title: \"App\",\n    description: \"Loading app\"\n}\n\nLoader.propTypes = {\n    /** Wheter app is loading or not, if not */\n    isLoading: PropTypes.bool,\n    /** SVG icon */\n    icon: PropTypes.node,\n    /** ImageUrl, displayed if no icon is present */\n    imageUrl: PropTypes.string,\n    /** Loading title, normally the title of the app that is loading */\n    title: PropTypes.string,\n    /** Description. Consider changing this on load progress */\n    description: PropTypes.string,\n}\n\n\nexport default Loader\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nimport PropTypes from \"prop-types\"\n\nconst colors = {\n    \"blue\": \"#0067b6\",\n    \"red\": \"#eb314e\"\n}\n\nconst AppIcon = ({color, text, variant = \"outlined\", ...props}) => {\n\n    color = colors[color] || color\n\n    if (variant === \"filled\") {\n\n        return (\n            <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n                <rect x=\"10\" y=\"10\" width=\"44\" height=\"44\" fill={color}></rect>\n                <text x=\"32\" y=\"34\" fill=\"white\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"18\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n            </SvgIcon>\n        )\n            \n    }\n\n    return (\n        <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M54 10H10V54H54V10ZM51 13H13V51H51V13Z\" fill={color}/>\n            <text x=\"32\" y=\"34\" fill=\"currentColor\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"18\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n    \n}\n\nAppIcon.propTypes = {\n    fontSize: PropTypes.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string,PropTypes.number]),\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default AppIcon","import React from \"react\";\nimport PropTypes from \"prop-types\"\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst MenuIconFilled = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"currentColor\"\n    const color = \"white\"\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill=\"white\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst MenuIconOutlined = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"white\"\n    const color = \"currentColor\"\n    const borderColor = color\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={borderColor}></rect>\n            <rect x=\"3.5\" y=\"3.5\" width=\"17\" height=\"17\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill={color} fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst variants = {\n    \"outlined\": MenuIconOutlined,\n    \"filled\": MenuIconFilled,\n}\n\nconst MenuIcon = ({color, text, variant = \"outlined\", ...props}) => {\n    const IconTemplate = variants && variants[variant]\n\n    if (!IconTemplate) {\n        return \"<p>Failed</p>\"\n    }\n\n    return (\n        <IconTemplate color={color} text={text} {...props} />\n    )\n    \n}\n\nMenuIcon.propTypes = {\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default MenuIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst colors = {\n    \"blue\": \"#0067b6\",\n    \"red\": \"#eb314e\"\n}\n\nexport const EditorIcon = ({color = \"grey\", ...props}) => {\n    color = colors[color] || color\n\n    return (\n        <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M54 10H10V54H54V10ZM51 13H13V51H51V13Z\" fill={color}/>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M40.71 25.63C41.1 26.02 41.1 26.65 40.71 27.04L38.88 28.87L35.13 25.12L36.96 23.29C37.35 22.9 37.98 22.9 38.37 23.29L40.71 25.63ZM23 41V37.25L34.06 26.19L37.81 29.94L26.75 41H23Z\" fill=\"currentColor\" fillOpacity=\"0.54\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default EditorIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst ArticleIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M18.5 20.5L18.5 3.5L5.5 3.5L5.5 20.5H18.5ZM20 2L4 2L4 22H20V2Z\"/>\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"5\" height=\"1\" />\n        </SvgIcon>\n    )\n}\n\nexport default ArticleIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst ObjectIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M18.5 20.5L18.5 3.5L5.5 3.5L5.5 20.5H18.5ZM20 2L4 2L4 22H20V2Z\"/>\n            <path d=\"M14 8H13V16H14V8Z\" fill=\"black\"/>\n            <path d=\"M11 8H10V16H11V8Z\" fill=\"black\"/>\n            <path d=\"M16 10H8V11H16V10Z\" fill=\"black\"/>\n            <path d=\"M16 13H8V14H16V13Z\" fill=\"black\"/>\n        </SvgIcon>\n    )\n}\n\nexport default ObjectIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M13.3333 10.6667H10.6667V13.3333H13.3333V10.6667ZM12.4444 12.4444H11.5556V11.5556H12.4444V12.4444ZM16 11.5556V10.6667H15.1111V9.77778C15.1111 9.28889 14.7111 8.88889 14.2222 8.88889H13.3333V8H12.4444V8.88889H11.5556V8H10.6667V8.88889H9.77778C9.28889 8.88889 8.88889 9.28889 8.88889 9.77778V10.6667H8V11.5556H8.88889V12.4444H8V13.3333H8.88889V14.2222C8.88889 14.7111 9.28889 15.1111 9.77778 15.1111H10.6667V16H11.5556V15.1111H12.4444V16H13.3333V15.1111H14.2222C14.7111 15.1111 15.1111 14.7111 15.1111 14.2222V13.3333H16V12.4444H15.1111V11.5556H16ZM14.2222 14.2222H9.77778V9.77778H14.2222V14.2222Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceMacIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M14.3442 11.5628C14.3325 10.475 15.2302 9.95122 15.2706 9.92587C14.7644 9.18771 13.978 9.08756 13.6979 9.07571C13.0284 9.00882 12.3924 9.47162 12.053 9.47206C11.7139 9.47256 11.1891 9.08932 10.6343 9.10057C9.90452 9.11204 9.23287 9.52639 8.85753 10.1798C8.10181 11.4962 8.66833 13.4436 9.40813 14.5094C9.76981 15.0304 10.2008 15.617 10.7662 15.595C11.3106 15.573 11.5159 15.2422 12.1736 15.2414C12.8314 15.2405 13.0171 15.592 13.5926 15.5803C14.1784 15.5692 14.5488 15.0472 14.9064 14.5233C15.3202 13.917 15.4898 13.3303 15.5 13.3001C15.4873 13.2943 14.3575 12.863 14.3442 11.5628Z\"/>\n            <path d=\"M13.2636 8.37228C13.564 8.00874 13.7658 7.50352 13.7106 7C13.2784 7.01756 12.755 7.28809 12.4446 7.65119C12.1666 7.97291 11.9231 8.48713 11.9889 8.98061C12.4707 9.01793 12.9633 8.73544 13.2636 8.37228Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceMacIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DeviceWinIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <path d=\"M8 9.13617L11.2693 8.69092L11.2708 11.8445L8.00299 11.8631L8 9.13617ZM11.2678 12.2078L11.2703 15.3641L8.00254 14.9148L8.00235 12.1866L11.2678 12.2078ZM11.6641 8.63267L15.999 8V11.8044L11.6641 11.8388V8.63267ZM16 12.2375L15.999 16.0247L11.6641 15.4129L11.658 12.2304L16 12.2375Z\"/>\n        </SvgIcon>\n    )\n}\n\nexport default DeviceWinIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageHomeIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M11 16V13H13V16H15.5V12H17L12 7.5L7 12H8.5V16H11Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageHomeIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"4\" y=\"12\" width=\"16\" height=\"1\"/>\n            <rect x=\"15\" y=\"13\" width=\"1\" height=\"5\"/>\n            <rect x=\"10\" y=\"6\" width=\"1\" height=\"6\"/>\n        </SvgIcon>\n    )\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMediaIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <path d=\"M18 16.1382H6L9 12.2873L11.1382 14.8618L14.1382 11L18 16.1382Z\" />\n        </SvgIcon>\n    )\n}\n\nexport default PageMediaIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageGridIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <circle cx=\"12\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"17\" cy=\"12\" r=\"1.5\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1.5\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageGridIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageListIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n\n            <rect x=\"8\" y=\"8.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"10.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"12.5\" width=\"8\" height=\"1\" />\n            <rect x=\"8\" y=\"14.5\" width=\"8\" height=\"1\" />\n\n\n        </SvgIcon>\n    )\n\n}\n\nexport default PageListIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageAnnotateIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <circle cx=\"7\" cy=\"12\" r=\"1\"/>\n            <circle cx=\"12\" cy=\"8\" r=\"1\"/>\n            <rect x=\"15\" y=\"11\" width=\"1\" height=\"5\"/>\n            <rect x=\"13\" y=\"13\" width=\"5\" height=\"1\"/>\n\n\n\n\n        </SvgIcon>\n    )\n}\n\nexport default PageAnnotateIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageMapIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\" />\n            <rect x=\"17.5355\" y=\"10\" width=\"1\" height=\"5\" transform=\"rotate(45 17.5355 10)\" />\n            <rect x=\"18.2426\" y=\"13.5355\" width=\"1\" height=\"5\" transform=\"rotate(135 18.2426 13.5355)\" />\n            <circle cx=\"7\" cy=\"12\" r=\"1\" />\n            <circle cx=\"11\" cy=\"12\" r=\"1\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default PageMapIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst PageParentIcon = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.5 5.5H3.5V18.5H20.5V5.5ZM2 4V20H22V4H2Z\"/>\n            <rect x=\"9\" y=\"8\" width=\"6\" height=\"4\"/>\n            <rect x=\"5\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"10\" y=\"14\" width=\"4\" height=\"2\"/>\n            <rect x=\"15\" y=\"14\" width=\"4\" height=\"2\"/>\n        </SvgIcon>\n    )\n\n}\n\nexport default PageParentIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst AudioFolder = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 3C2.89543 3 2 3.89543 2 5V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V5C22 3.89543 21.1046 3 20 3H4ZM11 15.51L8.5 12.5L5 17H19L14.5 11L11 15.51Z\"/>\n        </SvgIcon>\n    )\n\n}\n\nexport default AudioFolder","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst AudioFolder = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 3C2.89543 3 2 3.89543 2 5V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V5C22 3.89543 21.1046 3 20 3H4ZM15.5 12L9.5 7.5V16.5L15.5 12Z\"/>\n        </SvgIcon>\n    )\n\n}\n\nexport default AudioFolder","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst AudioFolder = (props) => {\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 3C2.89543 3 2 3.89543 2 5V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V5C22 3.89543 21.1046 3 20 3H4ZM10.5 12C9.11667 12 8 13.1167 8 14.5C8 15.8833 9.11667 17 10.5 17C11.875 17 12.9833 15.8917 13 14.525V8.66667H15.5V7H11.3333V12.15C11.075 12.0583 10.7917 12 10.5 12Z\"/>\n       </SvgIcon>\n    )\n\n}\n\nexport default AudioFolder","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nimport PropTypes from \"prop-types\"\n\nconst colors = {\n    \"blue\": \"#0067b6\",\n    \"red\": \"#eb314e\"\n}\n\nconst AppIcon = ({color, text, variant = \"outlined\", ...props}) => {\n\n    color = colors[color] || color\n\n    if (variant === \"filled\") {\n\n        return (\n            <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n                <rect x=\"10\" y=\"10\" width=\"44\" height=\"44\" fill={color}></rect>\n                <text x=\"32\" y=\"34\" fill=\"white\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"18\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n            </SvgIcon>\n        )\n            \n    }\n\n    return (\n        <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M54 10H10V54H54V10ZM51 13H13V51H51V13Z\" fill={color}/>\n            <text x=\"32\" y=\"34\" fill=\"currentColor\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"18\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n    \n}\n\nAppIcon.propTypes = {\n    fontSize: PropTypes.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string,PropTypes.number]),\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default AppIcon","import React from \"react\"\nimport AppIcon from \"./AppIcon\"\nimport kioskTheme from \"../../app/settings/kiosk/theme\"\n\nconst kioskColor = kioskTheme.palette.primary.main\n\nconst KioskAppIcon = (props) => <AppIcon {...props} color={kioskColor} variant=\"filled\" text=\"Ki\" />\n\nexport default KioskAppIcon","import React from \"react\";\nimport PropTypes from \"prop-types\"\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst MenuIconFilled = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"currentColor\"\n    const color = \"white\"\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill=\"white\" fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst MenuIconOutlined = ({text = \"Ap\", ...props}) => {\n\n    const backgroundColor = \"white\"\n    const color = \"currentColor\"\n    const borderColor = color\n\n    return (\n        <SvgIcon {...props} viewBox=\"0 0 24 24\">\n            <rect x=\"2\" y=\"2\" width=\"20\" height=\"20\" fill={borderColor}></rect>\n            <rect x=\"3.5\" y=\"3.5\" width=\"17\" height=\"17\" fill={backgroundColor}></rect>\n            <text x=\"12\" y=\"13\" fill={color} fontFamily=\"Akkurat, sans-serif\" fontSize=\"10\" fontWeight=\"bold\" dominantBaseline=\"middle\" textAnchor=\"middle\">{text}</text>\n        </SvgIcon>\n    )\n\n}\n\nconst variants = {\n    \"outlined\": MenuIconOutlined,\n    \"filled\": MenuIconFilled,\n}\n\nconst MenuIcon = ({color, text, variant = \"outlined\", ...props}) => {\n    const IconTemplate = variants && variants[variant]\n\n    if (!IconTemplate) {\n        return \"<p>Failed</p>\"\n    }\n\n    return (\n        <IconTemplate color={color} text={text} {...props} />\n    )\n    \n}\n\nMenuIcon.propTypes = {\n    variant: PropTypes.oneOfType([PropTypes.oneOf(['filled', 'outlined']), PropTypes.string]),\n}\n\nexport default MenuIcon","import React from \"react\"\nimport MenuIcon from \"./MenuIcon\"\n\nconst KioskMenuIcon = (props) => <MenuIcon {...props} variant=\"filled\" text=\"Ki\"  />\n\nexport default KioskMenuIcon","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst colors = {\n    \"blue\": \"#0067b6\",\n    \"red\": \"#eb314e\"\n}\n\nexport const EditorIcon = ({color = \"grey\", ...props}) => {\n    color = colors[color] || color\n\n    return (\n        <SvgIcon width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" {...props}>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M54 10H10V54H54V10ZM51 13H13V51H51V13Z\" fill={color}/>\n            <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M40.71 25.63C41.1 26.02 41.1 26.65 40.71 27.04L38.88 28.87L35.13 25.12L36.96 23.29C37.35 22.9 37.98 22.9 38.37 23.29L40.71 25.63ZM23 41V37.25L34.06 26.19L37.81 29.94L26.75 41H23Z\" fill=\"currentColor\" fillOpacity=\"0.54\" />\n        </SvgIcon>\n    )\n\n}\n\nexport default EditorIcon","import React from \"react\"\nimport EditorIcon from \"./EditorIcon\"\nimport kioskTheme from \"../../app/settings/kiosk/theme\"\nconst kioskColor = kioskTheme.palette.primary.main\n\nconst KioskEditorIcon = (props) => <EditorIcon {...props} color={kioskColor} />\n\nexport default KioskEditorIcon","export default {\n    \"palette\": {\n        \"media\": \"#303030\",\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        },\n        \"primary\": {\n            \"main\": \"#49777F\"\n        }\n    }\n}","import React from \"react\"\nimport AppIcon from \"./AppIcon\"\n\nimport kpTheme from \"../../app/settings/kp/theme\"\nconst kpColor = kpTheme.palette.primary.main\n\nconst KpAppIcon = (props) => <AppIcon {...props} color={kpColor} variant=\"outlined\" text=\"Kp\" />\n\nexport default KpAppIcon","import React from \"react\"\nimport MenuIcon from \"./MenuIcon\"\n\nconst KpMenuIcon = (props) => <MenuIcon {...props} variant=\"outlined\" text=\"Kp\"  />\n\nexport default KpMenuIcon","import React from \"react\"\nimport EditorIcon from \"./EditorIcon\"\n\nimport kpTheme from \"../../app/settings/kp/theme\"\n\nconst kpColor = kpTheme.palette.primary.main\n\nconst KpEditorIcon = (props) => <EditorIcon {...props} color={kpColor} />\n\nexport default KpEditorIcon","import React from \"react\"\n\nimport Article from \"./Article\"\nimport Object from \"./Object\"\n\nimport Device from \"./Device\"\nimport DeviceMac from \"./DeviceMac\"\nimport DeviceWin from \"./DeviceWin\"\n\nimport PageHome from \"./PageHome\"\nimport PageGrid from \"./PageGrid\"\nimport PageMedia from \"./PageMedia\"\nimport PageTimeline from \"./PageTimeline\"\nimport PageList from \"./PageList\"\nimport PageAnnotate from \"./PageAnnotate\"\nimport PageMap from \"./PageMap\"\nimport PageParent from \"./PageParent\"\n\nimport ImageFolder from \"./ImageFolder\"\nimport VideoFolder from \"./VideoFolder\"\nimport AudioFolder from \"./AudioFolder\"\n\nimport KioskApp from \"./KioskApp\"\nimport KioskMenu from \"./KioskMenu\"\nimport KioskEditor from \"./KioskEditor\"\n\nimport KpApp from \"./KpApp\"\nimport KpMenu from \"./KpMenu\"\nimport KpEditor from \"./KpEditor\"\n\nexport {\n    KioskApp,\n    KioskMenu,\n    KioskEditor,\n\n    KpApp,\n    KpMenu,\n    KpEditor,\n\n    Article,\n    Object,\n    Device,\n    DeviceMac,\n    DeviceWin,\n\n    PageHome,\n    PageGrid,\n    PageMedia,\n    PageTimeline,\n    PageList,\n    PageAnnotate,\n    PageMap,\n    PageParent,\n\n    ImageFolder,\n    VideoFolder,\n    AudioFolder\n}\n\nexport default {\n\n    \"kpApp\": <KpApp />,\n    \"kpEditor\": <KpEditor />,\n    \"kpMenu\": <KpMenu />,\n\n    \"kioskApp\": <KioskApp />,\n    \"kioskEditor\": <KioskEditor />,\n    \"kioskMenu\": <KioskMenu />,\n\n    \"article\": <Article />,\n    \"object\": <Object />,\n\n    \"pageHome\": <PageHome />,\n    \"pageGrid\": <PageGrid />,\n    \"pageMap\": <PageMap />,\n\n    \"pageMedia\": <PageMedia />,\n    \"pageAnnotate\": <PageAnnotate />,\n    \"pageTimeline\": <PageTimeline />,\n    \"pageList\": <PageList />,\n    \"pageParent\": <PageParent />,\n    \"pageTopic\": <PageParent />,\n\n    \"device\": <Device />,\n    \"deviceMac\": <DeviceMac />,\n    \"deviceWin\": <DeviceWin />,\n\n    \"audioFolder\": <AudioFolder />,\n    \"videoFolder\": <VideoFolder />,\n    \"imageFolder\": <ImageFolder />\n\n}","import React from \"react\"\nimport AppIcon from \"./AppIcon\"\nimport MenuIcon from \"./MenuIcon\"\nimport EditorIcon from \"./EditorIcon\"\n\nimport kpIcons from \"../components/KpIcons\"\nimport kpTheme from \"../app/settings/kp/theme\"\nimport kioskTheme from \"../app/settings/kiosk/theme\"\n\nconst kpColor = kpTheme.palette.primary.main\nconst kioskColor = kioskTheme.palette.primary.main\n\nexport default {\n    ...kpIcons,\n    \"app\": <AppIcon />,\n    \"editor\": <EditorIcon />,\n    \"primusApp\": <AppIcon variant=\"outlined\" color=\"red\" text=\"Pr\" />,\n    \"primusMenu\": <MenuIcon variant=\"filled\" text=\"Pr\" />,\n    \"kpApp\": <AppIcon variant=\"outlined\" color={kpColor} text=\"Kp\" />,\n    \"kpMenu\": <MenuIcon variant=\"outlined\" text=\"Kp\" />,\n    \"kioskApp\": <AppIcon variant=\"filled\" color={kioskColor} text=\"Ki\" />,\n    \"kioskMenu\": <MenuIcon variant=\"filled\" text=\"Ki\" />\n}","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getCollection } from '../redux/collection';\nimport { Loader } from \"../components/Loader\"\nimport icons from \"../icons/\"\n\nconst AppLoader = ({icon, siteName, collectionId, children, ...props}) => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        collectionId && dispatch(getCollection({id: collectionId}))\n    }, [siteName, collectionId])\n\n    const collection = useSelector(state => state.collection)\n\n    const isLoading = collection.isLoading\n    const title = collectionId && \"Loading collection \" + collectionId || \"Loading\"\n\n    return (\n        <Loader\n            icon={icons[icon]}\n            isLoading={isLoading}\n            title={title}>\n                {collection.id && children}\n        </Loader>\n    )\n\n}\n\nAppLoader.defaultProps = {\n}\n\nexport default AppLoader","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nimport { getModels } from \"../modelsById\"\n\nconst searchByUrlSlice = createSlice({\n    name: 'search',\n    initialState: {\n    }, \n    reducers: {\n        requestSearch(state, action) {\n            const { models, url, page, apiUrl, query } = action.payload\n\n            if (state[url] && state[url].page) {\n                return {\n                    ...state,\n                    [url]: {\n                        ...state[url],\n                        isLoading: true,\n                        apiUrl: apiUrl,\n                        query: {\n                            ...query,\n                            models: models,\n                        }\n                    }\n                }\n            }\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: true,\n                    url: url,\n                    apiUrl: apiUrl,\n                    query: {\n                        ...query,\n                        models: models,\n                    }\n                }\n            }\n        },\n        receiveError(state, action) {\n            const { url, error } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    isLoading: false,\n                    error: error.toString()\n                }\n            }\n\n        },\n        receiveSearch(state, action) {\n            const { url, results } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    isLoading: false,\n                    results: results\n                }\n            }\n        },\n        requestPage(state, action) {\n            const { url, page } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    isLoading: true\n                }\n            }            \n        },\n        receivePage(state, action) {\n            const { url, page, results } = action.payload\n\n            const { start, rows, count } = results\n\n            const pages = Math.ceil(count/rows)\n            const currentPage = Math.ceil((start+rows)/rows)\n\n            const resultsByPage = {\n                ...state[url].resultsByPage,\n                [page]: results.models\n            }\n\n            let resultsLoaded = []\n\n            Object.values(resultsByPage).map(page => {\n                resultsLoaded = resultsLoaded.concat(page)\n            })\n\n            let nextPage, prevPage\n\n            for (let p = page; p <= pages; p++) {\n                if (!resultsByPage[p]) {\n                    nextPage = p\n                    break\n                }\n            }    \n\n            for (let p = page; p >= 1; p--) {\n                if (!resultsByPage[p]) {\n                    prevPage = p\n                    break\n                }\n            }    \n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    count: count,\n                    start: start,\n                    rows: rows,\n                    page: currentPage,\n                    pages: pages,\n                    nextPage: nextPage,\n                    prevPage: prevPage,\n                    resultsByPage: resultsByPage,\n                    resultsLoaded: resultsLoaded\n                }\n            }\n\n        }\n    }\n})\n\nexport const getQuery = ({models, url, page = 1, ...query}) => dispatch => {\n\n    if (page > 1 && query.rows) {\n        query.start = query.rows * (page-1)\n    }\n\n    if (query.collectionId && query.collectionId === \"*\") {\n        delete query.collectionId\n    }\n\n    if (query.siteId && query.siteId === \"*\") {\n        delete query.siteId\n    }\n    \n    const sq = qs.stringify(query)\n\n    let apiUrl = API + '/admin/api/' + models + '/search';\n\n    if (sq) {\n        apiUrl = apiUrl + '?' + sq;\n    }\n\n    if (page === 1) {\n        dispatch(requestSearch({models, url, page, apiUrl, query}))\n    } else {\n        dispatch(requestPage({models, url, page, apiUrl, query}))\n    }\n    \n    fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n        },\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(results => {\n        dispatch(receiveSearch({url, results}))\n        dispatch(receivePage({url, page, results}))\n\n//        results.models && dispatch(getModels(results))\n\n    })\n\n}\n\n\n\n\nexport const { requestSearch, receiveSearch, requestPage, receivePage, receiveError } = searchByUrlSlice.actions\nexport default searchByUrlSlice.reducer","import React, { useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useTranslation } from 'react-i18next';\n\nimport { toggleSearch, collapseSearch } from '../redux/app';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport icons from \"../icons\"\n\nimport _ from \"lodash\"\nimport qs from 'query-string';\n\nconst PrimusSearch = ({children, ...props}) => {\n    const { t, i18n } = useTranslation(['search']);\n\n    const dispatch = useDispatch()\n    const location = useLocation()\n    const history = useHistory()\n\n    const sq = location.search && qs.parse(location.search) || {}\n\n\n    const app = useSelector(state => state.app)\n    const search = app.search\n    const expanded = search && search.expanded\n\n    const finder = useSelector(state => state.finder)\n    const parents = finder.parents\n    const parent = finder.parent\n\n    // search\n\n    const [inputValue, setInputValue] = useState(sq.q)\n    const [q, setQ] = useState(sq.q)\n\n    const _onQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    useEffect(() => {\n        if (q) {\n            sq.q = q.replace(' ', '+')\n        } else {\n            delete sq.q\n        }\n\n        let query = qs.stringify(sq)\n\n        const pathname = location.pathname + \"?\" + query;\n        const hash = location.hash;\n\n        const url = hash && pathname + hash || pathname\n        \n        history.replace(url)\n        \n    }, [q])\n\n    const _onReset = () => {\n\n        console.log('onReset')\n\n        if (inputValue) {\n            setInputValue(\"\")\n            setQ(\"\")\n            delete sq.q\n        } else {\n            dispatch(toggleSearch())\n        }\n\n    }\n\n    const _onToggle = () => {\n        setInputValue(sq.q || \"\")\n        dispatch(toggleSearch())\n    }\n\n    const _onClickOutside = () => {\n        dispatch(toggleSearch())\n    }\n\n    // suggest from current location search\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    const currentSearch = searchByUrl && searchByUrl[location.pathname] || {} \n    const currentResults = currentSearch && currentSearch.resultsLoaded\n\n    const [suggest, setSuggest] = useState([])\n\n    useEffect(() => {\n        setSuggest(currentResults)\n    }, [currentResults])\n\n\n    // scopes\n\n    const query = {}\n\n    const searchRoot = \"/\"\n\n    let scopes = [\n        {\n            icon: \"search\",\n            placeholder: t(\"Search everything\"),\n            title: t(\"Search for {{q}} in everything\", {q: \"[q]\"}),\n            url: searchRoot,\n            query: {\n                ...query,\n                url: searchRoot,\n            }\n        }\n    ]\n\n    if (parent && parent.url && parent.url !== searchRoot) {\n\n        const query = {\n            ...parent.query,\n            collectionId: app && app.collectionId,\n            siteId: app && app.siteId,\n            url: parent.url\n        }\n\n        scopes.push({\n            ...parent,\n            query: query,\n            icon: \"search\",\n            placeholder: t(\"Everything in {{scope}}\", {scope: parent.title}),\n            title: t(\"Search for {{q}} in {{scope}}\", {q: \"[q]\", scope: parent.title}),\n        })\n    }\n\n    // options\n\n    let options = scopes.map(scope => {\n\n        const count = searchByUrl && searchByUrl[scope.query.url] && searchByUrl[scope.query.url].results && searchByUrl[scope.query.url].results.count || \"-\"\n\n        return {\n            ...scope,\n            count: count\n        }\n\n    })\n\n    if (suggest) {\n        options = [\n            ...options,\n            ...suggest\n        ]\n    }\n\n\n    const _onChange = (event, option = {}, reason) => {\n        console.log(\"onChange\", option)\n        console.log(\"onChange\", reason)\n\n        const { query, uniqueId, url } = option\n\n        const searchUrl = url && query && url + \"?q=\" + inputValue.replace(' ', '+')\n\n        if (searchUrl) {\n            history.replace(searchUrl)\n        } else if (uniqueId) {\n            history.replace(app.root + \"/\" + uniqueId + \"/edit\")\n        }\n\n        dispatch(collapseSearch())\n\n    }\n\n    const _onInputChange = (event, option, reason) => {\n        const value = event && event.target.value || \"\"\n        value && setInputValue(event.target.value)\n//        value && _onQuery(value)\n    }\n\n    const autocompleteProps = {\n        open: expanded,\n        freeSolo: true,\n        disableClearable: true,\n        options: options,\n        autoHighlight: true,\n        disablePortal: true,\n        inputValue: inputValue,\n        groupBy: (options) => options.modelName,\n//        filterOptions: _filterOptions,\n        onChange: _onChange,\n        onInputChange: _onInputChange\n    }\n\n    // search\n\n    const searchProps = {\n        ...search,\n        autocompleteProps: autocompleteProps,\n        onReset: () => _onReset(),\n        onToggle: () => _onToggle()\n    }\n\n    // merge with children\n\n    const childrenWithProps = React.Children.map(children, (child, index) => {\n        // checking isValidElement is the safe way and avoids a typescript error too\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, { \n                search: searchProps,\n                ...props\n            });\n        }\n        return child;\n    });\n\n    return (\n        <>\n            {childrenWithProps}\n        </>\n    )\n\n    \n}\n\nexport default PrimusSearch","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: props => { return props.backgroundColor || theme.palette.background.default },\n\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        width: \"100%\",\n        height: \"100%\"\n\n        \n    },\n}));\n\nconst FinderBase = ({backgroundColor, expanded = true, children}) => {\n    const classes = useStyles({backgroundColor})\n\n    return (\n        <div className={classes.root} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default FinderBase;","import React, { useEffect, useState, useMemo } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    sidebar: {\n        flexBasis: 0,\n        flexGrow: 0,\n        width: 0,\n        height: \"100%\",\n        overflow: \"hidden\",\n        position: \"relative\",\n\n        \"&[aria-expanded=true]\": {\n            flexBasis: props => { return props.width },\n        }\n\n    },\n\n\n}));\n\nconst FinderSidebar = ({\n    width = 240,\n    expanded = true,\n    children\n}) => {\n\n    const classes = useStyles({width})\n\n    return (\n        <aside className={classes.sidebar} aria-expanded={expanded}>\n            {children}\n        </aside>\n    )\n\n}\n\nexport default FinderSidebar;","import React, { useEffect, useState, useMemo } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    \n    section: {\n        flexBasis: 1,\n        flexGrow: 0,\n        width: 0,\n        height: \"100%\",\n        overflowY: \"hidden\",\n        position: \"relative\",\n\n        \"&[aria-expanded=true]\": {\n            flexGrow: 1,\n            width: \"auto\"\n        },\n\n        \"& + $section\": {\n            boxShadow: theme.shadows[4]\n        }\n\n    }\n\n}));\n\nconst FinderSection = ({\n    expanded = true,\n    children\n}) => {\n\n    const classes = useStyles()\n\n\n    return (\n        <div className={classes.section} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default FinderSection;","import React, { useRef, useState, useMemo, useLayoutEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n        width: \"100%\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        padding: props => { return theme.spacing(props.padding )},\n\n        display: \"flex\",\n        flexDirection: \"column\",\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing )},\n        },\n\n        \"& > header\": {\n            position: \"sticky\",\n            zIndex: 2,\n            top: 0\n        }\n\n    }\n\n}));\n\nconst ViewBase = ({padding = 2, spacing = 2, children}) => {\n\n    const viewRef = useRef(null)\n\n    const [scrollTop, setScrollTop] = useState(45)\n \n    const _onScroll = (event) => {\n//        setScrollTop(viewRef.current.scrollTop)\n    }\n\n    const classes = useStyles({padding, spacing})\n\n    return (\n        <div className={classes.view} ref={viewRef} onScroll={_onScroll}>\n            {children}\n        </div>\n\n    )\n\n}\n\nexport default ViewBase;","import React from 'react';\nimport Color from 'color';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst getBackgroundImage = (backgroundColor) => {\n    const color = Color(backgroundColor);\n\n    const c1 = color.alpha(0).rgb()\n    const c2 = color.alpha(.75).rgb()\n    const c3 = color.alpha(1).rgb()\n\n    return \"linear-gradient(to bottom, \"+c1+\") 0%, \"+c2+\" 75%, \"+c3+\" 100%)\"\n\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        backgroundColor: props => { return props.backgroundColor || theme.palette.background.default},\n        backgroundImage: props => { return getBackgroundImage(props.backgroundColor || theme.palette.background.default)},\n        height: theme.spacing(8),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n\n        \"& + *\": {\n            marginTop: theme.spacing(6)\n        }\n\n    },\n}));\n\nconst FinderHeader = ({backgroundColor, className, children}) => {\n    const classes = useStyles({backgroundColor})\n\n    return (\n        <header className={className || classes.root}>\n            {children }\n        </header>\n    )\n\n}\n\nexport default FinderHeader;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 1,\n        width: \"100%\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n        padding: props => { return theme.spacing(props.padding) }\n    },\n    body: {\n        display: \"block\",\n        width: \"100%\",\n        paddingTop: theme.spacing(8),\n        paddingRight: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        paddingLeft: theme.spacing(2),\n    }\n}));\n\nconst FinderBody = ({padding = 2, children}) => {\n    const classes = useStyles({padding})\n\n    return (\n        <div>\n            {children}\n        </div>\n    )\n\n}\n\nexport default FinderBody;","import React, { useEffect } from \"react\"\nimport { FinderBase, FinderSidebar } from \"../Finder\"\nimport { AppInfo } from \"../App\"\nimport { NavMenu } from \"../NavMenu\"\nimport { NavAction } from \"../NavAction\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    action: {\n        position: \"absolute\",\n        zIndex: 2,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: theme.spacing(1.5),\n        margin: theme.spacing(1.5),\n        boxSizing: \"border-box\",\n        backgroundColor: theme.palette.background.default,\n    },\n    menu: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n        paddingTop: 96,\n        paddingBottom: 96,\n    },\n    info: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: \"auto\",\n        bottom: 0,\n        left: 0,\n        right: 0,\n        padding: theme.spacing(1.5),\n        margin: theme.spacing(1.5),\n        backgroundColor: theme.palette.background.default,       \n    }\n}));\n\nconst FinderLayout = ({\n    icons = [],\n    sidebar = {},\n    info = {},\n    primaryAction = {},\n    menu = [],\n    menuByUrl = {},\n    currentUrl,\n    onSelect,\n    children\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <FinderBase>\n            <FinderSidebar {...sidebar}>\n                <AppInfo {...info} className={classes.info} icons={icons}  />\n                <NavAction className={classes.action} menu={[primaryAction]} menuByUrl={menuByUrl} onSelect={onSelect} />\n                <NavMenu className={classes.menu} icons={icons} currentUrl={currentUrl} menu={menu} menuByUrl={menuByUrl} onSelect={onSelect} />\n            </FinderSidebar>\n            {children}\n        </FinderBase>\n    )\n\n}\n\nexport default FinderLayout","import React, { useRef, useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ViewOptions, RowsOptions, SortOptions, SizeOptions } from \"./\"\n\nconst useStyles = makeStyles(theme => ({\n    nav: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n    }\n}));\n\nconst NavView = ({\n    view,\n    viewOptions,\n    onView,\n\n    rows,\n    rowsOptions,\n    onRows,\n\n    sort,\n    sortOptions,\n    onSort,\n\n    size,\n    sizeOptions,\n    onSize,\n\n    options,\n    onSelect,\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.nav}>\n            { sortOptions && <SortOptions options={sortOptions} value={sort} onChange={onSort} /> }\n            { rowsOptions && <RowsOptions options={rowsOptions} value={rows} onChange={onRows} /> }\n            { sizeOptions && <SizeOptions options={sizeOptions} value={size} onChange={onSize} /> }\n            { viewOptions && <ViewOptions options={viewOptions} value={view} onChange={onView} /> }\n        </div>\n    )\n\n}\n\nexport default NavView;","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst icons = {\n    \"list\": \"view_stream\",\n    \"details\": \"view_stream\",\n    \"table\": \"view_column\",\n    \"gallery\": \"view_compact\",\n    \"masonry\": \"view_quilt\",\n    \"icons\": \"view_module\",\n    \"grid\": \"view_module\",\n    \"tree\": \"view_headline\",\n    \"cols\": \"view_column\",\n}\n\n\nconst ViewOptions = ({className, options = [], value, onChange}) => {\n    const { t, i18n } = useTranslation('view');\n    const classes = useStyles()\n\n    if (!options.length) {\n        return false\n    }\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    options = options.map(option => {\n\n        if (typeof option === \"string\") {\n            return {\n                icon: icons && icons[option],\n                title: t(option),\n                value: option,\n                onClick: () => _onChange(option)\n            }\n        }\n\n        return option\n\n    })\n\n    return (\n        <nav className={className || classes.buttongroup}>\n            { options && options.map((option, index) => {\n                const { title, icon, onClick } = option\n                \n                return (\n                    <ButtonBase title={title} key={index} aria-selected={option.value === value} className={classes.button} onClick={onClick}>\n                        <Icon className={classes.icon}>{icon}</Icon>\n                    </ButtonBase>\n                )\n                \n            })}\n        </nav>\n    )\n\n        \n}\n\nexport default ViewOptions","import React, { useRef, useState } from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport DropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nimport { NavActionDropdown, NavActionMenu} from \"../NavAction\"\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: theme.spacing(.5, 1),\n    },\n    arrow: {\n        marginLeft: theme.spacing(-1)\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            marginLeft: 0,\n//            display: \"none\"\n        }\n        \n    }\n}));\n\nconst NavViewButton = ({title, label, value, icon, selected, children, onClick, onSelect}) => {\n\n    const classes = useStyles()\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null);\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onSelect = ({onClick, ...item}) => {\n        onClick && onClick() || onSelect && onSelect(item)\n        setExpanded(false);\n    }\n\n    if (children) {\n        return (\n            <>\n            <ButtonBase className={classes.button} aria-selected={selected} onClick={_onToggle} ref={anchorRef}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon> }\n                <div className={classes.label}>{title || label}</div>\n                <DropDownIcon className={classes.arrow} />\n            </ButtonBase>\n            <NavActionDropdown placement=\"bottom-end\" open={expanded} anchorEl={anchorRef.current} onClickAway={_onToggle}>\n                <NavActionMenu menu={children} onSelect={_onSelect} />\n            </NavActionDropdown>\n            </>\n        )\n\n    }\n\n    return (\n        <ButtonBase className={classes.button} aria-selected={selected} onClick={onClick}>\n            { icon && <Icon className={classes.icon}>{icon}</Icon> }\n            <div className={classes.label}>{title}</div>\n        </ButtonBase>\n    )\n\n        \n}\n\nexport default NavViewButton","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport NavViewButton from \"./NavViewButton\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst RowsOptions = ({className, options = [], value, onChange}) => {\n    const { t, i18n } = useTranslation('rows');\n    const classes = useStyles()\n\n    if (!options.length) {\n        return false\n    }\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    options = options.map(option => {\n\n        if (typeof option === \"string\" || typeof option === \"number\") {\n            return {\n                title: t(\"{{rows}} rows\", {rows: option}),\n                value: option,\n                onClick: () => _onChange(option)\n            }\n        }\n\n        return option\n\n    })\n\n    const currentOption = value && options.find(option => option.value === value)\n\n    return (\n        <nav className={className}>\n            <NavViewButton {...currentOption} label={value} value={value} children={options} />\n        </nav>\n    )\n\n        \n}\n\nexport default RowsOptions","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from \"@material-ui/core/Icon\"\n\nimport NavViewButton from \"./NavViewButton\"\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst SortOptions = ({className, options = [], value, onChange}) => {\n    const { t, i18n } = useTranslation('sort');\n    const classes = useStyles()\n\n    if (!options.length) {\n        return false\n    }\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n    }\n\n    options = options.map(option => {\n\n        if (typeof option === \"string\" || typeof option === \"number\") {\n            return {\n                title: t(option),\n                value: option,\n                onClick: () => _onChange(option)\n            }\n        }\n\n        return option\n\n    })\n\n    if (!value) {\n        value = options[0].value\n    }\n\n    const currentOption = value && options.find(option => option.value === value)\n\n    return (\n        <nav className={className}>\n            <NavViewButton {...currentOption} children={options} />\n        </nav>\n    )\n\n        \n}\n\nexport default SortOptions","import React, { useRef, useState } from 'react';\nimport Slider from '@material-ui/core/Slider'\nimport ZoomInIcon from \"@material-ui/icons/AddCircle\"\nimport ZoomOutIcon from \"@material-ui/icons/RemoveCircle\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    control: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    slider: {\n        width: 100,\n        margin: theme.spacing(2)\n    },\n    buttongroup: {\n        display: 'flex',\n        alignItems: 'center',\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        '& > * + *': {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n    },\n    button: {\n        padding: theme.spacing(.5),\n\n        \"&[aria-selected=true]\": {\n            \"& > $icon\": {\n                opacity: .5\n            }\n        }\n\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        margin: 5\n    },\n    icon: {\n        margin: theme.spacing(0, .5),\n\n        \"& + $label\": {\n            display: \"none\"\n        }\n        \n    }\n}));\n\nconst SizeOptions = ({\n        min = 0, \n        max = 200,\n        defaultValue = 100,\n        value, \n        onChange\n    }) => {\n\n    const classes = useStyles()\n\n    const _onChange = (event, value) => {\n        onChange && onChange(value)\n    }\n\n    return (\n        <div className={classes.control}>\n            <Slider className={classes.slider} value={value} min={min} max={max} onChange={_onChange} />\n        </div>\n    )\n    \n    return (\n        <div className={classes.control}>\n            <ZoomOutIcon className={classes.icon} />\n            <Slider className={classes.slider} defaultValue={value || defaultValue} min={min} max={max} onChangeCommitted={_onChange} />\n            <ZoomInIcon className={classes.icon} />\n        </div>\n    )\n        \n}\n\nexport default SizeOptions","import React, { useRef, useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { NavPath } from \"../NavPath\"\nimport { NavView } from \"../NavView\"\nimport { NavAction } from \"../NavAction\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        minHeight: 64,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        boxSizing: \"border-box\"\n    },\n    title: {\n\n    },\n    nav: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: 6\n        }\n\n    }\n\n}));\n\nconst ViewHeader = ({\n    parents = [],\n    title,\n    description,\n\n    viewAction,\n\n    view,\n    viewOptions,\n    onView,\n\n    rows,\n    rowsOptions,\n    onRows,\n\n    sort,\n    sortOptions,\n    onSort,\n\n    size,\n    sizeOptions,\n    onSize,\n\n    options,\n    onSelect,\n}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            <NavPath parents={parents} title={title} description={description} onSelect={onSelect} />\n            <NavView\n                viewOptions={viewOptions}\n                view={view}\n                onView={onView}\n\n                sortOptions={sortOptions}\n                sort={sort}\n                onSort={onSort}\n\n                sizeOptions={sizeOptions}\n                size={size}\n                onSize={onSize}\n\n                rowsOptions={rowsOptions}\n                rows={rows}\n                onRows={onRows}\n\n            />\n        </header>\n    )\n\n}\n\nexport default ViewHeader;","import React from \"react\"\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    loading: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& + *\": {\n            opacity: .75\n        }\n\n    }\n}));\n\nconst ViewLoader = ({isLoading = true, children}) => {\n\n    const classes = useStyles()\n\n    if (isLoading) {\n        return (\n            <>\n                <div className={classes.loading}>\n                    <CircularProgress />\n                </div>\n                {children}\n            </>\n        )\n    }\n\n    return children\n\n}\n\nexport default ViewLoader;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Pagination from '@material-ui/lab/Pagination';\n\nconst useStyles = makeStyles(theme => ({\n    pages: {\n        paddingTop: theme.spacing(1)\n    }\n}));\n\nconst ViewPages = ({className, pages = 0, page, onPage}) => {\n    const classes = useStyles()\n\n    if (pages < 2) {\n        return false\n    }\n\n    const _onChange = (event, value) => {\n        onPage && onPage(value, event)\n    };\n  \n    return (\n        <div className={className || classes.pages}>\n            <Pagination count={pages} page={page} onChange={_onChange} />\n        </div>\n    );\n\n    \n}\n\nViewPages.defaultProps = {\n}\n\nViewPages.propTypes = {\n    className: PropTypes.string,\n    pages: PropTypes.number,\n    page: PropTypes.number,\n    onPage: PropTypes.func\n}\n\nexport default ViewPages","import React from \"react\"\nimport Icon from '@material-ui/core/Icon';\nimport Typography from '@material-ui/core/Typography';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    icon: {\n        fontSize: 48,\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n    },\n    \n}));\n\nconst LoadingView = ({icon = \"search\", message = \"No hits\"}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view}>\n            <Icon className={classes.icon}>\n               {icon}\n            </Icon>\n            <Typography>{message}</Typography>\n        </div>\n    )\n\n}\n\nexport default LoadingView;","import React, { useRef, useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        display: \"block\",\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n\n    },\n}));\n\nconst ListView = ({header, footer, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.list}>\n            {header}\n            {children}\n            {footer}\n        </div>\n    )\n\n}\n\nexport default ListView;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Paper from '@material-ui/core/Paper'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        \"&[data-deleted=true]\": {\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n        },\n        \"&.sortable-helper\": {\n            boxShadow: theme.shadows[12],\n            zIndex: 2000\n        }\n    }\n}));\n\n/** ModuleBase is used as a wrapper for all modules, setting common variables that other modules need.  */\n\nconst ModuleBase = ({\n        id, \n        className,\n        component,\n        status, \n        selected,\n        deleted,\n        erased,\n        expanded, \n        elevation, \n        onClick, \n        children\n    }) => {\n\n    const classes = useStyles();\n\n    if (component === \"tr\") {\n        return (\n            <tr id={id}\n                className={className || classes.root}\n                data-status={status}\n                data-deleted={deleted}\n                data-erased={erased}\n                aria-expanded={expanded}\n                aria-selected={selected}>\n                    {children}\n            </tr>\n        )\n    }\n\n    if (!elevation) {\n        return (\n            <article id={id}\n                className={className || classes.root}\n                data-status={status}\n                data-deleted={deleted}\n                data-erased={erased}\n                aria-expanded={expanded}\n                aria-selected={selected}\n                role={onClick && \"button\"}\n                onClick={onClick}>\n                    {children}\n            </article>\n        )\n    }\n\n\n    return (\n        <Paper id={id} \n            component={component}\n            className={className || classes.root}\n            data-status={status}\n            data-deleted={deleted}\n            data-erased={erased}\n            data-elevated={true}\n            aria-expanded={expanded}\n            aria-selected={selected}\n            elevation={elevation}\n            square={true}\n            role={onClick && \"button\"}\n            onClick={onClick}>\n                { children }\n        </Paper>\n    )\n\n}\n\nModuleBase.defaultProps = {\n    component: \"article\",\n    elevation: 0,\n\n\n}\n\nModuleBase.propTypes = {\n    /** Id */\n    id: PropTypes.string,\n    /** className */\n    className: PropTypes.string,\n    /** Which component to use */\n    component: PropTypes.string,\n    /** Elevation */\n    elevation: PropTypes.number,\n    /** Status */\n    status: PropTypes.string,\n    /** Expanded or not */\n    expanded: PropTypes.bool,\n    /** Selected or not */\n    selected: PropTypes.bool,\n    /** Deleted or not */\n    deleted: PropTypes.bool,\n    /** Erased or not */\n    erased: PropTypes.bool,\n    /** onClick */\n    onClick: PropTypes.func\n}\n\nexport default ModuleBase;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport SelectIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    icon: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        borderRadius: \"100%\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n\n        color: theme.palette.text.primary,\n        color: theme.palette.action.active,\n\n        border: \"1px solid\",\n        borderColor: \"transparent\",\n\n        margin: -1,\n        \n        \"&[aria-selected=true]\": {\n            opacity: 1,\n            margin: -2,\n            border: \"2px solid\",\n            borderColor: theme.palette.primary.main,\n            backgroundColor: theme.palette.primary.main,\n            color: theme.palette.primary.contrastText,\n            boxShadow: theme.shadows[2],\n\n            \"& > $check\": {\n                fontSize: 20\n            }\n\n        }\n        \n    },\n    check: {\n        color: \"currentColor\"\n    },\n    selectButton: {\n        color: \"inherit\",\n\n        \"&:hover\": {\n            opacity: 1,\n        },\n        \n        \"&[aria-selected=true]\" : {\n            opacity: 1\n        }\n        \n    },\n    borderButton: {\n\n        \"& $icon\": {\n            border: \"1px dotted\",\n            borderColor: \"currentColor\",\n            opacity: .5,\n        },\n\n        \"& $check\": {\n            fontSize: 20\n        },\n\n        \"&[aria-selected=true] $icon\" : {\n            opacity: 1,\n            margin: -2,\n            border: \"2px solid\",\n            borderColor: theme.palette.primary.main,\n        }\n\n\n    },\n}));\n\nconst ModuleSelect = ({className, border = false, selected = false, onClick}) => {\n    const classes = useStyles();\n\n    if (border) {\n\n        return (\n            <IconButton className={className || classes.borderButton} aria-selected={selected} color=\"inherit\" name=\"select\" aria-label=\"select\" onClick={onClick}>\n                <Icon className={classes.icon} aria-selected={selected}>\n                    <SelectIcon className={classes.check} />\n                </Icon>\n            </IconButton>\n        )\n        \n    }\n\n    return (\n        <IconButton className={className || classes.selectButton} aria-selected={selected} color=\"inherit\" name=\"select\" aria-label=\"select\" onClick={onClick}>\n            <Icon className={classes.icon} aria-selected={selected}>\n                <SelectIcon className={classes.check}  />\n            </Icon>\n        </IconButton>\n    )\n\n}\n\nexport default ModuleSelect;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\n//import ButtonDraggable from \"../NavToolbar/ButtonDraggable\"\n//import ButtonCollapsible from \"../NavToolbar/ButtonCollapsible\"\nimport ModuleSelect from \"./ModuleSelect\"\n\nconst ButtonDraggable = () => (<p>drag</p>)\nconst ButtonCollapsible = () => (<p>collapse</p>)\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    icon: {\n        margin: theme.spacing(1.5)\n    }\n}));\n\nconst ModulePrefix = ({ className, startAdornment, icon, onClick, selectable, selected, onSelect }) => {\n\n    const classes = useStyles()\n\n    if (startAdornment) {\n        return (\n            <div className={className || classes.root}>\n                { startAdornment }\n            </div>\n        )    \n    }\n\n    if (selectable) {\n        return (\n            <div className={className || classes.root}>\n                { selectable && <ModuleSelect selected={selected} onClick={onSelect} /> }\n            </div>\n        )    \n    }\n\n    if (icon && onClick) {\n        return (\n            <IconButton className={className || classes.root} onClick={onClick}>\n                <Icon>{icon}</Icon>\n            </IconButton>\n        )    \n    }\n\n    if (icon) {\n        return (\n            <div className={className || classes.root}  >\n                <Icon className={classes.icon}>{icon}</Icon>\n            </div>\n        )    \n    }\n\n    return false\n\n}\n\nModulePrefix.propTypes = {\n    className: PropTypes.string,\n    startAdornment: PropTypes.node,\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    icon: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default ModulePrefix;\n","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Paper from '@material-ui/core/Paper';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        width: props => { return props.width },\n        height: props => { return props.height },\n        margin: 0,\n    },\n    cropbox: {\n        display: \"block\",\n        position: \"absolute\",\n//        backgroundColor: props => { return props.backgroundColor },\n        boxShadow: props => { return props.elevation && theme.shadows[props.elevation] },\n        backgroundColor: theme.palette.action.selected,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: \"auto\",\n        overflow: \"hidden\",\n        opacity: \"1\",\n        transformOrigin: \"50% 50%\",\n        transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1)\",\n        transform: \"scale(1)\",\n        userSelect: \"none\",\n        \"&[aria-selected=true]\": {\n            transform: \"scale(0.8)\",\n        }\n    },\n    image: {\n        display: \"block\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"50%\",\n        transform: \"translateX(-50%)\",        \n        maxWidth: props => { return props.maxWidth },\n        maxHeight: props => { return props.maxHeight },\n        margin: \"auto\"\n    },\n}));\n\nconst ModuleImage = ({className, elevation = 0, selected = false, imageUrl, backgroundColor = \"transparent\", layout = \"contain\", width = \"100%\", height = \"100%\", maxWidth = \"100%\", maxHeight = \"100%\", margin = 0, onClick, ...props}) => {\n    const classes = useStyles({...props, elevation, backgroundColor, width, height, maxWidth, maxHeight, margin})\n\n    const coverStyle = {\n        backgroundPosition: \"50% 50%\",\n        backgroundImage: \"url(\"+imageUrl+\")\",\n        backgroundSize: layout,\n        backgroundRepeat: \"no-repeat\" \n    }\n\n    if (selected) {\n//        elevation = elevation * 4\n    }\n\n    if (layout === \"cover\") {\n        return (\n            <div className={className || classes.root} aria-selected={selected} onClick={onClick}>\n                <div className={classes.cropbox} aria-selected={selected} style={coverStyle}>\n                    <img src={imageUrl} className={classes.image} style={{display: \"none\"}} />\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className={className || classes.root} aria-selected={selected} onClick={onClick}>\n            <div className={classes.cropbox} aria-selected={selected}>\n                <img src={imageUrl} className={classes.image} />\n            </div>\n        </div>\n    )\n}\n\nModuleImage.propTypes = {\n    imageUrl: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    margin: PropTypes.number\n};\n\nexport default ModuleImage;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    icon: {\n    },\n}));\n\nconst ModuleIcon = ({className, documentType, mediaType, icons = [], icon}) => {\n    const classes = useStyles()\n\n    if (!icon && documentType && icons && icons[documentType]) {\n        icon = icons[documentType]\n    }\n\n    if (!icon && mediaType && icons && icons[mediaType]) {\n        icon = icons[mediaType]\n    }\n\n    return (\n         <Icon className={className || classes.icon}>{icon}</Icon>\n    )\n}\n\nModuleIcon.propTypes = {\n    icons: PropTypes.array\n}\n\nexport default ModuleIcon","import React from \"react\"\nimport ModuleImage from \"./ModuleImage\"\nimport ModuleIcon from \"./ModuleIcon\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        display: \"block\",\n        position: \"relative\",\n        width: props => { return props.width },\n        height: props => { return props.height },\n        margin: 0,\n    },\n}));\n\nconst ModuleMedia = ({imageUrl, icon, icons, documentType, mediaType}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.media}>\n            { !imageUrl && <ModuleIcon icons={icons} icon={icon} documentType={documentType} mediaType={mediaType} /> }\n            { imageUrl && <ModuleImage imageUrl={imageUrl} /> }\n        </div>\n    )\n\n}\n\n\nexport default ModuleImage","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        lineHeight: 1.5,\n        fontWeight: \"bold\",\n        maxWidth: props => { return props.maxWidth },\n        color: theme.palette.text.primary,\n    },\n    link: {\n        color: \"inherit\",\n        \"&:hover\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst ModuleTitle = ({className, maxWidth = \"100%\", title, untitled = \"Untitled\", onClick, children}) => {\n\n    const classes = useStyles({maxWidth})\n\n    if (!title && children) {\n        title = children\n    }\n\n    if (onClick) {\n        return (\n            <Typography data-name=\"title\" data-untitled={!title} className={className || classes.title} component=\"h2\" noWrap={true}>\n                <Link className={classes.link} onClick={onClick}>{title || untitled}</Link>\n            </Typography>\n        )\n    }\n\n    return (\n        <Typography data-name=\"title\" data-untitled={!title} className={className || classes.title} component=\"h2\" noWrap={true}>{title || untitled}</Typography>\n    )\n}\n\nModuleTitle.propTypes = {\n    maxWidth: PropTypes.string,\n    untitled: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n};\n\nModuleTitle.defaultProps = {\n    onClick: undefined,\n};\n\n\nexport default ModuleTitle;","import Color from 'color';\n\nexport const getContrastColor = (color) => {\n\n    color = Color(color);\n\n    if (color.isDark()) {\n        return \"white\"\n    } else {\n        return \"black\"\n    }\n\n}","import React from 'react';\nimport Color from 'color';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getContrastColor } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: props => { return props.fontSize },\n        fontWeight: \"bold\",\n        padding: \".125em .75em\",\n        border: \"1px solid\",\n        backgroundColor: props => { return props.color || \"transparent\" },\n        borderColor: props => { return props.color || theme.palette.divider },\n        color: props => { return props.color && getContrastColor(props.color) || theme.palette.text.secondary },\n        borderRadius: \"1.25em\",\n    }\n}));\n\nconst ModuleLabel = ({component = \"h4\", fontSize = 12, label, color, children}) => {\n    const classes = useStyles({fontSize, color})\n\n    if (!label && children) {\n        label = children\n    }\n\n    if (!label) {\n        return false\n    }\n\n    return (\n        <Typography className={classes.label} noWrap={true} component={component}>{label}</Typography>\n    )\n}\n\nModuleLabel.propTypes = {\n    component: PropTypes.string,\n    label: PropTypes.string,\n    color: PropTypes.string\n};\n\nModuleLabel.defaultProps = {\n    label: undefined,\n    color: undefined\n};\n\nexport default ModuleLabel;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"normal\",\n        color: theme.palette.text.secondary\n    }\n}));\n\n/** ModuleMetadata takes an array of strings and displays them on a single line */\n\nconst ModuleMetadata = ({className, metadata = []}) => {\n    const classes = useStyles()\n\n    if (!metadata) {\n        return false\n    }\n\n    metadata = metadata.join(' – ')\n    \n    return (\n        <Typography className={className || classes.root} noWrap={true} component=\"h3\">{metadata}</Typography>\n    )\n}\n\nModuleMetadata.propTypes = {\n    component: PropTypes.string,\n    metadata: PropTypes.array,\n}\n\nexport default ModuleMetadata;","import React from 'react';\nimport PropTypes from \"prop-types\"\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        fontWeight: \"normal\",\n        color: props => { return props.color || theme.palette.text.secondary }\n    }\n}));\n\nconst ModuleDescription = ({className, color, description, children}) => {\n    const classes = useStyles({color})\n\n    if (!description && children) {\n        description = children\n    }\n\n    if (!description || typeof(description) === \"undefined\") {\n        return false\n    }\n\n    return (\n        <Typography className={className || classes.root} noWrap={true} component=\"h3\">{description}</Typography>\n    )\n}\n\nModuleDescription.propTypes = {\n    description: PropTypes.string,\n}\n\nexport default ModuleDescription;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getContrastColor } from \"./utils\"\nimport theme from '../../app/settings/kiosk/theme';\n\nconst useStyles = makeStyles(theme => ({\n    status: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: props => { return props.fontSize },\n        textTransform: \"capitalize\",\n        fontWeight: \"bold\",\n        padding: \".125em .75em\",\n        border: \"1px solid\",\n\n        backgroundColor: theme.palette.divider,\n        color: theme.palette.text.secondary,\n        borderColor: \"transparent\",\n\n        backgroundColor: \"transparent\",\n        color: theme.palette.text.secondary,\n        borderColor: theme.palette.divider,\n\n        borderRadius: \"1.25em\",\n\n        \"&[data-status=trash]\": {\n            backgroundColor: \"transparent\",\n            color: theme.palette.action.divider,\n            border: \"1px dotted\",\n            borderColor: theme.palette.action.divider || theme.palette.action.disabled,\n        },\n\n        \"&[data-status=erased]\": {\n            backgroundColor: \"transparent\",\n            color: theme.palette.action.divider,\n            border: \"1px dotted\",\n            borderColor: theme.palette.action.disabled,\n        },\n\n        \"&[data-status=draft]\": {\n            backgroundColor: props => { return props.variant === \"outlined\" && \"transparent\" || theme.palette.divider },\n            borderColor: props => { return props.variant === \"outlined\" && theme.palette.divider || \"transparent\" }\n        },\n\n        \"&[data-status=publish]\": {\n            backgroundColor: props => { return props.variant === \"outlined\" && \"transparent\" || theme.palette.primary.main },\n            color: props => { return props.variant === \"outlined\" && theme.palette.text.primary || getContrastColor(theme.palette.primary.main) },\n            borderColor: props => { return props.variant === \"outlined\" && theme.palette.primary.main || \"transparent\" }\n        }\n\n    }    \n}));\n\n/** ModuleStatus, draft, publish, trash, erased */\n\nconst ModuleStatus = ({component = \"span\", variant = \"filled\", fontSize = 12, status, colors = {}, children}) => {\n\n    const classes = useStyles({fontSize, colors, variant})\n\n    if (!status) {\n        return false\n    }\n\n    if (!children && status) {\n        children = status\n    }\n\n    return (\n        <Typography data-status={status} className={classes.status} noWrap={true} component={component}>{children}</Typography>\n    )\n}\n\nModuleStatus.defaultProps = {\n    color: undefined,\n    colors: {\n    }\n}\n\nModuleStatus.propTypes = {\n    variant: PropTypes.oneOf([\"filled\",\"outlined\"]),\n    status: PropTypes.string,\n    colors: PropTypes.object,\n    color: PropTypes.string,\n};\n\nexport default ModuleStatus;","import React from 'react';\nimport moment from 'moment';\nimport \"moment/locale/nb\";\nimport \"moment/locale/nn\";\nimport \"moment/locale/sv\";\n\nimport PropTypes from \"prop-types\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary,\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\"\n    }\n}));\n\n/** Module date, uses moment.js */\n\nconst ModuleDate = ({className, locale = \"nb\", datetime, format = \"relative\"}) => {\n    const classes = useStyles()\n\n    if (!datetime) {\n        return false\n    }\n\n    // format value\n\n    moment.locale(locale)\n\n    let date;\n    \n    if (format === \"relative\") {\n        date = moment(datetime).fromNow()\n    } else if (format) {\n        date = moment(datetime).format(format)\n    } else {\n        date = moment(datetime).format()\n    }\n\n    return (\n        <time dateTime={datetime} className={className || classes.root}>{date}</time>\n    )\n}\n\nModuleDate.propTypes = {\n    /** Locale string */\n    locale: PropTypes.string,\n    /** Datetime as YYYY-MM-DD */\n    datetime: PropTypes.string,\n    /** Moment.js format */\n    format: PropTypes.string,\n};\n\nexport default ModuleDate;","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport ModuleDate from \"./ModuleDate\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    byline: {\n//        display: \"flex\",\n//        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.secondary,\n    },\n    author: {\n        display: \"inline\",\n        fontSize: \"12px\",\n        fontStyle: \"normal\",\n        fontWeight: \"normal\",\n    },\n    datetime: {\n        display: \"inline\",\n        fontStyle: \"normal\",\n        fontWeight: \"normal\"\n    }\n}));\n\nconst ModuleByline = ({author, datetime, locale = \"nb\", format = \"relative\"}) => {\n    const classes = useStyles()\n\n    if (!datetime) {\n        return false\n    }\n\n    return (\n        <Typography className={classes.byline} noWrap={true} component=\"h3\">\n            <ModuleDate datetime={datetime} locale={locale} format={format} className={classes.datetime} />\n            {' '}\n            <b className={classes.author}>by {author}</b>\n        </Typography>\n    )\n}\n\nModuleByline.propTypes = {\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    locale: PropTypes.string,\n    format: PropTypes.string,\n};\n\nexport default ModuleByline;","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Button from '@material-ui/core/Button';\n\nconst NavToolbarOptions = ({options = [], ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = ({type = \"listitem\", icon, title, onClick, ...props}) => {\n\n        if (type === \"button\") {\n            return (\n                <ListItem>\n                    <Button {...props} fullWidth={true} onClick={onClick}>\n                        {title}\n                    </Button>\n                </ListItem>\n            )\n        }\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title} />\n            </ListItem>\n        )\n\n    }\n    \n    return (\n        <React.Fragment>\n            <IconButton onClick={_onToggle} ref={anchorRef}>\n                <Icon>{button && button.icon}</Icon>\n            </IconButton>\n\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavToolbarOptions","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Button from '@material-ui/core/Button';\n\nconst NavToolbarSettings = ({options = [], value, ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = (option) => {\n        const { icon, title, label, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>\n                {value}\n            </Button>\n\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavToolbarSettings","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport SelectIcon from '@material-ui/icons/Check';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n        color: \"inherit\",\n    },\n    select: {\n        color: \"inherit\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"1px solid\",\n        borderColor: \"currentColor\",\n        margin: -1,\n    },\n    selected: {\n        color: \"inherit\",\n        display: \"block\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        borderRadius: \"100%\",\n        border: \"2px solid\",\n        margin: -2,\n        borderColor: theme.palette.primary.main,\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        boxShadow: theme.shadows[2],\n\n        \"& svg\": {\n            width: theme.spacing(2.5),\n            height: theme.spacing(2.5),\n            position: \"absolute\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%,-50%)\",\n//            color: \"currentColor\"\n        }        \n\n    }\n}));\n\nconst ButtonSelect = ({className, selected = false, onClick}) => {\n    const classes = useStyles();\n\n    if (selected) {\n\n        return (\n            <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" name=\"select\" value=\"select\" aria-label=\"select\" onClick={onClick}>\n                <div className={classes.selected}>\n                    <SelectIcon />\n                </div>\n            </IconButton>\n        )\n\n    }\n\n    return (\n        <IconButton className={className || classes.button} aria-selected={selected} color=\"inherit\" name=\"select\" value=\"select\" aria-label=\"select\" onClick={onClick}>\n            <SelectIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonSelect;","import React from \"react\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport ButtonSelect from \"./ButtonSelect\"\n\nconst NavToolbarButton = (props) => {\n\n    const {name, icon, disabled, onClick} = props\n\n    if (name === \"select\") {\n        return <ButtonSelect {...props} />\n    }\n\n    return (\n        <IconButton name={name} onClick={onClick} disabled={disabled}>\n            <Icon>{icon}</Icon>\n        </IconButton>    \n    )\n\n}\n\nexport default NavToolbarButton","\nconst getVisibilityOptions = (props) => {\n    const { hideable, hidden, deletable, deleted, restorable, restored, removable } = props\n    const { onHide, onUnhide, onDelete, onRestore, onRemove } = props\n\n    // hideable\n\n    let options = []\n    \n    if (hideable) {\n        \n        options.push({\n            name: \"hidden\",\n            icon: \"visibility\",\n            title: \"Visible\",\n            onClick: onUnhide\n        })\n\n        options.push({\n            name: \"hidden\",\n            icon: \"visibility_off\",\n            title: \"Hidden\",\n            onClick: onHide\n        })\n        \n    }\n    \n    // deletable && restorable\n    \n    if (deletable && restorable) {\n        \n        if (deleted) {\n            options.push({\n                type: \"button\",\n                variant: \"outlined\",\n                name: \"restore\",\n                title: \"Restore\",\n                onClick: onRestore\n            })            \n        } else {\n            options.push({\n                type: \"button\",\n                variant: \"outlined\",\n                name: \"delete\",\n                title: \"Delete\",\n                onClick: onDelete\n            })            \n        }\n\n    // deletable\n        \n    } else if (deletable && onDelete) {\n\n        options.push({\n            type: \"button\",\n            variant: \"outlined\",\n            name: \"delete\",\n            title: \"Delete\",\n            onClick: onDelete\n        })            \n\n    // removable\n\n    } else if (removable) {\n\n        options.push({\n            type: \"button\",\n            variant: \"outlined\",\n            name: \"remove\",\n            title: \"Remove\",\n            onClick: onRemove\n        })            \n\n    }\n    \n    // set icon\n\n    let icon;\n\n    if (deleted && restorable) {\n        icon = \"restore\"\n    } else if (deleted) {\n        icon = \"delete\"\n    } else if (hidden) {\n        icon = \"visibility_off\"\n    } else {\n        icon = \"visibility\"\n    }\n    \n    return {\n        name: \"visibility\",\n        icon: icon,\n        options: options\n    }\n    \n}\n\nconst getToolbar = (props, toolbar = []) => {\n    const { selectable, selected, editable, editing, hideable, hidden, deletable, deleted, restorable, restored, erasable, erased, addable, removable } = props\n    const { onSelect, onEdit, onSave, onHide, onUnhide, onDelete, onRestore, onErase, onRemove } = props\n\n    // erased, no way back\n\n    if (erased) {\n        return toolbar\n    }\n\n    // editable\n\n    if (editable && editing) {\n        toolbar.unshift({\n            name: \"save\",\n            label: \"Save\",\n            onClick: onSave\n        })\n    } else if (editable) {\n        toolbar.unshift({\n            name: \"edit\",\n            icon: \"edit\",\n            onClick: onEdit\n        })\n    }\n\n    // deleted\n\n    if (deleted) {\n            \n        toolbar = [];\n\n        if (erasable) {\n            toolbar.push({\n                name: \"erase\",\n                icon: \"delete_forever\",\n                onClick: onErase\n            });\n        }\n\n        if (restorable) {\n            toolbar.push({\n                name: \"restore\",\n                icon: \"restore\",\n                onClick: onRestore\n            });\n        }\n\n        if (!toolbar.length) {\n            toolbar.push({\n                name: \"delete\",\n                icon: \"delete\",\n                disabled: true\n            });\n        }\n\n        \n        return toolbar;\n\n    // hideable => visibility options\n    \n    } else if (hideable && (deletable || restorable)) {\n\n        let visibility = getVisibilityOptions(props)\n        toolbar.push(visibility)\n\n    // hideable\n\n    } else if (hideable && hidden) {\n\n        toolbar.push({\n            name: \"hidden\",\n            icon: \"visibility_off\",\n            onClick: onUnhide\n        })\n\n    } else if (hideable) {\n\n        toolbar.push({\n            name: \"hidden\",\n            icon: \"visibility\",\n            onClick: onHide\n        })\n       \n    // deletable\n\n    } else if (deletable) {\n        toolbar.push({\n            name: \"delete\",\n            icon: \"delete\",\n            onClick: onDelete\n        })\n\n    // removable\n        \n    } else if (removable) {\n        toolbar.push({\n            name: \"remove\",\n            icon: \"remove_circle\",\n            onClick: onRemove\n        })\n        \n    }\n\n    // selectable\n\n    if (selectable && selected) {\n        toolbar.push({\n            name: \"select\",\n            selected: selected,\n            label: \"Select\",\n            onClick: onSelect\n        })\n    } else if (selectable) {\n        toolbar.push({\n            name: \"select\",\n            selected: selected,\n            icon: \"select\",\n            onClick: onSelect\n        })\n    }\n\n    return toolbar\n\n}\n\n\n\nexport default getToolbar","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport NavToolbarOptions from \"./NavToolbarOptions\"\nimport NavToolbarSettings from \"./NavToolbarSettings\"\nimport NavToolbarButton from \"./NavToolbarButton\"\n\nimport getToolbar from \"./getToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\"\n    }\n}));\n\n/** NavToolbar renders buttons and options based on capabilities. */\n\nconst NavToolbar = ({className, toolbar, ...props}) => {\n    const classes = useStyles()\n\n    if (!toolbar) {\n        toolbar = getToolbar(props)\n    }\n\n    if (!toolbar.length) {\n        return false\n    }\n\n    return (\n        <div className={className || classes.toolbar}>\n            { toolbar && toolbar.map((button, index) => {\n\n                const { value, options } = button\n\n                if (value) {\n                    return <NavToolbarSettings {...button} />\n                }\n\n                if (options) {\n                    return <NavToolbarOptions {...button} />\n                }\n            \n                return <NavToolbarButton {...button} />\n                \n            })}\n        </div>\n    )\n\n}\n\nNavToolbar.propTypes = {\n    toolbar: PropTypes.array,\n\n    hideable: PropTypes.bool,\n    hidden: PropTypes.bool,\n    onHide: PropTypes.func,\n    onUnhide: PropTypes.func,\n\n    editable: PropTypes.bool,\n    editing: PropTypes.bool,\n    onEdit: PropTypes.func,\n\n    deletable: PropTypes.bool,\n    deleted: PropTypes.bool,\n    onDelete: PropTypes.func,\n\n    erasable: PropTypes.bool,\n    erased: PropTypes.bool,\n    onErase: PropTypes.func,\n\n    restorable: PropTypes.bool,\n    restored: PropTypes.bool,\n    onRestore: PropTypes.func,\n\n    removable: PropTypes.bool,\n    removed: PropTypes.bool,\n    onRemove: PropTypes.func,\n}\n\nexport default NavToolbar;\n","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Button from '@material-ui/core/Button';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\n\nconst ListSettings = ({options = [], value, ...button}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const ListOption = (option) => {\n        const { icon, title, label, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                { icon && <ListItemIcon><Icon>{icon}</Icon></ListItemIcon> }\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>{value}</Button>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n                        return <ListOption {...option} key={index} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default ListSettings","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\n\nconst gridUnit = 56;\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        position: \"relative\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        width: props => { return props.cols * gridUnit + \"px\" },\n        height: props => { return props.rows * gridUnit + \"px\" },\n    },\n    item: {\n        position: \"absolute\",\n        display: \"block\",\n        top: 0,\n        left: 0,\n        backgroundColor: \"rgba(0,0,0,.125)\",\n    },\n    button: {\n        outline: \"1px solid white\",\n        width: props => { return props.cols * gridUnit + \"px\" },\n        height: props => { return props.rows * gridUnit + \"px\" },\n\n        \"&:hover\": {\n            backgroundColor: \"rgba(0,0,0,.5)\",\n            color: \"white\",\n        },\n        \"&[aria-selected=true]\": {\n            backgroundColor: \"blue\",\n            color: \"white\"\n        }\n    },\n    label: {\n        position: \"absolute\",\n        top: 'auto',\n        right: 0,\n        bottom: 0,\n        left: 'auto',\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: '12px',\n        padding: theme.spacing(0.5)\n    }\n}));\n\nconst GridItem = ({size, value, label, selected, onClick, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <li className={classes.item}>\n            <ButtonBase className={classes.button} data-size={size} aria-selected={selected} onClick={onClick}>\n                <b className={classes.label}>{label}</b>\n            </ButtonBase>\n        </li>\n    )\n}\n\nconst GridList = ({children, ...props}) => {\n    const classes = useStyles(props)\n    return (\n        <ul className={classes.list}>\n            {children}\n        </ul>\n    )\n}\n\nconst OptionsGrid = ({cols, rows, value, options = [], onSelect, ...props}) => {\n\n    return (\n        <GridList cols={cols} rows={rows}>\n            {options.map((item, index) => (\n                <GridItem {...item} selected={item.value === value} key={index} onClick={() => onSelect(item)}>{item.value}</GridItem>\n            ))}\n        </GridList>\n    )\n\n}\n\nexport default OptionsGrid;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport ListSettings from \"./ListSettings\"\nimport GridSettings from \"./GridSettings\"\n\nconst templates = {\n    \"list\": ListSettings,\n    \"grid\": GridSettings,\n}\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    }\n}));\n\n/** NavSettings renders settings with options. Each setting should have an onChange function. */\n\nconst NavSettings = ({className, settings = []}) => {\n    const classes = useStyles()\n\n    if (!settings.length) {\n        return false\n    }\n\n    const renderSettings = ({template, ...props}, index) => {\n\n        let SettingsTemplate\n\n        if (template && typeof template === \"function\") {\n            SettingsTemplate = template\n        } else if (template && templates[template]) {\n            SettingsTemplate = templates[template]\n        } else {\n            SettingsTemplate = ListSettings\n        }\n\n        return <SettingsTemplate {...props} key={index} />\n            \n    }\n    \n    return (\n        <div className={className || classes.settings}>\n            { settings && settings.map((settingsProps, index) => {\n                return renderSettings(settingsProps)\n            })}\n        </div>\n    )\n\n}\n\nNavSettings.propTypes = {\n    settings: PropTypes.array,\n}\n\nexport default NavSettings;\n","import React, { useState, useRef } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\nimport Button from '@material-ui/core/Button';\nimport _ from \"lodash\"\n\nimport GridSettingsList from \"./GridSettingsList\"\n\nconst getOptions = ({options = []}) => {\n    let _cols = 0, _rows = 0, _options = [], _byValue = {};\n\n    options.map((item, index) => {\n\n        if (typeof item === \"string\") {\n            item = { label: item, value: item }\n        }\n\n        const size = item.value;\n        const grid = size.split(':');\n        const cols = grid[0] * 1\n        const rows = grid[1] * 1\n\n        if (cols > _cols) {\n            _cols = cols\n        }\n\n        if (rows > _rows) {\n            _rows = rows\n        }\n\n        item = {\n            ...item,\n            order: cols * rows,\n            size: size,\n            cols: cols,\n            rows: rows\n        }\n\n        _options.push(item)\n        _byValue[item.value] = item\n\n    })    \n\n    _options = _.orderBy(_options, 'order', 'desc'); \n\n    return {\n        byValue: _byValue,\n        options: _options,\n        cols: _cols,\n        rows: _rows,\n    }\n\n}\n\n\nconst GridSettings = ({type = \"grid\", name, label, value, onChange, ...props}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    \n    const { options, byValue, cols, rows } = getOptions(props)\n    const current = byValue[value] || options[0]\n\n\n    const onSelect = (item) => {\n        if (onChange) {\n            onChange(name, item.value)\n        }\n        setExpanded(false);\n    }\n\n    const onCollapse = () => {\n        setExpanded(false);\n    }\n\n    return (\n        <React.Fragment>\n            <Button variant=\"outlined\" onClick={_onToggle} ref={anchorRef}>{current.label}</Button>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <GridSettingsList value={current && current.value} cols={cols} rows={rows} options={options} onSelect={onSelect} />\n            </Dropdown>\n        </React.Fragment>            \n    )\n\n}\n\nexport default GridSettings;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleBase from \"./ModuleBase\"\nimport ModulePrefix from \"./ModulePrefix\"\n\nimport ModuleMedia from './ModuleMedia';\nimport ModuleTitle from './ModuleTitle';\nimport ModuleLabel from './ModuleLabel';\nimport ModuleMetadata from './ModuleMetadata';\nimport ModuleDescription from './ModuleDescription';\nimport ModuleStatus from './ModuleStatus';\nimport ModuleByline from './ModuleByline';\n\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\nimport NavSettings from \"../NavSettings/NavSettings\"\n\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n\n            \"& *\": {\n                pointerEvents: \"none\"\n            },\n\n            \"&[aria-selected=true]\": {\n            },\n\n        },\n\n        \"&[data-elevated=true]\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1)\n        },\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&.sortable-helper\": {\n            borderTopColor: \"transparent\",\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n            \"& $settings\": {\n                display: \"none\"\n            },\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n        },\n\n        \"&[data-status=erased]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n        \"&[data-status=trash]\": {\n\n            \"& figure\": {\n                opacity: \"0.5\"\n            },\n\n            \"& $content\": {\n                opacity: \"0.5\"\n            }\n\n        },\n\n    },\n    primaryAction: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },\n    body: {\n    },\n    media: {\n        display: \"flex\",\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    uploadProgress: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    progress: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.primary.main,\n//        opacity: 0.25,\n        height: theme.spacing(.25),\n        top: \"auto\",\n        right: \"auto\",\n        bottom: 0,\n        left: 0,\n        width: props => { return props.uploadProgress + \"%\" }\n    }\n\n}));\n\n/** CollapsedModule for listing documents */\n\nconst CollapsedModule = (props) => {\n\n    const {uploadProgress, imageUrl, untitled, typeLabel, type, title, description, metadata, status, statusLabel, author, datetime, selected, onClick } = props\n\n\n    const classes = useStyles({uploadProgress: uploadProgress})\n\n    return (\n        <ModuleBase {...props} className={classes.module} role={onClick && \"button\"} status={status} selected={selected} onClick={onClick}>\n            <ModulePrefix className={classes.primaryAction} selected={selected} {...props} />\n            <div className={classes.media}>\n                <ModuleMedia backgroundColor=\"transparent\" imageUrl={imageUrl} width={48} height={48} />\n            </div>\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle status={status} untitled={untitled} title={title} onClick={!onClick && props.onEdit} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel || status} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={typeLabel || type} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n            { uploadProgress && \n                <div className={classes.uploadProgress}>\n                    <div className={classes.progress}></div>\n                </div>                \n            }\n            <NavSettings {...props} className={classes.settings} />\n            <NavToolbar {...props} className={classes.toolbar} />\n        </ModuleBase>\n    )    \n\n}\n\nCollapsedModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    type: PropTypes.string,\n    typeLabel: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nCollapsedModule.defaultProps = {\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default CollapsedModule;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: props => { return props.minHeight },\n        paddingBottom: props => { return props.ratio * 100 + \"%\" },\n    }\n}));\n\nconst ModuleFormat = ({format, minHeight, children}) => {\n\n    let ratio;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        ratio = h/w;\n    }\n\n    const classes = useStyles({ratio, minHeight})\n\n    if (ratio || minHeight) {\n\n        return (\n            <div className={classes.format}\n                data-minHeight={minHeight}\n                data-ratio={ratio} \n                data-format={format}>\n                { children }\n            </div>\n        )\n           \n    }\n\n    return children\n\n}\n\nexport default ModuleFormat","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst useStyles = makeStyles({\n});\n\nconst StyledTabs = withStyles({\n    root: {\n        padding: 0,\n        margin: 0,\n        minHeight: \"36px\"\n    },\n    indicator: {\n      backgroundColor: '#666',\n    },\n})(Tabs);\n\nconst StyledTab = withStyles(theme => ({\n    root: {\n      textTransform: 'none',\n      minWidth: 0,\n      minHeight: \"36px\",\n      paddingLeft: 0,\n      paddingRight: 0,\n      marginLeft: 0,\n      marginRight: theme.spacing(2),\n      fontFamily: \"Akkurat, sans-serif\",\n      fontSize: \"14px\",\n      fontWeight: \"bold\",\n      letterSpacing: 0,\n      color: \"inherit\",\n      '&:hover': {\n        color: \"inherit\",\n        opacity: 1,\n      },\n      '&$selected': {\n        opacity: 1,\n      },\n      '&:focus': {\n        opacity: 1,\n      },\n    },\n    selected: {},\n  }))(props => <Tab disableRipple {...props} />);\n\nconst NavTabs = ({className, tabs = []}) => {\n    const classes = useStyles();\n    const [value, setValue] = React.useState(0);\n\n    const onTabIndex = (event, index) => {\n        setValue(index);\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    };\n\n    return (\n        <nav className={className || classes.root}>\n            <StyledTabs\n                value={value}\n                onChange={onTabIndex}\n                indicatorColor=\"primary\"\n                textColor=\"inherit\"\n            >\n                { tabs && tabs.map((tab, index) => {\n                    return (\n                        <StyledTab label={tab.label || tab.title} value={index} key={index} />\n                    )\n                })}\n            </StyledTabs>\n        </nav>\n    );\n}\n\nexport default NavTabs;","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ModuleTabs from \"./ModuleTabs\"\nimport ModuleTitle from './ModuleTitle';\n\nimport NavSettings from \"../NavSettings/NavSettings\"\n//import NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        },\n\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"16px\",\n        lineHeight: \"24px\",\n        fontWeight: \"bold\",\n    },\n    tabs: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1),\n        color: \"inherit\"\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n    },\n    toolbar: {\n        display: \"flex\",\n        color: \"inherit\"\n    },\n}));\n\n/** Used in ExpandedModule, will show a title, menu or list children */\n\nconst ModuleHeader = ({className, status, title, menu, settings, toolbar, children}) => {\n    const classes = useStyles()\n\n    if (children) {\n        return (\n            <header className={classes.header}>\n                {children}\n            </header>\n        )\n    }\n\n    return (\n        <header className={className || classes.header}>\n            { menu && <ModuleTabs className={classes.tabs} tabs={menu} />}\n            { !menu && <ModuleTitle className={classes.title} status={status} title={title} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n    \n}\n\nexport default ModuleHeader;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    body: {\n        position: \"relative\"\n    }\n}));\n\nconst ModuleBody = ({className, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.body}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default ModuleBody;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        padding: props => { return theme.spacing(props.padding) }\n    }\n}));\n\n/** ModuleFooter */\n\nconst ModuleFooter = ({className, padding = 2, children}) => {\n    const classes = useStyles({padding});\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <footer className={className || classes.footer}>\n            { children }\n        </footer>\n    )\n\n}\n\nexport default ModuleFooter;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    buttongroup: {\n        width: \"100%\",\n        overflowX: \"scroll\",\n        borderRadius: 0,\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1),\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    label: {\n\n    }\n}));\n\nconst ModuleButtons = ({className, spacing = 1, buttons = []}) => {\n    const classes = useStyles({spacing});\n\n    if (!buttons.length) {\n        return false\n    }\n\n    const ModuleButton = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n    \n        return (\n            <Button {...props} type=\"button\" data-size={size} data-variant={variant} disableElevation={true} color={color} variant={variant} size={size} className={classes.button}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon>}\n                <b className={classes.label}>{title}</b>\n            </Button>\n        )\n    \n    }\n    \n    return (\n        <ButtonGroup color=\"primary\" className={className || classes.buttongroup}>\n            { buttons && buttons.map((button, index) => {\n                return (\n                    <ModuleButton {...button} className={classes.button} key={index} />\n                )\n            })}\n        </ButtonGroup>\n    )\n\n}\n\nexport default ModuleButtons;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModuleFormat from \"./ModuleFormat\"\nimport ModuleBase from \"./ModuleBase\"\nimport ModuleHeader from \"./ModuleHeader\"\nimport ModuleBody from \"./ModuleBody\"\nimport ModuleFooter from \"./ModuleFooter\"\nimport ModuleButtons from \"./ModuleButtons\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        minHeight: props => { return props.minHeight },\n        marginTop: props => { return props.minHeight && 0 },\n        paddingRight: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        paddingLeft: theme.spacing(2),\n        flexGrow: 1\n    },\n    footer: {\n        borderTop: \"1px solid\", \n        borderColor: theme.palette.divider,\n        padding: theme.spacing(2),\n    }\n\n}));\n\nconst ExpandedModule = ({id, buttons, children, ...props }) => {\n    const classes = useStyles(props)\n\n    return (\n        <ModuleBase className={classes.module} id={id} expanded={true} elevation={4}>\n            <ModuleFormat {...props}>\n                <ModuleHeader {...props} className={classes.header} />\n                <ModuleBody className={classes.body}>\n                    {children}\n                </ModuleBody>\n            </ModuleFormat>\n            <ModuleFooter {...props} className={classes.footer}>\n                { buttons && <ModuleButtons buttons={buttons} /> }\n            </ModuleFooter>\n        </ModuleBase>\n    )    \n\n}\n\nExpandedModule.propTypes = {\n    title: PropTypes.string,\n    menu: PropTypes.array,\n    buttons: PropTypes.array,\n    children: PropTypes.node\n}\n\nexport default ExpandedModule;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport CollapsedModule from \"./CollapsedModule\"\nimport ExpandedModule from \"./ExpandedModule\"\n\n/** Module, use for documents or media objects */\n\nconst Module = ({\n    editable,\n    expanded,\n    buttons,\n    onSave,\n    children,\n    ...props\n}) => {\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onSave\n                }\n            ]\n        }\n\n    }\n\n    if (expanded) {\n        return (\n            <ExpandedModule {...props} buttons={buttons}>\n                {children}\n            </ExpandedModule>\n        )\n    }\n\n    return (\n        <CollapsedModule\n            {...props}\n            editable={editable}\n        />\n    )\n\n}\n\nModule.defaultProps = {\n    padding: 2,\n    editable: false\n}\n\nModule.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default Module;\n","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    identifier: {\n        fontFamily: \"Akkurat mono, monospace !important\",\n        fontSize: props => { return props.fontSize },\n        color: props => { return props.color || theme.palette.text.secondary },\n    }\n}));\n\nconst ModuleIdentifier = ({component = \"h4\", fontSize = 12, color, children}) => {\n    const classes = useStyles({fontSize, color})\n\n    return (\n        <Typography className={classes.identifier} noWrap>{children}</Typography>\n    )\n}\n\nModuleIdentifier.propTypes = {\n};\n\nModuleIdentifier.defaultProps = {\n};\n\nexport default ModuleIdentifier;","import React from 'react';\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst ModuleToolbar = (props) => {\n    return <NavToolbar {...props} />\n}\n\nexport default ModuleToolbar;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\"\n\nimport NavSettings from \"../NavSettings/NavSettings\"\nimport NavToolbar from \"../NavToolbar/NavToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    actionbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    settings: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n\n\n    },\n}));\n\n\nconst ModuleActionbar = ({ className, settings, toolbar, children, ...props }) => {\n    const classes = useStyles()\n\n    if (children) {\n        return (\n            <div className={className || classes.actionbar}>\n                {children}\n            </div>\n        )    \n    }\n\n    return (\n        <div className={className || classes.actionbar}>\n            <NavSettings className={classes.settings} settings={settings} />\n            <NavToolbar {...props} className={classes.toolbar} toolbar={toolbar} />\n        </div>\n    )    \n\n}\n\nModuleActionbar.propTypes = {\n    settings: PropTypes.array,\n    toolbar: PropTypes.array\n}\n\nexport default ModuleActionbar;\n","import React from 'react';\nimport NavSettings from \"../NavSettings/NavSettings\"\n\nconst ModuleSettings = (props) => {\n    return <NavSettings {...props} />\n}\n\nexport default ModuleSettings;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from \"@material-ui/core/Icon\"\nimport { getImageUrl } from \"./utils\"\n\nimport {\n    ModuleSelect,\n    ModuleBase,\n    ModuleTitle,\n    ModuleIcon,\n    ModuleImage,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleToolbar,\n    ModuleStatus,\n    ModuleByline\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: props => { return props.minHeight},\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&[name=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&:hover\": {\n            \"& button\": {\n                opacity: 1,\n            }\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& h2\": {\n                color: theme.palette.text.secondary,\n                textDecoration: \"line-through\"\n            },\n\n            \"& img\": {\n                opacity: .25\n            },\n\n            \"& button[name=restore]\": {\n                opacity: 1,\n            },\n\n        },\n\n        \"&[data-erased=true]\": {\n\n            \"& *\": {\n                color: theme.palette.action.disabled,\n            },\n\n            \"& img\": {\n                opacity: .25\n            },\n\n            \"& button\": {\n                opacity: 0\n            },\n\n            \"& h2\": {\n                textDecoration: \"line-through\"\n            }\n\n        },\n\n\n    },\n\n    media: {\n        width: props => { return props.mediaSize},\n        height: props => { return props.mediaSize},\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n//            marginLeft: theme.spacing(-1)\n        },\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst ListModule = ({\n    size = \"medium\",\n    mediaSize = 36,\n    minHeight = 48,\n    placeholder = false,\n    children,\n    ...props\n}) => {\n\n    const { \n        uniqueId,\n\n        documentType, \n        documentLabel, \n        mediaType,\n        mediaLabel,\n    \n        createdAt,\n        updatedAt,\n    \n        icon,\n        icons = [],\n    \n        untitled,\n        title,\n        author,\n        description,\n        label,\n        identifier,\n        metadata,\n    \n        startAdornment,\n    \n        selectable,\n        selected,\n        onSelect,\n\n        onEdit,\n        onClick,\n    \n        status,\n        statusLabel\n    \n    } = props\n\n    if (size === \"small\") {\n        mediaSize = 36\n        minHeight = 48\n    }\n\n    if (size === \"medium\") {\n        mediaSize = 40\n        minHeight = 56\n    }\n\n    if (size === \"large\") {\n        mediaSize = 56\n        minHeight = 72\n    }\n\n    const classes = useStyles({mediaSize, minHeight})\n\n    const imageUrl = getImageUrl(props)\n\n    if (placeholder) {\n        return (\n            <div className={classes.item} onClick={onClick}>\n                { children || title }\n            </div>\n        )\n    }\n\n    const ModuleMedia = () => {\n\n        return (\n            <div className={classes.media}>\n                { !imageUrl && <ModuleIcon icons={icons} icon={icon} documentType={documentType} mediaType={mediaType} /> }\n                { imageUrl && <ModuleImage imageUrl={imageUrl} /> }\n            </div>\n        )\n\n    }\n\n    const ModuleContent = () => {\n\n        return (\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle untitled={untitled} title={title} />\n                    <ModuleStatus status={status}>{statusLabel || status}</ModuleStatus>\n                    <ModuleByline author={author} datetime={updatedAt || createdAt} />\n                </header>\n            </div>\n        )\n\n    }\n\n    return (\n        <ModuleBase {...props} className={classes.module}>\n            { startAdornment || selectable &&\n                <ModuleSelect \n                    selected={selected}\n                    onClick={onSelect}\n                />\n            }\n\n            <ModuleMedia />\n            <ModuleContent />\n            <ModuleToolbar {...props} className={classes.toolbar} selectable={false} />\n\n        </ModuleBase>\n    )    \n\n}\n\nListModule.propTypes = {\n    size: PropTypes.oneOf([\"small\",\"medium\",\"large\"]),\n\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n\n    deletable: PropTypes.bool,\n    deleted: PropTypes.bool,\n    onDelete: PropTypes.func,\n\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n\n    erasable: PropTypes.bool,\n    erased: PropTypes.bool,\n    onErase: PropTypes.func,\n\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n\n    documentType: PropTypes.string,\n    documentLabel: PropTypes.string,\n\n    mediaType: PropTypes.string,\n    mediaLabel: PropTypes.string,\n\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    author: PropTypes.string,\n    updatedAt: PropTypes.string,\n    createdAt: PropTypes.string,\n\n    metadata: PropTypes.array,\n\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;","import qs from 'query-string';\n\nexport const getImageUrl = ({imageUrl, uploadProgress = 0}) => {\n\n    if (!imageUrl) {\n        return false\n    }\n\n    const { url, query } = qs.parseUrl(imageUrl)\n    return qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n}","import React, { useRef, useEffect, useState } from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    head: {\n\n        \"& th\": {\n\n        },\n\n        \"& [data-name=header], & [data-name=footer]\": {\n            width: \"50%\"\n        },\n\n        \"& td\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        textTransform: \"capitalize\",\n\n        marginBottom: theme.spacing(1),\n    },\n    link: {\n        \"&:hover\": {\n            cursor: \"pointer\"\n        }\n    }\n}));\n\nconst TableHead = ({cols = [], header, footer, children, sortable, sort, onSort}) => {\n    const classes = useStyles()\n\n    const _onSort = (name) => {\n        onSort && onSort(name)\n    }\n\n    const Label = ({name}) => {\n\n        let arrow\n\n        if (sort && sort === name) {\n            arrow = \"↓\"\n        } else if (sort && sort.startsWith(name)) {\n            arrow = \"↑\"\n        }\n\n        return (\n            <Typography noWrap className={classes.label}>{arrow} {name}</Typography>\n        )\n\n    }\n\n    return (\n        <thead className={classes.head}>\n            <tr>\n                { cols.map((name, index) => {\n\n                    const selected = sort && sort.startsWith(name)\n\n                    if (index === 0) {\n                        return <th data-name={name} aria-selected={selected} onClick={() => _onSort(name)}><Label name={name} key={index}/></th>\n                    }\n\n                    return <td data-name={name} aria-selected={selected} onClick={() => _onSort(name)}><Label name={name} key={index} /></td>\n\n                })}\n            </tr>\n        </thead>\n    )\n\n}\n\nTableHead.defaultProps = {\n    cols: [\n        \"header\",\n        \"footer\"\n    ]\n}\n\nexport default TableHead;","import React, { useRef, useEffect, useState } from \"react\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport TableHead from \"./TableHead\"\n\nconst useStyles = makeStyles(theme => ({\n    table: {\n        width: \"100%\",\n        overflowY: \"scroll\",\n\n        tableLayout: \"fixed\",\n        borderCollapse: \"collapse\",\n        borderSpacing: 0,\n\n        \"& th\": {\n//            width: \"50%\",\n//            width: 320,\n//            position: \"sticky\"\n        },\n\n        \"& [data-name=header], & [data-name=footer]\": {\n            width: \"50%\"\n        },\n\n        \"& td\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n        },\n\n        \"& > thead + tbody\": {\n\n            \"& > *\": {\n                borderTop: \"1px solid\",\n                borderColor: theme.palette.divider,\n            }\n\n        },\n \n        \"& > tbody\": {\n\n            \"& > tr + tr > *\": {\n                borderTop: \"1px solid\",\n                borderColor: theme.palette.divider,\n            },\n\n            \"& > tr > *\": {\n\n                \"&[aria-selected=true]\": {\n                    backgroundColor: theme.palette.action.selected,\n                }\n    \n            }\n\n        }\n\n    }\n}));\n\nconst TableView = ({head = true, cols, header, footer, children, sortable, sort, onSort}) => {\n    const classes = useStyles()\n\n    return (\n        <table className={classes.table}>\n            { head && cols && <TableHead cols={cols} sortable={sortable} sort={sort} onSort={onSort} /> }\n            <tbody className={classes.body}>\n                {header}\n                {children}\n                {footer}\n            </tbody>\n        </table>\n    )\n\n}\n\nTableView.defaultProps = {\n    cols: [\n        \"header\",\n        \"footer\"\n    ]\n}\n\nexport default TableView;","import React, { useEffect, useState } from \"react\"\n\nimport { \n    ModuleBase,\n    ModuleSelect, \n    ModuleIcon,\n    ModuleImage,\n    ModuleTitle,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleStatus,\n    ModuleLabel,\n    ModuleByline,\n    ModuleDate,\n    ModuleToolbar\n } from \"../Module\"\n\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&[name=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&:hover\": {\n            \"& button\": {\n                opacity: 1,\n            }\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& h2\": {\n                color: theme.palette.text.secondary,\n                textDecoration: \"line-through\"\n            },\n\n            \"& img\": {\n                opacity: .25\n            },\n\n            \"& button[name=restore]\": {\n                opacity: 1,\n            },\n\n        },\n\n        \"&[data-erased=true]\": {\n\n            \"& *\": {\n                color: theme.palette.action.disabled,\n            },\n\n            \"& img\": {\n                opacity: .25\n            },\n\n            \"& button\": {\n                opacity: 0\n            },\n\n            \"& h2\": {\n                textDecoration: \"line-through\"\n            }\n\n        },\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        \"& > th, & td\": {\n            height: props => { return props.minHeight},\n        }\n        \n    },\n    placeholder: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        width: \"100%\",\n        minHeight: 48,\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        lineHeight: 1.5\n    },\n    toolbar: {\n        position: \"absolute\",\n        right: 0,\n        margin: theme.spacing(1)\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        width: \"100%\",\n    },\n    footer: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        width: \"100%\",\n    },\n    media: {\n        flexShrink: 0,\n        flexBasis:  props => { return props.mediaSize },\n        width: props => { return props.mediaSize },\n        height: props => { return props.mediaSize },\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: 0\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        textAlign: \"left\",\n        fontSize: 16,\n        padding: theme.spacing(1)\n    },\n    value: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        color: theme.palette.text.secondary,\n    },\n    tags: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        color: theme.palette.text.secondary,\n\n        \"& * + *\": {\n            \"&:before\": {\n                content: '\", \"'\n            }\n        }\n    },\n    count: {\n    }\n}));\n\nconst TableModule = ({\n    cols = [], \n    sort, \n\n    size = \"medium\",\n    mediaSize = 36,\n    minHeight = 48,\n    placeholder = false,\n\n    icons = [],\n    icon,\n\n    ...props\n}) => {\n\n\n    if (size === \"small\") {\n        mediaSize = 36\n        minHeight = 46\n    }\n\n    if (size === \"medium\") {\n        mediaSize = 40\n        minHeight = 54\n    }\n\n    if (size === \"large\") {\n        mediaSize = 56\n        minHeight = 70\n    }\n\n    const classes = useStyles({mediaSize, minHeight})\n\n    const {\n\n        description,\n        metadata,\n\n        status,\n        statusLabel,\n\n        updatedAt,\n        createdAt,\n\n        documentType,\n        documentLabel,\n        mediaType,\n        mediaLabel,\n    \n        title, \n        author,\n    \n        onClick,\n        selectable, \n        selected,\n        onSelect,\n    } = props\n\n    const imageUrl = getImageUrl(props)\n\n    if (placeholder) {\n        return (\n            <tr className={classes.module} role={onClick && \"button\"} onClick={onClick}>\n                <td colspan={cols.length}><div className={classes.placeholder}>{title}</div></td>\n            </tr>\n        )\n    }\n\n    const ModuleValue = ({children}) => {\n        return (\n            <Typography className={classes.value} noWrap>{children}</Typography>\n        )\n    }\n\n    const ModuleTags = ({items = []}) => {\n\n        const count = items.length\n\n        return (\n            <Typography className={classes.tags} noWrap>\n                { items && items.map((value, index) => <span key={index}>{value}</span> )}\n            </Typography>\n        )\n        \n   }\n\n   const ModuleMedia = () => {\n\n        return (\n            <figure className={classes.media}>\n                { !imageUrl && <ModuleIcon documentType={documentType} icons={icons} icon={icon} /> }\n                { imageUrl && <ModuleImage imageUrl={imageUrl} /> }\n            </figure>\n        )\n\n    }\n\n    const ModuleHeader = ({title, status}) => {\n        return (\n            <header className={classes.header}>\n                { selectable && <ModuleSelect selected={selected} onClick={onSelect} /> }\n                <ModuleMedia />\n                <ModuleTitle className={classes.title}>{title}</ModuleTitle>\n                {status && <ModuleStatus status={status}>{statusLabel || status}</ModuleStatus> }\n                <ModuleToolbar className={classes.toolbar} {...props} selectable={false} />\n            </header>\n        )\n    }\n\n    const ModuleBody = () => {\n        return (\n            <div className={classes.body}>\n                <ModuleDescription>{description || metadata.join(\" – \")}</ModuleDescription>\n            </div>\n        )\n    }\n\n    const ModuleFooter = () => {\n        return (\n            <footer className={classes.footer}>\n                <ModuleByline  datetime={updatedAt || createdAt} author={author || \"N/A\" } />\n            </footer>\n        )\n    }\n\n    const Column = ({name}) => {\n\n        const value = props[name]\n\n        if (name === \"title\") {\n            return <ModuleHeader title={title} />\n        }\n\n        if (name === \"header\") {\n            return <ModuleHeader title={title} status={status} />\n        }\n\n        if (name === \"body\") {\n            return <ModuleBody>{value}</ModuleBody>\n        }\n\n        if (name === \"footer\") {\n            return <ModuleFooter>{value}</ModuleFooter>\n        }\n\n        if (name === \"label\") {\n            return <ModuleLabel>{documentLabel || documentType || mediaLabel || mediaType}</ModuleLabel>\n        }\n\n        if (name === \"status\") {\n            return <ModuleStatus status={status}>{statusLabel || status}</ModuleStatus>\n        }\n\n        if (name === \"updatedAt\") {\n            return <ModuleDate datetime={value} />\n        }\n\n        if (name === \"createdAt\") {\n            return <ModuleDate datetime={value} format=\"D. MMM YYYY\" />\n        }\n\n        if (name === \"identifier\") {\n            return <ModuleIdentifier>{value}</ModuleIdentifier>\n        }\n\n        if (Array.isArray(value) && value.length > 1) {\n            return <ModuleTags items={value} />\n        } else if (Array.isArray(value)) {\n            return <ModuleValue>{value[0]}</ModuleValue>\n        }\n\n        return <ModuleValue>{value}</ModuleValue>\n\n    }\n\n    return (\n        <ModuleBase {...props} component=\"tr\" className={classes.module}>\n            { cols.map((name, index) => {\n\n                const selected = sort && sort.startsWith(name)\n\n                if (index === 0) {\n                    return <th aria-selected={selected}><Column name={name} key={index} /></th>\n                }\n\n                return <td aria-selected={selected}><Column name={name} key={index} /></td>\n\n            })}\n        </ModuleBase>\n    )\n\n\n}\n\nTableModule.defaultProps = {\n    cols: [\n        \"header\",\n        \"footer\",\n    ]\n}\n\n\nexport default TableModule;","import qs from 'query-string';\n\nexport const getImageUrl = ({imageUrl, uploadProgress = 0}) => {\n\n    if (!imageUrl) {\n        return false\n    }\n\n    const { url, query } = qs.parseUrl(imageUrl)\n    return qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n}","const calculateCutOff = ({rowWidth, delta, row = []}) => {\n    let cutoff = [];\n    let cutsum = 0;\n\n    for(var i in row) {\n        var item = row[i];\n        var fractOfLen = item.width / rowWidth;\n\n        cutoff[i] = Math.floor(fractOfLen * delta);\n        cutsum += cutoff[i];\n    }\n\n    var stillToCutOff = delta - cutsum;\n    while(stillToCutOff > 0) {\n        for(i in cutoff) {\n            cutoff[i]++;\n            stillToCutOff--;\n            if (stillToCutOff < 0) break;\n        }\n    }\n\n    return cutoff;\n\n}\n\nconst getGalleryRow = ({maxWidth, gap, items = []}) => {\n    const rowPlusGap = maxWidth + gap;\n\n    var row = [];\n    var rowWidth = 0;\n\n    while (items.length > 0 && rowWidth < rowPlusGap) {\n        let item = items.shift();\n        row.push(item);\n        rowWidth += (item.width + gap);\n    }\n\n    let delta = rowWidth - rowPlusGap;\n\n    if (row.length > 0 && delta > 0) {\n        var cutoff = calculateCutOff({rowWidth, gap, delta, row});\n        for(var i in row) {\n            var pixelsToRemove = cutoff[i];\n            let item = row[i];\n            item.maxWidth = item.width - pixelsToRemove;\n        }\n    } else {\n        for(var j in row) {\n            let item = row[j];\n            item.maxWidth = item.width;\n        }\n    }\n\n    return row;\n    \n}\n\n    \nexport const getGallery = ({maxWidth, maxRows, items = [], gap = 0}) => {\n    if (!maxWidth) return [];\n\n    let rows = []\n\n    while (items.length > 0) {\n        rows.push(getGalleryRow({maxWidth, gap, items}));\n    }\n\n    let cols = []\n\n    for (var r in rows) {\n        for (var i in rows[r]) {\n            var item = rows[r][i];\n            if (maxRows) {\n                if(r < maxRows) {\n                    cols.push(item);\n                }\n            }  else {\n                cols.push(item);\n            }\n        }\n    }\n\n    return cols\n\n}","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useResizeDetector } from 'react-resize-detector';\nimport { getGallery } from \"./utils/getGallery\"\n\nconst useStyles = makeStyles(theme => ({\n    gallery: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        margin: props => { return props.spacing && theme.spacing(props.spacing * -0.5) },\n\n        \"& > *\": {\n            margin: props => { return props.spacing && theme.spacing(props.spacing * 0.5) },\n        }\n\n    },\n}));\n\nconst Gallery = ({mediaSize = 200, spacing = 1, padding = 0, children, debug = false}) => {\n\n    const { width, height, ref } = useResizeDetector()\n\n\n    const maxMediaHeight = mediaSize\n    const maxWidth = width - (spacing * 8)\n    const gap = spacing * 8\n\n    const classes = useStyles({padding, spacing});\n\n    // set items width + height for use in gallery\n\n    let items = children && React.Children.toArray(children).map((child, index) => {\n\n        const mediaWidth = child.props.mediaWidth * 1 || 1\n        const mediaHeight = child.props.mediaHeight * 1 || 1\n\n        const width = Math.floor(maxMediaHeight * (mediaWidth / mediaHeight)) + gap\n        const height = maxMediaHeight\n\n        return {\n            mediaWidth: mediaWidth,\n            mediaHeight: mediaHeight,\n            width: width,\n            height: height\n        }\n    })\n\n\n    // get gallery items based on width + height\n\n    const gallery = items && getGallery({items, maxWidth, gap})\n    const galleryChildren = React.Children.toArray(children)\n\n    return (\n        <div ref={ref} className={classes.gallery} data-layout=\"gallery\">\n            {gallery && gallery.map((item, index) => {\n\n                const { width, height, maxWidth } = item;\n\n                const child = galleryChildren[index]\n\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, {\n                        maxWidth: maxWidth,\n                        mediaWidth: width,\n                        mediaHeight: height,\n                    })\n                }\n\n            })}\n        </div>        \n    )\n\n}\n\nGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default Gallery;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Gallery from \"./Gallery\"\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        display: \"block\",\n    },\n}));\n\nconst GalleryView = ({mediaSize = 200, spacing = 2, header, footer, children, debug = false}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view}>\n            <Gallery padding={2} spacing={spacing} mediaSize={mediaSize}>\n                {header}\n                {children}\n                {footer}\n            </Gallery>\n        </div>        \n    )\n\n}\n\nGalleryView.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default GalleryView;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleBase,\n    ModuleTitle,\n    ModuleIcon,\n    ModuleStatus,\n    ModuleDate,\n    ModuleIdentifier,\n    ModuleDescription,\n    ModuleSelect,\n    ModuleToolbar\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        maxWidth: props => { return props.maxWidth },\n        userSelect: \"none\",\n        marginBottom: 8,\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image\": {\n                opacity: .5\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& h2\": {\n                color: theme.palette.text.secondary,\n                textDecoration: \"line-through\"\n            },\n\n            \"& $image, &:hover $image\": {\n                opacity: .25\n            },\n\n            \"& button[name=restore]\": {\n                opacity: 1,\n            },\n\n        },        \n\n        \"&[data-erased=true]\": {\n\n            \"& *\": {\n                color: theme.palette.action.disabled,\n            },\n\n            \"& $image, &:hover $image\": {\n                opacity: \".25\"\n            },\n\n            \"& button\": {\n                opacity: 0\n            },\n\n            \"& h2\": {\n                textDecoration: \"line-through\"\n            }\n\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"& $image, &:hover $image\": {\n                transform: \"scale(0.8)\",\n                boxShadow: theme.shadows[2],\n                opacity: 1,\n            },\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            },\n\n        }\n\n    },\n    placeholder: {\n        display: \"block\",\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        \n    },\n    media: {\n        display: \"block\",\n        backgroundColor: theme.palette.action.selected,\n        position: \"relative\",\n        width: \"100%\",\n        height: props => { return props.mediaHeight},\n        margin: \"0\",\n    },\n    icon: {\n        position: \"absolute\",\n        left: 0,\n        bottom: 0,\n        margin: theme.spacing(2)\n    },\n    image: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        transformOrigin: \"50% 50%\",\n        transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1)\",\n        transform: \"scale(1)\",\n\n        backgroundPosition: \"50% 50%\",\n        backgroundImage: props => { return \"url(\"+props.imageUrl+\")\" },\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\",\n\n        \"& > img\": {\n            display: \"none\",\n        }\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n//            color: \"white\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }     \n        \n    },\n    content: {\n        position: \"relative\",\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(1),\n    },\n    footer: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    }\n\n}));\n\nconst GalleryModule = ({\n    placeholder,\n    children,\n    onClick,\n\n    width = \"100%\", \n    maxWidth = 180, \n    mediaWidth = 180,\n    mediaHeight = 180,\n    mediaStyle, \n    mediaLayout = \"cover\", \n\n    icon,\n    icons = [],\n    documentType,\n    mediaType,\n\n    title,\n    description,\n    label,\n    identifier,\n\n    status,\n    statusLabel,\n\n    updatedAt,\n    createdAt,\n\n    ...props\n    \n}) => {\n\n    const { selected } = props\n\n    const imageUrl = getImageUrl(props)\n    const defaultImageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n\n    const classes = useStyles({\n        width: width,\n        maxWidth: maxWidth,\n        mediaWidth: mediaWidth,\n        mediaHeight: mediaHeight,\n        imageUrl: imageUrl\n    })\n\n    if (placeholder) {\n        return (\n            <div className={classes.module}>\n                <div className={classes.placeholder} role={onClick && \"button\"} onClick={onClick}>\n                    { children || title }\n                </div>\n            </div>\n        )\n    }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n            </header>\n        )\n\n    }\n\n    const ModuleFooter = () => {\n        return (\n            <footer className={classes.footer}>\n                <ModuleStatus status={status}>{statusLabel}</ModuleStatus>\n                <ModuleDate datetime={updatedAt || createdAt} />\n            </footer>\n        )\n\n    }\n\n    const ModuleMedia = () => {\n        return (\n            <figure className={classes.media} role={onClick && \"button\"} aria-selected={selected} onClick={onClick}>\n                <div className={classes.image}><img src={imageUrl || defaultImageUrl} /></div>\n                {!imageUrl && <ModuleIcon className={classes.icon} icon={icon} icons={icons} documentType={documentType} mediaType={mediaType}  /> }\n                <ModuleToolbar className={classes.toolbar} {...props} />\n            </figure>\n        )\n    }\n\n    return (\n        <ModuleBase {...props} className={classes.module}>\n            <ModuleMedia />\n            <div className={classes.content}>\n                <ModuleHeader />\n                <ModuleFooter />\n            </div>\n        </ModuleBase>\n    )    \n\n}\n\n\nGalleryModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default GalleryModule;\n","import qs from 'query-string';\n\nexport const getImageUrl = ({imageUrl, uploadProgress = 0}) => {\n\n    if (!imageUrl) {\n        return false\n    }\n\n    const { url, query } = qs.parseUrl(imageUrl)\n    return qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n}","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useResizeDetector } from 'react-resize-detector';\nimport MasonryComponent from 'react-masonry-component';\n\nconst useStyles = makeStyles(theme => ({\n    wrapper: {\n        margin: props => { return props.spacing && theme.spacing(props.spacing * -0.5) },\n    },\n    masonry: {\n\n        \"& > *\": {\n            width: \"auto\",\n            maxWidth: props => { return props.maxWidth || \"auto\" },\n            margin: props => { return props.spacing && theme.spacing(props.spacing * 0.5) },\n        }\n\n    },\n}));\n\nconst Masonry = ({columnSize = 200, columns = 3, spacing = 1, padding = 0, children, header, footer, debug = false}) => {\n\n    const { width, height, ref } = useResizeDetector()\n\n    if (columnSize && width) {\n        columns = Math.floor(width / columnSize)\n    }\n\n    const colWidth = (width / columns) - (spacing * 8)\n    const maxWidth = colWidth && Math.floor(colWidth)\n\n    const classes = useStyles({padding, spacing, maxWidth});\n\n    // set items width + height for use in gallery\n\n    const imagesLoadedOptions = { background: '.my-bg-image-el' }\n\n    const masonryOptions = {\n        transitionDuration: 0\n    };\n\n    return (\n        <div className={classes.wrapper} ref={ref}>\n            <MasonryComponent\n                className={classes.masonry} // default ''\n    //            elementType={'ul'} // default 'div'\n                options={masonryOptions} // default {}\n                disableImagesLoaded={false} // default false\n                updateOnEachImageLoad={false} // default false and works only if disableImagesLoaded is false\n                imagesLoadedOptions={imagesLoadedOptions} // default {}\n            >\n                {children}\n            </MasonryComponent>\n        </div>\n    );\n\n\n}\n\nMasonry.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    children: PropTypes.node \n}\n\nexport default Masonry;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Masonry from \"./Masonry\"\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        display: \"block\",\n    },\n}));\n\nconst MasonryView = ({columnSize = 200, columns = 3, spacing = 2, header, footer, children, debug = false}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.view}>\n            {header}\n            <Masonry columnSize={columnSize} columns={columns} spacing={spacing}>\n                {children}\n            </Masonry>\n            {footer}\n        </div>        \n    )\n\n}\n\nMasonryView.propTypes = {\n    columnSize: PropTypes.number,\n    columns: PropTypes.number,\n    spacing: PropTypes.number,\n    header: PropTypes.node,\n    footer: PropTypes.node,\n    children: PropTypes.node \n}\n\nexport default MasonryView;","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n    ModuleBase,\n    ModuleTitle,\n    ModuleIcon,\n    ModuleLabel,\n    ModuleIdentifier,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleDate,\n    ModuleSelect,\n    ModuleToolbar\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageUrl } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        backgroundColor: \"transparent\",\n        position: \"relative\",\n        width: props => { return props.width },\n        maxWidth: props => { return props.maxWidth },\n        userSelect: \"none\",\n        marginBottom: 8,\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image\": {\n                opacity: .5\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& h2\": {\n                color: theme.palette.text.secondary,\n                textDecoration: \"line-through\"\n            },\n\n            \"& $image, &:hover $image\": {\n                opacity: .25\n            },\n\n            \"& button[name=restore]\": {\n                opacity: 1,\n            },\n\n        },        \n\n        \"&[data-erased=true]\": {\n\n            \"& *\": {\n                color: theme.palette.action.disabled,\n            },\n\n            \"& $image, &:hover $image\": {\n                opacity: \".25\"\n            },\n\n            \"& button\": {\n                opacity: 0\n            },\n\n            \"& h2\": {\n                textDecoration: \"line-through\"\n            }\n\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"& $image, &:hover $image\": {\n                transform: \"scale(0.8)\",\n                boxShadow: theme.shadows[2],\n                opacity: 1,\n            },\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            },\n\n        }\n\n    },\n    placeholder: {\n        display: \"block\",\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n        height: theme.spacing(7),\n        margin: \"0\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n        },\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        \n    },\n    media: {\n        display: \"block\",\n        backgroundColor: theme.palette.action.selected,\n\n        position: \"relative\",\n        width: \"100%\",\n        height: 0,\n\n        margin: \"0\",\n\n        paddingBottom: props => { return Math.floor(props.mediaRatio * 100) + \"%\"}\n\n    },\n    icon: {\n        position: \"absolute\",\n        left: 0,\n        bottom: 0,\n        margin: theme.spacing(2)\n    },\n    image: {\n        position: \"absolute\",\n\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        margin: \"auto\",\n\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n\n        width: \"auto\",\n        height: \"auto\",\n\n        transformOrigin: \"50% 50%\",\n        transition: \"transform .135s cubic-bezier(0.0,0.0,0.2,1)\",\n        transform: \"scale(1)\",\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n//            color: \"white\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }     \n        \n    },\n    content: {\n        position: \"relative\",\n        flexDirection: \"column\",\n        display: \"flex\",\n        alignItems: \"left\",\n        justifyContent: \"flex-start\",\n    },\n    header: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(1),\n    },\n    footer: {\n        width: \"100%\",\n        flexBasis: \"100%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        marginTop: theme.spacing(.5),\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    }\n\n}));\n\nconst MasonryModule = ({\n    placeholder,\n    children,\n    onClick,\n\n    width = \"100%\", \n    maxWidth, \n\n    mediaStyle, \n    mediaLayout = \"cover\", \n\n    mediaWidth,\n    mediaHeight,\n    mediaRatio = 1,\n\n    icon,\n    icons = [],\n    documentType,\n    mediaType,\n\n    title,\n    description,\n    label,\n    identifier,\n\n    status,\n    statusLabel,\n\n    updatedAt,\n    createdAt,\n\n    ...props\n    \n}) => {\n\n    const { selected } = props\n\n    if (mediaWidth && mediaHeight) {\n        mediaRatio = mediaHeight / mediaWidth\n    }\n\n    const classes = useStyles({\n        width: width,\n        maxWidth: maxWidth,\n        mediaRatio,\n    })\n\n    const imageUrl = getImageUrl(props)\n    const defaultImageUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==\"\n\n    if (placeholder) {\n        return (\n            <div className={classes.module}>\n                <div className={classes.placeholder} role={onClick && \"button\"} onClick={onClick}>\n                    { children || title }\n                </div>\n            </div>\n        )\n    }\n\n    const ModuleHeader = () => {\n        return (\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n            </header>\n        )\n\n    }\n\n    const ModuleFooter = () => {\n        return (\n            <footer className={classes.footer}>\n                <ModuleStatus status={status}>{statusLabel}</ModuleStatus>\n                <ModuleDate datetime={updatedAt || createdAt} />\n            </footer>\n        )\n\n    }\n\n\n    const ModuleMedia = () => {\n        return (\n            <figure className={classes.media} role={onClick && \"button\"} onClick={onClick}>\n                <img src={imageUrl || defaultImageUrl} className={classes.image} />\n                {!imageUrl && <ModuleIcon className={classes.icon} icon={icon} icons={icons} documentType={documentType} mediaType={mediaType}  /> }\n                <ModuleToolbar className={classes.toolbar} {...props} />\n            </figure>\n        )\n    }\n\n    return (\n        <ModuleBase {...props} className={classes.module}>\n            <ModuleMedia />\n            <div className={classes.content}>\n                <ModuleHeader />\n                <ModuleFooter />\n            </div>\n        </ModuleBase>\n    )    \n\n}\n\n\nMasonryModule.propTypes = {\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    onClick: PropTypes.func,\n}\n\nexport default MasonryModule;\n","import qs from 'query-string';\n\nexport const getImageUrl = ({imageUrl, uploadProgress = 0}) => {\n\n    if (!imageUrl) {\n        return false\n    }\n\n    const { url, query } = qs.parseUrl(imageUrl)\n    return qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst getTemplateColumns = ({spacing = 1, minWidth, iconSize}) => {\n\n    const width = iconSize + (spacing * 8)\n\n    if (width > minWidth) {\n        minWidth = width\n    }\n\n    return 'repeat(auto-fit, minmax('+minWidth+'px, max-content))'\n}\n\nconst useStyles = makeStyles(theme => ({\n    grid: {\n        display: 'grid',\n        gridTemplateColumns: props => { return getTemplateColumns(props) },\n        gridGap: 0,\n        padding: 'initial',\n        justifyContent: 'center',\n\n        \"& > *\": {\n            margin: theme.spacing(1),\n        }\n\n    },\n}));\n\n/** IconsView */\n\nconst IconsView = ({spacing = 8, minWidth = 128, iconSize = 96, header, footer, children}) => {\n\n    const classes = useStyles({iconSize, minWidth, spacing})\n\n    return (\n        <div className={classes.grid}>\n            { header }\n            { children }\n            { footer }\n        </div>\n    )    \n\n}\n\n\nIconsView.defaultProps = {\n}\n\nIconsView.propTypes = {\n    title: PropTypes.string,\n    description: PropTypes.string,\n    items: PropTypes.array,\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node\n    ])\n}\n\nexport default IconsView;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport {\n    ModuleBase,\n    ModuleTitle,\n    ModuleDate,\n    ModuleLabel,\n    ModuleImage,\n    ModuleIcon,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleStatus,\n    ModuleByline,\n    ModuleSelect,\n    ModuleToolbar,\n    ModuleSettings\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        width: props => { return props.width },\n        minWidth: props => { return props.minWidth },\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n\n        \"&[role=button]:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& button\": {\n            opacity: 0,\n\n            \"&:hover\": {\n                opacity: 1,\n            },\n    \n        },\n\n        \"&:hover\": {\n\n            \"& button\": {\n                opacity: .5,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            }\n\n        },\n\n        \"&[aria-selected=true]\": {\n\n            \"&:hover\": {\n\n                \"& $image, & $icon\": {\n                    opacity: 1\n                },\n    \n            },\n\n            \"& $figure\": {\n                boxShadow: \"none\",\n                outline: \"1px solid\",\n                outlineColor: theme.palette.action.selected\n            },\n\n            \"& button[name=select]\": {\n                opacity: 1,\n            }\n\n        },\n\n        \"&[data-deleted=true]\": {\n\n            \"& button[name=restore]\": {\n                opacity: .5,\n\n                \"&:hover\": {\n                    opacity: 1,\n                },\n\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& h2\": {\n                color: theme.palette.text.secondary,\n                textDecoration: \"line-through\"\n            }\n\n\n        },\n\n        \"&[data-erased=true]\": {\n\n            \"& *\": {\n                color: theme.palette.text.disabled,\n            },\n\n            \"& $image, & $icon\": {\n                opacity: .25\n            },\n\n            \"& h2\": {\n                color: theme.palette.text.disabled,\n                textDecoration: \"line-through\"\n            }\n\n        }\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            position: \"absolute\",\n\n            \"&[name=select]\": {\n                top: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=delete],&[name=restore]\": {\n                top: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=view]\": {\n                bottom: 0,\n                left: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=link]\": {\n                bottom: 0,\n                right: 0,\n                margin: theme.spacing(-2),\n            },\n\n            \"&[name=edit]\": {\n//                bottom: 0,\n//                margin: theme.spacing(-1),\n            },\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },      \n    placeholder: {\n        position: \"relative\",\n        width: props => { return props.paperWidth },\n        height: props => { return props.paperHeight },\n        padding: 8,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n        \"&[role=button]\": {\n            cursor: \"pointer\",\n\n            \"& > $icon\": {\n                opacity: .5\n            },\n\n            \"&:hover > $icon\": {\n                opacity: 1\n            }\n    \n        },\n\n        \"& > $icon\": {\n            fontSize: 24,\n        }\n\n    }, \n \n    paper: {\n        position: \"relative\",\n        width: props => { return props.paperWidth },\n        height: props => { return props.paperHeight },\n        padding: 8,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& button\": {\n            margin: theme.spacing(-1)\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.selected\n        }\n\n    },\n    icon: {\n        fontSize: props => { return props.iconSize },\n\n        \"& > svg\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    image: {\n        display: \"block\",\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& > img\": {\n            display: \"block\",\n            maxWidth: \"100%\",\n            maxHeight: \"100%\"\n        },\n\n        \"& > $icon\": {\n            position: \"absolute\",\n            bottom: 0,\n            left: 0,\n            fontSize: 24,\n            backgroundColor: theme.palette.background.paper,\n            padding: theme.spacing(.5),\n//            boxShadow: theme.shadows[2]\n        }\n        \n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n\n        \"& > *\": {\n            maxWidth: \"100%\",\n            overflow: \"hidden\",\n            marginTop: theme.spacing(.5)\n        }\n\n    },\n    footer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        marginTop: theme.spacing(1),\n\n        \"& > *\": {\n            maxWidth: \"100%\",\n            overflow: \"hidden\"\n        }\n    },\n\n}));\n\n/** IconModule for listing documents */\n\nconst IconModule = ({\n    width,\n    minWidth = 128,\n    maxWidth,\n\n    imageUrl,\n\n    icons = [],\n    icon,\n    iconSize = 96,\n    minIconSize = 24,\n    maxIconSize = 96,\n\n    minImageSize = 64,\n\n    paperWidth,\n    paperHeight,\n    minPaperWidth = 48,\n\n    documentType,\n    documentLabel,\n\n    mediaType,\n    mediaLabel,\n\n    ...props\n}) => {\n\n    if (!paperWidth) {\n        paperWidth = iconSize\n    }\n\n    // iconSize\n    \n    if (iconSize < minIconSize) {\n        iconSize = minIconSize\n    } else if (iconSize > maxIconSize) {\n        iconSize = maxIconSize\n    }\n\n    if (iconSize < minImageSize) {\n        imageUrl = null\n    }\n \n    paperHeight = paperWidth * 4/3\n\n    if (!width) {\n        width = paperWidth + 24\n    }\n\n    const {\n        button,\n        placeholder,\n\n        status,\n        statusLabel,\n    \n        updatedAt,\n        createdAt,\n\n        selectable,\n        selected,\n        onSelect,\n    \n        editable,\n        onEdit,\n    \n        viewable,\n        onView,\n    \n        linkable,\n        onLink,\n    \n        deletable,\n        deleted,\n        onDelete,\n    \n        restorable,\n        onRestore,\n    \n        erasable,\n        erased,\n        onErase,\n    \n        untitled,\n    \n        title,\n        description,\n        metadata,\n        author,\n        datetime,\n    \n        onClick,\n    } = props\n\n    const classes = useStyles({width, minWidth, paperWidth, paperHeight, iconSize})\n\n    if (placeholder) {\n        return (\n            <div className={classes.module}>\n                <ModuleBase className={classes.placeholder} role={onClick && \"button\"} onClick={onClick}>\n                    { icon && <Icon className={classes.icon}>{icon}</Icon> || title }\n                </ModuleBase>\n            </div>\n        )\n    }\n\n    const ModuleMedia = () => {\n\n        if (imageUrl) {\n\n            return (\n                <div className={classes.image}>\n                    <img src={imageUrl} />\n                    <ModuleIcon className={classes.icon} documentType={documentType} mediaType={mediaType} icon={icon} icons={icons} />\n                </div>\n            )\n\n        } else {\n            return (\n                <ModuleIcon className={classes.icon} documentType={documentType} mediaType={mediaType} icon={icon} icons={icons} />\n            )\n        }\n\n    }\n\n    return (\n        <ModuleBase className={classes.module} {...props}>\n\n            <Paper className={classes.paper} square={true}>\n                <ModuleMedia />\n                <ModuleToolbar className={classes.toolbar} {...props} />\n            </Paper>\n\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle untitled={untitled} title={title} onClick={!selected && onEdit} />\n                    <ModuleStatus status={status}>{statusLabel || status}</ModuleStatus>\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleDate datetime={updatedAt || createdAt} />\n                    <ModuleByline author={author} datetime={datetime} />\n                </footer>\n            </div>\n            <ModuleSettings {...props} className={classes.settings} />\n        </ModuleBase>\n    )    \n\n}\n\nIconModule.propTypes = {\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n    deletable: PropTypes.bool,\n    onDelete: PropTypes.func,\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    metadata: PropTypes.array,\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    author: PropTypes.string,\n    datetime: PropTypes.string,\n    /** Whole object is clickable, will override any other onClick events */\n    onClick: PropTypes.func,\n}\n\nIconModule.defaultProps = {\n//    size: \"small\",\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default IconModule;\n","import React, { useEffect, useState } from \"react\"\n\nimport { \n    ModuleSelect, \n    ModuleTitle,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleLabel\n } from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        minWidth: props => { return props.width },\n        maxWidth: \"100%\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"&[aria-selected=true]\": {\n\n            \"& $media\": {\n                backgroundColor: \"#ff0\",\n            },\n\n            \"& $image\": {\n                maxWidth: \"90%\",\n                maxHeight: \"90%\",\n                boxShadow: theme.shadows[2]\n            }\n    \n        },\n\n        position: \"relative\"\n\n    },\n    toolbar: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n    },\n    media: {\n        backgroundColor: \"grey\",\n        width: \"100%\",\n        height: props => { return props.height },\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\",\n        margin: 0,\n\n\n\n\n    },\n    header: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        maxWidth: \"100%\",\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n        fontSize: 16,\n    },\n    artist: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"normal\",\n        fontSize: 14,\n\n    },\n}));\n\nconst GridModule = ({width = 160, height = 160, selected, identifier, label, imageUrl, title, artist, onClick}) => {\n\n    const classes = useStyles({width, height})\n\n    return (\n        <div className={classes.item} aria-selected={selected} onClick={onClick}>\n\n            <div className={classes.media}>\n                <img src={imageUrl} className={classes.image} />\n            </div>\n            <header className={classes.header}>\n                <ModuleTitle>{title}</ModuleTitle>\n                <ModuleLabel>{label}</ModuleLabel>\n                <ModuleDescription>{artist}</ModuleDescription>\n                <ModuleIdentifier>{identifier}</ModuleIdentifier>\n            </header>\n            <div className={classes.toolbar}>\n                <ModuleSelect selected={selected} />\n            </div>\n        </div>\n    )\n\n\n}\n\nexport default GridModule;","import React, { useRef, useEffect, useState } from \"react\"\nimport GridModule from \"./GridModule\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    grid: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        flexWrap: \"wrap\",\n\n        \"& > *\": {\n            width: 160,\n            flexBasis: 160,\n            flexShrink: 0,\n            flexGrow: 0,\n            margin: theme.spacing(1)\n        }\n\n\n    },\n}));\n\nconst GridView = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.grid}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default GridView;","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeView: {\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        boxShadow: props => { return theme.shadows[props.elevation] }\n    },\n\n}));\n\nconst TreeView = ({border = 0, elevation = 1, droppable, children, ...props}) => {\n\n    const classes = useStyles({border, elevation})\n\n    if (droppable && droppable.provided) {\n        const { provided, snapshot } = droppable\n        const { droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeView}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeView}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeView","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    treeList: {\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        \"& $treeList\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n       \n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n    },\n\n}));\n\nconst TreeList = ({droppable, children}) => {\n\n    const classes = useStyles();\n\n    if (droppable && droppable.provided) {\n        const { provided, snapshot } = droppable\n        const { droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div {...droppableProps} \n                data-is-dragging-over={isDraggingOver}\n                className={classes.treeList}\n                ref={innerRef}>\n                    {children}\n                    {provided.placeholder}\n            </div>\n        )\n    \n    }\n\n    return (\n        <div className={classes.treeList}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default TreeList","import React, { useEffect, useState } from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/ArrowDropDown';\nimport DragIcon from '@material-ui/icons/DragHandle';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { ModuleTitle, ModuleImage, ModuleIcon, ModuleToolbar } from \"../Module\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        width: \"100%\",\n        overflow: \"hidden\",\n        userSelect: \"none\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            maxHeight: theme.spacing(6),\n\n            \"& $toolbar\": {\n                display: \"none\"\n            },\n\n            \"& $children\": {\n                display: \"none\"\n            },\n\n            \"& $toggle\": {\n                display: \"none\"\n            },\n\n            \"& $content\": {\n                marginLeft: 0\n            }\n\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n    },\n    children: {\n\n    },\n    toolbar: {\n\n\n\n    },\n    content: {\n        marginLeft: props => { return props.margin * 48 },\n        height: props => { return props.minHeight },\n\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n\n        \"& > $toolbar\": {\n            opacity: 0\n        },\n\n        \"&:hover\": {\n            \"& > $toolbar\": {\n                opacity: 1\n            }\n        }\n\n\n    },\n    media: {\n        width: props => { return props.mediaSize},\n        height: props => { return props.mediaSize},\n        margin: theme.spacing(.5),\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    body: {\n        flexGrow: 1,\n        margin: theme.spacing(1),\n    },\n    toggle: {\n        width: 48,\n        position: \"absolute\",\n        left: -48,\n\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(-90deg)\",\n\n        \"&[aria-expanded=true]\": {\n            transition: \".125s ease-in-out\",\n            transform: \"rotate(0deg)\"\n        },\n\n        color: theme.palette.primary.main,\n        cursor: \"pointer\"\n\n    },\n\n}));\n\nconst TreeModule = ({\n    level = 0, \n    size = \"medium\",\n    minHeight,\n    mediaSize,\n\n    draggable, \n\n    collapsible, \n    expanded = false,\n    onToggle,\n\n    onClick,\n    children,\n\n    ...props\n}) => {\n\n    if (size === \"small\") {\n        mediaSize = 36\n        minHeight = 48\n    }\n\n    if (size === \"medium\") {\n        mediaSize = 40\n        minHeight = 56\n    }\n\n    if (size === \"large\") {\n        mediaSize = 56\n        minHeight = 72\n    }\n\n    const classes = useStyles({level, margin: level + 1, minHeight, mediaSize});\n\n    const {\n        selectable,\n        selected,\n        onSelect,\n\n        icons = [],\n        icon, \n\n        documentType,\n        mediaType,\n        \n        title,\n        imageUrl,\n\n\n    } = props\n\n\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ModuleToggle = ({onClick}) => {\n\n        return (\n            <ToggleIcon className={classes.toggle} onClick={onClick} aria-expanded={expanded} />\n        )\n\n    }\n\n    const ModuleMedia = () => {\n\n        return (\n            <div className={classes.media}>\n                { !imageUrl && <ModuleIcon icons={icons} icon={icon} documentType={documentType} mediaType={mediaType} /> }\n                { imageUrl && <ModuleImage imageUrl={imageUrl} /> }\n            </div>\n        )\n\n    }\n\n    const ModuleContent = ({startAdornment}) => {\n\n        return (\n            <div className={classes.content}>\n                { collapsible && <ModuleToggle onClick={onToggle} /> || \"\" }\n                {startAdornment}\n                <ModuleMedia />\n                <div className={classes.body}>\n                    <ModuleTitle>{title}</ModuleTitle>\n                </div>\n                <ModuleToolbar {...props} className={classes.toolbar} />\n            </div>\n\n        )\n\n    }\n\n    if (children && !React.isValidElement(children)) {\n        children = undefined\n    }\n        \n    if (draggable && draggable.provided) {\n\n        const { provided, snapshot, } = draggable\n        const { isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module}\n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={onClick}>\n                    <ModuleContent startAdornment={<DragHandle dragHandleProps={provided.dragHandleProps} />} />\n                    { children }\n            </div>\n        )\n    \n\n    }\n\n\n    return (\n        <div className={classes.module} aria-expanded={expanded} onClick={onClick}>\n            <ModuleContent />\n            { children }\n        </div>\n    )\n\n}\n\nexport default TreeModule","import React, { forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    columnView: {\n        display: \"flex\",\n        width: \"100%\",\n        height: \"100%\",\n\n        position: \"relative\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n\n        boxShadow: props => { return theme.shadows[props.elevation]},\n        overflow: \"hidden\",\n\n        \"& > *\": {\n            flexBasis: 0,\n            flexGrow: 1,\n            overflow: \"hidden\",\n            height: \"100%\",\n            overflowY: \"scroll\",\n\n            \"&:last-child\": {\n                flexBasis: \"50%\"\n            }\n\n\n        },\n\n        \"& > * + *\": {\n            borderLeft: \"1px solid\",\n            borderColor: theme.palette.divider\n        }\n\n    },\n\n}));\n\nconst ColumnView = ({elevation = 1, children}) => {\n\n    const classes = useStyles({elevation})\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <div className={classes.columnView}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default ColumnView;","import React, { forwardRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    column: {\n        position: \"relative\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n\n        boxShadow: props => { return theme.shadows[props.elevation] },\n\n        \"&[data-is-dragging-over=true]\": {\n            backgroundColor: theme.palette.divider\n        },\n\n        \"&[aria-expanded=true]\": {\n\n            \"&:hover\": {\n                width: theme.spacing(32),\n                minWidth: theme.spacing(32),\n            }\n\n        }\n\n    },\n    list: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n\n        \"& > * + *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n    }\n\n}));\n\nconst ColumnList = ({droppable, elevation = 0, expanded, children, ...props}) => {\n\n    const classes = useStyles({elevation})\n\n    if (!children) {\n        return false\n    }\n\n    if (droppable) {\n        const { provided, snapshot } = droppable\n        const { droppableProps, innerRef } = provided\n        const { isDraggingOver } = snapshot\n\n        return (\n            <div data-is-dragging-over={isDraggingOver} className={classes.column} {...droppableProps} ref={innerRef}>\n                <div className={classes.list}>\n                    {children}\n                    {provided.placeholder}\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.column} aria-expanded={expanded}>\n            <div className={classes.list}>\n                {children}\n            </div>\n        </div>\n    )\n\n}\n\nexport default ColumnList;","import React, { forwardRef} from 'react';\nimport Icon from \"@material-ui/core/Icon\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport ToggleIcon from \"@material-ui/icons/ChevronRight\"\nimport DragIcon from '@material-ui/icons/DragHandle';\n\nimport { ModuleTitle, ModuleImage, ModuleIcon, ModuleToolbar } from \"../Module\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        width: \"100%\",\n        overflow: \"hidden\",\n        userSelect: \"none\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n\n\n\n        },\n\n        \"&[aria-expanded=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected,\n        },\n\n        \"&[data-is-dragging=true]\": {\n            minWidth: theme.spacing(16),\n            maxWidth: theme.spacing(32),\n            backgroundColor: \"white\",\n            boxShadow: theme.shadows[2],\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n\n        \"&[data-is-target=true]\": {\n            backgroundColor: theme.palette.divider,\n\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n\n        },\n    },\n    content: {\n        height: props => { return props.minHeight},\n        margin: theme.spacing(0, 1),\n\n        paddingRight: 24,\n\n        position: \"relative\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n\n        \"& > $toolbar\": {\n            opacity: 0\n        },\n\n        \"&:hover\": {\n            \"& > $toolbar\": {\n                opacity: 1\n            }\n        }\n\n\n    },\n    media: {\n        flexShrink: 0,\n        width: props => { return props.mediaSize},\n        height: props => { return props.mediaSize},\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: 0\n    },\n    body: {\n        flexShrink: 1,\n        flexGrow: 1,\n        margin: theme.spacing(1),\n    },\n    toggle: {\n        width: 24,\n        position: \"absolute\",\n        right: 0,\n        color: theme.palette.primary.main,\n        cursor: \"pointer\"\n\n    },\n    footer: {\n        display: \"flex\",\n        overflow: \"hidden\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    toolbar: {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    }\n    \n}));\n\nconst ColumnModule = ({\n    size = \"medium\",\n    minHeight,\n    mediaSize,\n\n    onClick,\n    selectable,\n    selected = false,\n\n    onToggle,\n    collapsible, \n    expanded = false,\n\n    draggable, \n    level, \n    title,\n    imageUrl,\n    icon, \n    icons,\n\n    documentType,\n    mediaType,\n\n    ...props\n}) => {\n\n    if (size === \"small\") {\n        mediaSize = 36\n        minHeight = 48\n    }\n\n    if (size === \"medium\") {\n        mediaSize = 40\n        minHeight = 56\n    }\n\n    if (size === \"large\") {\n        mediaSize = 56\n        minHeight = 72\n    }\n\n    const classes = useStyles({mediaSize, minHeight})\n\n    const DragHandle = ({dragHandleProps}) => {\n\n        return (\n            <IconButton {...dragHandleProps} >\n                <DragIcon />\n            </IconButton>\n        )\n    \n    }\n\n    const ModuleToggle = ({onClick}) => {\n\n        return (\n            <ToggleIcon className={classes.toggle} onClick={onClick} />\n        )\n    }\n\n    const ModuleMedia = () => {\n\n        return (\n            <figure className={classes.media}>\n                { !imageUrl && <ModuleIcon icons={icons} icon={icon} documentType={documentType} mediaType={mediaType} /> }\n                { imageUrl && <ModuleImage imageUrl={imageUrl} /> }\n            </figure>\n        )\n\n    }\n\n    const ModuleContent = ({startAdornment}) => {\n\n        return (\n            <div className={classes.content}>\n                {startAdornment}\n                <ModuleMedia />\n                <div className={classes.body}>\n                    <ModuleTitle>{title}</ModuleTitle>\n                </div>\n                <ModuleToolbar {...props} className={classes.toolbar} />\n                { collapsible && <ModuleToggle onClick={onToggle} /> || \"\" }\n            </div>\n\n        )\n\n    }\n\n    if (draggable) {\n        const { provided, snapshot } = draggable\n        const { isDragging, combineTargetFor } = snapshot\n\n        const isTarget = combineTargetFor && true\n\n        return (\n            <div className={classes.module} \n                {...provided.draggableProps}\n                aria-selected={selected}\n                aria-expanded={expanded}\n                data-is-dragging={isDragging}\n                data-is-target={isTarget} ref={provided.innerRef} onClick={onClick}>\n                    <ModuleContent startAdornment={<DragHandle dragHandleProps={provided.dragHandleProps} />} />\n            </div>\n        )   \n\n    }\n\n    return (\n        <div className={classes.module} aria-expanded={expanded} onClick={onClick}>\n            <ModuleContent />\n       </div>\n    )\n\n}\n\nexport default ColumnModule;","import { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils\n\nexport function getPreviewLocalizedString(localizedString, props) {\n    const { formContext } = props;\n    const currentLocale = formContext && formContext.currentLocale || formContext && formContext.languages && formContext.languages[0]\n\n    if (!currentLocale) {\n        return\n    }\n\n    const localeId = \"locale:\"+currentLocale;\n\n    return localizedString && localizedString[localeId]\n\n}\n\nexport function getPreviewFilters(value, props) {\n    const { schema, formData, index } = props;\n\n    if (schema && schema.type === \"array\" && formData && formData.length) {\n        value = value && value.replace(\"{count}\", formData.length)\n    } else if (index) {\n        value = value && value.replace(\"{count}\", index+1)\n        value = value && value.replace(\"{index}\", index)\n    }\n \n    return value;\n\n}\n\nexport function getPreviewData(preview, props) {\n    const { schema, formData } = props;\n    const { select, prepare, single, plural, empty } = preview\n\n    let selection;\n  \n    if (prepare && typeof prepare === \"function\") {\n        selection = prepare(props)\n    } else if (prepare) {\n        selection = prepare\n    } else {\n        selection = formData\n    }\n\n\n    let data = {}\n  \n    if (select) {\n        Object.keys(select).map(name => {\n\n            let key = select[name] || name\n\n            let value = null;\n\n            if (select.hasOwnProperty(key) && selection && selection[key]) {\n                value = selection[key];\n            }\n\n            if (typeof value === \"object\" && value !== null && schema && schema.type === \"array\") {\n                if (formData && formData.length && formData.length > 1 && value.plural) {\n                    value = value.plural\n                } else if (formData && formData.length && formData.length === 1 && value.single) {\n                    value = value.single\n                } else if (value.empty) {\n                    value = value.empty\n                }\n            }\n\n            /*\n\n            if (typeof value === \"object\" && value !== null) {\n                value = getPreviewLocalizedString(value, props)\n            }\n\n            */\n\n            if (value && typeof value === \"string\") {\n                value = getPreviewFilters(value, props)\n            }\n\n            if (name === \"metadata\" && selection[key]) {\n                data[name] = selection[key]\n            }\n\n            if (value) {\n                data[name] = value\n            }\n\n        })\n    }\n\n    return data;\n  \n}\n\nexport const getUiPreview = ({ schema, uiSchema = {}, formData, formContext, index }) => {\n    const uiOptions = getUiOptions(uiSchema)\n\n    const previewData = {\n        schema: schema,\n        formData: formData,\n        formContext: formContext,\n        index: index\n    }\n\n    if (uiOptions.preview) {\n        return getPreviewData(uiOptions.preview, previewData);\n    }\n\n\n}\n\nexport default getUiPreview\n\n","export default {\n    \"type\": \"string\",\n    \"format\": \"size\",\n    \"enum\": [\n      \"small\",\n      \"medium\",\n      \"large\",\n      \"xl\"\n    ],\n    \"enumNames\": [\n      \"Small\",\n      \"Medium\",\n      \"Large\",\n      \"XL\"\n    ],\n    \"default\" : \"small\"\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"1:1\",\n        \"2:1\",\n        \"4:3\"\n    ],\n    \"default\" : \"1:1\"\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\n//import PreviewTemplate from \"@frontend-components/admin/lib/components/AppKp/preview/Article\"\n\nexport default {\n    id: 1,\n    schemaType: \"documents\",\n    name: 'article',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import section from './section/schema'\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"article\"\n        },\n        \"collectionId\": {\n            \"type\": \"number\",\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"location\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"lat\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        },\n                        \"lng\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        },\n                        \"zoom\": {\n                            \"type\": \"number\",\n                            \"readonly\": true\n                        }\n                    }\n                },\n                \"keywords\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [],\n                    },\n                    \"uniqueItems\": true\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\",\n                    \"properties\": {\n                        \"content\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"headline\": {\n                                    \"type\": \"localizedString\"\n                                },\n                                \"caption\": {\n                                    \"type\": \"localizedString\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"author\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\n                            \"type\": \"string\"\n                        },\n                        \"description\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"sections\" : {\n                    \"type\": \"array\",\n                    \"items\": section\n                },\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"topic\",\n                        \"referenceType\": \"articleIsPartOf\",\n                        \"_reverseReferenceType\": \"topicHasArticles\",\n                        \"_reverseReference\": \"hasArticles[]\"\n                    }\n                }\n            }\n        }\n    }\n}","import sectionType from './sectionType';\nimport sectionText from './sectionText';\nimport sectionMedia from './sectionMedia';\nimport sectionDm from './sectionDm';\nimport sectionLinks from './sectionLinks';\nimport sectionAttachments from './sectionAttachments';\nimport sectionQuote from './sectionQuote';\n  \nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": sectionType,\n        \"title\": {\n            \"type\" : \"localizedString\"\n        },\n        \"titleHidden\": {\n            \"type\" : \"boolean\"\n        }\n    },\n    \"dependencies\": {\n        \"sectionType\" : {\n            \"oneOf\": [\n                sectionText,\n                sectionMedia,\n                sectionDm,\n                sectionLinks,\n                sectionAttachments,\n                sectionQuote,\n            ]\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"text\",\n        \"media\",\n        \"dm\",\n        \"links\",\n        \"attachments\",\n        \"quote\"\n    ],\n    \"enumNames\": [\n        \"Tekst\",\n        \"Media\",\n        \"DM\",\n        \"Lenker\",\n        \"Vedlegg\",\n        \"Sitat\"\n    ],\n    \"default\" : \"text\"\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"text\"]\n        },\n        \"leadtext\": {\n            \"type\": \"localizedString\"\n        },\n        \"bodytext\": {\n            \"type\": \"localizedString\"\n        }\n    }\n}","import media from \"./media\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"media\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"list\",\n                \"grid\",\n                \"slideshow\",\n            ],\n            \"enumNames\": [\n                \"Liste\",\n                \"Grid\",\n                \"Slideshow\",\n            ],\n            \"default\" : \"grid\"\n          },\n        \"media\": media\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","import ekultur from \"./ekultur\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"dm\"]\n        },\n        \"sectionLayout\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"grid\",\n              \"grid-wide\",\n              \"slideshow\",\n              \"slideshow-wide\"\n            ],\n            \"enumNames\": [\n              \"Grid\",\n              \"Grid Wide\",\n              \"Slideshow\",\n              \"Slideshow Wide\"\n            ],\n            \"default\" : \"grid\"\n          },\n        \"references\": ekultur\n    }\n}","export default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"reference\",\n        \"referenceType\": \"ekultur\"\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"links\"]\n        },\n        \"links\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"title\": {\n                        \"type\": \"string\"\n                    },\n                    \"url\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}","import attachments from \"./attachments\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"attachments\"]\n        },\n        \"attachments\": attachments\n    }\n}","import mediaSize from \"./mediaSize\"\nimport mediaFormat from \"./mediaFormat\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"media\",\n        \"properties\": {\n            \"mediaSize\": mediaSize,\n            \"mediaFormat\": mediaFormat,\n            \"mediaLayout\": {\n                \"type\": \"string\",\n                \"default\": \"frame\"\n            },\n            \"content\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"headline\": {\n                        \"type\": \"localizedString\"\n                    },\n                    \"caption\": {\n                        \"type\": \"localizedString\"\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"sectionType\": {\n            \"enum\": [\"quote\"]\n        },\n        \"quote\": {\n            \"type\": \"localizedString\"\n        },\n        \"cite\": {\n            \"type\": \"string\"\n        }\n    }\n}","import uiPreview from \"./uiPreview\"\nimport header from \"./header/uiSchema\";\nimport body from \"./body/uiSchema\";\nimport isPartOf from \"./isPartOf/uiSchema\";\nimport settings from \"./settings/uiSchema\";\n\nexport default {\n    \"ui:preview\": uiPreview,\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": settings,\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\",\n            \"isPartOf\"\n        ],\n        \"header\": header,\n        \"body\": body,\n        \"isPartOf\": isPartOf\n    }\n}","import icons from \"../../../KpIcons\"\n\nexport default {\n  \"select\": {\n        \"icon\": \"icon\",\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\"\n  },\n  prepare({formData, formContext}) {\n    let { documentType, title, content, description } = formData\n\n    const defaultLocale = formContext && formContext.defaultLocale\n    const currentLocale = formContext && formContext.currentLocale\n    const locale = defaultLocale || currentLocale || formData.locale\n    const localeId =  \"locale:\" + locale\n\n    let metadata = []\n\n    const titleImage = content && content.titleImage\n    const imageUrl = titleImage && titleImage.media && titleImage.media.imageUrl\n    \n    if (content) {\n\n        title = content.title && content.title[localeId]\n        description = content.description && content.description[localeId]\n\n        const { location, sections, isPartOf } = content\n\n        if (location && location.lat && location.lng) {\n            \n            if (location.address) {\n                metadata.push(location.address)\n            } else {\n                metadata.push(\"Sted\")\n            }\n            \n        }\n\n        if (sections && sections.length) {\n            metadata.push(sections.length + ' seksjoner')\n        }\n\n        if (isPartOf && isPartOf.length) {\n            metadata.push(isPartOf.length + ' tema')\n        }\n        \n                \n    }\n\n    return {\n        icon: icons[\"article\"],\n        imageUrl: imageUrl,\n        untitled: \"Ny artikkel\",\n        title: title || \"Uten tittel\",\n        description: description,\n        metadata: metadata,\n        typeLabel: documentType\n    }\n    \n  }\n  \n}","export default {\n    \"ui:field\": \"pageSettings\",\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"metadata\",\n        \"geocoder\",\n    ],\n    \"metadata\": {\n        \"ui:layout\": \"section\",\n        \"ui:icon\": \"label\",\n        \"ui:title\": \"Metadata\",\n        \"ui:fieldset\": [\n            \"documentType\",\n            \"collectionId\",\n            \"locale\",\n            \"content\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"documentType\": {\n        },\n        \"collectionId\": {\n//            \"ui:field\": \"documentCollectionId\",\n            \"ui:query\": {\n                \"collectionType\": \"kp\"\n            }\n        },\n        \"locale\": {\n//            \"ui:field\": \"documentLocale\"\n        },\n        \"content\": {\n            \"ui:fieldset\": [\n                \"keywords\",\n                \"license\",\n                \"location\"\n            ],\n            \"keywords\": {\n                \"ui:widget\": \"tags\",\n                \"ui:title\": \"Nøkkelord\",\n                \"ui:help\": \"Beskrivende stikkord.\",\n            },\n            \"license\": {\n//                \"ui:widget\": \"selectLicense\",\n                \"ui:title\": \"Lisens\",\n                \"ui:help\": \"Velg en lisens for dette innholdet.\",\n            },\n            \"location\": {\n                \"ui:options\": {\n                    \"grid\": true,\n                    \"spacing\": 2,\n                },\n                \"ui:fieldset\": [\n                    \"map\",\n                    \"info\"\n                ],\n                \"map\": {\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                    \"ui:options\": {\n                        \"minWidth\": 200,\n                        \"minHeight\": 200\n                    },\n                    \"ui:field\": \"kpGeopoint\",\n                    \"ui:layout\": \"kpGeopoint\",\n                    \"ui:overlay\": {\n                        \"template\": \"kpGeocoder\"\n                    }\n                },\n                \"info\": {\n                    \"ui:options\": {\n                        \"spacing\": 2,\n                    },\n                    \"ui:fieldset\": [\n                        \"lat\",\n                        \"lng\",\n                        \"zoom\"\n                    ],\n                }\n            }\n        }\n    },\n    \"geocoder\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Lokasjon\",\n        \"ui:icon\": \"near_me\",\n        \"ui:options\": {\n            \"position\": \"absolute\",\n            \"padding\": 2,\n            \"grid\": false\n        },\n        \"ui:fieldset\": [\n            \"content\"\n        ],\n        \"content\": {\n            \"ui:fieldset\": [\n                \"location\"\n            ],\n            \"location\": {\n                \"ui:field\": \"kpGeopoint\",\n                \"ui:layout\": \"kpGeocoder\",\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"titleImage\",\n        \"content\",\n    ],\n    \"ui:layout\": \"section\",\n    \"ui:options\" : {\n        \"collapsible\": true,\n        \"expanded\": true,\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"ui:title\": \"Header\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\"\n        },\n        prepare({formData, formContext}) {\n            const localeId = \"locale:\" + formContext.currentLocale\n            const description = formData.title && formData.title[localeId]  \n    \n            return {\n                description: description\n            }\n    \n        }\n    },\n    \"titleImage\": {\n        \"ui:xs\": 4,\n        \"ui:field\": \"media\",\n//        \"ui:minHeight\": 240,\n        \"ui:options\": {\n            \"editable\": true,\n            \"hotspot\": true\n        },\n        \"ui:buttons\": [\n            {\n                \"title\": \"Finn hovedbilde\",\n                \"icon\": \"search\",\n                \"type\": \"sidebar\"\n            },\n        ],\n        \"ui:fieldset\": [\n            \"media\",\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    },\n    \"content\": {\n        \"ui:xs\": 8,\n        \"ui:fieldset\": [\n            \"title\",\n            \"leadtext\",\n            \"author\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n        },\n        \"title\": {\n            \"ui:title\": \"Tittel\"\n        },\n        \"leadtext\": {\n            \"ui:title\": \"Ingress\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"author\": {\n            \"fieldset\": [\n                \"name\",\n                \"description\"\n            ],\n            \"name\": {\n                \"ui:title\": \"Forfatter\"\n            },\n            \"description\": {\n                \"ui:title\": \"Forfatter, beskrivelse\",\n            },\n        }        \n    }\n\n}","import section from \"../section/uiSchema\";\n\nexport default {\n    \"ui:fieldset\": [\n        \"sections\"\n    ],\n    \"sections\": {\n        \"ui:layout\": \"section\",\n        \"ui:title\": \"Innhold\",\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\" \n            },\n            prepare({formData = []}) {\n    \n                let description;\n    \n                if (formData.length && formData.length === 1) {\n                    description = formData.length + \" seksjon\"\n                } else if (formData.length) {\n                    description = formData.length + \" seksjoner\"\n                } else {\n                    description = \"Ingen seksjoner\"\n                }\n    \n                return {\n                    \"description\": description\n                }\n            }\n        },\n        \"ui:options\" : {\n            \"collapsible\": true,\n            \"expanded\": true,\n            \"draggable\": true,\n            \"spacing\": 0,\n        },\n        \"ui:buttons\" : [\n            {\n                \"icon\": \"subject\",\n                \"title\" : \"Tekst\",\n                \"item\" : {\n                    \"sectionType\" : \"text\"\n                }\n            },\n            {\n                \"icon\": \"insert_photo\",\n                \"title\" : \"Media\",\n                \"item\" : {\n                    \"sectionType\" : \"media\"\n                }\n            },\n            {\n                \"icon\": \"fingerprint\",\n                \"title\" : \"DM\",\n                \"item\" : {\n                    \"sectionType\" : \"dm\"\n                }\n            },\n            {\n                \"icon\": \"insert_link\",\n                \"title\" : \"Lenker\",\n                \"item\" : {\n                    \"sectionType\" : \"links\"\n                }\n            },\n            {\n                \"icon\": \"attach_file\",\n                \"title\" : \"Vedlegg\",\n                \"item\" : {\n                    \"sectionType\" : \"attachments\"\n                }\n            },\n            {\n                \"icon\": \"format_quote\",\n                \"title\" : \"Sitat\",\n                \"item\" : {\n                    \"sectionType\" : \"quote\"\n                }\n            }\n        ],\n        \"items\": section\n    }\n}","import media from \"./mediaUi\"\nimport attachments from \"./attachmentsUi\"\nimport links from \"./linksUi\"\nimport ekultur from \"./ekulturUi\"\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:layout\": \"section\",\n    \"ui:preview\": uiPreview,\n    \"ui:options\": {\n        \"editable\": true,\n        \"hideable\": true,\n        \"removable\": true,\n        \"spacing\": 2\n    },\n    \"ui:settings\": [\n        \"sectionType\",\n        \"sectionLayout\"\n    ],\n    \"sectionType\": {\n        \"ui:enumIcons\": {\n            \"text\": \"subject\",\n            \"media\": \"insert_photo\",\n            \"links\": \"insert_link\",\n            \"attachments\": \"attach_file\",\n            \"quote\": \"format_quote\",\n            \"dm\": \"fingerprint\"\n        }\n    },\n    \"ui:fieldset\": [\n        \"head\",\n        \"body\"\n    ],\n    \"head\": {\n        \"ui:fieldset\": [\n            \"title\",\n            \"titleHidden\",\n            \"description\"\n        ],\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"title\": {\n            \"ui:xs\": 9,\n            \"ui:label\": false,\n            \"ui:placeholder\": \"Tittel\"\n        },\n        \"titleHidden\": {\n            \"ui:gridCols\": 3,\n            \"ui:title\": \"Skjul tittel\",\n            \"ui:widget\": \"switch\"\n        },\n        \"description\" : {\n            \"ui:gridCols\": 12,\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\" : \"textarea\",\n        }\n    },\n    \"body\": {\n        \"ui:fieldset\": [\n            \"media\",\n            \"attachments\",\n            \"references\",\n            \"bodytext\",\n            \"links\",\n            \"quote\",\n            \"cite\"\n        ],\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"media\": media,\n        \"attachments\": attachments,\n        \"references\": ekultur,\n        \"bodytext\" : {\n            \"ui:title\": \"Brødtekst\",\n            \"ui:widget\" : \"texteditor\"\n        },\n        \"quote\" : {\n            \"ui:title\": \"Sitat\",\n            \"ui:widget\" : \"textarea\"\n        },\n        \"cite\" : {\n            \"ui:title\": \"Byline\",\n        },\n        \"links\" : links\n    }\n}","export default {\n    \"select\": {\n        \"title\": \"title\",\n        \"untitled\": \"untitled\",\n        \"description\": \"description\"\n    },\n    prepare({formData, formContext}) {\n        const localeId = \"locale:no\"\n        const title = formData.title && formData.title[localeId]\n\n        const sectionType = formData.sectionType\n        const untitled = \"Untitled \" + sectionType\n\n        const { bodytext, media, references, links, attachments, cite, quote } = formData\n\n        let description;\n\n        if (sectionType === \"text\") {\n            description = bodytext && bodytext[localeId]\n        }\n\n        if (sectionType === \"media\") {\n            description = media && media.length + \" media\"\n        }\n\n        if (sectionType === \"dm\") {\n            description = references && references.length + \" referanser\"\n        }\n\n        if (sectionType === \"links\") {\n            description = links && links.length + \" lenker\"\n        }\n\n        if (sectionType === \"attachments\") {\n            description = attachments && attachments.length + \" vedlegg\"\n        }\n\n        if (sectionType === \"quote\") {\n            description = []\n\n            cite && description.push(cite)\n            quote && quote[localeId] && description.push(quote[localeId])\n\n            description = description.join(\": \")\n        }\n\n        return {\n            title: title,\n            untitled: untitled,\n            description: description\n        }\n\n    }\n}","export default {\n    \"ui:title\": \"Media\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video/*\",\"audio/*\",\"youtube\",\"vimeo\",\"sketchfab\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn media\"\n        }\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:settings\": [\n            \"mediaSize\",\n            \"mediaFormat\"\n        ],\n        \"ui:fieldset\": [\n            \"content\",\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Vedlegg\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"misc\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn vedlegg\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"media\"\n        ],\n        \"content\": {\n            \"ui:title\": \"Innhold\",\n            \"ui:options\": {\n                \"grid\": true,\n                \"padding\": 2,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"headline\",\n                \"caption\",\n            ],\n            \"headline\": {\n                \"ui:title\": \"Bildetekst, overskrift\"\n            },\n            \"caption\": {\n                \"ui:title\": \"Bildetekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Referanser\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"documents\",\n            \"documentType\": \"ekultur\"\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn referanse\"\n        },\n    ],\n    \"items\": {\n        \"ui:layout\": \"module\",\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"title\": \"title\"\n            },\n            prepare({formData}) {\n                const { imageUrl, title } = formData.reference;\n\n                return {\n                    imageUrl: imageUrl,\n                    title: title\n                }\n\n            }\n        }\n    }\n}","export default {\n    \"ui:title\": \"Lenker\",\n    \"ui:options\": {\n        \"draggable\": true\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"add\",\n            \"title\": \"Legg til\"\n        }\n    ],\n    \"items\": {\n        \"ui:preview\": {\n            \"select\": {\n                \"description\": \"description\"\n            },\n            prepare({formData}) {\n                return {\n                    description: formData.url\n                }\n            }\n        },\n        \"ui:layout\": \"module\",\n        \"ui:options\": {\n            \"editable\": true,\n            \"hideable\": true\n        },\n        \"ui:fieldset\": [\n            \"content\",\n        ],\n        \"content\": {\n            \"ui:options\": {\n                \"grid\": true,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"title\",\n                \"url\"\n            ],\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"url\": {\n                \"ui:title\": \"URL\",\n            }\n        }\n    }\n}","export default {\n    \"ui:layout\": \"section\",\n    \"ui:title\": \"Er en del av\",\n    \"ui:preview\": {\n        \"select\": {\n            \"description\": \"description\" \n        },\n        prepare({formData = []}) {\n\n            let description;\n\n            if (formData.length) {\n                description = formData.length + \" tema\"\n            } else {\n                description = \"Ingen tema\"\n            }\n\n            return {\n                \"description\": description\n            }\n        }\n    },\n    \"ui:options\" : {\n        \"draggable\": true,\n        \"collapsible\": true,\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"title\": \"Finn tema\"\n        },\n        {\n            \"title\": \"Legg til\"\n        }\n    ]\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\n//import PreviewTemplate from \"@frontend-components/admin/lib/components/AppKp/preview/Article\"\n\nexport default {\n    id: 1,\n    schemaType: \"documents\",\n    name: 'object',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"object\"\n        },\n        \"collectionId\": {\n            \"type\": \"number\",\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"title\": {\n                    \"type\": \"localizedString\"\n                }\n            }\n        }\n    }\n}","import uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:preview\": uiPreview,\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"content\": {\n    }\n}","import icons from \"../../../KpIcons\"\n\nexport default {\n  \"select\": {\n        \"icon\": \"icon\",\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n  },\n  prepare({formData, formContext}) {\n    let { imageUrl, documentType, title, content, description } = formData\n\n    const defaultLocale = formContext && formContext.defaultLocale\n    const currentLocale = formContext && formContext.currentLocale\n    const locale = defaultLocale || currentLocale || formData.locale\n    const localeId =  \"locale:\" + locale\n\n    if (content) {\n\n\n        \n                \n    }\n\n    return {\n        icon: icons[\"object\"],\n        imageUrl: imageUrl,\n        untitled: \"Object\",\n        title: title || \"Uten tittel\",\n        description: description,\n    }\n    \n  }\n  \n}","import uiPreview from \"./uiPreview\";\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:preview\": uiPreview,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"content\": {\n        \"ui:field\": \"kpDevice\",\n//        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"hasPages\",\n        ],\n        \"header\": {\n            \"ui:layout\": \"section\",\n            \"ui:options\" : {\n                \"expanded\": true,\n                \"collapsible\": true,\n                \"spacing\": 2\n            },\n            \"ui:title\": \"Enhet\",\n            \"ui:preview\": {\n                \"select\": {\n                    \"description\": \"description\"\n                },\n                prepare({formData, formContext}) {\n                    const localeId = \"locale:\" + formContext.currentLocale\n                    const description = formData.deviceTitle \n        \n                    return {\n                        description: description\n                    }\n        \n                }\n            },\n            \"ui:fieldset\": [\n                \"deviceTitle\",\n                \"deviceId\",\n                \"deviceType\",\n                \"serialNumber\",\n                \"startPageId\"\n            ],\n            \"deviceTitle\": {\n                \"ui:title\": \"Intern tittel\"\n            },\n            \"deviceId\": {\n                \"ui:title\": \"Id\",\n            },\n            \"deviceType\": {\n                \"ui:title\": \"Type enhet\",\n            },\n            \"serialNumber\": {\n                \"ui:title\": \"Serienummer\"\n            },\n            \"leadtext\": {\n                \"ui:title\": \"Ingress\",\n                \"ui:widget\": \"textarea\"\n            },\n            \"bodytext\": {\n                \"ui:title\": \"Brødtekst\",\n                \"ui:widget\": \"textarea\"\n            }\n        },\n        \"media\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Bakgrunnsbilde\",\n            \"ui:options\": {\n                \"collapsible\": true\n            },\n            \"ui:fieldset\": [\n                \"backgroundImage\",\n            ],\n            \"backgroundImage\": {\n                \"ui:buttons\": [\n                    {\n                        \"icon\": \"search\",\n                        \"title\": \"Finn bakgrunnsbilde\",\n                        \"type\": \"sidebar\"\n                    }\n                ]\n            }\n        },\n        \"hasPages\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Innhold\",\n            \"ui:options\" : {\n                \"collapsible\": true,\n                \"draggable\": true\n            },\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData}) {\n                    const count = formData && formData.length;\n                    if (count) {\n                        return {\n                            \"title\": count + \" sider\"\n                        }\n                    }\n                    return {\n                       \"title\": \"Ingen sider\"\n                    }\n                }\n            },\n            \"ui:dialog\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": \"page*\"\n                }\n            },\n            \"ui:buttons\": [\n                {\n                    \"type\": \"sidebar\",\n                    \"icon\": \"search\",\n                    \"title\": \"Finn side\"\n                },\n            ],\n            \"items\": {\n                \"ui:options\": {\n                    \"editable\": false\n                },\n                \"ui:field\": \"kpDeviceLink\"\n            }\n        }\n    }\n}","import icons from \"../../../KpIcons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"typeLabel\": \"typeLabel\",\n        \"icon\": \"icon\",\n    },\n    prepare({formData, formContext}) {\n        let { documentType, imageUrl, title, content, description } = formData\n  \n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale || currentLocale || formData.locale\n        const localeId = \"locale:\" + locale;\n  \n        let metadata = []\n\n        const backgroundImage = content && content.backgroundImage;\n        const hasPages = content && content.hasPages;\n        const deviceTitle = content && content.deviceTitle\n        const deviceId = content && content.deviceId\n        const deviceType = content && content.deviceType\n\n        const typeLabel = deviceType && documentType + \"/\" + deviceType || documentType\n\n        if (backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl) {\n            imageUrl = backgroundImage.media.imageUrl\n        }\n      \n        if (hasPages && hasPages.length) {\n            metadata.push(hasPages.length + ' sider')\n        }\n\n        if (deviceId) {\n            metadata.push('#'+deviceId)\n        }\n\n        if (deviceType) {\n            metadata.push(deviceType)\n        }\n\n        let icon\n\n        const deviceIcons = {\n            ...icons,\n            \"windows\": icons[\"deviceWin\"],\n            \"ipad\": icons[\"deviceMac\"],\n        }\n\n        if (deviceType && deviceIcons[deviceType]) {\n            icon = deviceIcons[deviceType]\n        } else {\n            icon = deviceIcons[\"device\"]\n        }\n\n\n\n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            title: deviceTitle || title,\n            description: description,\n            metadata: metadata,\n            typeLabel: typeLabel\n        }\n      \n    }\n    \n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\";\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'device',\n    schema: schema,\n    formData: formData,\n    uiSchema: uiSchema,\n    preview: {\n        template: PreviewTemplate\n    }\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"device\"\n        },\n        \"id\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"deviceId\": {\n                    \"type\": \"number\"\n                },\n                \"deviceTitle\": {\n                    \"type\": \"string\"\n                },\n                \"deviceType\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"windows\",\"ipad\"],\n                    \"enumNames\": [\"Windows\",\"iPad\"]\n                },\n                \"serialNumber\": {\n                    \"type\": \"string\",\n                },\n                \"placement\": {\n                    \"type\": \"string\",\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"focalpoint\": true\n                },\n                \"startPageId\": {\n                    \"type\": \"string\",\n                    \"readonly\": true\n                },\n                \"hasPages\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"page\",\n                        \"referenceType\": \"deviceHasPages\",\n                        \"_reverseReferenceType\": \"pageIsPartOf\",\n                        \"_reverseReference\": \"isPartOf[]\",\n                        \"properties\": {\n                            \"content\": {\n                                \"type\": \"object\",\n                                \"properties\": {\n                                    \"icon\": {\n                                        \"type\": \"string\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}","import React from 'react';\n\nconst KpDevicePreview = ({formData, formContext}) => {\n\n    return <p>{JSON.stringify(formData)}</p>\n\n}\n\nexport default KpDevicePreview\n\n","import React from 'react';\n\nconst KpDeviceField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props;\n\n    const setStartPageId = (startPageId) => {\n        props.onChange({\n            ...formData,\n            startPageId: startPageId\n        })\n    }\n\n    const startPageId = formData && formData.startPageId\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            startPageId: startPageId,\n            setStartPageId: setStartPageId\n        }\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": formContext.dialog,\n        \"ui:preview\": formContext.preview,\n        \"ui:sidebar\": {\n            ...formContext.dialog,\n            ...formContext.sidebar\n        },\n        \"ui:layout\": \"pageContent\",\n\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} registry={newRegistry} />\n    )\n\n\n}\n\nexport default KpDeviceField","import React from 'react';\nimport { ModuleLabel } from \"../Module\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\n\nconst KpDeviceLinkField = (props) => {\n\n    const {\n        formData,\n        formContext,\n    } = props\n\n\n    const { startPageId, setStartPageId } = formContext\n    const { referenceId, reference } = formData\n\n    const isStartPage = startPageId && referenceId === startPageId\n\n    const toggleStartPage = (id) => {\n        setStartPageId && setStartPageId(id)\n    }\n\n\n    const StartPageSettings = () => {\n\n        if (isStartPage) {\n            return (\n                <ButtonBase onClick={() => toggleStartPage(undefined)}>\n                    <ModuleLabel backgroundColor=\"black\">Startpage</ModuleLabel>\n                </ButtonBase>\n            )\n        }\n\n        return (\n            <ButtonBase onClick={() => toggleStartPage(referenceId)}>\n                <ModuleLabel>Startpage</ModuleLabel>\n            </ButtonBase>\n        )\n    }\n\n    const settings = [\n        StartPageSettings\n    ]\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:documentType\": reference && reference.documentType,\n        \"ui:imageUrl\": reference && reference.imageUrl,\n        \"ui:title\": reference && reference.title,\n        \"ui:layout\": \"kpLink\"\n    }\n\n    const { ObjectField } = props.registry.fields\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nexport default KpDeviceLinkField;\n","\nimport React, { Component } from 'react';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst GeopointField = (props) => {\n    const { registry, schema, uiSchema, formData, formContext } = props\n    const { ObjectField } = registry.fields;\n\n    const _onChange = (formData) => {\n \n        const newFormData = getDefaultFormState(schema, formData)\n        \n        console.log('GeopointField:onChange', newFormData)\n\n        if (props.onChange) {\n            props.onChange(newFormData);\n        }\n        \n    }   \n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:location\": formData || {},\n        \"ui:onChange\": _onChange\n    }\n\n    return (\n        <ObjectField {...props} onChange={_onChange} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default GeopointField;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointLoader = () => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.root}>\n                Loading ...\n        </div>\n    )        \n\n}\n\nexport default GeopointLoader;","import React, { memo } from 'react';\nimport { LoadScript } from '@react-google-maps/api';\nimport GeopointLoader from \"./GeopointLoader\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointBase = ({className, googleMapsApiKey, children, onClick}) => {\n    const classes = useStyles()\n\n\n    return (\n        <div className={className || classes.root} onClick={onClick}>\n            <LoadScript\n                libraries={[\"places\"]}\n                loadingElement={GeopointLoader}\n                googleMapsApiKey={googleMapsApiKey}\n                preventGoogleFontsLoading={true}>\n                    {children}\n            </LoadScript>\n        </div>\n    )        \n\n}\n\nGeopointBase.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n}\n\nexport default memo(GeopointBase);","import React, { useState } from 'react';\nimport { GoogleMap } from '@react-google-maps/api';\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    map: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\"\n    }\n}));\n\nconst GeopointMap = ({id = \"map\", className, center, zoom, onChange, onClick, options, children}) => {\n    const [map, setMap] = useState(null) \n\n    const handleChange = () => {\n        map && onChange && onChange(map)\n    }\n\n    const classes = useStyles()\n\n    if (onClick) {\n        return (\n            <GoogleMap\n                id={id}\n                options={{\n                    draggable: false,\n                    zoomControl: false,\n                    scaleControl: false,\n                    mapTypeControl: false,\n                    fullscreenControl: false,\n                    streetViewControl: false,\n                }}\n                clickableIcons={false}\n                mapContainerClassName={className || classes.map}\n                center={center}\n                zoom={zoom}\n                onClick={onClick}\n                onLoad={(map) => setMap(map)}>\n                {children}\n            </GoogleMap>\n        )\n    }\n    \n    return (\n        <GoogleMap\n            id={id}\n            options={options}\n            clickableIcons={false}\n            mapContainerClassName={className || classes.map}\n            center={center}\n            zoom={zoom}\n            onLoad={(map) => setMap(map)}\n            onZoomChanged={handleChange}\n            onDragEnd={handleChange}\n        >\n            {children}\n        </GoogleMap>\n    )        \n\n}\n\nGeopointMap.defaultProps = {\n    options: {\n        scaleControl: false,\n        draggable: false,\n        mapTypeControl: false,\n        fullscreenControl: false,\n        streetViewControl: false\n    },\n    center: {\n        lat: undefined,\n        lng: undefined,\n    },\n    zoom: 12\n}\n\nexport default GeopointMap;","import React, { useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%,-50%)\",\n        pointerEvents: \"none\",\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n    },\n    point: {\n        position: \"absolute\",\n        backgroundColor: \"white\",\n        borderRadius: \"50%\",\n        width: \"100%\",\n        height: \"100%\",\n        opacity: 0.25\n    },\n    crosshair: {\n        position: \"absolute\",\n        display: \"block\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    crosshairX: {\n        display: \"block\",\n        position: \"absolute\",\n        left: \"-15%\",\n        top: \"50%\",\n        backgroundColor: \"black\",\n        width: \"130%\",\n        height: \"1px\"\n    },\n    crosshairY: {\n        display: \"block\",\n        position: \"absolute\",\n        left: \"50%\",\n        top: \"-15%\",\n        backgroundColor: \"black\",\n        width: \"1px\",\n        height: \"130%\"\n    }\n}));\n\nconst GeopointMapCenter = ({size = 8}) => {\n\n    const classes = useStyles({size})\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.point}>\n            </div>\n            <div className={classes.crosshair}>\n                <div className={classes.crosshairX}></div>\n                <div className={classes.crosshairY}></div>\n            </div>\n        </div>\n    )\n\n}\n\nexport default GeopointMapCenter;","import React, { useState, useEffect } from 'react';\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\n\nconst GeopointPreview = ({id = \"map\", location, onClick}) => {\n    const { lat, lng, zoom } = location\n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <GeopointMap id={id + \"-preview\"} center={center} zoom={zoom} onClick={onClick}>\n            <GeopointMapCenter />\n        </GeopointMap>\n    )        \n}\n\nGeopointPreview.defaultProps = {\n}\n\nexport default GeopointPreview;","import React, { useState } from 'react';\nimport { Autocomplete } from '@react-google-maps/api';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n\n    },\n    input: {\n        backgroundColor: \"white\",\n\n        \"& .MuiFilledInput-root\": {\n//            backgroundColor: \"rgba(255,255,255,.9)\",\n\n            \"&.Mui-focused\": {\n                backgroundColor: \"white\"\n            }\n\n        }\n\n        \n    }\n}));\n\nconst GeopointAutocomplete = ({className, onChange}) => {\n    const [autocomplete, setAutocomplete] = useState(null) \n\n    const handleChange = () => {\n        if (autocomplete !== null) {\n            onChange && onChange(autocomplete.getPlace())\n        } else {\n            console.log('Autocomplete is not loaded yet!')\n        }        \n    }\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.root}>\n            <Autocomplete\n                options={{\n                    types: \"geocode\"\n                }}\n                onLoad={(autocomplete) => setAutocomplete(autocomplete)}\n                onPlaceChanged={handleChange}\n            >\n                <TextField className={classes.input} label=\"Find location\" placeholder=\"Enter a place\" variant=\"filled\" fullWidth />\n            </Autocomplete>\n      </div>\n    )        \n\n}\n\nexport default GeopointAutocomplete;","import React, { memo, useEffect } from 'react';\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\nimport GeopointSearch from \"./GeopointSearch\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: \"fixed\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        zIndex: 2000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    geocoder: {\n        backgroundColor: \"#e5e3df\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: theme.spacing(4)\n    },\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        margin: theme.spacing(2)\n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: \"auto\",\n        margin: theme.spacing(2.5)\n\n    }\n}));\n\nconst GeocoderOverlay = ({id = \"map\", location, onChange, onClose}) => {\n    const { lat, lng, zoom } = location;\n\n    const _onChange = (location) => {\n        onChange && onChange(location)\n    }\n\n    const _onMapChange = (map) => {\n        console.log('map', map)\n\n        let lat, lng\n\n        if (map && map.center) {\n            lat = map.center.lat()\n            lng = map.center.lng()\n        }\n            \n        const zoom = map && map.zoom;\n\n        if (lat && lng) {\n            _onChange({\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const _onSearch = (place) => {\n        console.log('place', place)\n\n        let lat, lng\n\n        if (place && place.geometry && place.geometry.location) {\n            lat = place.geometry.location.lat()\n            lng = place.geometry.location.lng()\n        }\n\n        if (lat && lng) {\n            _onChange({\n                placeId: place && place.place_id,\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const classes = useStyles() \n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <div className={classes.overlay}>\n            <div className={classes.geocoder}>\n                <GeopointMap id={id + \"-editor\"} center={center} zoom={zoom} onChange={_onMapChange}>\n                    <GeopointMapCenter />\n                    <GeopointSearch className={classes.search} onChange={_onSearch} />\n                </GeopointMap>\n\n                <IconButton className={classes.closeButton} onClick={() => onClose()}>\n                    <CloseIcon></CloseIcon>\n                </IconButton>\n            </div>\n        </div>\n    )        \n}\n\nGeocoderOverlay.defaultProps = {\n    formData: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default GeocoderOverlay;","import React, { useState, useEffect } from 'react';\nimport GeopointBase from \"./GeopointBase\"\nimport GeopointPreview from \"./GeopointPreview\"\nimport GeocoderEditor from \"./GeopointEditor\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"#e5e3df\",\n        width: \"100%\",\n        position: props => { return props.position },\n        flexBasis: props => { return props.minWidth },\n        minWidth: props => { return props.minWidth },\n        minHeight: props => { return props.minHeight },\n    },\n}));\n\nconst Geopoint = (props) => {\n    const { id, position = \"relative\", minWidth = 164, minHeight = 164, googleMapsApiKey, location } = props;\n    const { lat, lng, zoom } = location\n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    const classes = useStyles({position, minWidth, minHeight})\n\n    const [overlay, setOverlay] = useState(false)\n\n    const _onEdit = () => {\n        setOverlay(true)\n    }\n\n    const _onClose = () => {\n        setOverlay(false)\n    }\n\n    return (\n        <GeopointBase\n            className={classes.root}\n            googleMapsApiKey={googleMapsApiKey}>\n                <GeopointPreview {...props} onClick={_onEdit} />\n                {overlay && <GeocoderEditor {...props} onClose={() => _onClose()} /> }\n        </GeopointBase>\n    )        \n}\n\nGeopoint.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    location: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default Geopoint;","import React, { memo } from 'react';\nimport GeopointBase from \"./GeopointBase\"\nimport GeopointMap from \"./GeopointMap\"\nimport GeopointMapCenter from \"./GeopointMapCenter\"\nimport GeopointSearch from \"./GeopointSearch\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    geocoder: {\n        backgroundColor: \"#e5e3df\",\n        width: \"100%\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    search: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        margin: theme.spacing(2)\n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: \"auto\",\n        margin: theme.spacing(2)\n\n    }\n}));\n\nconst Geocoder = ({googleMapsApiKey, location, onChange, onClose}) => {\n    const { lat, lng, zoom } = location;\n\n    const handleChange = (location) => {\n        onChange && onChange(location)\n    }\n\n    const handleMapChange = (map) => {\n        console.log('map', map)\n\n        let lat, lng\n\n        if (map && map.center) {\n            lat = map.center.lat()\n            lng = map.center.lng()\n        }\n            \n        const zoom = map && map.zoom;\n\n        if (lat && lng) {\n            handleChange({\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const handleSearch = (place) => {\n        console.log('place', place)\n\n        let lat, lng\n\n        if (place && place.geometry && place.geometry.location) {\n            lat = place.geometry.location.lat()\n            lng = place.geometry.location.lng()\n        }\n\n        if (lat && lng) {\n            handleChange({\n                placeId: place && place.place_id,\n                lat: lat,\n                lng: lng,\n                zoom: zoom\n            })\n        }\n\n    }\n\n    const classes = useStyles() \n\n    const center = {\n        lat: lat,\n        lng: lng\n    }\n\n    return (\n        <GeopointBase\n            className={classes.root}\n            googleMapsApiKey={googleMapsApiKey}>\n                <GeopointMap center={center} zoom={zoom} onChange={handleMapChange}>\n                    <GeopointMapCenter />\n                    <GeopointSearch className={classes.search} onChange={handleSearch} />\n                </GeopointMap>\n\n                { onClose && <IconButton className={classes.closeButton} onClick={() => onClose()}>\n                    <CloseIcon></CloseIcon>\n                </IconButton> }\n\n        </GeopointBase>\n    )        \n}\n\nGeocoder.defaultProps = {\n    googleMapsApiKey: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    location: {\n        lat: undefined,\n        lng: undefined,\n        zoom: undefined\n    }\n}\n\nexport default Geocoder;","import GeopointField from './GeopointField';\n\nimport Geopoint from './Geopoint';\nimport Geocoder from './Geocoder'\n\nexport default {\n    \"fields\": {\n        \"kpGeopoint\": GeopointField,\n        \"kpGeopointLayout\": Geopoint,\n        \"kpGeocoderLayout\": Geocoder,\n    },\n}","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst KpPageField = (props) => {\n    const { idSchema, schema, uiSchema, formData, formContext, registry } = props;\n    const { uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { isLoading, isSaving, currentId, currentLocale, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const getPrimaryAction = () => {\n\n        if (isLoading) {\n            return {\n                label: t(\"Loading\") + \" ...\",\n                disabled: true\n            }\n        } else if (isSaving) {\n            return {\n                label: t(\"Saving\") + \" ...\",\n                disabled: true\n            }\n        }\n\n        let primary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save as draft\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"draft\"}}, event),\n                },\n                {\n                    label: t(\"Save and publish\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"publish\"}}, event),\n                },\n            ]\n        }\n\n        let secondary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save and exit\"),\n                }\n            ]\n\n        }\n\n        if (uniqueId) {\n            secondary.children.push({\n                label: t(\"Save as\") + \" ...\",\n                onClick: (event) =>  onSubmit({formData: {...formData, status: \"copy\"}}, event),\n            })\n        }\n        \n\n        return {\n            type: \"save\",\n            label: t(\"Save\"),\n            onClick: (event) => onSubmit({formData}, event),\n            children: [\n                primary,\n                secondary\n            ]\n        }\n    \n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getPrimaryAction()\n\n    // toggle fieldset\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggle = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale || formContext.languages && formContext.languages[0]\n//    const [currentLocale, setCurrentLocale] = useState(defaultLocale)\n\n    const _onLocale = (locale) => {\n\n\n        onLocale && onLocale(locale)\n//        setCurrentLocale(locale)\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:layout\": \"pageEditor\",\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggle\": () => _onToggle()\n    }\n\n    const _onChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange(newFormData)\n    }\n\n\n    const _onAnnotateArrayChange = (links = []) => {\n        console.log('onAnnotateArrayChange', links)\n\n        _onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                links: links\n            }\n        })\n\n    }\n\n    const _onAnnotateImageChange = (links = []) => {\n        console.log('onAnnotateImageChange', links)\n\n        _onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                links: links\n            }\n        })\n \n    }\n\n    const annotateImage = formData && formData.content && formData.content.backgroundImage\n    const imageAnnotations = formData && formData.content && formData.content.links\n    \n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...registry.formContext,\n            currentLocale: currentLocale,\n            annotateImage: annotateImage,\n            imageAnnotations: imageAnnotations,\n            onAnnotateArrayChange: _onAnnotateArrayChange,\n            onAnnotateImageChange: _onAnnotateImageChange,\n\n        }\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} registry={newRegistry} formContext={newRegistry.formContext} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default KpPageField;","export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"kpLink\",\n    \"ui:options\": {\n        \"minHeight\": 256,\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale || \"no\";\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"backgroundColor\": {\n        \"ui:widget\": \"color\"\n    },\n    \"color\": {\n        \"ui:widget\": \"color\",\n        \"ui:settingsVariant\": \"text\"\n    },\n    \"grid\": {\n        \"ui:widget\": \"grid\",\n        \"ui:maxCols\": 5,\n        \"ui:maxRows\": 3\n    },\n    \"placement\": {\n        \"ui:widget\": \"placement\",\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"content\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                \"ui:settings\": [\n                    \"color\"\n                ]\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"titleColor\": {\n                \"ui:widget\": \"color\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markør\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}","import schema from \"./KpLink.schema\"\nimport uiSchema from \"./KpLink.uiSchema\"\nimport formData from \"./KpLink.formData\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData\n}","export default  {\n    \"type\": \"object\",\n    \"properties\": {\n        \"referenceId\": {\n            \"type\": \"string\"\n        },\n        \"referenceType\": {\n            \"type\": \"string\",\n            \"default\": \"pageLink\"\n        },\n        \"reference\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                },\n                \"documentType\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"uniqueId\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"imageFilters\": {\n            \"type\": \"imageFilters\"\n        },\n        \"imageCropdata\": {\n            \"type\": \"imageCropdata\"\n        },\n        \"imageFocalpoint\": {\n            \"type\": \"imageFocalpoint\"\n        },\n        \"runningHead\": {\n            \"type\": \"localizedString\"\n        },\n        \"title\": {\n            \"type\": \"localizedString\"\n        },\n        \"titleColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"titleSize\": {\n            \"type\": \"string\",\n            \"enum\": [\"small\",\"medium\",\"large\"],\n            \"default\": \"medium\"\n        },\n        \"description\": {\n            \"type\": \"localizedString\"\n        },\n        \"top\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"left\": {\n            \"type\": \"string\",\n            \"default\": 50,\n            \"readonly\": true\n        },\n        \"x\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"y\": {\n            \"type\": \"number\",\n            \"default\": 0,\n            \"readonly\": true\n        },\n        \"backgroundColor\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"#7f7f7f\",\"white\"],\n            \"default\": \"#7f7f7f\"\n        },\n        \"color\": {\n            \"type\": \"string\",\n            \"format\": \"color\",\n            \"enum\": [\"black\",\"white\"],\n            \"default\": \"black\"\n        },\n        \"skin\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"dark\",\n                \"light\",\n                \"dark/light\",\n                \"light/dark\"\n            ],\n            \"default\": \"dark\"\n        },\n        \"placement\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"top-left\",\n                \"top\",\n                \"top-right\",\n                \"left\",\n                \"center\",\n                \"right\",\n                \"bottom-left\",\n                \"bottom\",\n                \"bottom-right\"\n            ],\n            \"default\": \"top-left\"\n        },\n        \"grid\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"1:1\",\n                \"1:2\",\n                \"1:3\",\n                \"2:1\",\n                \"2:2\",\n                \"2:3\",\n                \"3:1\",\n                \"3:2\",\n                \"3:3\",\n                \"4:1\",\n                \"4:2\",\n                \"4:3\",\n                \"5:1\",\n                \"5:2\",\n                \"5:3\"\n            ],\n            \"default\": \"1:1\"\n        },\n    }\n}","import React, { Component } from 'react';\nimport { ImagePreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Icon from '@material-ui/core/Icon';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n\n        minHeight: 256,\n\n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n    buttongroup: {\n        zIndex: 2,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        minWidth: theme.spacing(12),\n        minHeight: theme.spacing(7),\n    },\n    icon: {\n        marginRight: theme.spacing(1),\n        \"& + $label\": {\n            marginRight: theme.spacing(1)\n        }\n    },\n    preview: {\n        margin: 0\n    }\n}));\n\n\n\nconst KpLinkMediaLayout = (props) => {\n\n    const { mediaId, media, referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const Button = ({icon, title, color=\"primary\", variant=\"outlined\", size=\"large\", ...props}) => {\n        \n        return (\n            <ButtonBase className={classes.button}>\n                { icon && <Icon className={classes.icon}>{icon}</Icon>}\n                <b className={classes.label}>{title}</b>\n            </ButtonBase>\n        )\n    \n    }\n\n    const Buttongroup = ({buttons = []}) => {\n\n        const classes = useStyles({spacing: 1})\n    \n        if (!buttons.length) {\n            return null\n        }\n    \n        return (\n            <div className={classes.buttongroup}>\n                { buttons && buttons.map((button, index) => {\n                    return (\n                        <Button {...button} key={index} />\n                    )\n                })}\n            </div>\n        )\n        \n    }\n\n    const removeMedia = {\n        icon: \"remove_circle\",\n        title: \"Fjern bilde\",\n        onClick: () => onChange({mediaId: undefined, media: {}})\n    }\n\n    const findMedia = {\n        icon: \"search\",\n        title: \"Finn bilde\",\n        onClick: () => onDialog(props)\n    }\n\n    const replaceMedia = {\n        icon: \"search\",\n        title: \"Endre bilde\",\n        onClick: () => onDialog(props)\n    }\n\n\n    if (media && media.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={media.imageUrl} />\n                <Buttongroup className={classes.buttons} buttons={[removeMedia]} />\n            </div>\n        )\n    }\n\n    if (referenceId && reference && reference.imageUrl) {\n        return (\n            <div className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={reference.imageUrl} />\n                <Buttongroup className={classes.buttons} buttons={[replaceMedia]} />\n            </div>\n        )\n    }\n\n    return (\n        <div className={classes.root} data-name=\"media\">\n            <Buttongroup className={classes.buttons} buttons={[findMedia]} />\n        </div>\n    )\n\n}\n\nexport default KpLinkMediaLayout","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from \"@material-ui/core/Icon\"\nimport { getImageUrl } from \"../utils\"\n\nimport {\n    ModuleSelect,\n    ModuleBase,\n    ModuleTitle,\n    ModuleIcon,\n    ModuleImage,\n    ModuleLabel,\n    ModuleMetadata,\n    ModuleDescription,\n    ModuleIdentifier,\n    ModuleToolbar,\n    ModuleSettings,\n    ModuleStatus,\n    ModuleByline\n} from \"../Module\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        display: \"flex\",\n        minHeight: theme.spacing(8),\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        userSelect: \"none\",\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"& > $toolbar, & > $settings\": {\n            opacity: .5\n        },\n\n        \"&:hover\": {\n            \"& > $toolbar, & > $settings\": {\n                opacity: 1\n            }\n        },\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected\n        },\n\n        \"&[data-deleted=true]\": {\n            color: theme.palette.action.disabled,\n\n            \"& img\": {\n                opacity: .25\n            }\n\n        },\n\n        \"&[data-erased=true]\": {\n            color: theme.palette.action.disabled,\n\n            \"& *\": {\n                color: theme.palette.action.disabled,\n            },\n\n            \"& img\": {\n                opacity: .25\n            },\n\n            \"& button\": {\n                opacity: 0\n            },\n\n            \"& h2\": {\n                textDecoration: \"line-through\"\n            }\n\n        },\n\n\n    },\n\n    media: {\n        width: 48,\n        height: 48,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    icon: {\n\n    },\n    content: {\n        flexGrow: 1,\n        maxWidth: \"100%\",\n        flexDirection: \"column\",\n        overflow: \"hidden\",\n        alignItems: \"flex-start\",\n        justifyContent: \"flex-start\",\n        margin: theme.spacing(1)\n    },\n    header: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n\n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst ListModule = ({\n    size = \"medium\",\n    placeholder = false,\n    children,\n    ...props\n}) => {\n\n    const { \n        uniqueId,\n\n        documentType, \n        documentLabel, \n        mediaType,\n        mediaLabel,\n    \n        createdAt,\n        updatedAt,\n    \n        icon,\n        icons = [],\n    \n        untitled,\n        title,\n        author,\n        description,\n        label,\n        identifier,\n        metadata,\n    \n        startAdornment,\n    \n        selectable,\n        selected,\n        onSelect,\n\n        onEdit,\n        onClick,\n    \n        status,\n        statusLabel\n    \n    } = props\n\n    const classes = useStyles()\n\n    const imageUrl = getImageUrl(props)\n\n    if (placeholder) {\n        return (\n            <div className={classes.item} onClick={onClick}>\n                { children || title }\n            </div>\n        )\n    }\n\n    const ModuleMedia = () => {\n\n        return (\n            <div className={classes.media}>\n                { !imageUrl && <ModuleIcon icons={icons} icon={icon} documentType={documentType} mediaType={mediaType} /> }\n                { imageUrl && <ModuleImage imageUrl={imageUrl} /> }\n            </div>\n        )\n\n    }\n\n    const ModuleContent = () => {\n\n        if (size === \"small\") {\n            return (\n                <div className={classes.content}>\n                    <header className={classes.header}>\n                        <ModuleTitle untitled={untitled} title={title} />\n                        <ModuleLabel label={label || documentLabel || documentType || mediaLabel || mediaType} />\n                        <ModuleStatus statusLabel={statusLabel} status={statusLabel || status} />\n                        <ModuleByline author={author} datetime={updatedAt || createdAt} />\n                    </header>\n                </div>\n            )\n        }\n\n        return (\n            <div className={classes.content}>\n                <header className={classes.header}>\n                    <ModuleTitle untitled={untitled} title={title} />\n                    <ModuleByline author={author} datetime={updatedAt || createdAt} />\n                </header>\n                <footer className={classes.footer}>\n                    <ModuleLabel label={label || documentLabel || documentType || mediaLabel || mediaType} />\n                    <ModuleStatus statusLabel={statusLabel} status={statusLabel || status} />\n                    <ModuleMetadata metadata={metadata} />\n                    <ModuleDescription description={description} />\n                </footer>\n            </div>\n        )\n\n    }\n\n    return (\n        <ModuleBase {...props} className={classes.module}>\n\n            { startAdornment || selectable &&\n                <ModuleSelect \n                    selected={selected}\n                    onClick={onClick ? undefined : onSelect}\n                />\n            }\n\n            <ModuleMedia />\n            \n            <ModuleContent />\n\n            <ModuleSettings {...props} className={classes.settings} />\n            <ModuleToolbar {...props} className={classes.toolbar} selectable={false} />\n        </ModuleBase>\n    )    \n\n}\n\nListModule.propTypes = {\n    size: PropTypes.oneOf([\"small\",\"medium\",\"large\"]),\n\n    selectable: PropTypes.bool,\n    selected: PropTypes.bool,\n    onSelect: PropTypes.func,\n\n    editable: PropTypes.bool,\n    onEdit: PropTypes.func,\n\n    deletable: PropTypes.bool,\n    deleted: PropTypes.bool,\n    onDelete: PropTypes.func,\n\n    restorable: PropTypes.bool,\n    onRestore: PropTypes.func,\n\n    erasable: PropTypes.bool,\n    erased: PropTypes.bool,\n    onErase: PropTypes.func,\n\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n\n    documentType: PropTypes.string,\n    documentLabel: PropTypes.string,\n\n    mediaType: PropTypes.string,\n    mediaLabel: PropTypes.string,\n\n    imageUrl: PropTypes.string,\n    title: PropTypes.string,\n    description: PropTypes.string,\n    author: PropTypes.string,\n    updatedAt: PropTypes.string,\n    createdAt: PropTypes.string,\n\n    metadata: PropTypes.array,\n\n    onClick: PropTypes.func,\n}\n\nListModule.defaultProps = {\n    editable: false,\n    selectable: false,\n    selected: false,\n    deletable: false,\n    restorable: false\n}\n\nexport default ListModule;","import qs from 'query-string';\n\nexport const getImageUrl = ({imageUrl, uploadProgress = 0}) => {\n\n    if (!imageUrl) {\n        return false\n    }\n\n    const { url, query } = qs.parseUrl(imageUrl)\n    return qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ListModule from \"./KpLinkModule\"\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\nconst useStyles = makeStyles(theme => ({\n    reference: {\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        width: \"100%\",\n\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        \n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n}));\n\nconst KpLinkReferenceLayout = (props) => {\n\n    const { referenceId, reference, onChange, onDialog } = props;\n\n    const classes = useStyles()\n\n    const _onAddLink = () => {\n        onDialog && onDialog(props)\n    }\n\n    const _onRemoveLink = () => {\n        onChange && onChange({\n            referenceId: undefined, \n            reference: {}\n        })\n    }\n\n    const LinkAddButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkIcon />\n            </IconButton>\n        )\n    }\n\n    const LinkRemoveButton = ({onClick}) => {\n        return (\n            <IconButton onClick={onClick}>\n                <LinkOffIcon />\n            </IconButton>\n        )\n    }\n\n\n    if (referenceId && reference) {\n        return (\n            <div className={classes.reference}>\n                <ListModule {...reference} startAdornment={<LinkRemoveButton onClick={_onRemoveLink} />} />\n            </div>\n        )\n    }\n\n    return (\n        <ButtonBase className={classes.reference} onClick={_onAddLink}>\n            <ListModule untitled=\"Legg til lenke\" icon={<LinkIcon />} />\n        </ButtonBase>\n    )\n\n}\n\nexport default KpLinkReferenceLayout","import React, { Component } from 'react';\n\n//import KpLinkContentLayout from \"./KpLinkContentLayout\"\nimport KpLinkMediaLayout from \"./KpLinkMediaLayout\"\nimport KpLinkReferenceLayout from \"./KpLinkReferenceLayout\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KpLinKContentField = (props) => {\n\n    const { formData, formContext, schema, uiSchema, registry} = props\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n    const mediaType = media && media.mediaType\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n    const referenceDescription = reference && reference.description\n\n    /*\n    const imageUrl = media.imageUrl || reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n    */\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const _onMediaChange = ({mediaId, media}) => {\n\n        console.log('MEDIA change', media)\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            mediaId: mediaId,\n            media: media\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onMediaDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    mediaId: schema.properties.mediaId,\n                    media: schema.properties.media\n                }\n            },\n            formData: {\n                mediaId: mediaId,\n                media: media\n            },\n            onChange: _onMediaChange\n        })\n\n    }\n\n    const _onReferenceChange = ({referenceId, reference}) => {\n\n        console.log(\"KpLink:onChange\", referenceId)\n\n\n        const newFormData = getDefaultFormState(schema, {\n            ...formData,\n            referenceId: referenceId,\n            reference: reference\n        }, registry.definitions);\n\n        props.onChange && props.onChange(newFormData)\n\n    }\n\n    const _onReferenceDialog = (props) => {\n\n        formContext.onDialog && formContext.onDialog({\n            ...props,\n            schema: {\n                type: \"object\",\n                properties: {\n                    referenceId: schema.properties.referenceId,\n                    reference: schema.properties.reference\n                }\n            },\n            onChange: _onReferenceChange\n        })\n\n    }\n    \n    const newUiSchema = {\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"spacing\": 2,\n            \"grid\": true,\n        },\n        \"linkMedia\": {\n            \"ui:layout\": KpLinkMediaLayout,\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\",\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:xs\": 4,\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": media,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:onDialog\": _onMediaDialog,\n            \"ui:onChange\": _onMediaChange,\n        },\n        \"linkContent\": {\n            \"ui:xs\": 8,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\",\n                ...uiSchema.linkContent.runningHead,\n                \"color\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\",\n                \"ui:placeholder\": referenceTitle,\n                ...uiSchema.linkContent.title,\n                \"titleColor\": {\n                    \"ui:widget\": \"color\"\n                }\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n                \"ui:placeholder\": referenceDescription,\n                \"ui:widget\": \"textarea\"\n            },\n        },\n        \"linkReference\": {\n            \"ui:layout\": KpLinkReferenceLayout,\n            \"ui:xs\": 12,\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:dialog\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:onDialog\": _onReferenceDialog,\n            \"ui:onChange\": _onReferenceChange,\n        },\n    }\n\n    const { ObjectField } = registry.fields\n\n\n    return <ObjectField {...props} uiSchema={newUiSchema} />\n\n    return (\n        <p>{JSON.stringify(uiSchema)}</p>\n    )\n\n}\n\nexport default KpLinKContentField","import React from 'react';\nimport Color from 'color';\nimport model from \"./KpLink.model\"\n\nimport KpLinkContentField from \"./KpLinkContentField\"\n\nimport { utils } from \"@rjsf/core\"\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KpLinkField = (props) => {\n    const { formData, formContext, registry } = props\n\n    const schema = {\n        ...model.schema,\n        ...props.schema\n    }\n\n    const mediaId = formData && formData.mediaId\n    const media = formData && formData.media\n\n    const referenceId = formData && formData.referenceId\n    const reference = formData && formData.reference\n    const referenceTitle = reference && reference.title\n\n    const imageUrl = media.imageUrl || referenceId && reference && reference.imageUrl;\n    const imageFocalpoint = formData && formData.imageFocalpoint\n    const imageCropdata = formData && formData.imageCropdata\n    const imageFilters = formData && formData.imageFilters\n\n    const backgroundColor = formData && formData.backgroundColor;\n    const color = formData && formData.color;\n\n    const getContrastColor = (hex) => {\n        const color = Color(hex)\n        return color.isLight() && \"black\" || \"white\"\n    }\n\n    const _onChange = (formData) => {\n\n        if (formData.backgroundColor !== backgroundColor) {\n            formData.color = getContrastColor(formData.backgroundColor)\n        }\n\n        if (formData.color !== color) {\n            formData.titleColor = formData.color\n        }\n\n        const newFormData = getDefaultFormState(schema, formData, registry.definitions);\n        props.onChange && props.onChange(newFormData)\n    }\n\n    const _onCropChange = (imageCropdata) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageCropdata: imageCropdata\n        })\n    }\n\n    const _onFocalpoint = (imageFocalpoint) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFocalpoint: imageFocalpoint\n        })\n    }\n\n    const _onFiltersChange = (imageFilters) => {\n        props.onChange && props.onChange({\n            ...formData,\n            imageFilters: imageFilters\n        })\n     }\n    \n    const getUiSchema = () => {\n\n        let uiSchema = {\n            ...model.uiSchema,\n            ...props.uiSchema,\n            \"ui:layout\": \"kpLink\",\n            \"ui:documentType\": reference && reference.documentType,\n        }\n    \n        const uiOptions = getUiOptions(uiSchema);\n\n        let fieldset = []\n\n        const uiPreview = {\n            \"ui:mediaId\": mediaId,\n            \"ui:media\": mediaId,\n            \"ui:referenceId\": referenceId,\n            \"ui:reference\": reference,\n            \"ui:imageUrl\": imageUrl,\n            \"ui:imageCropdata\": imageCropdata,\n            \"ui:imageFilters\": imageFilters,\n            \"ui:imageFocalpoint\": imageFocalpoint,\n        }\n\n        if (uiSchema.content) {\n            uiSchema.content = {\n                ...uiSchema.content,\n                ...uiPreview,\n                \"ui:field\": KpLinkContentField,\n            }\n\n            fieldset.push('content')\n\n        }\n\n        if (uiSchema.imageCropdata && imageUrl) {\n            uiSchema.imageCropdata = {\n                ...uiSchema.imageCropdata,\n                ...uiPreview,\n                \"ui:onChange\": (cropdata) => _onCropChange(cropdata),\n            }\n\n            fieldset.push('imageCropdata')\n        }\n\n        if (uiSchema.imageFocalpoint && imageUrl) {\n            uiSchema.imageFocalpoint = {\n                ...uiSchema.imageFocalpoint,\n                ...uiPreview,\n                \"ui:onChange\": (focalpoint) => _onFocalpoint(focalpoint),\n            }\n\n            fieldset.push('imageFocalpoint')\n\n        }\n\n        if (uiSchema.imageFilters && imageUrl) {\n            uiSchema.imageFilters = {\n                ...uiSchema.imageFilters,\n                ...uiPreview,\n                \"ui:onChange\": (filters) => _onFiltersChange(filters),\n            }\n\n            fieldset.push('imageFilters')\n        }\n\n        if (formContext.pageType === \"annotate\") {\n            uiSchema.imageAnnotations = {\n                ...uiSchema.imageAnnotations,\n                ...uiPreview\n            }\n\n            fieldset.push('imageAnnotations')\n        }\n\n        return {\n            ...uiSchema,\n            \"ui:layout\": \"kpLink\",\n            \"ui:options\": uiOptions,\n            \"ui:fieldset\": fieldset,\n            \"color\": {\n                ...uiSchema.color,\n                \"ui:backgroundColor\": formData && formData.backgroundColor\n            },\n            \"link\": {\n                ...uiSchema.link,\n                \"linkContent\": {\n                    ...uiSchema.content.linkContent,\n                    \"titleColor\": {\n                        \"ui:backgroundColor\": formData && formData.backgroundColor\n                    }\n                }\n            }\n        }\n\n    }\n\n    const uiSchema = getUiSchema()\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} schema={schema} uiSchema={uiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default KpLinkField","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '@material-ui/core/Badge';\n\nimport ListModule from \"./KpLinkModule\"\n\nimport {\n    ModuleBase,\n    ModuleFormat,\n    ModuleHeader,\n    ModuleBody,\n    ModuleFooter,\n    ModuleButtons,\n} from \"@kit-ui/admin\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        zIndex: 2,\n\n        \"& + *\": {\n            zIndex: 1\n        },\n\n        display: \"flex\",\n        flexDirection: \"column\",\n        minHeight: props => { return props.minHeight }\n\n    },\n    header: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        display: \"flex\",\n        zIndex: 2,\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        height: theme.spacing(6),\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        color: \"inherit\",\n\n        \"& + *\": {\n            zIndex: 1,\n            marginTop: theme.spacing(6)\n        }\n\n    },\n    body: {\n        position: \"relative\",\n        flexGrow: 1,\n        padding: theme.spacing(2)\n    },\n    footer: {\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        padding: props => { return theme.spacing(props.padding) }\n    }\n\n}));\n\nconst KpLinkLayout = ({\n    editable,\n    expanded,\n    buttons,\n    onCollapse,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles(props)\n\n    if (editable && expanded) {\n\n        if (!buttons || !buttons.length) {\n            buttons = [\n                {\n                    title: \"Save\",\n                    onClick: onCollapse\n                }\n            ]\n        }\n\n        return (\n            <ModuleBase className={classes.module} expanded={true} elevation={4}>\n                <ModuleFormat {...props}>\n                    <ModuleHeader {...props} className={classes.header} />\n                    <ModuleBody className={classes.body}>\n                        {children}\n                    </ModuleBody>\n                </ModuleFormat>\n                <ModuleFooter {...props} className={classes.footer}>\n                    {buttons && <ModuleButtons buttons={buttons} />}\n                </ModuleFooter>\n            </ModuleBase>\n        )    \n    }\n\n    const StartAdornment = ({startAdornment, badgeContent}) => {\n\n        return (\n            <Badge className={classes.badge} badgeContent={badgeContent} color=\"primary\">\n                {startAdornment}\n            </Badge>\n        )\n    \n    }\n    \n\n    return (\n        <ListModule\n            {...props}\n            primaryButton={<StartAdornment {...props} />}\n            editable={editable}\n        />\n    )\n\n}\n\nKpLinkLayout.defaultProps = {\n    padding: 2,\n    editable: true\n}\n\nKpLinkLayout.propTypes = {\n    editable: PropTypes.bool,\n    editing: PropTypes.bool\n}\n\nexport default KpLinkLayout;\n","import React, { useState, useEffect } from 'react';\nimport { ImageAnnotations } from \"@kit-ui/admin\"\nimport model from \"./KpAnnotateImage.model\"\n\nconst KioskAnnotateImageField = ({formData, formContext, ...props}) => {\n    const { annotateImage = {}, imageAnnotations, onAnnotateImageChange } = formContext\n    const { mediaId, media, imageFilters } = annotateImage\n\n    const { ObjectField } = props.registry.fields\n\n    const uiSchema = {\n        \"ui:layout\": ImageAnnotations,\n        \"ui:imageUrl\": media && media.imageUrl,\n        \"ui:imageFilters\": imageFilters,\n        \"ui:imageAnnotations\": imageAnnotations,\n        \"ui:onChange\": onAnnotateImageChange\n    }\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} /> \n    )\n\n}\n\nexport default KioskAnnotateImageField;","import uiSchema from \"./KpAnnotateLinks.uiSchema\"\n\nexport default {\n    uiSchema: uiSchema\n}","import itemsUi from \"./KpLink.uiSchema\"\n\nexport default {\n    \"ui:field\": \"kpAnnotateLinks\",\n    \"ui:options\": {\n        \"sortable\": true\n    },\n    \"items\": {\n        ...itemsUi,\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale || formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const badgeContent = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title || title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    badgeContent: badgeContent,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}","import React from 'react';\nimport model from \"./KpAnnotateLinks.model\"\n\nconst ImageAnnotateArrayField = ({uiSchema, registry, ...props}) => {\n    const { ArrayField } = registry.fields;\n    const { onAnnotateArrayChange } = registry.formContext\n\n    uiSchema = {\n        ...model.uiSchema,\n        ...uiSchema\n    }\n\n    return (\n        <ArrayField {...props} uiSchema={uiSchema} registry={registry} onChange={onAnnotateArrayChange} />\n    )\n\n}\n\nexport default ImageAnnotateArrayField;","import KpDeviceField from \"./KpDeviceField\"\nimport KpDeviceLinkField from \"./KpDeviceLinkField\"\n\nimport kpLocation from \"./KpLocation/registry\"\n\nimport KpPageField from \"./KpPageField\"\nimport KpLinkField from \"./KpLinkField\"\nimport KpLinkLayout from \"./KpLinkLayout\"\nimport KpLinkModel from \"./KpLink.model\"\n\nimport KpAnnotateImageField from \"./KpAnnotateImageField\"\nimport KpAnnotateLinksField from \"./KpAnnotateLinksField\"\n\nexport default {\n    \"fields\": {\n        \"kpPage\": KpPageField,\n        \"kpLink\": KpLinkField,\n        \"kpLinkLayout\": KpLinkLayout,\n        \"kpAnnotateImage\": KpAnnotateImageField,\n        \"kpAnnotateLinks\": KpAnnotateLinksField,\n\n        \"kpDevice\": KpDeviceField,\n        \"kpDeviceLink\": KpDeviceLinkField,\n\n        ...kpLocation.fields,\n    },\n    \"widgets\": {\n    },\n    \"models\": {\n        \"kpLink\": KpLinkModel,\n    }\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst ParentIdField = (props) => {\n    const { formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    const query = {\n        url: pathname + \"/parentId\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        collectionId && pathname && dispatch(getQuery(query))\n    }, [pathname])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded || []\n        // const options = models.length && getOptionsTree(models) || []\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No parentId\"\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default ParentIdField","import React, { useState, useEffect } from 'react';\nimport _ from \"lodash\"\n\nimport { \n    ListView, \n    ListModule, \n    ButtonAdd, \n    ButtonRemove\n} from \"@kit-ui/admin\"\n\nconst DocumentChildrenList = ({title, resultsLoaded, onRemove, onEdit}) => {\n\n    const DocumentModule = (model) => {\n\n        return (\n            <ListModule {...model}\n                primaryButton={<ButtonRemove onClick={() => onRemove(model)} />}\n                editable={true}\n                onEdit={() => onEdit(model)}\n            />\n        )\n\n    }\n\n    return (\n\n        <ListView title={title}>\n            {resultsLoaded && resultsLoaded.map((model, index) => <DocumentModule {...model} key={index} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenList","import React, { useState, useEffect } from 'react';\nimport { WidgetSearch, List, ListModule, ButtonAdd, ButtonRemove } from \"../\"\nimport _ from \"lodash\"\n\nimport DocumentListRemove from \"./DocumentListRemove\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getParents } from '../../redux/modelsById';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\n\nconst DocumentParentsField = (props) => {\n    const { schema, idSchema, uiSchema, formContext } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // currentParent\n\n    const query = {\n        url: pathname + \"/parents\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"id:\"+parentId,\n        ...uiQuery\n    }\n\n    useEffect(() => {\n        parentId && dispatch(getQuery(query))\n    }, [parentId])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const uniqueModel = useSelector(state => state.modelsById[uniqueId])\n\n    // actions\n\n    const onSelect = formContext && formContext.onSelect\n\n    const _onRemove = ({uniqueId}) => {\n\n    }\n\n    const _onEdit = ({uniqueId}) => {\n        const id = idSchema && idSchema.$id\n        const url = app.root + \"/\" + uniqueId + \"/edit#\" + id\n        onSelect && onSelect({url})\n    }\n\n\n    return (\n        <div>\n\n            <DocumentListRemove {...currentSearch} title=\"Parents\" onRemove={_onRemove} onEdit={_onEdit} />\n\n            {JSON.stringify(uniqueModel.parents)}\n\n\n\n        </div>\n    )\n\n\n    \n\n}\n\nexport default DocumentParentsField","import React, { useState, useEffect } from 'react';\nimport _ from \"lodash\"\n\nimport { \n    ListSearch,\n    ListView, \n    ListModule, \n    ButtonAdd, \n    ButtonRemove\n} from \"@kit-ui/admin\"\n\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst DocumentChildrenSearch = (props) => {\n    const { schema, uiSchema } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const id = formData && formData.id\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // add children\n\n    const [q, setQ] = useState(\"\")\n    const [list, setList] = useState([])\n\n    const queryQ = [\n        \"uniqueId:NOT \" + uniqueId,\n        \"parentId:NOT \" + id,\n        q\n    ]\n\n    const query = {\n        url: pathname + \"/children/search\",\n        models: \"documents\",\n        collectionId: collectionId,\n        fl: \"id,parentId,uniqueId,title\",\n        q: queryQ.join(' '),\n        ...uiQuery\n    }\n\n    // query\n\n    useEffect(() => {\n        query && dispatch(getQuery(query))\n    }, [q])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n    const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n\n    // onAdd and onRemove\n\n    const _onAdd = ({uniqueId}) => {\n        uniqueId && setList([...list, uniqueId])\n    }\n\n    const _onQuery = _.debounce((q, event) => {\n        setQ(q)\n    }, 500)\n\n    return (\n\n        <ListView title=\"Add children\">\n            <ListSearch onChange={_onQuery} />\n            {resultsLoaded && resultsLoaded.map(model => <ListModule {...model} primaryButton={<ButtonAdd />} />)}\n        </ListView>\n\n    )\n    \n\n}\n\nexport default DocumentChildrenSearch","import React, { useState, useEffect } from 'react';\nimport { WidgetSearch, List, ListModule, ButtonAdd, ButtonRemove } from \"../\"\nimport _ from \"lodash\"\n\nimport DocumentListRemove from \"./DocumentListRemove\"\nimport DocumentListSearch from \"./DocumentListSearch\"\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\n\nconst DocumentChildrenField = (props) => {\n    const { schema, idSchema, uiSchema, formContext } = props;\n\n    const dispatch = useDispatch()\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const app = useSelector(state => state.app)\n    const editor = useSelector(state => state.editor)\n    const { pathname, formData } = editor;\n\n    // id, uniqueId + collectionId\n\n    const parentId = formData && formData.parentId\n    const uniqueId = formData && formData.uniqueId\n    const collectionId = formData && formData.collectionId\n\n    // currentChildren\n\n    const query = {\n        url: pathname + \"/children\",\n        models: \"documents\",\n        collectionId: collectionId,\n        parentId: formData.id,\n        fl: \"id,parentId,uniqueId,title\",\n        q: \"uniqueId:NOT \" + uniqueId,\n        ...uiQuery\n    }\n\n\n    useEffect(() => {\n        uniqueId && dispatch(getQuery(query))\n    }, [uniqueId, parentId])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    // actions\n\n    const onSelect = formContext && formContext.onSelect\n\n    const _onRemove = ({uniqueId}) => {\n\n    }\n\n    const _onEdit = ({uniqueId}) => {\n        const id = idSchema && idSchema.$id\n        const url = app.root + \"/\" + uniqueId + \"/edit#\" + id\n        onSelect && onSelect({url})\n    }\n\n    return (\n        <div>\n\n            <DocumentListRemove {...currentSearch} title=\"Children\" onRemove={_onRemove} onEdit={_onEdit} />\n\n            <DocumentListSearch {...props} />\n\n        </div>\n    )\n\n\n    \n\n}\n\nexport default DocumentChildrenField","import React, { useState, useEffect } from 'react';\nimport ISO6391 from 'iso-639-1'\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst LocaleField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const languages = formContext && formContext.languages || []\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const getOptions = () => {\n\n        let optionsEnum = [\n        ], optionsNames = [\n        ]\n\n        languages && languages.map(lang => {\n            const label = ISO6391.getNativeName(lang) + \" (\"+lang+\")\" || lang\n            optionsEnum.push(lang)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [languages])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default LocaleField","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../../redux/searchByUrl';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst CollectionIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const pathname = useSelector(state => state.editor.pathname)\n\n    const query = {\n        url: pathname + \"/collectionId\",\n        models: \"collections\",\n        fl: \"id,collectionType,uniqueId,title\",\n        ...uiQuery\n    }\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        pathname && dispatch(getQuery(query))\n    }, [pathname])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[query.url]\n\n    const getOptions = () => {\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded || []\n        // const options = models.length && getOptionsTree(models) || []\n\n        let optionsEnum = [\n            null,\n            formData,\n        ], optionsNames = [\n            \"No collectionId\",\n            \"CollectionId \" + formData,\n        ]\n\n\n        resultsLoaded && resultsLoaded.map(model => {\n            const label = model.title + \" (\"+model.collectionType+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [currentSearch])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default CollectionIdField","import DocumentParentIdField from \"./DocumentParentIdField\"\nimport DocumentParentsField from \"./DocumentParentsField\"\nimport DocumentChildrenField from \"./DocumentChildrenField\"\nimport DocumentLocaleField from \"./DocumentLocaleField\"\nimport DocumentCollectionIdField from \"./DocumentCollectionIdField\"\n\nexport default {\n    fields: {\n        \"documentParentId\": DocumentParentIdField,\n        \"documentParents\": DocumentParentsField,\n        \"documentChildren\": DocumentChildrenField,\n        \"documentLocale\": DocumentLocaleField,\n        \"documentCollectionId\": DocumentCollectionIdField\n    }\n\n}","import React from \"react\"\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst ReferenceField = (props) => {\n    const { schema, idSchema, uiSchema = {}, formData = {}, formContext } = props;\n    const { referenceId, reference = {} } = formData;\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const getUiButtons = () => {\n        const buttons = uiOptions && uiOptions.buttons || [\"save\",\"edit\"]\n\n        const buttonProps = {\n            ...props,\n            referenceId: referenceId,\n            reference: reference,\n            id: idSchema && idSchema.$id\n        }\n\n        const { onSave, onEditReference, onDialog, onUpload } = formContext\n\n        let uiButtons = []\n        \n        buttons.map(button => {\n\n            if (typeof button === \"string\") {\n                button = {\n                    type: button,\n                    title: button.charAt(0).toUpperCase() + button.slice(1)\n                }\n            }\n\n            const { type = \"button\" } = button\n\n            if (type === \"save\") {\n                button.onClick = () => onSave && onSave(buttonProps)\n            } else if (type === \"edit\") {\n                button.onClick = () => onEditReference && onEditReference(buttonProps)\n            }\n\n            /*\n            if (type === \"dialog\" || type === \"sidebar\") {\n                button.onClick = () => onDialog && onDialog(buttonProps)\n            } else if (type === \"upload\") {\n                button.onClick = () => onUpload && onUpload(buttonProps)\n            }\n            */\n\n            button = {\n                ...button,\n                type: \"button\",\n                disabled: props.disabled || props.readonly\n            }\n\n            uiButtons.push(button)\n        })\n\n        return uiButtons\n\n    }\n\n    const getUiSchema = () => {\n\n        let fieldset = uiOptions.fieldset || []\n\n        if (!uiOptions.fieldset && schema.properties) {\n            \n            Object.keys(schema.properties).map(name => {\n                \n                const type = schema.properties[name] && schema.properties[name].type || undefined;\n                \n                if (type === \"object\") {\n                    fieldset.push(name)\n                }\n\n                if (type === \"array\") {\n                    fieldset.push(name)\n                }\n                \n            })\n            \n        }\n\n        let uiReference, uiContent\n\n        if (fieldset && fieldset.includes('reference')) {\n            const uiSchemaReference = uiSchema && uiSchema.reference;\n            uiReference = {\n                \"ui:title\": \"Reference\",\n                ...uiSchemaReference\n            }\n\n        }\n\n        if (fieldset && fieldset.includes('content')) {\n            const uiSchemaContent = uiSchema && uiSchema.content;\n            uiContent = {\n                \"ui:title\": \"Innhold\",\n                ...uiSchemaContent\n            }\n        }\n\n        const layout = uiOptions.layout || \"module\"\n\n        return {\n            \"ui:editable\": true,\n            \"ui:deletable\": referenceId && true,\n            \"ui:restorable\": referenceId && true,\n            \"ui:removable\": !referenceId && true,\n            \"ui:layout\": layout,\n            \"ui:fieldset\": fieldset,\n            \"ui:buttons\": getUiButtons(),\n            \"ui:nav\": \"tabs\",\n            \"reference\": uiReference,\n            \"content\": uiContent,\n            \"ui:preview\": {\n                \"select\": {\n                    \"_action\": \"_action\",\n                    \"type\": \"type\",\n                    \"title\": \"title\",\n                    \"description\": \"description\",\n                    \"imageUrl\": \"imageUrl\",\n                    \"status\": \"status\",\n                    \"referenceId\": \"referenceId\",\n                    \"reference\": \"reference\"\n                },\n                prepare({formData = {}}) {\n                    const { _action, reference, referenceId } = formData;\n            \n                    let status = reference && reference.status;\n            \n                    if (_action === \"delete\") {\n                        status = \"trash\"\n                    }\n            \n                    return {\n                        _action: _action,\n                        type: reference && reference.documentType,\n                        title: reference && reference.title,\n                        description: reference && reference.description,\n                        imageUrl: reference && reference.imageUrl,\n                        status: status,\n                        referenceId: referenceId,\n                        reference: reference\n                    }\n                }                \n            },\n            ...uiSchema,\n        }\n        \n    }\n\n    const _onChange = (formData) => {\n        const { _action, referenceId, reference = {} } = formData;\n\n        // if no referenceId, action = \"create\"\n\n        if (!referenceId) {\n            formData._action = \"create\"\n        }\n\n        // if reference dont have a uniqueId, action = \"create\"\n\n        if (!reference) {\n            formData.reference = {}\n        }\n\n        if (!reference.uniqueId) {\n            formData.reference._action = \"create\"\n        }\n\n        props.onChange && props.onChange(formData)\n\n\n    }\n\n\n    const { ObjectField } = props.registry.fields\n\n    const newUiSchema = getUiSchema()\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} onChange={_onChange} />\n    )\n\n}\n\nexport default ReferenceField","import ReferenceField from \"./ReferenceField\"\n\nexport default {\n    fields: {\n        \"reference\": ReferenceField,\n    },\n    widgets: {}\n}","\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"main\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"light\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"dark\": {\n            \"type\": \"string\",\n            \"format\": \"color\"\n        },\n        \"contrastText\": {\n            \"type\": \"string\",\n//            \"format\": \"color\"\n        },\n    }\n}","import paletteColor from \"./ThemePaletteColor.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"primary\": paletteColor,\n        \"secondary\": paletteColor\n    }\n}","import palette from \"./ThemePalette.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"type\": {\n            \"type\": \"string\",\n            \"enum\": [\"light\",\"dark\"],\n            \"enumNames\": [\"Light\",\"Dark\"],\n            \"default\": \"light\"\n        },\n        \"palette\": palette,\n        \"colors\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"string\",\n                \"format\": \"color\"\n            }\n        }\n    }\n}","import theme from \"../ThemeEditor/ThemeEditor.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"modelName\": {\n            \"type\": \"string\",\n            \"default\": \"collections\",\n            \"readOnly\": true\n        },\n        \"collectionType\": {\n            \"type\": \"string\",\n            \"default\": \"primus\",\n            \"readOnly\": true\n        },\n        \"name\": {\n            \"type\": \"string\",\n            \"readOnly\": true\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"siteId\": {\n            \"type\": \"number\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"name\": {\n                    \"type\": \"string\",\n                    \"readOnly\": true\n                },\n                \"title\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                },\n                \"siteId\": {\n                    \"type\": \"number\"\n                },\n                \"theme\": theme,\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"main\",\n        \"light\",\n        \"dark\"\n    ],\n    \"ui:options\": {\n        \"grid\": true,\n    },\n    \"main\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:size\": \"large\",\n        \"ui:xs\": 12,\n    },\n    \"light\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:xs\": 6,\n    },\n    \"dark\": {\n        \"ui:widget\": \"themeColor\",\n        \"ui:xs\": 6,\n    }\n}","import colorUi from \"./ThemePaletteColor.uiSchema\"\n\nexport default {\n    \"ui:fieldset\": [\n        \"type\",\n        \"palette\",\n        \"colors\"\n    ],\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"palette\": {\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"primary\": {\n            ...colorUi,\n            \"ui:field\": \"themePaletteColor\",\n            \"ui:layout\": \"fieldset\",\n            \"ui:title\": \"Primary\",\n            \"ui:options\": {\n                \"xs\": 6,\n                \"grid\": true\n            },\n        },\n        \"secondary\": {\n            ...colorUi,\n            \"ui:field\": \"themePaletteColor\",\n            \"ui:layout\": \"fieldset\",\n            \"ui:title\": \"Secondary\",\n            \"ui:options\": {\n                \"xs\": 6,\n                \"grid\": true\n            }\n        },\n    },\n    \"colors\": {\n        \"ui:title\": \"Additional colors\",\n        \"ui:layout\": \"fieldset\",\n        \"ui:sortable\": true,\n        \"items\": {\n            \"ui:widget\": \"themePaletteColor\",\n            \"ui:title\": \"Color\"\n        }\n    }\n}","import schema from \"./CollectionEditor.schema\"\nimport uiSchema from \"./CollectionEditor.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","import theme from \"../ThemeEditor/ThemeEditor.uiSchema\"\n\nexport default {\n    \"ui:field\": \"pageEditor\",\n    \"ui:collapsible\": true,\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\",\n    ],\n    \"settings\": {\n        \"ui:fieldset\": [\n            \"modelName\",\n            \"collectionType\",\n            \"title\",\n            \"name\",\n            \"siteId\"\n        ],\n        \"siteId\": {\n            \"ui:field\": \"collectionSiteId\"\n        }\n    },\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n        \"ui:nav\": true,\n        \"ui:fieldset\": [\n            \"header\",\n            \"theme\"\n        ],\n        \"header\": {\n            \"ui:title\": \"Informasjon\",\n            \"ui:icon\": \"info\",\n            \"ui:layout\": \"section\",\n            \"ui:options\": {\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"title\",\n                \"description\",\n                \"siteId\"\n            ],\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n                \"ui:widget\": \"textarea\"\n            },\n            \"siteId\": {\n                \"ui:title\": \"Eier\",\n                \"ui:field\": \"collectionSiteId\"\n            },\n        \n        },\n        \"theme\": {\n            ...theme,\n            \"ui:title\": \"Theme\",\n            \"ui:icon\": \"palette\",\n            \"ui:layout\": \"section\",\n            \"ui:options\": {\n                \"spacing\": 2\n            },\n        }\n    }\n}","import React, { useState, useEffect } from 'react';\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst CollectionSiteIdField = (props) => {\n    const { formData, formContext, schema, uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiQuery = uiOptions.query || {}\n\n    const [models, setModels] = useState([])\n\n    const _getQuery = () => {\n\n        const apiUrl = \"https://kompass.dimu.org/admin/api/sites\"\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results.models && setModels(results.models)\n        })\n\n    }\n\n    useEffect(() => {\n        _getQuery(uiQuery)\n    }, [])\n\n    const [enumOptions, setEnumOptions] = useState([formData])\n    const [enumNames, setEnumNames] = useState([formData])\n\n    const getOptions = () => {\n\n        let optionsEnum = [\n            null\n        ], optionsNames = [\n            \"No siteId\"\n        ]\n\n        models && models.map(model => {\n            const label = model.title + \" (\"+model.id+\")\"\n            optionsEnum.push(model.id)\n            optionsNames.push(label)\n        })\n\n        setEnumOptions(optionsEnum)\n        setEnumNames(optionsNames)\n    }\n\n    useEffect(() => {\n        getOptions()\n    }, [models])\n\n    const { SchemaField } = props.registry.fields;\n\n    const newSchema = {\n        ...schema,\n        enum: enumOptions,\n        enumNames: enumNames,\n        default: null\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:field\": undefined\n    }\n\n    return (\n        <SchemaField {...props} schema={newSchema} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default CollectionSiteIdField","import CollectionEditorModel from \"./CollectionEditor.model\"\nimport CollectionSiteIdField from \"./CollectionSiteIdField\"\n\nexport default {\n    fields: {\n        \"collectionSiteId\": CollectionSiteIdField,\n    },\n    models: {\n        \"collectionEditor\": CollectionEditorModel\n    }\n\n}","import React, { useState } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions } = utils;\n\nconst PageEditorField = (props) => {\n    const { idSchema, schema, uiSchema, formData, formContext, registry } = props;\n    const { uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { isLoading, isSaving, currentId, currentLocale, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const getPrimaryAction = () => {\n\n        if (isLoading) {\n            return {\n                label: t(\"Loading\") + \" ...\",\n                disabled: true\n            }\n        } else if (isSaving) {\n            return {\n                label: t(\"Saving\") + \" ...\",\n                disabled: true\n            }\n        }\n\n        let primary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save as draft\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"draft\"}}, event),\n                },\n                {\n                    label: t(\"Save and publish\"),\n                    onClick: (event) => onSubmit({formData: {...formData, status: \"publish\"}}, event),\n                },\n            ]\n        }\n\n        let secondary = {\n            role: \"group\",\n            children: [\n                {\n                    label: t(\"Save and exit\"),\n                }\n            ]\n\n        }\n\n        if (uniqueId) {\n            secondary.children.push({\n                label: t(\"Save as\") + \" ...\",\n                onClick: (event) =>  onSubmit({formData: {...formData, status: \"copy\"}}, event),\n            })\n        }\n        \n\n        return {\n            type: \"save\",\n            label: t(\"Save\"),\n            onClick: (event) => onSubmit({formData}, event),\n            children: [\n                primary,\n                secondary\n            ]\n        }\n    \n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getPrimaryAction()\n\n    // toggle fieldset\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggle = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale || formContext.languages && formContext.languages[0]\n//    const [currentLocale, setCurrentLocale] = useState(defaultLocale)\n\n    const _onLocale = (locale) => {\n\n\n        onLocale && onLocale(locale)\n//        setCurrentLocale(locale)\n    }\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:layout\": \"pageEditor\",\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggle\": () => _onToggle()\n    }\n\n    const { ObjectField } = registry.fields;\n\n    const newRegistry = {\n        ...registry,\n        formContext: {\n            ...formContext,\n            currentLocale: currentLocale\n        }\n    }\n\n    return (\n        <ObjectField {...props} registry={newRegistry} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageEditorField;","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: \"inherit\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst EditorBase = ({className, elevation = 1, expanded = true, children}) => {\n\n    const classes = useStyles()\n\n    if (!elevation) {\n        return (\n            <div className={className || classes.root} aria-expanded={expanded}>\n                {children}\n            </div>\n        )\n    }\n\n    return (\n        <Paper elevation={elevation} square={true} className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </Paper>\n    )\n\n}\n\nexport default EditorBase;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\n\nimport PathIcon from '@material-ui/icons/NavigateNext';\nimport IconButton from '@material-ui/core/IconButton';\nimport BackIcon from '@material-ui/icons/ArrowBack';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"nowrap\",\n        maxWidth: \"100%\",\n    },\n    back: {\n        marginLeft: theme.spacing(1),\n\n        \"& + $breadcrumbs\": {\n            marginLeft: theme.spacing(1),\n        },\n\n        [theme.breakpoints.up('sm')]: {\n//            display: \"none\"\n        }\n    },\n    breadcrumbs: {\n        marginLeft: theme.spacing(2),\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        lineHeight: \"24px\",\n\n        color: theme.palette.primary.main,\n\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n\n        \"& a:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& li[aria-hidden=true]\": {\n            marginLeft: theme.spacing(.5),\n            marginRight: theme.spacing(.5),\n        },\n\n        [theme.breakpoints.down('sm')]: {\n            \"& li\": {\n                display: \"none\",\n            },\n            \"& li:last-child\": {\n                display: \"block\",\n                maxWidth: \"100%\",\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n            }\n        },\n\n    },\n    identifier: {\n/*        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        */\n        whiteSpace: \"nowrap\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        textOverflow: \"ellipsis\",\n        color: theme.palette.primary.main,\n    },\n    prefix: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        lineHeight: \"24px\",\n        marginRight: theme.spacing(1),\n\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\"\n        }\n\n    },\n    icon: {\n        marginRight: theme.spacing(1)\n    },\n    parent: {\n        display: \"flex\",\n        color: theme.palette.text.primary\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        fontWeight: \"normal\",\n        lineHeight: \"24px\",\n\n        \"&[data-title=true]\": {\n            fontWeight: \"bold\",\n        },\n \n    },\n    subtitle: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"24px\",\n        marginLeft: theme.spacing(1),\n    },\n    uniqueId: {\n        fontFamily: \"Akkurat Mono, monospace\",\n        fontSize: \"16px\",\n        lineHeight: \"24px\",\n        textTransform: \"uppercase\",\n        marginLeft: theme.spacing(1),\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst ButtonBack = ({label, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={classes.back} onClick={onClick}>\n            <BackIcon />\n        </IconButton>\n    )\n\n}\n\nconst EditorPath = ({className, status, parents = [], title, subtitle, identifier, untitled = \"Untitled\", onSelect, onBack}) => {\n    const classes = useStyles();\n\n    const _onSelect = (item, event) => {\n        if (onSelect) {\n            onSelect(item, event)\n        }\n    }\n   \n    const _onBack = (event) => {\n        if (onBack) {\n            onBack(event)\n        }\n    }\n\n    if (parents && parents.length) {\n        return (\n            <div className={className}>\n                <ButtonBack className={classes.back} onClick={(event) => _onBack(event)} />\n                <Breadcrumbs className={classes.breadcrumbs} separator={<PathIcon />}>\n                    { parents && parents.map((parent, index) => {\n                        return (\n                            <Link className={classes.parent} noWrap={true} onClick={(event) => _onSelect(parent, event)} key={index}>{parent.title}</Link>\n                        )\n                    })}\n                    <Typography className={classes.identifier} data-status={status} noWrap={true}>\n                        <b className={classes.title} data-status={status} data-title={title && true}>{title || untitled}</b>\n                        { subtitle && <i className={classes.subtitle}>{subtitle}</i> }\n                        { identifier && <i className={classes.uniqueId}>{identifier}</i> }\n                    </Typography>\n                </Breadcrumbs>\n            </div>\n        )\n    }\n\n    return (\n        <div className={className}>\n            <ButtonBack onClick={(event) => _onBack(event)} />\n            <Breadcrumbs className={classes.breadcrumbs} separator={<PathIcon />}>\n                <Typography className={classes.identifier} data-status={status} noWrap={true}>\n                    <b className={classes.title} data-status={status} data-title={title && true}>{title || untitled}</b>\n                    { subtitle && <i className={classes.subtitle}>{subtitle}</i> }\n                    { identifier && <i className={classes.uniqueId}>{identifier}</i> }\n                </Typography>\n            </Breadcrumbs>\n        </div>\n    )\n\n}\n\nexport default EditorPath;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    icon: {\n        display: 'flex',\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontSize: 24,\n        width: '1.25em',\n        height: '1.25em',\n        border: \"1px solid\",\n        borderColor: \"#ccc\",\n        margin: \"-0.125em\"\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: '0.5em',\n        fontWeight: \"bold\",\n        textTransform: \"uppercase\",\n        lineHeight: '1',\n        textAlign: \"center\",\n    }\n}));\n\nconst LocaleIcon = ({value}) => {\n    const classes = useStyles()\n    return (\n        <div className={classes.icon}>\n            <b className={classes.label}>{value}</b>\n        </div>\n    )\n}\n\nexport default LocaleIcon;","import React, { useRef, useState } from 'react';\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Button from '@material-ui/core/Button';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport ISO6391 from 'iso-639-1'\n\nimport LocaleIcon from \"./LocaleIcon\"\n\nconst NavLocale = ({options = [], value, onChange}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const _onChange = (value) => {\n        onChange && onChange(value)\n        setExpanded(false);\n    }\n\n    const ListOption = (option) => {\n        const { title, value, onClick } = option\n\n        return (\n            <ListItem button onClick={onClick}>\n                <ListItemIcon><Icon><LocaleIcon value={value} /></Icon></ListItemIcon>\n                <ListItemText primary={title || value} />\n            </ListItem>\n        )\n\n    }\n\n    return (\n        <React.Fragment>\n            <IconButton onClick={_onToggle} ref={anchorRef}>\n                <LocaleIcon value={value} />\n            </IconButton>\n            <Dropdown expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <List>\n                    { options && options.map((option, index) => {\n\n                        if (typeof option === \"string\") {\n                            option = {\n                                title: ISO6391.getNativeName(option) || option,\n                                value: option\n                            }\n                        }\n\n                        const value = option.value\n\n                        return <ListOption {...option} key={index} onClick={() => _onChange(value)} />\n                    })}\n                </List>\n            </Dropdown>\n        </React.Fragment>\n    )\n        \n}\n\nexport default NavLocale","import React, { useState, useRef } from 'react';\nimport NavLocale from \"../NavLocale/NavLocale\"\n\nconst EditorLocale = ({className, currentLocale = undefined, languages = [], onLocale}) => {\n\n    if (!languages.length || languages.length === 1) {\n        return null\n    }\n\n    return (\n        <NavLocale options={languages} value={currentLocale || languages[0]} onChange={onLocale} />\n    )\n        \n}\n\nexport default EditorLocale","import React from 'react';\nimport moment from 'moment';\nimport \"moment/locale/nb\";\nimport \"moment/locale/nn\";\nimport \"moment/locale/sv\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport { ModuleStatus, ModuleDate } from \"../Module\"\n\nconst useStyles = makeStyles(theme => ({\n    status: {\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        margin: theme.spacing(1)\n    },\n\n}));\n\nconst statusLabels = {\n    \"new\": \"Ny\",\n    \"draft\": \"Utkast\",\n    \"publish\": \"Publisert\",\n    \"error\": \"Feil\"\n}\n\nconst StatusMessage = ({className, status, code, children}) => {\n    const classes = useStyles()\n\n    if (!children) {\n        return false\n    }\n\n    return (\n        <span data-status={status} data-code={code} className={className || classes.message}>{children}</span>\n    )\n}\n\nconst EditorStatus = ({className, status, statusLabel, statusDate, statusCode, statusMessage}) => {\n    const classes = useStyles()\n\n    if (!statusLabel && statusLabels[status]) {\n        statusLabel = statusLabels[status]\n    }\n\n    return (\n        <Typography className={className || classes.status} noWrap>\n            <ModuleStatus variant=\"outlined\" fontSize={14} status={status}>{statusLabel || status}</ModuleStatus>\n            <StatusMessage className={classes.message} status={status} code={statusCode}>{statusMessage}</StatusMessage>\n            {!statusMessage && <ModuleDate datetime={statusDate} className={classes.datetime}>{statusDate}</ModuleDate> }\n        </Typography>\n    )\n\n}\n\nexport default EditorStatus;","import React, { useState, useRef, forwardRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport DropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport EditIcon from '@material-ui/icons/Edit';\nimport ViewIcon from '@material-ui/icons/RemoveRedEye';\n\nimport NavAction from \"../NavAction/NavAction\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        fontSize: \"14px\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"inherit\",\n        fontWeight: \"bold\",\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n    },\n    primaryButton: {\n        borderRadius: 0,\n        minWidth: theme.spacing(7),\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        height: theme.spacing(5),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontWeight: \"bold\"\n    },\n    primaryToggle: {\n        borderRadius: 0,\n        width: theme.spacing(5),\n        height: theme.spacing(5),\n    },\n    iconButton: {\n        fontSize: \"inherit\",\n        minWidth: theme.spacing(5),\n        minHeight: theme.spacing(5),\n        border: \"1px solid\",\n        borderColor: \"rgba(0,0,0,.25)\",\n\n        [theme.breakpoints.down('xs')]: {\n            border: \"none\",\n        },\n\n    },\n    icon: {\n        fontSize: \"18px\",\n    }\n}));\n\nconst PrimaryButton = ({disabled, label, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <Button variant=\"contained\" color=\"primary\" className={classes.primaryButton} disabled={disabled} onClick={onClick}>\n            { label }\n        </Button>\n    )\n}\n\nconst PrimaryComboButton = ({forwardedRef, disabled, expanded, controls, label, onClick, onToggle}) => {\n    const classes = useStyles()\n\n    return (\n        <ButtonGroup aria-label=\"action\" color=\"primary\" ref={forwardedRef}>\n            <Button variant=\"contained\" className={classes.primaryButton} disabled={disabled} onClick={onClick}> \n                {label}\n            </Button>\n            <Button variant=\"contained\" className={classes.primaryToggle}\n                size=\"small\"\n                aria-controls={expanded ? controls : undefined}\n                aria-expanded={expanded ? 'true' : undefined}\n                aria-label=\"options\"    \n                aria-haspopup=\"menu\"\n                onClick={onToggle}>\n                <DropDownIcon />\n            </Button>\n        </ButtonGroup>\n    )\n}\n\nconst PrimaryIconButton = ({onClick, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <ButtonBase className={classes.iconButton} onClick={onClick}>\n            {children}\n        </ButtonBase>\n    )\n\n}\n\nconst EditorAction = ({className, primaryAction}) => {\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null);\n    const classes = useStyles()\n\n    if (!primaryAction) {\n        return false\n    }\n   \n    const handleToggle = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const handleSelect = ({onClick}) => {\n        onClick && onClick()\n        setExpanded(false);\n    }\n\n//    const primaryAction = action && action[0]\n\n    if (primaryAction && primaryAction.type === \"view\") {\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryIconButton {...primaryAction}>\n                    <ViewIcon className={classes.icon} />\n                </PrimaryIconButton>\n            </nav>\n        )\n    } else if (primaryAction && primaryAction.type === \"edit\") {\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryIconButton {...primaryAction}>\n                    <EditIcon className={classes.icon} />\n                </PrimaryIconButton>\n            </nav>\n        )\n    }\n\n    // NavAction\n\n    if (primaryAction) {\n        return (\n            <NavAction className={className || classes.root} menu={[primaryAction]} placement=\"bottom-end\" />\n        )\n    }\n\n    /*\n\n    if (primaryAction && primaryAction.children) {\n\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryComboButton {...primaryAction} expanded={expanded} forwardedRef={anchorRef} onToggle={handleToggle} />\n                <Popper open={expanded} style={{zIndex: 2000}}\n                        role={undefined} transition anchorEl={anchorRef.current} placement=\"bottom-start\">\n                        <ClickAwayListener onClickAway={handleToggle}>\n                            <div>\n                            <Paper elevation={1} square={true} aria-expanded={expanded}>\n                                <MenuList>\n                                    {primaryAction.children.map((item, index) => (\n                                        <MenuItem {...item} key={index} onClick={() => handleSelect(item)}>\n                                            { item.label || item.title }\n                                        </MenuItem>\n                                    ))}\n                                </MenuList>\n                            </Paper>\n                            </div>\n                        </ClickAwayListener>\n                </Popper>\n            </nav>\n        )\n        \n    }\n\n    if (primaryAction) {\n        return (\n            <nav className={className || classes.root}>\n                <PrimaryButton {...primaryAction} />\n            </nav>\n        )\n    }\n\n    */\n\n}\n\nexport default EditorAction;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ToggleIcon from '@material-ui/icons/MoreHoriz';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        transition: \".125s ease-in-out\",\n        transform: \"rotate(0deg)\",\n\n        \"&[aria-expanded=true]\": {\n            transition: \".125s ease-in-out\",\n            transform: \"rotate(90deg)\"\n        }\n\n    }\n}));\n\nconst EditorToggle = ({expanded, onClick}) => {\n    const classes = useStyles();\n  \n    return (\n        <IconButton className={classes.root} color=\"inherit\" aria-label=\"toggle\" aria-expanded={expanded} onClick={onClick}>\n            <ToggleIcon />\n        </IconButton>\n    );\n\n}\n\nexport default EditorToggle;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EditorPath from \"./EditorPath\"\nimport EditorLocale from \"./EditorLocale\"\nimport EditorStatus from \"./EditorStatus\"\nimport EditorAction from \"./EditorAction\"\nimport EditorToggle from \"./EditorToogle\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        flexWrap: \"nowrap\",\n        maxWidth: \"100%\",\n        width: \"100%\",\n        minHeight: theme.spacing(8),\n\n        \"& + *\": {\n            marginTop: theme.spacing(8)\n        }\n\n    },\n    leading: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"nowrap\",\n        maxWidth: \"100%\",\n    },\n    path: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        flexWrap: \"nowrap\",\n    },\n    locale: {\n        marginLeft: theme.spacing(1)\n    },\n    trailing: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down('xs')]: {\n            display: \"none\",\n        },\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1.5)\n        }\n\n    },\n    status: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    action: {\n        fontSize: \"14px\",\n    }\n}));\n\nconst EditorHeader = ({collapsible, expanded, onToggle, onSelect, className, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <header className={className || classes.root}>\n            <div className={classes.leading}>\n                <EditorPath {...props} className={classes.path} onSelect={onSelect} />\n                <EditorLocale {...props} className={classes.locale} />\n                { collapsible && <EditorToggle expanded={expanded} onClick={onToggle} /> }\n            </div>\n            <div className={classes.trailing}>\n                <EditorStatus {...props} className={classes.status} />\n                <EditorAction {...props} className={classes.action} />\n            </div>\n        </header>\n    )\n\n}\n\nEditorHeader.defaultProps = {\n    untitled: \"Untitled\"\n}\n\nEditorHeader.propTypes = {\n    status: PropTypes.string,\n    statusLabel: PropTypes.string,\n    statusDate: PropTypes.string,\n    statusCode: PropTypes.string,\n    statusMessage: PropTypes.string,\n    untitled: PropTypes.string,\n    title: PropTypes.string,\n    parents: PropTypes.array,\n    languages: PropTypes.array,\n    currentLocale: PropTypes.string,\n    onLocale: PropTypes.func,\n    primaryAction: PropTypes.object,\n\n} \n\nexport default EditorHeader;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport EditorStatus from \"./EditorStatus\"\nimport EditorAction from \"./EditorAction\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 3,\n\n        top: \"auto\",\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n//        backgroundColor: theme.palette.primary.main,\n//        color: theme.palette.primary.contrastText,\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        height: theme.spacing(7),\n        fontSize: \"16px\",\n\n        [theme.breakpoints.up('sm')]: {\n            display: \"none\",\n        }\n    },\n    status: {\n        display: \"flex\",\n        alignItems: \"center\",\n        height: theme.spacing(5),\n        minWidth: theme.spacing(14),\n        justifyContent: \"center\",\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        paddingRight: theme.spacing(3),\n        paddingLeft: theme.spacing(3),\n        fontSize: \"14px\",\n        opacity: 0.5\n    },\n    action: {\n        borderLeft: \"1px solid\",\n        borderColor: \"rgba(255,255,255,0.25)\",\n\n        \"& > *\": {\n            height: theme.spacing(7),\n        },\n\n        \"& button\": {\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            height: theme.spacing(7),\n            minWidth: theme.spacing(7),\n        }\n\n    }\n}));\n\nconst EditorFooter = ({className, id, elevation = 6, ...props}) => {\n    const classes = useStyles()\n\n    return (\n        <AppBar component=\"footer\" elevation={elevation} square={true} className={className || classes.root}>\n            <Toolbar>\n                <EditorStatus {...props} className={classes.status} />\n                <EditorAction {...props} className={classes.action} />\n            </Toolbar>\n        </AppBar>\n    )\n\n}\n\nexport default EditorFooter;","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst EditorBody = ({className, elevation = 1, expanded = true, children}) => {\n\n    const classes = useStyles()\n\n    if (!elevation) {\n        return (\n            <section className={className || classes.root} aria-expanded={expanded}>\n                {children}\n            </section>\n        )\n    }\n\n    return (\n        <Paper elevation={elevation} square={true} className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </Paper>\n    )\n\n}\n\nexport default EditorBody;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        transition: \".125s ease-out\",\n        overflowY: \"scroll\",\n    }\n}));\n\nconst EditorContent = ({className, expanded = false, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </div>\n    )\n\n}\n\nexport default EditorContent;","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst EditorSection = ({className, elevation = 1, expanded = false, children}) => {\n\n    const classes = useStyles()\n\n    if (!elevation) {\n        return (\n            <div className={className || classes.root} aria-expanded={expanded}>\n                {children}\n            </div>\n        )\n    }\n\n    return (\n        <Paper elevation={elevation} square={true} className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </Paper>\n    )\n\n}\n\nexport default EditorSection;","import React, { Component } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    sidebar: {\n        position: \"absolute\",\n        backgroundColor: \"#eee\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"50%\",\n        marginLeft: \"-50%\",\n        overflow: \"hidden\",\n        transition: \".25s ease-out\",\n        \"& + *\": {\n            transition: \".25s ease-out\",\n        },\n        \"&[aria-expanded=true]\": {\n            marginLeft: 0,\n            \"& + *\": {\n                marginLeft: \"50%\",\n                marginRight: \"-50%\",\n            }\n        }\n    }\n}));\n\nconst EditorSidebar = ({className, expanded, children}) => {\n    const classes = useStyles()\n\n    return (\n        <aside className={className || classes.sidebar} aria-expanded={expanded}>\n            {children}\n        </aside>\n    )\n    \n}\n\n\nexport default EditorSidebar;","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        backgroundColor: \"#333\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: \"50%\",\n        overflow: \"hidden\",\n\n        \"& + *\": {\n            marginRight: \"50%\"\n        }\n\n    }\n}));\n\nconst EditorPreview = ({className, expanded, children}) => {\n    const classes = useStyles()\n\n    return (\n        <aside className={className || classes.root} aria-expanded={expanded}>\n            {children}\n        </aside>\n    )\n    \n}\n\n\nexport default EditorPreview;","import React from 'react'\nimport Paper from \"@material-ui/core/Paper\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: props => { return props.position },\n        zIndex: 2000,\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        transition: \".25s ease-out\",\n\n        opacity: 0,\n        pointerEvents: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            pointerEvents: \"all\",\n            opacity: 1            \n        }\n\n    },\n    content: {\n        position: props => { return props.position },\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: theme.palette.background.paper,\n        margin: theme.spacing(2)\n    }\n}));\n\nconst EditorOverlay = ({className, position = \"absolute\", elevation = 12, expanded, children}) => {\n    const classes = useStyles({position})\n\n    return (\n        <aside className={classes.overlay} aria-expanded={expanded}>\n            <Paper className={className || classes.content} elevation={elevation} square={true}>\n                { children }\n            </Paper>\n        </aside>\n    )\n}\n\nEditorOverlay.defaultProps = {\n    position: \"absolute\",\n    expanded: false\n}\n\nexport default EditorOverlay;","import React, { useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\"\nimport EditorBase from \"./EditorBase\"\nimport EditorHeader from \"./EditorHeader\"\nimport EditorBody from \"./EditorBody\"\nimport EditorContent from \"./EditorContent\"\nimport EditorSidebar from \"./EditorSidebar\"\nimport EditorPreview from \"./EditorPreview\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    app: {\n        position: \"absolute\",\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        left: 0,\n        bottom: 0,\n        overflow: \"hidden\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    header: {\n        position: \"relative\",\n        height: theme.spacing(8),\n        overflow: \"hidden\",\n        marginTop: theme.spacing(-8),\n        transition: \".125s ease-out\",\n        \"&[aria-expanded=true]\":  {\n            marginTop: 0            \n        },\n    }\n}));\n\n/** AppLayout is a wrapper for all apps using AppHeader */\n\nconst EditorLayout = ({app = {}, theme = {}, header = {}, sidebar = {}, search = undefined, subview = undefined, menu, menuByUrl = {}, preview, children}) => {\n\n    if (!theme && app.theme) {\n        theme = app.theme\n    }\n\n    header = {\n        title: app && app.title,\n        subtitle: app && app.subtitle,\n        ...header,\n        subview: subview,\n        menu: menu,\n        search: search\n    }\n\n    sidebar = {\n        ...sidebar,\n        primaryAction: app.primaryAction,\n        menu: app.menu,\n        menuByUrl: menuByUrl\n    }\n\n    const classes = useStyles({header})\n\n    return (\n        <EditorBase>\n            <EditorHeader />\n            <EditorBody>\n                <EditorSidebar {...sidebar}>\n                </EditorSidebar>\n                <EditorContent>\n                    {children}\n                </EditorContent>\n                { preview && <EditorPreview>\n                    { preview && preview.children }\n                </EditorPreview> }\n            </EditorBody>\n        </EditorBase>\n    )\n\n}\n\nEditorLayout.defaultProps = {\n    app: {\n\n    },\n    header: {\n        expanded: true\n    },\n}\n\nEditorLayout.propTypes = {\n    /** App properties */\n    app: PropTypes.shape({\n        uniqueId: PropTypes.string,\n        title: PropTypes.string\n    }),\n    /** Header properties */\n    header: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Search properties */\n    search: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n    /** Subview properties */\n    subview: PropTypes.shape({\n        expanded: PropTypes.bool\n    }),\n}\n\nexport default EditorLayout;","import React from 'react'\nimport { EditorBase, EditorHeader, EditorBody, EditorFooter, EditorOverlay } from \"../Editor\"\n\nconst PageEditor = ({collapsible, expanded, overlay, onToggle, onSelect, children, ...props}) => {\n\n    const renderOverlay = () => {\n        const OverlayTemplate = overlay && overlay.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={overlay && overlay.expanded}>\n                { OverlayTemplate && <OverlayTemplate {...overlay} /> }\n            </EditorOverlay>\n        )\n    }\n\n    return (\n        <EditorBase>\n            <EditorHeader {...props} collapsible={collapsible} expanded={expanded} onToggle={onToggle} onSelect={onSelect} />\n            <EditorBody elevation={1} expanded={expanded}>\n                {children}\n            </EditorBody>\n            <EditorFooter {...props} />\n            { overlay && renderOverlay() }\n        </EditorBase>\n    )\n}\n\nexport default PageEditor;","import React, { useState } from 'react'\n\nconst PageContentField = (props) => {\n    const { uiSchema, formContext, registry } = props\n    const { dialog, preview } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:dialog\": dialog,\n        \"ui:preview\": preview,\n        \"ui:layout\": \"pageContent\"\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageContentField;","import React from 'react';\nimport { NavMenuList, NavMenuItem, NavMenuLink } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    menu: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: \"auto\",\n        left: 0,\n        bottom: 0,\n        margin: 0,\n        width: props => { return props.menuWidth },\n        transition: \".125s ease-out\",\n\n        \"& + *\": {\n            position: \"absolute\",\n            zIndex: 1,\n            top: 0,\n            right: 0,\n            left: 0,\n            bottom: 0,\n            margin: 0,\n            overflowY: \"scroll\"\n        },\n\n        \"&[aria-expanded=true] + *\":  {\n            marginLeft: props => { return props.menuWidth },\n        }\n    },\n    menuList: {\n        margin: theme.spacing(2, 0),\n        \"& > li + li\": {\n            marginTop: theme.spacing(1)\n        }\n    }\n}));\n\nconst PageMenu = ({className, menuWidth = 224, menu = undefined}) => {\n    const classes = useStyles({menuWidth});\n\n    if (!menu) {\n        return false\n    }\n\n    return (\n        <aside className={className || classes.menu} aria-expanded={true}>\n            <NavMenuList className={classes.menuList}>\n                {menu.map((item, index) => {\n                    return (\n                        <NavMenuItem key={index}>\n                            <NavMenuLink {...item} />\n                        </NavMenuItem>\n                    )\n                })}\n            </NavMenuList>\n        </aside>\n    )\n\n}\n\nexport default PageMenu;","import React from 'react';\nimport { EditorSection, EditorContent, EditorPreview, EditorSidebar } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    content: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n\n        transition: \".125s ease-out\",\n        transform: \"translateY(100%)\",\n\n        \"&[aria-expanded=true]\": {\n            transform: \"translateY(0)\",\n        }\n    },\n    wrapper: {\n        backgroundColor: \"inherit\", \n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst PageContent = ({id, selected = true, sidebar, preview, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    const renderSidebar = () => {\n        const SidebarTemplate = sidebar && sidebar.template;\n\n        return (\n            <EditorSidebar expanded={sidebar && sidebar.expanded}>\n                { SidebarTemplate && <SidebarTemplate {...sidebar} /> }\n            </EditorSidebar>\n        )\n    }\n\n    const renderPreview = () => {\n        const PreviewTemplate = preview && preview.template;\n        return (\n            <EditorPreview expanded={true}>\n                { PreviewTemplate && <PreviewTemplate {...preview} /> }\n            </EditorPreview>\n        )\n    }  \n\n    return (\n        <EditorSection id={id} expanded={selected} className={classes.content}>\n            { sidebar && renderSidebar() }\n            <EditorSection elevation={0} className={classes.wrapper}>\n                { preview && renderPreview() }\n                <EditorContent elevation={0}>\n                    { menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n                    {children}\n                </EditorContent>\n            </EditorSection>\n        </EditorSection>\n    )\n\n}\n\nexport default PageContent;","import React, { useState } from 'react'\n\nconst PageSettingsField = (props) => {\n    const { uiSchema, formData, formContext, registry } = props\n    const { dialog } = formContext;\n\n    const newUiSchema = {\n        ...uiSchema,\n        \"ui:layout\": \"pageSettings\",\n        \"ui:field\": undefined\n    }\n\n    const { ObjectField } = registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={newUiSchema} />\n    )\n\n}\n\nexport default PageSettingsField;","import React from 'react';\n\nimport { EditorSection, EditorContent, EditorOverlay } from \"@kit-ui/admin\"\n\nimport PageMenu from \"./PageMenu\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    settings: {\n        backgroundColor: theme.palette.background.default,\n        zIndex: 1,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n\n        \"&[aria-expanded=true]\": {\n            top: 0\n        }\n\n    },\n}));\n\nconst PageSettings = ({id, expanded = true, menuWidth, menu = undefined, children}) => {\n    const classes = useStyles();\n\n    /*\n\n    const renderDialog = () => {\n        const DialogTemplate = dialog && dialog.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={dialog && dialog.expanded}>\n                { DialogTemplate && <DialogTemplate {...dialog} /> }\n            </EditorOverlay>\n        )\n    }\n\n    */\n\n    return (\n        <EditorSection id={id} elevation={0} className={classes.settings} aria-expanded={expanded}>\n            {menu && <PageMenu menuWidth={menuWidth} menu={menu} /> }\n            <EditorContent expanded={true}>\n                {children}\n            </EditorContent>\n        </EditorSection>\n    )\n\n}\n\nexport default PageSettings;","import PageEditorField from \"./PageEditorField\"\nimport PageEditor from \"./PageEditorLayout\"\nimport PageContentField from \"./PageContentField\"\nimport PageContent from \"./PageContentLayout\"\nimport PageSettingsField from \"./PageSettingsField\"\nimport PageSettings from \"./PageSettingsLayout\"\n\nexport default {\n    fields: {\n        \"pageEditor\": PageEditorField,\n        \"pageEditorLayout\": PageEditor,\n        \"pageContent\": PageContentField,\n        \"pageContentLayout\": PageContent,\n        \"pageSettings\": PageSettingsField,\n        \"pageSettingsLayout\": PageSettings\n    }\n\n}","import schema from \"./ThemeEditor.schema\"\nimport uiSchema from \"./ThemeEditor.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","import schema from \"./ThemePalette.schema\"\n\nexport default {\n    schema: schema\n}","import React, { useState, useEffect } from 'react';\nimport createPalette from '@material-ui/core/styles/createPalette';\n\nconst CollectionThemePaletteField = (props) => {\n\n    const { onChange } = props\n\n    const { ObjectField } = props.registry.fields\n\n    const _onChange = (formData) => {\n\n        if (formData.primary.main) {\n//            formData = createPalette({primary: {main: formData.primary.main}})\n        }\n\n        onChange && onChange(formData)\n\n    }\n\n    return (\n        <div>\n            <ObjectField {...props} onChange={_onChange} />\n        </div>\n    )\n    \n}\n\nexport default CollectionThemePaletteField;\n","import React, { useState, useEffect } from 'react';\nimport createPalette from '@material-ui/core/styles/createPalette';\nimport tinycolor from 'tinycolor2';\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiOptions } = utils\n\nconst CollectionThemePaletteColorField = (props) => {\n    const { formData, onChange } = props\n\n    const { ObjectField } = props.registry.fields\n\n    const _getColor = ({main, light, dark, ...color}) => {\n\n        return {\n            ...color,\n            main: \"#\" + tinycolor(main).toHex(),\n            light: \"#\" + tinycolor(light).toHex(),\n            dark: \"#\" + tinycolor(dark).toHex(),\n        }\n\n    }\n\n    const _onChange = ({main, light, dark}) => {\n\n        let palette, color\n\n        if (main && main !== formData.main) {\n            palette = createPalette({primary: { main: main }})\n        }\n\n        if (palette && palette.primary) {\n            onChange && onChange(_getColor(palette.primary))\n        }\n\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n\n\n    const uiSchema = {\n        ...props.uiSchema,\n        main: {\n            ...props.uiSchema.main,\n            \"ui:title\": uiOptions.title.charAt(0) + \" – main\"\n        },\n        light: {\n            ...props.uiSchema.light,\n            \"ui:title\": uiOptions.title.charAt(0) + \" – light\"\n        },\n        dark: {\n            ...props.uiSchema.dark,\n            \"ui:title\": uiOptions.title.charAt(0) + \" – dark\"\n        }\n    }\n\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} onChange={_onChange} />\n    )\n\n\n}\n\nexport default CollectionThemePaletteColorField;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\"\nimport tinycolor from 'tinycolor2';\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\" \n\nconst useStyles = makeStyles(theme => ({\n    swatch: {\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return theme.palette.getContrastText(props.backgroundColor) },\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& input\": {\n            fontFamily: \"Akkurat mono, monospace\",\n            fontSize: props => { return props.size === \"large\" && 24 },\n            paddingBottom: props => { return props.size === \"large\" && 10 + 24 }\n        },\n\n        \"& *\": {\n            color: \"inherit\"\n        }\n\n    }\n}));\n\nconst CollectionThemeColorWidget = (props) => {\n\n    const {\n        onChange,\n        registry,\n        options\n    } = props\n\n    const [value, setValue] = useState(props.value)\n\n    const classes = useStyles({backgroundColor: props.value, size: options && options.size})\n\n    const _getColor = (color) => {\n        return \"#\" + tinycolor(color).toHex()\n    }\n\n    useEffect(() => {\n        setValue(props.value)\n    }, [props.value])\n\n    const _onChange = (value) => {\n\n        if (tinycolor(value).isValid()) {\n            onChange && onChange(_getColor(value))\n        }\n\n        setValue(value)\n\n    }\n\n    const { TextWidget } = registry.widgets\n\n    return (\n        <TextWidget {...props} className={classes.swatch} value={value} onChange={_onChange} />\n    )\n\n}\n\nCollectionThemeColorWidget.defaultProps = {\n    value: \"#666\"\n}\n\nCollectionThemeColorWidget.propTypes = {\n    value: PropTypes.string,\n    onChange: PropTypes.func\n}\n\nexport default CollectionThemeColorWidget;","import ThemeEditor from \"./ThemeEditor.model\"\n\nimport ThemePaletteModel from \"./ThemePalette.model\"\nimport ThemePaletteField from \"./ThemePaletteField\"\n\nimport ThemePaletteColorField from \"./ThemePaletteColorField\"\nimport ThemeColorWidget from \"./ThemeColorWidget\"\n\nexport default {\n    fields: {\n        \"themePalette\": ThemePaletteField,\n        \"themePaletteColor\": ThemePaletteColorField,\n    },\n    widgets: {\n        \"themeColor\": ThemeColorWidget\n    },\n    models: {\n        \"themeEditor\": ThemeEditor,\n        \"themePalette\": ThemePaletteModel\n    }\n\n}","import React, { forwardRef, useState, useEffect, useRef } from 'react';\nimport PropTypes from \"prop-types\"\nimport { Dropdown } from \"@kit-ui/core\"\n\nimport Typography from \"@material-ui/core/Typography\"\n\nimport IconButton from \"@material-ui/core/IconButton\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst useStyles = makeStyles(theme => ({\n    overlay: {\n        position: \"fixed\",\n        backgroundColor: \"rgba(0,0,0,.25)\",\n        zIndex: 3000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    header: {\n        height: theme.spacing(6),\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        padding: theme.spacing(2)\n    },\n    editor: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: theme.spacing(4)\n    },\n    closeButton: {\n    },\n    icon: {\n        width: 20,\n        height: 20,\n//        borderRadius: \"50%\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n//        boxShadow: theme.shadows[1]\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 11,\n        textTransform: \"uppercase\",\n        fontWeight: \"bold\",\n        lineHeight: '1',\n        textAlign: \"center\",\n    }    \n}));\n\nconst LocalizedStringSettings = (props) => {\n\n    const { name, schema, formContext } = props;\n\n    const languages = formContext.languages || [\"en\"];\n    const defaultLocale = formContext.defaultLocale || languages[0]\n    const currentLocale = formContext.currentLocale || defaultLocale\n\n    const [expanded, setExpanded] = useState(false);\n    const anchorRef = useRef(null)\n\n    const _onExpand = (event) => {\n        setExpanded(prevExpanded => !prevExpanded);\n    }\n\n    const _onCollapse = (event) => {\n        setExpanded(false);\n    };\n\n    const classes = useStyles()\n\n    const { ObjectField } = props.registry.fields\n\n    const uiSchema = {\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        }\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n    const title = uiOptions.title || name\n\n    const Overlay = ({expanded, children}) => {\n\n        if (!expanded) {\n            return false\n        }\n\n        return (\n            <div className={classes.overlay}>\n\n                <div className={classes.editor}>\n\n                    <header className={classes.header}>\n                        <Typography>{title}</Typography>\n                        <IconButton className={classes.closeButton} onClick={() => _onCollapse()}>\n                            <CloseIcon></CloseIcon>\n                        </IconButton>\n                    </header>\n\n                    {children}\n                </div>\n\n            </div>\n        )\n\n    }\n\n    return (\n        <IconButton>\n            <div className={classes.icon}>\n                <div className={classes.label}>{currentLocale}</div>\n            </div>\n        </IconButton>\n    )\n\n    return (\n        <React.Fragment>\n            <IconButton onClick={_onExpand} ref={anchorRef}>\n                <div className={classes.icon}>\n                    <div className={classes.label}>{currentLocale}</div>\n                </div>\n            </IconButton>\n            <Overlay expanded={expanded} anchorEl={anchorRef.current} onClickAway={_onCollapse}>\n                <ObjectField {...props} uiSchema={uiSchema} />\n            </Overlay>\n        </React.Fragment>\n    )\n\n}\n\nLocalizedStringSettings.defaultProps = {\n}\n\nLocalizedStringSettings.propTypes = {\n}\n\nexport default LocalizedStringSettings;","import React from 'react';\nimport LocalizedStringSettings from \"./LocalizedStringSettings\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\n/** Localized string  */\n\nconst LocalizedStringField = (props) => {\n    const { schema, uiSchema, formContext } = props;\n    const uiOptions = getUiOptions(uiSchema)\n\n    const languages = formContext.languages || [\"en\"];\n    const defaultLocale = formContext.defaultLocale || languages[0]\n    const currentLocale = formContext.currentLocale || defaultLocale\n\n    const getUiSchema = () => {\n\n        let localizedUiSchema = {\n            \"ui:fieldset\": [\n                \"locale:\"+currentLocale\n            ]\n        }\n    \n        Object.keys(schema.properties).map(name => {\n            const localeProps = name.split(':')\n            const locale = localeProps[1]\n\n            const title = uiOptions.title && uiOptions.title + \":\" + locale;\n            const help = uiOptions.help;\n\n            const endAdornment = <LocalizedStringSettings {...props} />\n\n            localizedUiSchema[name] = {\n                ...uiSchema,\n                \"ui:field\": undefined,\n                \"ui:options\": {\n                    \"endAdornment\": endAdornment,\n                    \"widget\": uiOptions.widget || \"text\",\n                    \"title\": title, \n                    \"language\": locale,\n                    \"help\": help,\n                },\n            }\n        \n        })\n    \n        return {\n            ...localizedUiSchema,\n            \"ui:collapsible\": true,\n            \"ui:expanded\": false\n        }\n        \n    }\n\n    const { SchemaFieldset } = props.registry.fields;\n\n    const newUiSchema = getUiSchema()\n    const newUiOptions = getUiOptions(newUiSchema)\n\n    return (\n        <SchemaFieldset  {...props} uiSchema={newUiSchema} fieldset={newUiOptions.fieldset} />\n    )\n\n}\n\nexport default LocalizedStringField;","import LocalizedStringField from \"./LocalizedStringField\"\n\nexport default {\n    \"fields\": {\n        \"localizedString\": LocalizedStringField\n    },\n    \"layouts\": {\n    },\n    \"widgets\": {\n    }\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst useStyles = makeStyles(theme => ({\n    fieldset: {\n        padding: props => { return theme.spacing(props.padding) },\n    },\n    nav: {\n        \"& > [aria-hidden=true]\": {\n            display: props => { return !props.hasFormat && \"none\"},\n            opacity: 0,\n            pointerEvents: \"none\",\n        }\n    },\n    flex: {\n        display: \"flex\",\n        flexDirection: props => { return !props.inline && \"column\" }, \n        alignItems: props => { return props.inline && \"center\" },\n        margin: props => { return theme.spacing(props.spacing * -1/2) },\n\n        \"& > *\": {\n            margin: props => { return theme.spacing(props.spacing * 1/2) }   \n        }\n\n    },\n}));\n    \nconst CustomObjectFieldTemplate = (props) => {\n    const uiOptions = getUiOptions(props.uiSchema)\n\n    const { layout, nav, grid, inline = false, spacing = 0, padding = 0, direction, justify, alignItems, format, minHeight } = uiOptions\n\n    const hasFormat = format || minHeight || false\n\n    const classes = useStyles({inline, padding, spacing, direction, justify, alignItems, hasFormat})\n\n    // nav\n\n    if (nav) {\n        return (\n            <div className={classes.nav} role=\"tablist\">\n                {props.properties.map((field, index) => {\n                    const fieldUiSchema = field.uiSchema || props.uiSchema[field.name] || {}\n                    const fieldUiOptions = getUiOptions(fieldUiSchema) || {}\n\n                    return (\n                        <div role=\"tab\" data-name={field.name} aria-hidden={!fieldUiOptions.selected} key={index}>\n                            { field.content }\n                        </div>\n                    )\n\n                })}\n            </div>\n        )\n    }\n\n    // grid\n\n    if (grid) {\n        return (\n            <div className={classes.fieldset}>\n                <Grid className={classes.grid}\n                        container\n                        spacing={spacing}\n                        direction={direction || \"row\"}\n                        justify={justify || \"flex-start\"}\n                        alignItems={alignItems || \"flex-start\"}\n                    >\n                    {props.properties.map((field, index) => {\n                        const fieldUiSchema = field.uiSchema || props.uiSchema[field.name] || {}\n                        const fieldUiOptions = getUiOptions(fieldUiSchema) || {}\n\n                        const { xs, sm, md, lg, xl } = fieldUiOptions\n\n                        return (\n                            <Grid data-name={field.name} item key={index} xs={xs} sm={sm} md={md} lg={lg} xl={xl} key={index}>\n                                { field.content }\n                            </Grid>\n                        )\n                    })}\n                </Grid>\n            </div>\n        )\n    }\n\n    // flex\n\n    const flex = inline && true || spacing && true\n\n    if (!layout) {\n        return (\n            <div className={classes.fieldset}>\n                <div className={classes.flex}>\n                    { props.properties.map((field, index) => {\n                        return (\n                            <div className={classes.flexItem} data-name={field.name} key={index}>\n                                { field.content }\n                            </div>\n                        )\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    return props.properties.map((field, index) => {\n        return field.content\n    })\n\n}\n\nexport default CustomObjectFieldTemplate","export const getMeasureFromString = (value) => {\n    const typings = value && value.split(\":\")\n\n    let measureType, measureValue = value\n\n    if (typings.length > 1) {\n        measureType = typings[0]\n        measureValue = typings[1]\n    }\n\n    const numberValue = measureValue.replace(/,/g, '.')\n    const split = numberValue && numberValue.split(\"x\") || []\n\n    const width = split && split[0] && parseFloat(split[0])\n    const height = split && split[1] && parseFloat(split[1])\n    const depth = split && split[2] && parseFloat(split[2])\n\n    const unitValue = split && split.length && split[split.length-1]\n\n    const unit = width && unitValue && unitValue.replace(/[0-9,.]/g, '')\n\n    let size = []\n\n    width && size.push(width)\n    height && size.push(height)\n    depth && size.push(depth)\n\n    size = size.join('×')\n\n    if (unit) {\n        size = size + unit\n    }\n    \n    return {\n        measureType: measureType,\n        width: width,\n        height: height,\n        depth: depth,\n        unit: unit,\n        size: size,\n        value: value\n    }\n\n}","const API = \"https://kompass.dimu.org\"\n\nconst _getUploadUrl = ({file, uploadData, onAdd, onProgress}) => {\n    const { name, type, size } = file\n\n    uploadData = {\n        ...uploadData,\n        title: uploadData.title || name,\n        filename: name,\n        mimeType: type,\n        mediaSize: size,\n        content: {\n            ...uploadData.content,\n            title: name,\n            filename: name\n        }\n    }\n\n    // where to upload?\n\n    let apiUrl = API + '/admin/api/media/upload';\n\n    if (type.startsWith('image/')) {\n        apiUrl = apiUrl + '/image'\n    } else if (type.startsWith('video/')) {\n        apiUrl = apiUrl + '/video'\n    } else if (type.startsWith('audio/')) {\n        apiUrl = apiUrl + '/audio'\n    } else {\n        apiUrl = apiUrl + '/misc'\n    }\n\n    console.log('apiUrl', apiUrl);\n\n    const payload = JSON.stringify(uploadData);\n\n    fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: payload\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(model => _getUploadData({file, model, onAdd, onProgress}))          \n\n}\n\nconst _getUploadData = ({file, model, onAdd, onProgress}) => {\n    const { uniqueId, uploadUrl } = model;\n\n    onAdd && onAdd(model)\n\n    const _onProgress = (event) => {\n        let uploadProgress;\n\n        if (event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n\n        onProgress && onProgress({\n            uniqueId,\n            uploadProgress\n        })\n\n    }\n\n    // do the upload\n\n    let payload = new FormData();\n    payload.append('file', file);\n\n    var xhr = new XMLHttpRequest();\n        xhr.upload.addEventListener(\"progress\", (event) => _onProgress(event), false);\n        xhr.open(\"POST\", uploadUrl);\n        xhr.send(payload);\n\n}\n\nconst getArrayUpload = ({acceptedFiles = [], uploadData = {}, onAdd}) => {\n\n    acceptedFiles && acceptedFiles.map((file, index) => {\n        _getUploadUrl({file, uploadData, onAdd})\n    })\n\n}\n\nconst getUpload = ({file, uploadData = {}, onAdd, onProgress}) => {\n    _getUploadUrl({file, uploadData, onAdd, onProgress})\n}\n\n\nexport {\n    getUpload,\n    getArrayUpload\n}","import { \n    getUpload, \n    generateKeyedFormData, \n    keyedToPlainFormData\n } from \"./\"\n\nexport const getUploadProps = ({formData, formContext, onChange}) => {\n\n    const { id, collectionId } = formContext;\n\n    let media = []\n\n    formData.content.images && formData.content.images.map(item => {\n        media.push(item)\n    })\n\n    let keyedMedia = generateKeyedFormData(media || [])\n\n//    let keyedMedia = generateKeyedFormData(formData.content.media || [])\n\n    const _onUploadChange = (media = []) => {\n\n        const images = media.filter(item => item.media.mediaType === \"image\") || []\n        const attachments = media.filter(item => item.media.mediaType !== \"image\") || []\n\n        onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                media: media,\n                attachments: attachments,\n                images: images\n            }\n        })\n    }\n\n    const _onUploadAdd = ({uniqueId, ...media}) => {\n\n        const newKeyedMediaRow = {\n            key: uniqueId,\n            item: {\n                mediaId: uniqueId,\n                media: {\n                    ...media,\n                    uniqueId: uniqueId,\n                    uploadProgress: 0\n                }\n            },\n        };\n\n        keyedMedia = [...keyedMedia, newKeyedMediaRow];\n        _onUploadChange(keyedToPlainFormData(keyedMedia))\n    }\n\n    const _onUploadProgress = ({uniqueId, uploadProgress}) => {\n\n        const media = keyedMedia[uniqueId]\n\n        keyedMedia[uniqueId] = {\n            ...keyedMedia[uniqueId],\n            media: {\n                ...media,\n                uploadProgress: uploadProgress\n            }\n        }\n\n        console.log('uploadProgress', uploadProgress)\n\n        _onUploadChange(keyedToPlainFormData(keyedMedia))\n\n    }\n\n    const _onUpload = (acceptedFiles) => {\n\n        console.log('upload', acceptedFiles)\n\n        const uploadData = {\n            parentId: id,\n            collectionId: collectionId,\n            status: \"upload\"\n        }\n\n        acceptedFiles && acceptedFiles.map((file, index) => {\n            getUpload({file, uploadData, onAdd: _onUploadAdd, onProgress: _onUploadProgress})\n        })\n    \n    }        \n\n    return {\n        _onUpload: _onUpload\n    }\n\n\n\n}","import { \n    generateRowId, \n    generateKeyedFormData, \n    keyedToPlainFormData\n } from \".\"\n\nexport const getEventsProps = ({formData, formContext, onChange}) => {\n\n    const { onCurrentId } = formContext\n\n    let keyedEvents = generateKeyedFormData(formData.content.events || [])\n\n    const _onEventsChange = (events = []) => {\n\n        onChange({\n            ...formData,\n            content: {\n                ...formData.content,\n                events: events,\n            }\n        })\n\n\n    }\n\n    const _onEventAdd = (item) => {\n\n        console.log('add event', item)\n\n        const newIndex = keyedEvents.length\n\n        const neyKeyedRow = {\n            key: generateRowId(),\n            item: {\n            },\n        };\n\n        keyedEvents = [...keyedEvents, neyKeyedRow];\n        _onEventsChange(keyedToPlainFormData(keyedEvents))\n\n\n    }\n\n    return {\n        _onEventAdd: (item) => _onEventAdd(item)\n    }\n\n\n}","import shortid from \"shortid\";\n\nexport const generateRowId = () => {\n    return shortid.generate()\n}\n\nexport const generateKeyedFormData = (formData) => {\n    return !Array.isArray(formData)\n      ? []\n      : formData.map(item => {\n          return {\n            key: generateRowId(),\n            item,\n          };\n        });\n}\n\nexport const keyedToPlainFormData = (keyedFormData) => {\n    return keyedFormData.map(keyedItem => keyedItem.item);\n}","import _ from \"lodash\";\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, retrieveSchema, getDefaultFormState, toIdSchema } = utils;\n\nexport const getUiFieldset = (props) => {\n    const { idSchema, idPrefix, schema, uiSchema, formData, formContext } = props\n    const { rootSchema } = props.registry\n\n    const currentId = formContext && formContext.currentId\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { fieldset } = uiOptions\n\n    if (!fieldset) {\n        return false\n    }\n \n    let uiFieldset = []\n\n    const getFieldByName = (name) => {\n\n        const fieldSchema = schema && schema.properties && schema.properties[name] && retrieveSchema(schema.properties[name], props.registry.definitions, formData && formData[name])\n        const fieldFormData = fieldSchema && formData && formData[name] && getDefaultFormState(fieldSchema, formData && formData[name])\n        const fieldUiSchema = uiSchema && uiSchema[name] || {}\n        const fieldUiOptions = fieldUiSchema && getUiOptions(fieldUiSchema)\n\n        const fieldIdPrefix = idSchema.$id + \"_\" + name;\n        const fieldSelected = currentId && currentId.startsWith(fieldIdPrefix)\n\n        if (fieldSchema) {\n\n            const fieldIdSchema = toIdSchema(\n                fieldSchema,\n                fieldIdPrefix,\n                rootSchema,\n                fieldFormData,\n                idPrefix\n            );\n    \n            return {\n                ...props,\n                idPrefix: fieldIdPrefix,\n                idSchema: fieldIdSchema,\n                name: name,\n                schema: fieldSchema,\n                uiSchema: {\n                    ...fieldUiSchema,\n                    \"ui:selected\": fieldSelected\n                },\n                uiOptions: fieldUiOptions,\n                formData: fieldFormData,\n                onChange: (value) => props.onChange({...formData, [name]: value})\n            }\n        }\n\n        if (fieldUiSchema && fieldUiOptions.fieldset) {\n\n            const fieldIdSchema = toIdSchema(\n                schema,\n                fieldIdPrefix,\n                rootSchema,\n                formData,\n                idPrefix\n            );\n            \n            return {\n                ...props,\n                idPrefix: fieldIdPrefix,\n                idSchema: fieldIdSchema,\n                name: name,\n                schema: schema,\n                uiSchema: {\n                    ...fieldUiSchema,\n                    \"ui:selected\": fieldSelected\n                },\n                uiOptions: fieldUiOptions,\n                formData: formData\n            }\n        }\n\n    }\n\n    let selected\n\n    fieldset.map((name, index) => {\n        const field = getFieldByName(name)\n\n        if (field) {\n            uiFieldset.push(field)\n\n            if (field.uiSchema[\"ui:selected\"]) {\n                selected = true\n            }\n    \n        }\n\n    })\n\n    if (uiFieldset[0] && !selected) {\n        uiFieldset[0].uiSchema = {\n            ...uiFieldset[0].uiSchema,\n            \"ui:selected\": true\n        }\n    }\n\n\n    return uiFieldset\n    \n}\n\nexport default getUiFieldset","import _ from 'lodash';\nimport { getUiFieldset } from \"./\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nexport const getUiMenu = (props) => {\n    const { uiSchema, formContext } = props;\n    const uiOptions = getUiOptions(uiSchema || {})\n\n    const onExpand = formContext && formContext.onExpand\n\n    const uiFieldset = getUiFieldset(props)\n\n    let uiMenu = []\n\n    if (uiFieldset) {\n\n        uiMenu = uiFieldset.map(field => {\n\n            const { name, idPrefix, uiSchema } = field\n\n            const uiOptions = getUiOptions(uiSchema)\n\n            return {\n                id: idPrefix,\n                name: name,\n                icon: uiOptions['icon'] || undefined,\n                label: uiOptions['title'] || name,\n                selected: uiOptions.selected,\n                onClick: () => onExpand({id: idPrefix})\n            }\n\n\n        })\n\n    }\n\n    if (!uiMenu.length) {\n        return false\n    }\n\n    return uiMenu\n    \n}\n\nexport default getUiMenu","import React, { useState, useRef, createRef } from 'react'\nimport { useTranslation } from 'react-i18next';\nimport Dropzone from 'react-dropzone'\n\nimport PrimusObjectFieldTemplate from \"./PrimusObjectFieldTemplate\"\n\nimport { \n    getUploadProps,\n    getEventsProps,\n    getEditorAction,\n } from \"./utils\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusEditorField = (props) => {\n    const { idSchema, schema, formData, formContext, onChange } = props;\n    const { imageUrl, uniqueId, status, statusCode, statusMessage, title, createdAt, updatedAt, deletedAt } = formData;\n    const { isEditing = true, isLoading, isSaving, currentId, currentLocale, onExpand, onCollapse, onSelect, onLocale, onSubmit } = formContext;\n\n    const { t, i18n } = useTranslation(['editor'])\n\n    const uiOptions = getUiOptions(props.uiSchema)\n\n    const { _onUpload } = getUploadProps(props)\n    const { _onEventAdd } = getEventsProps(props)\n\n    // dropzone\n\n    const dropzoneRef = useRef(null)\n\n    const _onUploadClick = () => {\n        dropzoneRef && dropzoneRef.current && dropzoneRef.current.open()\n    }\n\n    // primary + secondary actions\n\n    const primaryAction = formContext.primaryAction || getEditorAction({t, ...props})\n\n    // toggle fieldset\n\n    const { fieldset } = uiOptions\n\n    const idPrefix = idSchema && idSchema.$id\n    const primaryId = fieldset && fieldset[0] && idPrefix + \"_\" + fieldset[0]\n    const secondaryId = fieldset && fieldset[1] && idPrefix + \"_\" + fieldset[1]\n    const expanded = secondaryId && currentId && currentId.startsWith(secondaryId)\n\n    const _onToggleSettings = () => {\n\n        if (!expanded) {\n            secondaryId && onExpand && onExpand({id: secondaryId})\n        } else {\n            primaryId && onExpand && onExpand({id: \"\"})\n        }\n\n    }\n\n    const defaultLocale = formContext.defaultLocale || formContext.languages && formContext.languages[0]\n\n    const _onLocale = (locale) => {\n        onLocale && onLocale(locale)\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusEditor\",\n        \"ui:title\": title,\n        \"ui:expanded\": expanded,\n        \"ui:primaryAction\": primaryAction,\n        \"ui:status\": status,\n        \"ui:statusDate\": updatedAt || createdAt || deletedAt,\n        \"ui:statusCode\": statusCode,\n        \"ui:statusMessage\": statusMessage,\n        \"ui:onSelect\": (item) => onSelect(item),\n        \"ui:currentLocale\": currentLocale,\n        \"ui:onLocale\": (locale) => _onLocale(locale),\n        \"ui:onToggleSettings\": () => _onToggleSettings(),\n        \"ui:onTogglePreview\": formContext && formContext.onTogglePreview\n    }\n\n    const { ObjectField } = props.registry.fields;\n\n    const registry = {\n        ...props.registry,\n        ObjectFieldTemplate: PrimusObjectFieldTemplate,\n        formContext: {\n            ...formContext,\n            imageUrl: imageUrl,\n            uniqueId: uniqueId,\n            currentLocale: currentLocale,\n            _onUpload: _onUpload,\n            _onUploadClick: _onUploadClick,\n            _onEventAddClick: _onEventAdd\n        }\n    }\n\n    return (\n        <>\n            <Dropzone ref={dropzoneRef} onDrop={_onUpload}>\n                {({getRootProps, getInputProps}) => (\n                    <div {...getRootProps()}>\n                    <input {...getInputProps()} />\n                    <p>Drag 'n' drop some files here, or click to select files</p>\n                    </div>\n                )}\n            </Dropzone>\n            <ObjectField {...props} formContext={registry.formContext} registry={registry} uiSchema={uiSchema} />\n        </>\n    )\n\n}\n\nexport default PrimusEditorField;","import _ from 'lodash';\nimport { getUiFieldset } from \".\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nexport const getPrimusEventsMenu = ({parent, onAdd, ...props}) => {\n    const { formData, formContext } = props;\n    const { _onEventAddClick } = formContext\n\n    const events = formData.events && formData.events.map((event, index) => {\n\n        const title = event.eventType && event.eventType.value || \"Event \" + index\n        const count = event.dating && event.dating.value || null\n\n        return {\n            id: parent.id + \"_\" + index,\n            title: title,\n            count: count,\n            name: index,\n        }\n    }) || []\n\n    return {\n        ...parent,\n        role: \"section\",\n        children: [\n            ...events,\n            {\n                \"icon\": \"add\",\n                \"title\": \"Legg til\",\n                \"onClick\": onAdd\n            }\n        ]\n    }\n\n}","import _ from 'lodash';\nimport { getUiFieldset } from \"./\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nexport const getPrimusMediaMenu = ({parent, onAdd, ...props}) => {\n    const { formData, formContext } = props;\n    const { _onUploadClick } = formContext\n    \n    const imagesMenu = formData.images && formData.images.length && {\n        \"title\": \"Bilder\",\n        \"id\": parent.id + \"_images_0\",\n        \"count\": formData.images && formData.images.length\n    }\n\n    const attachmentsMenu = formData.attachments && formData.attachments.length && {\n        \"title\": \"Dokumenter\",\n        \"id\": parent.id + \"_attachments_0\",\n        \"count\": formData.attachments && formData.attachments.length\n    }\n\n    return {\n        ...parent,\n        role: \"section\",\n        \"children\": [\n            imagesMenu,\n            attachmentsMenu,\n            {\n                \"icon\": \"add\",\n                \"title\": \"Last opp\",\n                \"onClick\": onAdd\n            }\n        ]\n    }\n\n}","// primary action\n\nexport const getEditorAction = ({t, formData, formContext}) => {\n\n    const { isLoading, isSaving, onSubmit, preview, onTogglePreview } = formContext\n    const { uniqueId } = formData\n\n    if (preview && preview.expanded) {\n        return {\n            type: \"edit\",\n            onClick: onTogglePreview\n        }\n\n    }\n\n    if (isLoading) {\n        return {\n            label: t(\"Loading\") + \" ...\",\n            disabled: true\n        }\n    } else if (isSaving) {\n        return {\n            label: t(\"Saving\") + \" ...\",\n            disabled: true\n        }\n    }\n\n    let primary = {\n        role: \"group\",\n        children: [\n            {\n                label: t(\"Save as draft\"),\n                onClick: (event) => onSubmit({formData: {...formData, status: \"draft\"}}, event),\n            },\n            {\n                label: t(\"Save and publish\"),\n                onClick: (event) => onSubmit({formData: {...formData, status: \"publish\"}}, event),\n            },\n        ]\n    }\n\n    let secondary = {\n        role: \"group\",\n        children: [\n            {\n                label: t(\"Save and exit\"),\n            }\n        ]\n\n    }\n\n    if (uniqueId) {\n        secondary.children.push({\n            label: t(\"Save as\") + \" ...\",\n            onClick: (event) =>  onSubmit({formData: {...formData, status: \"copy\"}}, event),\n        })\n    }\n    \n\n    return {\n        type: \"save\",\n        label: t(\"Save\"),\n        onClick: (event) => onSubmit({formData}, event),\n        children: [\n            primary,\n            secondary\n        ]\n    }\n\n}","import React from 'react'\nimport { EditorBase, EditorHeader, EditorBody, EditorFooter, EditorOverlay } from \"../Editor\"\n\nconst PrimusEditorLayout = ({collapsible, expanded, overlay, onToggle, onSelect, children, ...props}) => {\n\n    const renderOverlay = () => {\n        const OverlayTemplate = overlay && overlay.template;\n\n        return (\n            <EditorOverlay position=\"fixed\" expanded={overlay && overlay.expanded}>\n                { OverlayTemplate && <OverlayTemplate {...overlay} /> }\n            </EditorOverlay>\n        )\n    }\n\n    return (\n        <EditorBase>\n            <EditorHeader {...props} collapsible={collapsible} expanded={expanded} onToggle={onToggle} onSelect={onSelect} />\n            <EditorBody elevation={1} expanded={expanded}>\n                {children}\n            </EditorBody>\n            <EditorFooter {...props} />\n            { overlay && renderOverlay() }\n        </EditorBase>\n    )\n}\n\nexport default PrimusEditorLayout;","import React, { useState } from 'react';\nimport { getUiMenu, getPrimusEventsMenu, getPrimusMediaMenu } from \"./utils\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusEditorContentField = (props) => {\n    const { formData, formContext } = props\n    const { uniqueId, currentId, onCurrentId, _onEventAddClick, _onUploadClick } = formContext\n\n    const currentParents = currentId && currentId && currentId.split(\"_\")\n    const currentSection = currentParents && currentParents[2] || \"basis\"\n    const currentName = currentParents && currentParents[currentParents.length-1] || \"basis\"\n\n    const _onSelect = ({id, onClick, url, pathname}) => {\n\n        if (id && id.includes(\"media_\")) {\n            id = id.replace(\"media_\", \"\")\n        }\n\n        onClick && onClick()\n        id && onCurrentId(id)\n    }\n\n    const uiOptions = getUiOptions(props.uiSchema)\n\n    let uiMenu\n\n    if (uniqueId) {\n\n        uiMenu = getUiMenu(props)\n\n        uiMenu = uiMenu.map(item => {\n\n            if (item.name === \"events\") {\n                return getPrimusEventsMenu({...props, parent: item, onAdd: _onEventAddClick})\n            }\n\n            if (item.name === \"media\") {\n                return getPrimusMediaMenu({...props, parent: item, onAdd: _onUploadClick})\n            }\n\n            return item\n\n        })\n    \n    }\n\n    let preview = {\n        ...formContext.preview,\n        hidden: false\n    }\n\n    let uiFieldset\n\n    if (!uniqueId) {\n        uiFieldset = [\"basis\"]\n    } else if (currentSection === \"images\" || currentSection === \"attachments\") {\n        uiFieldset = [currentSection]\n        preview.hidden = true\n    } else {\n        uiFieldset = uiOptions.fieldset\n    }\n\n    let uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusContent\",\n        \"ui:menu\": uiMenu,\n        \"ui:preview\": preview,\n        \"ui:onSelect\": _onSelect,\n        \"ui:fieldset\": uiFieldset,\n    }\n\n\n    const { ObjectField } = props.registry.fields;\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n    \n}\n\nexport default PrimusEditorContentField;","import React from 'react';\nimport { NavMenu } from \"../NavMenu\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    view: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n        boxShadow: theme.shadows[2],\n\n        /*\n\n        transition: \".125s ease-out\",\n        transform: \"translateY(100%)\",\n\n        \"&[aria-expanded=true]\": {\n            transform: \"translateY(0)\",\n        }\n\n        */\n    },\n    split: {\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n    },\n    menu: {\n        flexGrow: 0,\n        flexShrink: 0,\n        flexBasis: 224,\n        paddingTop: 24,\n        paddingRight: 24,\n\n        \"&[aria-hidden=true]\": {\n            display: \"none\",\n            flexGrow: 0,\n            flexShrink: 1,\n            flexBasis: 0,\n        }\n        \n    },\n    body: {\n        flexGrow: 1,\n        flexBasis: \"100%\",\n        height: \"100%\",\n        position: \"relative\",\n        overflowY: \"scroll\",\n\n        \"&[aria-hidden=true]\": {\n            display: \"none\",\n            flexGrow: 0,\n            flexShrink: 1,\n            flexBasis: 0,\n        }\n        \n    },\n    preview: {\n        flexGrow: 1,\n        flexBasis: \"100%\",\n        height: \"100%\",\n        position: \"relative\",\n        overflow: \"hidden\",\n        transition: \".25s ease-in-out\",\n\n        \"&[aria-hidden=true]\": {\n            flexGrow: 0,\n            flexShrink: 1,\n            flexBasis: 0,\n        }\n\n    }\n}));\n\nconst EditorSidebar = ({template, expanded, ...props}) => {\n    const classes = useStyles();\n\n    if (!template) {\n        return false\n    }\n\n    const Template = template\n\n    return (\n        <div className={classes.sidebar} aria-expanded={expanded}>\n            <Template {...props} />\n        </div>\n    )\n\n}\n\nconst EditorSplitView = ({children}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.split}>\n            {children}\n        </div>\n    )\n\n}\n\nconst EditorBody = ({expanded = true, hidden = false, children}) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.body} aria-expanded={expanded} aria-hidden={hidden}>\n            {children}\n        </div>\n    )\n\n}\n\nconst EditorPreview = ({template, hidden, expanded, ...props}) => {\n    const classes = useStyles();\n\n    if (!template) {\n        return false\n    }\n\n    const Template = template\n\n    return (\n        <div className={classes.preview} aria-hidden={hidden} aria-expanded={expanded}>\n            <Template {...props} />\n        </div>\n    )\n\n}\n\nconst EditorMenu = ({expanded = true, hidden = false, currentUrl, onSelect, menu}) => {\n    const classes = useStyles();\n\n    if (!menu) {\n        hidden = true\n    }\n\n    return (\n        <div className={classes.menu} aria-expanded={expanded} aria-hidden={hidden}>\n            <NavMenu currentUrl={currentUrl} menu={menu} onSelect={onSelect} />\n        </div>\n    )\n}\n\n\nconst PrimusEditorContentLayout = ({id, selected = true, sidebar = {}, preview = {}, menu = undefined, currentUrl, onSelect, children}) => {\n    const classes = useStyles();\n\n    const content = {\n        hidden: preview.expanded && true || false\n    }\n\n    return (\n        <div className={classes.view}>\n            { sidebar && <EditorSidebar {...sidebar} /> }\n            <EditorSplitView>\n                <EditorMenu {...content} currentUrl={currentUrl} menu={menu} onSelect={onSelect} />\n                <EditorBody {...content} >\n                    {children}\n                </EditorBody>\n                { preview && <EditorPreview {...preview} /> }\n            </EditorSplitView>\n        </div>\n    )\n\n\n}\n\nexport default PrimusEditorContentLayout;","import React, { useState } from 'react';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusSectionField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusSection\",\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"ui:field\": undefined,\n    }\n\n    const { SchemaField } = props.registry.fields;\n\n    return (\n        <SchemaField {...props} uiSchema={uiSchema} />\n    )\n    \n}\n\nexport default PrimusSectionField;","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n            margin: 0\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        color: theme.palette.text.primary,\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    body: {\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n    footer: {\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n    },\n    buttongroup: {\n        display: \"flex\",\n        margin: theme.spacing(-1),\n\n        \"& > $button\": {\n            margin: theme.spacing(1),\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        padding: theme.spacing(2),\n        minWidth: theme.spacing(16),\n        minHeight: theme.spacing(7),\n    },\n\n}));\n\nconst PrimusSectionLayout = ({currentId, id, sortableHandle, addable, collapsible, expanded, onExpand, onAdd, onDelete, onCollapse, padding = 2, spacing = 2, title = \"Section\", description, children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                {!expanded && sortableHandle}\n                <Typography className={classes.title}>{title}</Typography>\n                {description && <Typography className={classes.description}>{description}</Typography> }\n            </header>\n\n            { expanded && \n                <div className={classes.body}>\n                {children}\n                </div> }\n\n            { collapsible && expanded && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onCollapse}>Lagre og lukk</Button>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onDelete}>Slett</Button>\n                    </div>\n                </footer>\n            }\n\n            { addable && onAdd && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onAdd}>Legg til</Button>\n                    </div>\n                </footer>\n            }\n\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React, { useState, useEffect } from \"react\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst MediaArrayTemplate = (props) => {\n\n    const { LayoutField } = props.registry.fields\n\n    const renderItem = (item, index) => {\n        const { hasToolbar, hasMoveUp, hasMoveDown, hasRemove } = item\n        const { onAddIndexClick, onDropIndexClick, onReorderClick } = item\n        const itemUiSchema = item.children.props && item.children.props.uiSchema || {}\n\n        const uiSchema = {\n            ...itemUiSchema,\n            \"ui:removable\": hasRemove,\n        }\n        const itemProps = {\n            ...item.children.props,\n            formContext: props.formContext, \n            hasToolbar: hasToolbar,\n            hasMoveUp: hasMoveUp,\n            hasMoveDown: hasMoveDown,\n            hasRemove: hasRemove,\n            onAddIndexClick: onAddIndexClick,\n            onDropIndexClick: onDropIndexClick,\n            onReorderClick: onReorderClick,\n        }\n\n        const uiOptions = getUiOptions(uiSchema || {})\n\n        /*\n\n        \n        const uiToolbar = getUiToolbar({\n            ...itemProps,\n            \"uiSchema\": uiSchema,\n        })\n\n        */\n\n        const arrayItem = React.cloneElement(item.children, {\n            ...itemProps,\n            uiSchema: {\n                ...uiSchema,\n//                    \"ui:toolbar\": uiToolbar,\n//                    \"ui:layout\": uiOptions.layout || ArrayItemLayout\n            },\n        })\n    \n        return arrayItem\n    };\n\n    const { uiSchema } = props;\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { currentIndex } = uiOptions\n\n    return props.items && props.items.map((item, index) => {\n        return renderItem(item, index)\n    })\n\n    \n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            {props.items && props.items.map((item, index) => {\n\n                if (currentIndex === index) {\n                    return renderItem(item, index)\n                }\n\n            })}\n        </LayoutField>\n\n    )\n\n}\n\nexport default MediaArrayTemplate","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"mediaId\": {\n            \"type\": \"string\"\n        },\n        \"media\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"mediaType\": {\n                    \"type\": \"string\"\n                },\n                \"title\": {\n                    \"type\": \"string\"\n                }\n            }\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"creator\": {\n                    \"type\": \"string\"\n                },\n                \"headline\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                },\n                \"credit\": {\n                    \"type\": \"string\"\n                },\n                \"license\": {\n                    \"type\": \"string\"\n                },\n            }\n        },\n        \"imageCropdata\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"x\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"y\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"width\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"height\": {\n                    \"type\": \"number\",\n                    \"readonly\": true\n                },\n                \"rotate\": {\n                    \"type\": \"number\",\n                    \"readonly\": true,\n                }\n            }\n        },\n        \"imageAnnotations\": {\n            \"type\": \"array\",\n            \"items\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"top\": {\n                        \"type\": \"number\",\n                        \"default\": 50,\n                        \"readonly\": true\n                    },\n                    \"left\": {\n                        \"type\": \"number\",\n                        \"default\": 50,\n                        \"readonly\": true\n                    },\n                    \"x\": {\n                        \"type\": \"number\",\n                        \"default\": 0,\n                        \"readonly\": true\n                    },\n                    \"y\": {\n                        \"type\": \"number\",\n                        \"default\": 0,\n                        \"readonly\": true\n                    },\n                    \"radius\": {\n                        \"type\": \"number\",\n                        \"minimum\": 1,\n                        \"maximum\": 100,\n                        \"default\": 1\n                    },\n                    \"title\": {\n                        \"type\": \"string\",\n                    },\n                    \"description\": {\n                        \"type\": \"string\",\n                    }\n                }\n            }\n        }\n    }\n}","export default {\n    \"ui:fieldset\": [\n        \"preview\",\n        \"content\",\n        \"imageCropdata\",\n        \"imageAnnotations\"\n    ],\n    \"content\": {\n        \"ui:title\": \"Rediger innhold\",\n        \"ui:field\": \"primusSection\",\n\n        \"ui:fieldset\": [\n            \"creator\",\n            \"credit\",\n            \"license\"\n        ],\n\n\n        \"creator\": {\n            \"ui:title\": \"Fotograf\",\n        },\n        \"headline\": {\n            \"ui:title\": \"Overskrift\"\n        },\n        \"description\": {\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"credit\": {\n            \"ui:title\": \"Kreditering\",\n            \"ui:widget\": \"textarea\",\n            \"ui:help\": \"Fotograf og/eller byrå\"\n        },\n        \"license\": {\n            \"ui:title\": \"Rettigheter\",\n            \"ui:field\": \"primusLicense\",\n            \"ui:help\": \"Velg en lisens eller rettigheter\"\n        }\n\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Annoteringer\",\n        \"ui:field\": \"primusImageAnnotationsSection\",\n        \"ui:options\": {\n            \"sortable\": true\n        },\n        \"items\": {\n            \"ui:layout\": \"module\"\n        }\n    }\n}","import schema from \"./PrimusMedia.schema\"\nimport uiSchema from \"./PrimusMedia.uiSchema\"\nimport formData from \"./PrimusMedia.formData\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData\n}","import itemSchema from \"./ImageEditor.schema\"\n\nexport default {\n    \"type\": \"array\",\n    \"items\": itemSchema\n}","import itemUiSchema from \"./ImageEditor.uiSchema\"\n\nexport default {\n    \"items\": itemUiSchema\n}","\n\nimport React, { useState } from 'react';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n \n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        left: 0,\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\",\n        margin: theme.spacing(.5),\n    },\n    button: {\n\n        \"& + *\": {\n            marginLeft: theme.spacing(-.5)\n        },\n\n        \"&[aria-selected=true]\": {\n            color: theme.palette.primary.main\n        }\n\n    }\n}));\n\nconst ImageEditorToolbar = ({className, toolbar = [], action}) => {\n\n    const classes = useStyles()\n\n    const ToolbarButton = ({name, icon, onClick}) => {\n\n        const selected = name === action\n\n        return (\n            <IconButton className={classes.button} aria-selected={selected} onClick={onClick}>\n                <Icon>{icon}</Icon>\n            </IconButton>\n        )\n\n    }\n\n    return (\n        <nav className={className || classes.toolbar}>\n            {toolbar.map((button, index) => <ToolbarButton {...button} key={index} />)}\n        </nav>\n    )\n    \n\n}\n\nexport default ImageEditorToolbar;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport qs from 'query-string';\n\nconst useStyles = makeStyles(theme => ({\n\n    list: {\n        flexGrow: 0,\n        display: \"flex\",\n        height: 56,\n\n        \"& > $item\": {\n            width: \"auto\"\n        }\n\n    },\n    item: {\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: 0,\n\n        border: \"1px solid\",\n        borderColor: \"transparent\",\n\n        \"&[aria-selected=true]\": {\n            borderColor: \"white\"\n        },\n\n        \"& > img\": {\n            height: \"100%\",\n            width: \"auto\",\n            margin: \"auto\"\n        }\n\n    },    \n}));\n\nconst MediaLayout = ({\n    currentItem = {}, items, onSelect, onSelectIndex\n}) => {\n    const classes = useStyles();\n\n    const MediaItem = ({ selected, mediaId, media, index }) => {\n//        const selected = currentItem.mediaId === mediaId\n\n        const { uploadProgress } = media\n\n        const { url, query } = qs.parseUrl(media.imageUrl)\n        const imageUrl = qs.stringifyUrl({url, query: {...query, uploadProgress}})\n\n        return (\n            <figure className={classes.item} aria-selected={selected} onClick={() => onSelectIndex(index)}>\n                <img src={imageUrl} />\n            </figure>\n        )\n    \n    }\n    \n    return (\n        <div className={classes.list}>\n            {items && items.map((item, index) => <MediaItem {...item} index={index} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default MediaLayout;","import React, { useState } from 'react';\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport ZoomInIcon from \"@material-ui/icons/AddCircle\"\nimport ZoomOutIcon from \"@material-ui/icons/RemoveCircle\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n \n    toolbar: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flexWrap: \"nowrap\",\n        margin: theme.spacing(.5),\n\n\n        \"& > * + *\": {\n\n        }\n\n    },\n    scale: {\n        fontFamily: \"Akkurat mono, monospace\",\n        fontSize: 16,\n        color: \"white\",\n    },\n    button: {\n        color: \"white\",\n    },\n}));\n\nconst ImagePreviewToolbar = ({className, onReset, onZoomIn, onZoomOut, scale, minScale, maxScale, ...props}) => {\n\n    const classes = useStyles()\n\n    const ZoomInButton = () => {\n\n        const disabled = props.disabled || scale >= maxScale\n\n        return (\n            <IconButton className={classes.button} disabled={disabled} onClick={onZoomIn}>\n                <ZoomInIcon className={classes.icon} />\n            </IconButton>\n        )\n\n    }\n\n    const ZoomOutButton = () => {\n\n        const disabled = props.disabled || scale <= minScale\n\n        return (\n            <IconButton className={classes.button} disabled={disabled} onClick={onZoomOut}>\n                <ZoomOutIcon className={classes.icon} />\n            </IconButton>\n        )\n\n    }\n\n    const ScaleButton = () => {\n\n        const label = Math.floor(scale * 100) + \"%\"\n\n        return (\n            <ButtonBase className={classes.scale} onClick={onReset}>\n                {label}\n            </ButtonBase>\n        )\n\n    }\n\n    return (\n        <nav className={className || classes.toolbar}>\n            <ZoomOutButton />\n            <ScaleButton />\n            <ZoomInButton  />\n            { /* JSON.stringify(props, 0, 2) */}\n        </nav>\n    )\n    \n\n}\n\nexport default ImagePreviewToolbar;","import React, { useState } from 'react';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ImagePreviewToolbar from \"./ImagePreviewToolbar\"\n\nconst useStyles = makeStyles(theme => ({\n    preview: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        height: \"100%\",\n        overflow: \"visible\",\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& .react-transform-component\": {\n\n            overflow: \"visible\"\n        }\n    },\n\n    figure: {\n        padding: 0,\n        margin: 0,\n        zIndex: 1,\n    },\n\n}));\n\nconst ImagePreview = ({imageUrl, onTransformChange, children, options = {}}) => {\n    const classes = useStyles();\n\n\n    const TransformToolbar = ({prevScale, scale, zoomIn, zoomOut, resetTransform, positionX, positionY, options: { disabled, minScale, maxScale }, ...props}) => {\n\n        return <ImagePreviewToolbar \n            {...props}\n            disabled={disabled}\n            scale={scale}\n            minScale={minScale}\n            maxScale={maxScale}\n            onReset={resetTransform}\n            onZoomIn={zoomIn}\n            onZoomOut={zoomOut}\n            />\n        \n    }\n\n    return (\n        <div className={classes.preview}>\n            <TransformWrapper \n                options={options}>\n                {(props) => (\n                    <React.Fragment>\n                        <TransformToolbar {...props} />\n                        <TransformComponent>\n                            <figure className={classes.figure}>\n                                <img src={imageUrl} />\n                                {children}\n                            </figure>\n                        </TransformComponent>\n                    </React.Fragment>\n            )}\n            </TransformWrapper>\n        </div>\n    )\n    \n\n}\n\nexport default ImagePreview;","export const getOffset = (el) => {\n    const rect = el.getBoundingClientRect();\n    return {\n      left: rect.left + window.scrollX,\n      top: rect.top + window.scrollY\n    };\n  }\n\nexport const getImagePointEvent = (event, parent) => {\n\n    if (!parent) {\n        parent = event.target.offsetParent\n    }\n\n    const offset = getOffset(parent);\n\n    const x = event.pageX - offset.left;\n    const y = event.pageY - offset.top;\n\n    const left = (x) / (parent.offsetWidth) * 100 \n    const top = (y) / (parent.offsetHeight) * 100 \n\n    const fx = (x / parent.offsetWidth - 0.5) * 2;\n    const fy = (y / parent.offsetHeight - 0.5) * -2;\n\n    return {\n        x: fx,\n        y: fy,\n        top: top,\n        left: left\n    }\n\n}","import React, { useRef, useState, useEffect } from 'react';\n// import \"./ImageAnnotationsMarker.scss\"\nimport Draggable, { DraggableCore } from 'react-draggable';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImagePointEvent } from \"./utils/getImagePoint\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n//        top: props => { return props.top + \"%\" || \"50%\"},\n//        left: props => { return props.left + \"%\" || \"50%\"},\n    },\n    draghandle: {\n        position: \"absolute\",\n        display: \"block\",\n\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n\n        transform: \"translate(-50%, -50%)\",\n        borderRadius: \"50%\",\n\n        \"&:hover\": {\n            cursor: props => { return props.cursor || \"move\" }\n        }\n\n    },\n    marker: {\n        width: props => { return theme.spacing(props.size) },\n        height: props => { return theme.spacing(props.size) },\n \n        backgroundColor: theme.palette.primary.main, \n        color: theme.palette.primary.contrastText,\n\n        top: \"0\",\n        left: \"0\",\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        borderRadius: \"50%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        pointerEvents: \"none\"\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ImageAnnotationsMarker = ({index, position, size = 4, onStart, onDrag, onStop}) => {\n    const [cursor, setCursor] = useState(\"grab\") \n\n    const handleStart = (event, data) => {\n        setCursor('grabbing')\n        onStart && onStart(event, data)\n    }\n\n    const handleDrag = (event, data) => {\n        onDrag && onDrag(event, data)\n    }\n\n    const handleStop = (event, data) => {\n        setCursor('grab')\n        onStop && onStop(event, data)\n    }    \n\n    const classes = useStyles({size, zIndex: index, cursor: cursor})\n\n    if (!position) {\n        return false\n    }\n\n    return (\n        <Draggable\n            bounds=\"parent\"\n            handle=\".draghandle\"\n            position={position}\n            onStart={handleStart}\n            onDrag={handleDrag}\n            onStop={handleStop}>\n            <div className={classes.root}>\n                <div className={classes.draghandle + \" draghandle\"}></div>\n                <div className={classes.marker}>\n                    <div className={classes.label}>\n                        {index+1}\n                    </div>\n                </div>\n            </div>\n        </Draggable>\n    )\n}\n\nexport default ImageAnnotationsMarker","import React, { useState, useRef, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ImagePreview from \"./ImagePreview\"\n\nimport MarkerDefault from \"./ImageAnnotationsMarkerDefault\"\nimport { withResizeDetector } from 'react-resize-detector';\nimport { getImagePointEvent } from \"./utils/getImagePoint\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    },\n    list: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst ImageAnnotations = ({\n        className, \n        imageUrl, \n        imageCropdata = {}, \n        imageFocalpoint = {}, \n        imageFilters = {}, \n        imageAnnotations = [], \n        markerTemplate, \n        onChange,\n        ...props\n    }) => {\n\n    const [isDragging, setIsDragging] = useState(false)\n\n    const handleClick = (event) => {\n        event.stopPropagation()\n\n        const point = getImagePointEvent(event)\n\n        setIsDragging(false)\n\n        let newFormData;\n\n        if (imageAnnotations.length) {\n            newFormData = [...imageAnnotations, point]\n        } else {\n            newFormData = [point]\n        }\n \n        onChange && onChange(newFormData)\n    }\n\n\n    const handleIndexChange = (data, index) => {\n\n        const marker = {\n            ...imageAnnotations[index],\n            ...data\n        }\n\n        const newFormData = imageAnnotations.map((item, i) => {\n            const jsonValue = typeof marker === \"undefined\" ? null : marker;\n            return index === i ? jsonValue : item;\n        });        \n\n        onChange && onChange(newFormData)\n\n\n    }\n\n    let MarkerTemplate;\n\n    if (markerTemplate) {\n        MarkerTemplate = markerTemplate\n    } else {\n        MarkerTemplate = MarkerDefault\n    }\n\n    const classes = useStyles()\n\n    const MarkerList = withResizeDetector(({width, height}) => {\n\n        const handleStart = (event, data, index) => {\n            event.stopPropagation()\n\n            setIsDragging(true)\n        }\n    \n        const handleDrag = (event, data, index) => {\n    //        setIsDragging(true)\n        }\n    \n        const handleStop = (event, data, index) => {\n\n            const x = data.x;\n            const y = data.y;\n    \n            const left = (x/width) * 100 \n            const top = (y/height) * 100 \n\n            const fx = (x/width - 0.5) * 2;\n            const fy = (y/height - 0.5) * -2;\n    \n            const coords = {\n                left: left,\n                top: top,\n                x: fx,\n                y: fy\n            }\n\n            console.log('COORDS', coords)\n\n            handleIndexChange(coords, index)\n            setIsDragging(false)\n\n        }\n\n        return (\n            <div className={classes.list} onClick={!isDragging ? onChange && handleClick : undefined}>\n                { imageAnnotations && imageAnnotations.length && imageAnnotations.map((marker, index) => {\n\n                    const left = marker.left || 0\n                    const top = marker.top || 0\n\n                    const x = left * width/100;\n                    const y = top * height/100;\n\n                    if (!onChange) {\n                        return (\n                            <MarkerTemplate {...marker} index={index} key={index}\n                                position={{\n                                    x: x,\n                                    y: y\n                                }}\n                            /> \n                        )\n                    }\n\n                    return (\n                        <MarkerTemplate {...marker} index={index} key={index}\n                                position={{\n                                    x: x,\n                                    y: y\n                                }}\n                                onStart={(event, data) => handleStart(event, data, index)}\n                                onDrag={(event, data) => handleDrag(event, data, index)}\n                                onStop={(event, data) => handleStop(event, data, index)}\n                            /> \n                    )\n                }) || \"\"}\n            </div>\n        )\n     \n    })\n\n    return (\n        <ImagePreview imageUrl={imageUrl} options={{disabled: true}}>\n            <MarkerList />\n        </ImagePreview>\n    )\n\n\n}\n\nexport default ImageAnnotations;","import React, { useState, useEffect } from 'react';\nimport Draggable, { DraggableCore } from 'react-draggable';\nimport { Transform } from 'stream';\nimport Color from 'color';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport DragIcon from \"@material-ui/icons/DragHandle\"\nimport RemoveIcon from \"@material-ui/icons/RemoveCircle\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n//        top: props => { return props.top + \"%\" || \"50%\"},\n//        left: props => { return props.left + \"%\" || \"50%\"},\n        zIndex: props => { return props.zIndex },\n    },\n    shape: {\n        position: \"absolute\",\n        top: \"100%\",\n        left: \"100%\",\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        backgroundColor: props => { return props.color }\n\n    },\n    size: {\n        display: \"block\",\n        position: \"absolute\",\n//        top: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n//        right: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n//        bottom: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n//        left: props => { return props.shape === \"circle\" && theme.spacing(props.size/2 * -1) },\n        top: 0,\n        left: 0,\n        width: props => { return props.shape === \"circle\" && theme.spacing(props.size) || theme.spacing(props.width) },\n        height: props => { return props.shape === \"circle\" && theme.spacing(props.size) || theme.spacing(props.height) },\n\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n        \"& $colors\": {\n            display: \"none\"\n        },\n        \"&:hover $colors\": {\n            display: \"flex\"\n        },\n\n        \"& $removeButton\": {\n            display: \"none\"\n        },\n        \"&:hover $removeButton\": {\n            display: \"flex\"\n        },\n       \n        \"& $handleButton\": {\n            display: \"none\"\n        },\n        \"&:hover $handleButton\": {\n            display: \"flex\"\n        },\n\n\n        \"&:hover $shape\": {\n            backgroundColor: props => { return props.hoverColor },\n//            borderColor: \"transparent\",\n            borderStyle: \"dotted\",\n        },\n\n        \"&:hover $labelButton\": {\n        }\n\n    },\n    shape: {\n        display: \"block\",\n        position: \"absolute\",\n        top: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n        right: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n        bottom: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n        left: props => { return props.shape === \"circle\" && 0 || theme.spacing(.5) },\n\n        border: \"2px solid\",\n        color: props => { return props.contrastColor},\n        borderColor: props => { return props.color},\n        borderRadius: props => { return props.shape === \"circle\" && \"50%\" || \"0\" },\n\n        \"&:hover\": {\n            cursor: props => { return props.cursor || \"move\" }\n        }\n    },\n    labelButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontFamily: \"Akkurat Mono, monspace\",\n        fontSize: \"14px\",\n        width: props => { return props.shape === \"circle\" && theme.spacing(3.5) || theme.spacing(4) },\n        height: props => { return props.shape === \"circle\" && theme.spacing(3.5) || theme.spacing(4) },\n        backgroundColor: props => { return props.color },\n        border: \"1px solid\",\n        borderColor: props => { return props.color },\n        color: props => { return props.contrastColor },\n        borderRadius: props => { return props.shape === \"rectangle\" && \"50%\" || \"0\" },\n    },\n    removeButton: {\n        position: \"absolute\",\n        top: theme.spacing(-2),\n        right: theme.spacing(-2),\n    },\n    removeShape: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundColor: props => { return props.color },\n        width: \"18px\",\n        height: \"18px\",\n        borderRadius: \"9px\",\n    },\n    removeIcon: {\n        display: \"block\",\n        backgroundColor: props => { return props.contrastColor || theme.palette.text.primary },\n        width: \"9px\",\n        height: \"2px\",\n    },\n    colors: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    colorButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    colorIcon: {\n        display: \"block\",\n        backgroundColor: props => { return props.color },\n        width: theme.spacing(1.5),\n        height: theme.spacing(1.5),\n        borderRadius: theme.spacing(1),\n        margin: theme.spacing(1)\n    },\n    handleButton: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        position: \"absolute\",\n        top: props => { return props.top && \"0\" || \"auto\" },\n        right: props => { return props.right && \"0\" || \"auto\" },\n        bottom: props => { return props.bottom && \"0\"  || \"auto\" },\n        left: props => { return props.left && \"0\"  || \"auto\" },\n        margin: theme.spacing(-1)\n    },\n    handleIcon: {\n        display: \"block\",\n        backgroundColor: props => { return props.color },\n        width: theme.spacing(1),\n        height: theme.spacing(1),\n        margin: theme.spacing(1)\n    }\n}));\n\nconst ButtonHandle = ({color, top, right, bottom, left, onResize}) => {\n    const classes = useStyles({color, top, left, bottom, right})\n\n    const handleResize = ({x, y}) => {\n        if (left) {\n            x = x * -1\n        }\n\n        if (top) {\n            y = y * -1\n        }\n\n        onResize && onResize({x, y})\n\n    }\n\n    const handleStart = (event, data) => {\n        console.log('onStart', data)\n    }\n\n    const handleDrag = (event, data) => {\n        console.log('onDrag', data)\n    }\n\n    const handleStop = (event, data) => {\n        console.log('onStop', data)\n        handleResize(data)\n    }\n\n    return (\n        <Draggable\n            position={{x: 0, y: 0}}\n            onStart={handleStart}\n            onDrag={handleDrag}\n            onStop={handleStop}>\n                <ButtonBase className={classes.handleButton}>\n                    <i className={classes.handleIcon}></i>\n                </ButtonBase>\n        </Draggable>\n    )\n\n}\n\nconst ButtonLabel = ({index, color, contrastColor, shape, onClick}) => {\n    const classes = useStyles({color, contrastColor, shape})\n\n    return (\n        <ButtonBase className={classes.labelButton} onClick={onClick}>\n            {index+1}\n        </ButtonBase>\n    )\n\n}\n\nconst ButtonRemove = ({className, color, contrastColor, onClick}) => {\n    const classes = useStyles({color, contrastColor})\n\n    return (\n        <IconButton className={className || classes.removeButton} onClick={onClick}>\n            <b className={classes.removeShape}>\n                <i className={classes.removeIcon}></i>\n            </b>\n        </IconButton>\n    )\n}\n\nconst ButtonColor = ({color, onClick}) => {\n    const classes = useStyles({color})\n\n    return (\n        <ButtonBase className={classes.colorButton} onClick={color && onClick}>\n            <i className={classes.colorIcon}></i>\n        </ButtonBase>\n    )\n}\n\nconst MarkerPrimus = ({index, position, onStart, onDrag, onStop, ...props}) => {\n\n    const colors = [\n        \"white\",\n        \"#bbb\",\n        \"#777\",\n        \"#333\",\n        \"black\",\n        \"red\",\n        \"green\",\n        \"blue\",\n        \"#FF8080\",\n        \"#80FF80\",\n        \"#8080FF\",\n        \"yellow\",\n        \"#0ff\",\n        \"#f0f\",\n        \"#ffff08\",\n        \"#08ffff\",\n        \"#ff08ff\"\n    ]\n\n    const [cursor, setCursor] = useState(\"grab\") \n    const [shape, setShape] = useState(props.shape || \"circle\") \n    const [size, setSize] = useState(props.size || 12) \n    const [width, setWidth] = useState(props.width || props.size || 12) \n    const [height, setHeight] = useState(props.height || props.size || 12) \n\n    const [color, setColor] = useState(props.color || color[0]) \n    const [contrastColor, setContrastColor] = useState(color[0]) \n    const [borderColor, setBorderColor] = useState(color[0]) \n    const [nextColor, setNextColor] = useState(color[0]) \n    const [prevColor, setPrevColor] = useState(color[0]) \n    const [hoverColor, setHoverColor] = useState(color[0]) \n\n    useEffect(() => {\n//        setCoords({top: top, left: left})\n        setContrastColor(Color(color).isDark() && \"white\" || \"black\")\n        setBorderColor(Color(color).isDark() && \"rgba(255,255,255,.5)\" || \"rgba(0,0,0,.5)\")\n        setHoverColor(Color(color).alpha(0.25).rgb().string())\n        setNextColor(colors[colors.indexOf(color)+1] || colors[0])\n        setPrevColor(colors[colors.indexOf(color)-1] || colors[colors.length-1])\n    }, [color, index])\n\n    const toggleColor = (color) => {\n        setColor(color)\n    }\n\n    const toggleShape = () => {\n        if (shape === \"circle\") {\n            setShape('rectangle')\n            setWidth(size)\n            setHeight(size)\n        } else {\n            setShape('circle')\n            setSize((width+height)/2)\n        }\n    }\n\n    const handleStart = (event, data) => {\n        event.stopPropagation()\n        setCursor('grabbing')\n        onStart && onStart(event, data)\n    }\n\n    const handleDrag = (event, data) => {\n        event.stopPropagation()\n        onDrag && onDrag(event, data)\n    }\n\n    const handleStop = (event, data) => {\n        event.stopPropagation()\n        setCursor('grab')\n        onStop && onStop(event, data)\n    }\n\n    const handleResize = ({x, y}) => {\n\n        const newWidth = width + x/8\n        const newHeight = height + y/8\n\n        setWidth(newWidth)\n        setHeight(newHeight)\n        setSize((newWidth+newHeight)/2)\n    }\n\n    const classes = useStyles({size, width, height, zIndex: index, color, contrastColor, hoverColor, cursor, shape})\n\n    return (\n        <Draggable\n            bounds=\"parent\"\n            handle=\".draghandle\"\n            position={position}\n            onStart={handleStart}\n            onDrag={handleDrag}\n            onStop={handleStop}>\n            <div className={classes.root}>\n                <div className={classes.size}>\n                    <div className={classes.shape + \" draghandle\"}></div>\n                    <ButtonHandle top left color={color} onResize={handleResize} />\n                    <ButtonHandle bottom left color={color} onResize={handleResize} />\n                    <ButtonHandle bottom right color={color} onResize={handleResize} />\n                    <ButtonRemove className={classes.removeButton} color={color} contrastColor={contrastColor} />\n                    <div className={classes.colors}>\n                        <ButtonColor color={prevColor} onClick={() => toggleColor(prevColor)} />\n                        <ButtonLabel shape={shape} color={color} contrastColor={contrastColor} index={index} onClick={toggleShape} />\n                        <ButtonColor color={nextColor} onClick={() => toggleColor(nextColor)} />\n                    </div>\n                </div>\n            </div>\n        </Draggable>\n    )\n}\n\nMarkerPrimus.defaultProps = {\n    color: \"white\"\n}\n\nexport default MarkerPrimus","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ImageAnnotationsBase from \"./ImageAnnotationsBase\"\nimport ImageAnnotationsMarkerPrimus from \"./ImageAnnotationsMarkerPrimus\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n//        backgroundColor: \"#333\",\n//        color: \"white\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    preview: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        marginTop: theme.spacing(7),\n        marginBottom: theme.spacing(6)\n    },\n    footer: {\n        position: \"absolute\",\n        top: \"auto\",\n        right: 0,\n        left: 0,\n        bottom: 0,\n        paddingTop: theme.spacing(1),\n        height: theme.spacing(5),\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        textAlign: \"center\"\n    }\n}));\n\n\nconst ImageAnnotations = ({className, imageUrl, imageAnnotations = [], imageFocalpoint, imageCropdata, imageFilters, markerTemplate, onChange, ...props}) => {\n    const classes = useStyles()\n\n    const _onChange = (imageAnnotations) => {\n        onChange && onChange(imageAnnotations)\n    }\n\n    return (\n        <ImageAnnotationsBase \n            imageUrl={imageUrl}\n            imageAnnotations={imageAnnotations}\n//            imageCropdata={imageCropdata}\n//            imageFilters={imageFilters}\n//            imageFocalpoint={imageFocalpoint}\n            markerTemplate={markerTemplate}\n            onChange={_onChange} />\n    )\n\n    return (\n        <div className={className || classes.root}>\n            <div className={classes.preview}>\n                <ImageAnnotationsBase \n                    imageUrl={imageUrl}\n                    imageAnnotations={imageAnnotations}\n                    imageCropdata={imageCropdata}\n                    imageFilters={imageFilters}\n                    imageFocalpoint={imageFocalpoint}\n                    markerTemplate={markerTemplate}\n                    onChange={_onChange} />\n            </div>\n            <footer className={classes.footer}>\n                <Typography nowrap className={classes.description}>\n                    Klikk for å legge til en markør\n                </Typography>\n            </footer>\n        </div>\n    )\n\n}\n\nexport default ImageAnnotations;","import React, { useRef, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport Cropper from 'react-cropper';\nimport 'cropperjs/dist/cropper.css'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    }\n}));\n\nconst ImageCropperBase = ({className, imageUrl, imageCropdata, options, aspectRatio, onChange}) => {\n    const classes = useStyles()\n    const cropperRef = useRef(null);\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl for cropper</p>\n        )\n    }\n\n    const onReady = () => {\n\n        const currentImage = cropperRef && cropperRef.current\n\n        if (!currentImage) {\n            return\n        }\n\n        const image = cropperRef && cropperRef.current && cropperRef.current.getImageData();\n        const imageWidth = image && image.naturalWidth\n        const imageHeight = image && image.naturalHeight\n\n        const x = imageCropdata && imageCropdata.x * imageWidth / 100 || 0\n        const y = imageCropdata && imageCropdata.y * imageHeight / 100 || 0\n        const width = imageCropdata && imageCropdata.width * imageWidth / 100 || imageWidth\n        const height = imageCropdata && imageCropdata.height * imageHeight / 100  || imageHeight\n\n        cropperRef.current.setData({\n            ...imageCropdata,\n            x: x,\n            y: y,\n            width: width,\n            height: height\n        });\n\n//        cropperRef.current.setData(imageCropdata);\n    }\n\n    const onCrop = () => {\n        const data = cropperRef.current.getData();\n        const image = cropperRef.current.getImageData();\n\n        const imageWidth = image && image.naturalWidth\n        const imageHeight = image && image.naturalHeight\n\n        const x = data.x / imageWidth * 100\n        const y = data.y / imageHeight * 100\n\n        const width = data.width / imageWidth * 100\n        const height = data.height / imageHeight * 100\n\n        const newFormData = {\n            ...data,\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        }\n\n        onChange && onChange(newFormData)\n\n    }\n\n    options = {\n        ...options,\n        aspectRatio: aspectRatio\n    }\n\n    return (\n        <Cropper\n            className={className || classes.root}\n            ref={cropperRef}\n            src={imageUrl}\n            {...options}\n            ready={onReady.bind(this)}\n            crop={onCrop.bind(this)} />\n    )\n\n}\n\nImageCropperBase.propTypes = {\n    imageUrl: PropTypes.string\n}\n\nImageCropperBase.defaultProps = {\n    imageUrl: undefined,\n    options: {\n        viewMode: 0,\n        dragMode: \"crop\",\n        initialAspectRatio: undefined,\n        aspectRatio: undefined,\n        responsive: true,\n        restore: true,\n        checkCrossOrigin: false,\n        checkOrientation: true,\n        modal: true,\n        guides: true,\n        center: true,\n        highlight: true,\n        background: true,\n        autoCrop: true,\n        autoCropArea: 1,\n        movable: true,\n        rotatable: true,\n        scalable: true,\n        zoomable: true,\n        zoomOnTouch: true,\n        zoomOnWheel: true,\n        wheelZoomRatio: 0.1,\n        cropBoxMovable: true,\n        cropBoxResizable: true,\n        toggleDragModeOnDblclick: true\n    },\n    imageCropdata: {\n        \"x\": undefined,\n        \"y\": undefined,\n        \"width\": undefined,\n        \"height\": undefined,\n        \"rotate\": undefined\n    }\n}\n\nexport default ImageCropperBase;","import React, { useState } from 'react';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport CropIcon from '@material-ui/icons/Crop';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ImageCropperBase from \"./ImageCropperBase\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    cropper: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        marginBottom: theme.spacing(6),\n\n        \"& .cropper-container\": {\n            backgroundImage: \"none\"\n        },\n        \"& .cropper-modal\": {\n            backgroundColor: \"inherit\"\n        }\n    },\n    footer: {\n        position: \"absolute\",\n        top: \"auto\",\n        right: 0,\n        left: 0,\n        bottom: 0,\n        height: theme.spacing(6),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px\",\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        textAlign: \"center\",\n        minWidth: theme.spacing(5),\n        color: \"inherit\",\n        \"&[aria-selected=true]\": {\n            color: theme.palette.primary.main\n        }\n    },\n    icon: {\n        fontSize: \"16px\"\n    }\n}));\n\n\nconst ImageCropper = ({className, imageUrl, imageCropdata = {}, formats, onChange, ...props}) => {\n    const classes = useStyles()\n\n    const _onChange = (imageCropdata) => {\n        onChange && onChange(imageCropdata)\n    }\n\n    const [formatSelected, setFormatSelected] = useState(null)\n    const [aspectRatio, setAspectRatio] = useState(null)\n\n    const resetFormat = () => {\n        setFormatSelected(null)\n        setAspectRatio(null)\n    }\n\n    const handleFormat = (format) => {\n        const ratio = format.split(':')\n\n        setFormatSelected(format)\n        setAspectRatio(ratio[0]/ratio[1])\n    }\n\n    return (\n        <div className={className || classes.root}>\n            <ImageCropperBase className={classes.cropper} imageUrl={imageUrl} imageCropdata={imageCropdata} aspectRatio={aspectRatio} onChange={_onChange} />\n            <footer className={classes.footer}>\n                    <ButtonBase className={classes.button} aria-selected={!formatSelected} onClick={() => resetFormat(undefined)}><CropIcon className={classes.icon} /></ButtonBase>\n                        { formats && formats.map((format, index) => {\n                        return (\n                            <ButtonBase aria-selected={formatSelected === format} className={classes.button} size=\"small\" onClick={() => handleFormat(format)}>{format}</ButtonBase>\n                        )\n                    })}\n            </footer>\n        </div>\n    )\n\n}\n\nImageCropper.defaultProps = {\n    imageUrl: undefined,\n    /* ImageCropdata defined as percentages */\n    imageCropdata: {\n        \"x\": 0,\n        \"y\": 0,\n        \"width\": undefined,\n        \"height\": undefined,\n        \"rotate\": 0\n    },\n    formats: [\n        \"16:9\",\n        \"4:3\",\n        \"3:2\",\n        \"1:1\",\n        \"2:3\"\n    ]\n}\n\nexport default ImageCropper;","import React, { useState } from 'react';\nimport ImageEditorToolbar from \"./ImageEditorToolbar\"\nimport ImageEditorNavigation from \"./ImageEditorNavigation\"\n\nimport ImagePreview from \"./ImagePreview\"\nimport ImageAnnotations from \"./ImageAnnotations\"\nimport ImageCropper from \"./ImageCropper\"\n\n\nimport { makeStyles } from '@material-ui/core/styles';\n\n\nconst useStyles = makeStyles(theme => ({\n    media: {\n        backgroundColor: theme.palette.background.default,\n        position: \"absolute\",\n        zIndex: 2,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        width: \"100%\",\n        overflow: \"hidden\",\n    },\n    split: {\n        width: \"100%\",\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\",\n    },\n    view: {\n        flexGrow: 1,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\"\n    },\n    edit: {\n        backgroundColor: theme.palette.background.paper,\n        position: \"relative\",\n        flexBasis: 480,\n\n        display: \"none\",\n        \n        \"&[aria-expanded=true]\": {\n            display: \"block\"\n        },\n    \n    },\n    canvas: {\n        position: \"relative\",\n        width: \"100%\",\n        flexBasis: \"100%\",\n        flexGrow: 1,\n\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n\n    },\n}));\n\nconst ImageEditorField = ({\n    expanded = true,\n    toolbar,\n    action,\n    imageUrl,\n    imageAnnotations = [],\n    onAnnotationsChange,\n    imageCropdata = {},\n    onCropChange,\n    items = [],\n    currentIndex,\n    onSelectIndex,\n    transform = {},\n    onTransformChange,\n    children,\n    ...props\n}) => {\n\n    const classes = useStyles();\n\n    if (!expanded) {\n        return false\n    }\n\n    const ImageTemplate = () => {\n\n\n        if (action === \"imageCropdata\") {\n            return (\n                <ImageCropper imageUrl={imageUrl} imageCropdata={imageCropdata} onChange={onCropChange} />\n            )\n        }\n\n        if (action === \"imageAnnotations\") {\n            return (\n                <ImageAnnotations imageUrl={imageUrl} imageAnnotations={imageAnnotations} onChange={onAnnotationsChange} />\n            )\n        }\n\n        return (\n            <ImagePreview imageUrl={imageUrl} transform={transform} onTransformChange={onTransformChange} />\n        )\n        \n    }\n\n    let editorExpanded = true\n\n    if (action === \"preview\") {\n        editorExpanded = false\n    }\n\n    return (\n        <div className={classes.media}>\n            <div className={classes.split}>\n                <div className={classes.view}>\n                    <ImageEditorToolbar toolbar={toolbar} action={action} classes={classes.toolbar} />\n                    <div className={classes.canvas}>\n                        <ImageTemplate />\n                    </div>\n                    <ImageEditorNavigation items={items} onSelectIndex={onSelectIndex} />\n                </div>\n\n                <div className={classes.edit} aria-expanded={editorExpanded}>\n                    {children}\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\nexport default ImageEditorField;","import schema from \"./ImageEditor.schema\"\nimport uiSchema from \"./ImageEditor.uiSchema\"\nimport formData from \"./ImageEditor.formData\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData\n}","import React, { useEffect, useState } from \"react\"\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst PrimusMediaTheme = ({children}) => {\n\n    const darkTheme = createMuiTheme({\n        \"palette\": {\n            \"type\": \"dark\",\n            \"primary\": {\n                \"main\": \"#D94353\",\n                \"light\": \"#EE7E8F\",\n                \"dark\": \"#AE3552\"\n            }\n        }\n    })\n\n    return (\n        <ThemeProvider theme={darkTheme}>\n            {children}\n        </ThemeProvider>\n    )\n\n\n}\n\nexport default PrimusMediaTheme;","import React, { useState } from 'react';\nimport ImageEditorLayout from \"./ImageEditorLayout\"\nimport model from \"./ImageEditor.model\"\n\nimport PrimusMediaTheme from \"./PrimusMediaTheme\"\n\nconst ImageEditorField = (props) => {\n\n    const { idSchema, formData, formContext, onChange } = props\n    const idPrefix = idSchema.$id\n\n    const { currentId, onCurrentId } = formContext\n\n    const idParents = idPrefix && idPrefix.split(\"_\") || []\n    const currentIdParents = currentId && currentId.split(\"_\") || []\n\n    let fieldset\n\n    if (currentIdParents.length > idParents.length) {\n        fieldset = currentIdParents[idParents.length]\n    }\n\n    const _onSelectIndex = (index) => {\n\n        let idParents = idPrefix && idPrefix.split(\"_\")\n        idParents.pop()\n\n        let idParent = idParents.join('_') + \"_\" + index\n\n        let id\n\n        if (fieldset) {\n            id = idParent + \"_\" + fieldset\n        } else {\n            id = idParent\n        }\n\n        onCurrentId && onCurrentId(id)\n\n    }\n\n    const _onFieldset = (fieldset) => {\n\n        let id\n\n        if (fieldset) {\n            id = idPrefix + \"_\" + fieldset\n        } else {\n            id = idPrefix\n        }\n\n        onCurrentId && onCurrentId(id)\n\n    }\n\n    const _onAnnotationsChange = (imageAnnotations = []) => {\n        onChange && onChange({\n            ...formData,\n            imageAnnotations: imageAnnotations\n        })\n    }\n\n    const _onCropChange = (imageCropdata = {}) => {\n        onChange && onChange({\n            ...formData,\n            imageCropdata: imageCropdata\n        })\n    }\n\n    const [transform, setTransform] = useState({scale: 1})\n\n    const _onTransformChange = (props) => {\n\n        const { scale, positionX, positionY } = props\n\n        console.log(props)\n\n        setTransform({\n            scale: scale,\n            positionX: positionX,\n            positionY: positionY\n        })\n    }\n\n    const toolbar = [\n        {\n            name: \"preview\",\n            icon: \"remove_red_eye\",\n            onClick: () => _onFieldset()\n        },\n        {\n            name: \"content\",\n            icon: \"edit\",\n            onClick: () => _onFieldset(\"content\")\n        },\n        /*\n        {\n            name: \"imageCropdata\",\n            icon: \"crop\",\n            onClick: () => _onFieldset(\"imageCropdata\")\n        },*/\n        {\n            name: \"imageAnnotations\",\n            icon: \"label\",\n            onClick: () => _onFieldset(\"imageAnnotations\")\n        }\n    ]\n\n    const imageUrl = formData.media && formData.media.imageUrl\n    const imageAnnotations = formData.imageAnnotations || []\n    const imageCropdata = formData.imageCropdata || {}\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:collapsible\": true,\n        \"ui:onSelectIndex\": _onSelectIndex,\n        \"ui:imageUrl\": imageUrl,\n        \"ui:imageAnnotations\": imageAnnotations,\n        \"ui:onAnnotationsChange\": _onAnnotationsChange,\n        \"ui:imageCropdata\": imageCropdata,\n        \"ui:onCropChange\": _onCropChange,\n        \"ui:fieldset\": [fieldset],\n        \"ui:action\": fieldset || \"preview\",\n        \"ui:toolbar\": toolbar,\n        \"ui:transform\": transform,\n        \"ui:onTransformChange\": _onTransformChange,\n        \"ui:layout\": ImageEditorLayout\n    }\n\n    const { LayoutField, ObjectField } = props.registry.fields\n\n    return (\n        <PrimusMediaTheme>\n            <ObjectField {...props} uiSchema={uiSchema} />\n        </PrimusMediaTheme>\n    )\n\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <ObjectField {...props} />\n        </LayoutField>\n    )\n\n}\n\nexport default ImageEditorField;","import React, { useState, useEffect } from \"react\"\nimport MediaArrayTemplate from \"./PrimusMediaArrayTemplate\"\nimport model from \"./PrimusMedia.model\"\n\nimport ImageEditorField from \"./ImageEditorField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst PrimusMediaEditorField = (props) => {\n    const { idSchema, formData, formContext, onChange } = props\n\n    const { currentId, onCurrentId } = formContext\n\n    const _onSelectIndex = (index) => {\n        const itemId = idSchema.$id + \"_\" + index\n        onCurrentId && onCurrentId(itemId)\n    }\n\n    const { ArrayField } = props.registry.fields\n\n    let selectedItem\n\n    const items = formData.map((item, index) => {\n\n        const itemId = idSchema.$id + \"_\" + index\n\n        let selected = false\n\n        if (currentId && currentId.startsWith(itemId)) {\n            selected = true\n            selectedItem = item\n        }\n\n        return {\n            ...item,\n            selected: selected,\n            onSelect: () => _onSelectIndex(index)\n        }\n\n    })\n\n    if (!selectedItem && items.length) {\n        items[0] = {\n            ...items[0],\n            selected: true\n        }\n    }\n\n    const uiSchema = {\n        \"ui:ArrayFieldTemplate\": MediaArrayTemplate,\n        \"items\": {\n            ...model.uiSchema.items,\n            \"ui:items\": items,\n            \"ui:field\": ImageEditorField,\n        }\n    }\n\n    return <ArrayField {...props} uiSchema={uiSchema} />\n\n}\n\nexport default PrimusMediaEditorField","import React, { useState, useEffect } from \"react\"\nimport PrimusMediaEditorField from \"../PrimusMedia/PrimusMediaEditorField\"\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst PrimusMediaField = (props) => {\n    const { formData, formContext, onChange } = props\n\n\n    let uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusMedia\"\n    }\n\n    const id = props.idSchema.$id\n    const currentId = formContext.currentId\n\n    if (currentId && currentId.includes(\"_images\")) {\n        return <PrimusMediaEditorField {...props} />\n    }\n\n    const { ObjectField } = props.registry.fields\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n\n\n\n}\n\nexport default PrimusMediaField","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n//        paddingLeft: props => { return theme.spacing(props.padding) },\n//        paddingRight: props => { return theme.spacing(props.padding) },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    body: {\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n    footer: {\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n\n    },\n\n}));\n\nconst PrimusSectionLayout = ({id, sortableHandle, collapsible, expanded, onExpand, onDelete, onCollapse, currentId, padding = 2, spacing = 2, title = \"Section\", children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                {sortableHandle}\n                <Typography className={classes.title}>{title}</Typography>\n            </header>\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from \"react\";\n\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { WidgetProps } from \"@rjsf/core\";\nimport { utils } from \"@rjsf/core\";\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    select: {\n        fontSize: 14,\n        height: 24,\n        borderRadius: 12,\n        margin: theme.spacing(.5),\n    },\n    empty: {\n        color: theme.palette.text.secondary\n    }\n}));\n\n\nconst { getUiOptions, asNumber, guessType } = utils;\n\nconst nums = new Set([\"number\", \"integer\"]);\n\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\nconst processValue = (schema, value) => {\n    // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n    const { type, items } = schema;\n\n    if (value === \"\") {\n        return undefined;\n    } else if (type === \"array\" && items && nums.has(items.type)) {\n        return value.map(asNumber);\n    } else if (type === \"boolean\") {\n        return value === \"true\";\n    } else if (type === \"number\") {\n        return asNumber(value);\n    }\n\n    // If type is undefined, but an enum is present, try and infer the type from\n    // the enum values\n    if (schema.enum) {\n        if (schema.enum.every((x) => guessType(x) === \"number\")) {\n            return asNumber(value);\n        } else if (schema.enum.every((x) => guessType(x) === \"boolean\")) {\n            return value === \"true\";\n        }\n    }\n\n    return value;\n}\n\nconst SelectWidget = ({\n    schema,\n    uiSchema = {},\n    id,\n    options,\n//    label,\n    required,\n    disabled,\n    readonly,\n    value,\n    multiple,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    rawErrors = [],\n    ...props\n}) => {\n\n    const { enumOptions, enumDisabled } = options;\n    const emptyValue = multiple ? [] : \"\";\n\n    const uiOptions = getUiOptions(uiSchema)\n    const label = options.title || schema.name\n    const helperText = uiOptions.help\n\n    const _onChange = ({ target: { value } }) => onChange(processValue(schema, value));\n    const _onBlur = ({ target: { value } }) => onBlur(id, processValue(schema, value));\n    const _onFocus = ({ target: { value } }) => onFocus(id, processValue(schema, value));\n\n    const classes = useStyles()\n\n    return (\n        <Select\n            id={id}\n            variant=\"outlined\"\n            className={classes.select}\n            value={typeof value === \"undefined\" ? emptyValue : value}\n            displayEmpty={true}\n            required={required}\n            disabled={disabled || readonly}\n            autoFocus={autofocus}\n            error={rawErrors.length > 0}\n            onChange={_onChange}\n            onBlur={_onBlur}\n            onFocus={_onFocus}\n            >\n                <MenuItem value=\"\"><em className={classes.empty}>{label}</em></MenuItem>\n\n                {(enumOptions).map(({ value, label }, i) => {\n                    const disabled = enumDisabled && (enumDisabled).indexOf(value) != -1;\n                    return (\n                        <MenuItem key={i} value={value} disabled={disabled}>{label}</MenuItem>\n                    )\n                })}\n        </Select>\n    )\n\n}\n\nexport default SelectWidget;\n","import React from \"react\";\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\n\nimport { WidgetProps } from \"@rjsf/core\";\nimport { utils } from \"@rjsf/core\";\n\nconst { getDisplayLabel, asNumber, guessType } = utils;\n\nconst nums = new Set([\"number\", \"integer\"]);\n\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\nconst processValue = (schema, value) => {\n    // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n    const { type, items } = schema;\n\n    if (value === \"\") {\n        return undefined;\n    } else if (type === \"array\" && items && nums.has(items.type)) {\n        return value.map(asNumber);\n    } else if (type === \"boolean\") {\n        return value === \"true\";\n    } else if (type === \"number\") {\n        return asNumber(value);\n    }\n\n    // If type is undefined, but an enum is present, try and infer the type from\n    // the enum values\n    if (schema.enum) {\n        if (schema.enum.every((x) => guessType(x) === \"number\")) {\n            return asNumber(value);\n        } else if (schema.enum.every((x) => guessType(x) === \"boolean\")) {\n            return value === \"true\";\n        }\n    }\n\n    return value;\n}\n\nconst SelectWidget = ({\n    schema,\n    uiSchema = {},\n    id,\n    options,\n//    label,\n    required,\n    disabled,\n    readonly,\n    value,\n    multiple,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    rawErrors = [],\n    ...props\n}) => {\n\n    const { enumOptions, enumDisabled } = options;\n    const emptyValue = multiple ? [] : \"\";\n\n    const displayLabel = getDisplayLabel(\n        schema,\n        uiSchema\n        /* TODO: , rootSchema */\n    );\n\n    const label = options.title || props.title || props.label || schema.title\n\n    const variant = options.variant || \"filled\"\n    const size = options.size\n\n    const helperText = options.help || null\n\n    const _onChange = ({ target: { value } }) => onChange(processValue(schema, value));\n    const _onBlur = ({ target: { value } }) => onBlur(id, processValue(schema, value));\n    const _onFocus = ({ target: { value } }) => onFocus(id, processValue(schema, value));\n\n    return (\n        <FormControl fullWidth={true} variant={variant}>\n        <InputLabel variant={variant} htmlFor={id}>{label}</InputLabel>\n        <Select\n            native={true}\n            variant={variant}\n            size={size}\n            fullWidth={true}\n            id={id}\n            value={typeof value === \"undefined\" ? emptyValue : value}\n            required={required}\n            disabled={disabled || readonly}\n            autoFocus={autofocus}\n            error={rawErrors.length > 0}\n            onChange={_onChange}\n            onBlur={_onBlur}\n            onFocus={_onFocus}\n            InputLabelProps={{\n                shrink: true,\n            }}\n            SelectProps={{\n                multiple: typeof multiple === \"undefined\" ? false : multiple,\n            }}>\n\n            <option aria-label=\"None\" value=\"\" />\n\n            {(enumOptions).map(({ value, label }, i) => {\n                const disabled = enumDisabled && (enumDisabled).indexOf(value) != -1;\n                return (\n                    <option key={i} value={value} disabled={disabled}>{label}</option>\n                )\n            })}\n        </Select>\n        { helperText && <FormHelperText>{helperText}</FormHelperText> }\n        </FormControl>\n    )\n\n}\n\nexport default SelectWidget;\n","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n        userSelect: \"none\",\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    body: {\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n\n}));\n\nconst PrimusSectionLayout = ({id, currentId, padding = 2, spacing = 2, title = \"Section\", children}) => {\n    const classes = useStyles({padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    return (\n        <section ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header}>\n                <Typography className={classes.title}>{title}</Typography>\n            </header>\n\n            <div className={classes.body}>\n                {children}\n            </div>\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport Typography from \"@material-ui/core/Typography\"\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport Icon from \"@material-ui/core/Icon\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    icon: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\n\nconst KnavSearchAutocomplete = ({\n    id, \n    label, \n    helperText,\n    icon = <SearchIcon />,\n    startAdornment, \n    endAdornment, \n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        console.log('params', params)\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n//                label: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n                <span className={classes.title}>\n                    {title}\n                </span>\n\n                {' '}\n\n                { description && <i component=\"i\" className={classes.description}>{description}</i> }\n            </Typography>\n        ) \n\n    }\n    \n    const _renderInput = ({InputProps, inputProps}) => {\n\n        if (variant === \"base\") {\n            return (\n                <InputBase\n                    ref={InputProps.ref}\n                    inputProps={inputProps}\n                    fullWidth={true}\n                    endAdornment={endAdornment}\n                />\n            )\n\n        } else {\n\n            if (!startAdornment && icon) {\n                startAdornment = <Icon className={classes.icon}>{icon}</Icon>\n            }\n\n            return (\n                <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                    <InputLabel className={classes.label} variant={variant} htmlFor={inputProps.id}>{label}</InputLabel>\n                    <FilledInput\n                        ref={InputProps.ref}\n                        inputProps={inputProps}\n                        fullWidth={true}\n                        startAdornment={startAdornment}\n                        endAdornment={endAdornment}\n                    />\n                    { helperText && <FormHelperText>{helperText}</FormHelperText> }\n                </FormControl>\n            )\n        }\n\n    }\n\n    const _onChange = (event, value) => {\n\n        let formData = {}\n\n        if (typeof value === 'string') {\n            formData = {\n                value: value,\n            }\n        } else if (value && value.inputValue) {\n            // Create a new value from the user input\n            formData = {\n                value: value.inputValue,\n            }\n        } else {\n            formData = value\n        }\n\n//        setValue(formData)\n        onChange && onChange(formData)\n\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            freeSolo\n            id={id + \"-suggest\"}\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            options={options}\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderInput={_renderInput}\n        />        \n    )\n    \n}\n\nexport default KnavSearchAutocomplete","import React, { useState, useEffect } from \"react\"\nimport Autocomplete from \"./AutocompleteOptionsField\"\n\nimport _ from \"lodash\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KnavSearchField = (props) => {\n\n    const { idSchema, schema, uiSchema, formData = {}, onChange } = props\n\n    const id = idSchema.$id\n\n    // query\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { locale = \"no\", placeholder = \"Søk\", query = {} } = uiOptions\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        let qs = Object.keys(query).map(key => {\n            return key + \":\" + query[key]\n        }) || []\n\n        q && qs.push(\"compoundName:\" + q)\n\n        const apiUrl = \"https://kulturnav.org/api/summary/\" + qs.join(',')\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    const itemsSelected = []\n\n    const _getOption = (item) => {\n\n        if (uiOptions.getOption) {\n            return uiOptions.getOption(item)\n        }\n\n        const name = item.name && item.name[locale]\n        const uuid = item.uuid\n\n        const label = name\n        const value = name\n\n        let metadata = []\n\n        item.specificType && item.specificType.map(type => {\n            if (type.displayValue && type.displayValue[locale]) {\n                metadata.push(type.displayValue[locale])\n            }\n        })\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n            description: metadata.join(\"/\")\n        }\n    \n\n    }\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const option = _getOption(item)\n\n            const { uuid, label, value } = option\n\n            uuid && label && value && options.push(option)\n\n        })\n\n        setOptions(options)    \n\n    }, [results])\n    \n    let [q, setQ] = useState(\"\")\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n        _onQuery(q)\n    }\n\n    const _onChange = (option) => {\n       option && onChange({\n//           ...formData,\n           ...option\n       })\n    }\n\n    // label, helperText, variant\n\n    const label = uiOptions.title\n    const helperText = uiOptions.help\n    const variant = uiOptions.variant\n\n    const icon = uiOptions.icon\n    const endAdornment = uiOptions.endAdornment\n\n\n    const { LayoutField } = props.registry.fields\n\n    return (\n        <LayoutField {...props}>\n            <Autocomplete\n                id={id}\n                icon={icon}\n                label={label}\n                helperText={helperText}\n                variant={variant}\n                options={options}\n                formData={formData}\n                value={formData}\n                onChange={_onChange}\n                onInputChange={_onInputChange}\n                endAdornment={endAdornment}\n            />\n        </LayoutField>\n    )\n\n\n}\n\nKnavSearchField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default KnavSearchField","import React, { useState} from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n                <span className={classes.title}>\n                    {title}\n                </span>\n                {' '}\n                { description && <i component=\"i\" className={classes.description}>{description}</i> }\n            </Typography>\n        ) \n\n    }\n\n    const _renderInput = (params) => {\n\n        if (props.renderInput) {\n            return props.renderInput({...params, label, placeholder})\n        }\n\n        return (\n            <TextField {...params}\n                variant={variant}\n                label={label}\n                placeholder={placeholder}\n             />\n        )\n    }\n\n    const _renderTags = (tags, getTagProps) => {\n\n        if (props.renderTags) {\n            return props.renderTags(tags, getTagProps)\n        }\n\n        return tags.map((option, index) => (\n            <Chip variant=\"outlined\" label={option.value} {...getTagProps({index})} />\n        ))\n\n    }\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = {\n                    value: value,\n                }\n            } else if (value && value.inputValue) {\n                // Create a new value from the user input\n                value = {\n                    value: value.inputValue,\n                }\n            } else {\n                value = value\n            }\n\n            return value\n\n        })\n\n    }\n\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            multiple\n            freeSolo\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React, { useState} from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport RemoveIcon from '@material-ui/icons/RemoveCircle';\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { \n    sortableContainer,\n    sortableElement,\n    sortableHandle,    \n} from 'react-sortable-hoc';\n\nimport SortableIcon from '@material-ui/icons/DragHandle';\nimport arrayMove from \"array-move\"\n\nconst useStyles = makeStyles(theme => ({\n    field: {\n        \"& .MuiAutocomplete-input\": {\n            flexBasis: \"100%\"\n        }\n    },\n    tags: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    tag: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        padding: 8,\n        marginLeft: -8,\n        marginRight: -12,\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n\n        \"&.sortable-helper\": {\n            backgroundColor: theme.palette.background.paper,\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n\n            \"& $remove\": {\n                display: \"none\"\n            }\n\n        }\n\n    },\n    sorthandle: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        },\n        marginRight: 4\n    },\n    remove: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        }\n\n    },\n    option: {\n        flexGrow: 1,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n    },\n    code: {\n        border: '1px solid',\n        borderColor: theme.palette.divider,\n        padding: theme.spacing(.5),\n        borderRadius: 2,\n        fontSize: 11,\n        lineHeight: 1,\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n\n    }\n}));\n\nconst TagList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tags}>\n            {children}\n        </div>\n    )\n}\n\nconst TagItem = ({value, label, description, system, systemId, onDelete }) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tag}>\n            <SortableHandle />\n            <Option title={value} description={description} system={system} systemId={systemId} />\n            <RemoveIcon onClick={onDelete} className={classes.remove} />\n        </div>\n    )\n\n}\n\nconst SortableHandle = sortableHandle(() => {\n    const classes = useStyles()\n\n    return (\n        <SortableIcon className={classes.sorthandle} />\n    )\n\n})\n\nconst SortableTagItem = sortableElement(({props, sortIndex, item}) => {\n    return(\n        <TagItem {...item} />\n    )\n})\n\nconst SortableTagList = sortableContainer(({items = [], ...props}) => {\n\n    return (\n        <TagList>\n            {items.map((item, index) => (\n                <SortableTagItem key={`item-${index}`} index={index} sortIndex={index} item={item} />\n            ))}\n        </TagList>\n    )\n\n})\n\n\nconst Option = ({title, description, system, systemId}) => {\n\n    const classes = useStyles()\n\n    let code\n\n    if (system && systemId) {\n        code = system + \" \" + systemId\n    }\n\n    return (\n        <Typography className={classes.option}>\n            <span className={classes.title}>{title}</span>\n            {' '}\n            { description && <span className={classes.description}>{description}</span> }\n            {' '}\n            { code && <span className={classes.code}>{code}</span> }\n        </Typography>\n    )\n\n\n}\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Option {...option} title={title} />\n        )\n\n    }\n\n    const _renderInput = (params) => {\n\n        return (\n            <TextField {...params}\n                className={classes.field}\n                variant=\"filled\"\n                label={label}\n                placeholder={placeholder}\n            />\n        )\n    }\n\n    const _onSortEnd = ({oldIndex, newIndex}) => {\n        const newFormData = arrayMove(value, oldIndex, newIndex)\n        onChange && onChange(newFormData)\n    };\n\n    const _renderTags = (tags, getTagProps) => {\n\n        const items = tags.map((option, index) => {\n            return {\n                ...option,\n                ...getTagProps({index})\n            }\n        })\n\n        return <SortableTagList\n            onSortEnd={_onSortEnd}\n            helperClass=\"sortable-helper\"\n            useDragHandle={true}\n            items={items} />\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n\n    }\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = {\n                    value: value,\n                }\n            } else if (value && value.inputValue) {\n                // Create a new value from the user input\n                value = {\n                    value: value.inputValue,\n                }\n            } else {\n                value = value\n            }\n\n            return value\n\n        })\n\n    }\n\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            multiple\n            freeSolo\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            disableClearable\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React, { useState, useEffect } from \"react\"\nimport AutocompleteTags from \"./AutocompleteTagsField\"\nimport AutocompleteList from \"./AutocompleteListField\"\n\nimport _ from \"lodash\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KnavSearchField = (props) => {\n\n    const { idSchema, schema, uiSchema, formData = {}, onChange } = props\n\n    const id = idSchema.$id\n\n    // query\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const { locale = \"no\", query = {} } = uiOptions\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        let qs = Object.keys(query).map(key => {\n            return key + \":\" + query[key]\n        }) || []\n\n        q && qs.push(\"compoundName:\" + q)\n\n        const apiUrl = \"https://kulturnav.org/api/summary/\" + qs.join(',')\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    const itemsSelected = []\n\n    const _getOption = (item) => {\n\n        if (uiOptions.getOption) {\n            return uiOptions.getOption(item)\n        }\n\n        const name = item.name && item.name[locale]\n        const uuid = item.uuid\n\n        const label = name\n        const value = name\n\n        let metadata = []\n\n        item.specificType && item.specificType.map(type => {\n            if (type.displayValue && type.displayValue[locale]) {\n                metadata.push(type.displayValue[locale])\n            }\n        })\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n            description: metadata.join(\"/\")\n        }\n    \n\n    }\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const option = _getOption(item)\n\n            const { uuid, label, value } = option\n            uuid && label && value && options.push(option)\n\n        })\n\n        setOptions(options)    \n\n    }, [results])\n    \n    let [q, setQ] = useState(\"\")\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n        _onQuery(q)\n    }\n\n    const _onChange = (formData) => {\n        formData && onChange(formData)\n    }\n\n    // label, helperText, variant\n\n    const label = uiOptions.title\n    const placeholder = uiOptions.placeholder\n    const helperText = uiOptions.help\n    const variant = uiOptions.variant\n\n    const icon = uiOptions.icon\n    const endAdornment = uiOptions.endAdornment\n\n    const { LayoutField } = props.registry.fields\n\n    // widget\n\n    const AutcompleteWidget = uiOptions[\"widget\"] || AutocompleteList\n\n    return (\n        <LayoutField {...props}>\n            <AutcompleteWidget\n                id={id}\n                icon={icon}\n                label={label}\n                placeholder={placeholder}\n                helperText={helperText}\n                variant={variant}\n                options={options}\n                value={formData}\n                onChange={_onChange}\n                onInputChange={_onInputChange}\n                endAdornment={endAdornment}\n            />\n        </LayoutField>\n    )\n\n\n}\n\nKnavSearchField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default KnavSearchField","import React, { useState, useEffect } from \"react\"\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\nconst PersonRoleField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (role) => {\n        onChange({\n            ...formData,\n            role: role\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.role,\n        \"ui:title\": \"Role\",\n        \"ui:widget\": SelectAdornmentWidget\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.role}\n            uiSchema={uiSchema}\n            formData={formData && formData.role}\n            onChange={_onChange}\n            />\n    )\n\n}\n\nPersonRoleField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonRoleField","import React, { useState, useEffect } from \"react\"\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonRoleField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (status) => {\n        onChange({\n            ...formData,\n            status: status\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.status,\n        \"ui:title\": \"Status\",\n        \"ui:widget\": SelectAdornmentWidget\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.status}\n            uiSchema={uiSchema}\n            formData={formData && formData.status}\n            onChange={_onChange}\n        />\n    )\n\n}\n\nPersonRoleField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonRoleField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst DesignationField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Betegnelse\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"a05e6cbb-26db-4861-a9fe-68857c2e707d\"\n        },\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nDesignationField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default DesignationField","import schema from \"./Designation.schema\"\nimport uiSchema from \"./Designation.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusPerson\",\n    \"ui:title\": \"Aktør\",\n    \"status\": {\n        \"ui:title\": \"Status\"\n    },\n    \"role\": {\n        \"ui:title\": \"Rolle\"\n    }\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst DesignationTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Betegnelse\",\n        ...props.uiSchema,\n        \"ui:locale\": \"no\",\n        \"ui:placeholder\": \"Legg til betegnelse\",\n        \"ui:query\": {\n            \"entity.dataset\": \"a05e6cbb-26db-4861-a9fe-68857c2e707d\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nDesignationTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default DesignationTagsField","import React, { useState, useEffect } from \"react\"\nimport KnavSearchField from \"./KnavSearchField\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst ClassificationField = (props) => {\n\n    const locale = \"no\"\n\n    const _getOutlineId = (text) => {\n        return text.match(/\\(([^)]+)\\)/)[1]\n    }\n\n    const _getOption = (item) => {\n\n        const name = item.name && item.name[locale]\n        const caption = item.caption && item.caption[locale]\n        const uuid = item.uuid\n\n        const id = caption && _getOutlineId(caption)\n\n        let parent\n\n        if (item.partOf && item.partOf.displayValue && item.partOf.displayValue[locale]) {\n            parent = item.partOf.displayValue[locale]\n        }\n\n        const parentId = parent && _getOutlineId(parent)\n\n        const description = \"Outline \" + id\n\n        const label = name\n        const value = name\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n            description: description,\n            system: \"Outline\",\n            systemId: id,\n        }        \n\n\n    }\n\n    const EndAdornment = () => {\n\n        const { system, systemId } = props.formData \n\n        if (system && systemId) {\n            return (\n                <div>\n                    {system} {systemId}\n                </div>\n            )\n        }\n\n        return false\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Klassifikasjon\",\n        \"ui:endAdornment\": <EndAdornment />,\n        \"ui:locale\": locale,\n        \"ui:getOption\": _getOption,\n        \"ui:query\": {\n            \"entity.dataset\": \"a8797483-ff02-4a4c-adf1-b406cbcd6fc2\"\n        },\n//        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nClassificationField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default ClassificationField","import schema from \"./Classification.schema\"\n\nexport default {\n    schema: schema,\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\nconst ClassificationField = (props) => {\n\n    const locale = \"no\"\n\n    const _getOutlineId = (text) => {\n        return text.match(/\\(([^)]+)\\)/)[1]\n    }\n\n    const _getOption = (item) => {\n\n        const name = item.name && item.name[locale]\n        const caption = item.caption && item.caption[locale]\n        const uuid = item.uuid\n\n        const id = caption && _getOutlineId(caption)\n\n        let parent\n\n        if (item.partOf && item.partOf.displayValue && item.partOf.displayValue[locale]) {\n            parent = item.partOf.displayValue[locale]\n        }\n\n        const parentId = parent && _getOutlineId(parent)\n\n        const description = \"Outline \" + id\n\n        const label = name\n        const value = name\n\n        return {\n            uuid: uuid,\n            value: value,\n            label: label,\n//            description: description,\n            system: \"Outline\",\n            systemId: id,\n        }        \n\n\n    }\n\n    const formData = props.formData && props.formData.map(item => {\n        return {\n            ...item,\n            description: undefined\n        }\n    })\n\n\n    const uiSchema = {\n        \"ui:title\": \"Klassifikasjon\",\n        \"ui:placeholder\": \"Legg til klassifikasjon\",\n        \"ui:locale\": locale,\n        \"ui:getOption\": _getOption,\n        \"ui:query\": {\n            \"entity.dataset\": \"a8797483-ff02-4a4c-adf1-b406cbcd6fc2\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} formData={formData} uiSchema={uiSchema} />\n    )\n\n}\n\nClassificationField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default ClassificationField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MaterialField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Materiale\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"64ac501d-7595-45fb-b1d9-07b74660b824\"\n//            \"entityType\": \"Person\"\n        },\n//        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    const { LayoutField } = props.registry.fields\n\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <KnavSearchField {...props} uiSchema={uiSchema} />\n        </LayoutField>\n    )\n\n}\n\nMaterialField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default MaterialField","import schema from \"./Material.schema\"\nimport uiSchema from \"./Material.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusMaterial\",\n    \"ui:title\": \"Materiale\",\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MaterialTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Materiale\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"64ac501d-7595-45fb-b1d9-07b74660b824\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nMaterialTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default MaterialTagsField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MaterialField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Teknikk\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"79535e9b-47c7-4b91-9ec5-73f3ccd40d1a\"\n        },\n//        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nMaterialField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default MaterialField","import schema from \"./Technique.schema\"\nimport uiSchema from \"./Technique.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusTechnique\",\n    \"ui:title\": \"Teknikk\",\n}","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst TechniqueTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Teknikk\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entity.dataset\": \"79535e9b-47c7-4b91-9ec5-73f3ccd40d1a\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nTechniqueTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default TechniqueTagsField","import schema from \"./Color.schema\"\nimport uiSchema from \"./Color.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\",\n        },\n        \"label\": {\n            \"type\": \"string\",\n        },\n        \"hex\": {\n            \"type\": \"string\",\n        }\n    }\n}","export default {\n}","import React, { useCallback, useState, useEffect, useRef } from \"react\"\nimport Dropzone, { useDropzone } from 'react-dropzone'\nimport Palette, { usePalette } from 'react-palette'\n\nconst ColorTagsDropImageField = ({className = \"MuiAutocomplete-dropzone\", children, onClick, onChange, ...props}) => {\n\n    const [imageUrl, setImageUrl] = useState(props.imageUrl || null)\n\n    useEffect(() => {\n        setImageUrl(props.imageUrl)\n    }, [props.imageUrl])\n\n    const _onDrop = useCallback((acceptedFiles) => {\n        acceptedFiles.forEach((file) => {\n            const reader = new FileReader()\n    \n            reader.onabort = () => console.log('file reading was aborted')\n            reader.onerror = () => console.log('file reading has failed')\n            reader.onload = () => {\n                setImageUrl(reader.result)\n            }\n            reader.readAsDataURL(file)\n          \n        })\n        \n      }, [])\n    \n\n    const { data, loading, error } = usePalette(imageUrl)\n\n    useEffect(() => {\n\n        let colors = [\"vibrant\",\"lightVibrant\",\"darkVibrant\",\"muted\",\"lightMuted\",\"darkMuted\"]\n\n        let formData = []\n\n        colors.map(color => {\n            const value = data && data[color]\n\n            value && formData.push({\n                label: color,\n                value: data && data[color]\n            })\n        })\n\n        formData.length && onChange && onChange(formData)\n\n    }, [data])\n\n    const { getRootProps, getInputProps } = useDropzone({onDrop: _onDrop})\n\n    if (onClick) {\n        return (\n            <div className={className} onClick={onClick}>\n                {children}\n            </div>\n        )\n    }\n\n    return (\n        <div className={className} {...getRootProps()}>\n            <input {...getInputProps()} />\n            {children}\n        </div>\n      )\n\n\n}\n\n\nexport default ColorTagsDropImageField","import React, { useState} from 'react';\n\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport ColorTagsDropImage from \"./ColorTagsDropImage\"\nimport ColorDropIcon from \"@material-ui/icons/CenterFocusStrong\"\n\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport RemoveIcon from '@material-ui/icons/RemoveCircle';\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { \n    sortableContainer,\n    sortableElement,\n    sortableHandle,    \n} from 'react-sortable-hoc';\n\nimport SortableIcon from '@material-ui/icons/DragHandle';\nimport arrayMove from \"array-move\"\n\nconst useStyles = makeStyles(theme => ({\n    field: {\n        \"& .MuiAutocomplete-input\": {\n            flexGrow: 1,\n            flexShrink: 0,\n        },\n        \"& .MuiInputAdornment-positionEnd\": {\n        },\n    },\n\n    dropButton: {\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            color: theme.palette.text.primary\n        }\n\n\n    },\n    dropIcon: {\n        fontSize: 18,\n        margin: theme.spacing(.5)\n    },\n    dropLabel: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 12,\n    },\n\n    tags: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    tag: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        padding: 8,\n        marginLeft: -8,\n        marginRight: -12,\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n\n    },\n    sorthandle: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        },\n        marginRight: 4\n    },\n    remove: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        }\n\n    },\n\n    option: {\n        flexGrow: 1,\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n\n    },\n    swatch: {\n        backgroundColor: props => { return props.backgroundColor },\n        width: 20,\n        height: 20,\n        borderRadius: 10\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\nconst TagList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tags}>\n            {children}\n        </div>\n    )\n}\n\nconst TagItem = ({value, label, onDelete }) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tag}>\n            <SortableHandle />\n            <Option title={label} value={value} />\n            <RemoveIcon onClick={onDelete} className={classes.remove} />\n        </div>\n    )\n\n}\n\nconst Option = ({title, value, hex}) => {\n\n    let backgroundColor\n\n    if (value && value.startsWith('#')) {\n        backgroundColor = value\n    }\n\n    const classes = useStyles({backgroundColor})\n\n    return (\n        <div className={classes.option}>\n            <div className={classes.swatch}></div>\n            <Typography className={classes.title}>{title}</Typography>\n        </div>\n    )\n\n}\n\nconst SortableHandle = sortableHandle(() => {\n    const classes = useStyles()\n\n    return (\n        <SortableIcon className={classes.sorthandle} />\n    )\n\n})\n\nconst SortableTagItem = sortableElement(({props, sortIndex, item}) => {\n    return(\n        <TagItem {...item} />\n    )\n})\n\nconst SortableTagList = sortableContainer(({items = [], ...props}) => {\n\n    return (\n        <TagList>\n            {items.map((item, index) => (\n                <SortableTagItem key={`item-${index}`} index={index} sortIndex={index} item={item} />\n            ))}\n        </TagList>\n    )\n\n})\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    formData = [], \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        /*\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        */\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Option {...option} title={title} />\n        )\n\n    }\n\n    const _onDropColors = (colors) => {\n\n        const tags = [\n            ...formData,\n            ...colors\n        ]\n\n        const newFormData = _filterTags(tags)\n        onChange && onChange(newFormData)\n\n    }\n\n    const [imageUrl, setImageUrl] = useState(null)\n\n    const _onImageUrl = () => {\n        props.imageUrl && setImageUrl(props.imageUrl)\n    }\n\n    const _renderInput = (params) => {\n\n        const endAdornment = (\n            <InputAdornment position=\"end\">\n                <ColorTagsDropImage imageUrl={imageUrl} onClick={!imageUrl && props.imageUrl && _onImageUrl} onChange={_onDropColors}>\n                    <ButtonBase className={classes.dropButton} size=\"small\">\n                        <ColorDropIcon className={classes.dropIcon} />\n                        <Typography className={classes.dropLabel}>Hent farger fra bilde</Typography>\n                    </ButtonBase>\n                </ColorTagsDropImage>\n            </InputAdornment>\n        )\n\n\n        return (\n            <TextField {...params}\n                helperText={helperText}\n                InputProps={{\n                    ...params.InputProps,\n                    endAdornment: endAdornment\n                }}\n                className={classes.field}\n                variant=\"filled\"\n                label={label}\n                placeholder={placeholder}\n            />\n        )\n    }\n\n    const _onSortEnd = ({oldIndex, newIndex}) => {\n        const newFormData = arrayMove(formData, oldIndex, newIndex)\n        onChange && onChange(newFormData)\n    };\n\n    const _renderTags = (tags, getTagProps) => {\n\n        const items = tags.map((option, index) => {\n            return {\n                ...option,\n                ...getTagProps({index})\n            }\n        })\n\n        return <SortableTagList\n            onSortEnd={_onSortEnd}\n            helperClass=\"sortable-helper\"\n            useDragHandle={true}\n            items={items} />\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n\n    }\n    /*    \n    const _renderTags = (tags, getTagProps) => {\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n    }*/\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = {\n                    value: value,\n                }\n            } else if (value && value.inputValue) {\n                // Create a new value from the user input\n                value = {\n                    value: value.inputValue,\n                }\n            } else {\n                value = value\n            }\n\n            return value\n\n        })\n\n    }\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            multiple\n            freeSolo\n            value={formData}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            disableClearable\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React, { useRef } from \"react\"\nimport ColorTagsAutocomplete from \"./ColorTagsAutocomplete\"\nimport colorNames from \"./Color.names\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst ColorTagsField = (props) => {\n\n    const { formData, formContext, uiSchema } = props\n\n    const options = Object.keys(colorNames).map(name => {\n\n        const hex = colorNames[name]\n\n        return {\n            label: name,\n            value: colorNames[name],\n            hex: hex\n        }\n\n    })\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const title = uiOptions.title\n    const placeholder = \"Legg til farge\"\n    const helperText = uiOptions.help\n\n    return (\n        <ColorTagsAutocomplete {...props}\n            imageUrl={formContext.imageUrl}\n            options={options}\n            label={title}\n            placeholder={placeholder}\n            helperText={helperText}\n            value={formData}\n        />\n    )\n\n}\n\nColorTagsField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default ColorTagsField","import schema from \"./Measure.schema\"\nimport uiSchema from \"./Measure.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\",\n        },\n        \"measureType\": {\n            \"type\": \"string\",\n        },\n        \"description\": {\n            \"type\": \"string\"\n        },\n        \"width\": {\n            \"type\": \"number\"\n        },\n        \"height\": {\n            \"type\": \"number\"\n        },\n        \"depth\": {\n            \"type\": \"number\"\n        },\n        \"unit\": {\n            \"type\": \"string\",\n        }\n    }\n}","export default {\n    \"ui:title\": \"Mål\",\n    \"ui:help\": \"Bredde x Dybde x Høyde\",\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2,\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"measureType\",\n        \"width\",\n        \"height\",\n        \"depth\",\n        \"unit\",\n        \"description\",\n    ],\n    \"value\": {\n        \"ui:title\": \"Mål\"\n    },\n    \"measureType\": {\n        \"ui:title\": \"Type mål\",\n        \"ui:variant\": \"standard\",\n//        \"ui:widget\": \"selectNative\",\n        \"ui:xs\": 12\n    },\n    \"description\": {\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\",\n        \"ui:variant\": \"standard\",\n        \"ui:xs\": 12\n    },\n    \"width\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Bredde\",\n        \"ui:xs\": 3\n    },\n    \"height\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Høyde\",\n        \"ui:xs\": 3\n    },\n    \"depth\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Dybde\",\n        \"ui:xs\": 3\n    },\n    \"unit\": {\n        \"ui:variant\": \"standard\",\n        \"ui:title\": \"Enhet\",\n//        \"ui:widget\": \"selectNative\",\n        \"ui:xs\": 3\n    }\n\n}","import React, { useState, useEffect } from \"react\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MeasureTypeField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (measureType) => {\n        onChange({\n            ...formData,\n            measureType: measureType\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.measureType,\n        \"ui:title\": \"Type\",\n        \"ui:widget\": \"selectAdornment\"\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.status}\n            uiSchema={uiSchema}\n            formData={formData && formData.status}\n            onChange={_onChange}\n        />\n    )\n\n}\n\nMeasureTypeField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default MeasureTypeField","import React, { useState, useEffect, useRef } from \"react\"\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\n\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\n\nimport Icon from \"@material-ui/core/Icon\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n        position: \"relative\",\n    },\n    grid: {\n        display: \"flex\"\n    },\n    icon: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n    overlay: {\n        position: \"fixed\",\n        zIndex: 1000,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: \"rgba(0,0,0,.1)\"\n    },\n    paper: {\n        padding: theme.spacing(2)\n    },\n\n}));\n\nconst TextFieldPopper = ({\n    id=\"popperfield\",\n    variant=\"filled\",\n    label,\n    helperText,\n    value=\"\",\n    onChange,\n    endAdornment,\n    children\n}) => {\n\n    const classes = useStyles()\n\n    const inputRef = useRef(null)\n\n    const [open, setOpen] = useState(false)\n\n    const _onFocus = () => {\n        setOpen(true)\n    }\n\n    const _onBlur = () => {\n        setOpen(false)\n    }\n\n    return (\n        <>\n        <ClickAwayListener onClickAway={_onBlur}>\n            <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                <InputLabel className={classes.label} variant={variant} htmlFor={id}>{label}</InputLabel>\n                <FilledInput\n                    id={id}\n                    autoComplete=\"off\"\n                    ref={inputRef}\n                    fullWidth={true}\n                    value={value}\n\n                    onFocus={_onFocus}\n    //                onBlur={_onBlur}\n                    onChange={onChange}\n                    endAdornment={endAdornment}\n                />\n                { helperText && <FormHelperText>{helperText}</FormHelperText> }\n\n\n                <Popper disablePortal={true} open={open} style={{width: \"100%\", zIndex: 2000}} role={undefined} transition anchorEl={inputRef.current} placement=\"bottom\">\n                    <Paper className={classes.paper} elevation={1}>\n                        {children}\n                    </Paper>\n                </Popper>\n\n            </FormControl>\n        </ClickAwayListener>\n        </>\n    )\n\n\n\n}\n\nexport default TextFieldPopper","import React, { useState, useEffect } from \"react\"\nimport moment from \"moment\"\nimport model from \"./Measure.model\"\n\nimport MeasureTypeField from \"./MeasureTypeField\"\nimport TextFieldPopper from \"./TextFieldPopper\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst MeasureField = (props) => {\n\n    const { formData, idSchema } = props\n    const { dtStart, dtEnd } = props.formData\n    \n    let description;\n\n    if (dtStart && dtEnd && dtStart !== dtEnd) {\n       description = moment(dtStart).format(\"YYYY-MM-DD\") + \"–\" + moment(dtEnd).format(\"YYYY-MM-DD\")\n    } else if (dtStart) {\n        description = moment(dtStart).format(\"YYYY-MM-DD\")\n    }\n\n    const schema = {\n        ...props.schema,\n        properties: {\n            ...props.schema.properties,\n            ...model.schema.properties,\n        }\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:field\": undefined,\n    }\n\n    const _onChange = (formData) => {\n        let { width, height, depth, unit } = formData\n\n        let values = []\n\n        if (width && height && depth) {\n            values = [width, height, depth]\n        } else if (width && height) {\n            values = [width, height]\n        } else if (width) {\n            values = [width]\n        }\n\n        let value = values && values.join('x')\n\n        if (unit) {\n            value = value + unit\n        }\n\n        formData = {\n            ...formData,\n            value: value\n        }\n\n        props.onChange(formData)\n        \n    }\n\n    const units = schema.properties.unit.enum\n\n    const _onInputChange = (event) => {\n\n        const value = event.target.value\n\n        const numberValue = value.replace(/,/g, '.')\n\n        const split = numberValue && numberValue.split(\"x\") || []\n\n        const width = split && split[0] && parseFloat(split[0])\n        const height = split && split[1] && parseFloat(split[1])\n        const depth = split && split[2] && parseFloat(split[2])\n\n        const unitValue = split && split.length && split[split.length-1]\n    \n        const unit = unitValue && unitValue.replace(/[0-9,.]/g, '')\n    \n        props.onChange({\n            width: width,\n            height: height,\n            depth: depth,\n            unit: unit,\n            value: value\n        })\n\n    }\n\n    const { LayoutField, ObjectField } = props.registry.fields\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const id = idSchema.value.$id\n    const value = formData.value\n    const label = uiOptions.title\n    const helperText = uiOptions.help\n\n    return (\n        <LayoutField {...props}>\n            <TextFieldPopper id={id} value={value} label={label} helperText={helperText} onChange={_onInputChange}>\n                <ObjectField {...props} schema={schema} uiSchema={uiSchema} onChange={_onChange} />\n            </TextFieldPopper>\n        </LayoutField>\n    )\n\n\n\n}\n\nexport default MeasureField","import React, { useState, useEffect } from \"react\"\nimport model from \"./Measure.model\"\n\nconst MeasuresListField = (props) => {\n\n    const schema = {\n        \"type\": \"array\",\n        \"items\": model.schema\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"items\": {\n            \"ui:field\": \"primusMeasure\"\n        }\n    \n    }\n\n    const { ArrayField } = props.registry.fields\n\n    return (\n        <ArrayField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nMeasuresListField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default MeasuresListField","import React, { useState} from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from \"@material-ui/core/Typography\"\nimport RemoveIcon from '@material-ui/icons/RemoveCircle';\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport MeasureField from \"./MeasureField\"\nimport model from \"./Measure.model\"\n\nimport { getMeasureFromString } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    field: {\n        \"& .MuiAutocomplete-input\": {\n            flexBasis: \"100%\"\n        }\n    },\n    form: {\n        backgroundColor: \"white\",\n        padding: theme.spacing(2)\n    },\n    tags: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    tag: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        padding: 8,\n        marginLeft: -4,\n        marginRight: -4,\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n\n    },\n    remove: {\n        cursor: \"pointer\",\n        opacity: .5,\n\n        \"&:hover\": {\n            opacity: 1,\n        }\n\n    },\n    option: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n    },\n    code: {\n        border: '1px solid',\n        borderColor: theme.palette.divider,\n        padding: theme.spacing(.5),\n        borderRadius: 2,\n        fontSize: 11,\n        lineHeight: 1,\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n\n    }\n}));\n\nconst TagList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tags}>\n            {children}\n        </div>\n    )\n}\n\nconst TagItem = ({value, label, description, system, systemId, onDelete }) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.tag}>\n            <Option title={value} description={description} system={system} systemId={systemId} />\n            <RemoveIcon onClick={onDelete} className={classes.remove} />\n        </div>\n    )\n\n}\n\nconst Option = ({title, description, system, systemId}) => {\n\n    const classes = useStyles()\n\n    let code\n\n    if (system && systemId) {\n        code = system + \" \" + systemId\n    }\n\n    return (\n        <Typography className={classes.option}>\n            <span className={classes.title}>{title}</span>\n            {' '}\n            { description && <span className={classes.description}>{description}</span> }\n            {' '}\n            { code && <span className={classes.code}>{code}</span> }\n        </Typography>\n    )\n\n\n}\n\nconst AutocompleteTagsField = ({\n    id = \"autocomplete\", \n    label, \n    helperText,\n    placeholder = \"Legg til\",\n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange,\n    ...props\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        if (props.filterOptions) {\n            return props.filterOptions(options, params)\n        }\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.value;\n\n    }\n\n    const _renderInput = (params) => {\n\n        return (\n            <TextField {...params}\n                className={classes.field}\n                variant=\"filled\"\n                helperText=\"Mål: Høyde x Bredde x Dybde\"\n                label={label}\n                placeholder={placeholder}\n            />\n        )\n    }\n\n    const _renderTags = (tags, getTagProps) => {\n\n        return (\n            <TagList>\n                { tags.map((option, index) => (\n                    <TagItem {...option} {...getTagProps({index})} />\n                )) }\n            </TagList>\n        )\n\n\n    }\n\n    const _filterTags = (tags) => {\n\n        return tags.map(value => {\n\n            if (typeof value === 'string') {\n                value = getMeasureFromString(value)\n            } else if (value && value.inputValue) {\n                value = getMeasureFromString(value.inputValue)\n            } else {\n                value = getMeasureFromString(value.value)\n            }\n\n            return value\n\n        })\n\n    }\n\n\n    const _onChange = (event, tags) => {\n        const formData = _filterTags(tags)\n        onChange && onChange(formData)\n    }\n\n    const [inputFormData, setInputFormData] = useState({})\n\n    const _onInputChange = (event, value, reason) => {\n        value && setInputFormData(getMeasureFromString(value))\n    }\n\n    const { schema, uiSchema } = model;\n\n    const PaperComponent = () => {\n        return (\n            <div className={classes.form}>\n                <MeasureField {...props} schema={schema} uiSchema={uiSchema} formData={inputFormData} />\n            </div>\n        )\n    }\n\n    return (\n        <Autocomplete\n            PaperComponent={PaperComponent}\n            multiple\n            freeSolo\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            id={id + \"-tags\"}\n            options={options}\n            defaultValue={[]}\n            disableClearable\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderTags={_renderTags}\n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nexport default AutocompleteTagsField","import React from \"react\"\nimport MeasureTagsAutocompleteField from \"./MeasureTagsAutocompleteField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\n\nconst MeasureTagsField = (props) => {\n\n    const { formData, uiSchema } = props\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const title = uiOptions.title\n    const placeholder = \"Legg til mål\"\n\n    return (\n        <MeasureTagsAutocompleteField {...props}\n            options={[]}\n            label={title}\n            placeholder={placeholder}\n            value={formData}\n         />\n    )\n\n}\n\nMeasureTagsField.defaultProps = {\n    formData: [\n        \n    ]\n}\n\nexport default MeasureTagsField","import React, { useState, useEffect } from \"react\"\n\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Person\",\n        \"ui:icon\": \"person\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Person\"\n        },\n//        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPersonField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonField","import role from \"./PersonRole.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"certain\",\n                \"uncertain\"\n            ],\n            \"enumNames\": [\n                \"Sikker\",\n                \"Usikker\"\n            ]\n        },\n        \"role\": role,\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","export default {\n    \"type\": \"string\",\n    \"enum\": [\n        \"artist\",\n        \"curator\",\n        \"seller\",\n        \"buyer\"\n    ],\n    \"enumNames\": [\n        \"Kunstner\",\n        \"Kurator\",\n        \"Selger\",\n        \"Kjøper\"\n    ],\n    \"default\": \"artist\"\n}","import schema from \"./Person.schema\"\nimport uiSchema from \"./Person.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"ui:field\": \"primusPerson\",\n    \"ui:title\": \"Aktør\",\n    \"status\": {\n        \"ui:title\": \"Status\"\n    },\n    \"role\": {\n        \"ui:title\": \"Rolle\"\n    }\n}","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n    },\n \n}));\n\nconst ListSearchItem = ({className, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={className || classes.list}>\n            {children}\n        </div>\n    )\n}\n\nListSearchItem.propTypes = {\n}\n\nexport default ListSearchItem;","import React from \"react\"\nimport { NavToolbar } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    listItem: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\", \n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        backgroundColor: \"white\",\n        backgroundColor: \"rgba(0,0,0,.09)\",\n        borderBottom: \"1px solid\",\n        borderBottomColor: theme.palette.divider,\n    },\n    startAdornment: {\n        height: theme.spacing(7),\n        marginRight: theme.spacing(1),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    endAdornment: {\n        height: theme.spacing(7),\n        marginLeft: theme.spacing(1),\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    content: {\n        flexBasis: 0,\n        flexGrow: 1,\n    },\n    toolbar: {\n    }\n}));\n\nconst PrimusListItemLayout = ({children, startAdornment, toolbar}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.listItem}>\n            { startAdornment && <div className={classes.startAdornment}>{startAdornment}</div> }\n            <div className={classes.content}>\n                {children}\n            </div>\n            <div className={classes.endAdornment}>\n                <NavToolbar toolbar={toolbar} />\n            </div>\n        </div>\n    )\n\n}\n\nexport default PrimusListItemLayout","import React, { useState, useEffect } from \"react\"\nimport PrimusListLayout from \"./KnavListLayout\"\nimport PrimusListItemLayout from \"./KnavListItemLayout\"\n\nconst PrimusListArrayField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:sortable\": true,\n        \"ui:layout\": PrimusListLayout,\n        \"items\": {\n            ...props.uiSchema.items,\n            \"ui:layout\": PrimusListItemLayout,\n            \"ui:variant\": \"base\"\n        }\n    }\n\n    const { ArrayField } = props.registry.fields\n\n    return (\n        <ArrayField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPrimusListArrayField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PrimusListArrayField","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        zIndex: 2,\n        position: \"relative\",\n        backgroundColor: \"transparent\",\n        color: \"black\",\n        height: \"36px\",\n        overflow: \"hidden\",\n        fontFamily: \"Akkurat, sans-serif\",\n    },\n    searchInput: {\n        backgroundColor: \"white\",\n        flexBasis: \"100%\",\n        padding: \"9px 42px\",\n        border: \"1px solid\",\n        borderColor: \"#ccc\",\n        borderRadius: \"18px\",\n        fontFamily: \"inherit\",\n        fontSize: \"14px\",\n        lineHeight: \"18px\",\n        color: \"inherit\",\n        outline: \"none\",\n\n        \"&:focus + *:first-child\": {\n            opacity: 1\n        }\n    },\n    searchIcon: {\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        zIndex: 2,\n        top: \"0\",\n        left: \"0\",\n        fontSize: \"20px\",\n        lineHeight: \"24px\",\n        width: '20px',\n        height: '20px',\n        padding: \"0\",\n        margin: \"8px 13px\",\n        opacity: \".5\"\n    },\n    resetButton: {\n        position: \"absolute\",\n        zIndex: 3,\n        top: theme.spacing(1),\n        right: theme.spacing(1),\n    },\n    resetIcon: {\n        width: '20px',\n        height: '20px',\n    }\n}));\n\nconst SearchReset = ({onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <ButtonBase className={classes.resetButton} onClick={onClick}>\n            <CloseIcon className={classes.resetIcon} />\n        </ButtonBase>\n    )\n}\n\nconst ListSearch = ({className, placeholder = \"Search\", q, onChange, onReset}) => {\n    const [value, setValue] = useState(q);\n\n    useEffect(() => {\n        setValue(q);\n    },[q])\n\n    const classes = useStyles()\n\n    const handleChange = (event) => {\n        setValue(event.target.value);\n\n        if (onChange) {\n            onChange(event.target.value, event)\n        }\n\n    }\n\n    const handleReset = (event) => {\n        setValue(\"\");\n\n        if (onReset) {\n            onReset(event)\n        } else if (onChange) {\n            onChange(\"\", event)\n        }\n\n    }\n\n    return (\n        <nav className={className || classes.root}>\n            <input className={classes.searchInput} type=\"text\"\n                value={value}\n                placeholder={placeholder}\n                onChange={handleChange} />\n            <SearchIcon className={classes.searchIcon} />\n            { value && <SearchReset className={classes.buttonReset} onClick={handleReset} /> }\n        </nav>\n    )\n}\n\nListSearch.propTypes = {\n    placeholder: PropTypes.string,\n    q: PropTypes.string,\n    onChange: PropTypes.func,\n    onReset: PropTypes.func\n}\n\nexport default ListSearch;","import React, { useState, useEffect } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        \"& > * + *\": {\n            marginTop: theme.spacing(2)\n        }\n\n    },\n}));\n\nconst ListSearchLayout = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.search}>\n            {children}\n        </div>\n    )\n}\n\nListSearchLayout.propTypes = {\n}\n\nexport default ListSearchLayout;","import React, { useState, useEffect } from 'react';\n\nimport List from \"@material-ui/core/List\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    results: {\n        \"& > *\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        }\n\n    },\n}));\n\nconst ListResultsLayout = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.results}>\n            {children}\n        </div>\n    )\n}\n\nListResultsLayout.propTypes = {\n}\n\nexport default ListResultsLayout;","import React, { useState, useEffect } from 'react';\n\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\n\nimport Button from \"@material-ui/core/ButtonBase\"\n\nimport Icon from \"@material-ui/core/Icon\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport PersonIcon from \"@material-ui/icons/Person\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        backgroundColor: \"white\",\n\n        \"&[aria-selected=true]\": {\n            backgroundColor: theme.palette.action.selected\n        }\n\n    },\n}));\n\nconst ListResultsItemLayout = ({label, description, value, selected, onClick}) => {\n\n    const classes = useStyles()\n\n    return (\n        <ListItem dense button className={classes.item} aria-selected={selected} onClick={onClick}>\n            <ListItemIcon>\n                <PersonIcon />\n            </ListItemIcon>\n            <ListItemText secondary={description}>\n                {label} {selected && true }\n            </ListItemText>\n        </ListItem>\n    )\n}\n\nListResultsItemLayout.propTypes = {\n}\n\nexport default ListResultsItemLayout;","import React from \"react\"\nimport { NavToolbar } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport FormControl from '@material-ui/core/FormControl';\n\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\n\nimport Button from \"@material-ui/core/ButtonBase\"\n\nimport Icon from \"@material-ui/core/Icon\"\nimport AddIcon from \"@material-ui/icons/Add\"\n\n\n\nconst useStyles = makeStyles(theme => ({\n    editor: {\n        backgroundColor: \"white\"\n    },\n    header: {\n        padding: theme.spacing(2),\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16\n    },\n    body: {\n        padding: theme.spacing(2),\n    },\n    footer: {\n        padding: theme.spacing(2),\n        display: \"flex\",\n        \"& > * + *\": {\n            marginLeft: theme.spacing(1)\n        }\n    },\n    primaryButton: {\n        display: \"flex\",\n        border: \"1px solid\",\n        padding: theme.spacing(1, 2),\n        fontFamily: \"Akkurat, sans-serif\",\n        fontWeight: \"bold\",\n    },\n    cancelButton: {\n        display: \"flex\",\n        margin: theme.spacing(1, 2),\n        fontFamily: \"Akkurat, sans-serif\",\n    }\n}));\n\nconst PrimusListResultsAddLayout = ({children, expanded, label = \"Legg til\", onToggle, onSave}) => {\n\n    const classes = useStyles()\n\n    if (expanded) {\n\n        return (\n            <div className={classes.editor}>\n\n                <header className={classes.header}>{label}</header>\n\n                <div className={classes.body}>\n                    {children}\n                </div>\n\n                <footer className={classes.footer}>\n                    <Button className={classes.primaryButton} onClick={onSave}>Lagre og legg til</Button>\n                    <Button className={classes.cancelButton} onClick={onToggle}>Avbryt</Button>\n                </footer>\n                \n            </div>\n        )\n\n    }\n\n    return (\n        <ListItem button className={classes.item} aria-expanded={false} onClick={onToggle}>\n            <ListItemIcon>\n                <AddIcon />\n            </ListItemIcon>\n            <ListItemText>\n                {label}\n            </ListItemText>\n        </ListItem>\n    )\n\n\n    \n}\n\nexport default PrimusListResultsAddLayout","import React, { useState, useEffect } from \"react\"\nimport _ from \"lodash\"\n\nimport ListSearch from \"./ListSearch\"\nimport ListSearchLayout from \"./ListSearchLayout\"\n\nimport ListResultsLayout from \"./ListResultsLayout\"\nimport ListResultsItemLayout from \"./ListResultsItemLayout\"\nimport ListResultsAddLayout from \"./ListResultsAddLayout\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst KnavListSearchField = (props) => {\n\n    const { schema, uiSchema, formData, onChange } = props\n\n    const _onAdd = (item) => {\n\n        if (formData && Array.isArray(formData)) {\n            onChange([\n                ...formData,\n                item\n            ])\n        } else {\n            onChange([item])\n        }\n\n\n    }\n\n    const _onRemove = ({value}) => {\n\n        const newFormData = formData.filter(item => {\n            if (!item.value === value) {\n                return item\n            }\n        })\n\n    }\n\n    const uiOptions = getUiOptions(uiSchema)\n    const uiSearch = uiOptions && uiOptions.search || {}\n\n    const { locale = \"no\", placeholder = \"Søk\", query = {} } = uiSearch\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        let qs = Object.keys(query).map(key => {\n            return key + \":\" + query[key]\n        }) || []\n\n        qs.push(\"compoundName:\" + q)\n\n        const apiUrl = \"https://kulturnav.org/api/summary/\" + qs.join(',')\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    const itemsSelected = formData.length && formData.map(item => {\n        return item.value\n    }) || []\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const name = item.name && item.name[locale]\n            const uuid = item.uuid\n\n            const label = name\n            const value = name\n    \n            let metadata = []\n\n            item.specificType && item.specificType.map(type => {\n                if (type.displayValue && type.displayValue[locale]) {\n                    metadata.push(type.displayValue[locale])\n                }\n            })\n\n            value && uuid && options.push({\n                uuid: uuid,\n                label: label,\n                value: value,\n                description: metadata.join('/')\n            })\n\n        })\n\n        setOptions(options)\n\n    }, [results])\n\n    const ListResults = () => {\n\n        return (\n            <ListResultsLayout>\n                { options.length && options.map((item, index) => <ListResultsItem {...item} key={index} />) || \"\" }\n                <ListResultsAdd />\n            </ListResultsLayout>\n        )\n    }\n\n    const ListResultsItem = (item) => {\n\n        const { uuid, value, description } = item\n\n        if (item.selected) {\n            return <ListResultsItemLayout {...item} onClick={() => _onRemove(item)} />\n        }\n\n        return <ListResultsItemLayout {...item} onClick={() => _onAdd(item)} />\n    }\n\n    const [expanded, setExpanded] = useState(false)\n    const [newData, setNewData] = useState({})\n\n    const ListResultsAdd = () => {\n\n        const { ObjectField } = props.registry.fields\n\n        const _onChange = (formData) => {\n            setNewData(formData)\n        }\n\n        const _onSubmit = () => {\n            _onAdd(newData)\n            setNewData({})\n        }\n    \n        const _onToggle = () => {\n            setExpanded(expanded => !expanded)\n        }\n    \n        return (\n            <ListResultsAddLayout expanded={expanded} onToggle={_onToggle} onSave={_onSubmit}>\n\n                <ObjectField {...props}\n                    formData={newData} \n                    schema={{\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"label\": {\n                                \"type\": \"string\"\n                            },\n                            \"description\": {\n                                \"type\": \"string\"\n                            }\n                        }\n                    }}\n                    uiSchema={{\n                        \"ui:spacing\": 2,\n                        \"label\": {\n                            \"ui:title\": \"Tittel\",\n                            \"ui:variant\": \"standard\"\n                        },\n                        \"description\": {\n                            \"ui:title\": \"Beskrivelse\",\n                            \"ui:variant\": \"standard\"\n                        }\n                    }}\n                    onChange={_onChange}\n                />\n\n\n            </ListResultsAddLayout>\n        )\n\n    }\n\n    return (\n        <ListSearchLayout registry={props.registry} uiSchema={{\"ui:spacing\": 2}}>\n            <ListSearch placeholder={placeholder} onChange={_onQuery} />\n            <ListResults />\n        </ListSearchLayout>\n    )\n\n}\n\nKnavListSearchField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default KnavListSearchField","import React, { useState, useEffect } from \"react\"\nimport _ from \"lodash\"\n\nimport PrimusListArrayField from \"./KnavListArrayField\"\nimport KnavListSearchField from \"./KnavListSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\nconst PrimusListField = (props) => {\n\n    const { LayoutField } = props.registry.fields\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:spacing\": 2\n    }\n\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <PrimusListArrayField {...props} />\n            <KnavListSearchField {...props} />\n        </LayoutField>\n    )\n\n}\n\nPrimusListField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PrimusListField","import React, { useState, useEffect } from \"react\"\nimport KnavListField from \"./KnavListField\"\nimport PersonField from \"./PersonField\"\nimport model from \"./Person.model\"\n\nconst PeopleListField = (props) => {\n\n    const schema = {\n        \"type\": \"array\",\n        \"items\": model.schema\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:search\": {\n            \"placeholder\": \"Finn person\",\n            \"query\": {\n                \"entityType\": \"Person\"\n            }\n        },\n        \"items\": {\n            ...model.uiSchema,\n            \"ui:field\": PersonField,\n        }\n    }\n\n    return (\n        <KnavListField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nPeopleListField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PeopleListField","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PeopleTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Personer\",\n        \"ui:placeholder\": \"Legg til person\",\n        ...props.uiSchema,\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Person\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPeopleTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default PeopleTagsField","import React, { useState, useEffect } from \"react\"\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PlaceRoleField = (props) => {\n\n    const { schema, formData, onChange } = props\n\n    const { StringField } = props.registry.fields\n\n    const _onChange = (status) => {\n        onChange({\n            ...formData,\n            status: status\n        })\n    \n    }\n\n    const uiSchema = {\n        ...props.uiSchema.status,\n        \"ui:title\": \"Status\",\n        \"ui:widget\": SelectAdornmentWidget\n    }\n\n    return (\n        <StringField {...props}\n            schema={schema.properties.status}\n            uiSchema={uiSchema}\n            formData={formData && formData.status}\n            onChange={_onChange}\n        />\n    )\n\n}\n\nPlaceRoleField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PlaceRoleField","import React, { useState, useEffect } from \"react\"\nimport PlaceStatusField from \"./PlaceStatusField\"\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonField = (props) => {\n\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PlaceStatusField {...props} />\n            </>\n        )\n        \n    }\n\n    const uiSchema = {\n        \"ui:title\": \"Sted\",\n//        \"ui:icon\": \"person\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Place\"\n        },\n        \"ui:endAdornment\": <EndAdornment />,\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPersonField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonField","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"status\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"certain\",\n                \"uncertain\"\n            ],\n            \"enumNames\": [\n                \"Sikker\",\n                \"Usikker\"\n            ]\n        },\n        \"value\": {\n            \"type\": \"string\"\n        },\n        \"label\": {\n            \"type\": \"string\"\n        }\n    }\n}","import schema from \"./Place.schema\"\nimport uiSchema from \"./Place.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"ui:field\": \"primusPlace\",\n    \"ui:title\": \"Sted\",\n    \"status\": {\n        \"ui:title\": \"Status\"\n    },\n    \"role\": {\n        \"ui:title\": \"Rolle\"\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport KnavListField from \"./KnavListField\"\nimport PlaceField from \"./PlaceField\"\nimport model from \"./Place.model\"\n\nconst PlacesListField = (props) => {\n\n    const schema = {\n        \"type\": \"array\",\n        \"items\": model.schema\n    }\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:search\": {\n            \"placeholder\": \"Finn sted\",\n            \"query\": {\n                \"entityType\": \"Place\"\n            },\n        }, \n        \"items\": {\n            ...model.uiSchema,\n            \"ui:field\": PlaceField\n        }\n    \n    }\n\n    return (\n        <KnavListField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nPlacesListField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PlacesListField","import React from \"react\"\nimport KnavTagsField from \"./KnavTagsField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PlacesTagsField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Steder\",\n        \"ui:placeholder\": \"Legg til sted\",\n        ...props.uiSchema,\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Place\"\n        },\n    }\n\n    return (\n        <KnavTagsField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nPlacesTagsField.defaultProps = {\n    formData: [\n\n    ]\n}\n\nexport default PlacesTagsField","import React, { useState, useEffect } from \"react\"\n\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Typography from \"@material-ui/core/Typography\";\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport Icon from \"@material-ui/core/Icon\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport data from \"./data/people.json\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    icon: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        fontFamily: \"Akkurat, sans-serif\"\n    },\n    title: {\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\nconst SearchAutocompleteWidget = ({\n        id, \n        label, \n        helperText,\n        icon = <SearchIcon />,\n        startAdornment, \n        endAdornment, \n        variant = \"filled\", \n        options, \n        value, \n        onChange,\n        onInputChange,\n        ...props\n    }) => {\n\n    const classes = useStyles()\n\n    const _getOptionHighlight = (label, q) =>  {\n\n        const matches = match(label, q);\n        const parts = parse(label, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n\n        let { label, description } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n                <span className={classes.title}>\n                    {title}\n                </span>\n\n                {' '}\n\n                { description && <i component=\"i\" className={classes.description}>{description}</i> }\n            </Typography>\n        ) \n\n    }\n\n    if (!startAdornment) {\n        startAdornment = <Icon className={classes.icon}>{icon}</Icon>\n    }\n\n    const _renderInput = ({InputProps, inputProps}) => {\n\n        if (variant === \"base\") {\n            return (\n                <InputBase\n                    ref={InputProps.ref}\n//                    InputProps={InputProps}\n                    inputProps={inputProps}\n                    fullWidth={true}\n//                    startAdornment={startAdornment}\n                    endAdornment={endAdornment}\n                />\n            )\n\n        } else {\n            return (\n                <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                    <InputLabel className={classes.label} variant={variant} htmlFor={inputProps.id}>{label}</InputLabel>\n                    <FilledInput\n                        ref={InputProps.ref}\n//                        InputProps={InputProps}\n                        inputProps={inputProps}\n                        fullWidth={true}\n                        startAdornment={startAdornment}\n                        endAdornment={endAdornment}\n                    />\n                    { helperText && <FormHelperText>{helperText}</FormHelperText> }\n                </FormControl>\n            )\n        }\n\n\n    }\n    \n\n    return (\n        <Autocomplete\n            id={id + \"-suggest\"}\n            fullWidth={true}\n            options={options || []}\n            getOptionLabel={(option) => option.label}\n            getOptionSelected={(option) => option.value === value.value}\n\n            renderOption={_renderOption}\n\n            value={value}\n            onInputChange={onInputChange}\n            onChange={onChange}\n            \n            renderInput={_renderInput}\n        />\n    )\n\n}\n\nSearchAutocompleteWidget.defaultProps = {\n    options: [\n        {\n            value: \"\",\n            label: \"Reset\"\n        }\n    ]\n}\n\nexport default SearchAutocompleteWidget","import React, { useState, useEffect } from \"react\"\nimport SearchAutocomplete from \"./SearchAutocomplete\"\n\nimport _ from \"lodash\"\nimport data from \"./data/people.json\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonFieldSearch = ({idSchema, schema, uiSchema, formData, onChange, ...props}) => {\n\n    const id = idSchema.$id\n    const locale = \"no\"\n\n//    const options = []\n\n    /*\n\n    data.map(item => {\n\n        const label = item.name[locale]\n        const value = item.uuid\n\n        const birthYear = item.begin\n        const deathYear = item.end\n\n        const description = [birthYear,deathYear].join(\"–\")\n        \n        label && value && options.push({\n            label: label,\n            value: value,\n            birthYear: birthYear,\n            deathYear: deathYear,\n            description: description\n        })\n    })\n\n    */\n\n    // query\n\n    const [results, setResults] = useState([])\n\n    const _onQuery = _.debounce((q, event) => {\n\n        const apiUrl = \"https://kulturnav.org/api/summary/entityType:Person,compoundName:\" + q\n\n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(results => {\n            results && setResults(results)\n        })        \n\n    }, 500)\n\n    const [options, setOptions] = useState([])\n\n    useEffect(() => {\n\n        let options = []\n\n        results.map(item => {\n\n            const label = item.name[locale]\n            const value = item.uuid\n    \n            const birthYear = item.begin\n            const deathYear = item.end\n    \n            const description = [birthYear,deathYear].join(\"–\")\n            \n            label && value && options.push({\n                label: label,\n                value: value,\n//                birthYear: birthYear,\n//                deathYear: deathYear,\n                description: description\n            })\n        })\n\n        setOptions(options)\n    \n//        console.log(\"OPTIONS\", options)\n\n    }, [results])\n    \n    let [q, setQ] = useState(\"\")\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n        _onQuery(q)\n\n//        event.target.value && setQ(event.target.value)\n    }\n\n    const _onChange = (event, option, reason) => {\n       option && onChange({\n           ...formData,\n           ...option\n       })\n    }\n\n    const _getHelperText = () => {\n        const { label, description } = formData\n        return label + \" (\" + description + \")\"\n    }\n\n    const uiOptions = getUiOptions(uiSchema)\n    const label = uiOptions.title\n    const helperText = q || uiOptions.help || _getHelperText()\n    const variant = uiOptions.variant\n\n    const icon = \"person\"\n    const endAdornment = props.endAdornment\n\n    return (\n        <SearchAutocomplete\n            id={id}\n            icon={icon}\n            label={label}\n            helperText={helperText}\n            variant={variant}\n            options={options}\n            value={formData}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            endAdornment={endAdornment}\n        />\n    )\n\n\n}\n\nPersonFieldSearch.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonFieldSearch","import React, { useState, useEffect } from \"react\"\nimport ObjectSearchField from \"./ObjectSearchField\"\nimport PersonRoleField from \"./PersonRoleField\"\nimport PersonStatusField from \"./PersonStatusField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst PersonField = (props) => {\n\n    const { LayoutField } = props.registry.fields\n\n    const uiSchema = {\n        ...props.uiSchema,\n    }\n\n    /*\n    const EndAdornment = () => {\n\n        return (\n            <>\n                <PersonStatusField {...props} />\n                <PersonRoleField {...props} />\n            </>\n        )\n        \n    }\n\n    */\n    return (\n        <LayoutField {...props} uiSchema={uiSchema}>\n            <ObjectSearchField {...props} endAdornment={undefined} />\n        </LayoutField>\n    )\n\n}\n\nPersonField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default PersonField","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"value\": {\n            \"type\": \"string\",\n        },\n        \"dtStart\": {\n            \"type\": \"string\",\n//            \"format\": \"date\"\n        },\n        \"dtEnd\": {\n            \"type\": \"string\",\n//            \"format\": \"date\"\n        },\n        \"basis\": {\n            \"type\": \"string\",\n        }\n    }\n}","import schema from \"./Dating.schema\"\nimport uiSchema from \"./Dating.uiSchema\"\n\nexport default {\n    schema: schema,\n    uiSchema: uiSchema\n}","export default {\n    \"ui:title\": \"Datering\",\n    \"ui:help\": \"Datering [fra-til]\",\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2,\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"dtStart\",\n        \"dtEnd\",\n        \"basis\"\n    ],\n    \"value\": {\n        \"ui:title\": \"Datering\",\n    },\n    \"dtStart\": {\n        \"ui:xs\": 6,\n        \"ui:title\": \"Fra\",\n        \"ui:variant\": \"standard\"\n    },\n    \"dtEnd\": {\n        \"ui:xs\": 6,\n        \"ui:title\": \"Til\",\n        \"ui:variant\": \"standard\"\n    },\n    \"basis\": {\n        \"ui:xs\": 12,\n        \"ui:title\": \"Dateringrunnlag\",\n        \"ui:widget\": \"textarea\",\n        \"ui:variant\": \"standard\"\n    }\n\n}","import React, { useState, useEffect } from \"react\"\nimport moment from \"moment\"\nimport model from \"./Dating.model\"\n\nimport TextFieldPopper from \"./TextFieldPopper\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst DateRangeField = (props) => {\n\n    const { formData, idSchema } = props\n    const { dtStart, dtEnd } = props.formData\n    \n    let description;\n\n    if (dtStart && dtEnd && dtStart !== dtEnd) {\n       description = moment(dtStart).format(\"YYYY-MM-DD\") + \"–\" + moment(dtEnd).format(\"YYYY-MM-DD\")\n    } else if (dtStart) {\n        description = moment(dtStart).format(\"YYYY-MM-DD\")\n    }\n\n    const schema = {\n        ...props.schema,\n        properties: {\n            ...props.schema.properties,\n            ...model.schema.properties,\n        }\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n        ...props.uiSchema,\n        \"ui:field\": undefined,\n    }\n\n    const _onChange = (formData) => {\n        let { dtStart, dtEnd } = formData\n\n        let values = []\n\n        if (dtStart && dtEnd && dtStart !== dtEnd) {\n            values = [dtStart,dtEnd]\n        } else if (dtStart) {\n            values = [dtStart]\n        }\n\n        const value = values && values.join(\"–\")\n\n        formData = {\n            ...formData,\n            dtStart: dtStart,\n            dtEnd: dtEnd,\n            value: value\n        }\n\n        props.onChange(formData)\n        \n    }\n\n    const _onInputChange = (event) => {\n\n        const value = event.target.value\n        const parts = value.split('-') || []\n\n        const dtStart = parts[0]\n        const dtEnd = parts[1] || null\n\n        props.onChange({\n            dtStart: dtStart,\n            dtEnd: dtEnd,\n            value: value\n        })\n\n    }\n\n    const { ObjectField } = props.registry.fields\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const id = idSchema.value.$id\n    const value = formData.value\n    const label = uiOptions.title\n    const helperText = uiOptions.help\n\n    return (\n        <TextFieldPopper id={id} value={value} label={label} helperText={helperText} onChange={_onInputChange}>\n            <ObjectField {...props} schema={schema} uiSchema={uiSchema} onChange={_onChange} />\n        </TextFieldPopper>\n    )\n\n\n\n}\n\nexport default DateRangeField","export default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"uuid\": {\n            \"type\": \"string\"\n        },\n        \"value\": {\n            \"type\": \"string\"\n        },\n    }\n}","import schema from \"./Event.schema\"\nimport uiSchema from \"./Event.uiSchema\"\n\nexport default {\n    \"schema\": schema,\n    \"uiSchema\": uiSchema\n}","import eventType from \"./EventType.schema\"\nimport person from \"./Person.schema\"\nimport place from \"./Place.schema\"\nimport dating from \"./Dating.schema\"\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"eventType\": eventType,\n        \"dating\": dating,\n        \"place\": place,\n        \"title\": {\n            \"type\": \"string\",\n        },\n        \"description\": {\n            \"type\": \"string\",\n        },\n        \"people\": {\n            \"type\": \"array\",\n            \"minItems\": 1,\n            \"items\": person\n        },\n        \"places\": {\n            \"type\": \"array\",\n            \"items\": place\n        }\n    }\n}","export default {\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\",\n            \"description\" : \"description\",\n        },\n        prepare({formData: { eventType, dating}, formContext}) {\n            const title = eventType && eventType.value\n            const description = dating && dating.value\n\n            return {\n                title: title,\n                description: description,\n            }\n        }\n    },\n    \"ui:title\": \"Hendelse\",\n    \"ui:fieldset\": [\n        \"eventType\",\n        \"dating\",\n        \"description\",\n        \"people\",\n        \"places\"\n    ],\n    \"ui:options\": {\n        \"grid\": true,\n        \"spacing\": 2\n    },\n    \"eventType\": {\n        \"ui:field\": \"primusEventType\",\n        \"ui:xs\": 6,\n    },\n    \"dating\": {\n        \"ui:xs\": 6,\n        \"ui:field\": \"primusDating\",\n    },\n    \"title\": {\n        \"ui:xs\": 12,\n        \"ui:title\": \"Tittel\"\n    },\n    \"description\": {\n        \"ui:xs\": 12,\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"people\": {\n        \"ui:xs\": 12,\n        \"ui:field\": \"primusPeopleTags\",\n        \"ui:title\": \"Relaterte personer\",\n    },\n    \"places\": {\n        \"ui:xs\": 12,\n        \"ui:field\": \"primusPlaceTags\",\n        \"ui:title\": \"Relaterte steder\",\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport model from \"./Event.model\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst EventField = (props) => {\n\n    const { ObjectField } = props.registry.fields\n\n    const schema = {\n        ...model.schema,\n    }\n\n    const uiSchema = {\n        ...model.uiSchema,\n    }\n\n    return (\n        <ObjectField {...props} schema={schema} uiSchema={uiSchema} />\n    )\n\n}\n\nEventField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default EventField","import React, { useState, useEffect } from \"react\"\nimport KnavSearchField from \"./KnavSearchField\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\nconst EventTypeField = (props) => {\n\n    const uiSchema = {\n        \"ui:title\": \"Hendelsestype\",\n        \"ui:icon\": \"person\",\n        \"ui:field\": \"knavSearchField\",\n        \"ui:locale\": \"no\",\n        \"ui:query\": {\n            \"entityType\": \"Person\"\n        },\n        ...props.uiSchema,\n    }\n\n    return (\n        <KnavSearchField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nEventTypeField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default EventTypeField","import schema from \"./EventType.schema\"\nimport uiSchema from \"./EventType.uiSchema\"\n\nexport default {\n    \"schema\": schema,\n    \"uiSchema\": uiSchema\n}","export default {\n    \"ui:title\": \"Hendelsestype\",\n    \"ui:field\": \"knavSearchField\",\n    \"ui:locale\": \"no\",\n    \"ui:query\": {\n        \"entity.dataset\": \"4118813d-3fd0-4db0-9d84-0b8040d3e23f\"\n    }\n}","import React, { useState, useEffect } from \"react\"\nimport event from \"./Event.model\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState, toIdSchema } = utils\n\nconst PrimusEventsField = (props) => {\n\n\n    const Layout = ({children}) => {\n        return children\n    }\n\n    const uiSchema = {\n        \"ui:layout\": Layout,\n        \"items\": event.uiSchema\n    }\n\n    const { ArrayField } = props.registry.fields\n\n\n    return <ArrayField {...props} uiSchema={uiSchema} />\n\n}\n\nexport default PrimusEventsField","import React from \"react\"\n\nimport CC from \"./icons/CC\"\nimport By from \"./icons/By\"\nimport Nd from \"./icons/Nd\"\nimport Nc from \"./icons/Nc\"\nimport Sa from \"./icons/Sa\"\nimport Pd from \"./icons/Pd\"\nimport Pdm from \"./icons/Pdm\"\nimport Copyright from \"./icons/Copyright\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    icons: {\n        display: \"flex\",\n        alignItems: \"center\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    icon: {\n        fontSize: \"inherit\",\n        fill: \"currentColor\",\n        \"& *\": {\n            fill: \"currentColor\"\n        }\n    }\n}))\n\nconst icons = {\n    \"cc\": CC,\n    \"by\": By,\n    \"nd\": Nd,\n    \"nc\": Nc,\n    \"sa\": Sa,\n    \"pd\": Pd,\n    \"pdm\": Pdm,\n    \"copyright\": Copyright,\n}\n\nconst LicenseIcons = ({className, value}) => {\n\n    const licenses = value && value.split('-') || value && [value]\n\n    const classes = useStyles()\n\n    let licenseIcons = []\n\n    licenses && licenses.map(license => {\n\n        const icon = icons && icons[license]\n\n        if (icon) {\n            licenseIcons.push(icon)\n        }\n\n    })\n\n    if (!licenseIcons.length) {\n        return false\n    }\n\n    return (\n        <div className={className || classes.icons}>\n            {licenseIcons.map((Icon, index) => <Icon className={classes.icon} key={index} /> )}\n        </div>\n    )\n\n\n\n}\n\nexport default LicenseIcons","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9781 0C15.3347 0 18.1927 1.17189 20.5496 3.51455C21.6776 4.64295 22.5352 5.93259 23.121 7.38237C23.7064 8.83251 24 10.3715 24 12.0002C24 13.6431 23.7101 15.1825 23.1322 16.6176C22.5536 18.0532 21.6997 19.3214 20.5717 20.4213C19.4006 21.5782 18.0719 22.4644 16.5858 23.0786C15.1004 23.6929 13.5643 24 11.9788 24C10.3933 24 8.87526 23.697 7.42512 23.0891C5.97534 22.4824 4.6752 21.6037 3.52506 20.4539C2.37491 19.3042 1.50002 18.0074 0.900014 16.5644C0.300005 15.1214 0 13.6003 0 12.0002C0 10.4143 0.30338 8.88951 0.910514 7.42512C1.51765 5.96072 2.40004 4.65007 3.55693 3.4928C5.84259 1.16477 8.64951 0 11.9781 0ZM12.0216 2.16453C9.27877 2.16453 6.97136 3.12192 5.09971 5.03595C4.15657 5.99334 3.43168 7.06811 2.92467 8.261C2.41691 9.4539 2.16378 10.7004 2.16378 12.0006C2.16378 13.2865 2.41691 14.5259 2.92467 15.718C3.43205 16.9116 4.15657 17.9759 5.09971 18.9115C6.04247 19.8476 7.10636 20.5612 8.29288 21.0547C9.47827 21.5475 10.7214 21.7938 12.0216 21.7938C13.3071 21.7938 14.5529 21.5445 15.7615 21.0442C16.9686 20.5436 18.0569 19.8228 19.0289 18.88C20.9002 17.0515 21.8355 14.7587 21.8355 12.0009C21.8355 10.6723 21.5925 9.41527 21.1068 8.2295C20.6219 7.04374 19.9143 5.98697 18.9865 5.0577C17.0568 3.12905 14.7359 2.16453 12.0216 2.16453ZM11.8712 10.0078L10.2635 10.8437C10.0918 10.487 9.8814 10.2365 9.63165 10.0937C9.38152 9.95116 9.14939 9.87953 8.93489 9.87953C7.86387 9.87953 7.32762 10.5864 7.32762 12.0009C7.32762 12.6437 7.46337 13.1575 7.7345 13.5433C8.006 13.9292 8.40613 14.1223 8.93489 14.1223C9.63503 14.1223 10.1278 13.7792 10.4139 13.0937L11.8922 13.8437C11.5779 14.4299 11.1422 14.8904 10.5849 15.226C10.0284 15.562 9.41377 15.7296 8.74214 15.7296C7.67075 15.7296 6.80598 15.4015 6.14897 14.7437C5.49196 14.0867 5.16346 13.1725 5.16346 12.0013C5.16346 10.8583 5.49571 9.95153 6.15985 9.2799C6.82398 8.60863 7.66325 8.27263 8.67801 8.27263C10.1642 8.27188 11.2281 8.85051 11.8712 10.0078ZM18.7927 10.0078L17.2068 10.8437C17.0354 10.487 16.8243 10.2365 16.5745 10.0937C16.324 9.95116 16.0844 9.87953 15.8567 9.87953C14.7854 9.87953 14.2491 10.5864 14.2491 12.0009C14.2491 12.6437 14.3852 13.1575 14.6564 13.5433C14.9275 13.9292 15.3272 14.1223 15.8567 14.1223C16.5561 14.1223 17.0493 13.7792 17.3346 13.0937L18.8347 13.8437C18.5065 14.4299 18.0633 14.8904 17.5068 15.226C16.9495 15.562 16.3424 15.7296 15.6854 15.7296C14.5994 15.7296 13.732 15.4015 13.0825 14.7437C12.4314 14.0867 12.1067 13.1725 12.1067 12.0013C12.1067 10.8583 12.4386 9.95153 13.1035 9.2799C13.7672 8.60863 14.6065 8.27263 15.6209 8.27263C17.1066 8.27188 18.1645 8.85051 18.7927 10.0078Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3491 0 18.1924 1.15688 20.5069 3.47137C22.8349 5.80013 24 8.643 24 12C24 15.3716 22.8566 18.1785 20.5706 20.421C18.1421 22.8071 15.2783 24 11.9786 24C8.73525 24 5.92125 22.821 3.53587 20.4637C1.179 18.1065 0 15.2858 0 12C0 8.71463 1.179 5.87175 3.53587 3.47175C5.85037 1.15687 8.664 0 11.9786 0ZM12.0214 2.1645C9.29287 2.1645 6.98588 3.12187 5.1 5.03587C3.1425 7.03613 2.16412 9.35775 2.16412 12.0004C2.16412 14.6576 3.13538 16.9579 5.07788 18.8996C7.02075 20.8429 9.33488 21.8137 12.0206 21.8137C14.6918 21.8137 17.0209 20.8361 19.0065 18.8782C20.8924 17.064 21.8351 14.7713 21.8351 11.9996C21.8351 9.27113 20.8777 6.95025 18.9641 5.0355C17.0501 3.1215 14.7356 2.1645 12.0214 2.1645ZM15.2359 9.02137V13.9282H13.8649V19.7565H10.1359V13.9286H8.76487V9.02137C8.76487 8.80687 8.83988 8.625 8.9895 8.475C9.13988 8.32538 9.32213 8.25 9.53588 8.25H14.4649C14.6648 8.25 14.8436 8.325 15.0004 8.475C15.1567 8.625 15.2359 8.80725 15.2359 9.02137ZM10.3282 5.93588C10.3282 4.80788 10.8851 4.24313 12 4.24313C13.1149 4.24313 13.6714 4.80713 13.6714 5.93588C13.6714 7.05 13.1141 7.60725 12 7.60725C10.8859 7.60725 10.3282 7.05 10.3282 5.93588Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3353 0 18.1778 1.16438 20.5069 3.49313C22.8349 5.80763 24 8.643 24 12C24 15.3578 22.8566 18.1714 20.5706 20.4427C18.1567 22.8142 15.2921 24 11.9786 24C8.73525 24 5.92125 22.8214 3.53587 20.4637C1.179 18.1072 0 15.2865 0 12.0004C0 8.72925 1.179 5.8935 3.53587 3.4935C5.86425 1.16438 8.67863 0 11.9786 0ZM12.0214 2.1645C9.29287 2.1645 6.98588 3.129 5.1 5.05763C3.1425 7.04363 2.16412 9.35775 2.16412 12C2.16412 14.6719 3.13538 16.9714 5.07788 18.9C7.02075 20.8433 9.33488 21.8141 12.0206 21.8141C14.6918 21.8141 17.0209 20.8361 19.0065 18.8786C20.8924 17.0501 21.8351 14.7578 21.8351 12C21.8351 9.25762 20.8777 6.94313 18.9641 5.05763C17.064 3.12825 14.7495 2.1645 12.0214 2.1645ZM16.5431 9.171V11.2282H7.82175V9.171H16.5431ZM16.5431 13.0286V15.0848H7.82175V13.0286H16.5431Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9783 0C15.3495 0 18.1924 1.15688 20.5069 3.471C22.8349 5.7855 24 8.62837 24 12C24 15.372 22.857 18.1785 20.5706 20.4218C18.1425 22.8075 15.2779 24 11.9783 24C8.721 24 5.907 22.8142 3.53587 20.4431C1.179 18.0855 0 15.2719 0 12C0 8.71425 1.179 5.87138 3.53587 3.47137C5.85 1.15725 8.664 0 11.9783 0ZM2.7 8.7645C2.343 9.75 2.16412 10.8289 2.16412 12.0004C2.16412 14.6576 3.13538 16.9579 5.07788 18.9004C7.035 20.8294 9.3495 21.7935 12.0206 21.7935C14.721 21.7935 17.049 20.8155 19.0069 18.8576C19.707 18.1864 20.2564 17.4863 20.6561 16.7569L16.1351 14.7427C15.9773 15.5002 15.5955 16.1179 14.9888 16.596C14.3805 17.0745 13.6631 17.3501 12.8348 17.421V19.2641H11.442V17.421C10.1134 17.4075 8.89875 16.929 7.79925 15.9859L9.44925 14.3145C10.2345 15.0428 11.1277 15.4069 12.1279 15.4069C12.5419 15.4069 12.8959 15.3146 13.1891 15.1282C13.4816 14.943 13.6286 14.6362 13.6286 14.2069C13.6286 13.9065 13.521 13.6639 13.3069 13.4783L12.15 12.9851L10.7359 12.342L8.82862 11.5061L2.7 8.7645ZM12.0214 2.14275C9.29287 2.14275 6.98588 3.10688 5.1 5.0355C4.62825 5.50725 4.18538 6.04275 3.77138 6.64313L8.35725 8.7C8.55712 8.0715 8.9355 7.56788 9.49313 7.1895C10.0496 6.81113 10.6999 6.60038 11.4431 6.55725V4.71413H12.8362V6.55725C13.9365 6.61463 14.9362 6.98588 15.8362 7.67138L14.2717 9.27863C13.5994 8.80725 12.9146 8.57175 12.2145 8.57175C11.8429 8.57175 11.511 8.64338 11.2185 8.78588C10.9256 8.92875 10.779 9.17175 10.779 9.5145C10.779 9.61462 10.8146 9.71438 10.8859 9.8145L12.4072 10.5008L13.4573 10.9721L15.3862 11.829L21.5351 14.5718C21.7357 13.7288 21.8355 12.8719 21.8355 12.0004C21.8355 9.243 20.8785 6.92175 18.9645 5.0355C17.0644 3.10688 14.7491 2.14275 12.0214 2.14275Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3353 0 18.1778 1.16438 20.5069 3.49313C22.8349 5.80763 24 8.643 24 12C24 15.3578 22.8566 18.1714 20.5706 20.4427C18.1567 22.8142 15.2921 24 11.9786 24C8.73525 24 5.92125 22.8214 3.53587 20.4641C1.179 18.1072 0 15.2865 0 12.0004C0 8.72925 1.179 5.8935 3.53587 3.4935C5.86425 1.16438 8.67863 0 11.9786 0ZM12.0214 2.1645C9.29287 2.1645 6.98588 3.129 5.1 5.05763C3.1425 7.04363 2.16412 9.35775 2.16412 12C2.16412 14.6719 3.13538 16.9714 5.07788 18.9C7.02075 20.8433 9.33488 21.8141 12.0206 21.8141C14.6918 21.8141 17.0209 20.8357 19.0065 18.8786C20.8924 17.0501 21.8351 14.7574 21.8351 12C21.8351 9.25762 20.8777 6.94313 18.9641 5.05763C17.064 3.12825 14.7495 2.1645 12.0214 2.1645ZM6.66412 10.3069C6.8925 8.83538 7.485 7.69613 8.44238 6.88913C9.39938 6.08213 10.5634 5.67862 11.9351 5.67862C13.8202 5.67862 15.321 6.28613 16.4351 7.49963C17.5492 8.71388 18.1065 10.2713 18.1065 12.171C18.1065 14.0141 17.5279 15.546 16.3714 16.767C15.2134 17.988 13.7141 18.5992 11.8706 18.5992C10.5135 18.5992 9.342 18.1924 8.3565 17.3779C7.37063 16.5634 6.77813 15.4065 6.57788 13.9065H9.6C9.67125 15.3637 10.5499 16.0924 12.2359 16.0924C13.0781 16.0924 13.7572 15.7279 14.2714 14.9996C14.7862 14.2714 15.0435 13.2994 15.0435 12.0855C15.0435 10.8139 14.8076 9.84638 14.3366 9.18188C13.8649 8.51775 13.1869 8.1855 12.3004 8.1855C10.6999 8.1855 9.80025 8.89237 9.60037 10.3065H10.479L8.10075 12.6851L5.72213 10.3065L6.66412 10.3069Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M11.9786 0C15.3491 0 18.1961 1.161 20.5174 3.48225C22.839 5.8035 24 8.64262 24 12C24 15.3578 22.8566 18.1639 20.5706 20.421C18.1567 22.8071 15.2921 24 11.9786 24C8.721 24 5.91037 22.821 3.54637 20.4637C1.18162 18.1065 0 15.2858 0 12C0 8.71463 1.179 5.87175 3.53587 3.47175C5.85037 1.15687 8.664 0 11.9786 0ZM12.0109 2.1645C9.2895 2.1645 6.9855 3.12187 5.10037 5.03587C3.14288 7.02187 2.1645 9.34312 2.1645 12.0004C2.1645 14.6576 3.13575 16.9579 5.07862 18.8996C7.0215 20.8429 9.33562 21.8137 12.0214 21.8137C14.7071 21.8137 17.0355 20.8361 19.0073 18.8782C20.8931 17.0494 21.8359 14.7566 21.8359 11.9996C21.8359 9.25688 20.8785 6.93563 18.9649 5.0355C17.0501 3.1215 14.7319 2.1645 12.0109 2.1645ZM6.36413 15.2573V8.6145H9.66412C11.2924 8.6145 12.1069 9.36413 12.1069 10.8645C12.1069 11.1218 12.0675 11.3678 11.9891 11.604C11.9108 11.8399 11.7746 12.075 11.5819 12.3113C11.3891 12.5471 11.1 12.7399 10.7141 12.8899C10.3286 13.0395 9.8715 13.1149 9.34313 13.1149H8.03588V15.2576H6.36413V15.2573ZM8.01413 9.85687V11.8714H9.42825C9.771 11.8714 10.0283 11.7746 10.2 11.5819C10.3718 11.3895 10.4576 11.1499 10.4576 10.8637C10.4576 10.1925 10.1002 9.8565 9.38587 9.8565H8.0145V9.85687H8.01413ZM12.5565 15.2573V8.6145H15.1286C16.1854 8.6145 17.0138 8.886 17.6145 9.42862C18.2138 9.97162 18.5137 10.8075 18.5137 11.9359C18.5137 13.0646 18.2134 13.9009 17.6145 14.4431C17.0138 14.9857 16.1854 15.2573 15.1286 15.2573H12.5565ZM14.2076 10.0073V13.8649H15.1714C15.7571 13.8649 16.182 13.6901 16.4464 13.3395C16.7107 12.9896 16.8428 12.5224 16.8428 11.9362C16.8428 11.3505 16.7107 10.8829 16.4464 10.5326C16.182 10.1827 15.75 10.008 15.15 10.008L14.2076 10.0073Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M12 0C5.37275 0 0 5.37275 0 12C0 18.6265 5.37275 24 12 24C18.6272 24 24 18.6265 24 12C24 5.37269 18.6272 0 12 0ZM12 21.7499C6.62356 21.7499 2.24975 17.3757 2.24975 12C2.24975 10.8746 2.44369 9.79381 2.79637 8.78787L6.60969 10.4859C6.507 10.9962 6.45131 11.5286 6.45131 12.0784C6.45131 16.869 10.0271 18.2188 12.2768 18.2188C13.6035 18.2188 14.7517 17.7906 15.6505 17.1623C15.8213 17.0399 15.9761 16.9167 16.1182 16.7913L14.3689 14.6658C14.3176 14.7244 14.264 14.7801 14.2091 14.83C13.5286 15.4752 12.7808 15.4752 12.6136 15.4752C10.7833 15.4752 10.0171 13.544 10.0068 11.997L20.5166 16.6762C20.5291 16.6784 20.5393 16.6784 20.5496 16.6806C18.8912 19.6999 15.6806 21.7499 12 21.7499ZM21.3957 14.4913L10.556 9.65306C10.9471 8.94481 11.5696 8.4125 12.5011 8.4125C13.0411 8.4125 13.4693 8.59137 13.8066 8.81725C13.9466 8.91844 14.0683 9.01956 14.1709 9.1215L16.1249 7.11038C14.8125 5.982 13.3204 5.78037 12.3446 5.78037C10.0516 5.78037 8.42906 6.77163 7.47263 8.27688L3.84775 6.66019C5.59237 4.00606 8.59437 2.24937 12 2.24937C17.3764 2.24937 21.7506 6.62288 21.7506 12C21.7506 12.8703 21.6341 13.7127 21.4192 14.5163C21.4104 14.5075 21.4046 14.5001 21.3957 14.4913Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from \"react\";\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nexport default (props) => (\n    <SvgIcon {...props}>\n        <path d=\"M12 0C14.0574 0 16.0313 0.516971 17.9217 1.55091C19.812 2.58486 21.295 4.06266 22.3708 5.98433C23.4569 7.89556 24 9.90078 24 12C24 14.0888 23.4674 16.0836 22.4021 17.9843C21.3473 19.8747 19.8695 21.3525 17.9687 22.4178C16.0783 23.4726 14.0888 24 12 24C9.91123 24 7.91645 23.4726 6.01567 22.4178C4.12533 21.3525 2.64752 19.8747 1.58225 17.9843C0.527415 16.0836 0 14.0888 0 12C0 9.90078 0.537859 7.89556 1.61358 5.98433C2.69974 4.06266 4.18799 2.58486 6.07833 1.55091C7.96867 0.516971 9.94256 0 12 0ZM12 2.36554C10.3499 2.36554 8.7624 2.77807 7.2376 3.60313C5.72324 4.4282 4.53264 5.61358 3.6658 7.15927C2.79896 8.69452 2.36554 10.3081 2.36554 12C2.36554 13.671 2.78851 15.2689 3.63446 16.7937C4.49086 18.3185 5.68146 19.5091 7.20627 20.3655C8.73107 21.2115 10.329 21.6345 12 21.6345C13.671 21.6345 15.2689 21.2115 16.7937 20.3655C18.3185 19.5091 19.5039 18.3185 20.3499 16.7937C21.2063 15.2689 21.6345 13.671 21.6345 12C21.6345 10.3185 21.201 8.70496 20.3342 7.15927C19.4674 5.61358 18.2715 4.4282 16.7467 3.60313C15.2324 2.77807 13.6501 2.36554 12 2.36554ZM14.9138 13.7859L17.436 14.6319C17.0392 15.9478 16.3812 16.9556 15.4621 17.6554C14.5431 18.3551 13.4465 18.705 12.1723 18.705C10.3864 18.705 8.9295 18.1201 7.80157 16.9504C6.67363 15.7807 6.10966 14.1671 6.10966 12.1097C6.10966 10.7624 6.36031 9.56136 6.86162 8.50653C7.36292 7.4517 8.08355 6.66319 9.0235 6.14099C9.97389 5.6188 11.0339 5.3577 12.2037 5.3577C13.4883 5.3577 14.5587 5.6658 15.4151 6.28198C16.282 6.88773 16.9556 7.84856 17.436 9.16449L14.8982 9.75979C14.6057 8.99739 14.2245 8.44386 13.7546 8.09922C13.295 7.75457 12.7467 7.58225 12.1097 7.58225C11.1593 7.58225 10.3812 7.94256 9.77546 8.66319C9.16971 9.37337 8.86684 10.4909 8.86684 12.0157C8.86684 13.5405 9.16449 14.6632 9.75979 15.3838C10.3551 16.1044 11.0705 16.4648 11.906 16.4648C12.6057 16.4648 13.2115 16.2611 13.7232 15.8538C14.235 15.436 14.6319 14.7467 14.9138 13.7859Z\" fill=\"black\"/>\n    </SvgIcon>\n)\n","import React from 'react';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport Typography from \"@material-ui/core/Typography\"\n\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FilledInput from \"@material-ui/core/FilledInput\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport LicenseIcons from \"./LicenseIcons\"\n\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    control: {\n\n    },\n    icons: {\n        fontSize: 18,\n        marginTop: 17,\n        marginRight: 6,\n        display: \"flex\",\n\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n\n        \"& > *\": {\n            fontSize: \"inherit\"\n        }\n\n    },\n    option: {\n        display: \"flex\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n    },\n    description: {\n        fontSize: 14,\n        color: theme.palette.text.secondary,\n\n        \"&:before\": {\n            content: '\"(\"'\n        },\n        \"&:after\": {\n            content: '\")\"'\n        }\n\n    },\n\n}));\n\n\nconst LicenseFieldAutocomplete = ({\n    id, \n    label, \n    helperText,\n    endAdornment, \n    variant = \"filled\", \n    value, \n    options = [], \n    onChange, \n    onInputChange\n}) => {\n\n    const classes = useStyles()\n\n    const _filterOptions = (options, params) => {\n\n        console.log('params', params)\n\n        const filter = createFilterOptions({\n            stringify: option => option.label,\n        });\n\n        const filtered = filter(options, params);\n\n        /*\n\n        // Suggest the creation of a new value\n        if (params.inputValue !== '') {\n            filtered.push({\n                inputValue: params.inputValue,\n                label: params.inputValue,\n                label: `Add \"${params.inputValue}\"`,\n            });\n        }\n\n        */\n\n        return filtered;\n    }\n\n    const _getOptionLabel = (option) => {\n\n        // Value selected with enter, right from the input\n        if (typeof option === 'string') {\n            return option;\n        }\n        // Add \"xxx\" option created dynamically\n        if (option.inputValue) {\n            return option.inputValue;\n        }\n\n        // Regular option\n        return option.label || \"\";\n\n    }\n\n    const _getOptionHighlight = (value, q) =>  {\n\n        const matches = match(value, q);\n        const parts = parse(value, matches);\n    \n        return parts.map((part, index) => {\n            if (part.highlight) {\n                return <b className={classes.suggestHighlight} key={index}>{part.text}</b>\n            }\n            return part.text\n        })\n\n    }\n\n    const _renderOption = (option = {}, state) => {\n        const { inputValue } = state\n        const { label, value } = option\n\n        // highlight\n\n        const title = _getOptionHighlight(label, inputValue)\n\n        return (\n            <Typography className={classes.option}>\n\n                <LicenseIcons {...option} />\n\n                <span className={classes.title}>\n                    {title}\n                </span>\n\n                {' '}\n\n                { value && <i component=\"i\" className={classes.description}>{value}</i> }\n            </Typography>\n        ) \n\n    }\n    \n    const _renderInput = ({InputProps, inputProps}) => {\n\n        if (variant === \"base\") {\n            return (\n                <InputBase\n                    ref={InputProps.ref}\n                    inputProps={inputProps}\n                    fullWidth={true}\n                    endAdornment={endAdornment}\n                />\n            )\n\n        } else {\n\n            const startAdornment = <LicenseIcons className={classes.icons} {...value} />\n\n            return (\n                <FormControl className={classes.control} fullWidth={true} variant={variant}>\n                    <InputLabel className={classes.label} variant={variant} htmlFor={inputProps.id}>{label}</InputLabel>\n                    <FilledInput\n                        ref={InputProps.ref}\n                        inputProps={inputProps}\n                        fullWidth={true}\n                        startAdornment={startAdornment}\n                        endAdornment={endAdornment}\n                    />\n                    { helperText && <FormHelperText>{helperText}</FormHelperText> }\n                </FormControl>\n            )\n        }\n\n    }\n\n    const _onChange = (event, value) => {\n\n        let formData = {}\n\n        if (typeof value === 'string') {\n            formData = {\n                value: value,\n            }\n        } else if (value && value.inputValue) {\n            // Create a new value from the user input\n            formData = {\n                value: value.inputValue,\n            }\n        } else {\n            formData = value\n        }\n\n//        setValue(formData)\n        onChange && onChange(formData)\n\n    }\n\n    const _onInputChange = (value) => {\n        onInputChange && onInputChange(value)\n    }\n\n    return (\n        <Autocomplete\n            freeSolo\n            id={id + \"-suggest\"}\n            groupBy={(option) => option.group}\n\n            value={value}\n            onChange={_onChange}\n            onInputChange={_onInputChange}\n            selectOnFocus\n            clearOnBlur\n            handleHomeEndKeys\n            options={options}\n            filterOptions={_filterOptions}\n            getOptionLabel={_getOptionLabel}\n            renderOption={_renderOption}\n            renderInput={_renderInput}\n        />        \n    )\n    \n}\n\nexport default LicenseFieldAutocomplete","export default [\n    {\n        \"groupId\": 0,\n        \"label\": \"Ingen lisens\",\n        \"value\": \"none\"\n    },\n    {\n        \"groupId\": 1,\n        \"group\": \"by-nd\",\n        \"label\": \"Opphavsrett\",\n        \"value\": \"copyright\"\n    },\n    {\n        \"groupId\": 2,\n        \"group\": \"by\",\n        \"label\": \"Navngivelse\",\n        \"system\": \"cc\",\n        \"value\": \"by\"\n    },\n    {\n        \"groupId\": 2,\n        \"group\": \"by\",\n        \"label\": \"Navngivelse-DelPåSammeVilkår\",\n        \"system\": \"cc\",\n        \"value\": \"by-sa\"\n    },\n    {\n        \"groupId\": 3,\n        \"group\": \"by-nd\",\n        \"label\": \"Navngivelse-IngenBearbeidelse\",\n        \"system\": \"cc\",\n        \"value\": \"by-nd\"\n    },\n    {\n        \"groupId\": 4,\n        \"group\": \"by-nc\",\n        \"label\": \"Navngivelse-IkkeKommersiell\",\n        \"system\": \"cc\",\n        \"value\": \"by-nc\"\n    },\n    {\n        \"groupId\": 4,\n        \"group\": \"by-nc\",\n        \"label\": \"Navngivelse-IkkeKommersiell-DelPåSammeVilkår\",\n        \"system\": \"cc\",\n        \"value\": \"by-nc-sa\"\n    },\n    {\n        \"groupId\": 1,\n        \"group\": \"by-nd\",\n        \"label\": \"Navngivelse-IkkeKommersiell-IngenBearbeidelser\",\n        \"system\": \"cc\",\n        \"value\": \"by-nc-nd\"\n    },\n    {\n        \"groupId\": 5,\n        \"group\": \"pd\",\n        \"label\": \"Public Domain Mark\",\n        \"system\": \"cc\",\n        \"value\": \"pdm\"\n    },\n    {\n        \"groupId\": 5,\n        \"group\": \"pd\",\n        \"label\": \"Public Domain Dedication\",\n        \"value\": \"pdd\"\n    }\n]","import React, { useState, useEffect } from \"react\"\nimport LicenseFieldAutocomplete from \"./LicenseFieldAutocomplete\"\nimport data from \"./LicenseField.data\"\n\nimport _ from \"lodash\"\n\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils\n\n\n\nconst LicenseField = (props) => {\n\n    const { idSchema, schema, uiSchema, formData = {}, onChange } = props\n\n    const id = idSchema.$id\n\n    // options\n\n    const options = data\n\n    // query\n\n    const uiOptions = getUiOptions(uiSchema)\n\n    const _onInputChange = (event) => {\n        const q = event && event.target.value;\n//        _onQuery(q)\n    }\n\n    const _onChange = (option) => {\n\n        console.log('option', option)\n\n       option && onChange({\n           ...option\n       })\n    }\n\n    // label, helperText, variant\n\n    const label = uiOptions.title || \"License\"\n    const helperText = uiOptions.help\n    const variant = uiOptions.variant\n\n    const endAdornment = uiOptions.endAdornment\n\n    const { LayoutField } = props.registry.fields\n\n\n    return (\n        <LayoutField {...props}>\n            <LicenseFieldAutocomplete\n                id={id}\n                label={label}\n                helperText={helperText}\n                variant={variant}\n                options={options}\n                formData={formData}\n                value={formData}\n                onChange={_onChange}\n                onInputChange={_onInputChange}\n                endAdornment={endAdornment}\n            />\n        </LayoutField>\n    )\n\n\n}\n\nLicenseField.defaultProps = {\n    formData: {\n        \n    }\n}\n\nexport default LicenseField","// primus editor\n\nimport PrimusEditorField from \"./PrimusEditorField\"\nimport PrimusEditorLayout from \"./PrimusEditorLayout\"\n\nimport PrimusContentField from \"./PrimusContentField\"\nimport PrimusContentLayout from \"./PrimusContentLayout\"\n\nimport PrimusSectionField from \"./PrimusSectionField\"\nimport PrimusSectionLayout from \"./PrimusSectionLayout\"\n\nimport PrimusMediaField from \"./PrimusMediaField\"\nimport PrimusMediaLayout from \"./PrimusMediaLayout\"\n\n// etcetera\n\nimport SelectAdornmentWidget from \"./SelectAdornmentWidget\"\nimport SelectNativeWidget from \"./SelectNativeWidget\"\nimport PrimusFieldsetLayout from \"./PrimusFieldsetLayout\"\n\n// knav\n\nimport KnavSearchField from \"./KnavSearchField\"\nimport KnavTagsField from \"./KnavTagsField\"\n\n\n// designation\n\nimport DesignationField from \"./DesignationField\"\nimport DesignationModel from \"./Designation.model\"\nimport DesignationTagsField from \"./DesignationTagsField\"\n\n// classification\n\nimport ClassificationField from \"./ClassificationField\"\nimport ClassificationModel from \"./Classification.model\"\nimport ClassificationTagsField from \"./ClassificationTagsField\"\n\n// materials\n\nimport MaterialField from \"./MaterialField\"\nimport MaterialModel from \"./Material.model\"\nimport MaterialTagsField from \"./MaterialTagsField\"\n\n// techniques\n\nimport TechniqueField from \"./TechniqueField\"\nimport TechniqueModel from \"./Technique.model\"\nimport TechniqueTagsField from \"./TechniqueTagsField\"\n\n// color\n\nimport ColorModel from \"./Color.model\"\nimport ColorTagsField from \"./ColorTagsField\"\n\n// measure\n\nimport MeasureField from \"./MeasureField\"\nimport MeasureModel from \"./Measure.model\"\nimport MeasuresListField from \"./MeasuresListField\"\nimport MeasureTagsField from \"./MeasureTagsField\"\n\n// person\n\nimport PersonField from \"./PersonField\"\nimport PersonModel from \"./Person.model\"\nimport PeopleListField from \"./PeopleListField\"\nimport PeopleTagsField from \"./PeopleTagsField\"\n\n// place\n\nimport PlaceField from \"./PlaceField\"\nimport PlaceModel from \"./Place.model\"\nimport PlacesListField from \"./PlacesListField\"\nimport PlaceTagsField from \"./PlaceTagsField\"\n\n// object?\n\nimport ObjectField from \"./ObjectField\"\n\n// dating\n\nimport DatingField from \"./DatingField\"\nimport DatingModel from \"./Dating.model\"\n\n// events\n\nimport EventField from \"./EventField\"\nimport EventModel from \"./Event.model\"\n\nimport EventTypeField from \"./EventTypeField\"\nimport EventTypeModel from \"./EventType.model\"\nimport EventsListField from \"./EventsListField\"\n\n// license\n\nimport LicenseField from \"./LicenseField\"\n\n\nexport default {\n    \"fields\": {\n        \"primusEditor\": PrimusEditorField,\n        \"primusEditorLayout\": PrimusEditorLayout,\n\n        \"primusContent\": PrimusContentField,\n        \"primusContentLayout\": PrimusContentLayout,\n\n        \"primusSection\": PrimusSectionField,\n        \"primusSectionLayout\": PrimusSectionLayout,\n\n        \"primusMedia\": PrimusMediaField,\n        \"primusMediaLayout\": PrimusMediaLayout,\n\n        \"knavSearchField\": KnavSearchField,\n        \"knavTagsField\": KnavTagsField,\n\n        \"primusClassification\": ClassificationField,\n        \"primusClassificationTags\": ClassificationTagsField,\n\n        \"primusDesignation\": DesignationField,\n        \"primusDesignationTags\": DesignationTagsField,\n\n        \"primusMeasure\": MeasureField,\n        \"primusMeasures\": MeasuresListField,\n        \"primusMeasureTags\": MeasureTagsField,\n\n        \"primusMaterial\": MaterialField,\n        \"primusMaterialTags\": MaterialTagsField,\n\n        \"primusTechnique\": TechniqueField,\n        \"primusTechniqueTags\": TechniqueTagsField,\n\n        \"primusColorTags\": ColorTagsField,\n\n        \"primusObject\": ObjectField,\n\n        \"primusPerson\": PersonField,\n        \"primusPeople\": PeopleListField,\n        \"primusPeopleTags\": PeopleTagsField,\n\n        \"primusPlace\": PlaceField,\n        \"primusPlaces\": PlacesListField,\n        \"primusPlaceTags\": PlaceTagsField,\n\n        \"primusEvent\": EventField,\n        \"primusEvents\": EventsListField,\n\n        \"primusEventType\": EventTypeField,\n        \"primusEvents\": EventsListField,\n\n        \"primusDating\": DatingField,\n\n        \"primusLicense\": LicenseField,\n\n        \"primusFieldsetLayout\": PrimusFieldsetLayout,\n//        \"primusList\": PrimusListField,\n//        \"primusListLayout\": PrimusListLayout,\n//        \"primusListItemLayout\": PrimusListItemLayout,\n    },\n    \"widgets\": {\n        \"selectAdornment\": SelectAdornmentWidget,\n        \"selectNative\": SelectNativeWidget,\n    },\n    \"models\": {\n        \"primusDesignation\": DesignationModel,\n        \"primusClassification\": ClassificationModel,\n        \"primusMeasure\": MeasureModel,\n        \"primusTechnique\": TechniqueModel,\n        \"primusMaterial\": MaterialModel,\n        \"primusColor\": ColorModel,\n\n        \"primusEvent\": EventModel,\n        \"primusEventType\": EventTypeModel,\n\n        \"primusPerson\": PersonModel,\n        \"primusPlace\": PlaceModel,\n        \"primusDating\": DatingModel,\n    }\n}","import React, { useState } from 'react';\nimport { utils } from \"@rjsf/core\";\nconst { getUiOptions, getDefaultFormState } = utils;\n\nconst PrimusMediaSectionField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:layout\": \"primusMediaSection\",\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"ui:field\": undefined,\n    }\n\n    const { SchemaField } = props.registry.fields;\n\n    return (\n        <SchemaField {...props} uiSchema={uiSchema} />\n    )\n    \n}\n\nexport default PrimusMediaSectionField;","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n            margin: 0\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    body: {\n\n        \"& > * + *\": {\n            marginTop: props => { return theme.spacing(props.spacing) },\n        }\n\n    },\n    footer: {\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n    },\n    buttongroup: {\n        display: \"flex\",\n        margin: theme.spacing(-1),\n\n        \"& > $button\": {\n            margin: theme.spacing(1),\n        }\n    },\n    button: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        fontWeight: \"bold\",\n        textTransform: \"none\",\n        letterSpacing: 0,\n        borderRadius: 1,\n        padding: theme.spacing(2),\n        minWidth: theme.spacing(16),\n        minHeight: theme.spacing(7),\n    },\n\n}));\n\nconst PrimusSectionLayout = ({currentId, id, sortableHandle, collapsible, expanded, onExpand, onAdd, onDelete, onCollapse, padding = 2, spacing = 2, title = \"Section\", description, children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                {!expanded && sortableHandle}\n                <Typography className={classes.title}>{title}</Typography>\n                {description && <Typography className={classes.description}>{description}</Typography> }\n            </header>\n\n            { expanded && \n                <div className={classes.body}>\n                {children}\n                </div> }\n\n            { collapsible && expanded && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onCollapse}>Lagre og lukk</Button>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onDelete}>Slett</Button>\n                    </div>\n                </footer>\n            }\n\n            { onAdd && \n                <footer className={classes.footer}>\n                    <div className={classes.buttongroup}>\n                        <Button variant=\"outlined\" className={classes.button} onClick={onAdd}>Legg til</Button>\n                    </div>\n                </footer>\n            }\n\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from 'react';\n\nconst ImageAnnotationsArrayField = (props) => {\n\n    const { ArrayField } = props.registry.fields\n\n    const { formData = [] } = props\n\n    const count = formData.length || 0\n\n    const title = count + \" markeringer\"\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:title\": title,\n        \"ui:options\": {\n            \"sortable\": true,\n            \"spacing\": 0,\n            \"padding\": 2,\n            \"addable\": false\n        },\n        \"ui:layout\": \"primusImageAnnotationsSection\",\n        \"items\": {\n            \"ui:field\": \"primusImageAnnotationsModule\",\n        }\n    }\n\n    return (\n        <ArrayField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nexport default ImageAnnotationsArrayField;","import React, { useRef, useEffect } from \"react\"\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\"\nimport Button from '@material-ui/core/Button';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        padding: 0,\n        margin: 0,\n\n        \"&[data-collapsible=true]\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider,\n        },\n\n        marginTop: 0,\n\n        \"&[aria-expanded=true]\": {\n            marginBottom: props => { return theme.spacing(props.spacing) },\n        },\n\n        \"& $section\": {\n            paddingLeft: 0,\n            paddingRight: 0,\n            margin: 0\n        },\n\n    },\n    header: {\n        display: \"flex\",\n        alignItems: \"center\",\n        minHeight: theme.spacing(7),\n        userSelect: \"none\",\n\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n\n        \"&[aria-expanded=true]\": {\n            minHeight: theme.spacing(8)\n        },\n\n\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        color: theme.palette.text.primary,\n        letterSpacing: 0,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    helperText: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        letterSpacing: 0,\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(1)\n    },\n    body: {\n\n    },\n    footer: {\n        paddingLeft: props => { return theme.spacing(props.padding) },\n        paddingRight: props => { return theme.spacing(props.padding) },\n        marginTop: props => { return theme.spacing(props.spacing) },\n        marginBottom: props => { return theme.spacing(props.spacing) },\n    },\n\n\n}));\n\nconst PrimusSectionLayout = ({currentId, id, collapsible, expanded, onExpand, onAdd, onDelete, onCollapse, padding = 2, spacing = 2, title = \"Section\", description, children}) => {\n    const classes = useStyles({collapsible, padding, spacing})\n    const ref = useRef(null)\n\n    useEffect(() => {\n        if (currentId === id) {\n            ref.current.scrollIntoView({behavior: 'smooth'}) \n        }\n    }, [currentId])\n\n    if (!collapsible) {\n        expanded = true\n    }\n\n    return (\n        <section aria-expanded={expanded} data-collapsible={collapsible} ref={ref} id={id} className={classes.section}>\n\n            <header className={classes.header} onClick={collapsible && onExpand}>\n                <Typography className={classes.title}>{title}</Typography>\n                {description && <Typography className={classes.description}>{description}</Typography> }\n            </header>\n\n            <div className={classes.body}>\n            {children}\n            </div>\n\n            <footer className={classes.footer}>\n                <Typography className={classes.helperText}>Klikkk på bildet for å legge til en markering.</Typography>\n            </footer>\n\n \n        </section>\n    )\n\n}\n\nexport default PrimusSectionLayout","import React from 'react';\n\nconst ImageAnnotationsArrayItemField = (props) => {\n\n    const uiSchema = {\n        ...props.uiSchema,\n        \"ui:options\": {\n            \"collapsible\": true\n        },\n        \"ui:layout\": \"primusImageAnnotationsModule\",\n        \"ui:preview\": {\n            \"select\": {\n                \"badgeContent\": \"badgeContent\",\n                \"untitled\": \"untitled\",\n                \"title\": \"title\"\n            },\n            prepare({formData, index}) {\n\n                const count = index + 1\n\n                return {\n                    title: formData.title,\n                    untitled: \"Markering \" + count,\n                    badgeContent: count\n                }\n            }\n        },\n        \"ui:fieldset\": [\n            \"title\",\n            \"description\",\n        ],\n        \"title\": {\n            \"ui:title\": \"Tittel\",\n        },\n        \"description\": {\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\": \"textarea\"\n        }\n    }\n\n    const { ObjectField } = props.registry.fields\n\n\n    return (\n        <ObjectField {...props} uiSchema={uiSchema} />\n    )\n\n}\n\nexport default ImageAnnotationsArrayItemField;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Badge from '@material-ui/core/Badge';\n\nimport { ModuleTitle } from \"../Module\"\nimport { NavToolbar } from \"../NavToolbar\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"relative\",\n        userSelect: \"none\",\n\n        \"& + $module\": {\n            borderTop: \"1px solid\",\n            borderColor: theme.palette.divider\n        },\n\n        \"&.sortable-helper\": {\n            borderTopColor: \"transparent\",\n            boxShadow: theme.shadows[12],\n            zIndex: 2000,\n            \"& $settings\": {\n                display: \"none\"\n            },\n            \"& $toolbar\": {\n                display: \"none\"\n            }\n        },\n\n\n    },\n    badge: {\n        position: \"relative\",\n        \"& .MuiBadge-badge\": {\n            pointerEvents: \"none\",\n            margin: theme.spacing(1)\n        }\n    },\n    settings: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        }\n        \n    },\n    toolbar: {\n        zIndex: 3,\n        display: \"flex\",\n        flexWrap: \"none\",\n\n        \"& > * + *\": {\n            marginLeft: theme.spacing(-1)\n        },\n\n        \"& button\": {\n            opacity: .5,\n\n            \"&:hover\": {\n                opacity: 1\n            }\n\n        }        \n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n    title: {\n        flexGrow: 1,\n        fontFamily: \"Akkurat, sans-serif\",\n        color: theme.palette.text.primary,\n\n        \"&[data-untitled=true]\": {\n            color: theme.palette.text.secondary,\n        }\n\n    },\n    body: {\n        display: \"flex\",\n        flexDirection: \"column\",\n\n        paddingLeft: theme.spacing(2),\n        paddingRight: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n\n        \"& > * + *\": {\n            marginTop: theme.spacing(2)\n        }\n\n    },\n    footer: {\n        width: \"100%\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"flex-start\",\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        }\n    },\n}));\n\n/** ListModule for listing documents */\n\nconst StartAdornment = ({startAdornment, badgeContent}) => {\n\n    const classes = useStyles({})\n\n    return (\n        <Badge className={classes.badge} badgeContent={badgeContent} color=\"primary\">\n            {startAdornment}\n        </Badge>\n    )\n\n}\n\nconst ImageAnnotationsArrayItemLayout = ({expanded, onToggle, onExpand, onCollapse, untitled, title, onClick, children, ...props }) => {\n    const classes = useStyles({})\n\n    return (\n        <article className={classes.module} onClick={onToggle}>\n            <header className={classes.header}>\n                <StartAdornment {...props} />\n                <ModuleTitle className={classes.title} untitled={untitled} title={title} />\n                <NavToolbar {...props} className={classes.toolbar} />\n            </header>\n            { expanded && \n                <div className={classes.body}>\n                    {children}\n                </div>\n            }\n        </article>\n    )    \n\n}\n\nImageAnnotationsArrayItemLayout.defaultProps = {\n}\n\nexport default ImageAnnotationsArrayItemLayout;\n","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonEdit = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"edit\" aria-label=\"edit\" onClick={onClick}>\n            <EditIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonEdit;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ViewIcon from '@material-ui/icons/Visibility';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonView = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"view\" aria-label=\"view\" onClick={onClick}>\n            <ViewIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonView;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport LinkIcon from '@material-ui/icons/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonLink = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"link\" aria-label=\"link\" onClick={onClick}>\n            <LinkIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonLink;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonAdd = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"add\" aria-label=\"add\" onClick={onClick}>\n            <AddIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonAdd;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonRemove = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"remove\" aria-label=\"remove\" onClick={onClick}>\n            <RemoveIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonRemove;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonDelete = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"delete\" aria-label=\"delete\" onClick={onClick}>\n            <DeleteIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonDelete;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport RestoreIcon from '@material-ui/icons/Restore';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonRestore = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"restore\" aria-label=\"restore\" onClick={onClick}>\n            <RestoreIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonRestore;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport EraseIcon from '@material-ui/icons/DeleteForever';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    button: {\n    },\n\n}));\n\nconst ButtonErase = ({className, onClick}) => {\n    const classes = useStyles()\n\n    return (\n        <IconButton className={className || classes.button} color=\"inherit\" value=\"erase\" aria-label=\"erase\" onClick={onClick}>\n            <EraseIcon />\n        </IconButton>\n    )\n\n}\n\nexport default ButtonErase;","import PrimusMediaEditorField from \"./PrimusMediaEditorField\"\nimport PrimusMediaModel from \"./PrimusMedia.model\"\n\nimport PrimusMediaSectionField from \"./PrimusMediaSectionField\"\nimport PrimusMediaSectionLayout from \"./PrimusMediaSectionLayout\"\n\nimport ImageAnnotationsSectionField from \"./ImageAnnotationsSectionField\"\nimport ImageAnnotationsSectionLayout from \"./ImageAnnotationsSectionLayout\"\n\nimport ImageAnnotationsModuleField from \"./ImageAnnotationsModuleField\"\nimport ImageAnnotationsModuleLayout from \"./ImageAnnotationsModuleLayout\"\n\nexport default {\n    \"fields\": {\n        \"primusMediaEditor\": PrimusMediaEditorField,\n        \"primusMediaSection\": PrimusMediaSectionField,\n        \"primusMediaSectionLayout\": PrimusMediaSectionLayout,\n        \"primusImageAnnotationsSection\": ImageAnnotationsSectionField,\n        \"primusImageAnnotationsSectionLayout\": ImageAnnotationsSectionLayout,\n        \"primusImageAnnotationsModule\": ImageAnnotationsModuleField,\n        \"primusImageAnnotationsModuleLayout\": ImageAnnotationsModuleLayout,\n\n    },\n    \"widgets\": {\n    },\n    \"models\": {\n        \"primusMedia\": PrimusMediaModel\n    }\n}","\n\nimport kpEditor from \"./KpEditor/registry\"\n\nimport documentEditor from \"./DocumentEditor/registry\"\nimport referenceEditor from \"./ReferenceEditor/registry\"\nimport collectionEditor from \"./CollectionEditor/registry\"\nimport pageEditor from \"./PageEditor/registry\"\nimport themeEditor from \"./ThemeEditor/registry\"\n\nimport localizedString from \"./LocalizedString/registry\"\n\nimport primusEditor from \"./PrimusEditor/registry\"\nimport primusMedia from \"./PrimusMedia/registry\"\n\n\nexport default {\n    \"fields\": {\n        ...documentEditor.fields,\n        ...referenceEditor.fields,\n        ...collectionEditor.fields,\n        ...pageEditor.fields,\n        ...themeEditor.fields,\n        ...localizedString.fields,\n        ...primusEditor.fields,\n        ...primusMedia.fields,\n        ...kpEditor.fields\n    },\n    \"widgets\": {\n        ...documentEditor.widgets,\n        ...referenceEditor.widgets,\n        ...collectionEditor.widgets,\n        ...pageEditor.widgets,\n        ...themeEditor.widgets,\n        ...primusEditor.widgets,\n        ...primusMedia.widgets,\n        ...kpEditor.widgets\n    },\n    \"models\": {\n        ...documentEditor.models,\n        ...referenceEditor.models,\n        ...collectionEditor.models,\n        ...pageEditor.models,\n        ...themeEditor.models,\n        ...primusEditor.models,\n        ...primusMedia.models,\n        ...kpEditor.models\n    }\n}","import registry from \"../../../registry\"\nconst { models } = registry\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"documentType\": {\n            \"type\": \"string\",\n            \"enum\": [\n                \"pageHome\",\n                \"pageTopic\",\n                \"pageMap\",\n                \"pageList\",\n                \"pageGrid\",\n                \"pageTimeline\",\n                \"pageAnnotate\",\n                \"pageMedia\",\n            ]\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"collectionId\": {\n            \"type\": \"string\",\n        },\n        \"parentId\": {\n            \"type\": \"string\",\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"title\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"importId\": {\n                    \"type\": \"string\",\n                },\n                \"title\": {\n                    \"type\": \"localizedString\"\n                },\n                \"titleImage\": {\n                    \"type\": \"image\"\n                },\n                \"leadtext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"bodytext\": {\n                    \"type\": \"localizedString\"\n                },\n                \"mapLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"default\",\"roundtrip\"],\n                    \"default\": \"default\"\n                },\n                \"mediaLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"gallery\",\"autoplay\"],\n                    \"default\": \"gallery\"\n                },\n                \"annotateLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\"imagemap\",\"legends\"],\n                    \"default\": \"imagemap\"\n                },\n                \"annotateColor\": {\n                    \"type\": \"string\",\n                    \"format\": \"color\",\n                    \"enum\": [\"red\",\"green\",\"blue\",\"black\",\"white\"]\n                },\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"annotations\": true,\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"parallaxImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"filters\": [\"opacity\"],\n                },\n                \"linksLayout\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        \"list\",\n                        \"mosaic\",\n                        \"imagelegend\",\n                        \"imagemap\",\n                        \"gallery\",\n                        \"autoplay\",\n                        \"timeline\"\n                    ],\n                    \"enumNames\": [\n                        \"Liste\",\n                        \"Mosaikk\",\n                        \"Bildeforklaring\",\n                        \"Bildekart\",\n                        \"Mediagalleri\",\n                        \"Autoplay\",\n                        \"Tidslinje\"\n                    ],\n                    \"default\" : \"list\"\n                },\n                \"links\": {\n                    \"type\": \"array\",\n                    \"items\": models.kpLink.schema\n                },\n                \"isPartOf\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"reference\",\n                        \"documentType\": \"presentation\",\n                        \"referenceType\": \"pageIsPartOf\",\n                        \"_reverseReferenceType\": \"presentationHasPages\",\n                        \"_reverseReference\": \"hasPages[]\"\n                    }\n                }\n\n            }\n        }\n    }\n}","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi\n}","import itemsUi from \"./itemsUi\"\nimport uiPreview from \"./uiPreview\"\n\nexport default {\n    \"ui:preview\": uiPreview,\n    \"ui:field\": \"kpPage\",\n    \"ui:options\": {\n        \"collapsible\": true\n    },\n    \"ui:fieldset\": [\n        \"content\",\n        \"settings\"\n    ],\n    \"settings\": {\n        \"ui:fieldset\": [\"documentType\"]\n    },\n    \"content\": {\n        \"ui:layout\": \"pageContent\",\n//        \"ui:field\": KpPageContentField,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"header\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Presentasjon\",\n            \"ui:preview\": {\n                \"select\": {\n                    \"description\": \"description\"\n                },\n                prepare({formData, formContext}) {\n                    const { title } = formData;\n        \n                    const localeId = \"locale:\" + formContext.currentLocale\n                    const description = title && title[localeId]\n        \n                    return {\n                        description: description\n                    }\n        \n                }\n            },\n            \"ui:fieldset\": [\n                \"title\",\n            ],\n            \"ui:options\": {\n                \"expanded\": true,\n                \"collapsible\": true,\n                \"spacing\": 2,\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n        },\n        \"media\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Media\",\n            \"ui:fieldset\": [\n                \"media\",\n            ],\n            \"ui:options\": {\n                \"collapsible\": true,\n                \"spacing\": 2,\n            },\n            \"ui:fieldset\": [\n                \"backgroundImage\"\n            ],\n            \"backgroundImage\": {\n                \"ui:layout\": \"media\",\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn bakgrunnsbilde\"\n                    }\n                ],\n                \"ui:fieldset\": [\n                    \"media\",\"imageCropdata\",\"imageFilters\"\n                ],\n                \"media\": {\n                    \"ui:title\": \"Bakgrunnsbilde\"\n                }\n            },\n            \"parallaxImage\": {\n                \"ui:layout\": \"media\",\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn parallaxbilde\"\n                    }\n                ],\n                \"media\": {\n                    \"ui:title\": \"Parallaxbilde\"\n                }\n            }\n        },\n        \"body\": {\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: { links }, formContext}) {\n\n                    return {\n                        title: links && links.length + \" lenker\"\n                    }\n        \n                }\n            },\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Innhold\",\n            \"ui:icon\": \"link\",\n            \"ui:fieldset\": [\n                \"links\"\n            ],\n            \"ui:settings\": [\n        //        \"linksLayout\"\n            ],\n            \"links\": {\n                \"items\": itemsUi,\n                \"ui:options\": {\n                    \"spacing\": 0,\n                    \"sortable\": true\n                },\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn innhold\",\n                    },\n                    {\n                        \"type\": \"add\",\n                        \"title\": \"Legg til\"\n                    }\n                ],\n            }\n        },\n    }\n}","import icons from \"../../../KpIcons\"\n\nexport default {\n    \"select\": {\n        \"imageUrl\" : \"imageUrl\",\n        \"imageWidth\" : \"imageWidth\",\n        \"imageHeight\" : \"imageHeight\",\n        \"title\" : \"title\",\n        \"description\" : \"description\",\n        \"metadata\" : \"metadata\",\n        \"icon\": \"icon\"\n    },\n    prepare({formData, formContext}) {\n\n        const { parents, children, parentId, documentType, content } = formData\n        const defaultLocale = formContext && formContext.defaultLocale\n        const currentLocale = formContext && formContext.currentLocale\n        const locale = defaultLocale || currentLocale || formData.locale\n        const localeId =  \"locale:\" + locale\n\n\n        let metadata = []\n\n        let path = []\n\n        parents && parents.map(parent => {\n            path.push(parent.title)\n        })\n\n        path.length && metadata.push(\"/\" + path.join('/'))\n\n        parentId && metadata.push(\"Parent: \" + parentId)\n\n        const image = content && content.backgroundImage && content.backgroundImage.media\n        const imageUrl = image && image.imageUrl\n        const imageWidth = image && image.mediaWidth\n        const imageHeight = image && image.mediaHeight\n\n        const icon = documentType && icons[documentType]\n        const title = content && content.title && content.title[localeId] || formData.title\n        const description = content && content.description && content.description[localeId]\n\n        return {\n            icon: icon,\n            imageUrl: imageUrl,\n            imageWidth: imageWidth,\n            imageHeight: imageHeight,\n            title: title || \"Untitled\",\n            description: description,\n            metadata: metadata,\n        }\n    \n    }\n  \n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'page',\n    schema: schema,\n    uiSchema: uiSchema,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" lenker\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi,\n            }\n        }\n    }\n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    pageHeader: {\n        position: props => { return props.position },\n        zIndex: 2,\n        height: \"6em\",\n        padding: \"2em 4em\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    pageTitle: {\n        fontSize: \"2em\",\n    }\n}));\n\nconst KioskPageHeader = ({title, position = \"relative\"}) => {\n\n    const classes = useStyles({position})\n\n    return (\n        <header className={classes.pageHeader}>\n            <Typography className={classes.pageTitle}>{ title }</Typography>\n        </header>\n    )\n}\n\nexport default KioskPageHeader","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { ImageBase } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    module: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color},\n    },\n    media: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    content: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    runningHead: {\n        fontSize: props => { return props.titleSize === \"large\" && \"1.25em\" || props.titleSize === \"medium\" && \"1em\" || \"0.875em\" },\n        color: props => { return props.titleColor || props.color },\n        textTransform: \"uppercase\",\n        lineHeight: 1.5\n    },\n    title: {\n        fontSize: props => { return props.titleSize === \"large\" && \"2em\" || props.titleSize === \"medium\" && \"1.5em\" || \"1.25em\" },\n        color: props => { return props.titleColor || props.color },\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst GridModule = ({imageUrl, mediaWidth, mediaHeight, imageCropdata, imageFilters, runningHead, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n\n    const classes = useStyles({...props, justifyContent, alignItems})\n\n    return (\n        <Card className={classes.module} onClick={onClick}>\n            { imageUrl && <ImageBase imageUrl={imageUrl} imageFilters={imageFilters} imageCropdata={imageCropdata} objectFit=\"cover\" /> }\n\n            <CardContent className={classes.content}>\n                { runningHead && <Typography className={classes.runningHead} component=\"h3\">{runningHead}</Typography> }\n                <Typography className={classes.title} component=\"h2\">{title}</Typography>\n                { description && <Typography className={classes.description} component=\"p\">{description}</Typography> }\n            </CardContent>\n\n        </Card>\n    )\n\n}\n\nexport default GridModule","import Color from 'color';\n\nexport const getPreviewItem = (item) => {\n    const { index, referenceId, reference, mediaId, media, grid, localeId, backgroundColor, color } = item;\n\n//    const primaryColor = Color(backgroundColor)\n//    const contrastColor = primaryColor.isLight() && \"black\" || \"white\"\n\n\n    const imageUrl = media && media.imageUrl || referenceId && reference && reference.imageUrl;\n    const runningHead = item.runningHead && item.runningHead[localeId];\n    const title = item.title && item.title[localeId] || referenceId && reference && reference.title || \"Untitled\";\n    const description = item.description && item.description[localeId];\n\n    let itemType;\n\n    if (referenceId) {\n        itemType = \"link\"\n    } else if (mediaId) {\n        itemType = \"media\"\n    }    \n\n    // grid\n    const m = grid && grid.split(':');\n    const cols = m && m[0] || 1\n    const rows = m && m[1] || 1\n\n    // id\n    const id = \"root_content_body_links_\" + index\n\n    // colors\n\n    return {\n        ...item,\n        id: id,\n        itemType: itemType,\n        imageUrl: imageUrl,\n        runningHead: runningHead,\n        title: title,\n        description: description,\n        cols: cols,\n        rows: rows\n    }\n    \n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n    },\n    /*\n    perspective: {\n        perspective: \"1000px\",\n        perspectiveOriginX: \"25%\",\n        perspectiveOriginY: \"75%\",\n    },\n    transform: {\n        transform: \"rotateY(-45deg)\",\n    },\n    */\n    format: {\n        position: \"relative\",\n        width: \"100%\",\n        paddingBottom: props => { return props.paddingBottom },\n    }\n}));\n\nconst PreviewFormat = ({format, children}) => {\n\n    let paddingBottom;\n\n    if (format) {\n        const size = format.split(\":\");\n        const w = size[0];\n        const h = size[1];\n        const ratio = h/w;\n\n        paddingBottom = ratio * 100 + \"%\";\n    }\n\n    const classes = useStyles({paddingBottom})\n\n    if (paddingBottom) {\n        return (\n            <div className={classes.root}>\n                <div className={classes.format} data-format={format}>\n                    { children }\n                </div>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default PreviewFormat","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport PageHeader from \"./PageHeader\"\nimport KioskMosaicModule from \"./GridModule\"\nimport { getPreviewItem } from \"./utils\"\n\nimport PreviewFormat from \"./PreviewFormat\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        margin: \"5.5em 3.5em 1.5em 3.5em\",\n    },\n    grid: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"grid\",\n        gridTemplateColumns: props => { return props.templateCols },\n        gridTemplateRows: props => { return props.templateRows },\n        gridColumnGap: props => { return props.colGap },\n        gridRowGap: props => { return props.rowGap },\n    },\n    gridItem: {\n        gridColumnStart: \"auto\",\n        gridColumnEnd: props => { return props.colEnd },\n        gridRowStart: \"auto\",\n        gridRowEnd: props => { return props.rowEnd },\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst MosaicGrid = ({localeId, items, cols = 5, rows = 3, onCurrentId}) => {\n\n    const colWidth = (100/cols);\n    const rowHeight = (100/rows);\n\n    const classes = useStyles({\n        templateCols: (colWidth + \"% \").repeat(cols),\n        templateRows: (rowHeight + \"% \").repeat(rows),\n    })\n\n    const GridItem = ({id, cols, rows, index, ...item}) => {\n\n        const classes = useStyles({\n            colEnd: \"span \" + cols,\n            rowEnd: \"span \" + rows\n        })\n        \n        return (\n            <div className={classes.gridItem}>\n                <KioskMosaicModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    \n    }\n    \n    return (\n        <div className={classes.grid}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                return (\n                    <GridItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewGrid = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] || formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <div className={classes.root}>\n                <PageHeader title={pageTitle} />\n                <div className={classes.body}>\n                    <MosaicGrid localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n                </div>\n            </div>\n        </PreviewFormat>\n    )\n\n}\n\nexport default PreviewGrid","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\";\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageHome',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import React from 'react';\nimport Grid from \"../../../KpPreview/Grid\"\n\nconst PageGridPreview = ({formData, formContext}) => {\n\n    return <Grid formData={formData} formContext={formContext} />\n\n}\n\nexport default PageGridPreview\n\n","import schema from \"../page/schema\"\nexport default schema","import itemsUi from \"../page/itemsUi\"\n\nexport default {\n    ...itemsUi\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\";\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTopic',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n//        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" lenker\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi,\n            }\n        }\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:preview\": {\n        \"select\": {\n            \"badgeContent\": \"badgeContent\",\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const runningHead = formData.runningHead && formData.runningHead[localeId] \n            const title = formData.title && formData.title[localeId] \n            const badgeContent = index + 1\n\n            const localTitle = runningHead && title && runningHead + \": \" + title || title\n            const referenceTitle = referenceId && reference && reference.title\n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                badgeContent: badgeContent,\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: localTitle || referenceTitle,\n                metadata: metadata,\n            }\n\n        }\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" markører\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n                \"mapLayout\",\n            ]\n        }\n    }\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n    },\n    marker: {\n\n    }\n}));\n\nconst MapLink = ({title}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.link}>\n            <PlaceIcon />\n        </div>\n    )\n\n    return (\n        <div className={classes.link}>\n            <IconButton>\n                <PlaceIcon />\n            </IconButton>\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./DefaultMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, items = []}) => {\n\n    const [markers, setMarkers] = useState(items)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = items && items[0] && items[0].lat \n        const lng = items && items[0] && items[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        items && items.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [items])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, result) => {\n\n        const path = result.routes[0].overview_path\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  drawDirections(google, result)\n                  setDirections(result)\n              } else {\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n//        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        position: \"absolute\",\n        left: -theme.spacing(1.5),\n        top: -theme.spacing(3),\n\n        \"& $media\": {\n            transition: \".125s ease-out\",\n            transform: \"scale(1)\"\n        },\n\n        \"&[aria-expanded=true] $media\": {\n            transform: \"scale(2)\"\n        },\n\n        \"&:hover $media\": {\n            transform: \"scale(2)\"\n        }\n\n    },\n    label: {\n        position: \"absolute\",\n        width: theme.spacing(2),\n        height: theme.spacing(2),\n        margin: theme.spacing(0, .5),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    media: {\n        position: \"absolute\",\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n        margin: theme.spacing(-.5, 0),\n        borderRadius: \"100%\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        backgroundSize: \"cover\",\n\n    },\n    image: {\n\n    }\n}));\n\nconst MapLink = ({reference, media, index}) => {\n    const classes = useStyles()\n\n    const imageUrl = media && media.imageUrl || reference && reference.imageUrl\n\n    return (\n        <div className={classes.link} aria-expanded={index === 0}>\n            <figure className={classes.media} style={{backgroundImage: \"url(\"+imageUrl+\")\"}}></figure>\n            <i className={classes.label}>{index+1}</i>\n            <PlaceIcon />\n        </div>\n    )\n\n}\n\n\nexport default MapLink;","import React, { useState, useEffect, useRef } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport Marker from \"./RoundtripMapMarker\"\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Map = ({defaultCenter, defaultZoom, KEY, items = []}) => {\n\n    const [markers, setMarkers] = useState(items)\n    const [origin, setOrigin] = useState(undefined)\n    const [destination, setDestination] = useState(undefined)\n    const [waypoints, setWaypoints] = useState([])\n    const [directions, setDirections] = useState([])\n    const [center, setCenter] = useState(undefined)\n    const [mapId, setMapId] = useState(uuidv4())\n\n    const mapRef = useRef(null)\n    \n    useEffect(() => {\n        const lat = items && items[0] && items[0].lat \n        const lng = items && items[0] && items[0].lng\n    \n        setCenter({\n            lat: lat,\n            lng: lng\n        })\n\n        let markers = []\n\n        items && items.map(link => {\n            if (link.lat && link.lng) {\n                markers.push({\n                    ...link,\n                    lat: link.lat,\n                    lng: link.lng\n                })\n            }\n        })\n\n        setOrigin(markers && markers[0])\n        setDestination(markers && markers[markers.length-1])\n\n        let newWaypoints = [];\n\n        markers && markers.map((marker, index) => {\n\n            if (index > 0 && index < markers.length-1) {\n                newWaypoints.push({\n                    location: marker.lat + \",\" + marker.lng\n                })\n            }\n\n        })\n\n        setWaypoints(newWaypoints)\n        setMarkers(markers)\n        setMapId(uuidv4())\n    \n    }, [items])\n\n\n\n    useEffect(() => {\n\n        console.log(\"mapRef\", mapRef.current)\n\n    }, [mapRef.current])\n    \n    const renderMarker = ({lat, lng, ...props}, index) => {\n\n        return (\n            <Marker lat={lat} lng={lng} count={index+1} index={index} {...props} />\n        )\n\n    }\n\n    const drawDirections = (google, path) => {\n\n        setDirections(path)\n\n        const roundTripPath = new google.maps.Polyline({\n            map: google.map,\n            path: path,\n            geodesic: true,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        roundTripPath.setMap(google.map);        \n\n    }\n\n    const getDirections = (google) => {\n\n        const directionsService = new google.maps.DirectionsService();\n\n        console.log('WAYPOINTS', waypoints)\n\n        directionsService.route(\n            {\n              origin: origin,\n              waypoints: waypoints,\n              destination: destination,\n              travelMode: google.maps.TravelMode.WALKING\n            },\n            (result, status) => {\n              if (status === google.maps.DirectionsStatus.OK) {\n                  const overviewPath = result.routes[0].overview_path\n                  const resultsPath = overviewPath.length && overviewPath || markers\n                  drawDirections(google, resultsPath)\n              } else {\n                drawDirections(google, markers)\n                setDirections(\"FAIL:\" + result)\n                //console.error(`error fetching directions ${result}`);\n              }\n            }\n          );        \n    }\n\n    const handleApiLoaded = (google) => {\n\n        getDirections(google)\n\n        const bounds = new google.maps.LatLngBounds();\n\n        markers.map(marker => {\n\n            const lat = marker.lat\n            const lng = marker.lng\n\n            if (lat && lng) {\n                bounds.extend(new google.maps.LatLng(lat, lng))\n            }\n\n\n        })\n\n        google.map.fitBounds(bounds);\n\n    }\n\n    return (\n        <div style={{ height: '100%', width: '100%' }}>\n            <GoogleMapReact\n                ref={mapRef}\n                key={mapId}\n                bootstrapURLKeys={{ key: KEY }}\n                defaultCenter={defaultCenter}\n                defaultZoom={defaultZoom}\n                center={center}\n                yesIWantToUseGoogleMapApiInternals\n                onGoogleApiLoaded={handleApiLoaded}\n                >\n                {markers && markers.map(renderMarker)}\n            </GoogleMapReact>\n            Debug:\n            {JSON.stringify(directions)}\n        </div>\n      );\n\n}\n\nMap.defaultProps = {\n    KEY: \"AIzaSyA0UKwjqalA0BdK5GBh8RPR9HJjtifWLAg\",\n    defaultCenter: {\n        lat: 59.95,\n        lng: 30.33\n    },\n    defaultZoom: 14\n}\n\n\nexport default Map;","import React from 'react';\n\nimport DefaultMap from \"../../../KpPreview/DefaultMap\"\nimport RoundtripMap from \"../../../KpPreview/RoundtripMap\"\n\nconst mapTypes = {\n    \"default\": DefaultMap,\n    \"roundtrip\": RoundtripMap\n}\n\nconst MapPagePreview = ({formData: { content }, formContext, ...props}) => {\n\n    const { links, mapLayout } = content\n\n    const Template = mapLayout && mapTypes[mapLayout] || DefaultMap\n\n    if (!links) {\n        return <p>No links to display</p>\n    }\n\n    return <Template items={links} />\n\n}\n\nexport default MapPagePreview\n\n","import schema from \"./schema\"\nimport uiSchema from \"./uiSchema\"\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMap',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:settings\": [\n        \"grid\",\n        \"placement\",\n        \"backgroundColor\",\n        \"color\"\n    ],\n\n\n    \"content\": {\n        ...itemsUi.content,\n        \"linkContent\": {\n            ...itemsUi.content.linkContent,\n            \"title\": {\n                ...itemsUi.content.linkContent.title,\n                \"ui:settings\": [\n                    \"titleSize\",\n                    \"titleColor\",\n                ],\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageGrid',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" markører\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n                \"mapLayout\",\n            ]\n        }\n    }\n}","import React from 'react';\nimport Grid from \"../../../KpPreview/Grid\"\n\nconst PageGridPreview = ({formData, formContext}) => {\n\n    return <Grid formData={formData} formContext={formContext} />\n\n}\n\nexport default PageGridPreview\n\n","import schema from \"../page/schema\"\nexport default schema","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:settings\": [\n        \"grid\",\n        \"placement\",\n        \"backgroundColor\",\n        \"color\"\n    ],\n\n\n    \"content\": {\n        ...itemsUi.content,\n        \"linkContent\": {\n            ...itemsUi.content.linkContent,\n            \"title\": {\n                ...itemsUi.content.linkContent.title,\n                \"ui:settings\": [\n                    \"titleSize\",\n                    \"titleColor\",\n                ],\n            }\n        }\n    }\n}","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageList',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"media\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links.length + \" markører\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n                \"mapLayout\",\n            ]\n        }\n    }\n}","import React from 'react';\nimport Grid from \"../../../KpPreview/Grid\"\n\nconst PageGridPreview = ({formData, formContext}) => {\n\n    return <Grid formData={formData} formContext={formContext} />\n\n}\n\nexport default PageGridPreview\n\n","import schema from \"../page/schema\"\nexport default schema","import uiSchema from \"../page/uiSchema\"\n//import itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"media\": {\n            ...uiSchema.content.media,\n            \"ui:title\": \"Bakgrunnsbilder\",\n            \"ui:options\": {\n                \"collapsible\": true,\n                \"grid\": true,\n                \"spacing\": 2\n            },\n            \"ui:fieldset\": [\n                \"backgroundImage\",\n                \"parallaxImage\"\n            ],\n            \"backgroundImage\": {\n                ...uiSchema.content.media.backgroundImage,\n                \"ui:xs\": 6\n            },\n            \"parallaxImage\": {\n                ...uiSchema.content.media.parallaxImage,\n                \"ui:xs\": 6\n            }\n        }\n    }\n    \n}","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        width: '16em',\n        backgroundColor: props => { return props.backgroundColor },\n    },\n    cardMedia: {\n        width: \"100%\",\n        paddingBottom: props => { return 9/16 * 100 + \"%\" },\n    },\n    cardContent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: \"0.5em 1em\",\n        justifyContent: props => { return props.justifyContent},\n        alignItems: props => { return props.alignItems}\n    },\n    title: {\n        fontSize: \"2em\",\n        lineHeight: 1.2,\n        \"& + $description\": {\n            marginTop: theme.spacing(1)\n        }\n    },\n    description: {\n        fontSize: \"1em\",\n        opacity: 0.8\n    }\n}));\n\nconst getTextPlacement = ({placement = \"top-left\"}) => {\n\n    let justifyContent = \"center\"\n    let alignItems = \"center\"\n\n    // horizontal\n\n    if (placement.includes('left')) {\n        alignItems = \"flex-start\"\n    } else if (placement.includes('right')) {\n        alignItems = \"flex-end\"\n    }\n\n    // vertical\n\n    if (placement.includes('top')) {\n        justifyContent = \"flex-start\"\n    } else if (placement.includes('bottom')) {\n        justifyContent = \"flex-end\"\n    }\n    \n    return {\n        justifyContent: justifyContent,\n        alignItems: alignItems\n    }\n\n}\n\nconst MosaicModule = ({imageUrl, title, description, skin, width, height, onClick, ...props}) => {\n    const { justifyContent, alignItems } = getTextPlacement(props)\n    const classes = useStyles({...props, backgroundColor: \"white\", justifyContent, alignItems})\n   \n    return (\n        <Card className={classes.card} onClick={onClick}>\n            { imageUrl && \n                <CardMedia\n                    className={classes.cardMedia}\n                    alt={title}\n                    image={imageUrl}\n                    title={title} />\n            }\n            <CardContent className={classes.cardContent}>\n                <Typography className={classes.title} variant=\"h6\" component=\"h2\">\n                    {title}\n                </Typography>\n                {description &&\n                    <Typography className={classes.description} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                        {description}\n                    </Typography>\n                }\n            </CardContent>\n        </Card>\n    )\n\n}\n\nexport default MosaicModule","import React from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getPreviewItem } from \"./utils\"\n\nimport PreviewFormat from \"./PreviewFormat\"\nimport PageHeader from \"./PageHeader\"\nimport TimelineModule from \"./TimelineModule\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    body: {\n        overflowX: \"scroll\",\n    },\n    timeline: {\n        display: \"flex\",\n        margin: \"0 3.5em\",\n    },\n    timelineItem: {\n        position: \"relative\",\n        margin: \".5em\"\n    }\n}));\n\nconst Timeline = ({localeId, items, onCurrentId}) => {\n\n    const classes = useStyles()\n\n    const TimelineItem = ({id, cols, rows, index, ...item}) => {\n        return (\n            <div className={classes.timelineItem}>\n                <TimelineModule {...item} onClick={() => onCurrentId(id)} />\n            </div>\n        )\n    }\n    \n    return (\n        <div className={classes.timeline}>\n            { items && items.map((item, index) => {\n                const itemProps = getPreviewItem({...item, localeId: localeId, index: index})\n                return (\n                    <TimelineItem {...itemProps} key={index} />\n                )\n            })}\n        </div>\n    )\n\n}\n\nconst PreviewTimeline = ({formData, formContext, width, height}) => {\n    const { title, links, backgroundImage } = formData.content;\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const pageTitle = title && title[localeId] || formData.title\n\n    const onCurrentId = formContext.onCurrentId\n\n    const classes = useStyles()\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <div className={classes.root}>\n                <PageHeader title={pageTitle}  />\n                <div className={classes.body}>\n                    <Timeline localeId={localeId} items={links} width={width} height={height} onCurrentId={onCurrentId} />\n                </div>\n            </div>\n        </PreviewFormat>\n    )\n\n}\n\nexport default PreviewTimeline","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageTimeline',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import React from 'react';\nimport Timeline from \"../../../KpPreview/Timeline\"\n\nconst PageTimelinePreview = ({formData, formContext}) => {\n\n    return <Timeline formData={formData} formContext={formContext} />\n\n}\n\nexport default PageTimelinePreview\n\n","import schema from \"../page/schema\"\n\nexport default {\n    ...schema,\n    \"properties\": {\n        ...schema.properties,\n        \"content\": {\n            ...schema.properties.content,\n            \"properties\": {\n                ...schema.properties.content.properties,\n                \"backgroundImage\": {\n                    \"type\": \"image\",\n                    \"cropdata\": true,\n                    \"annotations\": true,\n                    \"filters\": [\"opacity\"],\n                }\n            }\n        }\n    }\n}","import registry from \"../../../registry\"\nconst { models } = registry\n\nconst itemsUi = models.kpLink.uiSchema\n\nexport default {\n    ...itemsUi,\n    \"ui:preview\": {\n        \"select\": {\n            \"badgeContent\": \"badgeContent\",\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const runningHead = formData.runningHead && formData.runningHead[localeId] \n            const title = formData.title && formData.title[localeId] \n            const badgeContent = index + 1\n\n            const localTitle = runningHead && title && runningHead + \": \" + title || title\n            const referenceTitle = referenceId && reference && reference.title\n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                badgeContent: badgeContent,\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: localTitle || referenceTitle,\n                metadata: metadata,\n            }\n\n        }\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            \"ui:layout\": \"section\",\n            \"ui:title\": \"Markeringer\",\n            \"ui:icon\": \"label\",\n            \"ui:fieldset\": [\n                \"backgroundImage\",\n                \"links\"\n            ],\n            \"ui:settings\": [\n                \"annotateLayout\",\n                \"annotateColor\"\n            ],\n            \"backgroundImage\": {\n                ...uiSchema.content.backgroundImage,\n\n                \"ui:fieldset\": [\n                    \"imageAnnotations\",\n                    \"imageFilters\"\n                ],\n                \"imageAnnotations\": {\n                    \"ui:field\": \"kpAnnotateImage\",\n                    \"ui:title\": \"Markeringer\",\n                },\n                \"ui:minHeight\": 512,\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn bilde\"\n                    }\n                ]\n\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"ui:field\": \"kpAnnotateLinks\",\n                \"items\": itemsUi\n            }\n        }\n    }\n}\n\n","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem, getContrastColor } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        left: props => { return props.left + \"%\" || \"50%\"},\n    },\n    label: {\n        width: props => { return props.size },\n        height: props => { return props.size },\n        top: \"0\",\n        left: \"0\",\n        position: \"absolute\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        backgroundColor: props => { return props.backgroundColor },\n        color: props => { return props.color },\n        borderSize: \".25em\",\n        borderRadius: \"50%\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"Akkurat Mono, monspace\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ImagemapPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] || formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    const contrastColor = annotateColor && getContrastColor(annotateColor)\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 24}) => {\n\n        const classes = useStyles({size: size, zIndex: index, top, left, backgroundColor: annotateColor, color: contrastColor})\n    \n        return (\n            <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                <div className={classes.label}>\n                    {index+1}\n                </div>\n            </div>\n        )\n    }\n    \n\n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase {...annotateImage} imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} markerTemplate={MarkerTemplate} />\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagemapPreview;","import Color from 'color';\n\nexport const getContrastColor = (hex) => {\n    const color = Color(hex)\n    return color.isLight() && \"black\" || \"white\"\n}","import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ImageAnnotationsBase } from \"@kit-ui/admin\"\nimport PageHeader from \"./PageHeader\"\nimport { getPreviewItem } from \"./utils\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    },\n    body: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n//        margin: \"6em 1em\"\n    },\n    line: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        right: props => { return props.left <= 50 && 100-props.left + \"%\" || \"0\" },\n        left: props => { return props.left > 50 && props.left + \"%\" || \"0\" },\n        height: \"2px\",\n        backgroundColor: \"white\"\n    },\n    module: {\n        position: \"absolute\",\n        transform: \"translateY(-50%)\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        right: props => { return props.left > 50 && \"0\" },\n        left: props => { return props.left <= 50 && \"0\" },\n        width: \"12em\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        padding: \"1em\"\n    },\n    marker: {\n        position: \"absolute\",\n        zIndex: props => { return props.zIndex },\n        top: props => { return props.top + \"%\" || \"50%\"},\n        left: props => { return props.left + \"%\" || \"50%\"},\n    },\n    border: {\n        width: \"1.5em\",\n        height: \"1.5em\",\n        backgroundColor: \"white\",\n        display: \"block\",\n        transform: \"translate(-50%, -50%)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: \"50%\",\n        padding: \".25em\"\n    },\n    label: {\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: props => { return props.color },\n        color: \"transparent\",\n        borderRadius: \"50%\",\n    },\n}));\n\nconst ImagelegendPreview = ({formData = {}, formContext}) => {\n    const locale = formContext && formContext.currentLocale || formContext && formContext.defaultLocale;\n    const localeId = \"locale:\"+locale\n    const onCurrentId = formContext.onCurrentId\n\n    const contentTitle = formData && formData.content && formData.content.title;\n    const title = contentTitle && contentTitle[localeId] || formData.title\n\n    const classes = useStyles()\n\n    const annotateImage = formData.content && formData.content.backgroundImage;\n    const annotateColor = formData.content && formData.content.annotateColor;\n    const imageAnnotations = formData && formData.content && formData.content.links\n    const imageFilters = annotateImage && annotateImage.imageFilters;\n    const imageUrl = annotateImage && annotateImage.media && annotateImage.media.imageUrl;\n\n    if (!imageUrl) {\n        return (\n            <p>No imageUrl</p>\n        )\n    }\n\n    const MarkerModule = ({id, index, top = 50, left = 50, size = 4, runningHead, title, description, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left})\n\n        return (\n            <div className={classes.module} data-index={index} onClick={() => onCurrentId(id)}>\n                { runningHead && <h3>{runningHead}</h3> }\n                <h2>{title}</h2>\n                {description && <p>{description}</p> }\n            </div>\n        )\n\n    }\n\n    const MarkerTemplate = ({id, index, top = 50, left = 50, size = 4, ...props}) => {\n        const classes = useStyles({size, zIndex: index, top, left, color: annotateColor})\n\n        return (\n            <React.Fragment>\n                <div className={classes.line} data-index={index}></div>\n                <div className={classes.marker} onClick={() => onCurrentId(id)}>\n                    <div className={classes.border}>\n                        <div className={classes.label}>\n                            {index+1}\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n    \n    return (\n        <div className={classes.root}>\n            <PageHeader title={title} position=\"absolute\" />\n            <div className={classes.body}>\n                <ImageAnnotationsBase imageUrl={imageUrl} imageFilters={imageFilters} imageAnnotations={imageAnnotations} overflow=\"visible\" markerTemplate={MarkerTemplate} />\n                { imageAnnotations && imageAnnotations.map((item, index) => {\n                    const itemProps = getPreviewItem({...item, index: index, localeId: localeId})\n                    return (\n                        <MarkerModule {...itemProps} key={index} />\n                    )\n                })}\n            </div>\n        </div>\n    )\n\n}\n\n\nexport default ImagelegendPreview;","import React from \"react\"\nimport PreviewFormat from \"./PreviewFormat\"\nimport Imagemap from \"./AnnotateImagemap\"\nimport Legends from \"./AnnotateLegends\"\n\nconst templates = {\n    \"imagemap\": Imagemap,\n    \"legends\": Legends,\n}\n\nconst AnnotatePreview = ({formData, formContext}) => {\n\n    const { content } = formData;\n\n    const layout = content && content.annotateLayout\n    const template = layout && templates[layout] || templates[\"imagemap\"]\n    const Template = template\n\n    return (\n        <PreviewFormat format=\"16:9\">\n            <Template formData={formData} formContext={formContext} />\n        </PreviewFormat>\n    )\n\n}\n\nAnnotatePreview.defaultProps = {\n    formData: {},\n    formContext: {}\n}\n\nexport default AnnotatePreview","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageAnnotate',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import React from 'react';\nimport Annotate from \"../../../KpPreview/Annotate\"\n\nconst PageAnnotatePreview = ({formData, formContext}) => {\n\n    return <Annotate formData={formData} formContext={formContext} />\n\n}\n\nexport default PageAnnotatePreview","import schema from \"../page/schema\"\nexport default schema","import itemsUi from \"../page/itemsUi\"\n\nexport default {\n    ...itemsUi,\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const runningHead = formData.runningHead && formData.runningHead[localeId] \n            const title = formData.title && formData.title[localeId] \n\n            const localTitle = runningHead && title && runningHead + \": \" + title || title\n            const referenceTitle = referenceId && reference && reference.title\n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: localTitle || referenceTitle,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"link\": {\n        ...itemsUi,\n        \"linkMedia\": {\n            ...itemsUi.content.linkMedia,\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": [\"image\",\"video\",\"audio\"]\n                }\n            }\n        }\n    }\n}","//import mediaSchemas from \"./media\"\n//import kpCollection from './kpCollection';\n\nimport article from './article';\nimport object from './object';\nimport device from './device';\n\nimport page from './page';\nimport pageHome from './pageHome';\nimport pageTopic from './pageTopic';\nimport pageMap from './pageMap';\n\nimport pageGrid from './pageGrid';\nimport pageList from './pageList';\nimport pageTimeline from './pageTimeline';\nimport pageAnnotate from './pageAnnotate';\nimport pageMedia from './pageMedia';\n\n\nexport default [\n    article,\n    object,\n    page,\n    pageHome,\n    pageMap,\n    pageTopic,\n    pageGrid,\n    pageList,\n    pageTimeline,\n    pageAnnotate,\n    pageMedia,\n    device\n]","import schema from \"./schema\";\nimport uiSchema from \"./uiSchema\";\nimport formData from \"./formData\"\nimport PreviewTemplate from \"./PreviewTemplate\"\n\nexport default {\n    id: 1,\n    schemaType: 'documents',\n    name: 'pageMedia',\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: PreviewTemplate\n    }\n}","import uiSchema from \"../page/uiSchema\"\nimport itemsUi from \"./itemsUi\"\n\nexport default {\n    ...uiSchema,\n    \"content\": {\n        ...uiSchema.content,\n        \"ui:fieldset\": [\n            \"header\",\n            \"body\"\n        ],\n        \"body\": {\n            ...uiSchema.content.body,\n            \"ui:preview\": {\n                \"select\": {\n                    \"title\": \"title\"\n                },\n                prepare({formData: {links = []}}) {\n                    return {\n                        title: links && links.length + \" media\"\n                    }\n                }\n            },\n            \"links\": {\n                ...uiSchema.content.body.links,\n                \"ui:dialog\": {\n                    \"query\": {\n                        \"models\": \"media\",\n                        \"mediaType\": [\"image\",\"video\",\"audio\"]\n                    }\n                },\n                \"ui:buttons\": [\n                    {\n                        \"type\": \"sidebar\",\n                        \"icon\": \"search\",\n                        \"title\": \"Finn media\",\n                    },\n                    {\n                        \"type\": \"upload\",\n                        \"title\": \"Last opp\"\n                    }\n                ],\n                \"ui:sortable\": true,\n                \"items\": itemsUi\n            },\n            \"ui:settings\": [\n            ]\n        }\n    }\n}","import React from 'react';\nimport Timeline from \"../../../KpPreview/Timeline\"\n\nconst PageTimelinePreview = ({formData, formContext}) => {\n\n    return <Timeline formData={formData} formContext={formContext} />\n\n}\n\nexport default PageTimelinePreview\n\n","import mediaSchemas from \"@kit-ui/schema/es/Media/schemas\"\n//import primusSchemas from \"../../components/PrimusEditor/schemas\"\nimport kpSchemas from \"../../components/KpEditor/schemas\"\n\nconst schemas = [\n    ...mediaSchemas,\n//    ...primusSchemas,\n    ...kpSchemas,\n]\n\nlet schemasByName = {}\n\nschemas.map(schema => {\n    const { schemaType, name } = schema\n\n    const schemaName = schemaType + \"/\" + name\n\n    if (schemaType && name) {\n        schemasByName[schemaType + \"/\" + name] = schema\n    }\n})\n\nexport {\n    schemas,\n    schemasByName\n}\n\nexport default schemasByName","import { schemasByName } from \"../schemas\"\n\nexport const getSchemaModel = ({documentType, mediaType, collectionType}) => {\n\n    const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType] || schemasByName[\"documents/page\"]\n    const mediaModel = mediaType && schemasByName && schemasByName[\"media/\" + mediaType]\n    const collectionModel = collectionType && schemasByName && schemasByName[\"collections/\" + collectionType]\n    \n    const model = documentModel || mediaModel || collectionModel || {}\n\n    return model\n\n}","import React, { useRef, useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { getModel, getChildren, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\n\nimport { getUiModel } from \"./utils\"\n\nconst FinderModel = ({\n    viewable = false,\n    linkable = true,\n    selectable = true, \n    editable = true, \n    deletable = true, \n    deleted = false,\n    restorable = true, \n    erasable = true,\n    erased = false,\n    children,\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation();\n\n    const location = useLocation()\n    const history = useHistory()\n    const dispatch = useDispatch()\n\n    // get model\n\n    const { modelName, source, sourceId } = props;\n    const uniqueId = props.uniqueId || source + \"/\" + sourceId\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(getModel({modelName, uniqueId}))\n        }\n    }, [uniqueId])\n\n    // uniqueItem\n\n    const modelsById = useSelector(state => state.modelsById)\n\n    const bulk = useSelector(state => state.bulk)\n    const bulkItems = bulk.items    \n    const bulkCount = bulk.count    \n\n    const uniqueModel = modelsById[uniqueId] || {}\n\n    // get children?\n\n    useEffect(() => {\n        if (uniqueModel.id && !uniqueModel.children && props.getChildren) {\n            dispatch(getChildren(uniqueModel))\n        }\n    }, [uniqueModel.id])\n\n    // model\n\n    const model = {\n        ...uniqueModel,\n        uniqueId: uniqueId,\n        selected: bulkItems.includes(uniqueId),\n    }\n\n    // uiModel\n\n    const uiModel = getUiModel({model: props, modelsById, t})\n    \n    // actions\n\n    const _onEdit = (event) => {\n        event.stopPropagation()\n\n        let editUrl = location.pathname + \"/\" + uniqueId + \"/edit\"\n        editUrl = editUrl.replace(\"//\", \"/\")\n\n        console.log(editUrl)\n        history.push(editUrl)\n\n    }\n\n    const _onDelete = (event) => {\n        event.stopPropagation()\n        dispatch(deleteModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onRestore = (event) => {\n        event.stopPropagation()\n        dispatch(restoreModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onErase = (event) => {\n        event.stopPropagation()\n        dispatch(eraseModel({modelName: modelName, uniqueId: uniqueId}))\n    }\n\n    const _onSelect = (event) => {\n        event.stopPropagation()\n        dispatch(selectModel(model))\n    }\n\n    // capabilities\n\n    const { status, selected } = model\n\n    if (status === \"trash\") {\n        deleted = true\n        deletable = false\n    }\n\n    if (status === \"erased\") {\n        erased = true\n        selectable = false\n        editable = false\n        deletable = false\n    }    \n\n    if (props.sourceId) {\n        editable = false\n        deletable = false\n    }\n\n    if (selected || bulkCount) {\n        editable = false\n        deletable = false\n    }\n\n    // actions\n\n    const capabilities = {\n        selectable: selectable,\n        selected: selected,\n        editable: editable,\n        deletable: deletable,\n        deleted: deleted,\n        restorable: restorable,\n        erasable: erasable,\n        erased: erased,\n\n    }\n\n    const actions = {\n        onSelect: _onSelect,\n        onEdit: _onEdit,\n        onDelete: _onDelete,\n        onErase: _onErase,\n        onRestore: _onRestore,\n        onClick: bulkCount && _onSelect || _onEdit\n    }\n    \n    const childrenWithProps = React.Children.map(children, (child, index) => {\n        // checking isValidElement is the safe way and avoids a typescript error too\n        if (React.isValidElement(child)) {\n            return React.cloneElement(child, {\n                ...model,\n                ...uiModel,\n                ...actions,\n                ...child.props,\n                ...capabilities,\n                status: status\n            });\n        }\n        return child;\n    });\n\n    return childrenWithProps\n\n    return <>{childrenWithProps}</>\n\n}\n\nexport default FinderModel;","import { getSchemaModel, getUiPreview } from \"./\"\n\nexport const getUiModel = ({model, modelsById = {}, t}) => {\n\n    const { source, sourceId, status, documentType, mediaType } = model;\n\n    const uniqueId = model.uniqueId || source + \"/\" + sourceId\n    const uniqueModel = modelsById[uniqueId] || {}\n\n    model = {\n        ...uniqueModel,\n        ...model\n    }\n\n    const { schema, uiSchema } = getSchemaModel(model)\n\n    const uiPreview = uiSchema && getUiPreview({schema, uiSchema, formData: model}) || {}\n\n    // author\n\n    const { updatedByName } = model\n\n    const author = updatedByName || \"N/A\"\n    \n    // labels\n\n    const statusLabel = status && t('status:'+status)\n    const documentLabel = documentType && t('documentType:'+documentType)\n    const mediaLabel = mediaType && t('mediaType:'+mediaType)\n\n    const uiLabels = {\n        documentLabel: documentLabel,\n        mediaLabel: mediaLabel,\n        statusLabel: statusLabel\n    }    \n\n    return {\n        ...model,\n        ...uiPreview,\n        ...uiLabels,\n        author: author,\n        uniqueId: uniqueId,\n    }    \n\n}","import React from 'react';\nimport { ListView, ListModule, ViewPages } from \"../components\"\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewList = ({size, results, resultsLoaded, page, pages, prevPage, nextPage, onPage }) => {\n\n    if (size < 25) {\n        size = \"small\"\n    } else if (size > 175) {\n        size = \"large\"\n    } else {\n        size = \"medium\"\n    }\n\n    const models = results && results.models\n    const nav = <ViewPages page={page} pages={pages} onPage={onPage} />\n\n    return (\n        <ListView footer={nav}>\n            {  models && models.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <ListModule size={size} />\n                    </FinderModel>\n                )\n            })}\n        </ListView>\n    )\n\n\n    const header = prevPage && <ListModule placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <ListModule placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />\n\n    return (\n        <ListView header={header} footer={footer}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <ListModule />\n                    </FinderModel>\n                )\n            })}\n        </ListView>\n    )\n\n}\n\nexport default FinderViewList","import React from 'react';\nimport { GridView, GridModule } from \"../components\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewGrid = ({ resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    return (\n        <GridView>\n            { prevPage && <GridModule placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />}\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <GridModule />\n                    </FinderModel>\n                )\n            })}\n            { nextPage && <GridModule placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />}\n        </GridView>\n    )\n\n}\n\nexport default FinderViewGrid","import React from 'react';\nimport { TableView, TableModule } from \"../components\"\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport FinderModel from \"./FinderModel\"\nimport qs from 'query-string';\n\nconst FinderViewGrid = ({size, resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    if (size < 25) {\n        size = \"small\"\n    } else if (size > 175) {\n        size = \"large\"\n    } else {\n        size = \"medium\"\n    }\n\n    let cols = [\n        \"title\",\n        \"status\",\n        \"author\",\n        \"documentType\",\n        \"locale\",\n        \"referenceCount\",\n        \"updatedAt\",\n        \"createdAt\",\n        \"uniqueId\",\n    ]\n\n    cols = [\"header\",\"footer\"]\n\n    const location = useLocation()\n    const history = useHistory()\n\n    const sq = location.search && qs.parse(location.search)\n\n    const sort = sq.sort || undefined\n\n    const _onSort = (sort) => {\n\n        if (sort === sq.sort) {\n            sort = sort + \" DESC\"\n        }\n\n\n        const url = location.pathname + \"?\" + qs.stringify({...sq, sort: sort});\n        history.replace(url)\n    }\n\n    const header = prevPage && <TableModule cols={cols} placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <TableModule cols={cols} placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />\n\n    return (\n        <TableView head={false} header={header} footer={footer} cols={cols} sort={sort} onSort={_onSort}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} key={index}>\n                        <TableModule size={size} cols={cols} sort={sort} />\n                    </FinderModel>\n                )\n            })}\n        </TableView>\n    )\n\n}\n\nexport default FinderViewGrid","import React from 'react';\nimport { IconsView, IconsModule } from \"../components\"\nimport { useTranslation } from 'react-i18next';\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewIcons = ({size, resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    const { t } = useTranslation(\"search\")\n\n    const iconSize = 24 + size * 1\n\n    const prevPageLabel = t(\"Page {{page}}\", {page: prevPage})\n    const nextPageLabel = t(\"Page {{page}}\", {page: nextPage})\n\n    const header = prevPage && <IconsModule icon=\"arrow_back\" iconSize={iconSize} placeholder title={prevPageLabel} onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <IconsModule icon=\"arrow_forward\" iconSize={iconSize} placeholder title={nextPageLabel} onClick={() => onPage(nextPage)} />\n\n    return (\n        <IconsView header={header} footer={footer} iconSize={iconSize}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n                return (\n                    <FinderModel {...model} iconSize={iconSize} key={index}>\n                        <IconsModule />\n                    </FinderModel>\n                )\n            })}\n        </IconsView>\n    )\n\n}\n\nexport default FinderViewIcons","import React from 'react';\nimport { GalleryView, GalleryModule } from \"../components\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewGallery = ({ size, resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    const header = prevPage && <GalleryModule placeholder title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <GalleryModule placeholder title=\"Next page\" onClick={() => onPage(nextPage)} />\n    \n    const mediaSize = 200 + size * 1\n\n    /*\n    const sizes = {\n        \"xs\": 200,\n        \"sm\": 300,\n        \"md\": 400,\n        \"lg\": 600,\n        \"xl\": 800\n    }*/\n\n    return (\n        <GalleryView header={header} footer={footer} mediaSize={mediaSize} debug={true}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                const image = model && model.content && model.content.media && model.content.media[0] && model.content.media[0].media\n                const mediaWidth = model && model.mediaWidth || image && image.mediaWidth\n                const mediaHeight = model && model.mediaHeight || image && image.mediaHeight\n\n                model = {\n                    ...model,\n                    mediaWidth: mediaWidth,\n                    mediaHeight: mediaHeight,\n                }\n\n                return (\n                    <FinderModel {...model} key={index}>\n                        <GalleryModule />\n                    </FinderModel>\n                )\n\n            })}\n        </GalleryView>\n    )\n\n}\n\nexport default FinderViewGallery","import React from 'react';\nimport { MasonryView, MasonryModule } from \"../components\"\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewMasonry = ({ size, resultsLoaded, prevPage, nextPage, onPage }) => {\n\n    const header = prevPage && <MasonryModule placeholder maxWidth=\"100%\" title=\"Prev page\" onClick={() => onPage(prevPage)} />\n    const footer = nextPage && <MasonryModule placeholder maxWidth=\"100%\" title=\"Next page\" onClick={() => onPage(nextPage)} />\n\n    const columnSize = 200 + size * 2\n\n    return (\n        <MasonryView columnSize={columnSize} header={header} footer={footer} debug={true}>\n            { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                return (\n                    <FinderModel {...model} key={index}>\n                        <MasonryModule />\n                    </FinderModel>\n                )\n\n            })}\n        </MasonryView>\n    )\n\n}\n\nexport default FinderViewMasonry","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { getModel } from \"../modelsById/\";\nimport { getQuery } from \"../searchByUrl/\";\nimport qs from 'query-string';\n\nconst treeSlice = createSlice({\n    name: 'tree',\n    initialState: {\n        url: undefined,\n        nodesExpanded: [],\n        nodesById: {},\n        url: undefined,\n        treeParent: {},\n        treeColumns: undefined\n     }, \n    reducers: {\n        requestTree(initialState, action) {\n            const { models, url, apiUrl, query } = action.payload\n            return {\n                ...initialState,\n            }\n        },\n        receiveTree(state, action) {\n            const { url, resultsLoaded } = action.payload\n\n            const treeRoot = url && {\n                draggableId: url,\n                droppableId: url,\n                url: url\n            }\n        \n            const treeParents = resultsLoaded && resultsLoaded.map(child => {\n                return {\n                    ...child,\n                    draggableId: url + \"/\" + child.id,\n                    droppableId: url + \"/\" + child.id,\n                    url: url + \"/\" + child.uniqueId\n                }\n            })\n    \n\n            return {\n                ...state,\n                url,\n                treeRoot,\n                treeParents,\n                treeColumns: [\n                    {\n                        parent: treeRoot,\n                        children: treeParents\n                    }\n                ]\n            }\n\n        },\n        toggleNode(state, action) {\n            const { expanded, uniqueId } = action.payload\n            const nodesExpanded = state.nodesExpanded\n\n            if (nodesExpanded.includes(uniqueId)) {\n                return {\n                    ...state,\n                    nodesById: {\n                        ...state.nodesById,\n                        [uniqueId]: {\n                            expanded: !expanded\n                        }\n                    },\n                    nodesExpanded: state.nodesExpanded.filter(id => id !== uniqueId)                    \n                }\n            }\n\n            return {\n                ...state,\n                nodesById: {\n                    ...state.nodesById,\n                    [uniqueId]: {\n                        expanded: !expanded\n                    }\n                },\n                nodesExpanded: [\n                    ...nodesExpanded,\n                    uniqueId\n                ]\n            }\n\n        },\n        selectNode(state, action) {\n            const { level, uniqueId, expanded, children, ...parent } = action.payload\n\n            const columnParents = state.treeColumns.filter((col, index) => index <= level)\n\n            if (expanded) {\n\n                return {\n                    ...state,\n                    treeColumns: columnParents,\n                    nodesById: {\n                        [uniqueId]: {\n                            expanded: false,\n                        }\n                    }\n                }\n    \n            }\n\n            const expandNode = {\n                parent: {\n                    ...parent,\n                    uniqueId: uniqueId\n                },\n                children: children\n            }\n\n            return {\n                ...state,\n                treeColumns: [\n                    ...columnParents,\n                    expandNode\n                ],\n                nodesById: {\n                    [uniqueId]: {\n                        expanded: !expanded,\n                    }\n                }\n            }\n\n        },\n        expandNode(state, action) {\n            const { uniqueId } = action.payload\n\n            const expanded = state.expanded\n\n            if (expanded.includes(uniqueId)) {\n                return state\n            }\n\n            return {\n                ...state,\n                expanded: [\n                    ...expanded,\n                    uniqueId\n                ]\n            }\n\n        },\n        collapseNode(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                ...state,\n                expanded: state.expanded.filter(id => id !== uniqueId)\n            }\n\n        },\n        addNode(state, action) {\n            const { id, uniqueId, title } = action.payload\n\n            const url = state.url\n\n            const node = {\n                id: id,\n                uniqueId: uniqueId,\n                title: title,\n                draggableId: url + \"/\" + id,\n                droppableId: url + \"/\" + id,\n                url: url + \"/\" + uniqueId\n            }\n\n            return {\n                ...state,\n                treeParents: [\n                    ...state.treeParents,\n                    node\n                ]\n            }\n\n        },\n        removeNode(state, action) {\n            const { id } = action.payload\n\n            return {\n                ...state,\n                treeParents: state.treeParents.filter(child => child.id !== id)\n            }\n        }\n    }\n})\n\nexport const getTree = ({url = undefined, resultsLoaded}) => dispatch => {\n    dispatch(receiveTree({url, resultsLoaded}))\n}\n\n\nexport const dragNode = ({url, results}) => dispatch => {\n\n    const _getNodeId = (treeNode) => {\n        if (treeNode === url) {\n            return null\n        } else {\n            return treeNode.replace(url + \"/\", \"\")\n        }\n    }\n\n    const { draggableId, source, destination, combine } = results\n\n    let id, parentId, sourceId, destinationId\n\n    if (source && destination && source.droppableId !== destination.droppableId) {\n\n        id = _getNodeId(draggableId)\n        parentId = _getNodeId(destination.droppableId)\n        sourceId = _getNodeId(source.droppableId)\n\n    } else if (combine && combine.draggableId !== source.droppableId && draggableId !== combine.draggableId) {\n\n        id = _getNodeId(draggableId)\n        parentId = _getNodeId(combine.draggableId)\n        sourceId = _getNodeId(source.droppableId)\n\n    }\n\n    if (id && id !== parentId) {\n        dispatch(sortNode({\n            id: id,\n            parentId: parentId,\n            sourceId: sourceId,\n        }))\n    }\n\n}\n\nexport const sortNode = ({id, parentId, sourceId, destinationId}) => dispatch => {\n\n    const formData = {\n        id: id,\n        parentId: parentId\n    }\n\n    const url = API + '/admin/api/documents';\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n\n        console.log('sorting', formData)\n\n        id && dispatch(getModel({id}))\n        parentId && dispatch(getModel({id: parentId})) //  || dispatch(getQuery(query))\n        sourceId && dispatch(getModel({id: sourceId}))\n        destinationId && dispatch(getModel({id: destinationId}))\n\n        if (formData.parentId) {\n            console.log('sortRemove', formData)\n            dispatch(removeNode(formData))\n        } else if (formData.uniqueId) {\n            console.log('sortAdd', formData)\n            dispatch(addNode(formData))\n        }\n    })\n    \n}\n\nexport const { \n    requestTree, receiveTree,\n    removeNode, addNode,\n    selectNode, toggleNode, expandNode, collapseNode    \n} = treeSlice.actions\n\nexport default treeSlice.reducer","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { TreeView, TreeList, TreeModule } from \"../components\"\nimport { getTree, dragNode, sortNode, toggleNode } from '../redux/tree';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport FinderModel from \"./FinderModel\"\n\nconst FinderViewTree = ({\n    size,\n    query = {},\n    url,\n    resultsLoaded,\n    ...props\n}) => {\n\n    if (size < 25) {\n        size = \"small\"\n    } else if (size > 175) {\n        size = \"large\"\n    } else {\n        size = \"medium\"\n    }\n\n    const location = useLocation()\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        url && resultsLoaded && dispatch(getTree({url, resultsLoaded}))\n    }, [url, resultsLoaded])\n\n    const modelsById = useSelector(state => state.modelsById)\n\n    const { treeRoot, treeParents, nodesById } = useSelector(state => state.tree)\n\n    const _onToggle = (event, node) => {\n        event.stopPropagation()\n        dispatch(toggleNode(node))\n    }\n\n    const _onDragEnd = (results) => {\n        dispatch(dragNode({url, results}))\n    }\n\n    const DraggableChild = ({child, level, index}) => {\n\n        child = {\n            ...child,\n            draggableId: url + \"/\" + child.id,\n            droppableId: url + \"/\" + child.id,\n            url: url + \"/\" + child.uniqueId\n        }\n\n        const uniqueNode = nodesById && nodesById[child.uniqueId]\n        const uniqueModel = modelsById && modelsById[child.uniqueId]\n\n        const children = uniqueModel && uniqueModel.children || []\n        const collapsible = children.length && true\n\n        child = {\n            ...child,\n//            ...uniqueModel,\n            ...uniqueNode,\n            children: false,\n            selectable: false,\n            collapsible: collapsible,\n        }\n\n        const { expanded } = child\n    \n        return (\n            <Draggable index={index} draggableId={child.draggableId} key={child.draggableId}>\n                {(provided, snapshot) => (\n                    <FinderModel {...child}\n                            index={index}\n                            level={level}\n                            draggable={{provided, snapshot}} \n                            getChildren={true}>\n                        <TreeModule size={size} onClick={(event) => _onToggle(event, child)}>\n                            {collapsible && expanded && <DroppableChildren parent={child} children={children} level={level+1} /> || \"\" }\n                        </TreeModule>\n                    </FinderModel>\n                )}\n            </Draggable>\n        )\n\n    }\n\n    const DroppableChildren = ({parent, children, index, level}) => {\n\n        return (\n            <Droppable isCombineEnabled={true} index={index} droppableId={parent.droppableId} key={parent.droppableId}>\n                {(provided, snapshot) => (\n                    <TreeList droppable={{provided, snapshot}}>\n                        {children && children.map((child, index) => {\n                            return (\n                                <DraggableChild child={child} level={level} index={index} key={index} />\n                            )\n                        })}\n                    </TreeList>\n                )}\n            </Droppable>\n\n        )\n        \n    }\n\n\n    return (\n        <TreeView>\n            <DragDropContext onDragEnd={_onDragEnd}>\n                { treeParents && <DroppableChildren parent={treeRoot} children={treeParents} index={0} level={0} /> }\n            </DragDropContext>        \n        </TreeView>\n    )\n\n\n}\n\nFinderViewTree.defaultProps = {\n}\n\nexport default FinderViewTree","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport {\n    ColumnView,\n    ColumnList,\n    ColumnModule,\n} from \"../components/ColumnView\"\nimport { getTree, dragNode, selectNode, toggleNode, expandNode } from '../redux/tree';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport FinderModel from \"./FinderModel\"\n\nconst TreeColumn = ({\n    size,\n    query = {},\n    url,\n    resultsLoaded,\n    ...props\n}) => {\n\n    if (size < 25) {\n        size = \"small\"\n    } else if (size > 175) {\n        size = \"large\"\n    } else {\n        size = \"medium\"\n    }\n\n    const location = useLocation()\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        url && resultsLoaded && dispatch(getTree({url, resultsLoaded}))\n    }, [url, resultsLoaded])\n\n    const modelsById = useSelector(state => state.modelsById)\n\n    const { treeRoot, treeColumns, nodesById } = useSelector(state => state.tree)\n\n    const _onToggle = (event, node) => {\n        event.stopPropagation()\n        dispatch(toggleNode(node))\n    }\n\n    const _onDragEnd = (results) => {\n        dispatch(dragNode({results, url}))\n    }\n\n    const DraggableChild = ({child = {}, level, index}) => {\n\n        child = {\n            ...child,\n            level: level,\n            draggableId: url + \"/\" + child.id,\n            droppableId: url + \"/\" + child.id,\n            url: url + \"/\" + child.uniqueId\n        }\n\n        const uniqueModel = modelsById && modelsById[child.uniqueId]\n        const uniqueNode = nodesById && nodesById[child.uniqueId]\n\n        const children = uniqueModel && uniqueModel.children || []\n        const collapsible = children.length && true\n\n        child = {\n            ...child,\n//            ...uniqueModel,\n            ...uniqueNode,\n            children: children,\n            collapsible: collapsible,\n        }\n\n        return (\n            <Draggable index={index} draggableId={child.draggableId} key={child.draggableId}>\n                {(provided, snapshot) => (\n                    <FinderModel {...child}\n                            index={index}\n                            level={level}\n                            draggable={{provided, snapshot}} \n                            getChildren={true}>\n                        <ColumnModule size={size} onClick={(event) => _onToggle(event, child)} />\n                    </FinderModel>\n                )}\n            </Draggable>\n        )\n\n    }    \n    \n\n    const DroppableColumn = ({parent, children, level, index}) => {\n\n        if (!children) {\n            return false\n        }\n\n        return (\n            <>\n            <Droppable isCombineEnabled={true} index={index} droppableId={parent.droppableId} key={parent.droppableId}>\n                {(provided, snapshot) => (\n                    <ColumnList elevation={level} droppable={{provided, snapshot}} key={index}>\n                        {children && children.map((child, index) => {\n                            return (\n                                <DraggableChild child={child} level={level} index={index} key={index} />\n                            )\n                        })}\n                    </ColumnList>\n                )}\n            </Droppable>\n            </>\n        )\n        \n    }\n\n    return (\n        <ColumnView>\n            <DragDropContext onDragEnd={_onDragEnd}>\n                { treeColumns && treeColumns.map((column, index) => {\n                    return (\n                        <DroppableColumn {...column} level={index} key={index} />\n                    )\n                })}\n            </DragDropContext>\n        </ColumnView>\n    )\n\n\n}\n\nTreeColumn.defaultProps = {\n}\n\nexport default TreeColumn","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport qs from 'query-string';\n\nimport FinderViewList from \"./FinderViewList\"\nimport FinderViewGrid from \"./FinderViewGrid\"\nimport FinderViewTable from \"./FinderViewTable\"\nimport FinderViewIcons from \"./FinderViewIcons\"\nimport FinderViewGallery from \"./FinderViewGallery\"\nimport FinderViewMasonry from \"./FinderViewMasonry\"\n\nimport FinderViewTree from \"./FinderViewTree\"\nimport FinderViewCols from \"./FinderViewCols\"\nimport FinderViewApps from './FinderViewApps';\n\nconst templates = {\n    \"apps\": FinderViewApps,\n    \"list\": FinderViewList,\n    \"table\": FinderViewTable,\n    \"icons\": FinderViewIcons,\n    \"grid\": FinderViewGrid,\n    \"gallery\": FinderViewGallery,\n    \"masonry\": FinderViewMasonry,\n    \"tree\": FinderViewTree,\n    \"cols\": FinderViewCols\n}\n\nconst FinderView = ({view, size}) => {\n\n    const location = useLocation()\n    const history = useHistory()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[location.pathname] || {}\n\n    const _onPage = (page) => {\n        const sq = location.search && qs.parse(location.search)\n        const url = location.pathname + \"?\" + qs.stringify({...sq, page: page});\n        history.replace(url)\n    }\n\n    const ViewTemplate = view && templates[view] || templates[\"list\"]\n\n    return <ViewTemplate {...currentSearch} size={size} onPage={_onPage} />\n\n}\n\nexport default FinderView","import React from 'react';\nimport { IconsView, IconsModule } from \"../components\"\nimport { useLocation, useHistory } from 'react-router-dom';\nimport icons from \"../icons/\"\n\nconst FinderViewApps = () => {\n\n    const history = useHistory()\n\n    const _onClick = ({url}) => {\n        history.push(url)\n    }\n\n    const apps = [\n        {\n            title: \"Kulturpunkt\",\n            url: \"/kp\",\n            icon: icons[\"kpApp\"]\n        },\n        {\n            title: \"Kiosk\",\n            url: \"/kiosk\",\n            icon: icons[\"kioskApp\"]\n        }\n\n    ]\n\n    return (\n        <IconsView>\n            { apps.map((model, index) => {\n                return (\n                    <IconsModule {...model}\n                        onClick={() => _onClick(model)}\n                        key={index} />\n                )\n            })}\n        </IconsView>\n    )\n\n}\n\nexport default FinderViewApps","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useTranslation } from 'react-i18next';\nimport { bulkAdd, bulkRemove, bulkToggle, bulkReset } from '../redux/bulk';\nimport { getPreview, getEditor, collapseEditor } from '../redux/finder';\nimport qs from 'query-string';\n\nimport { ViewBase, ViewHeader, ViewLoader, EmptyView } from \"../components/View\"\n\nimport FinderView from \"./FinderView\"\n\nconst FinderResults = (props) => {\n    const { query, isLoading, count, resultsLoaded } = props;\n\n    const { t, i18n } = useTranslation('finder');\n\n    const location = useLocation()\n    const history = useHistory()\n    const dispatch = useDispatch()\n\n    const sq = location.search && qs.parse(location.search)\n\n\n    // parent && query\n    const menuByUrl = useSelector(state => state.finder.menuByUrl)\n    const pathname = location.pathname\n    const parent = menuByUrl && menuByUrl[pathname] || {}\n\n    // onSelect\n\n    const _onSelect = ({url}) => {\n        url && history.push(url)\n    }\n\n    // sortOptions\n\n    const _onSort = (sort) => {\n        const sq = location.search && qs.parse(location.search)\n        const url = location.pathname + \"?\" + qs.stringify({...sq, sort: sort});\n        history.replace(url)\n    }\n\n    const sortOptions = parent.sortOptions || [\"title\", \"title DESC\", \"createdAt DESC\", \"updatedAt DESC\"]\n    const sort = sq.sort || sortOptions && sortOptions[0]\n\n    // rowsOptions\n\n    const _onRows = (rows) => {\n        const sq = location.search && qs.parse(location.search)\n        const url = location.pathname + \"?\" + qs.stringify({...sq, rows: rows});\n        history.replace(url)\n    }\n\n    const rowsOptions = parent.rowsOptions || [10,20,30,40,50]\n    const rows = sq.rows || rowsOptions[0]\n\n    // viewOptions\n\n    const _onView = (view) => {\n        const url = location.pathname + \"?\" + qs.stringify({...sq, view: view});\n        history.replace(url)\n    }\n\n    const viewOptions = parent.viewOptions || [\"tree\",\"cols\",\"list\",\"icons\",\"table\",\"gallery\",\"masonry\"]\n    const view = sq.view || viewOptions[0]\n\n    // sizeOptions\n\n    const _onSize = (size) => {\n        const url = location.pathname + \"?\" + qs.stringify({...sq, size: size});\n        history.replace(url)\n    }\n\n    const sizeOptions = parent.sizeOptions || {\n        defaultValue: 100,\n        min: 0,\n        max: 200\n    }\n\n    const size = sq.size || 100\n\n    // parents, title, etc\n\n    const finder = useSelector(state => state.finder)\n    const bulk = useSelector(state => state.bulk)\n\n    const selected = bulk.count\n\n    // format numbers\n\n    const selectedFormatted = new Intl.NumberFormat('de-DE').format(selected)\n    const countFormatted = new Intl.NumberFormat('de-DE').format(count)\n\n    // select\n\n    const _onSelectAll = () => {\n\n        resultsLoaded.map(item => {\n            const { source, sourceId } = item;\n            const uniqueId = item.uniqueId || source + \"/\" + sourceId\n            dispatch(bulkAdd({uniqueId}))\n        })\n\n    }\n\n    const _onSelectToggle = () => {\n\n        resultsLoaded.map(item => {\n            const { source, sourceId } = item;\n            const uniqueId = item.uniqueId || source + \"/\" + sourceId\n            dispatch(bulkToggle({uniqueId}))\n        })\n\n    }\n\n    const _onSelectNone = () => {\n        dispatch(bulkReset())\n    }\n\n    // bulk\n\n    const _onBulkEdit = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Edit selected'),\n            \"model\": \"editor\"\n        }))\n        \n    }\n\n    const _onCreateReport = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Create report'),\n            \"model\": \"report\"\n        }))\n        \n    }\n\n    // options\n\n    let options = []\n\n    if (selected) {\n\n        const selectOptions = [\n            {\n                \"title\": t('Select all'),\n                \"onClick\": _onSelectAll,\n            },\n            {\n                \"title\": t('Unselect all'),\n                \"onClick\": _onSelectNone\n            },\n            {\n                \"title\": t('Toggle selected'),\n                \"onClick\": _onSelectToggle\n            },\n        ]\n\n        const exportOptions = [\n            {\n                \"title\": t('Export to {{format}}', {format: \"PDF\"})\n            },\n            {\n                \"title\": t('Export to {{format}}', {format: \"Excel\"})\n            }\n        ]\n\n        const bulkOptions = [\n            {\n\n                \"icon\": \"edit\",\n                \"title\": t('Edit selected'),\n                \"onClick\": _onBulkEdit\n            },\n            {\n                \"icon\": \"trending_up\",\n                \"title\": t('Create report'),\n                \"onClick\": _onCreateReport\n            },\n            {\n                children: exportOptions\n            }\n        ]\n\n        options = [\n            {\n                \"title\": t(\"Select\"),\n                \"children\": selectOptions\n            },\n            {\n                \"title\": t(\"Action\"),\n                \"children\": bulkOptions\n            }\n        ]\n\n    }\n\n    // parents\n\n    let parents = finder.parents\n\n    // title\n\n    let queryTitle\n\n    if (parent && parent.query && parent.query.q && query && query.q) {\n        queryTitle = query.q.replace(parent.query.q, \"\")\n    } else if (query && query.q) {\n        queryTitle = query.q\n    }\n\n    // title\n\n    let title\n\n    if (queryTitle) {\n\n        parents = [\n            ...parents,\n            {\n                title: \"«\" + queryTitle + \"»\"\n            }\n        ]\n    }\n\n    // description\n\n    let description\n\n    if (isLoading) {\n        description = t('Loading') + \"...\"\n    } else if (selected) {\n        parents = undefined\n        title = t('{{selected}} of {{count}} selected', { selected: selectedFormatted, count: countFormatted });\n    } else if (!isLoading && count) {\n        description = t('{{count}} hits', { count: countFormatted });\n    } else {\n        description = t('No hits');\n    }\n\n    if (!isLoading && !count) {\n        return (\n            <ViewBase>\n                <ViewHeader description={description} parents={parents} onSelect={_onSelect} />\n                <EmptyView />\n            </ViewBase>\n        )\n\n    }\n\n\n    return (\n        <ViewBase>\n            <ViewHeader \n                parents={parents}\n                title={title || false} \n                description={description || false}\n\n                view={view}\n                viewOptions={!selected && viewOptions}\n                onView={_onView} \n\n                rows={rows}\n                rowsOptions={!selected && rowsOptions}\n                onRows={_onRows} \n\n                sort={sort}\n                sortOptions={!selected && sortOptions}\n                onSort={_onSort} \n\n                size={size}\n                sizeOptions={!selected && sizeOptions}\n                onSize={_onSize} \n\n                options={options}\n                onSelect={_onSelect} />\n            <ViewLoader isLoading={isLoading}>\n                <FinderView view={view} size={size} />\n            </ViewLoader>\n        </ViewBase>\n    )\n\n\n}\n\nFinderResults.defaultProps = {\n}\n\nexport default FinderResults","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { getView, getSort } from '../redux/finder';\nimport { getQuery } from '../redux/searchByUrl';\nimport qs from 'query-string';\n\nimport FinderResults from \"./FinderResults\"\n\nconst FinderQuery = ({query = {}, sortOptions = [], viewOptions = [], ...props}) => {\n    const dispatch = useDispatch()\n\n    const location = useLocation()\n    const history = useHistory()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // set query\n\n    const sq = location.search && qs.parse(location.search)\n\n    let q = []\n\n    query.q && q.push(query.q)\n    sq.q && q.push(sq.q)\n\n    q = q && q.join(\" \") || undefined\n\n\n    const url = location.pathname\n    const page = sq.page || 1\n    const rows = sq.rows || query.rows || 10\n    const fl = query.fl || \"id,parentId,uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight,updatedByName\"\n\n    const sortable = [\n        \"title\",\n        \"title DESC\",\n        \"deletedAt\",\n        \"deletedAt DESC\",\n        \"createdAt\",\n        \"createdAt DESC\",\n        \"updatedAt\",\n        \"updatedAt DESC\"\n    ]\n\n    const sort = sq.sort || query.sort || undefined\n\n    // query\n\n    useEffect(() => {\n        url && query.models && dispatch(getQuery({\n            ...query,\n            url: url,\n            collectionId: query.collectionId || app && app.collectionId,\n            siteId: query.siteId || app && app.siteId,\n            page: page,\n            rows: rows,\n            sort: sort && sortable.includes(sort) && sort,\n//            fl: fl,\n            q: q,\n        }))\n    }, [url, q, sort, rows, page])\n\n    // search\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const currentSearch = searchByUrl && searchByUrl[url] || {}\n    \n    return (\n        <FinderResults {...sq} {...props} {...currentSearch}  />\n    )\n\n}\n\nFinderQuery.defaultProps = {\n}\n\nexport default FinderQuery","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    article: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.text.primary,\n        minWidth: 360,\n        minHeight: \"100%\",\n        padding: \"2em\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 18,\n        overflowX: \"hidden\",\n\n        \"& *\": {\n            boxSizing: \"border-box\"\n        }\n    },\n}));\n\nconst ArticleBase = ({expanded = true, children, onClick}) => {\n\n    const classes = useStyles()\n\n\n    return (\n        <article aria-expanded={expanded} className={classes.article} onClick={onClick}>\n            {children}\n        </article>\n    )\n\n\n}\n\nexport default ArticleBase;","import React, { useEffect, useState } from \"react\"\n\nimport Typography from \"@material-ui/core/Typography\"\nimport Icon from \"@material-ui/core/Icon\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        width: \"100%\",\n        display: \"flex\",\n        marginBottom: \"1em\"\n    },\n    icon: {\n        marginRight: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"1.5em\",\n        lineHeight: 1.25,\n        fontWeight: \"bold\",\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 16,\n        fontWeight: \"normal\"\n    },\n}));\n\nconst ArticleHeader = ({icon, title, description}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            {icon && <Icon className={classes.icon}>{icon}</Icon>}\n            <Typography component=\"h1\" className={classes.title}>{title}</Typography>\n        </header>\n    )\n    \n    return (\n        <header className={classes.header}>\n            <h1 className={classes.title}>{title}</h1>\n            <h2 className={classes.description}>{description}</h2>\n        </header>\n    )\n\n\n}\n\nexport default ArticleHeader;","import React from \"react\"\nimport ReactMarkdown from 'react-markdown'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    typography: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"1em\",\n        lineHeight: 1.5,\n\n        margin: 0,\n\n        \"& > *\": {\n            marginTop: \".5em\",\n            marginBottom: \".5em\",\n        },\n\n        \"& > ol\": {\n            marginTop: \"1em\",\n            marginBottom: \"1em\",\n\n            \"& li + li\": {\n                marginTop: \".5em\"\n            }\n        },\n\n        \"& > ul\": {\n            marginTop: \"1em\",\n            marginBottom: \"1em\",\n\n            \"& li + li\": {\n                marginTop: \".5em\"\n            }\n        },\n        \n\n        \"& > h2\": {\n            fontWeight: \"normal\",\n            fontSize: \"1.5em\",\n            marginTop: \"1em\",\n            marginBottom: 0,\n        },\n\n        \"& > h3\": {\n            fontSize: \"1em\",\n            fontWeight: \"bold\",\n            marginTop: \"1em\",\n            marginBottom: \".5em\",\n\n            \"& + p\": {\n                marginTop: \"-.5em\"\n            }\n\n        }\n\n    },\n        \n\n}));\n\n\nconst ArticleSection = ({children}) => {\n\n    const classes = useStyles()\n\n    return <ReactMarkdown className={classes.typography}>{children}</ReactMarkdown> \n\n}\n\n\nexport default ArticleSection","import React, { useEffect, useState } from \"react\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        width: \"100%\"\n    },\n    title: {\n        fontFamily: 'Akkurat, sans-serif',\n        fontSize: '1em',\n        fontWeight: 'bold',\n        marginTop: \"1.5em\",\n    },\n}));\n\nconst ArticleSection = ({title, children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <section className={classes.section}>\n            {title && <h2 className={classes.title}>{title}</h2> }\n            {children}\n        </section>\n    )\n\n\n}\n\nexport default ArticleSection;","import React, { useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    slideshow: {\n        width: \"100%\",\n\n\n    },\n    list: {\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n        display: \"flex\",\n        flexDirection: \"row\",\n        transition: \"transform .25s ease-in-out\",\n\n        transform: props => { return props.transform },\n\n        userSelect: \"none\"\n\n    },\n    item: {\n        flexBasis: \"100%\",\n        flexShrink: 0,\n        flexGrow: 0,\n\n        opacity: .7,\n        transition: \"opacity .5s ease-in-out\",\n\n        \"&[aria-selected=true]\": {\n            opacity: 1\n        }\n\n    },\n    figure: {\n        position: \"relative\",\n        backgroundColor: theme.palette.media || \"#808080\",\n        width: \"100%\",\n        height: 360,\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        margin: 0,\n\n        padding: \"2em 2em 4em 2em\",\n    },\n    figcaption: {\n        position: \"absolute\",\n        top: \"auto\",\n        right: 0,\n        bottom: 0,\n        left: 0,\n        fontSize: \".75em\",\n        padding: \"1em\"\n    },\n    image: {\n        display: \"block\",\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    },\n}));\n\nconst MediaSlideshow = ({items = []}) => {\n\n    const [currentIndex, setCurrentIndex] = useState(0)\n\n    const count = items.length;\n    const width = count * 100;\n    const moveX = width / count\n\n    const translateX = moveX * currentIndex * -1 + \"%\"\n    const transform = \"translateX(\"+translateX+\")\"\n\n    const classes = useStyles()\n\n    if (!items.length) {\n        return false\n    }\n\n\n    const _onIndex = (index) => {\n        setCurrentIndex(index)\n    }\n\n    const MediaItem = ({mediaId, media, selected, onClick}) => {\n        return (\n            <li className={classes.item} aria-selected={selected} onClick={onClick}>\n                <figure className={classes.figure}>\n                    <img src={media.imageUrl} className={classes.image} />\n                    <figcaption className={classes.figcaption}>Foto: Nasjonalmuseet</figcaption>\n                </figure>\n            </li>\n        )        \n    }\n\n\n    return (\n        <div className={classes.slideshow}>\n            <ul className={classes.list} style={{transform: transform}}>\n                {items && items.map((item, index) => <MediaItem {...item} selected={index === currentIndex} key={index} onClick={() => _onIndex(index)}/>)}\n            </ul>\n        </div>\n    )\n\n\n}\n\nexport default MediaSlideshow;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        width: \"100%\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"0.875em\",\n        lineHeight: 1.5,\n        borderTop: \"1px solid\",\n        borderColor: \"#808080\",\n        paddingTop: \"1em\",\n        marginTop: \"1.5em\",\n        marginBottom: \"1.5em\",\n\n        \"& $list\": {\n            borderTop: \"none\",\n            paddingTop: 0,\n            marginTop: \"0.75em\",\n            fontSize: \"1em\"\n        }\n\n    }\n}));\n\nconst MetaList = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <ul className={classes.list}>{children}</ul>\n    )\n\n}\n\nexport default MetaList;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    item: {\n        \"& + $item\": {\n            marginTop: \"0.75em\"\n        }\n    }\n}));\n\nconst MetaListItem = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <li className={classes.item}>\n            {children}\n        </li>\n    )\n\n\n}\n\nexport default MetaListItem;","import React, { useEffect, useState } from \"react\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n\n    label: {\n        fontFamily: '\"Akkurat Mono\", monospace',\n        fontWeight: 'normal',\n        fontSize: '0.75em',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',\n        color: theme.palette.text.secondary,\n\n        \"&:after\": {\n            content: '\": \"'\n        }\n\n    }\n\n}));\n\nconst MetaLabel = ({children}) => {\n\n    const classes = useStyles()\n    \n    return (\n        <b className={classes.label}>{children}</b>\n    )\n\n}\n\nexport default MetaLabel;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        borderBottom: \"1px solid\",\n        borderColor: \"rgba(0,0,0,.5)\",\n        \"&:hover\": {\n            cursor: \"pointer\",\n            borderColor: theme.palette.text.primary\n        },\n    },\n    value: {\n        fontStyle: \"normal\",\n\n        \"& + $value\": {\n            \"&:before\": {\n                content: '\", \"'\n            }\n        }\n    }\n}));\n\nconst MetaValue = ({children, onClick}) => {\n    const classes = useStyles()\n\n    if (onClick) {\n        return (\n            <span className={classes.value}>\n                <a className={classes.link} onClick={onClick}>{children}</a>\n            </span>\n        )\n    }\n\n    return <span className={classes.value}>{children}</span>\n\n}\n\nexport default MetaValue;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    code: {\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        border: '1px solid rgba(128, 128, 128, 0.5)',\n        padding: '0.25em 0.5em',\n        borderRadius: '2px',\n        margin: '-1px 0',\n        fontSize: '0.625em',\n        lineHeight: '1',\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n    }\n}));\n\nconst MetaCode = ({children}) => {\n\n    const classes = useStyles()\n\n    return <span className={classes.code}>{children}</span>\n\n\n\n}\n\nexport default MetaCode;","import React, { useEffect, useState } from \"react\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    measures: {\n        display: \"flex\",\n    },\n    object: {\n        flexGrow: 1,\n        flexBasis: \"50%\"\n    },\n    rectangle: {\n        border: \"1px solid\"\n    }\n    \n}));\n\nconst Measures = ({items = []}) => {\n\n    const classes = useStyles()\n\n    const Rectangle = ({width = 1, height = 1}) => {\n\n        const maxWidth = 100\n        const maxHeight = height / width * maxWidth\n\n        const style = {\n            width: maxWidth,\n            height: maxHeight,\n        }\n\n        return (\n            <div className={classes.rectangle} style={style}>\n\n            </div>\n        )\n\n    }\n\n    const Measure = ({measureType, value, description, width, height, depth, unit}) => {\n\n        return (\n            <div className={classes.object}>\n\n                {measureType}\n\n                <Rectangle width={width} height={height} />\n\n                <p>{value}</p>\n                <p>{description}</p>\n            </div>\n        )\n\n    }\n\n    return (\n        <div className={classes.measures}>\n            {items.map((item, index) => <Measure {...item} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default Measures;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    MetaList,\n    MetaListItem,\n    MetaLabel,\n    MetaValue,\n    MetaCode,\n} from \"./\"\n\nconst useStyles = makeStyles(theme => ({\n\n}));\n\nconst Metadata = ({items = [], onSelect}) => {\n\n    const MetaItemValue = (item) => {\n\n        const { uuid, value } = item\n\n        const _onClick = (e) => onSelect(e, {\n            ...item,\n            source: \"knav\",\n            sourceId: uuid,\n            title: value,\n            ...item\n        })\n\n        return (\n            <MetaValue onClick={uuid && _onClick}>{value}</MetaValue>\n        )\n    }\n\n    const MetaItem = ({inline, values, ...item}) => {\n\n        const { uuid, label, value, code } = item\n\n        if (values) {\n\n            if (!inline) {\n\n                return (\n                    <MetaListItem>\n                        <MetaLabel>{label}</MetaLabel>\n                        <MetaList>\n                            {values.map((value, index) => <MetaItem {...value} label={false} key={index} />)}                        \n                        </MetaList>\n                    </MetaListItem>\n                )\n    \n                \n            }\n\n            return (\n                <MetaListItem>\n                    <MetaLabel>{label}</MetaLabel>\n                    {values.map((value, index) => <MetaItemValue {...value} label={false} key={index} />)}                        \n                </MetaListItem>\n            )\n                \n        }\n\n\n        return (\n            <MetaListItem>\n                { label && <MetaLabel>{label}</MetaLabel>  }\n                <MetaItemValue {...item} />\n                { code && \" \"}\n                { code && <MetaCode>{code}</MetaCode>}\n            </MetaListItem>\n        )\n\n    }\n\n    return (\n        <MetaList>\n            {items.map((item, index) => <MetaItem {...item} key={index} />)}\n        </MetaList>\n    )\n\n\n}\n\nexport default Metadata;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    MetaList,\n    MetaListItem,\n    MetaLabel,\n    MetaValue,\n    MetaCode,\n} from \"./\"\n\nconst Classifications = ({items = [], onSelect}) => {\n\n\n\n    const ClassificationItem = (item) => {\n\n        const { uuid, value, system, systemId } = item\n\n        const _onClick = (e) => onSelect(e, {\n            ...item,\n            source: \"knav\",\n            sourceId: item.uuid,\n            title: item.value,\n            ...item\n        })\n    \n        return (\n            <MetaListItem>\n                <MetaValue onClick={uuid && _onClick}>{value}</MetaValue>{' '}\n                { systemId && <MetaCode>{system} {systemId}</MetaCode>  }\n            </MetaListItem>\n        )\n\n    }\n\n    return (\n        <MetaList>\n            {items.map((item, index) => <ClassificationItem {...item} key={index} />)}\n        </MetaList>\n    )\n\n\n}\n\nexport default Classifications;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    MetaList,\n    MetaListItem,\n    MetaLabel,\n    MetaValue,\n    MetaCode,\n} from \"./\"\n\nconst useStyles = makeStyles(theme => ({\n\n}));\n\nconst Metadata = ({items = [], onSelect}) => {\n\n    const classes = useStyles()\n\n    const MetaValues = ({values}) => {\n\n        return values.map((item, index) => {\n\n            if (typeof item === \"string\") {\n                item = {\n                    value: item\n                }\n            }\n\n            const { uuid, value } = item\n\n            const _onClick = (e) => onSelect(e, {\n                ...item,\n                source: \"knav\",\n                sourceId: uuid,\n                title: value,\n                ...item\n            })\n\n            return (\n                <MetaValue onClick={uuid && _onClick} key={index}>{value}</MetaValue>\n            )\n        })\n\n    }\n\n    const MetaItem = ({values, ...item}) => {\n\n        const { uuid, label, value, code } = item\n\n        if (values) {\n            return (\n                <MetaListItem>\n                    <MetaLabel>{label}</MetaLabel>\n                    <MetaValues values={values} />\n                </MetaListItem>\n            )\n                \n        }\n\n        const _onClick = (e) => onSelect(e, {\n            ...item,\n            source: \"knav\",\n            sourceId: uuid,\n            title: value,\n            ...item\n        })\n\n        return (\n            <MetaListItem>\n                <MetaLabel>{label}</MetaLabel>\n                <MetaValue onClick={uuid && _onClick}>{value}</MetaValue>\n                { code && \" \"}\n                { code && <MetaCode>{code}</MetaCode>}\n            </MetaListItem>\n        )\n\n    }\n\n    return (\n        <MetaList>\n            {items.map((item, index) => <MetaItem {...item} key={index} />)}\n        </MetaList>\n    )\n\n\n}\n\nexport default Metadata;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Metadata from \"./Metadata\"\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        width: \"100%\",\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0,\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"0.875em\",\n        lineHeight: 1.5,\n        borderTop: \"1px solid\",\n        borderColor: \"#808080\",\n        paddingTop: \"1em\",\n        marginTop: \"1.5em\",\n        marginBottom: \"1.5em\",\n\n    },\n    item: {\n\n        \"& + $item\": {\n            marginTop: \"0.75em\"\n        }\n\n    },\n    header: {\n        color: theme.palette.text.primary\n    },\n    body: {\n        color: theme.palette.text.secondary\n    },\n    label: {\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n\n        \"&:after\": {\n            content: '\": \"'\n        }\n    },\n    title: {\n        fontWeight: 'normal',\n    },\n    link: {\n        borderBottom: \"1px solid\",\n        borderColor: \"rgba(0,0,0,.5)\",\n        \"&:hover\": {\n            cursor: \"pointer\",\n            borderColor: theme.palette.text.primary\n        }\n    },\n    code: {\n        display: 'inline-block',\n        verticalAlign: 'middle',\n        border: '1px solid rgba(128, 128, 128, 0.5)',\n        padding: '0.25em 0.5em',\n        borderRadius: '2px',\n        margin: '-1px 0',\n        fontSize: '0.625em',\n        lineHeight: '1',\n        fontWeight: 'normal',\n        textTransform: 'uppercase',\n        letterSpacing: '0.075em',   \n    },\n    value: {\n        fontStyle: \"normal\",\n\n        \"& + $value\": {\n            \"&:before\": {\n                content: '\", \"'\n            }\n        }\n    }\n}));\n\nconst Events = ({items = []}) => {\n\n    const classes = useStyles()\n\n    const EventList = ({children}) => {\n        return (\n            <ul className={classes.list}>{children}</ul>\n        )\n    }\n\n    const EventPerson = ({value}) => {\n        return (\n            <li>\n                {value}\n            </li>\n        )\n    }    \n\n    const EventPeople = ({items = []}) => {\n\n        return (\n            <ul className={classes.people}>{items && items.map((item, index) => <EventPerson {...item} key={index} />)}</ul>\n        )\n\n    }\n\n    const EventPlace = ({value}) => {\n        return (\n            <li>\n                {value}\n            </li>\n        )\n    }    \n\n    const EventPlaces = ({items = []}) => {\n\n        return (\n            <ul className={classes.places}>{items && items.map((item, index) => <EventPlace {...item} key={index} />)}</ul>\n        )\n\n    }\n\n\n    const EventItem = ({dating, eventType, description, people, places}) => {\n\n        return (\n            <li className={classes.item}>\n                <header className={classes.header}>\n                    <span className={classes.label}>{dating && dating.value}</span>\n                    <span className={classes.title}>{eventType && eventType.value}</span>\n                </header>\n                <div className={classes.body}>\n                    { people && <EventPeople items={people} />}\n                    { places && <EventPlaces items={places} />}\n                </div>\n            </li>\n        )\n\n    }\n\n    return (\n        <EventList>\n            {items.map((item, index) => <EventItem {...item} key={index} />)}\n        </EventList>\n    )\n\n\n}\n\nexport default Events;","import React, { useEffect, useState } from \"react\"\nimport Typography from '@material-ui/core/Typography';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    colors: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        margin: theme.spacing(-1)\n    },\n    color: {\n        flexBasis: \"20%\",\n        flexGrow: 0,\n        margin: theme.spacing(1)\n    },\n    swatch: {\n        border: \"1px solid\",\n        width: \"100%\",\n        paddingBottom: \"100%\"\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n\n    }\n    \n}));\n\nconst Colors = ({items = []}) => {\n\n    const classes = useStyles()\n\n    const Swatch = ({color}) => {\n\n        const style = {\n            backgroundColor: color,\n        }\n\n        return (\n            <div className={classes.swatch} style={style}>\n\n            </div>\n        )\n\n    }\n\n    const Color = ({value, label}) => {\n\n        return (\n            <div className={classes.color}>\n                <Swatch color={value} />\n            </div>\n        )\n\n        return (\n            <div className={classes.color}>\n                <Swatch color={value} />\n                <Typography className={classes.label}>{label}</Typography>\n            </div>\n        )\n\n    }\n\n    return (\n        <div className={classes.colors}>\n            {items.map((item, index) => <Color {...item} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default Colors;","import React, { useEffect, useState } from \"react\"\nimport DocumentPreview from \"./DocumentPreview\"\nimport EkulturPreview from \"./EkulturPreview\"\nimport KnavPreview from \"./KnavPreview\"\nimport PersonPreview from \"./PersonPreview\"\n\nconst templates = {\n    \"document\": DocumentPreview,\n    \"ekultur\": EkulturPreview,\n    \"knav\": KnavPreview,\n    \"person\": PersonPreview,\n}\n\nconst PreviewTemplate = ({source, documentType, ...props}) => {\n\n    let template = templates[\"document\"]\n\n    if (templates[documentType]) {\n        template = templates[documentType]\n    } else if (source && templates[source]) {\n        template = templates[source]\n    }\n\n    const Template = template\n\n    return (\n        <Template {...props} />\n    )\n\n}\n\nexport default PreviewTemplate;","import React, { useEffect, useState } from \"react\"\nimport { useTranslation } from 'react-i18next';\n\nimport PreviewTheme from \"./PreviewTheme\"\n\nimport {\n    ArticleBase,\n    ArticleHeader,\n    ArticleTypography,\n    ArticleSection,\n    MediaSlideshow,\n    Metadata,\n    Classifications,\n    Measures,\n    Motif,\n    Events,\n    Colors\n} from \".\"\n\nconst ArtworkPreview = ({\n    content = {},\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation(['preview'])\n\n    const {\n        identifier,\n        title,\n        description,\n        artist,\n        dating,\n        designations = [],\n        materials = [],\n        techniques = [],\n        images,\n        measures = [],\n        classifications = [],\n        events = [],\n        motifType,\n        motifDescription,\n        depictedPeople = [],\n        depictedPlaces = [],\n        colors = []\n    } = content\n\n\n    const _onSelect = (event, item) => {\n        event.stopPropagation()\n        props.onSelect && props.onSelect(item)\n    }\n\n    // metadata\n\n    let metadata = []\n\n    if (designations && designations.length) {\n\n        metadata.push({\n            label: t(\"Designation\"),\n            inline: true,\n            values: designations,\n        })\n        \n    }\n\n    if (materials && materials.length) {\n\n        metadata.push({\n            label: t(\"Material\"),\n            inline: true,\n            values: materials,\n        })\n        \n    }\n\n    if (techniques && techniques.length) {\n\n        metadata.push({\n            label: t(\"Technique\"),\n            inline: true,\n            values: techniques,\n        })\n        \n    }\n\n    if (artist && artist.value) {\n\n        metadata.push({\n            ...artist,\n            label: t(\"Artist\"),\n        })\n    \n    }\n\n    if (dating) {\n        metadata.push({\n            label: t(\"Dating\"),\n            value: dating.value\n        })\n    }\n\n    if (identifier) {\n        metadata.push({\n            label: t(\"Identifier\"),\n            value: identifier\n        })\n    }\n\n\n    // references\n\n    const references = [\n        {\n            author: \"Jenst Thiis\",\n            title: \"Beskrivende fortegnelse over museets moderne erhvervelser ved udenlandske kjøb i året 1901\",\n            value: \"I Årbog 1898-1901, 147-176 (Trondhjem: Nordenfjeldske Kunstindustrimuseum, 1902), 175-176 (nr. 133)\",\n        },\n        {\n            value: \"Kunsthåndverk og formgiving (Outline)\",\n            code: \"OU 531\"\n        }\n    ]\n\n    // motif\n\n    let motif = []\n\n    if (motifType) {\n        motif.push({\n            label: t(\"Motif type\"),\n            value: motifType\n        })\n    }\n\n    if (motifDescription) {\n        motif.push({\n            label: t(\"Description\"),\n            value: motifDescription\n        })\n    }\n\n    if (depictedPeople.length) {\n        motif.push({\n            label: t(\"People depicted\"),\n            inline: false,\n            values: depictedPeople\n        })\n    }\n\n    if (depictedPlaces.length) {\n        motif.push({\n            label: t(\"Places depicted\"),\n            inline: false,\n            values: depictedPlaces\n        })\n    }\n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title || \"Uten tittel\"} />\n            { images && <MediaSlideshow items={images} /> }\n\n            <ArticleSection>\n                <Metadata items={metadata} onSelect={_onSelect} />\n            </ArticleSection>\n\n            <ArticleTypography>{description}</ArticleTypography>\n\n            { measures.length &&\n                <ArticleSection title={t(\"Measures\")}>\n                    <Measures items={measures} />\n                </ArticleSection>\n            }\n\n            { classifications && \n                <ArticleSection title={t(\"Classification\")}>\n                    <Classifications items={classifications} onSelect={_onSelect} />\n                </ArticleSection>\n            }\n\n            { motif.length && \n                <ArticleSection title={t(\"Motif\")}>\n                    <Metadata items={motif} onSelect={_onSelect} />\n                </ArticleSection>\n            }\n\n            { colors.length && \n                <ArticleSection title={t(\"Colors\")}>\n                    <Colors items={colors} onSelect={_onSelect} />\n                </ArticleSection>\n            }\n\n            { events.length &&\n                <ArticleSection title={t(\"History\")}>\n                    <Events items={events} />\n                </ArticleSection>\n            }\n\n\n            <ArticleSection title={t(\"References\")}>\n                <Metadata items={references} />\n            </ArticleSection>\n\n        </ArticleBase>\n    )\n\n\n}\n\nexport default ArtworkPreview;","import React, { useEffect, useState } from \"react\"\nimport { useTranslation } from 'react-i18next';\n\nimport {\n    ArticleBase,\n    ArticleHeader,\n    ArticleTypography,\n    ArticleSection,\n    MediaSlideshow,\n    Metadata,\n    Events\n} from \"../PrimusPreview\"\n\nconst ArtworkPreview = ({\n    title,\n    identifier,\n    description,\n    imageUrl,\n    content = {},\n    ...props\n}) => {\n\n    const { t, i18n } = useTranslation(['preview'])\n\n    const {\n        license = [],\n        owner,\n        ownerName,\n        producer,\n    } = content\n\n    let images\n\n    if (imageUrl) {\n        images = [{mediaId: 1, media: { imageUrl: imageUrl }}]\n    }\n    \n\n    const _onSelect = (event, item) => {\n        event.stopPropagation()\n        props.onSelect && props.onSelect(item)\n    }\n\n    // metadata\n\n    let metadata = []\n\n    if (producer) {\n\n        metadata.push({\n            label: t(\"Producer\"),\n            value: producer,\n            onClick: (e) => _onSelect(e, {\n                documentType: \"person\",\n                name: producer\n            })\n        })\n    \n    }\n\n    if (identifier) {\n        metadata.push({\n            label: t(\"Identifier\"),\n            value: identifier\n        })\n    }\n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title || \"Uten tittel\"} />\n            { images && <MediaSlideshow items={images} /> }\n\n            <ArticleSection>\n                <Metadata items={metadata} />\n            </ArticleSection>\n\n            <ArticleTypography>{description}</ArticleTypography>\n\n\n        </ArticleBase>\n    )\n\n\n}\n\nexport default ArtworkPreview;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport moment from \"moment\"\n\nimport ArticleBase from \"./ArticleBase\"\nimport ArticleHeader from \"./ArticleHeader\"\nimport ArticleTypography from \"./ArticleTypography\"\nimport ArticleSection from \"./ArticleSection\"\n\nimport Metadata from \"./Metadata\"\n\nconst KnavPreview = ({\n    expanded = false,\n    title,\n    uuid,\n    ...props\n}) => {\n\n    let metadata = []\n\n    if (uuid) {\n        metadata.push({\n            label: \"UUID\",\n            value: uuid\n        })\n    }\n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title} />\n\n            <ArticleSection>\n                <Metadata items={metadata} />\n            </ArticleSection>\n\n            {JSON.stringify(props)}\n\n        </ArticleBase>\n    )\n\n\n}\n\nKnavPreview.propTypes = {\n}\n\nexport default KnavPreview;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport moment from \"moment\"\n\nimport ArticleBase from \"./ArticleBase\"\nimport ArticleHeader from \"./ArticleHeader\"\nimport ArticleTypography from \"./ArticleTypography\"\nimport ArticleSection from \"./ArticleSection\"\n\nimport Metadata from \"./Metadata\"\n\nimport SectionMetadata from \"./SectionMetadata\"\nimport SectionHistory from \"./SectionHistory\"\nimport SectionExhibitions from \"./SectionExhibitions\"\nimport SectionLicense from \"./SectionLicense\"\nimport SectionClassification from \"./SectionClassification\"\n\nimport Icon from \"./icons/Person\"\n\n\nconst PersonPreview = ({\n    expanded = false,\n    name,\n    gender,\n    biography,\n    birthDate,\n    birthPlace,\n    deathDate,\n    deathPlace,\n    ...props\n}) => {\n\n    const names = name && name.split(',')\n    const title = names && names.reverse().join(\" \")\n\n    let metadata = []\n\n    if (name) {\n        metadata.push({\n            label: \"Navn\",\n            value: name\n        })\n    }\n\n    if (birthDate) {\n\n        birthDate = moment(birthDate).format(\"D. MMMM YYYY\")\n\n        let values = []\n\n        values.push(birthDate)\n        \n        if (birthPlace) {\n            values.push(birthPlace)\n        }\n        \n        metadata.push({\n            label: \"Født\",\n            values: values\n        })\n    }\n\n    if (deathDate) {\n\n        deathDate = moment(deathDate).format(\"D. MMMM YYYY\")\n\n        let values = []\n\n        values.push(deathDate)\n        \n        if (deathPlace) {\n            values.push(deathPlace)\n        }\n        \n        metadata.push({\n            label: \"Død\",\n            values: values\n        })\n    }    \n\n    return (\n        <ArticleBase>\n            <ArticleHeader title={title || name} />\n\n            <ArticleSection>\n                <Metadata items={metadata} />\n            </ArticleSection>\n\n            <ArticleTypography>{biography}</ArticleTypography>\n\n            {JSON.stringify(props)}\n\n        </ArticleBase>\n    )\n\n\n}\n\nPersonPreview.propTypes = {\n    gender: PropTypes.oneOf([\"male\",\"female\"])\n}\n\nexport default PersonPreview;","import React, { useEffect, useState } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    scroller: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\"\n    },\n}));\n\nconst PreviewScroller = ({children}) => {\n\n    const classes = useStyles()\n\n    return (\n        <div className={classes.scroller}>\n            {children}\n        </div>\n    )\n\n\n}\n\nexport default PreviewScroller;","import React from 'react';\nimport { ViewBase, ViewHeader, ListView, ListModule } from \"../components/KpView\"\n\nconst BulkPreviewList = ({title, viewAction, items = []}) => {\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} viewAction={viewAction} />\n            <ListView paddingX={2}>\n                { items && items.map((model, index) => {\n                    return (\n                        <ListModule {...model} key={index} />\n                    )\n                })}\n            </ListView>\n        </ViewBase>\n    )\n\n}\n\nexport default BulkPreviewList","import React, { useEffect, useState } from \"react\"\nimport PreviewTemplate from \"./PreviewTemplate\"\nimport PreviewScroller from \"./PreviewScroller\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    cols: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        width: \"100%\",\n        height: \"100%\",\n    },\n    col: {\n        flexGrow: 0,\n        flexShrink: 0,\n        flexBasis: 96,\n        boxShadow: theme.shadows[4],\n        overflow: \"hidden\",\n        transition: \".125s ease-out\",\n\n        position: \"relative\",\n\n        \"&:hover\": {\n            flexBasis: 96 * 2\n        },\n\n        \"& > *\": {\n            minHeight: \"100%\",\n        },\n\n        \"&[aria-expanded=true]\": {\n            flexGrow: 1,\n            width: \"auto\",\n        },\n\n    }\n\n}));\n\nconst PreviewCols = ({items = [], template = PreviewTemplate, onSelect}) => {\n\n    const [cols, setCols] = useState(items)\n    const [colIndex, setColIndex] = useState(items.length && items.length-1)\n\n    useEffect(() => {\n        console.log('items', items)\n        setCols(items)\n        setColIndex(items.length && items.length-1)\n    }, [items])\n\n    const _onColIndex = (index) => {\n        setColIndex(index)\n        onSelect && onSelect({\n            colIndex: index,\n            item: items[index]\n        })\n    }\n\n    const _onSelectChild = (parents, item) => {\n\n        const cols = [\n            ...parents,\n            item\n        ]\n\n        setColIndex(cols.length-1)\n\n        setCols([\n            ...parents,\n            item\n        ])\n\n        console.log('cols', cols)\n\n\n        onSelect && onSelect({parents, item})\n\n    }\n\n    const classes = useStyles()\n\n    const Template = template\n\n    const PreviewCol = ({item, index}) => {\n\n        const expanded = index == colIndex\n        const parents = cols.filter((parent, i) => i <= index)\n\n        return (\n            <div className={classes.col} aria-expanded={expanded} onClick={() => _onColIndex(index)}>\n                <PreviewScroller>\n                    <Template {...item} expanded={expanded} onSelect={(child) => _onSelectChild(parents, child)} />\n                </PreviewScroller>\n            </div>            \n        )\n\n        if (expanded) {\n        }\n\n        return (\n            <div className={classes.col} aria-expanded={expanded} onClick={() => _onColIndex(index)}>\n                <Template {...item} expanded={expanded} onSelect={(child) => _onSelectChild(parents, child)} />\n            </div>            \n        )\n    }\n\n    return (\n        <div className={classes.cols}>\n            {cols && cols.map((item, index) => <PreviewCol item={item} index={index} key={index} />)}\n        </div>\n    )\n\n\n}\n\nexport default PreviewCols;","import React, { useEffect, useState } from \"react\"\nimport PreviewTemplate from \"./PreviewTemplate\"\nimport PreviewCols from \"./PreviewCols\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    rows: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        height: \"100%\",\n        overflowY: \"scroll\"\n    },\n    row: {\n        position: \"relative\",\n        flexShrink: 0,\n        flexGrow: 0,\n        flexBasis: 36,\n        boxShadow: theme.shadows[4],\n        overflow: \"hidden\",\n        transition: \".125s ease-out\",\n\n        \"&:hover\": {\n            flexBasis: 96,\n\n            \"& > $header\": {\n                display: \"none\"\n            }\n\n        },\n\n        \"&[aria-expanded=true]\": {\n            flexGrow: 1,\n            flexBasis: \"auto\",\n        },\n    },\n    header: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: \"auto\",\n        left: 0,\n        padding: theme.spacing(1, 2),\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: 14,\n        lineHeight: 1.5,\n        color: theme.palette.text.secondary\n    }\n}));\n\nconst PreviewGrid = ({items = [], template = PreviewTemplate, onSelect, ...props}) => {\n\n    const [rows, setRows] = useState(items)\n    const [cols, setCols] = useState(props.cols || undefined)\n    const [rowIndex, setRowIndex] = useState(items.length && items.length-1)\n\n    useEffect(() => {\n        setRows(items)\n        setRowIndex(items.length && items.length-1)\n        setCols([items[items.length-1]])\n    }, [items])\n\n    useEffect(() => {\n        setCols(props.cols)\n    }, [props.cols])\n\n    const _onRowIndex = (index) => {\n        setRowIndex(index)\n        setCols([items[index]])\n\n        onSelect && onSelect({\n            rowIndex: index,\n            item: items[index]\n        })\n    }\n\n    const classes = useStyles()\n\n    const Template = template\n\n    const PreviewRow = ({item, index}) => {\n\n        const expanded = index == rowIndex\n\n        if (expanded) {\n\n            return (\n                <div className={classes.row} aria-expanded={expanded}>\n                    <PreviewCols items={[item]} template={template} onSelect={onSelect} />\n                </div>            \n            )\n\n        } else {\n\n            return (\n                <div className={classes.row} aria-expanded={expanded} onClick={() => _onRowIndex(index)}>\n                    <Template {...item} expanded={expanded} />\n                    <header className={classes.header}>{item.title}</header>\n                </div>            \n            )\n\n        }\n\n    }\n\n    return (\n        <div className={classes.rows}>\n            {rows && rows.map((item, index) => <PreviewRow item={item} index={index} key={index} />)}\n        </div>\n    )\n\n}\n\nexport default PreviewGrid;","import React from 'react';\nimport { ViewBase, ViewHeader, GalleryView, GalleryModule } from \"../components/KpView\"\n\nconst BulkPreviewGallery = ({title, items = []}) => {\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} />\n            <GalleryView mediaSize={200}>\n                { items && items.map((model, index) => {\n                    return (\n                        <GalleryModule {...model} key={index} />\n                    )\n                })}\n            </GalleryView>\n        </ViewBase>\n    )\n\n}\n\nexport default BulkPreviewGallery","import React from 'react';\nimport { ViewBase, ViewHeader, MasonryView, MasonryModule } from \"../components/KpView\"\n\nconst BulkPreviewMasonry = ({title, items = []}) => {\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} />\n            <MasonryView colSize={200} >\n                { items && items.map((model, index) => {\n                    return (\n                        <MasonryModule {...model} key={index} />\n                    )\n                })}\n            </MasonryView>\n        </ViewBase>\n    )\n\n}\n\nexport default BulkPreviewMasonry","import React, { useState, useEffect } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getPreview, getEditor, collapseEditor } from '../redux/finder';\n\nimport { \n    PreviewBase, \n    PreviewOptions, \n    PreviewJSON\n} from \"@kit-ui/admin\"\n\nimport PreviewGrid from \"../components/PrimusPreview/PreviewGrid\"\nimport PreviewList from \"./BulkPreviewList\"\nimport PreviewGallery from \"./BulkPreviewGallery\"\nimport PreviewMasonry from \"./BulkPreviewMasonry\"\n\nimport { schemasByName } from \"./schemas\"\nimport { getUiPreview } from \"./utils\"\n\nconst BulkPreview = () => {\n\n    const { t, i18n } = useTranslation('finder');\n\n    const bulk = useSelector(state => state.bulk)\n    const modelsById = useSelector(state => state.modelsById)\n    const dispatch = useDispatch()\n\n    const items = bulk.items && bulk.items.map(uniqueId => {\n\n        const model = modelsById[uniqueId] || {}\n\n        const image = model && model.content && model.content.media && model.content.media[0] && model.content.media[0].media\n        const mediaWidth = model && model.mediaWidth || image && image.mediaWidth\n        const mediaHeight = model && model.mediaHeight || image && image.mediaHeight\n\n        const documentType = model && model.documentType\n        const documentModel = documentType && schemasByName && schemasByName[\"documents/\" + documentType]\n    \n        const mediaType = model && model.mediaType\n        const mediaModel = mediaType && schemasByName && schemasByName[\"media/\" + mediaType]\n    \n        const collectionType = model && model.collectionType\n        const collectionModel = collectionType && schemasByName && schemasByName[\"collections/\" + collectionType]\n        \n        const schemaModel = documentModel || mediaModel || collectionModel\n    \n        const uiPreview = schemaModel && uniqueId && getUiPreview({...schemaModel, formData: model}) || {}\n    \n\n        return {\n            ...model,\n            ...uiPreview,\n            mediaWidth: mediaWidth,\n            mediaHeight: mediaHeight,\n            uniqueId: uniqueId,\n//            selected: true\n        }\n\n    })\n\n    // bulk\n\n    const bulkCount = bulk.count\n    const bulkTitle = t('{{count}} selected', {count: bulkCount})\n\n    // previewOptions\n\n    const previewOptions = [\n        /*\n        {\n            \"title\": \"Grid\",\n            \"value\": \"grid\",\n            \"template\": PreviewGrid\n        },\n        */\n        {\n            \"title\": \"List\",\n            \"value\": \"list\",\n            \"template\": PreviewList\n        },\n        {\n            \"title\": \"Gallery\",\n            \"value\": \"gallery\",\n            \"template\": PreviewGallery\n        },\n        {\n            \"title\": \"Masonry\",\n            \"value\": \"masonry\",\n            \"template\": PreviewMasonry\n        },\n        /*\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{items}</PreviewJSON> \n        }*/\n    ]        \n\n    // bulkAction\n\n    const _onBulkEdit = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Edit selected'),\n            \"model\": \"editor\"\n        }))\n        \n    }\n\n    const _onCreateReport = () => {\n        dispatch(getEditor({\n            \"expanded\": true,\n            \"title\": t('Create report'),\n            \"model\": \"report\"\n        }))\n        \n    }\n\n    const bulkAction = {\n        \"title\": t(\"Action\"),\n        \"children\": [\n            {\n\n                \"icon\": \"edit\",\n                \"title\": t('Edit selected'),\n                \"onClick\": _onBulkEdit\n            },\n            {\n                \"icon\": \"trending_up\",\n                \"title\": t('Create report'),\n                \"onClick\": _onCreateReport\n            },\n            {\n                \"children\": [\n                    {\n                        \"title\": t('Export to {{format}}', {format: \"PDF\"})\n                    },\n                    {\n                        \"title\": t('Export to {{format}}', {format: \"Excel\"})\n                    }\n                ]\n            }\n            \n        ]\n\n    }\n    \n    // related\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n\n    return (\n        <PreviewBase>\n            <PreviewTemplate title={bulkTitle} viewAction={bulkAction} items={items} />\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n    )\n\n    return (\n        <PreviewGrid items={items} />\n    )\n\n}\n\nexport default BulkPreview","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { bulkAdd, bulkRemove, bulkToggle, bulkReset } from '../redux/bulk';\nimport { getPreview, getEditor, collapseEditor } from '../redux/finder';\n\nimport { getModel, getArtifact, deleteModel, restoreModel, eraseModel, selectModel } from '../redux/modelsById';\nimport qs from 'query-string';\n\nimport { ViewBase, ViewHeader } from \"../components/KpView\"\n\nimport ViewTemplate from \"./FinderView\"\n\nimport { SchemaBase } from '@kit-ui/schema';\n\n\nconst schema = {\n    \"type\": \"object\",\n    \"properties\": {\n        \"artist\": {\n            \"type\": \"string\"\n        },\n        \"dating\": {\n            \"type\": \"string\"\n        }\n    }\n}\n\nconst uiSchema = {\n    \"ui:options\": {\n        \"spacing\": 2\n    }\n\n}\n\nconst BulkEditor = ({title, ...props}) => {\n\n    const editOptions = [{\n        \"title\": \"Lagre\"\n    }]\n\n\n    return (\n        <ViewBase>\n            <ViewHeader title={title} viewOptions={editOptions} />\n\n            <SchemaBase schema={schema} uiSchema={uiSchema} />\n\n        </ViewBase>\n    )\n\n\n}\n\nBulkEditor.defaultProps = {\n}\n\nexport default BulkEditor","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { expandHeader } from '../redux/app';\nimport { getParents } from '../redux/finder';\nimport { Loader } from \"../components/Loader\"\nimport icons from \"../icons\"\n\nconst FinderLoader = ({children}) => {\n\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const { isLoading, menuByUrl } = finder\n\n    const parent = menuByUrl[pathname] || finder.parent\n    const appIcon = icons[app.icon]\n\n    const title = parent && parent.title || app && app.title\n    const description = finder.isLoading && \"Loading finder ...\" || \"Finder loaded\"\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(expandHeader())\n        dispatch(getParents({url: pathname}))\n    }, [pathname, finder.isLoading, parent])\n\n\n    if (parent) {\n        return children\n    }\n\n    return <p>Loading</p>\n\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={appIcon}\n            title={title}\n            description={description}>\n                {children}\n        </Loader>\n    )\n\n}\n\nFinderLoader.defaultProps = {\n}\n\nexport default FinderLoader","import React, { useEffect } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation, useHistory } from \"react-router-dom\";\n\nimport { toggleDarkMode } from \"../redux/app\"\n\nimport { FinderBase, FinderSidebar, FinderSection } from \"../components/Finder\"\nimport { AppInfo } from \"../components/App\"\nimport { NavMenu } from \"../components/NavMenu\"\nimport { NavAction } from \"../components/NavAction\"\n\nimport FinderQuery from \"./FinderQuery\"\n\nimport BulkPreview from \"./BulkPreview\"\nimport BulkEditor from \"./BulkEditor\"\nimport FinderLoader from \"./FinderLoader\"\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport icons from \"../icons/\"\n\nconst useStyles = makeStyles(theme => ({\n    action: {\n        position: \"absolute\",\n        zIndex: 2,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: theme.spacing(1.5),\n        margin: theme.spacing(1.5),\n        boxSizing: \"border-box\",\n        backgroundColor: theme.palette.background.default,\n    },\n    menu: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n        paddingTop: 96,\n        paddingBottom: 96,\n    },\n    info: {\n        position: \"absolute\",\n        zIndex: 2,\n        top: \"auto\",\n        bottom: 0,\n        left: 0,\n        right: 0,\n        padding: theme.spacing(1.5),\n        margin: theme.spacing(1.5),\n        backgroundColor: theme.palette.background.default,       \n    }\n}));\n\nconst Finder = () => {\n\n    const history = useHistory()\n    const location = useLocation()\n    const dispatch = useDispatch()\n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    // primaryAction\n\n    const primaryAction = finder.primaryAction\n\n    // dark mixBlendMode: \n    \n    const _onToggleDarkMode = () => {\n        dispatch(toggleDarkMode())\n    }\n\n\n    // menu\n\n    const menu = finder.menu\n    const menuByUrl = finder.menuByUrl\n\n    const _onSelect = ({url}) => {\n        history.push(url)\n    }\n\n    // parent && query\n\n    const pathname = location.pathname\n    const parent = menuByUrl && menuByUrl[pathname] || {}\n\n    // bulk\n\n    const bulk = useSelector(state => state.bulk)\n    const bulkCount = bulk.count\n\n    // preview\n\n    const preview = {\n        expanded: bulkCount && true,\n    }\n\n    // editor\n\n    const editor = {\n        ...finder.editor,\n    }\n\n    // view\n\n    const view = {\n        expanded: !editor.expanded\n    }\n\n    // sidebar\n\n    let sidebar = finder.sidebar\n\n    if (preview.expanded || editor.expanded) {\n        sidebar = {\n            expanded: false\n        }\n    }\n\n    const classes = useStyles()\n\n    return (\n        <FinderLoader>\n            <FinderBase>\n                <FinderSidebar {...sidebar}>\n                    <AppInfo {...app} className={classes.info} icons={icons} onClick={_onToggleDarkMode} />\n                    <NavAction className={classes.action} icons={icons} menu={[primaryAction]} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                    <NavMenu className={classes.menu} icons={icons} currentUrl={pathname} menu={menu} menuByUrl={menuByUrl} onSelect={_onSelect} />\n                </FinderSidebar>\n               <FinderSection {...view}>\n                    <FinderQuery {...parent} />\n                </FinderSection>\n                <FinderSection {...preview}>\n                    <BulkPreview {...preview} />\n                </FinderSection>\n                <FinderSection {...editor}>\n                    <BulkEditor {...editor} />\n                </FinderSection>\n            </FinderBase>\n        </FinderLoader>\n    )\n\n}\n\nexport default Finder","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport { requestModel, receiveModel, getModel } from \"../modelsById\"\nimport qs from 'query-string';\n\nconst editorSlide = createSlice({\n    name: 'editor',\n    initialState: {\n        modelName: undefined,\n        uniqueId: undefined,\n        isLoading: true,\n        isSaving: false,\n        formData: {},\n        formContext: {\n        },\n        dialog: {}\n    }, \n    reducers: {\n        requestEditor(state, action) {\n            const { modelName, uniqueId } = action.payload\n            return {\n                ...state,\n                isLoading: true,\n                modelName: modelName,\n                uniqueId: uniqueId,\n            }\n        },\n        receiveEditor(state, action) {\n            const { uniqueId, ...formData } = action.payload\n            return {\n                ...state,\n                isLoading: false,\n                formData: {\n                    uniqueId: uniqueId,\n                    ...formData\n                }\n            }\n        },\n        requestParents(state, action) {\n            return state            \n        },\n        receiveParents(state, action) {\n            const { parents } = action.payload\n            return {\n                ...state,\n                parents: parents,\n                formContext: {\n                    ...state.formContext,\n                    parents: parents\n                }\n            }\n        },\n        requestChildren(state, action) {\n            return state            \n        },\n        receiveChildren(state, action) {\n            const { children } = action.payload\n            return {\n                ...state,\n                children: children,\n                formContext: {\n                    ...state.formContext,\n                    children: children\n                }\n            }\n        },\n        requestEdit(state, action) {\n            const { uniqueId } = action.payload\n\n            return {\n                isLoading: true,\n                formData: {\n                    uniqueId: uniqueId\n                }\n            }\n\n        },\n        receiveEdit(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            if (uniqueId) {\n                return {\n                    ...state,\n                    uniqueId: uniqueId,\n                    formData: {\n                        ...formData,\n                        uniqueId: uniqueId\n                    }\n                }\n            } else {\n                return {\n                    ...state,\n                    formData: formData\n                }\n            }\n\n        },\n        requestSave(state, action) {\n           return {\n                ...state,\n                isSaving: true,\n                formContext: {\n                    ...state.formContext,\n                    isSaving: true\n                }\n            }\n\n        },\n        receiveSave(state, action) {\n            const { uniqueId, ...formData } = action.payload\n\n            return {\n                ...state,\n                isSaving: false,\n                uniqueId: uniqueId,\n                formData: {\n                    ...formData,\n                    uniqueId: uniqueId\n                },\n                formContext: {\n                    ...state.formContext,\n                    isSaving: false\n                }\n            }\n        },\n        receiveChange(state, action) {\n            const { formData } = action.payload\n\n            return {\n                ...state,\n                formData: formData\n            }\n\n        },\n        receiveCurrentId(state, action) {\n            const { currentId } = action.payload\n            return {\n                ...state,\n                currentId: currentId,\n                formContext: {\n                    ...state.formContext,\n                    currentId: currentId,\n                }\n            }\n        },\n        receiveCurrentLocale(state, action) {\n            const { currentLocale } = action.payload\n            return {\n                ...state,\n                currentLocale: currentLocale,\n                formContext: {\n                    ...state.formContext,\n                    currentLocale: currentLocale,\n                }\n            }\n        },\n        requestDialog(state, action) {\n            return {\n                ...state,\n                dialog: {},\n            }\n        },\n        receiveDialog(state, action) {\n            const { id, schema, uiSchema, formData, onChange } = action.payload\n            return {\n                ...state,\n                dialog: {\n                    id: id,\n                    expanded: true,\n                    schema: schema,\n                    uiSchema: uiSchema,\n                    formData: formData,\n                    onChange: onChange\n                },\n            }\n        }        \n    }\n})\n\nexport const getEditor = ({modelName, uniqueId, ...formData}) => (dispatch) => {\n    dispatch(requestEditor({modelName, uniqueId}))\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    if (modelName && uniqueId) {\n        \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveEditor({...formData, modelName}))\n                dispatch(getModel({...formData, modelName}))\n            })\n\n    } else if (formData) {\n        dispatch(receiveEditor({...formData, modelName}))\n    }\n    \n}\n\n/** Edit model from uniqueId */\n\nexport const editModel = ({modelName = \"documents\", uniqueId, ...formData}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    if (uniqueId) {\n        dispatch(requestEdit({uniqueId}))\n        \n        fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json; charset=utf-8\",\n            }})\n            .then(\n                response => response.json(),\n                error => console.log('An error occurred.', error)\n            )\n            .then(formData => {\n                dispatch(receiveEdit({...formData, modelName}))\n                dispatch(getModel({...formData, modelName}))\n            })\n\n    } else if (formData) {\n        dispatch(receiveEdit({...formData, modelName}))\n    }\n\n}\n\n/** Save model from formData  */\n\nexport const saveModel = ({modelName = \"documents\", ...formData}) => dispatch => {\n    const url = API + '/admin/api/' + modelName;\n\n    dispatch(requestSave())\n\n    fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: JSON.stringify(formData)\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(formData => {\n        dispatch(receiveSave({...formData, modelName}))\n        dispatch(getModel({...formData, modelName}))\n    })\n\n}\n\nexport const { \n    requestEditor, receiveEditor, \n    requestParents, receiveParents,\n    requestChildren, receiveChildren,\n    receiveChange,\n    receiveCurrentId, \n    receiveCurrentLocale,\n    requestEdit, receiveEdit, \n    requestSave, receiveSave, \n    requestDialog, receiveDialog\n} = editorSlide.actions\n\nexport default editorSlide.reducer","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { getEditor } from '../redux/editor';\nimport { getParents } from '../redux/finder';\nimport { collapseHeader } from '../redux/app';\n\nimport { Loader } from \"../components/Loader\"\nimport EditorIcon from \"../icons/EditorIcon\"\n\nconst EditorLoader = ({formData = {}, children}) => {\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const editor = useSelector(state => state.editor)\n    const { isLoading, isSaving } = editor\n    \n    const title = \"Editor\"\n    const description = isLoading && \"Loading editor ...\" || \"Editor loaded\"\n\n    // app\n\n    const app = useSelector(state => state.app)\n\n    const iconColor = app.theme && app.theme.palette && app.theme.palette.primary.main\n    const icon = <EditorIcon color={iconColor} />\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(collapseHeader())\n        dispatch(getParents({url: pathname}))\n        dispatch(getEditor(formData))\n    }, [pathname])\n\n    return (\n        <Loader\n            isLoading={isLoading}\n            icon={icon}\n            title={title}\n            description={description}>\n                {!isLoading && children}\n        </Loader>\n    )\n\n}\n\nEditorLoader.defaultProps = {\n}\n\nexport default EditorLoader","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\n\nconst DialogBase = ({children}) => {\n    const classes = useStyles()\n\n    return (\n        <section className={classes.dialog}>\n            {children}\n        </section>\n    )\n}\n\nexport default DialogBase","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"absolute\",\n        zIndex: 2,\n        bottom: 0,\n        left: 0,\n        right: 0,\n\n        backgroundColor: \"inherit\",\n\n        \"& + *\": {\n            marginBottom: theme.spacing(8)\n        }\n\n    },\n    navigation: {\n        backgroundColor: \"inherit\",\n        width: \"100%\"\n    },\n}));\n\nconst Menu = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(8)\n    }\n}))(BottomNavigation);\n\nconst MenuItem = withStyles(theme => ({\n    root: {\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"12px !important\",\n    },\n    selected: {\n    },\n}))(BottomNavigationAction);\n\nconst DialogFooter = ({menu = [], tabIndex = 0}) => {\n \n    const classes = useStyles();\n\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (menu[index].onClick) {\n            menu[index].onClick()\n        }\n\n    }\n    \n    return (\n        <Paper component=\"footer\" elevation={4} square={true} className={classes.footer}>\n            <Menu \n                value={value} \n                onChange={handleChange}\n                showLabels\n                className={classes.navigation}>\n                    { menu && menu.map((item, index) => {\n                        return (\n                            <MenuItem {...item} key={index} />\n                        )\n                    })}\n            </Menu>\n        </Paper>\n    )\n}\n\nexport default DialogFooter","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    search: {\n        display: \"flex\",\n        position: \"relative\",\n        backgroundColor: \"white\",\n        color: \"black\",\n        width: \"100%\",\n        height: \"64px\",\n        overflow: \"hidden\",\n    },\n    input: {\n        backgroundColor: \"transparent\",\n        flexGrow: 1,\n        height: \"100%\",\n\n        paddingLeft: theme.spacing(8),\n        paddingRight: theme.spacing(8),\n\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"18px\",\n        lineHeight: \"1\",\n        color: \"inherit\",\n        \n        border: \"none\",\n        outline: \"none\",\n\n        \"&:focus + *\": {\n            opacity: 1\n        }\n    },\n    toggle: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        left: \"0\",\n        margin: theme.spacing(1),\n        \"&[disabled]\": {\n            color: theme.palette.text.secondary\n        }\n    },\n    reset: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    }\n}));\n\nconst ButtonReset = ({className, onClick}) => {\n    return (\n        <IconButton className={className} onClick={onClick}>\n            <CloseIcon />\n        </IconButton>\n    )\n}\n\nconst ButtonToggle = ({className, disabled, onClick}) => {\n    return (\n        <IconButton disableRipple className={className} disabled={disabled} onClick={onClick}>\n            <SearchIcon />\n        </IconButton>\n    )\n}\n\nconst AppSearchDefault = ({className, variant, expanded = true, placeholder = \"Search\", q, onFocus, onChange, onToggle, onClose, onReset}) => {\n    const inputRef = useRef(null);\n    const classes = useStyles()\n\n    const _onToggle = (event) => {\n        onToggle && onToggle(event)\n    }\n\n    useEffect(() => {\n        expanded && inputRef.current.focus()\n    }, [expanded])\n\n    const _onChange = (event) => {\n        onChange && onChange(event.target.value, event);\n//        onFocus && onFocus(event)\n    }\n\n    const _onReset = () => {\n        if (inputRef.current && inputRef.current.value) {\n            inputRef.current.value = \"\"\n            onReset && onReset()\n        } else if (onClose) {\n            onClose()\n        }\n\n//        onReset && onReset()\n    }\n\n    return (\n        <div className={className || classes.search} aria-expanded={expanded}>\n            <ButtonToggle className={classes.toggle} onClick={_onToggle} disabled={!onToggle && true || false} />\n            <input ref={inputRef} className={classes.input} type=\"text\"\n                placeholder={placeholder}\n                onChange={_onChange} />\n            <ButtonReset className={classes.reset} onClick={_onReset} />\n        </div>\n    )\n}\n\nAppSearchDefault.propTypes = {\n    /** Placeholder */\n    placeholder: PropTypes.string,\n    /** Query */\n    q: PropTypes.string,\n    /** onChange */\n    onChange: PropTypes.func,\n    /** onToggle */\n    onToggle: PropTypes.func,\n    /** onReset */\n    onReset: PropTypes.func\n}\n\nexport default AppSearchDefault;","import React, { useState } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nimport Typography from '@material-ui/core/Typography';\n\nconst DialogTabpanel = withStyles(theme => ({\n    root: {\n        minHeight: theme.spacing(3),\n    },\n    indicator: {\n        bottom: \"auto\",\n        top: 0\n    },\n}))(Tabs);\n\nconst DialogTab = withStyles(theme => ({\n    root: {\n        textTransform: 'none',\n        letterSpacing: 0,\n        minWidth: 0,\n        minHeight: theme.spacing(3),\n        paddingLeft: 0,\n        paddingRight: 0,\n        marginLeft: 0,\n        marginRight: theme.spacing(2),\n        color: \"inherit\",\n        '&:hover': {\n          color: \"inherit\",\n          opacity: 1,\n        },\n        '&$selected': {\n          opacity: 1,\n        },\n        '&:focus': {\n          opacity: 1,\n        },\n    },\n    selected: {},\n\n}))(props => <Tab disableRipple label={<DialogLabel {...props} />} {...props} />);\n\nconst useStyles = makeStyles(theme => ({\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    },\n    title: {\n        fontWeight: \"bold\",\n    },\n    count: {\n        color: theme.palette.text.secondary,\n        marginLeft: theme.spacing(.5)\n    }\n\n}))\n\nconst DialogLabel = ({title, count}) => {\n\n    const classes = useStyles()\n\n    return (\n        <Typography className={classes.label}>\n            <b className={classes.title}>{title}</b>\n            { count && <i className={classes.count}>({count})</i> || \"\" }\n        </Typography>\n    )\n}\n\n\nconst DialogTabs = ({tabs = [], tabIndex = 0}) => {\n    const [value, setValue] = useState(tabIndex);\n\n    const handleChange = (event, index) => {\n        setValue(index)\n\n        if (tabs[index].onClick) {\n            tabs[index].onClick()\n        }\n\n    }\n\n    return (\n        <DialogTabpanel\n            value={tabIndex || value}\n            onChange={handleChange}\n            indicatorColor=\"primary\"\n            textColor=\"inherit\">\n            { tabs && tabs.map((tab, index) => {\n                return (\n                    <DialogTab {...tab} value={index} key={index} />\n                )\n            })}\n        </DialogTabpanel>        \n    )\n\n}\n\nexport default DialogTabs;","import React, { Component } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n\nimport DialogTabs from \"./DialogTabs\"\n\nimport { NavSettings } from \"@kit-ui/admin\"\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n        position: \"sticky\",\n        zIndex: 2,\n        top: 0,\n        padding: 0,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n//        minHeight: theme.spacing(4.5),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n    },\n    tabs: {\n\n    },\n    settings: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        margin: theme.spacing(.75,.5)\n\n    }\n}))\n\nconst DialogHeader = ({tabs, tabIndex, settings}) => {\n\n    const classes = useStyles()\n\n    return (\n        <header className={classes.header}>\n            { tabs && <DialogTabs className={classes.tabs} tabs={tabs} tabIndex={tabIndex} /> }\n            { settings && <NavSettings className={classes.settings} settings={settings} /> }\n        </header>\n    )\n}\n\n\nexport default DialogHeader;","import React, { useRef, useState, useEffect } from 'react';\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from \"lodash\"\n\nconst useStyles = makeStyles(theme => ({\n    section: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        overflowY: \"scroll\",\n    }\n}));\n\nconst DialogSection = ({height, onScroll, children}) => {\n    const classes = useStyles()\n\n    const parentRef = useRef()\n\n    const handleScroll = _.debounce((event) => {\n        onScroll && onScroll(event)\n    }, 500)\n\n    useEffect(() => {\n        const ph = parentRef.current && parentRef.current.offsetHeight\n        const ch = parentRef.current && parentRef.current.children && parentRef.current.children[0] && parentRef.current.children[0].offsetHeight\n\n        parentRef.current.addEventListener(\"scroll\", handleScroll);\n\n        if (ph < ch) {\n//            setOverflow(true)\n        }\n\n        return () => {\n            parentRef.current.removeEventListener(\"scroll\", handleScroll);\n        };\n\n    }, [children, height]);\n\n\n    return (\n        <section className={classes.section} ref={parentRef}>\n            {children}\n        </section>\n    )\n}\n\nexport default withResizeDetector(DialogSection)","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    loader: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        color: theme.palette.text.secondary,\n        margin: theme.spacing(2),\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary\n    }\n}));\n\nconst ResultsLoader = ({query = {}, results = {}, children}) => {\n    const { t, i18n } = useTranslation('search');\n\n    const classes = useStyles()\n\n    const { models = [], count, rows } = results\n\n    let title;\n\n    const q = query.q && query.q.replace('*', '')\n\n    if (rows && !count) {\n        title = t('No hits')\n    } else if (!models.length) {\n        title = t('Searching, please wait', {q}) + \"...\";\n    }\n\n    if (title) {\n        return (\n            <div className={classes.loader}>\n                <Typography className={classes.title}>{title}</Typography>\n            </div>\n        )\n    }\n\n    return children\n\n}\n\nexport default ResultsLoader","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport MoreIcon from '@material-ui/icons/MoreHoriz';\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        position: \"relative\",\n        width: \"100%\",\n        minHeight: theme.spacing(16),\n\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n    },\n    button: {\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        /*\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        */\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        minHeight: theme.spacing(12),\n        padding: 0,\n        margin: theme.spacing(2),\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst ResultsFooter = ({start, rows, count, page, pages, nextPage, onPage}) => {\n    const { t, i18n } = useTranslation(['search']);\n    const classes = useStyles()\n\n    if (!nextPage) {\n        return false\n    }\n\n    const from = start+rows+1\n    const to = from+rows-1\n\n    const label = t('Get results {{from}}–{{to}}', {from, to}) + \" ...\"\n\n    return (\n        <footer className={classes.footer}>\n            <Paper elevation={1} square={true} component=\"button\" className={classes.button} onClick={() => onPage(nextPage)}>\n                {/* <MoreIcon className={classes.icon} /> */}\n                <Typography className={classes.label}>{label}</Typography>\n            </Paper>\n        </footer>\n    )    \n}\n\nexport default ResultsFooter;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadModel } from '../redux/modelsById';\n\nimport { ListModule, TableModule, GalleryModule } from '@kit-ui/admin';\nimport { getUiPreview } from '@kit-ui/schema/lib';\n\nimport { useTranslation } from 'react-i18next';\nimport qs from 'query-string';\n\nconst layouts = {\n    \"table\": TableModule,\n    \"list\": ListModule,\n    \"gallery\": GalleryModule,\n}\n\nconst ModuleLoader = ({app, dialog, query, model, layout = \"table\", size = \"medium\", modelsSelected = [], onAdd, onRemove, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const schemasByName = {}\n\n    const modelsById = useSelector(state => state.modelsById)\n    const modelsBySource = {}\n\n    const { uniqueId, source, sourceId, documentType, mediaType } = model;\n\n    useEffect(() => {\n        if (modelName && uniqueId && !modelsById[uniqueId]) {\n            dispatch(loadModel({modelName: modelName, uniqueId: uniqueId}))\n        }\n    }, [uniqueId])\n\n    const appDocumentType = documentType && app && app.root + \"/\" + documentType\n    const sourceDocumentType = source && \"document/\" + source\n\n    let modelName = model.modelName === \"doc_schemas\" && \"schemas\" || model.modelName\n    let modelSchema;\n\n    if (modelName === \"users\") {\n        modelSchema = schemasByName['user']\n    } else if (modelName === \"sites\") {\n        modelSchema = schemasByName['site']\n    } else if (modelName === \"collections\") {\n        modelSchema = schemasByName['collection']\n    } else if (modelName === \"doc_schemas\") {\n        modelSchema = schemasByName['schema']\n    } else if (modelName === \"documents\" || documentType) {\n        if (schemasByName[appDocumentType]) {\n            modelSchema = schemasByName[appDocumentType]\n        } else if (source && schemasByName[sourceDocumentType]) {\n            modelSchema = schemasByName[sourceDocumentType]\n        } else if (documentType) {\n            modelSchema = schemasByName[documentType]\n        }\n    } else if (modelName === \"media\" || mediaType) {\n        modelSchema = mediaType && schemasByName[\"media/\"+mediaType]\n    }\n\n\n    const [preview, setPreview] = useState(model)\n\n    const getImageUrl = (model) => {\n        const { imageUrl, uploadStatus, uploadProgress } = model\n\n        const imageUrlParts = imageUrl && imageUrl.split(\"?\")\n        const imageParams = imageUrlParts && imageUrlParts[1] && qs.parse(imageUrlParts[1])\n\n        if (!imageParams) {\n            return imageUrl\n        }\n\n        const newImageParams = qs.stringify({\n            ...imageParams,\n            uploadStatus: uploadStatus,\n            uploadProgress: uploadProgress,\n            dimension: \"250x250\"\n        })\n\n        const newImageUrl = imageUrlParts[0] + \"?\" + newImageParams\n        \n        return newImageUrl\n\n    }\n\n    const uniqueModel = source && sourceId && modelsBySource && modelsBySource[source + \"/\" + sourceId] || uniqueId && modelsById && modelsById[uniqueId]; //  || model\n\n    useEffect(() => {\n        let uiPreview = {}\n\n        if (modelSchema && uniqueModel) {\n            uiPreview = getUiPreview({...modelSchema, formData: uniqueModel, formContext: {t:t}})\n        }\n\n        const newModel = {\n            ...uniqueModel,\n            ...model,\n            ...uiPreview,\n        }\n\n        const newImageUrl = getImageUrl(newModel)\n\n        setPreview({\n            ...newModel,\n            imageUrl: newImageUrl,\n        })\n\n    }, [uniqueModel])\n\n    const { status, createdAt, createdByName, updatedAt, updatedByName, deletedAt, deletedByName } = preview;\n\n    const author = deletedByName || updatedByName || createdByName || \"N/A\"\n    const datetime = deletedAt || updatedAt || createdAt\n\n    const statusLabel = t(\"status:\"+status || undefined)\n    const LayoutTemplate = layout && layouts[layout]\n\n    let selected;\n\n    if (source && sourceId) {\n        selected = modelsSelected && modelsSelected.includes(source + \"/\" + sourceId)\n    } else if (uniqueId) {\n        selected = modelsSelected && modelsSelected.includes(uniqueId)\n    }\n\n    const handleSelect = () => {\n\n        console.log(\"ADD/REMOVE\", uniqueModel)\n\n        if (selected) {\n            onRemove && onRemove(uniqueModel)\n        } else {\n            onAdd && onAdd(uniqueModel)\n        }\n\n    }\n\n    const selectable = uniqueModel && true || false\n    const onClick = selectable ? handleSelect : undefined\n\n    return (\n        <LayoutTemplate {...preview} size={size} \n            statusLabel={statusLabel} author={author} datetime={datetime}\n            selectable={selectable} selected={selected} onClick={onClick} />\n    )\n\n}\n\nexport default ModuleLoader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return <div>{children}</div>\n}\n\nconst ResultsList = ({layout = \"list\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <ListLayout padding={2}>\n                {resultsLoaded && resultsLoaded.map((model, index) => {\n                    return (\n                        <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                    )\n                })}\n            </ListLayout>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )\n\n}\n\nexport default ResultsList","import React, { useEffect, useState } from 'react';\nimport PropTypes from \"prop-types\";\nimport { Gallery } from \"@kit-ui/admin\"\n\nimport DialogModel from \"./DialogModel\"\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsHeader from \"./ResultsHeader\"\nimport ResultsFooter from \"./ResultsFooter\"\n\nconst LayoutGallery = ({children}) => {\n    return children\n}\n\n\nconst ResultsGallery = ({layout = \"gallery\", query = {}, results = {}, resultsLoaded = [], selected = [], onPage, mediaHeight = 120, mediaLayout = \"cover\", spacing = 1, padding = 2, ...props}) => {\n\n    return (\n        <ResultsLoader query={query} results={results}>\n            <Gallery padding={padding} spacing={spacing}>\n                { resultsLoaded && resultsLoaded.map((model, index) => {\n\n                    let width, height;\n                        \n                    if (model.mediaWidth && model.mediaHeight) {\n                        width = model.mediaWidth\n                        height = model.mediaHeight\n                    } else if (model.imageWidth && model.imageHeight) {\n                        width = model.imageWidth\n                        height = model.imageHeight\n                    }\n\n                    model = {\n                        ...model,\n                        width: Math.floor(mediaHeight * (width / height)) || mediaHeight,\n                        mediaHeight: mediaHeight,\n                        mediaLayout: mediaLayout\n                    }\n\n                    return (\n                        <DialogModel {...props} layout=\"gallery\" model={model} modelsSelected={selected} width={model.width} key={index} />\n                    )\n                })}\n            </Gallery>\n            <ResultsFooter {...results} onPage={onPage} />\n        </ResultsLoader>\n    )    \n}\n\nResultsGallery.propTypes = {\n    spacing: PropTypes.number,\n    padding: PropTypes.number,\n    models: PropTypes.array \n}\n\nexport default ResultsGallery;","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        color: theme.palette.text.primary,\n        \"& * + *\": {\n            marginLeft: theme.spacing(.5)\n        },\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        borderTop: \"1px solid\",\n        borderColor: theme.palette.divider,\n        paddingTop: theme.spacing(1)\n    },\n    title: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"bold\"\n    },\n    description: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n    }\n}));\n\nconst ResultsHeader = ({resultsLoaded = [], count, start, rows, pages, page, onPage}) => {\n    const { t, i18n } = useTranslation('search');\n\n    rows = resultsLoaded.length;\n\n    let title;\n\n    if (count > rows) {\n        title = t('{{rows}} of {{count}} hits', { pages, page, count,rows });\n    } else {\n        title = t('{{count}} hits', { pages, page, count, rows });\n    }\n    \n    const classes = useStyles()\n\n    return (\n        <header className={classes.root}>\n            <Typography className={classes.title}>{title}</Typography>\n        </header>\n    )\n\n}\n\nexport default ResultsHeader","import React from 'react';\n//import { ListLayout } from \"@kit-ui/admin\"\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsLoader from \"./ResultsLoader\"\nimport ResultsFooter from \"./ResultsFooter\"\nimport DialogModel from \"./DialogModel\"\n\nconst ListLayout = ({children}) => {\n    return children\n}\n\n\nconst ResultsUploads = ({layout = \"list\", query = {}, results = {}, ...props}) => {\n    const { uploads, resultsLoaded, selected } = results\n    const { t, i18n } = useTranslation('upload');\n\n    if (query.q) {\n\n        return (\n            <ResultsLoader {...props}>\n                <ListLayout padding={2} title=\"Searching uploads\">\n                    {resultsLoaded && resultsLoaded.map((model, index) => {\n                        return (\n                            <DialogModel model={model} layout={layout} modelsSelected={selected} {...props} key={index} />\n                        )\n                    })}\n                </ListLayout>\n                <ResultsFooter {...props} />\n            </ResultsLoader>\n        )\n        \n    }\n\n    if (!uploads.length) {\n        return false\n    }\n\n    const count = uploads.length;\n    const title = t('{{count}} new uploads today', {count});\n\n    return (\n        <ListLayout padding={2}>\n            { uploads && uploads.map((model, index) => {\n                return (\n                    <DialogModel {...props} model={model} modelsSelected={selected} layout=\"list\" key={index} />\n                )\n            })}\n        </ListLayout>\n    )\n\n}\n\nexport default ResultsUploads;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getMediaSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst MediaResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData || []\n        } else {\n            items = formData && [formData] || []\n        }\n\n        const selected = items.map(({media, mediaId}) => { \n\n            if (media.source && media.sourceId) {\n                return media.source + \"/\" + media.sourceId\n            }\n\n            return mediaId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n        \n        const item = getDefaultFormState(itemSchema, {\n            mediaId: model.uniqueId,\n            media: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { uniqueId, sourceId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n            console.log('sourceId', sourceId)\n\n            const source = {\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }\n\n            console.log('source', source)\n\n            dispatch(getMediaSource({\n                ...model,\n                identifier: sourceId,\n                mimeType: mediaType,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    // remove\n\n    const removeItem = ({uniqueId, source, sourceId}) => {\n        return formData.filter(item => item.mediaId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                mediaId: undefined,\n                media: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nexport default MediaResults","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getDocumentSource } from '../redux/modelsById';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getDefaultFormState } = utils;\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery\n}\n\nconst DocumentsResults = ({schema, formData, onChange, query = {}, search = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData || []\n        } else {\n            items = formData && [formData] || []\n        }\n\n        console.log('ITEMS', items)\n\n        const selected = items.map(({reference, referenceId}) => { \n\n            const uniqueId = reference && reference.uniqueId\n\n            if (reference.source && reference.sourceId) {\n                return reference.source + \"/\" + reference.sourceId\n            }\n\n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n\n        \n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        console.log(\"NEW\", newFormData)\n        onChange && onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    const addModel = (model) => {\n\n        console.log(itemSchema)\n\n        const item = getDefaultFormState(itemSchema, {\n            referenceId: model.uniqueId,\n            reference: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = formData && formData.length && [].concat(formData, item) || [item];\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        const { source, sourceId, uniqueId, mediaType } = model;\n\n        console.log('addModel', model)\n\n        if (sourceId) {\n\n            console.log('sourceId', sourceId)\n\n            props.addDocumentSource({\n                ...model,\n                collectionId: query.collectionId\n            }, (model) => addModel(model))\n\n        } else if (source && uniqueId) {\n\n            delete model.uniqueId\n            \n            console.log('sourceId', sourceId)\n\n            dispatch(getDocumentSource({\n                ...model,\n                sourceId: uniqueId,\n                collectionId: query.collectionId\n            }, (model) => addModel(model)))\n\n        } else if (uniqueId) {\n            addModel(model)\n        }\n     \n    }\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.referenceId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                referenceId: undefined,\n                reference: {}\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            {...search}\n            selected={modelsSelected}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )    \n\n}\n\nexport default DocumentsResults","import React, { useState, useEffect } from 'react';\nimport { getDefaultFormState } from '@kit-ui/schema/lib';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { useTranslation } from 'react-i18next';\n\nimport ResultsList from \"./ResultsList\"\nimport ResultsGallery from \"./ResultsGallery\"\nimport ResultsUploads from \"./ResultsUploads\"\n\nconst templates = {\n    \"list\": ResultsList,\n    \"gallery\": ResultsGallery,\n    \"uploads\": ResultsUploads\n}\n\nconst SearchResultsDefault = ({schema, formData, onChange, query = {}, results = {}, layout = \"list\", ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    // schema\n\n    let itemSchema;\n\n    if (schema.type === \"array\") {\n        itemSchema = schema.items\n    } else {\n        itemSchema = schema\n    }\n\n    // set selected\n\n    const [modelsSelected, setModelsSelected] = useState([])\n\n    const getSelected = (formData) => {\n        let items = []\n\n        if (schema.type === \"array\") {\n            items = formData\n        } else {\n            items = [formData]\n        }\n\n        const selected = items.map(({uniqueId}) => { \n            return uniqueId\n        })\n\n        setModelsSelected(selected)\n    }\n\n    useEffect(() => {\n        getSelected(formData)\n    }, [formData])\n\n    // change\n\n    const handleChange = (formData) => {\n        const newFormData = getDefaultFormState(schema, formData)\n        onChange(newFormData);\n        getSelected(newFormData);\n    }\n\n    // add\n\n    const addModel = (model) => {\n\n        const item = getDefaultFormState(itemSchema, {\n            uniqueId: model.uniqueId,\n            model: model\n        })\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = [].concat(formData, item);\n        } else {\n            newFormData = item\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    const handleAdd = (model) => {\n        addModel(model)\n    }\n\n    // remove\n\n    const removeItem = ({uniqueId}) => {\n        return formData.filter(item => item.uniqueId !== uniqueId)\n    }\n    \n    const handleRemove = (model) => {\n        const uniqueId = model && model.uniqueId\n\n        console.log('remove', model)\n\n        let newFormData;\n\n        if (schema.type === \"array\") {\n            newFormData = removeItem({uniqueId})\n        } else {\n            newFormData = getDefaultFormState(itemSchema, {\n                uniqueId: undefined,\n            })\n        }\n\n        handleChange(newFormData);\n\n    }\n\n    // get template\n\n    const ResultsTemplate = templates && templates[layout]\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {layout}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            results={{\n                ...results,\n                selected: modelsSelected\n            }}\n            query={query}\n            onAdd={handleAdd}\n            onRemove={handleRemove} />\n    )\n\n    \n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        searchByUrl: state.searchByUrl,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(SearchResultsDefault);","import React from 'react';\n\nimport MediaResults from \"./MediaResults\"\nimport DocumentsResults from \"./DocumentsResults\"\nimport ResultsDefault from \"./SearchResultsDefault\"\n\nconst templates = {\n    \"default\": ResultsDefault,\n    \"media\": MediaResults,\n    \"youtube\": MediaResults,\n    \"vimeo\": MediaResults,\n    \"sketchfab\": MediaResults,\n    \"documents\": DocumentsResults,\n    \"ekultur\": DocumentsResults\n}\n\nconst SearchResults = ({query = {}, ...props}) => {\n\n    const ResultsTemplate = query.models && templates && templates[query.models] || templates['default']\n\n    if (!ResultsTemplate) {\n        return (\n            <p>No template for {query.models}</p>\n        )\n    }\n\n    return (\n        <ResultsTemplate \n            {...props}\n            query={query} />\n    )\n\n    \n}\n\nexport default SearchResults","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getQuery } from '../redux/searchByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\nimport _ from \"lodash\"\n\nconst SearchDialog = ({schema, formData, onChange, onClose, query = {}, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n\n    console.log('query', query)\n\n    // user query\n\n    const [userQ, setUserQ] = useState(\"\")\n\n    const handleQuery = _.debounce((q, event) => {\n        setUserQ(q)\n    }, 500)\n\n    const handleReset = () => {\n\n        if (q) {\n            console.log(\"SearchDialog:reset\")\n            setUserQ(\"\")\n        } else {\n            console.log(\"SearchDialog:close\")\n            onClose && onClose()\n        }\n    }\n\n    // set q\n\n    let q\n\n    if (query.q && userQ) {\n        q = query.q + \" \" + userQ.trim() + \"*\";\n    } else if (userQ) {\n        q = userQ.trim() + \"*\"\n    } else if (query.q) {\n        q = query.q\n    }\n\n    // sort\n\n    const sortOptions = [\n        \"updatedAt DESC\",\n        \"title\", \n    ]\n\n    const [sort, setSort] = useState(sortOptions[0])\n\n    const sortSettings =  {\n        \"name\": \"sort\",\n        \"value\": sort,\n        \"onChange\": (name, value) => setSort(value),\n        \"options\": sortOptions.map(value => {\n            return {\n                label: t(\"sort:\"+value || value),\n                value: value\n            }\n        })\n    }\n\n    // base query\n\n    query = {\n        ...query,\n        url: \"/dialog/search\",\n        start: 0,\n        rows: 20,\n        sort: sort,\n        status: \"NOT trash\",\n        fl: \"uniqueId,source,sourceId,documentType,mediaType,imageUrl,title,description,status,mediaWidth,mediaHeight,updatedAt,updatedByName\",\n        q: q,\n    }\n\n    // dm\n\n    const dmOwnerOptions = [\n        \"*\",\n        \"AHS\",\n        \"NF\", \n    ]\n\n    const [dmOwner, setDmOwner] = useState(dmOwnerOptions[0])\n\n    const dmOwnerSettings =  {\n        \"name\": \"dmOwner\",\n        \"value\": dmOwner,\n        \"onChange\": (name, value) => setDmOwner(value),\n        \"options\": dmOwnerOptions.map(value => {\n            return {\n                label: \"owner:\" + value,\n                value: value\n            }\n        })\n    }\n\n\n    const getMediaSource = (source) => {\n        const queryUrl = query.url + \"/\" + source + \"/\" + query.q\n\n        return {\n            title: \"media/\" + source,\n            layout: \"gallery\",\n            query: {\n                url: queryUrl,\n                models: source,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n\n    }\n\n    const getMediaType = (mediaType) => {\n        const queryUrl = query.url + \"/\" + mediaType + \"/\" + query.q\n\n        return {\n            title: \"media/\" + mediaType,\n            layout: mediaType.includes(\"audio\") && \"list\" || \"gallery\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: queryUrl,\n                mediaType: mediaType\n            }\n        }\n\n    }\n\n    const getMediaSections = () => {\n\n        let mediaTypes = []\n\n        if (Array.isArray(query.mediaType)) {\n            mediaTypes = query.mediaType\n        } else if (query.mediaType) {\n            mediaTypes = [query.mediaType]\n        } else if (query.models === \"media\") {\n            mediaTypes = ['image*','video*','audio*']\n        }\n\n        return mediaTypes && mediaTypes.map(mediaType => {\n            if (mediaType === \"youtube\" || mediaType == \"vimeo\" || mediaType === \"sketchfab\") {\n                return getMediaSource(mediaType)\n            } else {\n                return getMediaType(mediaType)\n            }\n        })\n\n    }\n\n    // get documentSections\n\n    const getDocumentSource = (source) => {\n        return {\n            title: \"documents/\" + source,\n            layout: \"list\",\n            settings: [\n                dmOwnerSettings\n            ],\n            query: {\n                models: source,\n                url: query.url + \"/\" + source + \"/\" + query.q,\n                owner: dmOwner,\n                siteId: query.siteId,\n                collectionId: query.collectionId,\n                rows: query.rows,\n                q: query.q\n            }\n        }\n        \n    }    \n\n    const getDocumentType = (documentType) => {\n        return {\n            title: \"documents/\" + documentType,\n            layout: \"list\",\n            settings: [\n                sortSettings\n            ],\n            query: {\n                ...query,\n                url: query.url + \"/\" + documentType + \"/\" + query.q,\n                documentType: documentType\n            }\n        }\n    }\n\n    const getDocumentSections = () => {\n        let documentTypes = []\n\n        if (Array.isArray(query.documentType)) {\n            documentTypes = query.documentType\n        } else if (query.documentType) {\n            documentTypes = [query.documentType]\n        } else if (query.models === \"documents\") {\n            documentTypes = ['*']\n        }\n\n        return documentTypes && documentTypes.map(documentType => {\n            if (documentType === \"ekultur\") {\n                return getDocumentSource(documentType)\n            } else {\n                return getDocumentType(documentType)\n            }\n        })   \n\n    }\n\n\n    let sections = []\n\n    if (query.models === \"media\") {\n        sections = getMediaSections()\n    } else if (query.models === \"documents\") {\n        sections = getDocumentSections()\n    } else if (query.models === \"ekultur\") {\n        sections = [getDocumentSource(\"ekultur\")]\n    } else if (query.models) {\n        sections = [\n            {\n                title: query.models,\n                query: {\n                    ...query,\n                    models: query.models,\n                    url: query.url + \"/\" + query.models + \"/\" + query.q,\n                }\n            }\n        ]\n    }\n    // get tabs\n\n    const [tabIndex, setTabIndex] = useState(0)\n    const currentTab = sections[tabIndex]\n\n    // get search count\n\n    const getSearchCount = () => {\n        sections.map((section, index) => {\n            const { query } = section;\n\n            if (query.models === \"media\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n            if (query.models === \"documents\" && tabIndex !== index) {\n                dispatch(getQuery({...query, rows: 0}))\n            }\n\n        })\n        \n    }\n\n    // setup tabs\n\n    const handleTab = (index) => {\n        setTabIndex(index)\n    }\n\n    const tabs = sections.map((section, index) => {\n        const { title, query } = section;\n\n        const currentSearch = searchByUrl && searchByUrl[query.url]\n        const resultsLoaded = currentSearch && currentSearch.resultsLoaded\n        \n        let count;\n\n        if (section.layout === \"uploads\") {\n            count = section.count\n        } else if (currentSearch && currentSearch.count) {\n            count = currentSearch && currentSearch.count\n        } else if (resultsLoaded && resultsLoaded.length && currentSearch.nextToken) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length + \"+\";\n        } else if (resultsLoaded && resultsLoaded.length) {\n            count = resultsLoaded && resultsLoaded.length && resultsLoaded.length;\n        }\n\n        return {\n            title: t(title),\n            count: count,\n            onClick: () => handleTab(index)\n        }\n\n    })\n\n    const getSearch = () => {\n        currentTab && currentTab.query && dispatch(getQuery(currentTab.query))\n    }\n\n    useEffect(() => {\n        getSearch()\n    }, [tabIndex, query.q, query.sort, dmOwner])\n\n    // current query and search \n\n    const currentQuery = currentTab && currentTab.query\n    const currentSearch = currentQuery.url && searchByUrl && searchByUrl[currentQuery.url];\n\n    useEffect(() => {\n        getSearchCount()\n    }, [query.q])\n\n    // handle page\n\n    const handlePage = (page) => {\n        dispatch(getQuery({\n            ...currentQuery,\n            page: page,\n            start: currentQuery.rows * (page-1),\n            nextToken: currentSearch && currentSearch.nextToken\n        }))\n    }\n\n    // pages\n    \n    const [pages, setPages] = useState(0)\n    const [currentPage, setCurrentPage] = useState(0)\n    const [nextPage, setNextPage] = useState(0)\n\n    const getPages = () => {\n        const pages = Math.ceil(currentSearch.count/currentSearch.rows)\n        const page = Math.ceil((currentSearch.start+currentSearch.rows)/currentSearch.rows)\n\n        setPages(pages)\n        setCurrentPage(page)\n\n        let nextPage = 0\n\n        for (let p = page; p <= pages; p++) {\n            if (!currentSearch.resultsByPage[p]) {\n                nextPage = p\n                break\n            }\n        }    \n\n        setNextPage(nextPage)\n    \n    }\n\n    useEffect(() => {\n        currentSearch && currentSearch.count && getPages()\n    }, [currentSearch])\n\n    // search\n\n    let search = {\n        placeholder: \"Search\"\n    }\n\n    if (!search.placeholder) {\n\n        if (tabs.length === 1 && currentQuery.models === \"media\" && currentQuery.mediaType) {\n            search.placeholder = t(\"Search media/\" + currentQuery.mediaType)\n        } else if (tabs.length === 1 && currentQuery.models === \"ekultur\" ) {\n            search.placeholder = t(\"Search ekultur\")\n        } else if (query.models === \"media\") {\n            search.placeholder = t(\"Search media\")\n        } else if (query.models === \"documents\") {\n            search.placeholder = t(\"Search documents\")\n        } else {\n            search.placeholder = t(\"Search models\")\n        }\n\n    }\n\n    return (\n        <DialogBase>\n            <DialogSection>\n                <DialogSearch \n                    {...search} \n                    expanded={true}\n                    onChange={handleQuery}\n                    onClose={onClose}\n                    onReset={handleReset} />\n                <DialogHeader \n                    tabs={tabs}\n                    tabIndex={tabIndex}\n                    settings={currentTab && currentTab.settings} />\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={currentQuery}\n                    layout={currentTab && currentTab.layout}\n                    search={currentSearch}\n                    results={{\n                        ...currentSearch,\n                        pages: pages,\n                        page: currentPage,\n                        nextPage: nextPage\n                    }}\n                    onPage={handlePage}                    \n                    />\n            </DialogSection>\n        </DialogBase>        \n    )\n\n}\n\n\nexport default SearchDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport SearchDialog from \"./SearchDialog\"\n\nconst FavouritesDialog = ({query, favourites, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const search = {\n        placeholder: t('Search favorites')\n    }\n\n    const getFavouritesQuery = (uniqueIds = []) => {\n\n        if (uniqueIds.length) {\n            return {\n                ...query,\n                q: \"uniqueId:\" + uniqueIds.join(\" OR \")\n            }\n        } else {\n            return {\n                ...query,\n                q: \"uniqueId:false\"\n            }\n\n        }\n\n        return query\n\n    }\n\n    if (query.models && favourites[query.models]) {\n        query = getFavouritesQuery(favourites[query.models])\n    }\n\n    return (\n        <DialogBase>\n            <SearchDialog query={query} search={search} {...props} />\n        </DialogBase>\n    )\n\n}\n\nFavouritesDialog.defaultProps = {\n    favourites: {\n        media: [],\n        documents: []\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(FavouritesDialog);","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\nimport EXIF from 'exif-js';\nimport * as mm from 'music-metadata-browser';\n\nimport { receiveModel, receiveModelProps } from \"../modelsById/\"\n\nconst uploadByUrlSlice = createSlice({\n    name: 'upload',\n    initialState: {\n    }, \n    reducers: {\n        requestUpload(state, action) {\n            const { url, requested } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n//                    acceptedFiles: acceptedFiles,\n//                    rejectedFiles: rejectedFiles,\n                    requested: requested,\n                    received: 0,\n                    count: 0,\n                    resultsLoaded: []\n                }\n            }\n        },\n        receiveUpload(state, action) {\n            const { url, results } = action.payload\n\n            return state\n        },\n        requestUploadModel(state, action) {\n            const { url, model } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n//                    received: state[id].received + 1,\n                }\n            }\n            \n        },\n        receiveUploadModel(state, action) {\n            const { url, model } = action.payload\n\n            return {\n                ...state,\n                [url]: {\n                    ...state[url],\n                    count: state[url].count + 1,\n                    resultsLoaded: [\n                        ...state[url].resultsLoaded,\n                        model\n                    ]\n                }\n            }\n        },\n        receiveUploadProgress(state, action) {\n            const { url, progress } = action.payload\n\n            return state\n            \n        },\n        receiveUploadStatus(state, action) {\n            const { url, status } = action.payload\n\n            return state\n        }\n    }\n})\n\nexport const getUpload = ({url, acceptedFiles = [], uploadData = { status: \"upload\" }}) => dispatch => {\n\n    const requested = acceptedFiles.length || 0\n\n    dispatch(requestUpload({url, requested}))\n\n    acceptedFiles && acceptedFiles.map((file, index) => {\n//      dispatch(requestUploadModel({id}))\n        dispatch(getUploadUrl({url, file, uploadData}))\n    })\n\n}\n\nexport const getUploadUrl = ({url, file, uploadData = {}}) => dispatch => {\n\n    console.log('getUploadMetadata', file)\n\n    const { name, type, size } = file\n\n    uploadData = {\n        ...uploadData,\n        title: uploadData.title || name,\n        filename: name,\n        mimeType: type,\n        mediaSize: size,\n        content: {\n            ...uploadData.content,\n            title: name,\n            filename: name\n        }\n    }\n\n    // where to upload?\n\n    let apiUrl = API + '/admin/api/media/upload';\n  \n    if (type.startsWith('image/')) {\n        apiUrl = apiUrl + '/image'\n    } else if (type.startsWith('video/')) {\n        apiUrl = apiUrl + '/video'\n    } else if (type.startsWith('audio/')) {\n        apiUrl = apiUrl + '/audio'\n    } else {\n        apiUrl = apiUrl + '/misc'\n    }\n\n    console.log('apiUrl', apiUrl);\n\n    const payload = JSON.stringify(uploadData);\n\n    fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        },\n        body: payload\n    })\n    .then(\n        response => response.json(),\n        error => console.log('An error occurred.', error)\n    )\n    .then(model => dispatch(getUploadData({url, file, model})))        \n\n}\n\n\n\nexport const getUploadData = ({url, file, model}) => dispatch => {\n\n    // uniqueId + uploadUrl\n\n    const { uniqueId, uploadUrl } = model;\n\n    dispatch(receiveUploadModel({url, model}))\n    dispatch(receiveModel(model))\n\n    const _onStatus = (event) => {\n        let uploadProgress;\n\n        if (event && event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n    \n        const apiUrl = API + '/admin/api/media/upload/status/' + uniqueId\n    \n        fetch(apiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Accept\": \"application/json\",\n            },\n        })\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(model => {\n            dispatch(receiveUploadStatus({uniqueId, model}))\n        })\n\n    }\n\n    const _onProgress = (event) => {\n        let uploadProgress;\n\n        if (event.lengthComputable) {\n            uploadProgress = Math.round(event.loaded * 100 / event.total);\n        } else {\n            uploadProgress = 100\n        }\n\n        dispatch(receiveModelProps({uniqueId, uploadProgress}))\n\n//        dispatch(receiveUploadProgress({uniqueId, uploadProgress}))\n    \n    }\n\n\n    // do the upload\n\n    let payload = new FormData();\n    payload.append('file', file);\n\n    var xhr = new XMLHttpRequest();\n//    onLoadStart && xhr.upload.addEventListener(\"load\", (event) => _onLoadStatus(event), false);\n        xhr.upload.addEventListener(\"progress\", (event) => _onProgress(event), false);\n//    onAbort && xhr.upload.addEventListener(\"abort\", (event) => _onAbort(event), false);\n//    onError && xhr.upload.addEventListener(\"error\", (event) => _onError(event), false);\n//    onLoad && xhr.upload.addEventListener(\"load\", (event) => _onLoad(event), false);\n//    onTimeout && xhr.upload.addEventListener(\"timeout\", (event) => _onTimeout(event), false);\n//    onLoadEnd && xhr.upload.addEventListener(\"loadend\", (event) => _onLoadEnd(event), false);\n    xhr.open(\"POST\", uploadUrl);\n    xhr.send(payload);\n\n\n//    getUploadModel({id, file, uploadData, callback: (props) => dispatch(handleUpload(props))})\n\n}\n\n\n\nexport const { requestUpload, requestUploadModel, receiveUploadModel, receiveUploadStatus, receiveUploadProgress } = uploadByUrlSlice.actions\nexport default uploadByUrlSlice.reducer","import React from 'react';\nimport PropTypes from \"prop-types\"\nimport Dropzone from 'react-dropzone'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport CloudDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Typography from '@material-ui/core/Typography';\nimport { useTranslation } from 'react-i18next';\n\nconst useStyles = makeStyles(theme => ({\n    upload: {\n        position: \"sticky\",\n        zIndex: 2,\n        bottom: 0,\n        color: \"inherit\",\n\n        minHeight: theme.spacing(16),\n\n        \"&[aria-expanded=true]\": {\n            top: 0,\n            height: \"100%\",\n\n            \"& $dropzone\": {\n                margin: 0\n            },\n\n            \"& $dropButton\": {\n                border: 0\n            }\n\n        },\n\n       \"& + *\": {\n            marginTop: theme.spacing(8),\n        }\n   \n    },\n    closeButton: {\n        position: \"absolute\",\n        zIndex: \"2\",\n        top: \"0\",\n        right: \"0\",\n        margin: theme.spacing(1),\n    },\n    dropzone: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: \"inherit\",\n//        overflow: \"hidden\",\n        margin: theme.spacing(2),\n    },\n    dropButton: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        flexGrow: 1,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        border: \"1px solid\",\n        borderColor: theme.palette.divider,\n        backgroundColor: theme.palette.background.default,\n        backgroundColor: \"#eee\",\n        color: theme.palette.text.secondary,\n\n        \"&:hover\": {\n            cursor: \"pointer\"\n        },\n\n        \"& > *\": {\n            margin: theme.spacing(.5)\n        },\n\n    },\n    label: {\n        fontFamily: \"Akkurat, sans-serif\",\n        fontSize: \"14px\",\n        fontWeight: \"normal\"\n    },\n\n}));\n\nconst DialogUpload = ({className, accept, multiple, onUpload, onCancel, currentUpload = {}, children, expanded = false, ...props}) => {\n    const { t, i18n } = useTranslation('dialog');\n    const classes = useStyles()\n\n    const handleDrop = (acceptedFiles, rejectedFiles) => {\n        onUpload && onUpload(acceptedFiles)\n        console.log('acceptedFiles', acceptedFiles)\n        console.log('rejectedFiles', rejectedFiles)\n    }\n\n    const { requested, received } = currentUpload;\n\n    let label\n\n    if (!expanded) {\n        label = t('Upload more');\n    } else if (received > 0 && requested < received) {\n        label = t('Uploading {{requested}} of {{received}}', { requested, received }) + \"...\";\n    } else {\n        label = t('Click or drop files to upload');\n    }\n\n    const ButtonClose = ({className, onClick}) => {\n        return (\n            <IconButton className={className} onClick={onClick}>\n                <CloseIcon />\n            </IconButton>\n        )\n    }\n\n    return (\n        <div className={classes.upload} aria-expanded={expanded}>\n            <Dropzone multiple={multiple} accept={accept} onDrop={handleDrop}>\n                {({getRootProps, getInputProps}) => (\n                    <div className={classes.dropzone} {...getRootProps()}>\n                        <input {...getInputProps()} />\n                        <Paper className={classes.dropButton} elevation={1} square={true}>\n                            <CloudUploadIcon className={classes.icon} />\n                            <Typography className={classes.label}>{label}</Typography>\n                        </Paper>\n                    </div>\n                )}\n            </Dropzone>\n            {expanded && <ButtonClose className={classes.closeButton} onClick={onCancel} /> }\n        </div>\n    )\n    \n}\n\nDialogUpload.propTypes = {\n    onUpload: PropTypes.func\n}\n\nDialogUpload.defaultProps = {\n    multiple: true,\n    accept: \"image/*, video/*, audio/*\",\n}\n\nexport default DialogUpload","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getUpload } from '../redux/uploadByUrl';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogSearch from \"./DialogSearch\"\nimport DialogUpload from \"./DialogUpload\"\n\nimport DialogHeader from \"./DialogHeader\"\nimport DialogSection from \"./DialogSection\"\n\nimport SearchResults from \"./SearchResults\"\n\nimport qs from 'query-string';\n\nconst UploadDialog = ({schema, formData, onChange, onClose, query, upload, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n    const dispatch = useDispatch()\n\n    const searchByUrl = useSelector(state => state.searchByUrl)\n    const uploadByUrl = {}\n\n    const [q, setQ] = useState(\"\")\n\n    const handleQuery = (q) => {\n        setQ(q)\n    }\n\n    const handleReset = () => {\n        if (q) {\n            setQ(\"\")\n        } else if (onClose) {\n            onClose()\n        }\n    }\n\n    const search = {\n        placeholder: t(\"Search uploads\"),\n    }\n\n    // handle upload\n\n    const [uploadSession, setUploadSession] = useState(false)\n\n    const handleUpload = (acceptedFiles = []) => {\n\n        const uploadData = {\n            collectionId: query.collectionId,\n            status: \"upload\"\n        }\n\n        dispatch(getUpload({\n            id: upload.id,\n            session: uploadSession,\n            acceptedFiles,\n            uploadData\n        }))\n\n\n//        props.getUpload({id: upload.id, session: uploadSession, acceptedFiles, uploadData})\n\n        setUploadSession(true)\n\n    }\n    \n    // current uploads \n\n    const currentUpload = upload.id && uploadByUrl && uploadByUrl[upload.id];\n    const uploadModels = currentUpload && currentUpload.models \n\n    const uploadResults = uploadModels && q && uploadModels.filter((model) => { \n        const { title } = model\n\n        if (title.includes(q)) {\n            return true\n        }\n\n        return false\n    }) || uploadModels\n\n\n    let placeholder = t(\"Search uploads\")\n\n    const tabs = uploadResults && [\n        {\n            title: t(\"media\"),\n            count: uploadResults.length             \n        }\n    ]\n\n    return (\n        <DialogBase>\n           <DialogSection>\n                <DialogSearch {...search} \n                    placeholder={placeholder}\n                    expanded={uploadResults && true}\n                    onChange={handleQuery}\n                    onReset={handleReset}\n                    \n                />\n                <DialogHeader tabs={tabs}></DialogHeader>\n                <SearchResults \n                    schema={schema}\n                    formData={formData}\n                    onChange={onChange}\n                    query={query}\n                    layout=\"uploads\"\n                    results={{\n                        ...currentUpload,\n                        uploads: uploadResults || [],\n//                        resultsLoaded: currentUpload && currentUpload.models,\n//                        pages: pages,\n//                        page: currentPage,\n//                        nextPage: nextPage\n                    }}\n                />\n                <DialogUpload \n                    {...upload} \n                    currentUpload={currentUpload} expanded={!currentUpload} onUpload={handleUpload} onCancel={handleReset}></DialogUpload>\n            </DialogSection>\n       </DialogBase>        \n    )\n\n}\n\nUploadDialog.defaultProps = {\n    upload: {\n        id: \"/dialog/upload\",\n        accept: [\n            \"image/*\",\n        ],\n    },\n    query: {\n//        mediaType: \"*\"\n    }\n}\n\nexport default UploadDialog","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport DialogBase from \"./DialogBase\"\nimport DialogFooter from \"./DialogFooter\"\n\nimport SearchIcon from '@material-ui/icons/Search';\nimport FavouriteIcon from '@material-ui/icons/Favorite';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport UploadDoneIcon from '@material-ui/icons/CloudDone';\n\nimport Badge from '@material-ui/core/Badge';\n\n\nimport SearchDialog from \"./SearchDialog\"\nimport FavoritesDialog from './FavouritesDialog';\nimport UploadDialog from \"./UploadDialog\"\n\nconst MediaDialog = ({query, favourites, uploadByUrl, ...props}) => {\n    const { t, i18n } = useTranslation(['dialog']);\n\n    const [template, setTemplate] = useState(\"search\")\n\n    // get mediaTypes\n\n    let mediaTypes = []\n\n    if (Array.isArray(query.mediaType)) {\n        mediaTypes = query.mediaType\n    } else if (query.mediaType) {\n        mediaTypes = [query.mediaType]\n    } else if (query.models === \"media\") {\n        mediaTypes = ['image*','video*','audio*']\n    }\n\n    // get upload\n\n    let upload = {\n        id: \"/dialog/upload\",\n        accept: []\n    }\n\n    mediaTypes && mediaTypes.map(mediaType => {\n\n        if (mediaType.includes('image')) {\n            upload.accept.push('image/*')\n        }\n    \n        if (mediaType.includes(\"video\")) {\n            upload.accept.push('video/*')\n        }\n    \n        if (mediaType.includes(\"audio\")) {\n            upload.accept.push('audio/*')\n        }\n    \n    })    \n\n    const mediaFavourites = favourites && favourites[\"media\"] && favourites[\"media\"].length\n    const mediaUploads = uploadByUrl && uploadByUrl[upload.id] && uploadByUrl[upload.id].models\n\n    const FavouriteBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaFavourites && true} color=\"primary\">\n                <FavouriteIcon />\n            </Badge>\n        )\n    }\n\n    const UploadBadge = () => {\n        return (\n            <Badge badgeContent={2} variant=\"dot\" invisible={!mediaUploads && true} color=\"primary\">\n                { mediaUploads && <UploadDoneIcon /> || <UploadIcon /> }\n            </Badge>\n        )\n    }\n\n    const menu = [\n        {\n            label: t(\"Search\"),\n            icon: <SearchIcon />,\n            onClick: () => setTemplate('search')\n        },\n        {\n            label: t(\"Favorites\"),\n            icon: <FavouriteBadge />,\n            onClick: () => setTemplate('favourites')\n        },\n        {\n            label: t(\"Upload\"),\n            icon: <UploadBadge />,\n            onClick: () => setTemplate('upload')\n        }\n    ]\n\n    return (\n        <DialogBase>\n            <DialogFooter menu={menu} />\n            { template === \"search\" && <SearchDialog query={query} {...props} /> }\n            { template === \"favourites\" && <FavoritesDialog query={query} favourites={favourites} {...props} /> }\n            { template === \"upload\" && <UploadDialog upload={upload} query={query} {...props} /> }\n        </DialogBase>\n    )\n\n}\n\nMediaDialog.defaultProps = {\n    query: {\n        models: \"media\",\n        mediaType: \"*\"\n    }\n}\n\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators({\n    }, \ndispatch);\n\nconst mapStateToProps = (state) => {\n\treturn {\n        favourites: state.favourites,\n        uploadByUrl: state.uploadByUrl\n\t};\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(MediaDialog);","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport SearchDialog from \"./SearchDialog\"\n\nconst DocumentsDialog = ({schema, formData, ...props}) => {\n\n    return (\n        <SearchDialog schema={schema} formData={formData} {...props} />\n    )\n\n}\n\nDocumentsDialog.defaultProps = {\n    query: {\n        models: \"documents\",\n        documentType: \"*\"\n    }\n}\n\nexport default DocumentsDialog","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp } from '../redux/app';\n\nimport MediaDialog from \"./MediaDialog\"\nimport DocumentsDialog from \"./DocumentsDialog\"\nimport SearchDialog from \"./SearchDialog\"\n\nimport { utils } from '@kit-ui/schema';\nconst  { getUiOptions } = utils\n\nconst templates = {\n    \"media\": MediaDialog,\n    \"documents\": DocumentsDialog,\n    \"search\": SearchDialog\n}\n\nconst EditorDialog = (props) => {\n    const dispatch = useDispatch()\n\n    console.log(\"DIALOG\", props)\n\n    const { schema = {}, uiSchema = {}, onChange, onClose } = props;\n\n    const [formData, setFormData] = useState(props.formData)\n\n    useEffect(() => {\n        setFormData(props.formData)\n    }, [props.formData])\n\n    const _onChange = (formData) => {\n        setFormData(formData)\n        onChange(formData);\n    }\n\n    const _onClose = () => {\n        console.log('Dialog:onClose')\n        onClose && onClose()\n    }\n\n    const app = useSelector(state => state.app)\n\n    let itemSchema;\n\n    if (schema && schema.type === \"array\") {\n        itemSchema = schema.items\n    } else if (schema) {\n        itemSchema = schema\n    }\n\n    const getReferenceQuery = (query) => {\n        const documentSchema = itemSchema && itemSchema.properties && itemSchema.properties.reference\n        const documentType = documentSchema && documentSchema.properties.documentType\n    \n        query.documentType = \"*\"\n    \n        if (documentType && documentType.enum) {\n            query.documentType = documentType.enum\n        }\n    \n        if (documentType && documentType.default) {\n            query.documentType = documentType.default\n        }\n\n        return {\n            ...query,\n            models: \"documents\"\n        } \n        \n    }\n\n    const getMediaQuery = (query) => {\n        const mediaSchema = itemSchema && itemSchema.properties && itemSchema.properties.media\n        const mediaType = mediaSchema && mediaSchema.properties.mediaType\n    \n//        query.mediaType = \"*\"\n\n        if (mediaType && mediaType.enum) {\n            query.mediaType = mediaType.enum\n        }\n    \n        if (mediaType && mediaType.default) {\n            query.mediaType = mediaType.default\n        }\n\n        return {\n            ...query,\n            models: \"media\"\n        }\n        \n    }\n\n    const getQuery = () => {\n\n        const uiOptions = uiSchema && getUiOptions(uiSchema)\n\n        const { dialog } = uiOptions\n\n        if (dialog && dialog.query) {\n            return {\n                ...dialog.query,\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            }\n        }\n\n\n        if (itemSchema.properties && itemSchema.properties.referenceId) {\n            return getReferenceQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        if (itemSchema.properties && itemSchema.properties.mediaId) {\n            return getMediaQuery({\n                siteId: app.siteId,\n                collectionId: app.collectionId\n            })\n        }\n\n        return {\n        }\n\n    }\n\n    const query = getQuery()\n    const template = query.models;\n\n    const DialogTemplate = template && templates[template]; // || templates[\"search\"]\n\n    if (!DialogTemplate) {\n        return (\n            <div>\n                Missing template for {JSON.stringify(props)}.\n                <button onClick={onClose}>Close</button>\n            </div>\n        )\n    }\n\n    return (\n        <DialogTemplate query={query} schema={schema} formData={formData} onChange={_onChange} onClose={_onClose} /> \n    )\n\n}\n\nexport default EditorDialog","import React from \"react\"\n\nimport Dialog from \"../Dialog/Dialog\"\n\n\nconst EditorDialog = (props) => {\n\n    const { expanded, schema = {}, uiSchema = {}, formData = {}, formContext, onChange, onClose } = props\n\n    if (!expanded) {\n        return false\n    }\n\n    return <Dialog {...props} />\n\n    const _addImage = () => {\n        onChange && onChange({\n            mediaId: 1,\n            media: {\n                mediaType: \"image\",\n                imageUrl: \"https://akamai.vgc.no/drfront/images/2020/09/22/c=144,24,404,232;w=362;h=208;557008.jpg\"\n            }\n        })\n    }\n\n    return (\n        <div>\n            {JSON.stringify(schema)}\n            {JSON.stringify(formData)}\n\n            <button onClick={() => _addImage()}>Add img</button>\n\n            <button onClick={() => onClose()}>Close</button>\n\n        </div>\n    )\n\n\n}\n\nexport default EditorDialog","import React, { useEffect, useState } from \"react\"\nimport { SchemaBase } from \"@kit-ui/schema\"\n\nimport registry from \"../components/registry\"\n\nimport Form from \"@rjsf/core\";\n\nimport { getSchemaModel } from \"./utils\"\n\nconst Editor = ({formData, formContext, onChange, onSubmit}) => {\n\n    const { schema, uiSchema } = getSchemaModel(formData)\n    \n    return (\n        <SchemaBase\n            {...registry}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={onChange}\n            onSubmit={onSubmit}\n            />\n    )\n\n    return (\n        <Form\n            {...registry}\n            schema={schema}\n            uiSchema={uiSchema}\n            formData={formData}\n            formContext={formContext}\n            onChange={onChange}\n            onSubmit={onSubmit}\n            />\n    )\n    \n\n}\n\nexport default Editor;","import React, { useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport { editModel, saveModel, receiveChange } from '../redux/editor';\n\nimport EditorLoader from \"./EditorLoader\"\nimport EditorDialog from \"./EditorDialog\"\nimport EditorSchema from \"./EditorSchema\"\n\nimport { utils } from '@kit-ui/schema';\nconst { getUiPreview, getDefaultFormState } = utils\n\nconst Editor = ({formData, ...props}) => {\n\n    const history = useHistory()\n    const location = useLocation()\n    const dispatch = useDispatch()\n\n    // onChange\n\n    const _onChange = ({formData}) => {\n        dispatch(receiveChange({formData}))\n    }\n\n    const _onSubmit = ({schema, uiSchema, formData}) => {\n\n        if (formData.status === \"copy\") {\n            delete formData.id\n            delete formData.uniqueId\n            formData.status = \"new\"\n        }\n\n        const uiPreview = getUiPreview({schema, uiSchema, formData})\n\n        formData = {\n            ...formData,\n            ...uiPreview,\n        }\n\n        dispatch(saveModel(formData))\n\n    }    \n\n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n    const editor = useSelector(state => state.editor)\n\n    const { isLoading, isSaving, uniqueId } = editor\n\n    // uniqueId has changed\n\n    const [prevUniqueId, setPrevUniqueId] = useState(undefined)\n\n    useEffect(() => {\n\n        if (isSaving) {\n            setPrevUniqueId(uniqueId)\n        } else if (!isSaving && prevUniqueId && prevUniqueId !== uniqueId) {\n\n            console.log('isSaving', isSaving)\n\n            if (formData.uniqueId !== editor.uniqueId && location.pathname.includes(\"/create\")) {\n                const editUrl = location.pathname.replace(\"/create\", \"/:uniqueId/edit\")\n                const newLocation = editUrl.replace(\":uniqueId\", editor.uniqueId)\n                history.replace(newLocation);\n            }\n    \n        }\n\n\n\n    }, [isSaving])\n\n\n    // currentId, hashId toggling\n\n    const hashId = location.hash && location.hash.replace('#','') || undefined\n\n    const [currentId, setCurrentId] = useState(hashId)\n\n    /*\n    useEffect(() => {\n        setCurrentId(hashId)\n    }, [hashId])\n    */\n\n    const _onCurrentId = (currentId) => {\n        setCurrentId(currentId)\n        const hashUrl = location.pathname + \"#\" + currentId; \n        history.replace(hashUrl);\n    }\n\n    const _onToggle = ({id, ...props}) => {\n        console.log('onToggle', props)\n\n        let parentId = id.split('_');\n        parentId.pop();\n        parentId = parentId.join('_');\n        \n        let expandId = undefined\n\n        if (id && currentId && currentId.startsWith(id)) {\n            expandId = parentId;            \n        } else {\n            expandId = id;\n        }\n\n        _onCurrentId(expandId)\n\n    }\n    \n    const _onExpand = ({id}) => {\n        console.log('onExpand', id)\n        _onCurrentId(id)\n    }\n\n    const _onCollapse = ({id}) => {\n        console.log('onCollapse', id)\n        _onToggle({id})\n    }\n\n    const _onSelect = ({url}) => {\n        url && history.push(url)\n    }\n\n    const _onFocus = (props) => {\n        console.log('focus', props)\n    }\n\n    // dialog\n\n    const [dialog, setDialog] = useState({})\n\n    const _onDialog = (props) => {\n        const {id, formData, schema, uiSchema, onChange} = props\n        console.log(\"Editor:onDialog\", props)\n\n        if (dialog && dialog.id) {\n            setDialog({})\n        } else {\n            setDialog({\n                id: id,\n                formData: formData,\n                schema: schema,\n                uiSchema: uiSchema,\n                onChange: onChange,\n                expanded: true\n            })\n        }\n\n    }\n\n    // parents\n\n    let parents = [\n        {\n            url: app.url,\n            title: app.title,\n        },\n        ...finder.parents\n    ]\n\n    const formContext = {\n        ...props.formContext,\n        isLoading: editor.isLoading,\n        isSaving: editor.isSaving,\n        id: editor.formData.id,\n        collectionId: editor.formData.collectionId,\n        parents: parents,\n        currentId: currentId,\n\n        sidebar: {\n            ...dialog,\n            onClose: () => _onDialog({}),\n            template: EditorDialog\n        },\n\n        onDialog: _onDialog,\n\n\n        onFocus: _onFocus,\n        onCurrentId: _onCurrentId,\n        onSelect: _onSelect,\n        onToggle: _onToggle,\n        onExpand: _onExpand,\n        onCollapse: _onCollapse,\n        onSubmit: _onSubmit\n    }    \n    \n    return (\n        <EditorLoader formData={formData}>\n            <EditorSchema \n                formData={editor.formData} \n                formContext={formContext}\n//                schema={schema} \n//                uiSchema={uiSchema} \n                onChange={_onChange}\n                onSubmit={_onSubmit} />\n        </EditorLoader>\n    )\n\n}\n\nexport default Editor;","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { getEditor } from '../redux/editor';\n\nimport Editor from \"./Editor\"\nimport model from \"../components/CollectionEditor/CollectionEditor.model\"\n\nconst AppSettings = (props) => {\n\n    const app = useSelector(state => state.app)\n\n    return (\n        <Editor {...model} formData={{modelName: \"collections\", uniqueId: app.collectionId}} />\n    )\n\n\n}\n\nAppSettings.defaultProps = {\n}\n\nexport default AppSettings","import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n    PreviewBase, \n    PreviewOptions, \n    PreviewJSON\n} from \"@kit-ui/admin\"\n\nimport { getSchemaModel } from \"./utils\"\n\nimport DocumentPreviewCols from \"./DocumentPreviewCols\"\n\nconst DocumentPreview = () => {\n    const editor = useSelector(state => state.editor)\n\n    const { formData } = editor\n\n    const { preview, schema, uiSchema } = getSchemaModel(formData)\n   \n    let previewOptions = [\n        {\n            \"title\": \"JSON\",\n            \"value\": \"formData\",\n            \"template\": () => <PreviewJSON>{formData}</PreviewJSON> \n        },\n        {\n            \"title\": \"uiSchema\",\n            \"value\": \"uiSchema\",\n            \"template\": () => <PreviewJSON>{uiSchema}</PreviewJSON> \n        },\n        {\n            \"title\": \"schema\",\n            \"value\": \"schema\",\n            \"template\": () => <PreviewJSON>{schema}</PreviewJSON> \n        },\n    ]    \n\n    if (preview && preview.template) {\n\n        previewOptions = [\n            {\n                ...preview,\n//                template: DocumentPreviewCols,\n                title: \"Preview\",\n                value: \"preview\"\n            },\n            ...previewOptions\n        ]\n            \n    }\n\n    const [value, setValue] = useState(previewOptions[0].value)\n\n    const _onChange = (value) => {\n        setValue(value)\n    }\n\n    const currentPreview = previewOptions.find(option => option.value === value)\n    const PreviewTemplate = currentPreview && currentPreview.template\n\n    const formContext = {}\n    \n    return (\n        <PreviewBase>\n            <PreviewTemplate formContext={formContext} formData={formData} />\n            <PreviewOptions options={previewOptions} value={value} onChange={_onChange} />\n        </PreviewBase>\n    )\n\n}\n\nDocumentPreview.defaultProps = {\n}\n\nexport default DocumentPreview","import registry from \"../../../registry\"\nconst { models } = registry\n\nexport default {\n    \"type\": \"object\",\n    \"properties\": {\n        \"collectionId\": {\n            \"type\": \"number\",\n        },\n        \"schemaId\": {\n            \"type\": \"number\",\n            \"default\": 1\n        },\n        \"locale\": {\n            \"type\": \"string\",\n            \"default\": \"no\"\n        },\n        \"documentType\": {\n            \"type\": \"string\",\n            \"default\": \"artifact\"\n        },\n        \"uniqueId\": {\n            \"type\": \"string\"\n        },\n        \"title\": {\n            \"type\": \"string\",\n            \"default\": \"Untitled artifact\"\n        },\n        \"description\": {\n            \"type\": \"string\"\n        },\n        \"content\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"identifier\": {\n                    \"type\": \"string\"\n                },\n                \"registrationLevel\": {\n                    \"type\": \"string\",\n                    \"enum\": [\n                        \"single\",\n                        \"group\"\n                    ],\n                    \"enumNames\": [\n                        \"Enkeltverk\",\n                        \"Gruppe\"\n                    ],\n                    \"default\": \"single\"\n                },\n                \"designation\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"value\": {\n                            \"type\": \"string\"\n                        },\n                        \"label\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                },\n                \"titleImage\": {\n                    \"type\": \"image\"\n                },\n                \"title\": {\n                    \"type\": \"string\"\n                },\n                \"description\": {\n                    \"type\": \"string\"\n                },\n                \"artist\": models.primusPerson.schema,\n                \"dating\": models.primusDating.schema,\n                \"place\": models.primusPlace.schema,\n                \"motifType\": {\n                    \"type\": \"string\"\n                },\n                \"motifDescription\": {\n                    \"type\": \"string\"\n                },\n                \"depictedObjects\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusPerson.schema\n                },\n                \"depictedPeople\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusPerson.schema\n                },\n                \"depictedPlaces\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusPlace.schema\n                },\n                \"classifications\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusClassification.schema\n                },\n                \"materialAndTechniqueDescription\": {\n                    \"type\": \"string\"\n                },\n                \"materials\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusMaterial.schema\n                },\n                \"techniques\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusTechnique.schema\n                },\n                \"colors\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusColor.schema\n                },\n                \"designations\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusDesignation.schema\n                },\n                \"measures\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusMeasure.schema\n                },\n                \"events\": {\n                    \"type\": \"array\",\n                    \"items\": models.primusEvent.schema,\n                },\n                \"images\": models.primusMedia.schema,\n                \"attachments\": models.primusMedia.schema,\n//                \"media\": models.primusMedia.schema\n            }\n        }\n    }\n}","import model from \"./schemas/artwork\"\nexport default model","/*\nimport schema from \"./Artwork.schema\"\nimport uiSchema from \"./Artwork.uiSchema\"\nimport formData from \"./Artwork.formData\"\nimport Preview from \"./ArtworkPreview\"\n*/\n\nimport schema from \"./schema\"\nimport uiSchema from \"./uiSchema\"\nimport formData from \"./formData\"\nimport Preview from \"../../ArtworkPreview\"\n\n\nexport default {\n    name: \"artifact\",\n    schemaType: \"documents\",\n    schemaId: 1,\n    schema: schema,\n    uiSchema: uiSchema,\n    formData: formData,\n    preview: {\n        template: Preview\n    }\n}","import basis from \"./basis.uiSchema\"\nimport metadata from \"./metadata.uiSchema\"\nimport appearance from \"./appearance.uiSchema\"\nimport motif from \"./motif.uiSchema\"\nimport measure from \"./measure.uiSchema\"\nimport events from \"./events.uiSchema\"\nimport media from \"./media.uiSchema\"\n\nexport default {\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\" : \"imageUrl\",\n            \"mediaWidth\": \"mediaWidth\",\n            \"mediaHeight\": \"mediaHeight\",\n            \"title\" : \"title\",\n            \"description\" : \"description\",\n            \"identifier\": \"identifier\",\n            \"metadata\" : \"metadata\",\n            \"label\": \"label\",\n            \"artist\": \"artist\",\n            \"dating\": \"dating\",\n            \"materials\": \"materials\",\n            \"techniques\": \"techniques\",\n            \"measures\": \"measures\",\n            \"depictedPeople\": \"depictedPeople\",\n            \"depictedPlaces\": \"depictedPlaces\"\n        },\n        prepare({formData, formContext}) {\n            const { documentType, content = {} } = formData\n    \n            if (content) {\n    \n                const { images, title, identifier, artist = {}, dating = {}, designation, materials, techniques, measures, depictedPeople, depictedPlaces } = content\n   \n                \n                const image = images && images[0] && images[0].media\n                const imageUrl = image && image.imageUrl\n                const imageWidth = image && image.mediaWidth\n                const imageHeight = image && image.mediaHeight\n    \n                let cols = {}, description = []\n\n                if (artist && artist.value) {\n                    description.push(artist.value)\n                }\n\n                if (dating && dating.value) {\n                    description.push(\"(\" + dating.value + \")\")\n                }\n\n                let label\n\n                if (designation && designation.value) {\n                    label = designation.value\n                }\n\n                return {\n                    imageUrl: imageUrl,\n                    imageWidth: imageWidth,\n                    imageHeight: imageHeight,\n                    title: title || \"Uten tittel\",\n                    description: description.join(\" \"),\n                    label: label,\n                    identifier: identifier,\n                    artist: artist.value,\n                    dating: dating.value,\n                    materials: materials && materials.map(material => material.value),\n                    techniques: techniques && techniques.map(technique => technique.value),\n                    measures: measures && measures.map(measures => measures.size),\n                    depictedPeople: depictedPeople && depictedPeople.map(person => person.value),\n                    depictedPlaces: depictedPlaces && depictedPlaces.map(place => place.value),\n\n                }\n    \n            }\n      \n            return {\n                imageUrl: formData.imageUrl,\n                title: formData.title || \"Uten tittel\",\n                description: undefined,\n                label: documentType,\n            }\n        }\n    \n    },\n    \"ui:field\": \"primusEditor\",\n    \"ui:fieldset\": [\n        \"content\"\n    ],\n    \"content\": {\n        \"ui:field\": \"primusContent\",\n        \"ui:fieldset\": [\n            \"basis\",\n            \"measure\",\n            \"metadata\",\n            \"appearance\",\n            \"motif\",\n            \"events\",\n            \"media\",\n        ],\n        \"basis\": basis,\n        \"measure\": measure,\n        \"metadata\": metadata,\n        \"motif\": motif,\n        \"appearance\": appearance,\n        \"events\": events,\n        \"media\": media,\n        \"images\": {\n            \"ui:field\": \"primusMedia\",\n        }\n    }\n}","export default {\n    \"ui:title\": \"Basis\",\n    \"ui:field\": \"primusSection\",\n    \"ui:fieldset\": [\n        \"metadata\",\n        \"artwork\",\n        \"description\",\n    ],\n    \"metadata\": {\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"identifier\",\n            \"registrationLevel\",\n//            \"designation\",\n        ],\n        \"identifier\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Inventarnr.\",\n        },\n        \"registrationLevel\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Registreringsnivå\",\n        },\n        \"designation\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Betegnelse\",\n            \"ui:field\": \"primusDesignation\",\n        },\n    },\n    \"artwork\": {\n        \"ui:options\": {\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"title\",\n            \"artist\",\n            \"dating\",\n        ],\n        \"title\": {\n            \"ui:title\": \"Tittel\",\n            \"ui:xs\": 12\n        },\n        \"artist\": {\n            \"ui:title\": \"Kunstner\",\n            \"ui:field\": \"primusPerson\",\n            \"ui:xs\": 6\n        },\n        \"dating\": {\n            \"ui:xs\": 6,\n            \"ui:title\": \"Datering\",\n            \"ui:field\": \"primusDating\",\n        },\n    },\n    \"details\": {\n        \"ui:options\": {\n            \"spacing\": 2\n        },\n        \"ui:fieldset\": [\n            \"materialDescription\",\n//            \"techniqueDescription\",\n        ],\n        \"materialDescription\": {\n            \"ui:title\": \"Teknikk og materiale\"\n        },\n        \"techniqueDescription\": {\n            \"ui:title\": \"Teknikk\"\n        }\n\n    },\n    \"description\": {\n        \"ui:title\": \"Beskrivelse\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"keywords\": {\n        \"ui:title\": \"Stikkord\",\n        \"ui:widget\": \"tags\"\n    },\n    \"parentId\": {\n        \"ui:title\": \"ParentId\",\n        \"ui:field\": \"parentId\",\n        \"ui:query\": {\n            \"documentType\": \"event\"\n        }\n    },\n    \"measure\": {\n        \"ui:title\": \"Hovedmål\",\n        \"ui:field\": \"primusMeasure\"\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Mål\",\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"measures\"\n    ],\n    \"measures\": {\n        \"ui:title\": \"Mål\",\n        \"ui:field\": \"primusMeasureTags\",\n        \"items\": {\n            \"ui:field\": \"primusMeasure\"\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Klassifisering\",\n    \"ui:layout\": \"primusSection\",\n    \"ui:options\": {\n        \"spacing\": 2\n    },\n    \"ui:fieldset\": [\n        \"designations\",\n        \"classifications\",\n    ],\n    \"designations\": {\n        \"ui:title\": \"Betegnelse\",\n        \"ui:field\": \"primusDesignationTags\"\n    },\n    \"classifications\": {\n        \"ui:title\": \"Klassifikasjon\",\n        \"ui:field\": \"primusClassificationTags\"\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Motiv\",\n    \"ui:fieldset\": [\n        \"motifType\",\n        \"motifDescription\",\n//        \"dating\",\n        \"depictedPeople\",\n        \"depictedPlaces\",\n//        \"depictedObjects\"\n    ],\n    \"motifType\": {\n        \"ui:title\": \"Motivtype\"\n    },\n    \"motifDescription\": {\n        \"ui:title\": \"Motivbeskrivelse\",\n        \"ui:widget\": \"textarea\"\n    },\n    \"depictedPeople\": {\n        \"ui:title\": \"Personer avbildet\",\n        \"ui:field\": \"primusPeopleTags\"        \n    },\n    \"depictedPlaces\": {\n        \"ui:title\": \"Steder avbildet\",\n        \"ui:field\": \"primusPlaceTags\"        \n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Materiale og teknikk\",\n    \"ui:fieldset\": [\n//        \"materialAndTechniqueDescription\",\n        \"techniques\",\n        \"materials\",\n        \"colors\",\n    ],\n    \"materialAndTechniqueDescription\": {\n        \"ui:title\": \"Materiale og teknikk\",\n        \"ui:help\": \"Beskrivelse av materiale og teknikk brukt for å skape kunstverket\"\n    },\n    \"techniques\": {\n        \"ui:title\": \"Teknikk\",\n        \"ui:field\": \"primusTechniqueTags\",\n    },\n    \"materials\": {\n        \"ui:title\": \"Materiale\",\n        \"ui:field\": \"primusMaterialTags\",\n    },\n    \"colors\": {\n        \"ui:title\": \"Farger\",\n        \"ui:field\": \"primusColorTags\"\n    },\n}","export default {\n    \"ui:layout\": \"primusSection\",\n    \"ui:title\": \"Historikk\",\n    \"ui:options\": {\n        \"sortable\": true,\n    },\n    \"items\": {\n        \"ui:layout\": \"primusSection\",\n        \"ui:preview\": {\n            \"select\": {\n                \"title\": \"title\",\n                \"description\" : \"description\",\n            },\n            prepare({formData: { eventType, dating}, formContext}) {\n                const title = eventType && eventType.value\n                const description = dating && dating.value\n    \n                return {\n                    title: title,\n                    description: description,\n                }\n            }\n        },\n        \"ui:title\": \"Hendelse\",\n        \"ui:fieldset\": [\n            \"eventType\",\n            \"dating\",\n            \"description\",\n            \"people\",\n            \"places\"\n        ],\n        \"ui:options\": {\n            \"collapsible\": true,\n            \"grid\": true,\n            \"spacing\": 2\n        },\n        \"eventType\": {\n            \"ui:field\": \"primusEventType\",\n            \"ui:xs\": 6,\n        },\n        \"dating\": {\n            \"ui:xs\": 6,\n            \"ui:field\": \"primusDating\",\n        },\n        \"title\": {\n            \"ui:xs\": 12,\n            \"ui:title\": \"Tittel\"\n        },\n        \"description\": {\n            \"ui:xs\": 12,\n            \"ui:title\": \"Beskrivelse\",\n            \"ui:widget\": \"textarea\"\n        },\n        \"people\": {\n            \"ui:xs\": 12,\n            \"ui:field\": \"primusPeopleTags\",\n            \"ui:title\": \"Relaterte personer\",\n        },\n        \"places\": {\n            \"ui:xs\": 12,\n            \"ui:field\": \"primusPlaceTags\",\n            \"ui:title\": \"Relaterte steder\",\n        }\n    }\n}","export default {\n    \"ui:field\": \"primusSection\",\n    \"ui:title\": \"Media\",\n    \"ui:fieldset\": [\n        \"images\",\n        \"attachments\"\n    ],\n    \"images\": {\n        \"ui:field\": \"primusMedia\",\n        \"ui:title\": \"Bilder\",\n        \"ui:preview\": {\n            \"select\": {\n                \"title\": \"title\",\n                \"description\" : \"description\",\n            },\n            prepare({formData = [], formContext}) {\n\n                const title = formData.length + \" bilder\"\n    \n                return {\n                    title: title,\n                }\n            }\n        },\n        \"ui:options\": {\n            \"collapsible\": true\n        },\n    },\n    \"attachments\": {\n        \"ui:field\": \"primusMedia\",\n        \"ui:title\": \"Vedlegg\",\n        \"ui:preview\": {\n            \"select\": {\n                \"title\": \"title\",\n                \"description\" : \"description\",\n            },\n            prepare({formData = [], formContext}) {\n\n                const title = formData.length + \" vedlegg\"\n    \n                return {\n                    title: title,\n                }\n            }\n        },\n        \"ui:options\": {\n            \"collapsible\": true\n        },\n    }\n}","import React from \"react\"\nimport PreviewTemplate from \"../PrimusPreview/PreviewTemplate\"\nimport PreviewScroller from \"../PrimusPreview/PreviewScroller\"\n\nconst ArtworkPreview = ({formData}) => {\n\n    return (\n        <PreviewScroller>\n            <PreviewTemplate {...formData} />\n        </PreviewScroller>\n    )\n\n}\n\nexport default ArtworkPreview;","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from \"react-router-dom\";\nimport qs from 'query-string';\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport Editor from \"./Editor\"\nimport model from \"../components/PrimusEditor/Artwork.model\"\n\nconst DocumentEditor = () => {\n\n    const dispatch = useDispatch()\n\n    const history = useHistory()\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n    const modelsById = useSelector(state => state.modelsById)\n\n    const { uniqueId } = useParams()\n\n    const sq = location.search && qs.parse(location.search) || {}\n\n    const { documentType } = sq\n\n    let formData = {}\n\n    if (documentType) {\n        formData = {\n            modelName: \"documents\",\n            documentType: sq.documentType,\n            collectionId: app.collectionId,\n        }\n    } else if (uniqueId) {\n\n        formData = {\n            modelName: \"documents\",\n//            documentType: sq.documentType,\n            uniqueId: uniqueId\n        }\n    }\n\n    // set formContext\n\n    const [previewExpanded, setPreviewExpanded] = useState(false)\n\n    const _onExpandPreview = () => {\n        setPreviewExpanded(true)\n    }\n\n    const _onCollapsePreview = () => {\n        setPreviewExpanded(false)\n    }\n\n    const _onTogglePreview = () => {\n        setPreviewExpanded(expanded => !expanded)\n    }\n\n    const preview = {\n        template: DocumentPreview,\n        expanded: previewExpanded,\n        onExpand: _onExpandPreview,\n        onCollapse: _onCollapsePreview\n    }\n\n    const formContext = {\n        languages: app.languages,\n        preview: preview,\n        onTogglePreview: _onTogglePreview,\n        onExpandPreview: _onExpandPreview,\n        onCollapsePreview: _onCollapsePreview\n    }\n    \n    return (\n        <Editor {...model} formData={formData} formContext={formContext} />\n    )\n\n\n}\n\nDocumentEditor.defaultProps = {\n}\n\nexport default DocumentEditor","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from \"react-router-dom\";\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport Editor from \"./Editor\"\nimport model from \"../components/PrimusEditor/Artwork.model\"\n\nconst DocumentViewer = () => {\n\n    const dispatch = useDispatch()\n\n    const location = useLocation()\n    const history = useHistory()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n\n    const { uniqueId } = useParams()\n\n    const formData = {\n        modelName: \"documents\",\n        collectionId: app.collectionId,\n        uniqueId: uniqueId\n    }\n\n    const _onEdit = () => {\n        const editUrl = pathname.replace(\"/view\", \"/edit\")\n        history.push(editUrl)\n    }\n\n    // set formContext\n\n    const formContext = {\n        primaryAction: {\n            type: \"edit\",\n            onClick: _onEdit\n        },\n        preview: {\n            expanded: true,\n            template: DocumentPreview\n        },\n    }\n    \n    return (\n        <Editor {...model} formData={formData} formContext={formContext} />\n    )\n\n\n}\n\nDocumentViewer.defaultProps = {\n}\n\nexport default DocumentViewer","import React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams } from \"react-router-dom\";\nimport qs from 'query-string';\n\nimport DocumentPreview from \"./DocumentPreview\"\n\nimport Editor from \"./Editor\"\n\nconst MediaEditor = () => {\n\n    const dispatch = useDispatch()\n\n    const history = useHistory()\n    const location = useLocation()\n    const pathname = location.pathname\n\n    const app = useSelector(state => state.app)\n    const modelsById = useSelector(state => state.modelsById)\n\n    const { uniqueId } = useParams()\n\n    let formData = {}\n\n    if (uniqueId) {\n\n        formData = {\n            modelName: \"media\",\n            uniqueId: uniqueId\n        }\n    }\n\n    // set formContext\n\n    const [previewExpanded, setPreviewExpanded] = useState(false)\n\n    const _onExpandPreview = () => {\n        setPreviewExpanded(true)\n    }\n\n    const _onCollapsePreview = () => {\n        setPreviewExpanded(false)\n    }\n\n    const _onTogglePreview = () => {\n        setPreviewExpanded(expanded => !expanded)\n    }\n\n    const preview = {\n//        template: DocumentPreview,\n        expanded: previewExpanded,\n        onExpand: _onExpandPreview,\n        onCollapse: _onCollapsePreview\n    }\n\n    const formContext = {\n//        preview: preview,\n        onTogglePreview: _onTogglePreview,\n        onExpandPreview: _onExpandPreview,\n        onCollapsePreview: _onCollapsePreview\n    }\n    \n    return (\n        <Editor formData={formData} formContext={formContext} />\n    )\n\n\n}\n\nMediaEditor.defaultProps = {\n}\n\nexport default MediaEditor","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Finder from \"./Finder\"\n\nimport AppSettings from \"./AppSettings\"\nimport DocumentCreate from \"./DocumentEditor\"\nimport DocumentEditor from \"./DocumentEditor\"\nimport DocumentViewer from \"./DocumentViewer\"\n\nimport MediaEditor from \"./MediaEditor\"\n\nconst PrimusRoutes = (props) => {\n\n    return (\n        <Switch>\n            <Route path=\"/:appName/settings\" component={ AppSettings } />\n            <Route path=\"/:appName/create\" component={ DocumentCreate } />\n            <Route path=\"/:appName/media/:parents*/:uniqueId/edit\" component={ MediaEditor } />\n            <Route path=\"/:appName/:parents*/:uniqueId/edit\" component={ DocumentEditor } />\n            <Route path=\"/:appName/:parents*/:uniqueId/view\" component={ DocumentViewer } />\n            <Route path=\"/:appName/:parents*\" component={ Finder } />\n            <Route path=\"/:appName\" component={ Finder } />\n            <Route path=\"/\" component={ Finder } />\n        </Switch>\n      )\n\n}\n\nexport default PrimusRoutes","const contentTypes = [\n    {\n        icon: \"article\",\n        title: \"Artikkel\",\n        pathname: \"article\",\n        search: \"documentType=article\"\n    },\n]\n\n\nconst pageTypes = [\n    {\n        icon: \"pageHome\",\n        title: \"Forside\",\n        pathname: \"grid\",\n        search: \"documentType=pageHome\"\n    },\n    {\n        icon: \"pageTopic\",\n        title: \"Tema\",\n        pathname: \"topic\",\n        search: \"documentType=pageTopic\"\n    },\n    {\n        icon: \"pageMap\",\n        title: \"Kart\",\n        pathname: \"grid\",\n        search: \"documentType=pageMap\"\n    }\n\n]\n\n\nexport default {\n    title: \"Create\",\n    pathname: \"create\",\n    \"children\": [\n        {\n            type: \"section\",\n            children: contentTypes\n        },\n        {\n            type: \"section\",\n            children: pageTypes\n        }\n    ]\n\n}","import app from \"./app\"\nexport default app","import theme from \"./theme\"\nimport primaryAction from \"./action\"\nimport menu from \"./menu\"\n\nexport default {\n    theme: theme,\n    icon: \"kpApp\",\n    url: \"/kp\",\n    root: \"/kp\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"KulturPunkt\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    sidebar: {\n        expanded: true\n    },\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n//        \"variant\": \"growing\",\n        \"expanded\": false,\n        \"placeholder\": \"Søk i KulturPunkt\"\n    }\n}","const kpHome = {\n    title: \"Alt innhold\",\n    sortOptions: [],\n    sizeOptions: [],\n    rowsOptions: [],\n    viewOptions: [\"tree\",\"cols\"],\n    query: {\n        fl: \"uniqueId,id,title\",\n        rows: 100,\n        models: \"documents\",\n        status: \"NOT trash\",\n        documentType: \"page*\",\n        q: \"NOT parentId:*\"\n    },\n}\n\nconst contentTypes = [\n    {\n        pathname: \"article\",\n        title: \"Artikler\",\n        icon: \"article\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"table\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"article\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"homepage\",\n        title: \"Forside\",\n        icon: \"pageHome\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"table\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageHome\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"topic\",\n        title: \"Tema\",\n        icon: \"pageTopic\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"table\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageTopic\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"map\",\n        title: \"Kart\",\n        icon: \"pageMap\",\n        view: \"icons\",\n        viewOptions: [\"list\",\"table\",\"icons\"],\n        query: {\n            models: \"documents\",\n            documentType: \"pageMap\",\n            status: \"NOT trash\"\n        }\n    },\n\n]\n\nconst mediaTypes = [\n    {\n        pathname: \"image\",\n        title: \"Bilder\",\n        view: \"gallery\",\n        icon: \"imageFolder\",\n        viewOptions: [\"gallery\",\"masonry\",\"table\",\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"image\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"video\",\n        title: \"Video\",\n        icon: \"videoFolder\",\n        view: \"gallery\",\n        viewOptions: [\"gallery\",\"masonry\",\"table\",\"list\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"video\",\n            status: \"NOT trash\"\n        }\n    },\n    {\n        pathname: \"audio\",\n        title: \"Audio\",\n        icon: \"audioFolder\",\n        view: \"list\",\n        viewOptions: [\"list\",\"table\",\"icons\"],\n        query: {\n            models: \"media\",\n            mediaType: \"audio\",\n            status: \"NOT trash\"\n        }\n    },\n\n]\n\nconst shortcuts = [\n    {\n        pathname: \"latest\",\n        title: \"Sist oppdatert\",\n        icon: \"history\",\n        query: {\n            models: \"documents\",\n            status: \"NOT trash\",\n            models: \"documents\",\n            sort: \"updatedAt DESC\"\n        }\n        },\n    {\n        icon: \"delete_outline\",\n        title: \"Slettet\",\n        pathname: \"trash\",\n        query: {\n            models: \"documents\",\n            status: \"trash\",\n            models: \"documents\",\n            sort: \"deletedAt DESC\",\n        }\n    }\n\n]\n\nconst favourites = [\n    {\n        url: \"/kiosk\",\n        title: \"Kiosk\",\n        icon: \"kioskMenu\",\n    }\n]\n\nexport default [\n    kpHome,\n    {\n        title: \"Innhold\",\n        pathname: \"content\",\n        role: \"section\",\n        children: contentTypes\n    },\n    {\n        title: \"Media\",\n        pathname: \"media\",\n        role: \"section\",\n        children: mediaTypes\n    },\n    {\n        title: \"Snarveier\",\n        pathname: \"shortcuts\",\n        role: \"section\",\n        children: shortcuts\n    },\n    {\n        title: \"Favoritter\",\n        pathname: \"favourites\",\n        role: \"section\",\n        children: favourites\n    }\n\n]","import React, { useEffect } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { getApp } from \"../redux/app\"\nimport { collapseEditor, toggleSidebar } from \"../redux/finder\"\nimport { bulkReset } from '../redux/bulk';\nimport { useParams } from \"react-router-dom\";\n\nimport { AppBase, AppHeader, AppBody } from \"../components/App\"\n\nimport AppLoader from \"./AppLoader\"\nimport AppSearch from \"./AppSearch\"\nimport AppRoutes from \"./KpRoutes\"\n\nimport kpSettings from \"./settings/kp\"\nimport kioskSettings from \"./settings/kiosk\"\nimport defaultSettings from \"./settings\"\n\nconst apps = {\n    \"default\": defaultSettings,\n    \"kp\": kpSettings,\n    \"kiosk\": kioskSettings\n}\n\nconst KpApp = (props) => {\n\n    const { appName } = useParams()\n\n    const settings = apps[appName] || apps[\"default\"]\n\n    const dispatch = useDispatch()\n    const location = useLocation()\n    const history = useHistory()\n    const { t, i18n } = useTranslation('finder');\n\n    useEffect(() => {\n        console.log('get app', settings)\n        dispatch(getApp(settings))\n    }, [settings])\n    \n    const app = useSelector(state => state.app)\n    const finder = useSelector(state => state.finder)\n\n    const header = {\n        ...app.header,\n        search: app.search,\n        title: app.title,\n        subtitle: app.subtitle\n    }\n\n    const bulk = useSelector(state => state.bulk)\n    const bulkCount = bulk.count\n    const bulkTitle = t('{{count}} selected', {count: bulkCount})\n\n    const parents = [\n        {\n            url: app.root,\n            title: app.title,\n        },\n        ...finder.parents\n    ]\n\n    const preview = {\n//        ...finder.preview,\n        expanded: bulkCount && true,\n        parents: parents,\n        title: bulkTitle,\n        onToggle: () => dispatch(bulkReset()),\n        onSelect: ({url}) => {\n            url && history.push(url)\n            dispatch(bulkReset())\n        }\n    }\n\n    const editorParents = [\n        ...preview.parents,\n        {\n            title: preview.title\n        }\n    ]\n\n    const editor = {\n        ...finder.editor,\n        parents: editorParents,\n        onToggle: () => dispatch(collapseEditor()),\n        onSelect: ({url}) => {\n            url && history.push(url)\n            dispatch(collapseEditor())\n        }\n    }\n\n\n    const subview = editor.expanded && editor || preview.expanded && preview || {}\n\n    const sidebar = finder.sidebar && {\n        ...finder.sidebar,\n        collapsible: true,\n        onToggle: () => dispatch(toggleSidebar())\n    }\n\n\n    return (\n        <AppLoader {...app}>\n            <AppBase {...app}>\n                <AppSearch {...props}>\n                    <AppHeader {...header} sidebar={sidebar} subview={subview} />\n                </AppSearch>\n                <AppBody>\n                    <AppRoutes {...props} />\n                </AppBody>\n            </AppBase>\n        </AppLoader>\n    )\n\n}\n\nexport default KpApp","import theme from \"./theme\"\nimport primaryAction from \"./action\"\nimport menu from \"./menu\"\n\nexport default {\n    theme: theme,\n    icon: \"kpApp\",\n    url: \"/\",\n    root: \"\",\n    siteId: 1,\n    collectionId: 54,\n    title: \"KulturPunkt\",\n    subtitle: \"Museum\",\n    menu: menu,\n    primaryAction: primaryAction,\n    sidebar: {\n        expanded: false\n    },\n    languages: [\n        \"no\", \"sv\", \"en\", \"de\", \"es\", \"fr\"\n    ],\n    search: {\n//        \"variant\": \"growing\",\n        \"expanded\": false,\n        \"placeholder\": \"Søk i KulturPunkt\"\n    }\n}","export default {\n    \"palette\": {\n        \"media\": \"#303030\",\n        \"primary\": {\n            \"main\": \"#D94353\",\n            \"light\": \"#EE7E8F\",\n            \"dark\": \"#AE3552\"\n        },\n        \"primary\": {\n            \"main\": \"#49777F\"\n        }\n    }\n}","const home = {\n    url: \"/\",\n    title: \"Alt innhold\",\n    viewOptions: [\"apps\"],\n    query: {\n        fl: \"uniqueId,id,title\",\n        rows: 0,\n        models: \"documents\",\n        status: \"NOT trash\",\n    },\n}\n\nconst favourites = [\n    {\n        url: \"/kp\",\n        title: \"KulturPunkt\",\n        icon: \"kpMenu\",\n    },\n    {\n        url: \"/kiosk\",\n        title: \"Kiosk\",\n        icon: \"kioskMenu\",\n    }\n]\n\nexport default [\n    home,\n\n    {\n        title: \"Favoritter\",\n        pathname: \"favourites\",\n        role: \"section\",\n        children: favourites\n    }\n\n]","\nconst artifacts = {\n    icon: \"article\",\n    title: \"Nytt objekt\",\n    pathname: \"/create?documentType=artifact\"\n}\n\n\nexport default {\n    title: \"Create\",\n    pathname: \"/create?documentType=artifact\",\n    \"children\": [\n        artifacts\n    ]\n\n}","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport KioskApp from \"./KioskApp\"\nimport KpApp from \"./KpApp\"\n\nconst AppRoutes = () => {\n\n    return (\n        <Switch>\n            <Route path=\"/:appName\" component={ KpApp } />\n            <Route path=\"/\" component={ KpApp } />\n        </Switch>\n      )\n\n}\n\nexport default AppRoutes","import React, { useEffect } from \"react\"\n\nimport \"../styles/reset.css\"\nimport \"../styles/Akkurat.css\"\nimport \"../styles/AkkuratMono.css\"\nimport \"../styles/MaterialIcons.css\"\n\nimport {\n    BrowserRouter as Router,\n} from \"react-router-dom\";\n\nimport AppRoutes from \"./AppRoutes\"\n\nimport ReactGA from 'react-ga';\nReactGA.initialize('G-G4DC78EBMS');\nReactGA.pageview(window.location.pathname + window.location.search);\n\n\nconst App = (props) => {\n\n    return (\n        <Router basename=\"/\">\n            <AppRoutes {...props} />\n        </Router>\n    )\n\n}\n\nexport default App","import App from \"./App\"\nexport default App","import { API } from \"../settings\"\nimport { createSlice } from '@reduxjs/toolkit'\nimport qs from 'query-string';\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState: {\n        isLoading: true,\n    }, \n    reducers: {\n        requestUser(state, action) {\n            return {\n                isLoading: true,\n            }\n        },\n        receiveUser(state, action) {\n            return {\n                ...state,\n                isLoading: false,\n                ...action.payload\n            }\n        }\n    }\n})\n\nexport const getUser = ({modelName = \"users\", uniqueId}) => dispatch => {\n\n    const url = API + '/admin/api/' + modelName + '/' + uniqueId;\n\n    dispatch(requestUser({uniqueId}))\n\n    fetch(url, {\n        method: \"GET\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json; charset=utf-8\",\n        }})\n        .then(\n            response => response.json(),\n            error => console.log('An error occurred.', error)\n        )\n        .then(formData => {\n            dispatch(receiveUser(formData))\n        })\n\n}    \n\n\nexport const { requestUser, receiveUser } = userSlice.actions\nexport default userSlice.reducer","import { combineReducers } from '@reduxjs/toolkit'\n\nimport userReducer from './user/userSlice'\nimport siteReducer from './site/siteSlice'\nimport collectionReducer from './collection/collectionSlice'\n\nimport appReducer from './app/appSlice'\nimport finderReducer from './finder/finderSlice'\nimport editorReducer from './editor/editorSlice'\n\nimport bulkReducer from './bulk/bulkSlice'\nimport treeReducer from './tree/treeSlice'\n\nimport searchByUrlReducer from './searchByUrl/searchByUrlSlice'\n\nimport uploadByUrlReducer from './uploadByUrl/uploadByUrlSlice'\nimport modelsByIdReducer from './modelsById/modelsByIdSlice'\n\nexport default combineReducers({\n    user: userReducer,\n    site: siteReducer,\n    collection: collectionReducer,\n    app: appReducer,\n    editor: editorReducer,\n    finder: finderReducer,\n    bulk: bulkReducer,\n    tree: treeReducer,\n    modelsById: modelsByIdReducer,\n    searchByUrl: searchByUrlReducer,\n    uploadByUrl: uploadByUrlReducer,\n})","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger'\r\n\r\nimport rootReducer from \"./rootReducer\"\r\nconst middleware = [...getDefaultMiddleware({}), logger]\r\n\r\nexport default configureStore({\r\n    reducer: rootReducer,\r\n    middleware\r\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export default {\n    search: {\n        \"Fetching data, please wait\": \"Henter data, vennligst vent\",\n        \"No hits\": \"Ingen treff\",\n        \"{{count}} hits\": \"{{count}} treff\",\n        \"{{page}} of {{pages}} pages\": \"Side {{page}} av {{pages}}\",\n        \"More results\": \"Flere resultater\",\n        \"Next page\": \"Neste side\",\n        \"Previous page\": \"Forrige side\",\n        \"Page {{page}}\": \"Side {{page}}\",\n        \"Searching, please wait\": \"Søker, vennligst vent\",\n        \"Loading page {{page}}\": \"Henter side {{page}}\",\n        \"All documents\": \"Alle dokumenter\",\n        \"Search for {{q}} in all documents\": \"{{q}} i alle dokumenter\",\n        \"Everything in {{scope}}\": \"Alt i {{scope}}\",\n        \"Search everything\": \"Søk i alt innhold\",\n        \"Search for {{q}} in everything\": \"{{q}} i alt innhold\",\n        \"Search in {{scope}}\": \"Søk i {{scope}}\",\n        \"Search for {{q}} in {{scope}}\": \"{{q}} i {{scope}}\",\n        \"{{count}} suggestions\": \"{{count}} forslag\",\n    },\n    editor: {\n        \"Loading\": \"Laster\",\n        \"Saving\": \"Lagrer\",\n        \"Save\": \"Lagre\",\n        \"Save as draft\": \"Lagre som utkast\",\n        \"Save and publish\": \"Lagre og publiser\",\n        \"Save and exit\": \"Lagre og avslutt\",\n        \"Save as\": \"Lagre som\",\n        \"Empty trash\": \"Tøm papirkurv\",\n        \"Restore\": \"Gjenopprett\",\n        \"Erase\": \"Slett for alltid\"\n    },\n    layout: {\n        \"table\": \"Tabell\",\n        \"grid\": \"Grid\",\n        \"list\": \"Liste\",\n        \"gallery\": \"Galleri\",\n    },\n    dialog: {\n        \"Search\": \"Søk\",\n        \"Search documents\": \"Søk i dokumenter\",\n        \"Search media\": \"Søk i media\",\n        \"Search media/image\": \"Søk i bilder\",\n        \"Search media/video\": \"Søk i videoer\",\n        \"Search media/audio\": \"Søk i audio\",\n        \"Search media/misc\": \"Søk i filer\",\n        \"Search ekultur\": \"Søk i DigitaltMuseum\",\n        \"Search favorites\": \"Søk i favoritter\",\n        \"Search uploads\": \"Søk i opplastede filer\",\n        \"Search models\": \"Søk i referanser\",\n        \"Favorites\": \"Favoritter\",\n        \"Upload\": \"Last opp\",\n        \"Upload media\": \"Last opp media\",\n        \"media\": \"Media\",\n        \"media/*\": \"Media\",\n        \"media/image\": \"Bilder\",\n        \"media/image*\": \"Bilder\",\n        \"media/video\": \"Video\",\n        \"media/video*\": \"Video\",\n        \"media/audio\": \"Audio\",\n        \"media/audio*\": \"Audio\",\n        \"media/misc\": \"Filer\",\n        \"media/misc*\": \"Filer\",\n        \"media/youtube\": \"YouTube\",\n        \"media/vimeo\": \"Vimeo\",\n        \"media/sketchfab\": \"Sketchfab\",\n        \"documents/*\": \"Dokumenter\",\n        \"documents/ekultur\": \"Objekter\",\n        \"youtube\": \"YouTube\",\n        \"vimeo\": \"Vimeo\",\n        \"sketchfab\": \"Sketchfab\",\n        \"ekultur\": \"Objekter\",\n    },\n    upload: {\n        \"Uploading {{requested}} of {{received}}\": \"Laster opp {{requested}} av {{received}}\",\n        \"Click or drop files to upload\": \"Klikk eller dra filer her for å laste opp\",\n        \"Fetching unprocessed uploads\": \"Finner ubehandlede opplastninger\",\n        \"No unprocessed uploads\": \"Ingen ubehandlede opplastninger\",\n        \"{{count}} unprocessed uploads\": \"{{count}} ubehandlede opplastninger\",\n    },\n    rows: {\n        \"{{rows}} rows\": \"{{rows}} rader\",\n    },\n    sort: {\n        \"title\": \"Alfabetisk\",\n        \"updatedAt DESC\": \"Sist oppdatert\",\n        \"createdAt DESC\": \"Sist opprettet\",\n        \"createdAt ASC\": \"Først opprettet\",\n    },\n    mediaType: {\n        \"image\": \"Bilde\",\n        \"video\": \"Video\",\n        \"audio\": \"Audio\",\n    },\n    documentType: {\n        \"article\": \"Artikkel\",\n        \"device\": \"Enhet\",\n        \"object\": \"Objekt\",\n        \"pageHome\": \"Hjemmeside\",\n        \"pageTopic\": \"Tema\",\n        \"pageMap\": \"Kart\",\n        \"pageGrid\": \"Mosaikk\",\n        \"pageList\": \"Liste\",\n        \"pageTimeline\": \"Tidslinje\",\n        \"pageAnnotate\": \"Bildekart\",\n        \"pageMedia\": \"Media\",\n    },\n    status: {\n        \"undefined\": \"Ukjent\",\n        \"error\": \"Feil\",\n        \"general\": \"N/A\",\n        \"draft\": \"Utkast\",\n        \"publish\": \"Publisert\",\n        \"trash\": \"Papirkurv\",\n        \"erased\": \"Slettet\",\n        \"restore\": \"Gjenopprettet\",\n        \"upload\": \"Ubehandlet\",\n        \"new\": \"Ny\",\n        \"copy\": \"Kopi\"\n    },\n    uploadStatus: {\n        \"init\": \"Laster opp\",\n        \"done\": \"Lastet opp\",\n        \"convert\": \"Konverterer media\",\n    },\n    bylineTitle: {\n        \"photographer\": \"Foto\",\n        \"rightsmanager\": \"Rettighetsforvalter\",\n        \"director\": \"Regissør\",\n        \"photograph\": \"Foto\",\n        \"vector\": \"Grafikk\",\n        \"illustration\": \"Illustrasjon\",\n        \"painting\": \"Maleri\",\n    },\n    license: {\n        \"copyright\": \"Opphavsrett\",\n        \"by\": \"Navngivelse\",\n        \"by-sa\": \"Navngivelse-DelPåSammeVilkår\",\n        \"by-nd\": \"Navngivelse-IngenBearbeidelse\",\n        \"by-nc\": \"Navngivelse-IkkeKommersiell\",\n        \"by-nc-sa\": \"Navngivelse-IkkeKommersiell-DelPåSammeVilkår\",\n        \"pdm\": \"Public Domain Mark\",\n        \"pdd\": \"Public Domain Dedication\",\n    },\n    licenseGroup: {\n        \"by\": \"Kan gjenbrukes ved navngivelse\",\n        \"by-nd\": \"Kan kun gjenbrukes ved tillatelse\",\n        \"by-nc\": \"Kan ikke gjenbrukes kommersielt\",\n        \"pd\": \"Åpne lisenser (kan gjenbrukes)\"\n    }\n}","import translations from \"./nb\"\n\nexport default {\n    ...translations\n}","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n// not like to use this?\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\nimport en from \"./translations/en\";\nimport nn from \"./translations/nn\";\nimport nb from \"./translations/nb\";\nimport sv from \"./translations/sv\";\n\n\ni18n\n    // load translation using xhr -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n    // learn more: https://github.com/i18next/i18next-xhr-backend\n//    .use(Backend)\n    // detect user language\n    // learn more: https://github.com/i18next/i18next-browser-languageDetector\n    .use(LanguageDetector)\n    // pass the i18n instance to react-i18next.\n    .use(initReactI18next)\n    // init i18next\n    // for all options read: https://www.i18next.com/overview/configuration-options\n    .init({\n\n        resources: {\n            en: en,\n            nb: nb,\n            nn: nn,\n            sv: sv\n        },\n\n        fallbackLng: 'en',\n        debug: true,\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        }\n    });\n\n\nexport default i18n;","export default {\n    editor: {\n        \"Loading\": \"Loading\",\n        \"Saving\": \"Saving\",\n        \"Save\": \"Save\",\n        \"Save as draft\": \"Save as draft\",\n        \"Save and publish\": \"Save and publish\",\n        \"Save and exit\": \"Save and exit\",\n        \"Save as\": \"Save as\"\n    }\n}","export default {\n    editor: {\n        \"Loading\": \"Läsa\",\n        \"Saving\": \"Spara\",\n        \"Save\": \"Spara\",\n        \"Save as draft\": \"Spara som utkast\",\n        \"Save and publish\": \"Spara och publicera\",\n        \"Save and exit\": \"Spare och avsluta\",\n        \"Save as\": \"Spare som\"\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport * as serviceWorker from './serviceWorker';\n\n// i18next\nimport './i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}