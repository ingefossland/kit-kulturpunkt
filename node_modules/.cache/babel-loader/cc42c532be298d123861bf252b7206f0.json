{"ast":null,"code":"import links from \"../../page/links/uiSchema\";\nexport default { ...links,\n  \"ui:title\": \"Media\",\n  \"ui:layout\": \"list\",\n  \"ui:preview\": {\n    \"select\": {\n      \"title\": \"title\"\n    },\n\n    prepare({\n      formData = []\n    }) {\n      return {\n        title: formData.length + \" media\"\n      };\n    }\n\n  },\n  \"ui:sidebar\": {\n    \"query\": {\n      \"models\": \"media\",\n      \"mediaType\": [\"image\", \"video\", \"audio\"]\n    }\n  },\n  \"ui:buttons\": [{\n    \"type\": \"sidebar\",\n    \"icon\": \"search\",\n    \"label\": \"Finn media\"\n  }, {\n    \"type\": \"upload\",\n    \"label\": \"Last opp\"\n  }],\n  \"items\": { ...links.items,\n    \"ui:preview\": {\n      \"select\": {\n        \"imageUrl\": \"imageUrl\",\n        \"typeLabel\": \"typeLabel\",\n        \"title\": \"title\",\n        \"metadata\": \"metadata\"\n      },\n\n      prepare({\n        formData,\n        formContext,\n        index\n      }) {\n        const {\n          mediaId,\n          media,\n          referenceId,\n          reference\n        } = formData;\n        const locale = formContext.currentLocale || formContext.defaultLocale;\n        const localeId = \"locale:\" + locale;\n        const runningHead = formData.runningHead && formData.runningHead[localeId];\n        const title = formData.title && formData.title[localeId];\n        const localTitle = runningHead && title && runningHead + \": \" + title || title;\n        const referenceTitle = referenceId && reference && reference.title;\n        const imageUrl = media && media.imageUrl || reference && reference.imageUrl;\n        const typeLabel = referenceId && reference && reference.documentType;\n        let metadata = [];\n        referenceId && reference && reference.title && metadata.push(reference.title);\n        return {\n          imageUrl: imageUrl,\n          typeLabel: typeLabel,\n          title: localTitle || referenceTitle,\n          metadata: metadata\n        };\n      }\n\n    },\n    \"link\": { ...links.items.link,\n      \"linkMedia\": { ...links.items.link.linkMedia,\n        \"ui:sidebar\": {\n          \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\", \"video\", \"audio\"]\n          }\n        }\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/schemas/pageMedia/mediaLinks/uiSchema.js"],"names":["links","prepare","formData","title","length","items","formContext","index","mediaId","media","referenceId","reference","locale","currentLocale","defaultLocale","localeId","runningHead","localTitle","referenceTitle","imageUrl","typeLabel","documentType","metadata","push","link","linkMedia"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,2BAAlB;AAEA,eAAe,EACX,GAAGA,KADQ;AAEX,cAAY,OAFD;AAGX,eAAa,MAHF;AAIX,gBAAc;AACV,cAAU;AACN,eAAS;AADH,KADA;;AAIVC,IAAAA,OAAO,CAAC;AAACC,MAAAA,QAAQ,GAAG;AAAZ,KAAD,EAAkB;AACrB,aAAO;AACHC,QAAAA,KAAK,EAAED,QAAQ,CAACE,MAAT,GAAkB;AADtB,OAAP;AAGH;;AARS,GAJH;AAcX,gBAAc;AACV,aAAS;AACL,gBAAU,OADL;AAEL,mBAAa,CAAC,OAAD,EAAS,OAAT,EAAiB,OAAjB;AAFR;AADC,GAdH;AAoBX,gBAAc,CACV;AACI,YAAQ,SADZ;AAEI,YAAQ,QAFZ;AAGI,aAAS;AAHb,GADU,EAMV;AACI,YAAQ,QADZ;AAEI,aAAS;AAFb,GANU,CApBH;AA+BX,WAAS,EACL,GAAGJ,KAAK,CAACK,KADJ;AAEL,kBAAc;AACV,gBAAU;AACN,oBAAY,UADN;AAEN,qBAAa,WAFP;AAGN,iBAAS,OAHH;AAIN,oBAAY;AAJN,OADA;;AAOVJ,MAAAA,OAAO,CAAC;AAACC,QAAAA,QAAD;AAAWI,QAAAA,WAAX;AAAwBC,QAAAA;AAAxB,OAAD,EAAiC;AACpC,cAAM;AAAEC,UAAAA,OAAF;AAAWC,UAAAA,KAAX;AAAkBC,UAAAA,WAAlB;AAA+BC,UAAAA;AAA/B,YAA6CT,QAAnD;AAEA,cAAMU,MAAM,GAAGN,WAAW,CAACO,aAAZ,IAA6BP,WAAW,CAACQ,aAAxD;AACA,cAAMC,QAAQ,GAAG,YAAYH,MAA7B;AAEA,cAAMI,WAAW,GAAGd,QAAQ,CAACc,WAAT,IAAwBd,QAAQ,CAACc,WAAT,CAAqBD,QAArB,CAA5C;AACA,cAAMZ,KAAK,GAAGD,QAAQ,CAACC,KAAT,IAAkBD,QAAQ,CAACC,KAAT,CAAeY,QAAf,CAAhC;AAEA,cAAME,UAAU,GAAGD,WAAW,IAAIb,KAAf,IAAwBa,WAAW,GAAG,IAAd,GAAqBb,KAA7C,IAAsDA,KAAzE;AACA,cAAMe,cAAc,GAAGR,WAAW,IAAIC,SAAf,IAA4BA,SAAS,CAACR,KAA7D;AAEA,cAAMgB,QAAQ,GAAGV,KAAK,IAAIA,KAAK,CAACU,QAAf,IAA0BR,SAAS,IAAIA,SAAS,CAACQ,QAAlE;AACA,cAAMC,SAAS,GAAGV,WAAW,IAAIC,SAAf,IAA4BA,SAAS,CAACU,YAAxD;AAEA,YAAIC,QAAQ,GAAG,EAAf;AAEAZ,QAAAA,WAAW,IAAIC,SAAf,IAA4BA,SAAS,CAACR,KAAtC,IAA+CmB,QAAQ,CAACC,IAAT,CAAcZ,SAAS,CAACR,KAAxB,CAA/C;AAEA,eAAO;AACHgB,UAAAA,QAAQ,EAAEA,QADP;AAEHC,UAAAA,SAAS,EAAEA,SAFR;AAGHjB,UAAAA,KAAK,EAAEc,UAAU,IAAIC,cAHlB;AAIHI,UAAAA,QAAQ,EAAEA;AAJP,SAAP;AAOH;;AAjCS,KAFT;AAqCL,YAAQ,EACJ,GAAGtB,KAAK,CAACK,KAAN,CAAYmB,IADX;AAEJ,mBAAa,EACT,GAAGxB,KAAK,CAACK,KAAN,CAAYmB,IAAZ,CAAiBC,SADX;AAET,sBAAc;AACV,mBAAS;AACL,sBAAU,OADL;AAEL,yBAAa,CAAC,OAAD,EAAS,OAAT,EAAiB,OAAjB;AAFR;AADC;AAFL;AAFT;AArCH;AA/BE,CAAf","sourcesContent":["import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:title\": \"Media\",\n    \"ui:layout\": \"list\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData = []}) {\n            return {\n                title: formData.length + \" media\"\n            }\n        }\n    },\n    \"ui:sidebar\": {\n        \"query\": {\n            \"models\": \"media\",\n            \"mediaType\": [\"image\",\"video\",\"audio\"]\n        }\n    },\n    \"ui:buttons\": [\n        {\n            \"type\": \"sidebar\",\n            \"icon\": \"search\",\n            \"label\": \"Finn media\",\n        },\n        {\n            \"type\": \"upload\",\n            \"label\": \"Last opp\"\n        }\n    ],\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale || formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n\n                const localTitle = runningHead && title && runningHead + \": \" + title || title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n        \"link\": {\n            ...links.items.link,\n            \"linkMedia\": {\n                ...links.items.link.linkMedia,\n                \"ui:sidebar\": {\n                    \"query\": {\n                        \"models\": \"media\",\n                        \"mediaType\": [\"image\",\"video\",\"audio\"]\n                    }\n                }\n            }\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}