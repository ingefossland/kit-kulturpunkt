{"ast":null,"code":"var _jsxFileName = \"/Users/inge/Sites/kit-kulturpunkt/src/Finder/Finder.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp, getAppLayout, getParents } from '../redux/app';\nimport FinderLayout from \"./FinderLayout\";\nimport FinderQuery from \"./FinderQuery\";\nimport qs from 'query-string';\n\nconst Finder = ({\n  query = {},\n  ...props\n}) => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getAppLayout(\"finder\"));\n  }, []);\n  const app = useSelector(state => state.app);\n  const menuByUrl = app && app.menuByUrl;\n  const {\n    pathname\n  } = props.location;\n  useEffect(() => {\n    menuByUrl && dispatch(getParents({\n      menuByUrl,\n      pathname: pathname\n    }));\n  }, [menuByUrl, pathname]); // set query\n\n  const sq = props.location.search && qs.parse(props.location.search);\n  query = { ...query,\n    id: pathname,\n    collectionId: app && app.collectionId,\n    page: sq.page || 1,\n    rows: sq.rows || 10,\n    sort: sq.sort || query.sort || undefined,\n    fl: \"uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight\",\n    q: sq.q || undefined\n  };\n  return /*#__PURE__*/React.createElement(FinderLayout, {\n    parents: app && app.parents,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FinderQuery, Object.assign({}, props, {\n    query: query,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default Finder;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/Finder/Finder.js"],"names":["React","useEffect","useState","useSelector","useDispatch","getApp","getAppLayout","getParents","FinderLayout","FinderQuery","qs","Finder","query","props","dispatch","app","state","menuByUrl","pathname","location","sq","search","parse","id","collectionId","page","rows","sort","undefined","fl","q","parents"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,YAAjB,EAA+BC,UAA/B,QAAiD,cAAjD;AAEA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,OAAOC,EAAP,MAAe,cAAf;;AAGA,MAAMC,MAAM,GAAG,CAAC;AAACC,EAAAA,KAAK,GAAG,EAAT;AAAa,KAAGC;AAAhB,CAAD,KAA4B;AAEvC,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,QAAQ,CAACR,YAAY,CAAC,QAAD,CAAb,CAAR;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA,QAAMS,GAAG,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACD,GAAhB,CAAvB;AACA,QAAME,SAAS,GAAGF,GAAG,IAAIA,GAAG,CAACE,SAA7B;AAEA,QAAM;AAAEC,IAAAA;AAAF,MAAeL,KAAK,CAACM,QAA3B;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,SAAS,IAAIH,QAAQ,CAACP,UAAU,CAAC;AAACU,MAAAA,SAAD;AAAYC,MAAAA,QAAQ,EAAEA;AAAtB,KAAD,CAAX,CAArB;AACH,GAFQ,EAEN,CAACD,SAAD,EAAYC,QAAZ,CAFM,CAAT,CAbuC,CAiBvC;;AAEA,QAAME,EAAE,GAAGP,KAAK,CAACM,QAAN,CAAeE,MAAf,IAAyBX,EAAE,CAACY,KAAH,CAAST,KAAK,CAACM,QAAN,CAAeE,MAAxB,CAApC;AAEAT,EAAAA,KAAK,GAAG,EACJ,GAAGA,KADC;AAEJW,IAAAA,EAAE,EAAEL,QAFA;AAGJM,IAAAA,YAAY,EAAET,GAAG,IAAIA,GAAG,CAACS,YAHrB;AAIJC,IAAAA,IAAI,EAAEL,EAAE,CAACK,IAAH,IAAW,CAJb;AAKJC,IAAAA,IAAI,EAAEN,EAAE,CAACM,IAAH,IAAW,EALb;AAMJC,IAAAA,IAAI,EAAEP,EAAE,CAACO,IAAH,IAAWf,KAAK,CAACe,IAAjB,IAAyBC,SAN3B;AAOJC,IAAAA,EAAE,EAAE,uEAPA;AAQJC,IAAAA,CAAC,EAAEV,EAAE,CAACU,CAAH,IAAQF;AARP,GAAR;AAWA,sBACI,oBAAC,YAAD;AACI,IAAA,OAAO,EAAEb,GAAG,IAAIA,GAAG,CAACgB,OADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,WAAD,oBAAiBlB,KAAjB;AAAwB,IAAA,KAAK,EAAED,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFJ,CADJ;AAMH,CAtCD;;AAwCA,eAAeD,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getApp, getAppLayout, getParents } from '../redux/app';\n\nimport FinderLayout from \"./FinderLayout\"\nimport FinderQuery from \"./FinderQuery\"\n\nimport qs from 'query-string';\n\n\nconst Finder = ({query = {}, ...props}) => {\n\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getAppLayout(\"finder\"))\n    }, [])\n\n    const app = useSelector(state => state.app)\n    const menuByUrl = app && app.menuByUrl\n\n    const { pathname } = props.location\n\n    useEffect(() => {\n        menuByUrl && dispatch(getParents({menuByUrl, pathname: pathname}))\n    }, [menuByUrl, pathname])\n\n    // set query\n\n    const sq = props.location.search && qs.parse(props.location.search)\n\n    query = {\n        ...query,\n        id: pathname,\n        collectionId: app && app.collectionId,\n        page: sq.page || 1,\n        rows: sq.rows || 10,\n        sort: sq.sort || query.sort || undefined,\n        fl: \"uniqueId,title,imageUrl,documentType,mediaType,mediaWidth,mediaHeight\",\n        q: sq.q || undefined,\n    };\n\n    return (\n        <FinderLayout\n            parents={app && app.parents}>\n            <FinderQuery {...props} query={query} />\n        </FinderLayout>\n    )\n}\n\nexport default Finder"]},"metadata":{},"sourceType":"module"}