{"ast":null,"code":"function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useRef } from 'react';\nimport { Dropdown } from \"@kit-ui/core\";\nimport Button from '@material-ui/core/Button';\nimport _ from \"lodash\";\nimport GridSettingsList from \"./GridSettingsList\";\n\nvar getOptions = function getOptions(_ref) {\n  var _ref$options = _ref.options,\n      options = _ref$options === void 0 ? [] : _ref$options;\n  var _cols = 0,\n      _rows = 0,\n      _options = [],\n      _byValue = {};\n  options.map(function (item, index) {\n    if (typeof item === \"string\") {\n      item = {\n        label: item,\n        value: item\n      };\n    }\n\n    var size = item.value;\n    var grid = size.split(':');\n    var cols = grid[0] * 1;\n    var rows = grid[1] * 1;\n\n    if (cols > _cols) {\n      _cols = cols;\n    }\n\n    if (rows > _rows) {\n      _rows = rows;\n    }\n\n    item = _extends({}, item, {\n      order: cols * rows,\n      size: size,\n      cols: cols,\n      rows: rows\n    });\n\n    _options.push(item);\n\n    _byValue[item.value] = item;\n  });\n  _options = _.orderBy(_options, 'order', 'desc');\n  return {\n    byValue: _byValue,\n    options: _options,\n    cols: _cols,\n    rows: _rows\n  };\n};\n\nvar GridSettings = function GridSettings(_ref2) {\n  var _ref2$type = _ref2.type,\n      type = _ref2$type === void 0 ? \"grid\" : _ref2$type,\n      name = _ref2.name,\n      label = _ref2.label,\n      value = _ref2.value,\n      onChange = _ref2.onChange,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"type\", \"name\", \"label\", \"value\", \"onChange\"]);\n\n  var _useState = useState(false),\n      expanded = _useState[0],\n      setExpanded = _useState[1];\n\n  var anchorRef = useRef(null);\n\n  var _onToggle = function _onToggle(event) {\n    setExpanded(function (prevExpanded) {\n      return !prevExpanded;\n    });\n  };\n\n  var _onCollapse = function _onCollapse(event) {\n    setExpanded(false);\n  };\n\n  var _getOptions = getOptions(props),\n      options = _getOptions.options,\n      byValue = _getOptions.byValue,\n      cols = _getOptions.cols,\n      rows = _getOptions.rows;\n\n  var current = byValue[value] || options[0];\n\n  var onSelect = function onSelect(item) {\n    if (onChange) {\n      onChange(name, item.value);\n    }\n\n    setExpanded(false);\n  };\n\n  var onCollapse = function onCollapse() {\n    setExpanded(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    onClick: _onToggle,\n    ref: anchorRef\n  }, current.label), /*#__PURE__*/React.createElement(Dropdown, {\n    expanded: expanded,\n    anchorEl: anchorRef.current,\n    onClickAway: _onCollapse\n  }, /*#__PURE__*/React.createElement(GridSettingsList, {\n    value: current && current.value,\n    cols: cols,\n    rows: rows,\n    options: options,\n    onSelect: onSelect\n  })));\n};\n\nexport default GridSettings;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/admin/es/NavSettings/GridSettings.js"],"names":["_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","React","useState","useRef","Dropdown","Button","_","GridSettingsList","getOptions","_ref","_ref$options","options","_cols","_rows","_options","_byValue","map","item","index","label","value","size","grid","split","cols","rows","order","push","orderBy","byValue","GridSettings","_ref2","_ref2$type","type","name","onChange","props","_useState","expanded","setExpanded","anchorRef","_onToggle","event","prevExpanded","_onCollapse","_getOptions","current","onSelect","onCollapse","createElement","Fragment","variant","onClick","ref","anchorEl","onClickAway"],"mappings":"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","sourcesContent":["function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState, useRef } from 'react';\nimport { Dropdown } from \"@kit-ui/core\";\nimport Button from '@material-ui/core/Button';\nimport _ from \"lodash\";\nimport GridSettingsList from \"./GridSettingsList\";\n\nvar getOptions = function getOptions(_ref) {\n  var _ref$options = _ref.options,\n      options = _ref$options === void 0 ? [] : _ref$options;\n  var _cols = 0,\n      _rows = 0,\n      _options = [],\n      _byValue = {};\n  options.map(function (item, index) {\n    if (typeof item === \"string\") {\n      item = {\n        label: item,\n        value: item\n      };\n    }\n\n    var size = item.value;\n    var grid = size.split(':');\n    var cols = grid[0] * 1;\n    var rows = grid[1] * 1;\n\n    if (cols > _cols) {\n      _cols = cols;\n    }\n\n    if (rows > _rows) {\n      _rows = rows;\n    }\n\n    item = _extends({}, item, {\n      order: cols * rows,\n      size: size,\n      cols: cols,\n      rows: rows\n    });\n\n    _options.push(item);\n\n    _byValue[item.value] = item;\n  });\n  _options = _.orderBy(_options, 'order', 'desc');\n  return {\n    byValue: _byValue,\n    options: _options,\n    cols: _cols,\n    rows: _rows\n  };\n};\n\nvar GridSettings = function GridSettings(_ref2) {\n  var _ref2$type = _ref2.type,\n      type = _ref2$type === void 0 ? \"grid\" : _ref2$type,\n      name = _ref2.name,\n      label = _ref2.label,\n      value = _ref2.value,\n      onChange = _ref2.onChange,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"type\", \"name\", \"label\", \"value\", \"onChange\"]);\n\n  var _useState = useState(false),\n      expanded = _useState[0],\n      setExpanded = _useState[1];\n\n  var anchorRef = useRef(null);\n\n  var _onToggle = function _onToggle(event) {\n    setExpanded(function (prevExpanded) {\n      return !prevExpanded;\n    });\n  };\n\n  var _onCollapse = function _onCollapse(event) {\n    setExpanded(false);\n  };\n\n  var _getOptions = getOptions(props),\n      options = _getOptions.options,\n      byValue = _getOptions.byValue,\n      cols = _getOptions.cols,\n      rows = _getOptions.rows;\n\n  var current = byValue[value] || options[0];\n\n  var onSelect = function onSelect(item) {\n    if (onChange) {\n      onChange(name, item.value);\n    }\n\n    setExpanded(false);\n  };\n\n  var onCollapse = function onCollapse() {\n    setExpanded(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    onClick: _onToggle,\n    ref: anchorRef\n  }, current.label), /*#__PURE__*/React.createElement(Dropdown, {\n    expanded: expanded,\n    anchorEl: anchorRef.current,\n    onClickAway: _onCollapse\n  }, /*#__PURE__*/React.createElement(GridSettingsList, {\n    value: current && current.value,\n    cols: cols,\n    rows: rows,\n    options: options,\n    onSelect: onSelect\n  })));\n};\n\nexport default GridSettings;"]},"metadata":{},"sourceType":"module"}