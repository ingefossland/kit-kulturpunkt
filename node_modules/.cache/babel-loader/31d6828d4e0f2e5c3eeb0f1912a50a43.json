{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport { getArrayButtons, getUiToolbar, getUiOptions } from '../utils';\nimport { sortableContainer, sortableElement, sortableHandle } from 'react-sortable-hoc';\nimport IconButton from '@material-ui/core/IconButton';\nimport SortableIcon from '@material-ui/icons/DragHandle';\nimport arrayMove from \"array-move\";\nvar SortableHandle = sortableHandle(function () {\n  return /*#__PURE__*/React.createElement(IconButton, null, /*#__PURE__*/React.createElement(SortableIcon, null));\n});\nvar SortableItem = sortableElement(function (_ref) {\n  var props = _ref.props,\n      sortIndex = _ref.sortIndex,\n      item = _objectWithoutPropertiesLoose(_ref, [\"props\", \"sortIndex\"]);\n\n  item = _extends({}, item, {\n    index: sortIndex\n  });\n  var _item = item,\n      hasToolbar = _item.hasToolbar,\n      hasMoveUp = _item.hasMoveUp,\n      hasMoveDown = _item.hasMoveDown,\n      hasRemove = _item.hasRemove;\n  var _item2 = item,\n      onAddIndexClick = _item2.onAddIndexClick,\n      onDropIndexClick = _item2.onDropIndexClick,\n      onReorderClick = _item2.onReorderClick;\n  var itemUiSchema = item.children.props && item.children.props.uiSchema || {};\n\n  var uiSchema = _extends({}, itemUiSchema, {\n    \"ui:removable\": hasRemove\n  });\n\n  var itemProps = _extends({}, item.children.props, {\n    formContext: props.formContext,\n    hasToolbar: hasToolbar,\n    hasMoveUp: false,\n    hasMoveDown: false,\n    hasRemove: hasRemove,\n    onAddIndexClick: onAddIndexClick,\n    onDropIndexClick: onDropIndexClick,\n    onReorderClick: onReorderClick\n  });\n\n  var uiOptions = getUiOptions(uiSchema || {});\n  var uiToolbar = getUiToolbar(_extends({}, itemProps, {\n    \"uiSchema\": uiSchema\n  }));\n  var ArrayItemLayout = props.registry.fields.ArrayItemLayout;\n  var arrayItem = React.cloneElement(item.children, _extends({}, itemProps, {\n    uiSchema: _extends({}, uiSchema, {\n      \"ui:sortableHandle\": /*#__PURE__*/React.createElement(SortableHandle, null),\n      \"ui:startAdornment\": /*#__PURE__*/React.createElement(SortableHandle, null),\n      \"ui:toolbar\": uiToolbar,\n      \"ui:layout\": uiOptions.layout || ArrayItemLayout\n    })\n  }));\n  return arrayItem;\n});\nvar SortableList = sortableContainer(function (_ref2) {\n  var _ref2$items = _ref2.items,\n      items = _ref2$items === void 0 ? [] : _ref2$items,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"items\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: \"array-item-list-\" + props.idSchema.$id\n  }, items.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(SortableItem, _extends({\n      key: \"item-\" + index,\n      sortIndex: index\n    }, item, {\n      props: props\n    }));\n  }));\n});\n\nvar SortableArrayFieldTemplate = function SortableArrayFieldTemplate(props) {\n  var formData = props.formData,\n      onChange = props.onChange;\n\n  var _onSortEnd = function _onSortEnd(_ref3) {\n    var oldIndex = _ref3.oldIndex,\n        newIndex = _ref3.newIndex;\n    var newFormData = arrayMove(formData, oldIndex, newIndex);\n    onChange(newFormData);\n  };\n\n  var uiOptions = getUiOptions(props.uiSchema || {});\n  var _props$registry$field = props.registry.fields,\n      LayoutField = _props$registry$field.LayoutField,\n      ArrayLayout = _props$registry$field.ArrayLayout;\n\n  var uiSchema = _extends({}, props.uiSchema, {\n    \"ui:buttons\": getArrayButtons(props),\n    \"ui:layout\": uiOptions.layout || ArrayLayout\n  });\n\n  return /*#__PURE__*/React.createElement(LayoutField, _extends({}, props, {\n    uiSchema: uiSchema\n  }), /*#__PURE__*/React.createElement(SortableList, _extends({}, props, {\n    onSortEnd: _onSortEnd,\n    helperClass: \"sortable-helper\",\n    useDragHandle: true\n  })));\n};\n\nexport default SortableArrayFieldTemplate;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/es/ArrayField/SortableArrayFieldTemplate.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","getArrayButtons","getUiToolbar","getUiOptions","sortableContainer","sortableElement","sortableHandle","IconButton","SortableIcon","arrayMove","SortableHandle","createElement","SortableItem","_ref","props","sortIndex","item","index","_item","hasToolbar","hasMoveUp","hasMoveDown","hasRemove","_item2","onAddIndexClick","onDropIndexClick","onReorderClick","itemUiSchema","children","uiSchema","itemProps","formContext","uiOptions","uiToolbar","ArrayItemLayout","registry","fields","arrayItem","cloneElement","layout","SortableList","_ref2","_ref2$items","items","idSchema","$id","map","SortableArrayFieldTemplate","formData","onChange","_onSortEnd","_ref3","oldIndex","newIndex","newFormData","_props$registry$field","LayoutField","ArrayLayout","onSortEnd","helperClass","useDragHandle"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport { getArrayButtons, getUiToolbar, getUiOptions } from '../utils';\nimport { sortableContainer, sortableElement, sortableHandle } from 'react-sortable-hoc';\nimport IconButton from '@material-ui/core/IconButton';\nimport SortableIcon from '@material-ui/icons/DragHandle';\nimport arrayMove from \"array-move\";\nvar SortableHandle = sortableHandle(function () {\n  return /*#__PURE__*/React.createElement(IconButton, null, /*#__PURE__*/React.createElement(SortableIcon, null));\n});\nvar SortableItem = sortableElement(function (_ref) {\n  var props = _ref.props,\n      sortIndex = _ref.sortIndex,\n      item = _objectWithoutPropertiesLoose(_ref, [\"props\", \"sortIndex\"]);\n\n  item = _extends({}, item, {\n    index: sortIndex\n  });\n  var _item = item,\n      hasToolbar = _item.hasToolbar,\n      hasMoveUp = _item.hasMoveUp,\n      hasMoveDown = _item.hasMoveDown,\n      hasRemove = _item.hasRemove;\n  var _item2 = item,\n      onAddIndexClick = _item2.onAddIndexClick,\n      onDropIndexClick = _item2.onDropIndexClick,\n      onReorderClick = _item2.onReorderClick;\n  var itemUiSchema = item.children.props && item.children.props.uiSchema || {};\n\n  var uiSchema = _extends({}, itemUiSchema, {\n    \"ui:removable\": hasRemove\n  });\n\n  var itemProps = _extends({}, item.children.props, {\n    formContext: props.formContext,\n    hasToolbar: hasToolbar,\n    hasMoveUp: false,\n    hasMoveDown: false,\n    hasRemove: hasRemove,\n    onAddIndexClick: onAddIndexClick,\n    onDropIndexClick: onDropIndexClick,\n    onReorderClick: onReorderClick\n  });\n\n  var uiOptions = getUiOptions(uiSchema || {});\n  var uiToolbar = getUiToolbar(_extends({}, itemProps, {\n    \"uiSchema\": uiSchema\n  }));\n  var ArrayItemLayout = props.registry.fields.ArrayItemLayout;\n  var arrayItem = React.cloneElement(item.children, _extends({}, itemProps, {\n    uiSchema: _extends({}, uiSchema, {\n      \"ui:sortableHandle\": /*#__PURE__*/React.createElement(SortableHandle, null),\n      \"ui:startAdornment\": /*#__PURE__*/React.createElement(SortableHandle, null),\n      \"ui:toolbar\": uiToolbar,\n      \"ui:layout\": uiOptions.layout || ArrayItemLayout\n    })\n  }));\n  return arrayItem;\n});\nvar SortableList = sortableContainer(function (_ref2) {\n  var _ref2$items = _ref2.items,\n      items = _ref2$items === void 0 ? [] : _ref2$items,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"items\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: \"array-item-list-\" + props.idSchema.$id\n  }, items.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(SortableItem, _extends({\n      key: \"item-\" + index,\n      sortIndex: index\n    }, item, {\n      props: props\n    }));\n  }));\n});\n\nvar SortableArrayFieldTemplate = function SortableArrayFieldTemplate(props) {\n  var formData = props.formData,\n      onChange = props.onChange;\n\n  var _onSortEnd = function _onSortEnd(_ref3) {\n    var oldIndex = _ref3.oldIndex,\n        newIndex = _ref3.newIndex;\n    var newFormData = arrayMove(formData, oldIndex, newIndex);\n    onChange(newFormData);\n  };\n\n  var uiOptions = getUiOptions(props.uiSchema || {});\n  var _props$registry$field = props.registry.fields,\n      LayoutField = _props$registry$field.LayoutField,\n      ArrayLayout = _props$registry$field.ArrayLayout;\n\n  var uiSchema = _extends({}, props.uiSchema, {\n    \"ui:buttons\": getArrayButtons(props),\n    \"ui:layout\": uiOptions.layout || ArrayLayout\n  });\n\n  return /*#__PURE__*/React.createElement(LayoutField, _extends({}, props, {\n    uiSchema: uiSchema\n  }), /*#__PURE__*/React.createElement(SortableList, _extends({}, props, {\n    onSortEnd: _onSortEnd,\n    helperClass: \"sortable-helper\",\n    useDragHandle: true\n  })));\n};\n\nexport default SortableArrayFieldTemplate;"]},"metadata":{},"sourceType":"module"}