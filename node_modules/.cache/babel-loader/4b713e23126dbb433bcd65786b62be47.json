{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"../utils\");\n\nvar _LocalizedStringLayout = _interopRequireDefault(require(\"./LocalizedStringLayout\"));\n\nvar _LocalizedStringSettings = _interopRequireDefault(require(\"./LocalizedStringSettings\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n/** Localized string  */\n\n\nvar LocalizedStringField = function LocalizedStringField(props) {\n  var schema = props.schema,\n      uiSchema = props.uiSchema,\n      formContext = props.formContext;\n  var uiOptions = (0, _utils.getUiOptions)(uiSchema);\n  var languages = formContext.languages || [\"en\"];\n  var defaultLocale = formContext.defaultLocale || languages[0];\n  var currentLocale = formContext.currentLocale || defaultLocale;\n\n  var getUiSchema = function getUiSchema() {\n    var localizedUiSchema = {\n      \"ui:fieldset\": [\"locale:\" + currentLocale]\n    };\n    Object.keys(schema.properties).map(function (name) {\n      var localeProps = name.split(':');\n      var locale = localeProps[1];\n      var title = uiOptions.title && uiOptions.title + \":\" + locale;\n      var help = uiOptions.help;\n      localizedUiSchema[name] = {\n        \"ui:options\": {\n          \"placeholder\": uiOptions.placeholder,\n          \"widget\": uiOptions.widget || \"text\",\n          \"title\": title,\n          \"language\": locale,\n          \"help\": help,\n          \"endAdornment\": /*#__PURE__*/_react.default.createElement(_LocalizedStringSettings.default, props)\n        }\n      };\n    });\n    return _extends({}, localizedUiSchema, {\n      \"ui:layout\": _LocalizedStringLayout.default,\n      \"ui:collapsible\": true,\n      \"ui:expanded\": false\n    });\n  };\n\n  var ObjectField = props.registry.fields.ObjectField;\n  var newUiSchema = getUiSchema();\n  return /*#__PURE__*/_react.default.createElement(ObjectField, _extends({}, props, {\n    uiSchema: newUiSchema\n  }));\n};\n\nvar _default = LocalizedStringField;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/lib/LocalizedString/LocalizedStringField.js"],"names":["exports","__esModule","default","_react","_interopRequireWildcard","require","_utils","_LocalizedStringLayout","_interopRequireDefault","_LocalizedStringSettings","obj","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","LocalizedStringField","props","schema","uiSchema","formContext","uiOptions","getUiOptions","languages","defaultLocale","currentLocale","getUiSchema","localizedUiSchema","keys","properties","map","name","localeProps","split","locale","title","help","placeholder","widget","createElement","ObjectField","registry","fields","newUiSchema","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"../utils\");\n\nvar _LocalizedStringLayout = _interopRequireDefault(require(\"./LocalizedStringLayout\"));\n\nvar _LocalizedStringSettings = _interopRequireDefault(require(\"./LocalizedStringSettings\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/** Localized string  */\nvar LocalizedStringField = function LocalizedStringField(props) {\n  var schema = props.schema,\n      uiSchema = props.uiSchema,\n      formContext = props.formContext;\n  var uiOptions = (0, _utils.getUiOptions)(uiSchema);\n  var languages = formContext.languages || [\"en\"];\n  var defaultLocale = formContext.defaultLocale || languages[0];\n  var currentLocale = formContext.currentLocale || defaultLocale;\n\n  var getUiSchema = function getUiSchema() {\n    var localizedUiSchema = {\n      \"ui:fieldset\": [\"locale:\" + currentLocale]\n    };\n    Object.keys(schema.properties).map(function (name) {\n      var localeProps = name.split(':');\n      var locale = localeProps[1];\n      var title = uiOptions.title && uiOptions.title + \":\" + locale;\n      var help = uiOptions.help;\n      localizedUiSchema[name] = {\n        \"ui:options\": {\n          \"placeholder\": uiOptions.placeholder,\n          \"widget\": uiOptions.widget || \"text\",\n          \"title\": title,\n          \"language\": locale,\n          \"help\": help,\n          \"endAdornment\": /*#__PURE__*/_react.default.createElement(_LocalizedStringSettings.default, props)\n        }\n      };\n    });\n    return _extends({}, localizedUiSchema, {\n      \"ui:layout\": _LocalizedStringLayout.default,\n      \"ui:collapsible\": true,\n      \"ui:expanded\": false\n    });\n  };\n\n  var ObjectField = props.registry.fields.ObjectField;\n  var newUiSchema = getUiSchema();\n  return /*#__PURE__*/_react.default.createElement(ObjectField, _extends({}, props, {\n    uiSchema: newUiSchema\n  }));\n};\n\nvar _default = LocalizedStringField;\nexports.default = _default;\nmodule.exports = exports.default;"]},"metadata":{},"sourceType":"script"}