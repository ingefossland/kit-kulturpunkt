{"ast":null,"code":"import moment from 'moment';\nexport const getICalEvent = ({\n  start,\n  end,\n  ...vEvent\n}) => {\n  const {\n    UID,\n    SUMMARY,\n    DESCRIPTION,\n    LOCATION,\n    DTSTART,\n    DTEND\n  } = vEvent;\n  const allDay = DTSTART && DTSTART.length === 8;\n\n  if (!start) {\n    start = DTSTART;\n  }\n\n  if (!end) {\n    end = DTEND;\n  }\n\n  let dt;\n\n  if (allDay) {\n    start = moment(start).format(\"YYYY-MM-DD\");\n    end = moment(end).format(\"YYYY-MM-DD\");\n  } else {\n    start = moment(start).format(\"YYYY-MM-DDTHH:mm\");\n    end = moment(end).format(\"YYYY-MM-DDTHH:mm\"); //        start = moment(start).format(\"YYYY-MM-DD\") + \"T\" + moment(DTSTART).format(\"HH:mm\");\n    //        end = moment(end).format(\"YYYY-MM-DD\") + \"T\" +  moment(DTEND).format(\"HH:mm\");\n  }\n\n  const date = moment(start).format(\"YYYY-MM-DD\");\n  const startTime = start && moment(start).format(\"HH:mm\");\n  const endTime = end && moment(end).format(\"HH:mm\");\n  const time = allDay && \"Hele dagen\" || startTime !== endTime && startTime + \"–\" + endTime || startTime;\n  return { ...vEvent,\n    id: UID,\n    uniqueId: UID,\n    date: date,\n    time: time,\n    dt: start,\n    title: SUMMARY,\n    description: DESCRIPTION,\n    location: LOCATION,\n    allDay: allDay,\n    start: start,\n    end: end\n  };\n};\nexport default getICalEvent;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/utils/getICalEvent.js"],"names":["moment","getICalEvent","start","end","vEvent","UID","SUMMARY","DESCRIPTION","LOCATION","DTSTART","DTEND","allDay","length","dt","format","date","startTime","endTime","time","id","uniqueId","title","description","location"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA,KAAD;AAAQC,EAAAA,GAAR;AAAa,KAAGC;AAAhB,CAAD,KAA6B;AACrD,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA,WAAhB;AAA6BC,IAAAA,QAA7B;AAAuCC,IAAAA,OAAvC;AAAgDC,IAAAA;AAAhD,MAA0DN,MAAhE;AAEA,QAAMO,MAAM,GAAGF,OAAO,IAAIA,OAAO,CAACG,MAAR,KAAmB,CAA7C;;AAEA,MAAI,CAACV,KAAL,EAAY;AACRA,IAAAA,KAAK,GAAGO,OAAR;AACH;;AAED,MAAI,CAACN,GAAL,EAAU;AACNA,IAAAA,GAAG,GAAGO,KAAN;AACH;;AAED,MAAIG,EAAJ;;AAEA,MAAIF,MAAJ,EAAY;AACRT,IAAAA,KAAK,GAAGF,MAAM,CAACE,KAAD,CAAN,CAAcY,MAAd,CAAqB,YAArB,CAAR;AACAX,IAAAA,GAAG,GAAGH,MAAM,CAACG,GAAD,CAAN,CAAYW,MAAZ,CAAmB,YAAnB,CAAN;AACH,GAHD,MAGO;AACHZ,IAAAA,KAAK,GAAGF,MAAM,CAACE,KAAD,CAAN,CAAcY,MAAd,CAAqB,kBAArB,CAAR;AACAX,IAAAA,GAAG,GAAGH,MAAM,CAACG,GAAD,CAAN,CAAYW,MAAZ,CAAmB,kBAAnB,CAAN,CAFG,CAGX;AACA;AACK;;AAED,QAAMC,IAAI,GAAGf,MAAM,CAACE,KAAD,CAAN,CAAcY,MAAd,CAAqB,YAArB,CAAb;AAEA,QAAME,SAAS,GAAGd,KAAK,IAAIF,MAAM,CAACE,KAAD,CAAN,CAAcY,MAAd,CAAqB,OAArB,CAA3B;AACA,QAAMG,OAAO,GAAGd,GAAG,IAAIH,MAAM,CAACG,GAAD,CAAN,CAAYW,MAAZ,CAAmB,OAAnB,CAAvB;AAEA,QAAMI,IAAI,GAAGP,MAAM,IAAI,YAAV,IAA0BK,SAAS,KAAKC,OAAd,IAAyBD,SAAS,GAAG,GAAZ,GAAkBC,OAArE,IAAgFD,SAA7F;AAGA,SAAO,EACH,GAAGZ,MADA;AAEHe,IAAAA,EAAE,EAAEd,GAFD;AAGHe,IAAAA,QAAQ,EAAEf,GAHP;AAIHU,IAAAA,IAAI,EAAEA,IAJH;AAKHG,IAAAA,IAAI,EAAEA,IALH;AAMHL,IAAAA,EAAE,EAAEX,KAND;AAOHmB,IAAAA,KAAK,EAAEf,OAPJ;AAQHgB,IAAAA,WAAW,EAAEf,WARV;AASHgB,IAAAA,QAAQ,EAAEf,QATP;AAUHG,IAAAA,MAAM,EAAEA,MAVL;AAWHT,IAAAA,KAAK,EAAEA,KAXJ;AAYHC,IAAAA,GAAG,EAAEA;AAZF,GAAP;AAgBH,CAjDM;AAmDP,eAAeF,YAAf","sourcesContent":["import moment from 'moment';\n\nexport const getICalEvent = ({start, end, ...vEvent}) => {\n    const { UID, SUMMARY, DESCRIPTION, LOCATION, DTSTART, DTEND } = vEvent\n\n    const allDay = DTSTART && DTSTART.length === 8\n\n    if (!start) {\n        start = DTSTART\n    }\n\n    if (!end) {\n        end = DTEND\n    }\n\n    let dt\n\n    if (allDay) {\n        start = moment(start).format(\"YYYY-MM-DD\")\n        end = moment(end).format(\"YYYY-MM-DD\")\n    } else {\n        start = moment(start).format(\"YYYY-MM-DDTHH:mm\")\n        end = moment(end).format(\"YYYY-MM-DDTHH:mm\")\n//        start = moment(start).format(\"YYYY-MM-DD\") + \"T\" + moment(DTSTART).format(\"HH:mm\");\n//        end = moment(end).format(\"YYYY-MM-DD\") + \"T\" +  moment(DTEND).format(\"HH:mm\");\n    }\n\n    const date = moment(start).format(\"YYYY-MM-DD\")\n\n    const startTime = start && moment(start).format(\"HH:mm\");\n    const endTime = end && moment(end).format(\"HH:mm\");\n\n    const time = allDay && \"Hele dagen\" || startTime !== endTime && startTime + \"–\" + endTime || startTime\n\n    \n    return {\n        ...vEvent,\n        id: UID,\n        uniqueId: UID,\n        date: date,\n        time: time,\n        dt: start,\n        title: SUMMARY,\n        description: DESCRIPTION,\n        location: LOCATION,\n        allDay: allDay,\n        start: start,\n        end: end\n\n    }\n\n}\n\nexport default getICalEvent"]},"metadata":{},"sourceType":"module"}