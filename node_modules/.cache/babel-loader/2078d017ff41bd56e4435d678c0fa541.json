{"ast":null,"code":"function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getDefaultFormState } from \"../utils/\";\n/** SchemaDialog example */\n\nvar SchemaDialog = function SchemaDialog(_ref) {\n  var _ref$schema = _ref.schema,\n      schema = _ref$schema === void 0 ? {} : _ref$schema,\n      _ref$uiSchema = _ref.uiSchema,\n      uiSchema = _ref$uiSchema === void 0 ? {} : _ref$uiSchema,\n      onChange = _ref.onChange,\n      onClose = _ref.onClose,\n      props = _objectWithoutPropertiesLoose(_ref, [\"schema\", \"uiSchema\", \"onChange\", \"onClose\"]);\n\n  var _useState = useState(props.formData),\n      formData = _useState[0],\n      setFormData = _useState[1];\n\n  useEffect(function () {\n    setFormData(props.formData);\n  }, [props.formData]);\n  var itemSchema;\n\n  if (schema.type && schema.type === \"array\") {\n    itemSchema = schema.items;\n  } else {\n    itemSchema = schema;\n  }\n\n  var dialogType;\n\n  if (itemSchema && itemSchema.properties && itemSchema.properties.mediaId) {\n    dialogType = \"media\";\n  }\n\n  if (itemSchema && itemSchema.properties && itemSchema.properties.referenceId) {\n    dialogType = \"reference\";\n  }\n\n  var _onChange = function _onChange(formData) {\n    var newFormData = getDefaultFormState(schema, formData);\n    setFormData(newFormData);\n    onChange(newFormData);\n  };\n\n  var _onAdd = function _onAdd() {\n    var item;\n\n    if (dialogType === \"media\") {\n      item = getDefaultFormState(itemSchema, {\n        mediaId: 1,\n        media: {\n          imageUrl: \"https://akamai.vgc.no/drfront/images/2020/10/28/w=1080;h=720;564623.jpg\"\n        }\n      });\n    } else if (itemSchema.type === \"object\") {\n      item = getDefaultFormState(itemSchema, {\n        title: \"Dialog addded\"\n      });\n    } else {\n      item = \"Dialog string\";\n    }\n\n    var newFormData;\n\n    if (schema.type === \"array\") {\n      newFormData = [].concat(formData, item);\n    } else {\n      newFormData = item;\n    }\n\n    _onChange(newFormData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", null, \"Example dialog.\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: _onAdd\n  }, \"Add dummy data\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onClose\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Dialog type: \", dialogType), /*#__PURE__*/React.createElement(\"li\", null, \"ItemSchema: \", JSON.stringify(itemSchema))));\n};\n\nSchemaDialog.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** onClose */\n  onClose: PropTypes.func\n} : {};\nexport default SchemaDialog;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/es/SchemaEditor/SchemaDialog.js"],"names":["_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","React","useState","useEffect","PropTypes","getDefaultFormState","SchemaDialog","_ref","_ref$schema","schema","_ref$uiSchema","uiSchema","onChange","onClose","props","_useState","formData","setFormData","itemSchema","type","items","dialogType","properties","mediaId","referenceId","_onChange","newFormData","_onAdd","item","media","imageUrl","title","concat","createElement","onClick","JSON","stringify","propTypes","process","env","NODE_ENV","func"],"mappings":"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","sourcesContent":["function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getDefaultFormState } from \"../utils/\";\n/** SchemaDialog example */\n\nvar SchemaDialog = function SchemaDialog(_ref) {\n  var _ref$schema = _ref.schema,\n      schema = _ref$schema === void 0 ? {} : _ref$schema,\n      _ref$uiSchema = _ref.uiSchema,\n      uiSchema = _ref$uiSchema === void 0 ? {} : _ref$uiSchema,\n      onChange = _ref.onChange,\n      onClose = _ref.onClose,\n      props = _objectWithoutPropertiesLoose(_ref, [\"schema\", \"uiSchema\", \"onChange\", \"onClose\"]);\n\n  var _useState = useState(props.formData),\n      formData = _useState[0],\n      setFormData = _useState[1];\n\n  useEffect(function () {\n    setFormData(props.formData);\n  }, [props.formData]);\n  var itemSchema;\n\n  if (schema.type && schema.type === \"array\") {\n    itemSchema = schema.items;\n  } else {\n    itemSchema = schema;\n  }\n\n  var dialogType;\n\n  if (itemSchema && itemSchema.properties && itemSchema.properties.mediaId) {\n    dialogType = \"media\";\n  }\n\n  if (itemSchema && itemSchema.properties && itemSchema.properties.referenceId) {\n    dialogType = \"reference\";\n  }\n\n  var _onChange = function _onChange(formData) {\n    var newFormData = getDefaultFormState(schema, formData);\n    setFormData(newFormData);\n    onChange(newFormData);\n  };\n\n  var _onAdd = function _onAdd() {\n    var item;\n\n    if (dialogType === \"media\") {\n      item = getDefaultFormState(itemSchema, {\n        mediaId: 1,\n        media: {\n          imageUrl: \"https://akamai.vgc.no/drfront/images/2020/10/28/w=1080;h=720;564623.jpg\"\n        }\n      });\n    } else if (itemSchema.type === \"object\") {\n      item = getDefaultFormState(itemSchema, {\n        title: \"Dialog addded\"\n      });\n    } else {\n      item = \"Dialog string\";\n    }\n\n    var newFormData;\n\n    if (schema.type === \"array\") {\n      newFormData = [].concat(formData, item);\n    } else {\n      newFormData = item;\n    }\n\n    _onChange(newFormData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", null, \"Example dialog.\", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: _onAdd\n  }, \"Add dummy data\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onClose\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"Dialog type: \", dialogType), /*#__PURE__*/React.createElement(\"li\", null, \"ItemSchema: \", JSON.stringify(itemSchema))));\n};\n\nSchemaDialog.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /** onClose */\n  onClose: PropTypes.func\n} : {};\nexport default SchemaDialog;"]},"metadata":{},"sourceType":"module"}