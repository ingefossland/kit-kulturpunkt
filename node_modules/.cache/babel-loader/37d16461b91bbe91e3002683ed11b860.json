{"ast":null,"code":"import moment from \"moment\";\nimport _ from \"lodash\";\nexport const getCheckoutCalendar = ({\n  calendar = {},\n  location,\n  statusById = {},\n  statusByDate = {},\n  query = {}\n}) => {\n  const {\n    date,\n    days\n  } = query;\n  let byId = {};\n  calendar.items = calendar.items.map((item, index) => {\n    const id = item.id;\n    const status = statusByDate && statusByDate[item.date] || statusById && statusById[id];\n    const endDate = date && days > 1 && moment(date).add(days, \"days\");\n    const selected = moment(item.date).isSame(date, 'day') || days > 1 && moment(item.date).isBetween(date, endDate);\n    item = { ...item,\n      ...status,\n      location: item.location || location,\n      selected: selected\n    };\n    byId[id] = item;\n    return item;\n  });\n  return { ...calendar,\n    byId: byId\n  };\n};","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/utils/getCheckoutCalendar.js"],"names":["moment","_","getCheckoutCalendar","calendar","location","statusById","statusByDate","query","date","days","byId","items","map","item","index","id","status","endDate","add","selected","isSame","isBetween"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAO,MAAMC,mBAAmB,GAAG,CAAC;AAACC,EAAAA,QAAQ,GAAG,EAAZ;AAAgBC,EAAAA,QAAhB;AAA0BC,EAAAA,UAAU,GAAG,EAAvC;AAA2CC,EAAAA,YAAY,GAAG,EAA1D;AAA8DC,EAAAA,KAAK,GAAG;AAAtE,CAAD,KAA+E;AAE9G,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAiBF,KAAvB;AAEA,MAAIG,IAAI,GAAG,EAAX;AAEAP,EAAAA,QAAQ,CAACQ,KAAT,GAAiBR,QAAQ,CAACQ,KAAT,CAAeC,GAAf,CAAmB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACjD,UAAMC,EAAE,GAAGF,IAAI,CAACE,EAAhB;AACA,UAAMC,MAAM,GAAGV,YAAY,IAAIA,YAAY,CAACO,IAAI,CAACL,IAAN,CAA5B,IAA2CH,UAAU,IAAIA,UAAU,CAACU,EAAD,CAAlF;AAEA,UAAME,OAAO,GAAGT,IAAI,IAAIC,IAAI,GAAG,CAAf,IAAoBT,MAAM,CAACQ,IAAD,CAAN,CAAaU,GAAb,CAAiBT,IAAjB,EAAuB,MAAvB,CAApC;AACA,UAAMU,QAAQ,GAAGnB,MAAM,CAACa,IAAI,CAACL,IAAN,CAAN,CAAkBY,MAAlB,CAAyBZ,IAAzB,EAA+B,KAA/B,KAAyCC,IAAI,GAAG,CAAP,IAAYT,MAAM,CAACa,IAAI,CAACL,IAAN,CAAN,CAAkBa,SAAlB,CAA4Bb,IAA5B,EAAkCS,OAAlC,CAAtE;AAEAJ,IAAAA,IAAI,GAAG,EACH,GAAGA,IADA;AAEH,SAAGG,MAFA;AAGHZ,MAAAA,QAAQ,EAAES,IAAI,CAACT,QAAL,IAAiBA,QAHxB;AAIHe,MAAAA,QAAQ,EAAEA;AAJP,KAAP;AAOAT,IAAAA,IAAI,CAACK,EAAD,CAAJ,GAAWF,IAAX;AAEA,WAAOA,IAAP;AAEH,GAlBgB,CAAjB;AAoBA,SAAO,EACH,GAAGV,QADA;AAEHO,IAAAA,IAAI,EAAEA;AAFH,GAAP;AAKH,CA/BM","sourcesContent":["import moment from \"moment\"\nimport _ from \"lodash\"\n\nexport const getCheckoutCalendar = ({calendar = {}, location, statusById = {}, statusByDate = {}, query = {}}) => {\n\n    const { date, days } = query\n\n    let byId = {}\n   \n    calendar.items = calendar.items.map((item, index) => {\n        const id = item.id;\n        const status = statusByDate && statusByDate[item.date] || statusById && statusById[id]\n\n        const endDate = date && days > 1 && moment(date).add(days, \"days\")\n        const selected = moment(item.date).isSame(date, 'day') || days > 1 && moment(item.date).isBetween(date, endDate) \n\n        item = {\n            ...item,\n            ...status,\n            location: item.location || location,\n            selected: selected,\n        }\n\n        byId[id] = item\n\n        return item\n\n    })\n\n    return {\n        ...calendar,\n        byId: byId\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}