{"ast":null,"code":"export default {\n  \"ui:field\": \"kpLink\",\n  \"ui:layout\": \"module\",\n  \"ui:options\": {\n    \"editable\": true\n  },\n  \"ui:nav\": true,\n  \"ui:fieldset\": [\"content\"],\n  \"ui:preview\": {\n    \"select\": {\n      \"imageUrl\": \"imageUrl\",\n      \"typeLabel\": \"typeLabel\",\n      \"title\": \"title\",\n      \"metadata\": \"metadata\"\n    },\n\n    prepare({\n      formData,\n      formContext,\n      index\n    }) {\n      const {\n        mediaId,\n        media,\n        referenceId,\n        reference\n      } = formData;\n      const locale = formContext.currentLocale || formContext.defaultLocale;\n      const localeId = \"locale:\" + locale;\n      const title = formData.title && formData.title[localeId];\n      const imageUrl = media && media.imageUrl || reference && reference.imageUrl;\n      const typeLabel = referenceId && reference && reference.documentType;\n      let metadata = [];\n      referenceId && reference && reference.title && metadata.push(reference.title);\n      return {\n        imageUrl: imageUrl,\n        typeLabel: typeLabel,\n        title: title || referenceId && reference && reference.title,\n        metadata: metadata\n      };\n    }\n\n  },\n  \"imageFilters\": {\n    \"ui:title\": \"Filters\",\n    \"ui:field\": \"imageFilters\"\n  },\n  \"imageCropdata\": {\n    \"ui:title\": \"Crop\",\n    \"ui:field\": \"imageCropdata\"\n  },\n  \"imageFocalpoint\": {\n    \"ui:title\": \"Fokuspunkt\",\n    \"ui:field\": \"imageFocalpoint\"\n  },\n  \"content\": {\n    \"ui:title\": \"Innhold\",\n    \"ui:layout\": \"kioskLink\",\n    \"ui:fieldset\": [\"linkMedia\", \"linkContent\", \"linkReference\"],\n    \"ui:options\": {\n      \"padding\": 2,\n      \"spacing\": 2\n    },\n    \"linkMedia\": {\n      \"ui:fieldset\": [\"mediaId\", \"media\"],\n      \"ui:sidebar\": {\n        \"query\": {\n          \"models\": \"media\",\n          \"mediaType\": \"image\"\n        }\n      },\n      \"ui:layout\": \"kioskLinkMedia\",\n      \"ui:buttons\": [\"sidebar\"]\n    },\n    \"linkReference\": {\n      \"ui:fieldset\": [\"referenceId\", \"reference\"],\n      \"ui:sidebar\": {\n        \"query\": {\n          \"models\": \"documents\",\n          \"documentType\": [\"page*\", \"article\"]\n        }\n      },\n      \"ui:layout\": \"kioskLinkReference\",\n      \"ui:options\": {\n        \"editable\": true,\n        \"deletable\": true,\n        \"restorable\": true\n      }\n    },\n    \"linkContent\": {\n      \"ui:layout\": \"kioskLinkContent\",\n      \"ui:grid\": true,\n      \"ui:padding\": 2,\n      \"ui:spacing\": 2,\n      \"ui:fieldset\": [\"runningHead\", \"title\", \"description\"],\n      \"runningHead\": {\n        \"ui:title\": \"Stikktittel\"\n      },\n      \"title\": {\n        \"ui:title\": \"Tittel\"\n      },\n      \"description\": {\n        \"ui:title\": \"Beskrivelse\"\n      }\n    }\n  },\n  \"imageAnnotations\": {\n    \"ui:title\": \"Markør\",\n    \"ui:fieldset\": [\"coords\"],\n    \"coords\": {\n      \"ui:fieldset\": [\"x\", \"y\", \"top\", \"left\"],\n      \"ui:grid\": true,\n      \"ui:padding\": 2,\n      \"ui:spacing\": 2,\n      \"x\": {\n        \"ui:gridCols\": 6\n      },\n      \"y\": {\n        \"ui:gridCols\": 6\n      },\n      \"top\": {\n        \"ui:gridCols\": 6\n      },\n      \"left\": {\n        \"ui:gridCols\": 6\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/schemas/page/links/itemsUi.js"],"names":["prepare","formData","formContext","index","mediaId","media","referenceId","reference","locale","currentLocale","defaultLocale","localeId","title","imageUrl","typeLabel","documentType","metadata","push"],"mappings":"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","sourcesContent":["export default {\n    \"ui:field\": \"kpLink\",\n    \"ui:layout\": \"module\",\n    \"ui:options\": {\n        \"editable\": true\n    },\n    \"ui:nav\": true,\n    \"ui:fieldset\": [\n        \"content\",\n    ],\n    \"ui:preview\": {\n        \"select\": {\n            \"imageUrl\": \"imageUrl\",\n            \"typeLabel\": \"typeLabel\",\n            \"title\": \"title\",\n            \"metadata\": \"metadata\",\n        },\n        prepare({formData, formContext, index}) {\n            const { mediaId, media, referenceId, reference } = formData\n\n            const locale = formContext.currentLocale || formContext.defaultLocale;\n            const localeId = \"locale:\" + locale\n\n            const title = formData.title && formData.title[localeId] \n\n            const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n\n            const typeLabel = referenceId && reference && reference.documentType\n\n            let metadata = []\n\n            referenceId && reference && reference.title && metadata.push(reference.title)\n\n            return {\n                imageUrl: imageUrl,\n                typeLabel: typeLabel,\n                title: title || referenceId && reference && reference.title,\n                metadata: metadata,\n            }\n\n        }\n    },\n    \"imageFilters\": {\n        \"ui:title\": \"Filters\",\n        \"ui:field\": \"imageFilters\"\n    },\n    \"imageCropdata\": {\n        \"ui:title\": \"Crop\",\n        \"ui:field\": \"imageCropdata\"\n    },\n    \"imageFocalpoint\": {\n        \"ui:title\": \"Fokuspunkt\",\n        \"ui:field\": \"imageFocalpoint\"\n    },\n    \"content\": {\n        \"ui:title\": \"Innhold\",\n        \"ui:layout\": \"kioskLink\",\n        \"ui:fieldset\": [\n            \"linkMedia\",\n            \"linkContent\",\n            \"linkReference\",\n        ],\n        \"ui:options\": {\n            \"padding\": 2,\n            \"spacing\": 2\n        },\n        \"linkMedia\": {\n            \"ui:fieldset\": [\n                \"mediaId\",\n                \"media\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"media\",\n                    \"mediaType\": \"image\"\n                }\n            },\n            \"ui:layout\": \"kioskLinkMedia\",\n            \"ui:buttons\": [\n                \"sidebar\"\n            ],\n        },\n        \"linkReference\": {\n            \"ui:fieldset\": [\n                \"referenceId\",\n                \"reference\"\n            ],\n            \"ui:sidebar\": {\n                \"query\": {\n                    \"models\": \"documents\",\n                    \"documentType\": [\"page*\",\"article\"]\n                }\n            },\n            \"ui:layout\": \"kioskLinkReference\",\n            \"ui:options\": {\n                \"editable\": true,\n                \"deletable\": true,\n                \"restorable\": true\n            }\n        },\n        \"linkContent\": {\n            \"ui:layout\": \"kioskLinkContent\",\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"ui:fieldset\": [\n                \"runningHead\",\n                \"title\",\n                \"description\",\n            ],\n            \"runningHead\": {\n                \"ui:title\": \"Stikktittel\"\n            },\n            \"title\": {\n                \"ui:title\": \"Tittel\"\n            },\n            \"description\": {\n                \"ui:title\": \"Beskrivelse\",\n            },\n        },\n    },\n    \"imageAnnotations\": {\n        \"ui:title\": \"Markør\",\n        \"ui:fieldset\": [\n            \"coords\"\n        ],\n        \"coords\": {\n            \"ui:fieldset\": [\n                \"x\", \"y\", \"top\", \"left\"\n            ],\n            \"ui:grid\": true,\n            \"ui:padding\": 2,\n            \"ui:spacing\": 2,\n            \"x\": {\n                \"ui:gridCols\": 6\n            },\n            \"y\": {\n                \"ui:gridCols\": 6\n            },\n            \"top\": {\n                \"ui:gridCols\": 6\n            },\n            \"left\": {\n                \"ui:gridCols\": 6\n            }\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}