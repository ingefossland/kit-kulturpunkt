{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport IconButton from \"../IconButton\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as types from \"../../types\";\nimport { ADDITIONAL_PROPERTY_FLAG, isSelect, retrieveSchema, toIdSchema, getDefaultRegistry, mergeObjects, deepEquals, getSchemaType, getDisplayLabel } from \"../../utils\";\nvar REQUIRED_FIELD_SYMBOL = \"*\";\nvar COMPONENT_TYPES = {\n  array: \"ArrayField\",\n  \"boolean\": \"BooleanField\",\n  integer: \"NumberField\",\n  number: \"NumberField\",\n  object: \"ObjectField\",\n  string: \"StringField\",\n  \"null\": \"NullField\"\n};\n\nfunction getFieldComponent(schema, uiSchema, idSchema, fields) {\n  var field = uiSchema[\"ui:field\"];\n\n  if (typeof field === \"function\") {\n    return field;\n  }\n\n  if (typeof field === \"string\" && field in fields) {\n    return fields[field];\n  }\n\n  var componentName = COMPONENT_TYPES[getSchemaType(schema)]; // If the type is not defined and the schema uses 'anyOf' or 'oneOf', don't\n  // render a field and let the MultiSchemaField component handle the form display\n\n  if (!componentName && (schema.anyOf || schema.oneOf)) {\n    return function () {\n      return null;\n    };\n  }\n\n  return componentName in fields ? fields[componentName] : function () {\n    var UnsupportedField = fields.UnsupportedField;\n    return React.createElement(UnsupportedField, {\n      schema: schema,\n      idSchema: idSchema,\n      reason: \"Unknown field type \".concat(schema.type)\n    });\n  };\n}\n\nfunction Label(props) {\n  var label = props.label,\n      required = props.required,\n      id = props.id;\n\n  if (!label) {\n    return null;\n  }\n\n  return React.createElement(\"label\", {\n    className: \"control-label\",\n    htmlFor: id\n  }, label, required && React.createElement(\"span\", {\n    className: \"required\"\n  }, REQUIRED_FIELD_SYMBOL));\n}\n\nfunction LabelInput(props) {\n  var id = props.id,\n      label = props.label,\n      onChange = props.onChange;\n  return React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    id: id,\n    onBlur: function onBlur(event) {\n      return onChange(event.target.value);\n    },\n    defaultValue: label\n  });\n}\n\nfunction Help(props) {\n  var help = props.help;\n\n  if (!help) {\n    return null;\n  }\n\n  if (typeof help === \"string\") {\n    return React.createElement(\"p\", {\n      className: \"help-block\"\n    }, help);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"help-block\"\n  }, help);\n}\n\nfunction ErrorList(props) {\n  var _props$errors = props.errors,\n      errors = _props$errors === void 0 ? [] : _props$errors;\n\n  if (errors.length === 0) {\n    return null;\n  }\n\n  return React.createElement(\"div\", null, React.createElement(\"ul\", {\n    className: \"error-detail bs-callout bs-callout-info\"\n  }, errors.filter(function (elem) {\n    return !!elem;\n  }).map(function (error, index) {\n    return React.createElement(\"li\", {\n      className: \"text-danger\",\n      key: index\n    }, error);\n  })));\n}\n\nfunction DefaultTemplate(props) {\n  var id = props.id,\n      label = props.label,\n      children = props.children,\n      errors = props.errors,\n      help = props.help,\n      description = props.description,\n      hidden = props.hidden,\n      required = props.required,\n      displayLabel = props.displayLabel;\n\n  if (hidden) {\n    return React.createElement(\"div\", {\n      className: \"hidden\"\n    }, children);\n  }\n\n  return React.createElement(WrapIfAdditional, props, displayLabel && React.createElement(Label, {\n    label: label,\n    required: required,\n    id: id\n  }), displayLabel && description ? description : null, children, errors, help);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DefaultTemplate.propTypes = {\n    id: PropTypes.string,\n    classNames: PropTypes.string,\n    label: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    errors: PropTypes.element,\n    rawErrors: PropTypes.arrayOf(PropTypes.string),\n    help: PropTypes.element,\n    rawHelp: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    description: PropTypes.element,\n    rawDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    hidden: PropTypes.bool,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    displayLabel: PropTypes.bool,\n    fields: PropTypes.object,\n    formContext: PropTypes.object\n  };\n}\n\nDefaultTemplate.defaultProps = {\n  hidden: false,\n  readonly: false,\n  required: false,\n  displayLabel: true\n};\n\nfunction WrapIfAdditional(props) {\n  var id = props.id,\n      classNames = props.classNames,\n      disabled = props.disabled,\n      label = props.label,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      readonly = props.readonly,\n      required = props.required,\n      schema = props.schema;\n  var keyLabel = \"\".concat(label, \" Key\"); // i18n ?\n\n  var additional = schema.hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n\n  if (!additional) {\n    return React.createElement(\"div\", {\n      className: classNames\n    }, props.children);\n  }\n\n  return React.createElement(\"div\", {\n    className: classNames\n  }, React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-xs-5 form-additional\"\n  }, React.createElement(\"div\", {\n    className: \"form-group\"\n  }, React.createElement(Label, {\n    label: keyLabel,\n    required: required,\n    id: \"\".concat(id, \"-key\")\n  }), React.createElement(LabelInput, {\n    label: label,\n    required: required,\n    id: \"\".concat(id, \"-key\"),\n    onChange: onKeyChange\n  }))), React.createElement(\"div\", {\n    className: \"form-additional form-group col-xs-5\"\n  }, props.children), React.createElement(\"div\", {\n    className: \"col-xs-2\"\n  }, React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    className: \"array-item-remove btn-block\",\n    tabIndex: \"-1\",\n    style: {\n      border: \"0\"\n    },\n    disabled: disabled || readonly,\n    onClick: onDropPropertyClick(label)\n  }))));\n}\n\nfunction SchemaFieldRender(props) {\n  var uiSchema = props.uiSchema,\n      formData = props.formData,\n      errorSchema = props.errorSchema,\n      idPrefix = props.idPrefix,\n      name = props.name,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      required = props.required,\n      _props$registry = props.registry,\n      registry = _props$registry === void 0 ? getDefaultRegistry() : _props$registry,\n      _props$wasPropertyKey = props.wasPropertyKeyModified,\n      wasPropertyKeyModified = _props$wasPropertyKey === void 0 ? false : _props$wasPropertyKey;\n  var rootSchema = registry.rootSchema,\n      fields = registry.fields,\n      formContext = registry.formContext;\n  var FieldTemplate = uiSchema[\"ui:FieldTemplate\"] || registry.FieldTemplate || DefaultTemplate;\n  var idSchema = props.idSchema;\n  var schema = retrieveSchema(props.schema, rootSchema, formData);\n  idSchema = mergeObjects(toIdSchema(schema, null, rootSchema, formData, idPrefix), idSchema);\n  var FieldComponent = getFieldComponent(schema, uiSchema, idSchema, fields);\n  var DescriptionField = fields.DescriptionField;\n  var disabled = Boolean(props.disabled || uiSchema[\"ui:disabled\"]);\n  var readonly = Boolean(props.readonly || uiSchema[\"ui:readonly\"] || props.schema.readOnly || schema.readOnly);\n  var autofocus = Boolean(props.autofocus || uiSchema[\"ui:autofocus\"]);\n\n  if (_Object$keys(schema).length === 0) {\n    return null;\n  }\n\n  var displayLabel = getDisplayLabel(schema, uiSchema, rootSchema);\n\n  var __errors = errorSchema.__errors,\n      fieldErrorSchema = _objectWithoutProperties(errorSchema, [\"__errors\"]); // See #439: uiSchema: Don't pass consumed class names to child components\n\n\n  var field = React.createElement(FieldComponent, _extends({}, props, {\n    idSchema: idSchema,\n    schema: schema,\n    uiSchema: _objectSpread({}, uiSchema, {\n      classNames: undefined\n    }),\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    errorSchema: fieldErrorSchema,\n    formContext: formContext,\n    rawErrors: __errors\n  }));\n  var id = idSchema.$id; // If this schema has a title defined, but the user has set a new key/label, retain their input.\n\n  var label;\n\n  if (wasPropertyKeyModified) {\n    label = name;\n  } else {\n    label = uiSchema[\"ui:title\"] || props.schema.title || schema.title || name;\n  }\n\n  var description = uiSchema[\"ui:description\"] || props.schema.description || schema.description;\n  var errors = __errors;\n  var help = uiSchema[\"ui:help\"];\n  var hidden = uiSchema[\"ui:widget\"] === \"hidden\";\n  var classNames = [\"form-group\", \"field\", \"field-\".concat(schema.type), errors && errors.length > 0 ? \"field-error has-error has-danger\" : \"\", uiSchema.classNames].join(\" \").trim();\n  var fieldProps = {\n    description: React.createElement(DescriptionField, {\n      id: id + \"__description\",\n      description: description,\n      formContext: formContext\n    }),\n    rawDescription: description,\n    help: React.createElement(Help, {\n      help: help\n    }),\n    rawHelp: typeof help === \"string\" ? help : undefined,\n    errors: React.createElement(ErrorList, {\n      errors: errors\n    }),\n    rawErrors: errors,\n    id: id,\n    label: label,\n    hidden: hidden,\n    onKeyChange: onKeyChange,\n    onDropPropertyClick: onDropPropertyClick,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    displayLabel: displayLabel,\n    classNames: classNames,\n    formContext: formContext,\n    fields: fields,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  };\n  var _AnyOfField = registry.fields.AnyOfField;\n  var _OneOfField = registry.fields.OneOfField;\n  return React.createElement(FieldTemplate, fieldProps, React.createElement(React.Fragment, null, field, schema.anyOf && !isSelect(schema) && React.createElement(_AnyOfField, {\n    disabled: disabled,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.anyOf,\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  }), schema.oneOf && !isSelect(schema) && React.createElement(_OneOfField, {\n    disabled: disabled,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.oneOf,\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  })));\n}\n\nvar SchemaField = /*#__PURE__*/function (_React$Component) {\n  _inherits(SchemaField, _React$Component);\n\n  function SchemaField() {\n    _classCallCheck(this, SchemaField);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SchemaField).apply(this, arguments));\n  }\n\n  _createClass(SchemaField, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !deepEquals(this.props, nextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return SchemaFieldRender(this.props);\n    }\n  }]);\n\n  return SchemaField;\n}(React.Component);\n\nSchemaField.defaultProps = {\n  uiSchema: {},\n  errorSchema: {},\n  idSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SchemaField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: types.registry.isRequired\n  };\n}\n\nexport default SchemaField;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@rjsf/core/lib/components/fields/SchemaField.js"],"names":["_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_extends","_objectSpread","_objectWithoutProperties","_Object$keys","IconButton","React","PropTypes","types","ADDITIONAL_PROPERTY_FLAG","isSelect","retrieveSchema","toIdSchema","getDefaultRegistry","mergeObjects","deepEquals","getSchemaType","getDisplayLabel","REQUIRED_FIELD_SYMBOL","COMPONENT_TYPES","array","integer","number","object","string","getFieldComponent","schema","uiSchema","idSchema","fields","field","componentName","anyOf","oneOf","UnsupportedField","createElement","reason","concat","type","Label","props","label","required","id","className","htmlFor","LabelInput","onChange","onBlur","event","target","value","defaultValue","Help","help","ErrorList","_props$errors","errors","length","filter","elem","map","error","index","key","DefaultTemplate","children","description","hidden","displayLabel","WrapIfAdditional","process","env","NODE_ENV","propTypes","classNames","node","isRequired","element","rawErrors","arrayOf","rawHelp","oneOfType","rawDescription","bool","readonly","formContext","defaultProps","disabled","onKeyChange","onDropPropertyClick","keyLabel","additional","hasOwnProperty","icon","tabIndex","style","border","onClick","SchemaFieldRender","formData","errorSchema","idPrefix","name","_props$registry","registry","_props$wasPropertyKey","wasPropertyKeyModified","rootSchema","FieldTemplate","FieldComponent","DescriptionField","Boolean","readOnly","autofocus","__errors","fieldErrorSchema","undefined","$id","title","join","trim","fieldProps","_AnyOfField","AnyOfField","_OneOfField","OneOfField","Fragment","onFocus","options","baseType","SchemaField","_React$Component","apply","arguments","shouldComponentUpdate","nextProps","nextState","render","Component","any"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport IconButton from \"../IconButton\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as types from \"../../types\";\nimport { ADDITIONAL_PROPERTY_FLAG, isSelect, retrieveSchema, toIdSchema, getDefaultRegistry, mergeObjects, deepEquals, getSchemaType, getDisplayLabel } from \"../../utils\";\nvar REQUIRED_FIELD_SYMBOL = \"*\";\nvar COMPONENT_TYPES = {\n  array: \"ArrayField\",\n  \"boolean\": \"BooleanField\",\n  integer: \"NumberField\",\n  number: \"NumberField\",\n  object: \"ObjectField\",\n  string: \"StringField\",\n  \"null\": \"NullField\"\n};\n\nfunction getFieldComponent(schema, uiSchema, idSchema, fields) {\n  var field = uiSchema[\"ui:field\"];\n\n  if (typeof field === \"function\") {\n    return field;\n  }\n\n  if (typeof field === \"string\" && field in fields) {\n    return fields[field];\n  }\n\n  var componentName = COMPONENT_TYPES[getSchemaType(schema)]; // If the type is not defined and the schema uses 'anyOf' or 'oneOf', don't\n  // render a field and let the MultiSchemaField component handle the form display\n\n  if (!componentName && (schema.anyOf || schema.oneOf)) {\n    return function () {\n      return null;\n    };\n  }\n\n  return componentName in fields ? fields[componentName] : function () {\n    var UnsupportedField = fields.UnsupportedField;\n    return React.createElement(UnsupportedField, {\n      schema: schema,\n      idSchema: idSchema,\n      reason: \"Unknown field type \".concat(schema.type)\n    });\n  };\n}\n\nfunction Label(props) {\n  var label = props.label,\n      required = props.required,\n      id = props.id;\n\n  if (!label) {\n    return null;\n  }\n\n  return React.createElement(\"label\", {\n    className: \"control-label\",\n    htmlFor: id\n  }, label, required && React.createElement(\"span\", {\n    className: \"required\"\n  }, REQUIRED_FIELD_SYMBOL));\n}\n\nfunction LabelInput(props) {\n  var id = props.id,\n      label = props.label,\n      onChange = props.onChange;\n  return React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    id: id,\n    onBlur: function onBlur(event) {\n      return onChange(event.target.value);\n    },\n    defaultValue: label\n  });\n}\n\nfunction Help(props) {\n  var help = props.help;\n\n  if (!help) {\n    return null;\n  }\n\n  if (typeof help === \"string\") {\n    return React.createElement(\"p\", {\n      className: \"help-block\"\n    }, help);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"help-block\"\n  }, help);\n}\n\nfunction ErrorList(props) {\n  var _props$errors = props.errors,\n      errors = _props$errors === void 0 ? [] : _props$errors;\n\n  if (errors.length === 0) {\n    return null;\n  }\n\n  return React.createElement(\"div\", null, React.createElement(\"ul\", {\n    className: \"error-detail bs-callout bs-callout-info\"\n  }, errors.filter(function (elem) {\n    return !!elem;\n  }).map(function (error, index) {\n    return React.createElement(\"li\", {\n      className: \"text-danger\",\n      key: index\n    }, error);\n  })));\n}\n\nfunction DefaultTemplate(props) {\n  var id = props.id,\n      label = props.label,\n      children = props.children,\n      errors = props.errors,\n      help = props.help,\n      description = props.description,\n      hidden = props.hidden,\n      required = props.required,\n      displayLabel = props.displayLabel;\n\n  if (hidden) {\n    return React.createElement(\"div\", {\n      className: \"hidden\"\n    }, children);\n  }\n\n  return React.createElement(WrapIfAdditional, props, displayLabel && React.createElement(Label, {\n    label: label,\n    required: required,\n    id: id\n  }), displayLabel && description ? description : null, children, errors, help);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DefaultTemplate.propTypes = {\n    id: PropTypes.string,\n    classNames: PropTypes.string,\n    label: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    errors: PropTypes.element,\n    rawErrors: PropTypes.arrayOf(PropTypes.string),\n    help: PropTypes.element,\n    rawHelp: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    description: PropTypes.element,\n    rawDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    hidden: PropTypes.bool,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    displayLabel: PropTypes.bool,\n    fields: PropTypes.object,\n    formContext: PropTypes.object\n  };\n}\n\nDefaultTemplate.defaultProps = {\n  hidden: false,\n  readonly: false,\n  required: false,\n  displayLabel: true\n};\n\nfunction WrapIfAdditional(props) {\n  var id = props.id,\n      classNames = props.classNames,\n      disabled = props.disabled,\n      label = props.label,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      readonly = props.readonly,\n      required = props.required,\n      schema = props.schema;\n  var keyLabel = \"\".concat(label, \" Key\"); // i18n ?\n\n  var additional = schema.hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n\n  if (!additional) {\n    return React.createElement(\"div\", {\n      className: classNames\n    }, props.children);\n  }\n\n  return React.createElement(\"div\", {\n    className: classNames\n  }, React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-xs-5 form-additional\"\n  }, React.createElement(\"div\", {\n    className: \"form-group\"\n  }, React.createElement(Label, {\n    label: keyLabel,\n    required: required,\n    id: \"\".concat(id, \"-key\")\n  }), React.createElement(LabelInput, {\n    label: label,\n    required: required,\n    id: \"\".concat(id, \"-key\"),\n    onChange: onKeyChange\n  }))), React.createElement(\"div\", {\n    className: \"form-additional form-group col-xs-5\"\n  }, props.children), React.createElement(\"div\", {\n    className: \"col-xs-2\"\n  }, React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    className: \"array-item-remove btn-block\",\n    tabIndex: \"-1\",\n    style: {\n      border: \"0\"\n    },\n    disabled: disabled || readonly,\n    onClick: onDropPropertyClick(label)\n  }))));\n}\n\nfunction SchemaFieldRender(props) {\n  var uiSchema = props.uiSchema,\n      formData = props.formData,\n      errorSchema = props.errorSchema,\n      idPrefix = props.idPrefix,\n      name = props.name,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      required = props.required,\n      _props$registry = props.registry,\n      registry = _props$registry === void 0 ? getDefaultRegistry() : _props$registry,\n      _props$wasPropertyKey = props.wasPropertyKeyModified,\n      wasPropertyKeyModified = _props$wasPropertyKey === void 0 ? false : _props$wasPropertyKey;\n  var rootSchema = registry.rootSchema,\n      fields = registry.fields,\n      formContext = registry.formContext;\n  var FieldTemplate = uiSchema[\"ui:FieldTemplate\"] || registry.FieldTemplate || DefaultTemplate;\n  var idSchema = props.idSchema;\n  var schema = retrieveSchema(props.schema, rootSchema, formData);\n  idSchema = mergeObjects(toIdSchema(schema, null, rootSchema, formData, idPrefix), idSchema);\n  var FieldComponent = getFieldComponent(schema, uiSchema, idSchema, fields);\n  var DescriptionField = fields.DescriptionField;\n  var disabled = Boolean(props.disabled || uiSchema[\"ui:disabled\"]);\n  var readonly = Boolean(props.readonly || uiSchema[\"ui:readonly\"] || props.schema.readOnly || schema.readOnly);\n  var autofocus = Boolean(props.autofocus || uiSchema[\"ui:autofocus\"]);\n\n  if (_Object$keys(schema).length === 0) {\n    return null;\n  }\n\n  var displayLabel = getDisplayLabel(schema, uiSchema, rootSchema);\n\n  var __errors = errorSchema.__errors,\n      fieldErrorSchema = _objectWithoutProperties(errorSchema, [\"__errors\"]); // See #439: uiSchema: Don't pass consumed class names to child components\n\n\n  var field = React.createElement(FieldComponent, _extends({}, props, {\n    idSchema: idSchema,\n    schema: schema,\n    uiSchema: _objectSpread({}, uiSchema, {\n      classNames: undefined\n    }),\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    errorSchema: fieldErrorSchema,\n    formContext: formContext,\n    rawErrors: __errors\n  }));\n  var id = idSchema.$id; // If this schema has a title defined, but the user has set a new key/label, retain their input.\n\n  var label;\n\n  if (wasPropertyKeyModified) {\n    label = name;\n  } else {\n    label = uiSchema[\"ui:title\"] || props.schema.title || schema.title || name;\n  }\n\n  var description = uiSchema[\"ui:description\"] || props.schema.description || schema.description;\n  var errors = __errors;\n  var help = uiSchema[\"ui:help\"];\n  var hidden = uiSchema[\"ui:widget\"] === \"hidden\";\n  var classNames = [\"form-group\", \"field\", \"field-\".concat(schema.type), errors && errors.length > 0 ? \"field-error has-error has-danger\" : \"\", uiSchema.classNames].join(\" \").trim();\n  var fieldProps = {\n    description: React.createElement(DescriptionField, {\n      id: id + \"__description\",\n      description: description,\n      formContext: formContext\n    }),\n    rawDescription: description,\n    help: React.createElement(Help, {\n      help: help\n    }),\n    rawHelp: typeof help === \"string\" ? help : undefined,\n    errors: React.createElement(ErrorList, {\n      errors: errors\n    }),\n    rawErrors: errors,\n    id: id,\n    label: label,\n    hidden: hidden,\n    onKeyChange: onKeyChange,\n    onDropPropertyClick: onDropPropertyClick,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    displayLabel: displayLabel,\n    classNames: classNames,\n    formContext: formContext,\n    fields: fields,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  };\n  var _AnyOfField = registry.fields.AnyOfField;\n  var _OneOfField = registry.fields.OneOfField;\n  return React.createElement(FieldTemplate, fieldProps, React.createElement(React.Fragment, null, field, schema.anyOf && !isSelect(schema) && React.createElement(_AnyOfField, {\n    disabled: disabled,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.anyOf,\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  }), schema.oneOf && !isSelect(schema) && React.createElement(_OneOfField, {\n    disabled: disabled,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.oneOf,\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  })));\n}\n\nvar SchemaField =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SchemaField, _React$Component);\n\n  function SchemaField() {\n    _classCallCheck(this, SchemaField);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SchemaField).apply(this, arguments));\n  }\n\n  _createClass(SchemaField, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !deepEquals(this.props, nextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return SchemaFieldRender(this.props);\n    }\n  }]);\n\n  return SchemaField;\n}(React.Component);\n\nSchemaField.defaultProps = {\n  uiSchema: {},\n  errorSchema: {},\n  idSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SchemaField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: types.registry.isRequired\n  };\n}\n\nexport default SchemaField;"]},"metadata":{},"sourceType":"module"}