{"ast":null,"code":"function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withResizeDetector } from 'react-resize-detector';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    gallery: {\n      display: \"block\",\n      padding: function padding(props) {\n        return props.padding && theme.spacing(props.padding);\n      },\n      width: \"100%\"\n    },\n    list: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      margin: function margin(props) {\n        return props.spacing && theme.spacing(props.spacing * -0.5);\n      }\n    },\n    item: {\n      width: function width(props) {\n        return props.width + \"px\";\n      },\n      maxWidth: function maxWidth(props) {\n        return props.maxWidth + \"px\";\n      },\n      margin: function margin(props) {\n        return props.spacing && theme.spacing(props.spacing * 0.5);\n      },\n      \"& > *\": {\n        maxWidth: \"100%\"\n      }\n    }\n  };\n});\n\nvar calculateCutOff = function calculateCutOff(_ref) {\n  var rowWidth = _ref.rowWidth,\n      delta = _ref.delta,\n      spacing = _ref.spacing,\n      _ref$row = _ref.row,\n      row = _ref$row === void 0 ? [] : _ref$row; //    console.log('delta', delta)\n\n  var cutoff = [];\n  var cutsum = 0;\n\n  for (var i in row) {\n    var item = row[i];\n    var fractOfLen = item.maxWidth / rowWidth; //        console.log('fractOfLen', fractOfLen)\n\n    cutoff[i] = Math.floor(fractOfLen * delta);\n    cutsum += cutoff[i];\n  } //    console.log('cutoff', cutoff)\n\n\n  var stillToCutOff = delta - cutsum;\n\n  while (stillToCutOff > 0) {\n    for (i in cutoff) {\n      cutoff[i]++;\n      stillToCutOff--;\n      if (stillToCutOff < 0) break;\n    }\n  }\n\n  return cutoff;\n};\n\nvar getGalleryRow = function getGalleryRow(_ref2) {\n  var maxWidth = _ref2.maxWidth,\n      gap = _ref2.gap,\n      _ref2$items = _ref2.items,\n      items = _ref2$items === void 0 ? [] : _ref2$items;\n  var rowPlusGap = maxWidth + gap;\n  var row = [];\n  var rowWidth = 0; //    console.log('items', items)\n\n  while (items.length > 0 && rowWidth < rowPlusGap) {\n    var item = items.shift();\n    row.push(item);\n    rowWidth += item.maxWidth + gap; //        console.log('rowWidth' + rowWidth)\n  }\n\n  var delta = rowWidth - rowPlusGap; //    console.log('delta', + delta)\n\n  if (row.length > 0 && delta > 0) {\n    var cutoff = calculateCutOff({\n      rowWidth: rowWidth,\n      gap: gap,\n      delta: delta,\n      row: row\n    });\n\n    for (var i in row) {\n      var pixelsToRemove = cutoff[i];\n      var _item = row[i];\n      _item.maxWidth = _item.maxWidth - pixelsToRemove;\n    }\n  } else {\n    for (var j in row) {\n      var _item2 = row[j];\n      _item2.maxWidth = _item2.maxWidth;\n    }\n  }\n\n  return row;\n};\n\nvar getGalleryItem = function getGalleryItem(_ref3) {\n  var props = _ref3.props;\n  var maxWidth = props.width || props.mediaWidth;\n};\n\nvar getGallery = function getGallery(_ref4) {\n  var maxWidth = _ref4.maxWidth,\n      maxRows = _ref4.maxRows,\n      gap = _ref4.gap,\n      children = _ref4.children;\n  if (!children) return [];\n  if (!children.length) return [];\n  if (!maxWidth) return [];\n  var items = React.Children.toArray(children).map(function (child, index) {\n    return _extends({}, child.props, {\n      maxWidth: child.props.width * 1\n    });\n  }); //    console.log('items', items)\n\n  var rows = [];\n\n  while (items.length > 0) {\n    rows.push(getGalleryRow({\n      maxWidth: maxWidth,\n      gap: gap,\n      items: items\n    }));\n  }\n\n  var cols = [];\n\n  for (var r in rows) {\n    for (var i in rows[r]) {\n      var item = rows[r][i];\n\n      if (maxRows) {\n        if (r < maxRows) {\n          cols.push(item);\n        }\n      } else {\n        cols.push(item);\n      }\n    }\n  }\n\n  return cols;\n};\n\nvar GalleryItem = function GalleryItem(_ref5) {\n  var _ref5$width = _ref5.width,\n      width = _ref5$width === void 0 ? 180 : _ref5$width,\n      maxWidth = _ref5.maxWidth,\n      _ref5$spacing = _ref5.spacing,\n      spacing = _ref5$spacing === void 0 ? 1 : _ref5$spacing,\n      children = _ref5.children,\n      debug = _ref5.debug,\n      props = _objectWithoutPropertiesLoose(_ref5, [\"width\", \"maxWidth\", \"spacing\", \"children\", \"debug\"]);\n\n  var classes = useStyles({\n    width: width,\n    maxWidth: maxWidth,\n    spacing: spacing\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.item\n  }, children, debug && /*#__PURE__*/React.createElement(\"div\", null, width, \"/\", maxWidth, \"/\", spacing));\n};\n\nvar Gallery = function Gallery(_ref6) {\n  var width = _ref6.width,\n      _ref6$spacing = _ref6.spacing,\n      spacing = _ref6$spacing === void 0 ? 1 : _ref6$spacing,\n      _ref6$padding = _ref6.padding,\n      padding = _ref6$padding === void 0 ? 0 : _ref6$padding,\n      children = _ref6.children,\n      _ref6$debug = _ref6.debug,\n      debug = _ref6$debug === void 0 ? false : _ref6$debug;\n  var maxWidth = width - padding * 8 * 2;\n  var gap = spacing * 8;\n  var classes = useStyles({\n    padding: padding,\n    spacing: spacing\n  });\n  var gallery = getGallery({\n    maxWidth: maxWidth,\n    gap: gap,\n    children: children\n  });\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: classes.gallery,\n    \"data-layout\": \"gallery\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.list\n  }, children.map(function (child, index) {\n    var maxWidth = gallery[index] && gallery[index].maxWidth;\n    return /*#__PURE__*/React.createElement(GalleryItem, _extends({}, child.props, {\n      maxWidth: maxWidth,\n      debug: debug,\n      spacing: spacing,\n      key: index\n    }), child);\n  })));\n};\n\nGallery.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  spacing: PropTypes.number,\n  padding: PropTypes.number,\n  children: PropTypes.node\n} : {};\nexport default withResizeDetector(Gallery);","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/node_modules/@kit-ui/admin/es/Gallery/Gallery.js"],"names":["_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","React","PropTypes","makeStyles","withResizeDetector","useStyles","theme","gallery","display","padding","props","spacing","width","list","flexWrap","margin","item","maxWidth","calculateCutOff","_ref","rowWidth","delta","_ref$row","row","cutoff","cutsum","fractOfLen","Math","floor","stillToCutOff","getGalleryRow","_ref2","gap","_ref2$items","items","rowPlusGap","shift","push","pixelsToRemove","_item","j","_item2","getGalleryItem","_ref3","mediaWidth","getGallery","_ref4","maxRows","children","Children","toArray","map","child","index","rows","cols","r","GalleryItem","_ref5","_ref5$width","_ref5$spacing","debug","classes","createElement","className","Gallery","_ref6","_ref6$spacing","_ref6$padding","_ref6$debug","propTypes","process","env","NODE_ENV","number","node"],"mappings":"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","sourcesContent":["function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { withResizeDetector } from 'react-resize-detector';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    gallery: {\n      display: \"block\",\n      padding: function padding(props) {\n        return props.padding && theme.spacing(props.padding);\n      },\n      width: \"100%\"\n    },\n    list: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      margin: function margin(props) {\n        return props.spacing && theme.spacing(props.spacing * -0.5);\n      }\n    },\n    item: {\n      width: function width(props) {\n        return props.width + \"px\";\n      },\n      maxWidth: function maxWidth(props) {\n        return props.maxWidth + \"px\";\n      },\n      margin: function margin(props) {\n        return props.spacing && theme.spacing(props.spacing * 0.5);\n      },\n      \"& > *\": {\n        maxWidth: \"100%\"\n      }\n    }\n  };\n});\n\nvar calculateCutOff = function calculateCutOff(_ref) {\n  var rowWidth = _ref.rowWidth,\n      delta = _ref.delta,\n      spacing = _ref.spacing,\n      _ref$row = _ref.row,\n      row = _ref$row === void 0 ? [] : _ref$row;\n  //    console.log('delta', delta)\n  var cutoff = [];\n  var cutsum = 0;\n\n  for (var i in row) {\n    var item = row[i];\n    var fractOfLen = item.maxWidth / rowWidth; //        console.log('fractOfLen', fractOfLen)\n\n    cutoff[i] = Math.floor(fractOfLen * delta);\n    cutsum += cutoff[i];\n  } //    console.log('cutoff', cutoff)\n\n\n  var stillToCutOff = delta - cutsum;\n\n  while (stillToCutOff > 0) {\n    for (i in cutoff) {\n      cutoff[i]++;\n      stillToCutOff--;\n      if (stillToCutOff < 0) break;\n    }\n  }\n\n  return cutoff;\n};\n\nvar getGalleryRow = function getGalleryRow(_ref2) {\n  var maxWidth = _ref2.maxWidth,\n      gap = _ref2.gap,\n      _ref2$items = _ref2.items,\n      items = _ref2$items === void 0 ? [] : _ref2$items;\n  var rowPlusGap = maxWidth + gap;\n  var row = [];\n  var rowWidth = 0; //    console.log('items', items)\n\n  while (items.length > 0 && rowWidth < rowPlusGap) {\n    var item = items.shift();\n    row.push(item);\n    rowWidth += item.maxWidth + gap; //        console.log('rowWidth' + rowWidth)\n  }\n\n  var delta = rowWidth - rowPlusGap; //    console.log('delta', + delta)\n\n  if (row.length > 0 && delta > 0) {\n    var cutoff = calculateCutOff({\n      rowWidth: rowWidth,\n      gap: gap,\n      delta: delta,\n      row: row\n    });\n\n    for (var i in row) {\n      var pixelsToRemove = cutoff[i];\n      var _item = row[i];\n      _item.maxWidth = _item.maxWidth - pixelsToRemove;\n    }\n  } else {\n    for (var j in row) {\n      var _item2 = row[j];\n      _item2.maxWidth = _item2.maxWidth;\n    }\n  }\n\n  return row;\n};\n\nvar getGalleryItem = function getGalleryItem(_ref3) {\n  var props = _ref3.props;\n  var maxWidth = props.width || props.mediaWidth;\n};\n\nvar getGallery = function getGallery(_ref4) {\n  var maxWidth = _ref4.maxWidth,\n      maxRows = _ref4.maxRows,\n      gap = _ref4.gap,\n      children = _ref4.children;\n  if (!children) return [];\n  if (!children.length) return [];\n  if (!maxWidth) return [];\n  var items = React.Children.toArray(children).map(function (child, index) {\n    return _extends({}, child.props, {\n      maxWidth: child.props.width * 1\n    });\n  }); //    console.log('items', items)\n\n  var rows = [];\n\n  while (items.length > 0) {\n    rows.push(getGalleryRow({\n      maxWidth: maxWidth,\n      gap: gap,\n      items: items\n    }));\n  }\n\n  var cols = [];\n\n  for (var r in rows) {\n    for (var i in rows[r]) {\n      var item = rows[r][i];\n\n      if (maxRows) {\n        if (r < maxRows) {\n          cols.push(item);\n        }\n      } else {\n        cols.push(item);\n      }\n    }\n  }\n\n  return cols;\n};\n\nvar GalleryItem = function GalleryItem(_ref5) {\n  var _ref5$width = _ref5.width,\n      width = _ref5$width === void 0 ? 180 : _ref5$width,\n      maxWidth = _ref5.maxWidth,\n      _ref5$spacing = _ref5.spacing,\n      spacing = _ref5$spacing === void 0 ? 1 : _ref5$spacing,\n      children = _ref5.children,\n      debug = _ref5.debug,\n      props = _objectWithoutPropertiesLoose(_ref5, [\"width\", \"maxWidth\", \"spacing\", \"children\", \"debug\"]);\n\n  var classes = useStyles({\n    width: width,\n    maxWidth: maxWidth,\n    spacing: spacing\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.item\n  }, children, debug && /*#__PURE__*/React.createElement(\"div\", null, width, \"/\", maxWidth, \"/\", spacing));\n};\n\nvar Gallery = function Gallery(_ref6) {\n  var width = _ref6.width,\n      _ref6$spacing = _ref6.spacing,\n      spacing = _ref6$spacing === void 0 ? 1 : _ref6$spacing,\n      _ref6$padding = _ref6.padding,\n      padding = _ref6$padding === void 0 ? 0 : _ref6$padding,\n      children = _ref6.children,\n      _ref6$debug = _ref6.debug,\n      debug = _ref6$debug === void 0 ? false : _ref6$debug;\n  var maxWidth = width - padding * 8 * 2;\n  var gap = spacing * 8;\n  var classes = useStyles({\n    padding: padding,\n    spacing: spacing\n  });\n  var gallery = getGallery({\n    maxWidth: maxWidth,\n    gap: gap,\n    children: children\n  });\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: classes.gallery,\n    \"data-layout\": \"gallery\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.list\n  }, children.map(function (child, index) {\n    var maxWidth = gallery[index] && gallery[index].maxWidth;\n    return /*#__PURE__*/React.createElement(GalleryItem, _extends({}, child.props, {\n      maxWidth: maxWidth,\n      debug: debug,\n      spacing: spacing,\n      key: index\n    }), child);\n  })));\n};\n\nGallery.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  spacing: PropTypes.number,\n  padding: PropTypes.number,\n  children: PropTypes.node\n} : {};\nexport default withResizeDetector(Gallery);"]},"metadata":{},"sourceType":"module"}