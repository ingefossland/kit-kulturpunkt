{"ast":null,"code":"import React, { useRef, useState, useEffect } from 'react';\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageStyles } from \"./utils/getImageStyles\";\nimport SvgFilters from \"../SvgFilters/SvgFilters\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    imageBase: {\n      width: \"100%\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      overflow: \"hidden\"\n    },\n    cropbox: {\n      position: \"absolute\",\n      overflow: function overflow(props) {\n        return props.overflow;\n      },\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\"\n    },\n    image: {\n      position: \"absolute\",\n      opacity: 1,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      display: \"block\",\n      width: \"auto\",\n      height: \"auto\",\n      maxWidth: \"100%\",\n      maxHeight: \"100%\",\n      margin: \"auto\"\n    }\n  };\n});\n\nvar ImageBase = function ImageBase(_ref) {\n  var className = _ref.className,\n      style = _ref.style,\n      imageUrl = _ref.imageUrl,\n      imageCropdata = _ref.imageCropdata,\n      imageFocalpoint = _ref.imageFocalpoint,\n      imageFilters = _ref.imageFilters,\n      _ref$objectFit = _ref.objectFit,\n      objectFit = _ref$objectFit === void 0 ? \"contain\" : _ref$objectFit,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? \"absolute\" : _ref$position,\n      _ref$overflow = _ref.overflow,\n      overflow = _ref$overflow === void 0 ? \"hidden\" : _ref$overflow,\n      children = _ref.children,\n      width = _ref.width,\n      height = _ref.height,\n      onLoad = _ref.onLoad,\n      onClick = _ref.onClick;\n  var parentRef = useRef(null);\n  var cropboxRef = useRef(null);\n  var imageRef = useRef(null);\n  var classes = useStyles({\n    overflow: overflow\n  });\n\n  var _useState = useState(false),\n      imageLoaded = _useState[0],\n      setImageLoaded = _useState[1];\n\n  var imageWidth = imageRef && imageRef.current && imageRef.current.offsetWidth;\n  var imageHeight = imageRef && imageRef.current && imageRef.current.offsetHeight;\n  var parentWidth = parentRef && parentRef.current && parentRef.current.offsetWidth;\n  var parentHeight = parentRef && parentRef.current && parentRef.current.offsetHeight;\n  var cropboxWidth = cropboxRef && cropboxRef.current && cropboxRef.current.offsetWidth;\n  var cropboxHeight = cropboxRef && cropboxRef.current && cropboxRef.current.offsetHeight;\n\n  var handleLoad = function handleLoad() {\n    setImageLoaded(true);\n    onLoad && onLoad({\n      parentRef: parentRef,\n      parentWidth: parentWidth,\n      parentHeight: parentHeight,\n      cropboxRef: cropboxRef,\n      cropboxWidth: cropboxWidth,\n      cropboxHeight: cropboxHeight,\n      imageRef: imageRef,\n      imageWidth: imageWidth,\n      imageHeight: imageHeight\n    });\n  }; // get styles\n\n\n  var _useState2 = useState(null),\n      cropboxStyle = _useState2[0],\n      setCropboxStyle = _useState2[1];\n\n  var _useState3 = useState(null),\n      imageStyle = _useState3[0],\n      setImageStyle = _useState3[1];\n\n  useEffect(function () {\n    if (!imageRef.current || !parentRef.current) {\n      return;\n    }\n\n    var cropStyles = getImageStyles({\n      imageCropdata: imageCropdata,\n      imageFocalpoint: imageFocalpoint,\n      imageFilters: imageFilters,\n      objectFit: objectFit,\n      parentRef: parentRef,\n      imageRef: imageRef\n    });\n    setCropboxStyle(cropStyles.cropbox);\n    setImageStyle(cropStyles.image);\n  }, [width, height, imageCropdata, imageFilters, imageLoaded]); // return cropped image with styles\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className || classes.imageBase,\n    ref: parentRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.cropbox,\n    ref: cropboxRef,\n    style: cropboxStyle,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(SvgFilters, {\n    cropboxRef: cropboxRef,\n    imageRef: imageRef,\n    imageFilters: imageFilters\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imageUrl,\n    className: classes.image,\n    ref: imageRef,\n    style: imageStyle,\n    onLoad: handleLoad\n  })), children));\n};\n\nImageBase.defaultProps = {\n  imageCropdata: {\n    x: 0,\n    y: 0,\n    width: 100,\n    height: 100\n  }\n};\nexport default withResizeDetector(ImageBase);","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/node_modules/@kit-ui/admin/es/Media/ImageBase.js"],"names":["React","useRef","useState","useEffect","withResizeDetector","makeStyles","getImageStyles","SvgFilters","useStyles","theme","imageBase","width","position","top","right","bottom","left","overflow","cropbox","props","margin","image","opacity","display","height","maxWidth","maxHeight","ImageBase","_ref","className","style","imageUrl","imageCropdata","imageFocalpoint","imageFilters","_ref$objectFit","objectFit","_ref$position","_ref$overflow","children","onLoad","onClick","parentRef","cropboxRef","imageRef","classes","_useState","imageLoaded","setImageLoaded","imageWidth","current","offsetWidth","imageHeight","offsetHeight","parentWidth","parentHeight","cropboxWidth","cropboxHeight","handleLoad","_useState2","cropboxStyle","setCropboxStyle","_useState3","imageStyle","setImageStyle","cropStyles","createElement","ref","src","defaultProps","x","y"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { withResizeDetector } from 'react-resize-detector';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getImageStyles } from \"./utils/getImageStyles\";\nimport SvgFilters from \"../SvgFilters/SvgFilters\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    imageBase: {\n      width: \"100%\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      overflow: \"hidden\"\n    },\n    cropbox: {\n      position: \"absolute\",\n      overflow: function overflow(props) {\n        return props.overflow;\n      },\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      margin: \"auto\"\n    },\n    image: {\n      position: \"absolute\",\n      opacity: 1,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      display: \"block\",\n      width: \"auto\",\n      height: \"auto\",\n      maxWidth: \"100%\",\n      maxHeight: \"100%\",\n      margin: \"auto\"\n    }\n  };\n});\n\nvar ImageBase = function ImageBase(_ref) {\n  var className = _ref.className,\n      style = _ref.style,\n      imageUrl = _ref.imageUrl,\n      imageCropdata = _ref.imageCropdata,\n      imageFocalpoint = _ref.imageFocalpoint,\n      imageFilters = _ref.imageFilters,\n      _ref$objectFit = _ref.objectFit,\n      objectFit = _ref$objectFit === void 0 ? \"contain\" : _ref$objectFit,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? \"absolute\" : _ref$position,\n      _ref$overflow = _ref.overflow,\n      overflow = _ref$overflow === void 0 ? \"hidden\" : _ref$overflow,\n      children = _ref.children,\n      width = _ref.width,\n      height = _ref.height,\n      onLoad = _ref.onLoad,\n      onClick = _ref.onClick;\n  var parentRef = useRef(null);\n  var cropboxRef = useRef(null);\n  var imageRef = useRef(null);\n  var classes = useStyles({\n    overflow: overflow\n  });\n\n  var _useState = useState(false),\n      imageLoaded = _useState[0],\n      setImageLoaded = _useState[1];\n\n  var imageWidth = imageRef && imageRef.current && imageRef.current.offsetWidth;\n  var imageHeight = imageRef && imageRef.current && imageRef.current.offsetHeight;\n  var parentWidth = parentRef && parentRef.current && parentRef.current.offsetWidth;\n  var parentHeight = parentRef && parentRef.current && parentRef.current.offsetHeight;\n  var cropboxWidth = cropboxRef && cropboxRef.current && cropboxRef.current.offsetWidth;\n  var cropboxHeight = cropboxRef && cropboxRef.current && cropboxRef.current.offsetHeight;\n\n  var handleLoad = function handleLoad() {\n    setImageLoaded(true);\n    onLoad && onLoad({\n      parentRef: parentRef,\n      parentWidth: parentWidth,\n      parentHeight: parentHeight,\n      cropboxRef: cropboxRef,\n      cropboxWidth: cropboxWidth,\n      cropboxHeight: cropboxHeight,\n      imageRef: imageRef,\n      imageWidth: imageWidth,\n      imageHeight: imageHeight\n    });\n  }; // get styles\n\n\n  var _useState2 = useState(null),\n      cropboxStyle = _useState2[0],\n      setCropboxStyle = _useState2[1];\n\n  var _useState3 = useState(null),\n      imageStyle = _useState3[0],\n      setImageStyle = _useState3[1];\n\n  useEffect(function () {\n    if (!imageRef.current || !parentRef.current) {\n      return;\n    }\n\n    var cropStyles = getImageStyles({\n      imageCropdata: imageCropdata,\n      imageFocalpoint: imageFocalpoint,\n      imageFilters: imageFilters,\n      objectFit: objectFit,\n      parentRef: parentRef,\n      imageRef: imageRef\n    });\n    setCropboxStyle(cropStyles.cropbox);\n    setImageStyle(cropStyles.image);\n  }, [width, height, imageCropdata, imageFilters, imageLoaded]); // return cropped image with styles\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className || classes.imageBase,\n    ref: parentRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.cropbox,\n    ref: cropboxRef,\n    style: cropboxStyle,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(SvgFilters, {\n    cropboxRef: cropboxRef,\n    imageRef: imageRef,\n    imageFilters: imageFilters\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: imageUrl,\n    className: classes.image,\n    ref: imageRef,\n    style: imageStyle,\n    onLoad: handleLoad\n  })), children));\n};\n\nImageBase.defaultProps = {\n  imageCropdata: {\n    x: 0,\n    y: 0,\n    width: 100,\n    height: 100\n  }\n};\nexport default withResizeDetector(ImageBase);"]},"metadata":{},"sourceType":"module"}