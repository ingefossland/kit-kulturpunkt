{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport { getUiOptions } from \"./\";\n\nvar isExpanded = function isExpanded(props) {\n  var idSchema = props.idSchema,\n      uiOptions = props.uiOptions,\n      formContext = props.formContext;\n  var id = idSchema && idSchema.$id;\n  var collapsible = uiOptions.collapsible,\n      editable = uiOptions.editable,\n      expanded = uiOptions.expanded;\n  var currentId = formContext && formContext.currentId;\n\n  if (editable && expanded && !currentId) {\n    return true;\n  } else if (editable && currentId && currentId.startsWith(id)) {\n    return true;\n  } else if (editable) {\n    return false;\n  } else if (collapsible && expanded && !currentId) {\n    return true;\n  } else if (collapsible && currentId && currentId.startsWith(id)) {\n    return true;\n  } else if (collapsible) {\n    return false;\n  }\n\n  return;\n};\n\nvar isEditing = function isEditing(props) {\n  var idSchema = props.idSchema,\n      uiOptions = props.uiOptions,\n      formContext = props.formContext;\n  var id = idSchema && idSchema.$id;\n  var editable = uiOptions.editable,\n      expanded = uiOptions.expanded;\n  var currentId = formContext && formContext.currentId;\n\n  if (editable && expanded) {\n    return true;\n  } else if (editable && currentId && currentId.startsWith(id)) {\n    return true;\n  }\n\n  return false;\n};\n\nvar isHidden = function isHidden(props) {\n  var formData = props.formData;\n\n  if (formData && formData.hidden) {\n    return true;\n  }\n\n  return false;\n};\n\nvar isDeleted = function isDeleted(props) {\n  var formData = props.formData;\n\n  if (formData && formData._action && formData._action === \"delete\") {\n    return true;\n  }\n\n  return false;\n};\n\nvar isRestored = function isRestored(props) {\n  var formData = props.formData;\n\n  if (formData && formData._action && formData._action === \"restore\") {\n    return true;\n  }\n\n  return false;\n};\n\nexport var getUiLayout = function getUiLayout(_ref) {\n  var _ref$schema = _ref.schema,\n      schema = _ref$schema === void 0 ? {} : _ref$schema,\n      _ref$uiSchema = _ref.uiSchema,\n      uiSchema = _ref$uiSchema === void 0 ? {} : _ref$uiSchema,\n      props = _objectWithoutPropertiesLoose(_ref, [\"schema\", \"uiSchema\"]);\n\n  var idPrefix = props.idPrefix,\n      name = props.name,\n      idSchema = props.idSchema,\n      formData = props.formData;\n  var uiOptions = getUiOptions(uiSchema); // layout\n\n  var layout = uiOptions.layout,\n      widget = uiOptions.widget; // title, description, summary, help\n\n  var title = uiOptions.title,\n      description = uiOptions.description,\n      help = uiOptions.help;\n  title = title && typeof title === \"string\" && title || schema.title || name || formData && formData.title && typeof formData.title === \"string\" && formData.title || undefined;\n  description = description && typeof description === \"string\" && description || undefined;\n  help = description && typeof description === \"string\" && description || uiOptions.help || undefined; // disabled, readonly, autofocus\n\n  var disabled = Boolean(props.disabled || uiSchema[\"ui:disabled\"]);\n  var readonly = Boolean(props.readonly || uiSchema[\"ui:readonly\"]);\n  var autofocus = Boolean(props.autofocus || uiSchema[\"ui:autofocus\"]); // editable, editing\n\n  var editable = uiOptions.editable && Boolean(uiOptions.editable) || false;\n  var editing = isEditing(_extends({}, props, {\n    uiOptions: uiOptions\n  })); // collapsible + expanded\n\n  var collapsible = uiOptions.collapsible && Boolean(uiOptions.collapsible) || false;\n  var expanded = isExpanded(_extends({}, props, {\n    uiOptions: uiOptions\n  })); // hideable + hidden\n\n  var hideable = Boolean(uiOptions.hideable);\n  var hidden = isHidden(props); // deletable + deleted\n\n  var deletable = Boolean(uiOptions.deletable);\n  var deleted = isDeleted(props); // restorable + restored\n\n  var restorable = Boolean(uiOptions.restorable);\n  var restored = isRestored(props); // hideable, deletable, restorable\n  //    let hideable = Boolean(uiOptions.hideable);\n  //    let deletable = Boolean(uiOptions.deletable);\n  // orderable\n\n  var orderable;\n\n  if (uiOptions.orderable === false) {\n    orderable = false;\n  } else {\n    orderable = true;\n  } // addable + removable\n\n\n  var addable, removable;\n\n  if (uiOptions.addable === false) {\n    addable = false;\n  } else {\n    addable = Boolean(uiOptions.addable);\n  }\n\n  if (uiOptions.removable === false) {\n    removable = false;\n  } else {\n    removable = Boolean(uiOptions.removable) || props.isArrayItem && props.hasRemove;\n  }\n  /*\n   // default array layout\n   if (!layout && schema.type === \"array\") {\n      layout = \"array\"\n  }\n   if (!layout && schema.type === \"object\") {\n      layout = \"object\"\n  }\n  \n  // simple layouts\n   if (!layout && (\n      schema.type === \"string\" ||\n      schema.type === \"number\" ||\n      schema.type === \"integer\" ||\n      schema.type === \"boolean\")\n  ) {\n      layout = \"field\"\n  }\n   */\n  // show label?\n\n\n  var label;\n\n  if (uiOptions.label === false) {\n    label = false;\n  } else if (schema.type === \"object\") {\n    label = schema.title && true || uiOptions.title && true || false;\n  } else if (schema.type === \"boolean\" && (widget === \"select\" || widget === \"radio\")) {\n    label = true;\n  } else if (schema.type === \"boolean\") {\n    label = false;\n  } else {\n    label = true;\n  } // show header?\n\n\n  var header;\n\n  if (!label) {\n    header = false;\n  } // show footer?\n\n\n  var footer;\n\n  if (schema.type == \"object\" && !uiOptions.buttons) {\n    footer = false;\n  }\n\n  return _extends({}, uiOptions, {\n    name: name,\n    id: idSchema && idSchema.$id,\n    idPrefix: idPrefix,\n    header: header,\n    footer: footer,\n    collapsible: collapsible,\n    expanded: expanded,\n    editable: editable,\n    editing: editing,\n    hideable: hideable,\n    hidden: hidden,\n    deletable: deletable,\n    deleted: deleted,\n    restorable: restorable,\n    restored: restored,\n    addable: addable,\n    removable: removable,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    label: label,\n    title: title || undefined,\n    description: description,\n    help: help,\n    layout: layout || \"default\"\n  });\n};\nexport default getUiLayout;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/es/utils/getUiLayout.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","getUiOptions","isExpanded","props","idSchema","uiOptions","formContext","id","$id","collapsible","editable","expanded","currentId","startsWith","isEditing","isHidden","formData","hidden","isDeleted","_action","isRestored","getUiLayout","_ref","_ref$schema","schema","_ref$uiSchema","uiSchema","idPrefix","name","layout","widget","title","description","help","undefined","disabled","Boolean","readonly","autofocus","editing","hideable","deletable","deleted","restorable","restored","orderable","addable","removable","isArrayItem","hasRemove","label","type","header","footer","buttons"],"mappings":"AAAA,SAASA,QAAT,GAAoB;AAAEA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,UAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,6BAAT,CAAuCN,MAAvC,EAA+CO,QAA/C,EAAyD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIJ,MAAM,GAAG,EAAb;AAAiB,MAAIY,UAAU,GAAGd,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAjB;AAAsC,MAAIC,GAAJ,EAASJ,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGW,UAAU,CAACT,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AAAEI,IAAAA,GAAG,GAAGO,UAAU,CAACX,CAAD,CAAhB;AAAqB,QAAIU,QAAQ,CAACG,OAAT,CAAiBT,GAAjB,KAAyB,CAA7B,EAAgC;AAAUL,IAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;;AAAC,SAAOL,MAAP;AAAgB;;AAEnT,SAASe,YAAT,QAA6B,IAA7B;;AAEA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,KAApB,EAA2B;AAC1C,MAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;AAAA,MACIC,SAAS,GAAGF,KAAK,CAACE,SADtB;AAAA,MAEIC,WAAW,GAAGH,KAAK,CAACG,WAFxB;AAGA,MAAIC,EAAE,GAAGH,QAAQ,IAAIA,QAAQ,CAACI,GAA9B;AACA,MAAIC,WAAW,GAAGJ,SAAS,CAACI,WAA5B;AAAA,MACIC,QAAQ,GAAGL,SAAS,CAACK,QADzB;AAAA,MAEIC,QAAQ,GAAGN,SAAS,CAACM,QAFzB;AAGA,MAAIC,SAAS,GAAGN,WAAW,IAAIA,WAAW,CAACM,SAA3C;;AAEA,MAAIF,QAAQ,IAAIC,QAAZ,IAAwB,CAACC,SAA7B,EAAwC;AACtC,WAAO,IAAP;AACD,GAFD,MAEO,IAAIF,QAAQ,IAAIE,SAAZ,IAAyBA,SAAS,CAACC,UAAV,CAAqBN,EAArB,CAA7B,EAAuD;AAC5D,WAAO,IAAP;AACD,GAFM,MAEA,IAAIG,QAAJ,EAAc;AACnB,WAAO,KAAP;AACD,GAFM,MAEA,IAAID,WAAW,IAAIE,QAAf,IAA2B,CAACC,SAAhC,EAA2C;AAChD,WAAO,IAAP;AACD,GAFM,MAEA,IAAIH,WAAW,IAAIG,SAAf,IAA4BA,SAAS,CAACC,UAAV,CAAqBN,EAArB,CAAhC,EAA0D;AAC/D,WAAO,IAAP;AACD,GAFM,MAEA,IAAIE,WAAJ,EAAiB;AACtB,WAAO,KAAP;AACD;;AAED;AACD,CAzBD;;AA2BA,IAAIK,SAAS,GAAG,SAASA,SAAT,CAAmBX,KAAnB,EAA0B;AACxC,MAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;AAAA,MACIC,SAAS,GAAGF,KAAK,CAACE,SADtB;AAAA,MAEIC,WAAW,GAAGH,KAAK,CAACG,WAFxB;AAGA,MAAIC,EAAE,GAAGH,QAAQ,IAAIA,QAAQ,CAACI,GAA9B;AACA,MAAIE,QAAQ,GAAGL,SAAS,CAACK,QAAzB;AAAA,MACIC,QAAQ,GAAGN,SAAS,CAACM,QADzB;AAEA,MAAIC,SAAS,GAAGN,WAAW,IAAIA,WAAW,CAACM,SAA3C;;AAEA,MAAIF,QAAQ,IAAIC,QAAhB,EAA0B;AACxB,WAAO,IAAP;AACD,GAFD,MAEO,IAAID,QAAQ,IAAIE,SAAZ,IAAyBA,SAAS,CAACC,UAAV,CAAqBN,EAArB,CAA7B,EAAuD;AAC5D,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,CAhBD;;AAkBA,IAAIQ,QAAQ,GAAG,SAASA,QAAT,CAAkBZ,KAAlB,EAAyB;AACtC,MAAIa,QAAQ,GAAGb,KAAK,CAACa,QAArB;;AAEA,MAAIA,QAAQ,IAAIA,QAAQ,CAACC,MAAzB,EAAiC;AAC/B,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,CARD;;AAUA,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBf,KAAnB,EAA0B;AACxC,MAAIa,QAAQ,GAAGb,KAAK,CAACa,QAArB;;AAEA,MAAIA,QAAQ,IAAIA,QAAQ,CAACG,OAArB,IAAgCH,QAAQ,CAACG,OAAT,KAAqB,QAAzD,EAAmE;AACjE,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,CARD;;AAUA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBjB,KAApB,EAA2B;AAC1C,MAAIa,QAAQ,GAAGb,KAAK,CAACa,QAArB;;AAEA,MAAIA,QAAQ,IAAIA,QAAQ,CAACG,OAArB,IAAgCH,QAAQ,CAACG,OAAT,KAAqB,SAAzD,EAAoE;AAClE,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,CARD;;AAUA,OAAO,IAAIE,WAAW,GAAG,SAASA,WAAT,CAAqBC,IAArB,EAA2B;AAClD,MAAIC,WAAW,GAAGD,IAAI,CAACE,MAAvB;AAAA,MACIA,MAAM,GAAGD,WAAW,KAAK,KAAK,CAArB,GAAyB,EAAzB,GAA8BA,WAD3C;AAAA,MAEIE,aAAa,GAAGH,IAAI,CAACI,QAFzB;AAAA,MAGIA,QAAQ,GAAGD,aAAa,KAAK,KAAK,CAAvB,GAA2B,EAA3B,GAAgCA,aAH/C;AAAA,MAIItB,KAAK,GAAGP,6BAA6B,CAAC0B,IAAD,EAAO,CAAC,QAAD,EAAW,UAAX,CAAP,CAJzC;;AAMA,MAAIK,QAAQ,GAAGxB,KAAK,CAACwB,QAArB;AAAA,MACIC,IAAI,GAAGzB,KAAK,CAACyB,IADjB;AAAA,MAEIxB,QAAQ,GAAGD,KAAK,CAACC,QAFrB;AAAA,MAGIY,QAAQ,GAAGb,KAAK,CAACa,QAHrB;AAIA,MAAIX,SAAS,GAAGJ,YAAY,CAACyB,QAAD,CAA5B,CAXkD,CAWV;;AAExC,MAAIG,MAAM,GAAGxB,SAAS,CAACwB,MAAvB;AAAA,MACIC,MAAM,GAAGzB,SAAS,CAACyB,MADvB,CAbkD,CAcnB;;AAE/B,MAAIC,KAAK,GAAG1B,SAAS,CAAC0B,KAAtB;AAAA,MACIC,WAAW,GAAG3B,SAAS,CAAC2B,WAD5B;AAAA,MAEIC,IAAI,GAAG5B,SAAS,CAAC4B,IAFrB;AAGAF,EAAAA,KAAK,GAAGA,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA1B,IAAsCA,KAAtC,IAA+CP,MAAM,CAACO,KAAtD,IAA+DH,IAA/D,IAAuEZ,QAAQ,IAAIA,QAAQ,CAACe,KAArB,IAA8B,OAAOf,QAAQ,CAACe,KAAhB,KAA0B,QAAxD,IAAoEf,QAAQ,CAACe,KAApJ,IAA6JG,SAArK;AACAF,EAAAA,WAAW,GAAGA,WAAW,IAAI,OAAOA,WAAP,KAAuB,QAAtC,IAAkDA,WAAlD,IAAiEE,SAA/E;AACAD,EAAAA,IAAI,GAAGD,WAAW,IAAI,OAAOA,WAAP,KAAuB,QAAtC,IAAkDA,WAAlD,IAAiE3B,SAAS,CAAC4B,IAA3E,IAAmFC,SAA1F,CArBkD,CAqBmD;;AAErG,MAAIC,QAAQ,GAAGC,OAAO,CAACjC,KAAK,CAACgC,QAAN,IAAkBT,QAAQ,CAAC,aAAD,CAA3B,CAAtB;AACA,MAAIW,QAAQ,GAAGD,OAAO,CAACjC,KAAK,CAACkC,QAAN,IAAkBX,QAAQ,CAAC,aAAD,CAA3B,CAAtB;AACA,MAAIY,SAAS,GAAGF,OAAO,CAACjC,KAAK,CAACmC,SAAN,IAAmBZ,QAAQ,CAAC,cAAD,CAA5B,CAAvB,CAzBkD,CAyBoB;;AAEtE,MAAIhB,QAAQ,GAAGL,SAAS,CAACK,QAAV,IAAsB0B,OAAO,CAAC/B,SAAS,CAACK,QAAX,CAA7B,IAAqD,KAApE;AACA,MAAI6B,OAAO,GAAGzB,SAAS,CAAC/B,QAAQ,CAAC,EAAD,EAAKoB,KAAL,EAAY;AAC1CE,IAAAA,SAAS,EAAEA;AAD+B,GAAZ,CAAT,CAAvB,CA5BkD,CA8B7C;;AAEL,MAAII,WAAW,GAAGJ,SAAS,CAACI,WAAV,IAAyB2B,OAAO,CAAC/B,SAAS,CAACI,WAAX,CAAhC,IAA2D,KAA7E;AACA,MAAIE,QAAQ,GAAGT,UAAU,CAACnB,QAAQ,CAAC,EAAD,EAAKoB,KAAL,EAAY;AAC5CE,IAAAA,SAAS,EAAEA;AADiC,GAAZ,CAAT,CAAzB,CAjCkD,CAmC7C;;AAEL,MAAImC,QAAQ,GAAGJ,OAAO,CAAC/B,SAAS,CAACmC,QAAX,CAAtB;AACA,MAAIvB,MAAM,GAAGF,QAAQ,CAACZ,KAAD,CAArB,CAtCkD,CAsCpB;;AAE9B,MAAIsC,SAAS,GAAGL,OAAO,CAAC/B,SAAS,CAACoC,SAAX,CAAvB;AACA,MAAIC,OAAO,GAAGxB,SAAS,CAACf,KAAD,CAAvB,CAzCkD,CAyClB;;AAEhC,MAAIwC,UAAU,GAAGP,OAAO,CAAC/B,SAAS,CAACsC,UAAX,CAAxB;AACA,MAAIC,QAAQ,GAAGxB,UAAU,CAACjB,KAAD,CAAzB,CA5CkD,CA4ChB;AAClC;AACA;AACA;;AAEA,MAAI0C,SAAJ;;AAEA,MAAIxC,SAAS,CAACwC,SAAV,KAAwB,KAA5B,EAAmC;AACjCA,IAAAA,SAAS,GAAG,KAAZ;AACD,GAFD,MAEO;AACLA,IAAAA,SAAS,GAAG,IAAZ;AACD,GAvDiD,CAuDhD;;;AAGF,MAAIC,OAAJ,EAAaC,SAAb;;AAEA,MAAI1C,SAAS,CAACyC,OAAV,KAAsB,KAA1B,EAAiC;AAC/BA,IAAAA,OAAO,GAAG,KAAV;AACD,GAFD,MAEO;AACLA,IAAAA,OAAO,GAAGV,OAAO,CAAC/B,SAAS,CAACyC,OAAX,CAAjB;AACD;;AAED,MAAIzC,SAAS,CAAC0C,SAAV,KAAwB,KAA5B,EAAmC;AACjCA,IAAAA,SAAS,GAAG,KAAZ;AACD,GAFD,MAEO;AACLA,IAAAA,SAAS,GAAGX,OAAO,CAAC/B,SAAS,CAAC0C,SAAX,CAAP,IAAgC5C,KAAK,CAAC6C,WAAN,IAAqB7C,KAAK,CAAC8C,SAAvE;AACD;AACD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE;;;AAGA,MAAIC,KAAJ;;AAEA,MAAI7C,SAAS,CAAC6C,KAAV,KAAoB,KAAxB,EAA+B;AAC7BA,IAAAA,KAAK,GAAG,KAAR;AACD,GAFD,MAEO,IAAI1B,MAAM,CAAC2B,IAAP,KAAgB,QAApB,EAA8B;AACnCD,IAAAA,KAAK,GAAG1B,MAAM,CAACO,KAAP,IAAgB,IAAhB,IAAwB1B,SAAS,CAAC0B,KAAV,IAAmB,IAA3C,IAAmD,KAA3D;AACD,GAFM,MAEA,IAAIP,MAAM,CAAC2B,IAAP,KAAgB,SAAhB,KAA8BrB,MAAM,KAAK,QAAX,IAAuBA,MAAM,KAAK,OAAhE,CAAJ,EAA8E;AACnFoB,IAAAA,KAAK,GAAG,IAAR;AACD,GAFM,MAEA,IAAI1B,MAAM,CAAC2B,IAAP,KAAgB,SAApB,EAA+B;AACpCD,IAAAA,KAAK,GAAG,KAAR;AACD,GAFM,MAEA;AACLA,IAAAA,KAAK,GAAG,IAAR;AACD,GAzGiD,CAyGhD;;;AAGF,MAAIE,MAAJ;;AAEA,MAAI,CAACF,KAAL,EAAY;AACVE,IAAAA,MAAM,GAAG,KAAT;AACD,GAhHiD,CAgHhD;;;AAGF,MAAIC,MAAJ;;AAEA,MAAI7B,MAAM,CAAC2B,IAAP,IAAe,QAAf,IAA2B,CAAC9C,SAAS,CAACiD,OAA1C,EAAmD;AACjDD,IAAAA,MAAM,GAAG,KAAT;AACD;;AAED,SAAOtE,QAAQ,CAAC,EAAD,EAAKsB,SAAL,EAAgB;AAC7BuB,IAAAA,IAAI,EAAEA,IADuB;AAE7BrB,IAAAA,EAAE,EAAEH,QAAQ,IAAIA,QAAQ,CAACI,GAFI;AAG7BmB,IAAAA,QAAQ,EAAEA,QAHmB;AAI7ByB,IAAAA,MAAM,EAAEA,MAJqB;AAK7BC,IAAAA,MAAM,EAAEA,MALqB;AAM7B5C,IAAAA,WAAW,EAAEA,WANgB;AAO7BE,IAAAA,QAAQ,EAAEA,QAPmB;AAQ7BD,IAAAA,QAAQ,EAAEA,QARmB;AAS7B6B,IAAAA,OAAO,EAAEA,OAToB;AAU7BC,IAAAA,QAAQ,EAAEA,QAVmB;AAW7BvB,IAAAA,MAAM,EAAEA,MAXqB;AAY7BwB,IAAAA,SAAS,EAAEA,SAZkB;AAa7BC,IAAAA,OAAO,EAAEA,OAboB;AAc7BC,IAAAA,UAAU,EAAEA,UAdiB;AAe7BC,IAAAA,QAAQ,EAAEA,QAfmB;AAgB7BE,IAAAA,OAAO,EAAEA,OAhBoB;AAiB7BC,IAAAA,SAAS,EAAEA,SAjBkB;AAkB7BZ,IAAAA,QAAQ,EAAEA,QAlBmB;AAmB7BE,IAAAA,QAAQ,EAAEA,QAnBmB;AAoB7BC,IAAAA,SAAS,EAAEA,SApBkB;AAqB7BY,IAAAA,KAAK,EAAEA,KArBsB;AAsB7BnB,IAAAA,KAAK,EAAEA,KAAK,IAAIG,SAtBa;AAuB7BF,IAAAA,WAAW,EAAEA,WAvBgB;AAwB7BC,IAAAA,IAAI,EAAEA,IAxBuB;AAyB7BJ,IAAAA,MAAM,EAAEA,MAAM,IAAI;AAzBW,GAAhB,CAAf;AA2BD,CApJM;AAqJP,eAAeR,WAAf","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { getUiOptions } from \"./\";\n\nvar isExpanded = function isExpanded(props) {\n  var idSchema = props.idSchema,\n      uiOptions = props.uiOptions,\n      formContext = props.formContext;\n  var id = idSchema && idSchema.$id;\n  var collapsible = uiOptions.collapsible,\n      editable = uiOptions.editable,\n      expanded = uiOptions.expanded;\n  var currentId = formContext && formContext.currentId;\n\n  if (editable && expanded && !currentId) {\n    return true;\n  } else if (editable && currentId && currentId.startsWith(id)) {\n    return true;\n  } else if (editable) {\n    return false;\n  } else if (collapsible && expanded && !currentId) {\n    return true;\n  } else if (collapsible && currentId && currentId.startsWith(id)) {\n    return true;\n  } else if (collapsible) {\n    return false;\n  }\n\n  return;\n};\n\nvar isEditing = function isEditing(props) {\n  var idSchema = props.idSchema,\n      uiOptions = props.uiOptions,\n      formContext = props.formContext;\n  var id = idSchema && idSchema.$id;\n  var editable = uiOptions.editable,\n      expanded = uiOptions.expanded;\n  var currentId = formContext && formContext.currentId;\n\n  if (editable && expanded) {\n    return true;\n  } else if (editable && currentId && currentId.startsWith(id)) {\n    return true;\n  }\n\n  return false;\n};\n\nvar isHidden = function isHidden(props) {\n  var formData = props.formData;\n\n  if (formData && formData.hidden) {\n    return true;\n  }\n\n  return false;\n};\n\nvar isDeleted = function isDeleted(props) {\n  var formData = props.formData;\n\n  if (formData && formData._action && formData._action === \"delete\") {\n    return true;\n  }\n\n  return false;\n};\n\nvar isRestored = function isRestored(props) {\n  var formData = props.formData;\n\n  if (formData && formData._action && formData._action === \"restore\") {\n    return true;\n  }\n\n  return false;\n};\n\nexport var getUiLayout = function getUiLayout(_ref) {\n  var _ref$schema = _ref.schema,\n      schema = _ref$schema === void 0 ? {} : _ref$schema,\n      _ref$uiSchema = _ref.uiSchema,\n      uiSchema = _ref$uiSchema === void 0 ? {} : _ref$uiSchema,\n      props = _objectWithoutPropertiesLoose(_ref, [\"schema\", \"uiSchema\"]);\n\n  var idPrefix = props.idPrefix,\n      name = props.name,\n      idSchema = props.idSchema,\n      formData = props.formData;\n  var uiOptions = getUiOptions(uiSchema); // layout\n\n  var layout = uiOptions.layout,\n      widget = uiOptions.widget; // title, description, summary, help\n\n  var title = uiOptions.title,\n      description = uiOptions.description,\n      help = uiOptions.help;\n  title = title && typeof title === \"string\" && title || schema.title || name || formData && formData.title && typeof formData.title === \"string\" && formData.title || undefined;\n  description = description && typeof description === \"string\" && description || undefined;\n  help = description && typeof description === \"string\" && description || uiOptions.help || undefined; // disabled, readonly, autofocus\n\n  var disabled = Boolean(props.disabled || uiSchema[\"ui:disabled\"]);\n  var readonly = Boolean(props.readonly || uiSchema[\"ui:readonly\"]);\n  var autofocus = Boolean(props.autofocus || uiSchema[\"ui:autofocus\"]); // editable, editing\n\n  var editable = uiOptions.editable && Boolean(uiOptions.editable) || false;\n  var editing = isEditing(_extends({}, props, {\n    uiOptions: uiOptions\n  })); // collapsible + expanded\n\n  var collapsible = uiOptions.collapsible && Boolean(uiOptions.collapsible) || false;\n  var expanded = isExpanded(_extends({}, props, {\n    uiOptions: uiOptions\n  })); // hideable + hidden\n\n  var hideable = Boolean(uiOptions.hideable);\n  var hidden = isHidden(props); // deletable + deleted\n\n  var deletable = Boolean(uiOptions.deletable);\n  var deleted = isDeleted(props); // restorable + restored\n\n  var restorable = Boolean(uiOptions.restorable);\n  var restored = isRestored(props); // hideable, deletable, restorable\n  //    let hideable = Boolean(uiOptions.hideable);\n  //    let deletable = Boolean(uiOptions.deletable);\n  // orderable\n\n  var orderable;\n\n  if (uiOptions.orderable === false) {\n    orderable = false;\n  } else {\n    orderable = true;\n  } // addable + removable\n\n\n  var addable, removable;\n\n  if (uiOptions.addable === false) {\n    addable = false;\n  } else {\n    addable = Boolean(uiOptions.addable);\n  }\n\n  if (uiOptions.removable === false) {\n    removable = false;\n  } else {\n    removable = Boolean(uiOptions.removable) || props.isArrayItem && props.hasRemove;\n  }\n  /*\n   // default array layout\n   if (!layout && schema.type === \"array\") {\n      layout = \"array\"\n  }\n   if (!layout && schema.type === \"object\") {\n      layout = \"object\"\n  }\n  \n  // simple layouts\n   if (!layout && (\n      schema.type === \"string\" ||\n      schema.type === \"number\" ||\n      schema.type === \"integer\" ||\n      schema.type === \"boolean\")\n  ) {\n      layout = \"field\"\n  }\n   */\n  // show label?\n\n\n  var label;\n\n  if (uiOptions.label === false) {\n    label = false;\n  } else if (schema.type === \"object\") {\n    label = schema.title && true || uiOptions.title && true || false;\n  } else if (schema.type === \"boolean\" && (widget === \"select\" || widget === \"radio\")) {\n    label = true;\n  } else if (schema.type === \"boolean\") {\n    label = false;\n  } else {\n    label = true;\n  } // show header?\n\n\n  var header;\n\n  if (!label) {\n    header = false;\n  } // show footer?\n\n\n  var footer;\n\n  if (schema.type == \"object\" && !uiOptions.buttons) {\n    footer = false;\n  }\n\n  return _extends({}, uiOptions, {\n    name: name,\n    id: idSchema && idSchema.$id,\n    idPrefix: idPrefix,\n    header: header,\n    footer: footer,\n    collapsible: collapsible,\n    expanded: expanded,\n    editable: editable,\n    editing: editing,\n    hideable: hideable,\n    hidden: hidden,\n    deletable: deletable,\n    deleted: deleted,\n    restorable: restorable,\n    restored: restored,\n    addable: addable,\n    removable: removable,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    label: label,\n    title: title || undefined,\n    description: description,\n    help: help,\n    layout: layout || \"default\"\n  });\n};\nexport default getUiLayout;"]},"metadata":{},"sourceType":"module"}