{"ast":null,"code":"import links from \"../../page/links/uiSchema\";\nexport default { ...links,\n  \"ui:field\": \"kpAnnotateArray\",\n  \"ui:title\": \"Markører\",\n  \"ui:layout\": \"list\",\n  \"ui:preview\": {\n    \"select\": {\n      \"title\": \"title\"\n    },\n\n    prepare({\n      formData = []\n    }) {\n      return {\n        title: formData.length + \" markører\"\n      };\n    }\n\n  },\n  \"items\": { ...links.items,\n    \"ui:preview\": {\n      \"select\": {\n        \"sortBadge\": \"sortBadge\",\n        \"imageUrl\": \"imageUrl\",\n        \"typeLabel\": \"typeLabel\",\n        \"title\": \"title\",\n        \"metadata\": \"metadata\"\n      },\n\n      prepare({\n        formData,\n        formContext,\n        index\n      }) {\n        const {\n          mediaId,\n          media,\n          referenceId,\n          reference\n        } = formData;\n        const locale = formContext.currentLocale || formContext.defaultLocale;\n        const localeId = \"locale:\" + locale;\n        const runningHead = formData.runningHead && formData.runningHead[localeId];\n        const title = formData.title && formData.title[localeId];\n        const sortBadge = index + 1;\n        const localTitle = runningHead && title && runningHead + \": \" + title || title;\n        const referenceTitle = referenceId && reference && reference.title;\n        const imageUrl = media && media.imageUrl || reference && reference.imageUrl;\n        const typeLabel = referenceId && reference && reference.documentType;\n        let metadata = [];\n        referenceId && reference && reference.title && metadata.push(reference.title);\n        return {\n          sortBadge: sortBadge,\n          imageUrl: imageUrl,\n          typeLabel: typeLabel,\n          title: localTitle || referenceTitle,\n          metadata: metadata\n        };\n      }\n\n    }\n  }\n};","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/schemas/pageAnnotate/annotateLinks/uiSchema.js"],"names":["links","prepare","formData","title","length","items","formContext","index","mediaId","media","referenceId","reference","locale","currentLocale","defaultLocale","localeId","runningHead","sortBadge","localTitle","referenceTitle","imageUrl","typeLabel","documentType","metadata","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,2BAAlB;AAEA,eAAe,EACX,GAAGA,KADQ;AAEX,cAAY,iBAFD;AAGX,cAAY,UAHD;AAIX,eAAa,MAJF;AAKX,gBAAc;AACV,cAAU;AACN,eAAS;AADH,KADA;;AAIVC,IAAAA,OAAO,CAAC;AAACC,MAAAA,QAAQ,GAAG;AAAZ,KAAD,EAAkB;AACrB,aAAO;AACHC,QAAAA,KAAK,EAAED,QAAQ,CAACE,MAAT,GAAkB;AADtB,OAAP;AAGH;;AARS,GALH;AAeX,WAAS,EACL,GAAGJ,KAAK,CAACK,KADJ;AAEL,kBAAc;AACV,gBAAU;AACN,qBAAa,WADP;AAEN,oBAAY,UAFN;AAGN,qBAAa,WAHP;AAIN,iBAAS,OAJH;AAKN,oBAAY;AALN,OADA;;AAQVJ,MAAAA,OAAO,CAAC;AAACC,QAAAA,QAAD;AAAWI,QAAAA,WAAX;AAAwBC,QAAAA;AAAxB,OAAD,EAAiC;AACpC,cAAM;AAAEC,UAAAA,OAAF;AAAWC,UAAAA,KAAX;AAAkBC,UAAAA,WAAlB;AAA+BC,UAAAA;AAA/B,YAA6CT,QAAnD;AAEA,cAAMU,MAAM,GAAGN,WAAW,CAACO,aAAZ,IAA6BP,WAAW,CAACQ,aAAxD;AACA,cAAMC,QAAQ,GAAG,YAAYH,MAA7B;AAEA,cAAMI,WAAW,GAAGd,QAAQ,CAACc,WAAT,IAAwBd,QAAQ,CAACc,WAAT,CAAqBD,QAArB,CAA5C;AACA,cAAMZ,KAAK,GAAGD,QAAQ,CAACC,KAAT,IAAkBD,QAAQ,CAACC,KAAT,CAAeY,QAAf,CAAhC;AACA,cAAME,SAAS,GAAGV,KAAK,GAAG,CAA1B;AAEA,cAAMW,UAAU,GAAGF,WAAW,IAAIb,KAAf,IAAwBa,WAAW,GAAG,IAAd,GAAqBb,KAA7C,IAAsDA,KAAzE;AACA,cAAMgB,cAAc,GAAGT,WAAW,IAAIC,SAAf,IAA4BA,SAAS,CAACR,KAA7D;AAEA,cAAMiB,QAAQ,GAAGX,KAAK,IAAIA,KAAK,CAACW,QAAf,IAA0BT,SAAS,IAAIA,SAAS,CAACS,QAAlE;AACA,cAAMC,SAAS,GAAGX,WAAW,IAAIC,SAAf,IAA4BA,SAAS,CAACW,YAAxD;AAEA,YAAIC,QAAQ,GAAG,EAAf;AAEAb,QAAAA,WAAW,IAAIC,SAAf,IAA4BA,SAAS,CAACR,KAAtC,IAA+CoB,QAAQ,CAACC,IAAT,CAAcb,SAAS,CAACR,KAAxB,CAA/C;AAEA,eAAO;AACHc,UAAAA,SAAS,EAAEA,SADR;AAEHG,UAAAA,QAAQ,EAAEA,QAFP;AAGHC,UAAAA,SAAS,EAAEA,SAHR;AAIHlB,UAAAA,KAAK,EAAEe,UAAU,IAAIC,cAJlB;AAKHI,UAAAA,QAAQ,EAAEA;AALP,SAAP;AAQH;;AApCS;AAFT;AAfE,CAAf","sourcesContent":["import links from \"../../page/links/uiSchema\"\n\nexport default {\n    ...links,\n    \"ui:field\": \"kpAnnotateArray\",\n    \"ui:title\": \"Markører\",\n    \"ui:layout\": \"list\",\n    \"ui:preview\": {\n        \"select\": {\n            \"title\": \"title\"\n        },\n        prepare({formData = []}) {\n            return {\n                title: formData.length + \" markører\"\n            }\n        }\n    },\n    \"items\": {\n        ...links.items,\n        \"ui:preview\": {\n            \"select\": {\n                \"sortBadge\": \"sortBadge\",\n                \"imageUrl\": \"imageUrl\",\n                \"typeLabel\": \"typeLabel\",\n                \"title\": \"title\",\n                \"metadata\": \"metadata\",\n            },\n            prepare({formData, formContext, index}) {\n                const { mediaId, media, referenceId, reference } = formData\n    \n                const locale = formContext.currentLocale || formContext.defaultLocale;\n                const localeId = \"locale:\" + locale\n    \n                const runningHead = formData.runningHead && formData.runningHead[localeId] \n                const title = formData.title && formData.title[localeId] \n                const sortBadge = index + 1\n\n                const localTitle = runningHead && title && runningHead + \": \" + title || title\n                const referenceTitle = referenceId && reference && reference.title\n    \n                const imageUrl = media && media.imageUrl ||reference && reference.imageUrl\n                const typeLabel = referenceId && reference && reference.documentType\n    \n                let metadata = []\n    \n                referenceId && reference && reference.title && metadata.push(reference.title)\n    \n                return {\n                    sortBadge: sortBadge,\n                    imageUrl: imageUrl,\n                    typeLabel: typeLabel,\n                    title: localTitle || referenceTitle,\n                    metadata: metadata,\n                }\n    \n            }\n        },\n    }\n}"]},"metadata":{},"sourceType":"module"}