{"ast":null,"code":"import moment from \"moment\";\nimport getVCalendarEventRRule from \"./getVCalendarEventRRule\";\nimport { v4 as uuidv4 } from 'uuid';\nexport const getVCalendarEvent = (event = {}) => {\n  if (event.rrule === \"custom\") {\n    event.rrule = getVCalendarEventRRule(event);\n  }\n\n  if (!event.rrule) {\n    delete event.rrule;\n  }\n\n  if (!event.uid) {\n    event.uid = event.uniqueId || event.id || uuidv4();\n  }\n\n  let vEvent = [];\n  vEvent.push(\"BEGIN:VEVENT\");\n  const {\n    allday,\n    repeat,\n    title\n  } = event;\n\n  if (!event.summary && title) {\n    event.summary = title;\n  }\n\n  Object.keys(event).map(name => {\n    const KEY = name.toUpperCase();\n    const VALUE = event && event[name];\n\n    if (allday && (KEY === \"DTSTART\" || KEY === \"DTEND\")) {\n      vEvent.push(KEY + \":\" + moment(VALUE).format(\"YYYYMMDD\"));\n    } else if (KEY === \"DTSTART\" || KEY === \"DTEND\") {\n      vEvent.push(KEY + \":\" + moment(VALUE).format(\"YYYYMMDDTHHmmss\"));\n    }\n\n    if (KEY === \"RRULE\") {\n      vEvent.push(KEY + \":\" + VALUE);\n    }\n\n    if (KEY === \"CATEGORIES\") {\n      vEvent.push(KEY + \":\" + VALUE);\n    }\n\n    if (KEY === \"UID\" || KEY === \"RECURRENCE-ID\" || KEY === \"SUMMARY\" || KEY === \"LOCATION\") {\n      vEvent.push(KEY + \":\" + VALUE);\n    }\n  });\n  vEvent.push(\"END:VEVENT\");\n  return \"\" + vEvent.join(\"\\n\") + \"\";\n};\nexport default getVCalendarEvent;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/utils/getVCalendarEvent.js"],"names":["moment","getVCalendarEventRRule","v4","uuidv4","getVCalendarEvent","event","rrule","uid","uniqueId","id","vEvent","push","allday","repeat","title","summary","Object","keys","map","name","KEY","toUpperCase","VALUE","format","join"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AAEA,OAAO,MAAMC,iBAAiB,GAAG,CAACC,KAAK,GAAG,EAAT,KAAgB;AAE7C,MAAIA,KAAK,CAACC,KAAN,KAAgB,QAApB,EAA8B;AAC1BD,IAAAA,KAAK,CAACC,KAAN,GAAcL,sBAAsB,CAACI,KAAD,CAApC;AACH;;AAED,MAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AACd,WAAOD,KAAK,CAACC,KAAb;AACH;;AAED,MAAI,CAACD,KAAK,CAACE,GAAX,EAAgB;AACZF,IAAAA,KAAK,CAACE,GAAN,GAAYF,KAAK,CAACG,QAAN,IAAkBH,KAAK,CAACI,EAAxB,IAA8BN,MAAM,EAAhD;AACH;;AAED,MAAIO,MAAM,GAAG,EAAb;AAEAA,EAAAA,MAAM,CAACC,IAAP,CAAY,cAAZ;AAEA,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,MAAV;AAAkBC,IAAAA;AAAlB,MAA4BT,KAAlC;;AAEA,MAAI,CAACA,KAAK,CAACU,OAAP,IAAkBD,KAAtB,EAA6B;AACzBT,IAAAA,KAAK,CAACU,OAAN,GAAgBD,KAAhB;AACH;;AAEDE,EAAAA,MAAM,CAACC,IAAP,CAAYZ,KAAZ,EAAmBa,GAAnB,CAAuBC,IAAI,IAAI;AAE3B,UAAMC,GAAG,GAAGD,IAAI,CAACE,WAAL,EAAZ;AACA,UAAMC,KAAK,GAAGjB,KAAK,IAAIA,KAAK,CAACc,IAAD,CAA5B;;AAEA,QAAIP,MAAM,KAAKQ,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,OAAlC,CAAV,EAAsD;AAClDV,MAAAA,MAAM,CAACC,IAAP,CAAYS,GAAG,GAAC,GAAJ,GAAQpB,MAAM,CAACsB,KAAD,CAAN,CAAcC,MAAd,CAAqB,UAArB,CAApB;AACH,KAFD,MAEO,IAAIH,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,OAAjC,EAA0C;AAC7CV,MAAAA,MAAM,CAACC,IAAP,CAAYS,GAAG,GAAC,GAAJ,GAAQpB,MAAM,CAACsB,KAAD,CAAN,CAAcC,MAAd,CAAqB,iBAArB,CAApB;AACH;;AAED,QAAIH,GAAG,KAAK,OAAZ,EAAqB;AACjBV,MAAAA,MAAM,CAACC,IAAP,CAAYS,GAAG,GAAC,GAAJ,GAAQE,KAApB;AACH;;AAED,QAAIF,GAAG,KAAK,YAAZ,EAA0B;AACtBV,MAAAA,MAAM,CAACC,IAAP,CAAYS,GAAG,GAAC,GAAJ,GAAQE,KAApB;AACH;;AAED,QAAIF,GAAG,KAAK,KAAR,IAAiBA,GAAG,KAAK,eAAzB,IAA4CA,GAAG,KAAK,SAApD,IAAiEA,GAAG,KAAK,UAA7E,EAAyF;AACrFV,MAAAA,MAAM,CAACC,IAAP,CAAYS,GAAG,GAAC,GAAJ,GAAQE,KAApB;AACH;AAEJ,GAvBD;AAyBAZ,EAAAA,MAAM,CAACC,IAAP,CAAY,YAAZ;AAEA,SAAO,KAAKD,MAAM,CAACc,IAAP,CAAY,IAAZ,CAAL,GAAyB,EAAhC;AAEH,CArDM;AAuDP,eAAepB,iBAAf","sourcesContent":["import moment from \"moment\"\nimport getVCalendarEventRRule from \"./getVCalendarEventRRule\"\nimport { v4 as uuidv4 } from 'uuid';\n\nexport const getVCalendarEvent = (event = {}) => {\n\n    if (event.rrule === \"custom\") {\n        event.rrule = getVCalendarEventRRule(event)\n    }\n\n    if (!event.rrule) {\n        delete event.rrule\n    }\n\n    if (!event.uid) {\n        event.uid = event.uniqueId || event.id || uuidv4()\n    }\n\n    let vEvent = []\n\n    vEvent.push(\"BEGIN:VEVENT\")\n\n    const { allday, repeat, title } = event\n\n    if (!event.summary && title) {\n        event.summary = title\n    }\n\n    Object.keys(event).map(name => {\n\n        const KEY = name.toUpperCase()\n        const VALUE = event && event[name]\n\n        if (allday && (KEY === \"DTSTART\" || KEY === \"DTEND\")) {\n            vEvent.push(KEY+\":\"+moment(VALUE).format(\"YYYYMMDD\"))\n        } else if (KEY === \"DTSTART\" || KEY === \"DTEND\") {\n            vEvent.push(KEY+\":\"+moment(VALUE).format(\"YYYYMMDDTHHmmss\"))\n        }\n\n        if (KEY === \"RRULE\") {\n            vEvent.push(KEY+\":\"+VALUE)            \n        }\n\n        if (KEY === \"CATEGORIES\") {\n            vEvent.push(KEY+\":\"+VALUE)            \n        }\n\n        if (KEY === \"UID\" || KEY === \"RECURRENCE-ID\" || KEY === \"SUMMARY\" || KEY === \"LOCATION\") {\n            vEvent.push(KEY+\":\"+VALUE)            \n        }\n\n    })\n\n    vEvent.push(\"END:VEVENT\")\n    \n    return \"\" + vEvent.join(\"\\n\") + \"\"\n\n}\n\nexport default getVCalendarEvent"]},"metadata":{},"sourceType":"module"}