{"ast":null,"code":"var _jsxFileName = \"/Users/inge/Sites/kit-kulturpunkt/src/components/KpLink/KpLinkMediaField.js\";\nimport React, { Component } from 'react';\nimport { ImagePreview } from \"@kit-ui/admin\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"block\",\n    position: \"relative\",\n    backgroundColor: \"#333\",\n    color: \"white\",\n    \"&:hover $preview\": {\n      opacity: .5\n    }\n  },\n  action: {\n    zIndex: 2,\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    \"& > [role=group]\": {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    }\n  },\n  preview: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n}));\n\nconst LayoutButtons = () => {\n  return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 38\n    }\n  }, \"x\");\n};\n\nconst KpLinkMediaField = ({\n  formData,\n  formContext,\n  sidebar,\n  registry\n}) => {\n  const {\n    mediaId,\n    media,\n    referenceId,\n    reference\n  } = formData;\n  const classes = useStyles(); //    const onUpload = formContext && formContext.onUpload\n\n  const onDialog = formContext && formContext.onMediaDialog;\n  const onChange = formContext && formContext.onMediaChange;\n  const mediaButtons = [{\n    icon: \"remove_circle\",\n    label: \"Remove\",\n    variant: \"text\",\n    size: \"small\",\n    onClick: () => onChange({\n      mediaId: undefined,\n      media: {}\n    })\n  }];\n  const buttons = [{\n    icon: \"search\",\n    label: \"Finn media\",\n    color: \"inherit\",\n    size: \"small\",\n    onClick: () => onDialog(sidebar.query)\n  }];\n  const buttonGroupProps = {\n    \"alignItems\": \"center\",\n    \"flexDirection\": \"column\"\n  };\n  return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, JSON.stringify(formData));\n  const imageUrl = mediaId && media && media.imageUrl || referenceId && reference && reference.imageUrl;\n\n  if (media && media.imageUrl) {\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      className: classes.root,\n      \"data-name\": \"media\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ImagePreview, {\n      className: classes.preview,\n      imageUrl: media.imageUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(LayoutButtons, {\n      className: classes.action,\n      buttonGroupProps: buttonGroupProps,\n      buttons: mediaButtons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  if (referenceId && reference && reference.imageUrl) {\n    return /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      className: classes.root,\n      \"data-name\": \"media\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ImagePreview, {\n      className: classes.preview,\n      imageUrl: reference.imageUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(LayoutButtons, {\n      className: classes.action,\n      buttonGroupProps: buttonGroupProps,\n      buttons: buttons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    className: classes.root,\n    \"data-name\": \"media\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LayoutButtons, {\n    className: classes.action,\n    buttonGroupProps: buttonGroupProps,\n    buttons: buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default KpLinkMediaField;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/src/components/KpLink/KpLinkMediaField.js"],"names":["React","Component","ImagePreview","makeStyles","Grid","useStyles","theme","root","display","position","backgroundColor","color","opacity","action","zIndex","top","right","bottom","left","alignItems","justifyContent","flexDirection","preview","LayoutButtons","KpLinkMediaField","formData","formContext","sidebar","registry","mediaId","media","referenceId","reference","classes","onDialog","onMediaDialog","onChange","onMediaChange","mediaButtons","icon","label","variant","size","onClick","undefined","buttons","query","buttonGroupProps","JSON","stringify","imageUrl"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ImagePreview } from \"@kit-ui/admin\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"block\",\n        position: \"relative\",\n        backgroundColor: \"#333\",\n        color: \"white\",\n\n        \"&:hover $preview\": {\n            opacity: .5,\n        }\n\n    },\n    action: {\n        zIndex: 2,\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n\n        \"& > [role=group]\": {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n        }\n\n    },\n    preview: {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    }\n}));\n\nconst LayoutButtons = () => { return <p>x</p>}\n\nconst KpLinkMediaField = ({formData, formContext, sidebar, registry}) => {\n\n    const { mediaId, media, referenceId, reference } = formData;\n\n    const classes = useStyles()\n\n//    const onUpload = formContext && formContext.onUpload\n    const onDialog = formContext && formContext.onMediaDialog\n    const onChange = formContext && formContext.onMediaChange\n\n    const mediaButtons = [\n        {\n            icon: \"remove_circle\",\n            label: \"Remove\",\n            variant: \"text\",\n            size: \"small\",\n            onClick: () => onChange({mediaId: undefined, media: {}})\n        }\n    ]\n\n    const buttons = [\n        {\n            icon: \"search\",\n            label: \"Finn media\",\n            color: \"inherit\",\n            size: \"small\",\n            onClick: () => onDialog(sidebar.query)\n        }\n    ]\n\n    const buttonGroupProps = {\n        \"alignItems\": \"center\",\n        \"flexDirection\": \"column\"\n    }\n\n    return (\n        <p>{JSON.stringify(formData)}</p>\n    )\n\n    const imageUrl = mediaId && media && media.imageUrl || referenceId && reference && reference.imageUrl;\n\n    if (media && media.imageUrl) {\n        return (\n            <Grid item className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={media.imageUrl} />\n                <LayoutButtons className={classes.action} buttonGroupProps={buttonGroupProps} buttons={mediaButtons} />\n            </Grid>\n        )\n    }\n\n    if (referenceId && reference && reference.imageUrl) {\n        return (\n            <Grid item className={classes.root} data-name=\"media\">\n                <ImagePreview className={classes.preview} imageUrl={reference.imageUrl} />\n                <LayoutButtons className={classes.action} buttonGroupProps={buttonGroupProps} buttons={buttons} />\n            </Grid>\n        )\n    }\n\n    return (\n        <Grid item className={classes.root} data-name=\"media\">\n            <LayoutButtons className={classes.action} buttonGroupProps={buttonGroupProps} buttons={buttons} />\n        </Grid>\n    )\n\n}\n\nexport default KpLinkMediaField"]},"metadata":{},"sourceType":"module"}