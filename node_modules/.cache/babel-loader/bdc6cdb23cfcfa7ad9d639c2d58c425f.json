{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport TextWidgetPrefix from \"../TextWidget/TextWidgetPrefix\";\nimport TextWidgetSuffix from \"../TextWidget/TextWidgetSuffix\";\nimport { utils } from \"@rjsf/core\";\nvar asNumber = utils.asNumber,\n    guessType = utils.guessType;\nvar nums = new Set([\"number\", \"integer\"]);\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\n\nvar processValue = function processValue(schema, value) {\n  // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n  var type = schema.type,\n      items = schema.items;\n\n  if (value === \"\") {\n    return undefined;\n  } else if (type === \"array\" && items && nums.has(items.type)) {\n    return value.map(asNumber);\n  } else if (type === \"boolean\") {\n    return value === \"true\";\n  } else if (type === \"number\") {\n    return asNumber(value);\n  } // If type is undefined, but an enum is present, try and infer the type from\n  // the enum values\n\n\n  if (schema.enum) {\n    if (schema.enum.every(function (x) {\n      return guessType(x) === \"number\";\n    })) {\n      return asNumber(value);\n    } else if (schema.enum.every(function (x) {\n      return guessType(x) === \"boolean\";\n    })) {\n      return value === \"true\";\n    }\n  }\n\n  return value;\n};\n\nfunction AutocompleteWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      options = props.options,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      multiple = props.multiple,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      placeholder = props.placeholder;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled;\n  var emptyValue = multiple ? [] : \"\";\n  var variant = options.variant || \"filled\";\n  var label = options.title || props.title || props.label;\n  var helperText = options.help || undefined;\n\n  var _onChange = function _onChange(event, option, reason) {\n    return onChange(processValue(schema, option.value));\n  };\n\n  var _onBlur = function _onBlur(_ref) {\n    var value = _ref.target.value;\n    return onBlur(id, processValue(schema, value));\n  };\n\n  var _onFocus = function _onFocus(_ref2) {\n    var value = _ref2.target.value;\n    return onFocus(id, processValue(schema, value));\n  };\n  /*\n   const _onChange = (event, option) => {\n       console.log('OPTION', option)\n       onChange(processValue(schema, option && option.value || emptyValue));\n  }*/\n\n\n  var autocompleteOptions = enumOptions.map(function (_ref3, i) {\n    var value = _ref3.value,\n        label = _ref3.label;\n    var disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\n    return {\n      label: label,\n      value: value,\n      disabled: disabled\n    };\n  });\n  return /*#__PURE__*/React.createElement(Autocomplete, {\n    id: id,\n    options: autocompleteOptions //            groupBy={options.groupBy}\n    //            value={value}\n    ,\n    defaultValue: emptyValue //            value={typeof value === \"undefined\" ? emptyValue : value}\n    //            getOptionSelected={(option) => option.value === value}\n    ,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.label || option.value;\n    },\n    onChange: _onChange,\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, _extends({}, params, {\n        helperText: helperText,\n        label: label,\n        variant: variant,\n        placeholder: placeholder,\n        fullWidth: true,\n        InputProps: _extends({}, params.InputProps, {\n          startAdornment: /*#__PURE__*/React.createElement(TextWidgetPrefix, options)\n        })\n      }));\n    }\n  });\n}\n\nAutocompleteWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  AutocompleteWidget.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  } : {};\n}\n\nexport default AutocompleteWidget;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/es/AutocompleteWidget/AutocompleteWidget.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","PropTypes","Autocomplete","TextField","TextWidgetPrefix","TextWidgetSuffix","utils","asNumber","guessType","nums","Set","processValue","schema","value","type","items","undefined","has","map","enum","every","x","AutocompleteWidget","props","id","options","required","disabled","readonly","multiple","autofocus","onChange","onBlur","onFocus","placeholder","enumOptions","enumDisabled","emptyValue","variant","label","title","helperText","help","_onChange","event","option","reason","_onBlur","_ref","_onFocus","_ref2","autocompleteOptions","_ref3","indexOf","createElement","defaultValue","getOptionLabel","renderInput","params","fullWidth","InputProps","startAdornment","defaultProps","process","env","NODE_ENV","propTypes","object","isRequired","string","shape","array","any","bool","func"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport TextWidgetPrefix from \"../TextWidget/TextWidgetPrefix\";\nimport TextWidgetSuffix from \"../TextWidget/TextWidgetSuffix\";\nimport { utils } from \"@rjsf/core\";\nvar asNumber = utils.asNumber,\n    guessType = utils.guessType;\nvar nums = new Set([\"number\", \"integer\"]);\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\n\nvar processValue = function processValue(schema, value) {\n  // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n  var type = schema.type,\n      items = schema.items;\n\n  if (value === \"\") {\n    return undefined;\n  } else if (type === \"array\" && items && nums.has(items.type)) {\n    return value.map(asNumber);\n  } else if (type === \"boolean\") {\n    return value === \"true\";\n  } else if (type === \"number\") {\n    return asNumber(value);\n  } // If type is undefined, but an enum is present, try and infer the type from\n  // the enum values\n\n\n  if (schema.enum) {\n    if (schema.enum.every(function (x) {\n      return guessType(x) === \"number\";\n    })) {\n      return asNumber(value);\n    } else if (schema.enum.every(function (x) {\n      return guessType(x) === \"boolean\";\n    })) {\n      return value === \"true\";\n    }\n  }\n\n  return value;\n};\n\nfunction AutocompleteWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      options = props.options,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      multiple = props.multiple,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      placeholder = props.placeholder;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled;\n  var emptyValue = multiple ? [] : \"\";\n  var variant = options.variant || \"filled\";\n  var label = options.title || props.title || props.label;\n  var helperText = options.help || undefined;\n\n  var _onChange = function _onChange(event, option, reason) {\n    return onChange(processValue(schema, option.value));\n  };\n\n  var _onBlur = function _onBlur(_ref) {\n    var value = _ref.target.value;\n    return onBlur(id, processValue(schema, value));\n  };\n\n  var _onFocus = function _onFocus(_ref2) {\n    var value = _ref2.target.value;\n    return onFocus(id, processValue(schema, value));\n  };\n  /*\n   const _onChange = (event, option) => {\n       console.log('OPTION', option)\n       onChange(processValue(schema, option && option.value || emptyValue));\n  }*/\n\n\n  var autocompleteOptions = enumOptions.map(function (_ref3, i) {\n    var value = _ref3.value,\n        label = _ref3.label;\n    var disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\n    return {\n      label: label,\n      value: value,\n      disabled: disabled\n    };\n  });\n  return /*#__PURE__*/React.createElement(Autocomplete, {\n    id: id,\n    options: autocompleteOptions //            groupBy={options.groupBy}\n    //            value={value}\n    ,\n    defaultValue: emptyValue //            value={typeof value === \"undefined\" ? emptyValue : value}\n    //            getOptionSelected={(option) => option.value === value}\n    ,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.label || option.value;\n    },\n    onChange: _onChange,\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, _extends({}, params, {\n        helperText: helperText,\n        label: label,\n        variant: variant,\n        placeholder: placeholder,\n        fullWidth: true,\n        InputProps: _extends({}, params.InputProps, {\n          startAdornment: /*#__PURE__*/React.createElement(TextWidgetPrefix, options)\n        })\n      }));\n    }\n  });\n}\n\nAutocompleteWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  AutocompleteWidget.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  } : {};\n}\n\nexport default AutocompleteWidget;"]},"metadata":{},"sourceType":"module"}