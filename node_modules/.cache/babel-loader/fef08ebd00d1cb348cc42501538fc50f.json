{"ast":null,"code":"function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport ButtonApps from \"./NavAppsButton\";\nimport AppsDropdown from \"./AppSwitcherDropdown\";\nimport AppsByUser from \"./AppsByUser\";\nimport AppsByOwner from \"./AppsByOwner\";\nimport OwnersList from \"./OwnersList\";\nvar AppsButtonRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(ButtonApps, _extends({}, props, {\n    forwardedRef: ref\n  }));\n});\n\nvar NavApps = function NavApps(_ref) {\n  var className = _ref.className,\n      uniqueId = _ref.uniqueId,\n      _ref$user = _ref.user,\n      user = _ref$user === void 0 ? {} : _ref$user,\n      owner = _ref.owner,\n      apps = _ref.apps,\n      owners = _ref.owners,\n      onSelect = _ref.onSelect,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"uniqueId\", \"user\", \"owner\", \"apps\", \"owners\", \"onSelect\"]);\n\n  var _useState = useState(props.expanded),\n      expanded = _useState[0],\n      setExpanded = _useState[1];\n\n  var _useState2 = useState(owner && owner.uniqueId),\n      currentOwnerId = _useState2[0],\n      setCurrentOwnerId = _useState2[1];\n\n  var anchorRef = useRef(null);\n  useEffect(function () {\n    if (owner && owner.uniqueId) {\n      setCurrentOwnerId(owner.uniqueId);\n    }\n  }, [owner]);\n\n  if (!apps && user && user.apps) {\n    apps = user.apps;\n  }\n\n  if (!owners && user && user.owners) {\n    owners = user.owners;\n  }\n\n  if (!apps) {\n    return null;\n  }\n\n  var handleToggle = function handleToggle(event) {\n    setExpanded(function (prevExpanded) {\n      return !prevExpanded;\n    });\n  };\n\n  var selectOwner = function selectOwner(owner) {\n    setCurrentOwnerId(owner && owner.uniqueId);\n    onSelect && onSelect(owner);\n  };\n\n  var unselectOwner = function unselectOwner() {\n    setCurrentOwnerId(null);\n  };\n\n  var selectApp = function selectApp(item) {\n    setExpanded(false);\n    onSelect && onSelect(item);\n  };\n\n  var handleCollapse = function handleCollapse() {\n    setExpanded(false);\n  };\n\n  var currentOwner;\n\n  if (owners && currentOwnerId) {\n    currentOwner = owners.filter(function (owner) {\n      return owner.uniqueId === currentOwnerId;\n    })[0];\n  }\n\n  if (!user.uniqueId) {\n    return false;\n  }\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(AppsButtonRef, {\n    onClick: handleToggle,\n    expanded: expanded,\n    ref: anchorRef\n  }), /*#__PURE__*/React.createElement(AppsDropdown, {\n    expanded: expanded,\n    anchorEl: anchorRef.current,\n    arrowRef: anchorRef,\n    onCollapse: handleCollapse\n  }, apps && /*#__PURE__*/React.createElement(AppsByUser, {\n    apps: apps,\n    onSelect: selectApp\n  }), currentOwner && /*#__PURE__*/React.createElement(AppsByOwner, _extends({}, currentOwner, {\n    onCollapse: unselectOwner,\n    onSelect: selectApp\n  })), !currentOwner && owners && /*#__PURE__*/React.createElement(OwnersList, {\n    owners: owners,\n    onSelect: selectOwner\n  })));\n};\n\nNavApps.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  apps: PropTypes.array,\n  owners: PropTypes.array,\n  ownerId: PropTypes.string,\n  onSelect: PropTypes.func\n} : {};\nexport default NavApps;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/node_modules/@kit-ui/admin/es/AppSwitcher/AppSwitcher.js"],"names":["_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","Object","keys","key","i","length","indexOf","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","React","useRef","useState","useEffect","PropTypes","ButtonApps","AppsDropdown","AppsByUser","AppsByOwner","OwnersList","AppsButtonRef","forwardRef","props","ref","createElement","forwardedRef","NavApps","_ref","className","uniqueId","_ref$user","user","owner","apps","owners","onSelect","_useState","expanded","setExpanded","_useState2","currentOwnerId","setCurrentOwnerId","anchorRef","handleToggle","event","prevExpanded","selectOwner","unselectOwner","selectApp","item","handleCollapse","currentOwner","filter","onClick","anchorEl","current","arrowRef","onCollapse","propTypes","process","env","NODE_ENV","array","ownerId","string","func"],"mappings":"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","sourcesContent":["function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useRef, useState, useEffect } from 'react';\nimport PropTypes from \"prop-types\";\nimport ButtonApps from \"./NavAppsButton\";\nimport AppsDropdown from \"./AppSwitcherDropdown\";\nimport AppsByUser from \"./AppsByUser\";\nimport AppsByOwner from \"./AppsByOwner\";\nimport OwnersList from \"./OwnersList\";\nvar AppsButtonRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(ButtonApps, _extends({}, props, {\n    forwardedRef: ref\n  }));\n});\n\nvar NavApps = function NavApps(_ref) {\n  var className = _ref.className,\n      uniqueId = _ref.uniqueId,\n      _ref$user = _ref.user,\n      user = _ref$user === void 0 ? {} : _ref$user,\n      owner = _ref.owner,\n      apps = _ref.apps,\n      owners = _ref.owners,\n      onSelect = _ref.onSelect,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"uniqueId\", \"user\", \"owner\", \"apps\", \"owners\", \"onSelect\"]);\n\n  var _useState = useState(props.expanded),\n      expanded = _useState[0],\n      setExpanded = _useState[1];\n\n  var _useState2 = useState(owner && owner.uniqueId),\n      currentOwnerId = _useState2[0],\n      setCurrentOwnerId = _useState2[1];\n\n  var anchorRef = useRef(null);\n  useEffect(function () {\n    if (owner && owner.uniqueId) {\n      setCurrentOwnerId(owner.uniqueId);\n    }\n  }, [owner]);\n\n  if (!apps && user && user.apps) {\n    apps = user.apps;\n  }\n\n  if (!owners && user && user.owners) {\n    owners = user.owners;\n  }\n\n  if (!apps) {\n    return null;\n  }\n\n  var handleToggle = function handleToggle(event) {\n    setExpanded(function (prevExpanded) {\n      return !prevExpanded;\n    });\n  };\n\n  var selectOwner = function selectOwner(owner) {\n    setCurrentOwnerId(owner && owner.uniqueId);\n    onSelect && onSelect(owner);\n  };\n\n  var unselectOwner = function unselectOwner() {\n    setCurrentOwnerId(null);\n  };\n\n  var selectApp = function selectApp(item) {\n    setExpanded(false);\n    onSelect && onSelect(item);\n  };\n\n  var handleCollapse = function handleCollapse() {\n    setExpanded(false);\n  };\n\n  var currentOwner;\n\n  if (owners && currentOwnerId) {\n    currentOwner = owners.filter(function (owner) {\n      return owner.uniqueId === currentOwnerId;\n    })[0];\n  }\n\n  if (!user.uniqueId) {\n    return false;\n  }\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: className\n  }, /*#__PURE__*/React.createElement(AppsButtonRef, {\n    onClick: handleToggle,\n    expanded: expanded,\n    ref: anchorRef\n  }), /*#__PURE__*/React.createElement(AppsDropdown, {\n    expanded: expanded,\n    anchorEl: anchorRef.current,\n    arrowRef: anchorRef,\n    onCollapse: handleCollapse\n  }, apps && /*#__PURE__*/React.createElement(AppsByUser, {\n    apps: apps,\n    onSelect: selectApp\n  }), currentOwner && /*#__PURE__*/React.createElement(AppsByOwner, _extends({}, currentOwner, {\n    onCollapse: unselectOwner,\n    onSelect: selectApp\n  })), !currentOwner && owners && /*#__PURE__*/React.createElement(OwnersList, {\n    owners: owners,\n    onSelect: selectOwner\n  })));\n};\n\nNavApps.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  apps: PropTypes.array,\n  owners: PropTypes.array,\n  ownerId: PropTypes.string,\n  onSelect: PropTypes.func\n} : {};\nexport default NavApps;"]},"metadata":{},"sourceType":"module"}