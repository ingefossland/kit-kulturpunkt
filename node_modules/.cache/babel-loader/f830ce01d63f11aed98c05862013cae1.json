{"ast":null,"code":"import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwitchBase from \"./SwitchBase\"; // Check to see if a schema specifies that a value must be true\n\nfunction schemaRequiresTrueValue(schema) {\n  // Check if const is a truthy value\n  if (schema.const) {\n    return true;\n  } // Check if an enum has a single value of true\n\n\n  if (schema.enum && schema.enum.length === 1 && schema.enum[0] === true) {\n    return true;\n  } // If anyOf has a single value, evaluate the subschema\n\n\n  if (schema.anyOf && schema.anyOf.length === 1) {\n    return schemaRequiresTrueValue(schema.anyOf[0]);\n  } // If oneOf has a single value, evaluate the subschema\n\n\n  if (schema.oneOf && schema.oneOf.length === 1) {\n    return schemaRequiresTrueValue(schema.oneOf[0]);\n  } // Evaluate each subschema in allOf, to see if one of them requires a true\n  // value\n\n\n  if (schema.allOf) {\n    return schema.allOf.some(schemaRequiresTrueValue);\n  }\n}\n\nfunction SwitchWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      value = props.value,\n      options = props.options,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      _onChange = props.onChange; // Because an unchecked checkbox will cause html5 validation to fail, only add\n  // the \"required\" attribute if the field value must be \"true\", due to the\n  // \"const\" or \"enum\" keywords\n\n  var required = schemaRequiresTrueValue(schema);\n  var label = options.title || props.title || props.label || \"bool\";\n  return /*#__PURE__*/React.createElement(SwitchBase, {\n    id: id,\n    label: label,\n    value: value,\n    checked: typeof value === \"undefined\" ? false : value,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    onChange: function onChange(event) {\n      return _onChange(event.target.checked);\n    },\n    onBlur: onBlur && function (event) {\n      return onBlur(id, event.target.checked);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(id, event.target.checked);\n    }\n  });\n}\n\nSwitchWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SwitchWidget.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.bool,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  } : {};\n}\n\nexport default SwitchWidget;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/es/SwitchWidget/SwitchWidget.js"],"names":["React","PropTypes","SwitchBase","schemaRequiresTrueValue","schema","const","enum","length","anyOf","oneOf","allOf","some","SwitchWidget","props","id","value","options","disabled","readonly","autofocus","onBlur","onFocus","_onChange","onChange","required","label","title","createElement","checked","autoFocus","event","target","defaultProps","process","env","NODE_ENV","propTypes","object","isRequired","string","bool","func"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport SwitchBase from \"./SwitchBase\"; // Check to see if a schema specifies that a value must be true\n\nfunction schemaRequiresTrueValue(schema) {\n  // Check if const is a truthy value\n  if (schema.const) {\n    return true;\n  } // Check if an enum has a single value of true\n\n\n  if (schema.enum && schema.enum.length === 1 && schema.enum[0] === true) {\n    return true;\n  } // If anyOf has a single value, evaluate the subschema\n\n\n  if (schema.anyOf && schema.anyOf.length === 1) {\n    return schemaRequiresTrueValue(schema.anyOf[0]);\n  } // If oneOf has a single value, evaluate the subschema\n\n\n  if (schema.oneOf && schema.oneOf.length === 1) {\n    return schemaRequiresTrueValue(schema.oneOf[0]);\n  } // Evaluate each subschema in allOf, to see if one of them requires a true\n  // value\n\n\n  if (schema.allOf) {\n    return schema.allOf.some(schemaRequiresTrueValue);\n  }\n}\n\nfunction SwitchWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      value = props.value,\n      options = props.options,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      _onChange = props.onChange; // Because an unchecked checkbox will cause html5 validation to fail, only add\n  // the \"required\" attribute if the field value must be \"true\", due to the\n  // \"const\" or \"enum\" keywords\n\n  var required = schemaRequiresTrueValue(schema);\n  var label = options.title || props.title || props.label || \"bool\";\n  return /*#__PURE__*/React.createElement(SwitchBase, {\n    id: id,\n    label: label,\n    value: value,\n    checked: typeof value === \"undefined\" ? false : value,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    onChange: function onChange(event) {\n      return _onChange(event.target.checked);\n    },\n    onBlur: onBlur && function (event) {\n      return onBlur(id, event.target.checked);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(id, event.target.checked);\n    }\n  });\n}\n\nSwitchWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SwitchWidget.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.bool,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  } : {};\n}\n\nexport default SwitchWidget;"]},"metadata":{},"sourceType":"module"}