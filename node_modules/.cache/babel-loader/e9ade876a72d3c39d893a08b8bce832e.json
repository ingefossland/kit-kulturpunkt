{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { shouldRender, parseDateString, toDateString, pad } from \"../../utils\";\n\nfunction rangeOptions(start, stop) {\n  var options = [];\n\n  for (var i = start; i <= stop; i++) {\n    options.push({\n      value: i,\n      label: pad(i, 2)\n    });\n  }\n\n  return options;\n}\n\nfunction readyForChange(state) {\n  return _Object$keys(state).every(function (key) {\n    return state[key] !== -1;\n  });\n}\n\nfunction DateElement(props) {\n  var type = props.type,\n      range = props.range,\n      value = props.value,\n      select = props.select,\n      rootId = props.rootId,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      registry = props.registry,\n      onBlur = props.onBlur;\n  var id = rootId + \"_\" + type;\n  var SelectWidget = registry.widgets.SelectWidget;\n  return React.createElement(SelectWidget, {\n    schema: {\n      type: \"integer\"\n    },\n    id: id,\n    className: \"form-control\",\n    options: {\n      enumOptions: rangeOptions(range[0], range[1])\n    },\n    placeholder: type,\n    value: value,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    onChange: function onChange(value) {\n      return select(type, value);\n    },\n    onBlur: onBlur\n  });\n}\n\nvar AltDateWidget = /*#__PURE__*/function (_Component) {\n  _inherits(AltDateWidget, _Component);\n\n  function AltDateWidget(props) {\n    var _this;\n\n    _classCallCheck(this, AltDateWidget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AltDateWidget).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (property, value) {\n      _this.setState(_defineProperty({}, property, typeof value === \"undefined\" ? -1 : value), function () {\n        // Only propagate to parent state if we have a complete date{time}\n        if (readyForChange(_this.state)) {\n          _this.props.onChange(toDateString(_this.state, _this.props.time));\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setNow\", function (event) {\n      event.preventDefault();\n      var _this$props = _this.props,\n          time = _this$props.time,\n          disabled = _this$props.disabled,\n          readonly = _this$props.readonly,\n          onChange = _this$props.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      var nowDateObj = parseDateString(new Date().toJSON(), time);\n\n      _this.setState(nowDateObj, function () {\n        return onChange(toDateString(_this.state, time));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clear\", function (event) {\n      event.preventDefault();\n      var _this$props2 = _this.props,\n          time = _this$props2.time,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          onChange = _this$props2.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      _this.setState(parseDateString(\"\", time), function () {\n        return onChange(undefined);\n      });\n    });\n\n    _this.state = parseDateString(props.value, props.time);\n    return _this;\n  }\n\n  _createClass(AltDateWidget, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.setState(parseDateString(nextProps.value, nextProps.time));\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return shouldRender(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          disabled = _this$props3.disabled,\n          readonly = _this$props3.readonly,\n          autofocus = _this$props3.autofocus,\n          registry = _this$props3.registry,\n          onBlur = _this$props3.onBlur,\n          options = _this$props3.options;\n      return React.createElement(\"ul\", {\n        className: \"list-inline\"\n      }, this.dateElementProps.map(function (elemProps, i) {\n        return React.createElement(\"li\", {\n          key: i\n        }, React.createElement(DateElement, _extends({\n          rootId: id,\n          select: _this2.onChange\n        }, elemProps, {\n          disabled: disabled,\n          readonly: readonly,\n          registry: registry,\n          onBlur: onBlur,\n          autofocus: autofocus && i === 0\n        })));\n      }), (options.hideNowButton !== \"undefined\" ? !options.hideNowButton : true) && React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-info btn-now\",\n        onClick: this.setNow\n      }, \"Now\")), (options.hideClearButton !== \"undefined\" ? !options.hideClearButton : true) && React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-warning btn-clear\",\n        onClick: this.clear\n      }, \"Clear\")));\n    }\n  }, {\n    key: \"dateElementProps\",\n    get: function get() {\n      var _this$props4 = this.props,\n          time = _this$props4.time,\n          options = _this$props4.options;\n      var _this$state = this.state,\n          year = _this$state.year,\n          month = _this$state.month,\n          day = _this$state.day,\n          hour = _this$state.hour,\n          minute = _this$state.minute,\n          second = _this$state.second;\n      var data = [{\n        type: \"year\",\n        range: options.yearsRange,\n        value: year\n      }, {\n        type: \"month\",\n        range: [1, 12],\n        value: month\n      }, {\n        type: \"day\",\n        range: [1, 31],\n        value: day\n      }];\n\n      if (time) {\n        data.push({\n          type: \"hour\",\n          range: [0, 23],\n          value: hour\n        }, {\n          type: \"minute\",\n          range: [0, 59],\n          value: minute\n        }, {\n          type: \"second\",\n          range: [0, 59],\n          value: second\n        });\n      }\n\n      return data;\n    }\n  }]);\n\n  return AltDateWidget;\n}(Component);\n\n_defineProperty(AltDateWidget, \"defaultProps\", {\n  time: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  options: {\n    yearsRange: [1900, new Date().getFullYear() + 2]\n  }\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    time: PropTypes.bool,\n    options: PropTypes.object\n  };\n}\n\nexport default AltDateWidget;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@rjsf/core/lib/components/widgets/AltDateWidget.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","_defineProperty","_Object$keys","React","Component","PropTypes","shouldRender","parseDateString","toDateString","pad","rangeOptions","start","stop","options","i","push","value","label","readyForChange","state","every","key","DateElement","props","type","range","select","rootId","disabled","readonly","autofocus","registry","onBlur","id","SelectWidget","widgets","createElement","schema","className","enumOptions","placeholder","onChange","AltDateWidget","_Component","_this","call","property","setState","time","event","preventDefault","_this$props","nowDateObj","Date","toJSON","_this$props2","undefined","UNSAFE_componentWillReceiveProps","nextProps","shouldComponentUpdate","nextState","render","_this2","_this$props3","dateElementProps","map","elemProps","hideNowButton","href","onClick","setNow","hideClearButton","clear","get","_this$props4","_this$state","year","month","day","hour","minute","second","data","yearsRange","getFullYear","process","env","NODE_ENV","propTypes","object","isRequired","string","required","bool","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { shouldRender, parseDateString, toDateString, pad } from \"../../utils\";\n\nfunction rangeOptions(start, stop) {\n  var options = [];\n\n  for (var i = start; i <= stop; i++) {\n    options.push({\n      value: i,\n      label: pad(i, 2)\n    });\n  }\n\n  return options;\n}\n\nfunction readyForChange(state) {\n  return _Object$keys(state).every(function (key) {\n    return state[key] !== -1;\n  });\n}\n\nfunction DateElement(props) {\n  var type = props.type,\n      range = props.range,\n      value = props.value,\n      select = props.select,\n      rootId = props.rootId,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      registry = props.registry,\n      onBlur = props.onBlur;\n  var id = rootId + \"_\" + type;\n  var SelectWidget = registry.widgets.SelectWidget;\n  return React.createElement(SelectWidget, {\n    schema: {\n      type: \"integer\"\n    },\n    id: id,\n    className: \"form-control\",\n    options: {\n      enumOptions: rangeOptions(range[0], range[1])\n    },\n    placeholder: type,\n    value: value,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    onChange: function onChange(value) {\n      return select(type, value);\n    },\n    onBlur: onBlur\n  });\n}\n\nvar AltDateWidget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AltDateWidget, _Component);\n\n  function AltDateWidget(props) {\n    var _this;\n\n    _classCallCheck(this, AltDateWidget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AltDateWidget).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (property, value) {\n      _this.setState(_defineProperty({}, property, typeof value === \"undefined\" ? -1 : value), function () {\n        // Only propagate to parent state if we have a complete date{time}\n        if (readyForChange(_this.state)) {\n          _this.props.onChange(toDateString(_this.state, _this.props.time));\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setNow\", function (event) {\n      event.preventDefault();\n      var _this$props = _this.props,\n          time = _this$props.time,\n          disabled = _this$props.disabled,\n          readonly = _this$props.readonly,\n          onChange = _this$props.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      var nowDateObj = parseDateString(new Date().toJSON(), time);\n\n      _this.setState(nowDateObj, function () {\n        return onChange(toDateString(_this.state, time));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clear\", function (event) {\n      event.preventDefault();\n      var _this$props2 = _this.props,\n          time = _this$props2.time,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          onChange = _this$props2.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      _this.setState(parseDateString(\"\", time), function () {\n        return onChange(undefined);\n      });\n    });\n\n    _this.state = parseDateString(props.value, props.time);\n    return _this;\n  }\n\n  _createClass(AltDateWidget, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.setState(parseDateString(nextProps.value, nextProps.time));\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return shouldRender(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          disabled = _this$props3.disabled,\n          readonly = _this$props3.readonly,\n          autofocus = _this$props3.autofocus,\n          registry = _this$props3.registry,\n          onBlur = _this$props3.onBlur,\n          options = _this$props3.options;\n      return React.createElement(\"ul\", {\n        className: \"list-inline\"\n      }, this.dateElementProps.map(function (elemProps, i) {\n        return React.createElement(\"li\", {\n          key: i\n        }, React.createElement(DateElement, _extends({\n          rootId: id,\n          select: _this2.onChange\n        }, elemProps, {\n          disabled: disabled,\n          readonly: readonly,\n          registry: registry,\n          onBlur: onBlur,\n          autofocus: autofocus && i === 0\n        })));\n      }), (options.hideNowButton !== \"undefined\" ? !options.hideNowButton : true) && React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-info btn-now\",\n        onClick: this.setNow\n      }, \"Now\")), (options.hideClearButton !== \"undefined\" ? !options.hideClearButton : true) && React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-warning btn-clear\",\n        onClick: this.clear\n      }, \"Clear\")));\n    }\n  }, {\n    key: \"dateElementProps\",\n    get: function get() {\n      var _this$props4 = this.props,\n          time = _this$props4.time,\n          options = _this$props4.options;\n      var _this$state = this.state,\n          year = _this$state.year,\n          month = _this$state.month,\n          day = _this$state.day,\n          hour = _this$state.hour,\n          minute = _this$state.minute,\n          second = _this$state.second;\n      var data = [{\n        type: \"year\",\n        range: options.yearsRange,\n        value: year\n      }, {\n        type: \"month\",\n        range: [1, 12],\n        value: month\n      }, {\n        type: \"day\",\n        range: [1, 31],\n        value: day\n      }];\n\n      if (time) {\n        data.push({\n          type: \"hour\",\n          range: [0, 23],\n          value: hour\n        }, {\n          type: \"minute\",\n          range: [0, 59],\n          value: minute\n        }, {\n          type: \"second\",\n          range: [0, 59],\n          value: second\n        });\n      }\n\n      return data;\n    }\n  }]);\n\n  return AltDateWidget;\n}(Component);\n\n_defineProperty(AltDateWidget, \"defaultProps\", {\n  time: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  options: {\n    yearsRange: [1900, new Date().getFullYear() + 2]\n  }\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    time: PropTypes.bool,\n    options: PropTypes.object\n  };\n}\n\nexport default AltDateWidget;"]},"metadata":{},"sourceType":"module"}