{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport Typography from \"@material-ui/core/Typography\";\nimport data from \"./License.data\";\nimport LicenseIcon from \"./LicenseIcon\";\nvar useStyles = makeStyles(function (theme) {\n  var _root;\n\n  return {\n    root: (_root = {\n      \"& .MuiFormLabel-root\": {\n        fontFamily: \"Akkurat, sans-serif\"\n      },\n      \"& .MuiInputBase-root\": {\n        fontFamily: \"Akkurat, sans-serif\",\n        borderTopLeftRadius: \"0\",\n        borderTopRightRadius: \"0\",\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(1)\n      }\n    }, _root[\"& .MuiFormLabel-root\"] = {\n      fontFamily: \"Akkurat, sans-serif\"\n    }, _root[\"& .MuiAutocomplete-inputRoot[class*=MuiFilledInput-root] .MuiAutocomplete-input\"] = {\n      padding: theme.spacing(.25, .5)\n    }, _root[\"& .MuiAutocomplete-tag\"] = {\n      margin: theme.spacing(.25)\n    }, _root),\n    option: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& > * + *\": {\n        marginLeft: theme.spacing(1)\n      }\n    },\n    icon: {\n      display: \"flex\",\n      alignItems: \"center\",\n      whiteSpace: \"nowrap\",\n      \"& > * + *\": {\n        marginLeft: theme.spacing(.5)\n      }\n    },\n    text: {\n      fontFamily: \"Akkurat, sans-serif\",\n      lineHeight: 1,\n      \"& > * + *\": {\n        marginLeft: theme.spacing(.5)\n      }\n    },\n    label: {\n      color: theme.palette.text.primary\n    },\n    value: {\n      fontFamily: \"Akkurat, sans-serif\",\n      color: theme.palette.text.secondary\n    }\n  };\n});\n\nvar SelectLicenseFieldOption = function SelectLicenseFieldOption(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      system = _ref.system;\n  var classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.option\n  }, /*#__PURE__*/React.createElement(LicenseIcon, {\n    className: classes.icon,\n    license: value\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.text\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    className: classes.label\n  }, label), /*#__PURE__*/React.createElement(\"i\", {\n    className: classes.value\n  }, \"(\", value, \")\")));\n};\n\nvar SelectLicense = function SelectLicense(_ref2) {\n  var _React$createElement;\n\n  var id = _ref2.id,\n      _ref2$label = _ref2.label,\n      label = _ref2$label === void 0 ? \"Select icon\" : _ref2$label,\n      helperText = _ref2.helperText,\n      value = _ref2.value,\n      required = _ref2.required,\n      disabled = _ref2.disabled,\n      readonly = _ref2.readonly,\n      multiple = _ref2.multiple,\n      autofocus = _ref2.autofocus,\n      onChange = _ref2.onChange,\n      placeholder = _ref2.placeholder;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var getOptions = function getOptions() {\n    var options = data.map(function (option) {\n      var group = option.group,\n          value = option.value;\n      return _extends({}, option, {\n        group: group && t(\"licenseGroup:\" + group)\n      });\n    });\n    options.sort(function (a, b) {\n      return a.groupId > b.groupId ? 1 : -1;\n    });\n    return options;\n  };\n\n  var emptyValue = multiple ? [] : \"\";\n  var options = getOptions();\n\n  var handleChange = function handleChange(event, option) {\n    onChange && onChange(option && option.value || emptyValue, event);\n  };\n\n  var renderGroup = function renderGroup(option) {\n    return /*#__PURE__*/React.createElement(\"p\", null, JSON.stringify(option.group));\n  };\n\n  var renderOption = function renderOption(option, state) {\n    return /*#__PURE__*/React.createElement(SelectLicenseFieldOption, option);\n  };\n\n  var selected = value && options.filter(function (option) {\n    return option.value == value;\n  });\n\n  if (!multiple && selected.length) {\n    selected = selected[0];\n  }\n\n  var classes = useStyles();\n  return /*#__PURE__*/React.createElement(Autocomplete, (_React$createElement = {\n    className: classes.root,\n    id: id,\n    placeholder: placeholder,\n    multiple: multiple,\n    options: options,\n    groupBy: function groupBy(option) {\n      return option.group;\n    },\n    label: label,\n    helperText: helperText,\n    value: selected,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus\n  }, _React$createElement[\"groupBy\"] = function groupBy(option) {\n    return option.group;\n  }, _React$createElement.getOptionLabel = function getOptionLabel(option) {\n    return options && option.label || \"\";\n  }, _React$createElement.renderOption = renderOption, _React$createElement.renderInput = function renderInput(params) {\n    return /*#__PURE__*/React.createElement(TextField, _extends({}, params, {\n      className: classes.input,\n      variant: \"filled\",\n      label: label,\n      placeholder: placeholder,\n      helperText: helperText\n    }));\n  }, _React$createElement.onChange = handleChange, _React$createElement));\n};\n\nSelectLicense.defaultProps = {\n  autofocus: false\n};\nSelectLicense.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  helperText: PropTypes.string,\n  value: PropTypes.any,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readonly: PropTypes.bool,\n  multiple: PropTypes.bool,\n  autofocus: PropTypes.bool,\n  onChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n} : {};\nexport default SelectLicense;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/es/License/SelectLicenseField.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useState","useEffect","PropTypes","TextField","Autocomplete","createFilterOptions","makeStyles","useTranslation","Typography","data","LicenseIcon","useStyles","theme","_root","root","fontFamily","borderTopLeftRadius","borderTopRightRadius","paddingTop","spacing","paddingBottom","padding","margin","option","display","alignItems","marginLeft","icon","whiteSpace","text","lineHeight","label","color","palette","primary","value","secondary","SelectLicenseFieldOption","_ref","system","classes","createElement","className","license","SelectLicense","_ref2","_React$createElement","id","_ref2$label","helperText","required","disabled","readonly","multiple","autofocus","onChange","placeholder","_useTranslation","t","i18n","getOptions","options","map","group","sort","a","b","groupId","emptyValue","handleChange","event","renderGroup","JSON","stringify","renderOption","state","selected","filter","groupBy","autoFocus","getOptionLabel","renderInput","params","input","variant","defaultProps","propTypes","process","env","NODE_ENV","string","isRequired","any","bool","func","onBlur","onFocus"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport Typography from \"@material-ui/core/Typography\";\nimport data from \"./License.data\";\nimport LicenseIcon from \"./LicenseIcon\";\nvar useStyles = makeStyles(function (theme) {\n  var _root;\n\n  return {\n    root: (_root = {\n      \"& .MuiFormLabel-root\": {\n        fontFamily: \"Akkurat, sans-serif\"\n      },\n      \"& .MuiInputBase-root\": {\n        fontFamily: \"Akkurat, sans-serif\",\n        borderTopLeftRadius: \"0\",\n        borderTopRightRadius: \"0\",\n        paddingTop: theme.spacing(3),\n        paddingBottom: theme.spacing(1)\n      }\n    }, _root[\"& .MuiFormLabel-root\"] = {\n      fontFamily: \"Akkurat, sans-serif\"\n    }, _root[\"& .MuiAutocomplete-inputRoot[class*=MuiFilledInput-root] .MuiAutocomplete-input\"] = {\n      padding: theme.spacing(.25, .5)\n    }, _root[\"& .MuiAutocomplete-tag\"] = {\n      margin: theme.spacing(.25)\n    }, _root),\n    option: {\n      display: \"flex\",\n      alignItems: \"center\",\n      \"& > * + *\": {\n        marginLeft: theme.spacing(1)\n      }\n    },\n    icon: {\n      display: \"flex\",\n      alignItems: \"center\",\n      whiteSpace: \"nowrap\",\n      \"& > * + *\": {\n        marginLeft: theme.spacing(.5)\n      }\n    },\n    text: {\n      fontFamily: \"Akkurat, sans-serif\",\n      lineHeight: 1,\n      \"& > * + *\": {\n        marginLeft: theme.spacing(.5)\n      }\n    },\n    label: {\n      color: theme.palette.text.primary\n    },\n    value: {\n      fontFamily: \"Akkurat, sans-serif\",\n      color: theme.palette.text.secondary\n    }\n  };\n});\n\nvar SelectLicenseFieldOption = function SelectLicenseFieldOption(_ref) {\n  var value = _ref.value,\n      label = _ref.label,\n      system = _ref.system;\n  var classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.option\n  }, /*#__PURE__*/React.createElement(LicenseIcon, {\n    className: classes.icon,\n    license: value\n  }), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.text\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    className: classes.label\n  }, label), /*#__PURE__*/React.createElement(\"i\", {\n    className: classes.value\n  }, \"(\", value, \")\")));\n};\n\nvar SelectLicense = function SelectLicense(_ref2) {\n  var _React$createElement;\n\n  var id = _ref2.id,\n      _ref2$label = _ref2.label,\n      label = _ref2$label === void 0 ? \"Select icon\" : _ref2$label,\n      helperText = _ref2.helperText,\n      value = _ref2.value,\n      required = _ref2.required,\n      disabled = _ref2.disabled,\n      readonly = _ref2.readonly,\n      multiple = _ref2.multiple,\n      autofocus = _ref2.autofocus,\n      onChange = _ref2.onChange,\n      placeholder = _ref2.placeholder;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t,\n      i18n = _useTranslation.i18n;\n\n  var getOptions = function getOptions() {\n    var options = data.map(function (option) {\n      var group = option.group,\n          value = option.value;\n      return _extends({}, option, {\n        group: group && t(\"licenseGroup:\" + group)\n      });\n    });\n    options.sort(function (a, b) {\n      return a.groupId > b.groupId ? 1 : -1;\n    });\n    return options;\n  };\n\n  var emptyValue = multiple ? [] : \"\";\n  var options = getOptions();\n\n  var handleChange = function handleChange(event, option) {\n    onChange && onChange(option && option.value || emptyValue, event);\n  };\n\n  var renderGroup = function renderGroup(option) {\n    return /*#__PURE__*/React.createElement(\"p\", null, JSON.stringify(option.group));\n  };\n\n  var renderOption = function renderOption(option, state) {\n    return /*#__PURE__*/React.createElement(SelectLicenseFieldOption, option);\n  };\n\n  var selected = value && options.filter(function (option) {\n    return option.value == value;\n  });\n\n  if (!multiple && selected.length) {\n    selected = selected[0];\n  }\n\n  var classes = useStyles();\n  return /*#__PURE__*/React.createElement(Autocomplete, (_React$createElement = {\n    className: classes.root,\n    id: id,\n    placeholder: placeholder,\n    multiple: multiple,\n    options: options,\n    groupBy: function groupBy(option) {\n      return option.group;\n    },\n    label: label,\n    helperText: helperText,\n    value: selected,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus\n  }, _React$createElement[\"groupBy\"] = function groupBy(option) {\n    return option.group;\n  }, _React$createElement.getOptionLabel = function getOptionLabel(option) {\n    return options && option.label || \"\";\n  }, _React$createElement.renderOption = renderOption, _React$createElement.renderInput = function renderInput(params) {\n    return /*#__PURE__*/React.createElement(TextField, _extends({}, params, {\n      className: classes.input,\n      variant: \"filled\",\n      label: label,\n      placeholder: placeholder,\n      helperText: helperText\n    }));\n  }, _React$createElement.onChange = handleChange, _React$createElement));\n};\n\nSelectLicense.defaultProps = {\n  autofocus: false\n};\nSelectLicense.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  id: PropTypes.string.isRequired,\n  label: PropTypes.string,\n  helperText: PropTypes.string,\n  value: PropTypes.any,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readonly: PropTypes.bool,\n  multiple: PropTypes.bool,\n  autofocus: PropTypes.bool,\n  onChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func\n} : {};\nexport default SelectLicense;"]},"metadata":{},"sourceType":"module"}