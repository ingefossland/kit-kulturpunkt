{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { getDefaultFormState } from \"../utils\";\nexport var getUiActions = function getUiActions(props) {\n  var idSchema = props.idSchema,\n      schema = props.schema,\n      formData = props.formData,\n      formContext = props.formContext;\n\n  var buttonProps = _extends({}, props, {\n    id: idSchema && idSchema.$id\n  });\n\n  var uiActions = {};\n  formContext && Object.keys(formContext).map(function (name) {\n    if (name.startsWith('on') && typeof formContext[name] === \"function\") {\n      uiActions[name] = function () {\n        return formContext[name](buttonProps);\n      };\n    }\n  });\n\n  var onPropertyChange = function onPropertyChange(name, value) {\n    if (schema.type === \"object\") {\n      var _extends2;\n\n      props.onChange && props.onChange(getDefaultFormState(schema, _extends({}, formData, (_extends2 = {}, _extends2[name] = value, _extends2))));\n    }\n  };\n\n  uiActions.onPropertyChange = onPropertyChange;\n\n  uiActions.onReset = function () {\n    props.onChange && props.onChange(getDefaultFormState(schema, {}));\n  };\n\n  uiActions.onRemove = function () {\n    if (schema.type === \"object\") {\n      props.onChange && props.onChange(getDefaultFormState(schema, {}));\n    }\n  };\n\n  uiActions.onDelete = function () {\n    return onPropertyChange('_action', 'delete');\n  };\n\n  uiActions.onRestore = function () {\n    return onPropertyChange('_action', 'restore');\n  };\n\n  uiActions.onHide = function () {\n    return onPropertyChange('hidden', true);\n  };\n\n  uiActions.onUnhide = function () {\n    return onPropertyChange('hidden', false);\n  };\n\n  return uiActions;\n};\nexport default getUiActions;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/es/utils/getUiActions.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","getDefaultFormState","getUiActions","props","idSchema","schema","formData","formContext","buttonProps","id","$id","uiActions","keys","map","name","startsWith","onPropertyChange","value","type","_extends2","onChange","onReset","onRemove","onDelete","onRestore","onHide","onUnhide"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { getDefaultFormState } from \"../utils\";\nexport var getUiActions = function getUiActions(props) {\n  var idSchema = props.idSchema,\n      schema = props.schema,\n      formData = props.formData,\n      formContext = props.formContext;\n\n  var buttonProps = _extends({}, props, {\n    id: idSchema && idSchema.$id\n  });\n\n  var uiActions = {};\n  formContext && Object.keys(formContext).map(function (name) {\n    if (name.startsWith('on') && typeof formContext[name] === \"function\") {\n      uiActions[name] = function () {\n        return formContext[name](buttonProps);\n      };\n    }\n  });\n\n  var onPropertyChange = function onPropertyChange(name, value) {\n    if (schema.type === \"object\") {\n      var _extends2;\n\n      props.onChange && props.onChange(getDefaultFormState(schema, _extends({}, formData, (_extends2 = {}, _extends2[name] = value, _extends2))));\n    }\n  };\n\n  uiActions.onPropertyChange = onPropertyChange;\n\n  uiActions.onReset = function () {\n    props.onChange && props.onChange(getDefaultFormState(schema, {}));\n  };\n\n  uiActions.onRemove = function () {\n    if (schema.type === \"object\") {\n      props.onChange && props.onChange(getDefaultFormState(schema, {}));\n    }\n  };\n\n  uiActions.onDelete = function () {\n    return onPropertyChange('_action', 'delete');\n  };\n\n  uiActions.onRestore = function () {\n    return onPropertyChange('_action', 'restore');\n  };\n\n  uiActions.onHide = function () {\n    return onPropertyChange('hidden', true);\n  };\n\n  uiActions.onUnhide = function () {\n    return onPropertyChange('hidden', false);\n  };\n\n  return uiActions;\n};\nexport default getUiActions;"]},"metadata":{},"sourceType":"module"}