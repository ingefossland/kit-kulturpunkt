{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport ImageBase from \"../Media/ImageBase\";\nimport FilterButton from \"../SvgFilters/SvgFilterButton\";\nimport { BrightnessControls, ContrastControls, OpacityControls, BlurControls, SaturationControls, DuotoneControls, VignetteControls, ColorMatrixControls } from \"../SvgFilters/\";\nimport { getImagePointEvent } from \"./utils/getImagePoint\";\nvar controls = {\n  \"brightness\": BrightnessControls,\n  \"contrast\": ContrastControls,\n  \"vignette\": VignetteControls,\n  \"blur\": BlurControls,\n  \"opacity\": OpacityControls,\n  \"saturation\": SaturationControls,\n  \"duotone\": DuotoneControls,\n  \"colorMatrix\": ColorMatrixControls\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n    preview: {\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      marginBottom: theme.spacing(8)\n    },\n    controls: {\n      position: \"absolute\",\n      top: \"auto\",\n      right: 0,\n      bottom: 0,\n      left: 0,\n      height: theme.spacing(4),\n      margin: theme.spacing(1, 2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      \"& + *\": {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(7)\n      }\n    },\n    footer: {\n      position: \"absolute\",\n      top: \"auto\",\n      right: 0,\n      left: 0,\n      bottom: 0,\n      height: theme.spacing(8),\n      overflowY: \"visible\"\n    },\n    header: {\n      position: \"absolute\",\n      top: \"auto\",\n      right: 0,\n      left: 0,\n      bottom: theme.spacing(14),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    title: {\n      fontFamily: \"Akkurat, sans-serif\",\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      padding: theme.spacing(.5, 1.5)\n    },\n    buttongroup: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-start\",\n      flexWrap: \"nowrap\",\n      paddingLeft: \"50%\",\n      paddingRight: theme.spacing(1),\n      transition: \".125s ease-out\",\n      overflowX: \"scroll\",\n      marginLeft: function marginLeft(props) {\n        return theme.spacing(7 * props.index * -1) - theme.spacing(7 / 2);\n      }\n    },\n    button: {\n      marginLeft: theme.spacing(.5),\n      marginRight: theme.spacing(.5)\n    }\n  };\n});\n\nvar ImageFilters = function ImageFilters(_ref) {\n  var className = _ref.className,\n      imageUrl = _ref.imageUrl,\n      _ref$imageCropdata = _ref.imageCropdata,\n      imageCropdata = _ref$imageCropdata === void 0 ? {} : _ref$imageCropdata,\n      _ref$imageFilters = _ref.imageFilters,\n      imageFilters = _ref$imageFilters === void 0 ? {} : _ref$imageFilters,\n      _ref$filterOptions = _ref.filterOptions,\n      filterOptions = _ref$filterOptions === void 0 ? [] : _ref$filterOptions,\n      onChange = _ref.onChange,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"imageUrl\", \"imageCropdata\", \"imageFilters\", \"filterOptions\", \"onChange\"]);\n\n  var _useState = useState(0),\n      index = _useState[0],\n      setIndex = _useState[1];\n\n  var _useState2 = useState(filterOptions[0].name),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var classes = useStyles({\n    index: index\n  });\n\n  var currentFilter = selected && _extends({}, imageFilters[selected], {\n    name: selected\n  });\n\n  var changeFocalpoint = function changeFocalpoint(event) {\n    var _extends2;\n\n    var focalpoint;\n\n    if (event.shiftKey) {\n      focalpoint = {\n        x: 0,\n        y: 0,\n        top: 50,\n        left: 50\n      };\n    } else {\n      focalpoint = getImagePointEvent(event);\n    }\n\n    currentFilter && currentFilter.focalpoint && onChange && onChange(_extends({}, imageFilters, (_extends2 = {}, _extends2[selected] = _extends({}, imageFilters[selected], focalpoint), _extends2)));\n  };\n\n  var selectFilter = function selectFilter(_ref2, event) {\n    var name = _ref2.name,\n        index = _ref2.index;\n    setSelected(name);\n    setIndex(index);\n\n    if (event.shiftKey) {\n      changeFilter({\n        name: name,\n        undefined: undefined\n      });\n    }\n  };\n\n  var changeFilter = function changeFilter(_ref3) {\n    var _extends3;\n\n    var name = _ref3.name,\n        filter = _ref3.filter;\n    onChange && onChange(_extends({}, imageFilters, (_extends3 = {}, _extends3[name] = filter, _extends3)));\n  };\n\n  var FilterNav = function FilterNav() {\n    return /*#__PURE__*/React.createElement(ButtonGroup, {\n      className: classes.buttongroup\n    }, filterOptions.map(function (option, index) {\n      var name = option.name;\n\n      var filter = _extends({}, imageFilters[name], {\n        index: index,\n        name: name\n      });\n\n      return /*#__PURE__*/React.createElement(FilterButton, _extends({}, option, filter, {\n        selected: selected === name,\n        key: index,\n        index: index,\n        name: name,\n        onClick: function onClick(event) {\n          return selectFilter(filter, event);\n        }\n      }));\n    }));\n  };\n\n  var FilterControls = function FilterControls(_ref4) {\n    var name = _ref4.name;\n    var ControlsTemplate = controls && controls[name];\n    var filter = imageFilters && imageFilters[name];\n\n    if (ControlsTemplate) {\n      return /*#__PURE__*/React.createElement(ControlsTemplate, _extends({}, filter, {\n        className: classes.controls,\n        onChange: function onChange(filter) {\n          return changeFilter({\n            name: name,\n            filter: filter\n          });\n        }\n      }));\n    }\n\n    return false;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className || classes.root\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.preview\n  }, /*#__PURE__*/React.createElement(FilterControls, {\n    name: selected\n  }), /*#__PURE__*/React.createElement(ImageBase, {\n    imageCropdata: imageCropdata,\n    imageFilters: imageFilters,\n    imageUrl: imageUrl,\n    onClick: changeFocalpoint\n  })), /*#__PURE__*/React.createElement(\"header\", {\n    className: classes.header\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title\n  }, currentFilter && currentFilter.name)), /*#__PURE__*/React.createElement(\"footer\", {\n    className: classes.footer\n  }, /*#__PURE__*/React.createElement(FilterNav, null)));\n};\n\nImageFilters.defaultProps = {\n  imageFilters: {\n    brightness: {},\n    contrast: {},\n    vignette: {}\n  },\n  filterOptions: [{\n    name: \"brightness\",\n    icon: \"wb_sunny\"\n  }, {\n    name: \"contrast\",\n    icon: \"tonality\"\n  }, {\n    name: \"blur\",\n    icon: \"blur_on\"\n  }, {\n    name: \"saturation\",\n    icon: \"filter_tilt_shift\"\n  }, {\n    name: \"opacity\",\n    icon: \"opacity\"\n  }, {\n    name: \"vignette\",\n    icon: \"filter_vintage\"\n  }]\n};\nexport default ImageFilters;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/admin/es/Media/ImageFilters.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","useRef","useEffect","useState","makeStyles","Typography","ButtonGroup","ImageBase","FilterButton","BrightnessControls","ContrastControls","OpacityControls","BlurControls","SaturationControls","DuotoneControls","VignetteControls","ColorMatrixControls","getImagePointEvent","controls","useStyles","theme","root","position","top","right","bottom","left","preview","marginBottom","spacing","height","margin","display","alignItems","justifyContent","marginTop","footer","overflowY","header","title","fontFamily","backgroundColor","palette","primary","main","color","contrastText","padding","buttongroup","flexWrap","paddingLeft","paddingRight","transition","overflowX","marginLeft","props","index","button","marginRight","ImageFilters","_ref","className","imageUrl","_ref$imageCropdata","imageCropdata","_ref$imageFilters","imageFilters","_ref$filterOptions","filterOptions","onChange","_useState","setIndex","_useState2","name","selected","setSelected","classes","currentFilter","changeFocalpoint","event","_extends2","focalpoint","shiftKey","x","y","selectFilter","_ref2","changeFilter","undefined","_ref3","_extends3","filter","FilterNav","createElement","map","option","onClick","FilterControls","_ref4","ControlsTemplate","defaultProps","brightness","contrast","vignette","icon"],"mappings":"AAAA,SAASA,QAAT,GAAoB;AAAEA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,UAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,6BAAT,CAAuCN,MAAvC,EAA+CO,QAA/C,EAAyD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIJ,MAAM,GAAG,EAAb;AAAiB,MAAIY,UAAU,GAAGd,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAjB;AAAsC,MAAIC,GAAJ,EAASJ,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGW,UAAU,CAACT,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AAAEI,IAAAA,GAAG,GAAGO,UAAU,CAACX,CAAD,CAAhB;AAAqB,QAAIU,QAAQ,CAACG,OAAT,CAAiBT,GAAjB,KAAyB,CAA7B,EAAgC;AAAUL,IAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;;AAAC,SAAOL,MAAP;AAAgB;;AAEnT,OAAOe,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,kBAAT,EAA6BC,gBAA7B,EAA+CC,eAA/C,EAAgEC,YAAhE,EAA8EC,kBAA9E,EAAkGC,eAAlG,EAAmHC,gBAAnH,EAAqIC,mBAArI,QAAgK,gBAAhK;AACA,SAASC,kBAAT,QAAmC,uBAAnC;AACA,IAAIC,QAAQ,GAAG;AACb,gBAAcT,kBADD;AAEb,cAAYC,gBAFC;AAGb,cAAYK,gBAHC;AAIb,UAAQH,YAJK;AAKb,aAAWD,eALE;AAMb,gBAAcE,kBAND;AAOb,aAAWC,eAPE;AAQb,iBAAeE;AARF,CAAf;AAUA,IAAIG,SAAS,GAAGf,UAAU,CAAC,UAAUgB,KAAV,EAAiB;AAC1C,SAAO;AACLC,IAAAA,IAAI,EAAE;AACJC,MAAAA,QAAQ,EAAE,UADN;AAEJC,MAAAA,GAAG,EAAE,CAFD;AAGJC,MAAAA,KAAK,EAAE,CAHH;AAIJC,MAAAA,MAAM,EAAE,CAJJ;AAKJC,MAAAA,IAAI,EAAE;AALF,KADD;AAQLC,IAAAA,OAAO,EAAE;AACPL,MAAAA,QAAQ,EAAE,UADH;AAEPC,MAAAA,GAAG,EAAE,CAFE;AAGPC,MAAAA,KAAK,EAAE,CAHA;AAIPC,MAAAA,MAAM,EAAE,CAJD;AAKPC,MAAAA,IAAI,EAAE,CALC;AAMPE,MAAAA,YAAY,EAAER,KAAK,CAACS,OAAN,CAAc,CAAd;AANP,KARJ;AAgBLX,IAAAA,QAAQ,EAAE;AACRI,MAAAA,QAAQ,EAAE,UADF;AAERC,MAAAA,GAAG,EAAE,MAFG;AAGRC,MAAAA,KAAK,EAAE,CAHC;AAIRC,MAAAA,MAAM,EAAE,CAJA;AAKRC,MAAAA,IAAI,EAAE,CALE;AAMRI,MAAAA,MAAM,EAAEV,KAAK,CAACS,OAAN,CAAc,CAAd,CANA;AAORE,MAAAA,MAAM,EAAEX,KAAK,CAACS,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAPA;AAQRG,MAAAA,OAAO,EAAE,MARD;AASRC,MAAAA,UAAU,EAAE,QATJ;AAURC,MAAAA,cAAc,EAAE,QAVR;AAWR,eAAS;AACPC,QAAAA,SAAS,EAAEf,KAAK,CAACS,OAAN,CAAc,CAAd,CADJ;AAEPD,QAAAA,YAAY,EAAER,KAAK,CAACS,OAAN,CAAc,CAAd;AAFP;AAXD,KAhBL;AAgCLO,IAAAA,MAAM,EAAE;AACNd,MAAAA,QAAQ,EAAE,UADJ;AAENC,MAAAA,GAAG,EAAE,MAFC;AAGNC,MAAAA,KAAK,EAAE,CAHD;AAINE,MAAAA,IAAI,EAAE,CAJA;AAKND,MAAAA,MAAM,EAAE,CALF;AAMNK,MAAAA,MAAM,EAAEV,KAAK,CAACS,OAAN,CAAc,CAAd,CANF;AAONQ,MAAAA,SAAS,EAAE;AAPL,KAhCH;AAyCLC,IAAAA,MAAM,EAAE;AACNhB,MAAAA,QAAQ,EAAE,UADJ;AAENC,MAAAA,GAAG,EAAE,MAFC;AAGNC,MAAAA,KAAK,EAAE,CAHD;AAINE,MAAAA,IAAI,EAAE,CAJA;AAKND,MAAAA,MAAM,EAAEL,KAAK,CAACS,OAAN,CAAc,EAAd,CALF;AAMNG,MAAAA,OAAO,EAAE,MANH;AAONC,MAAAA,UAAU,EAAE,QAPN;AAQNC,MAAAA,cAAc,EAAE;AARV,KAzCH;AAmDLK,IAAAA,KAAK,EAAE;AACLC,MAAAA,UAAU,EAAE,qBADP;AAELC,MAAAA,eAAe,EAAErB,KAAK,CAACsB,OAAN,CAAcC,OAAd,CAAsBC,IAFlC;AAGLC,MAAAA,KAAK,EAAEzB,KAAK,CAACsB,OAAN,CAAcC,OAAd,CAAsBG,YAHxB;AAILC,MAAAA,OAAO,EAAE3B,KAAK,CAACS,OAAN,CAAc,EAAd,EAAkB,GAAlB;AAJJ,KAnDF;AAyDLmB,IAAAA,WAAW,EAAE;AACXhB,MAAAA,OAAO,EAAE,MADE;AAEXC,MAAAA,UAAU,EAAE,QAFD;AAGXC,MAAAA,cAAc,EAAE,YAHL;AAIXe,MAAAA,QAAQ,EAAE,QAJC;AAKXC,MAAAA,WAAW,EAAE,KALF;AAMXC,MAAAA,YAAY,EAAE/B,KAAK,CAACS,OAAN,CAAc,CAAd,CANH;AAOXuB,MAAAA,UAAU,EAAE,gBAPD;AAQXC,MAAAA,SAAS,EAAE,QARA;AASXC,MAAAA,UAAU,EAAE,SAASA,UAAT,CAAoBC,KAApB,EAA2B;AACrC,eAAOnC,KAAK,CAACS,OAAN,CAAc,IAAI0B,KAAK,CAACC,KAAV,GAAkB,CAAC,CAAjC,IAAsCpC,KAAK,CAACS,OAAN,CAAc,IAAI,CAAlB,CAA7C;AACD;AAXU,KAzDR;AAsEL4B,IAAAA,MAAM,EAAE;AACNH,MAAAA,UAAU,EAAElC,KAAK,CAACS,OAAN,CAAc,EAAd,CADN;AAEN6B,MAAAA,WAAW,EAAEtC,KAAK,CAACS,OAAN,CAAc,EAAd;AAFP;AAtEH,GAAP;AA2ED,CA5EyB,CAA1B;;AA8EA,IAAI8B,YAAY,GAAG,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AAC7C,MAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;AAAA,MACIC,QAAQ,GAAGF,IAAI,CAACE,QADpB;AAAA,MAEIC,kBAAkB,GAAGH,IAAI,CAACI,aAF9B;AAAA,MAGIA,aAAa,GAAGD,kBAAkB,KAAK,KAAK,CAA5B,GAAgC,EAAhC,GAAqCA,kBAHzD;AAAA,MAIIE,iBAAiB,GAAGL,IAAI,CAACM,YAJ7B;AAAA,MAKIA,YAAY,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,EAA/B,GAAoCA,iBALvD;AAAA,MAMIE,kBAAkB,GAAGP,IAAI,CAACQ,aAN9B;AAAA,MAOIA,aAAa,GAAGD,kBAAkB,KAAK,KAAK,CAA5B,GAAgC,EAAhC,GAAqCA,kBAPzD;AAAA,MAQIE,QAAQ,GAAGT,IAAI,CAACS,QARpB;AAAA,MASId,KAAK,GAAG5D,6BAA6B,CAACiE,IAAD,EAAO,CAAC,WAAD,EAAc,UAAd,EAA0B,eAA1B,EAA2C,cAA3C,EAA2D,eAA3D,EAA4E,UAA5E,CAAP,CATzC;;AAWA,MAAIU,SAAS,GAAGnE,QAAQ,CAAC,CAAD,CAAxB;AAAA,MACIqD,KAAK,GAAGc,SAAS,CAAC,CAAD,CADrB;AAAA,MAEIC,QAAQ,GAAGD,SAAS,CAAC,CAAD,CAFxB;;AAIA,MAAIE,UAAU,GAAGrE,QAAQ,CAACiE,aAAa,CAAC,CAAD,CAAb,CAAiBK,IAAlB,CAAzB;AAAA,MACIC,QAAQ,GAAGF,UAAU,CAAC,CAAD,CADzB;AAAA,MAEIG,WAAW,GAAGH,UAAU,CAAC,CAAD,CAF5B;;AAIA,MAAII,OAAO,GAAGzD,SAAS,CAAC;AACtBqC,IAAAA,KAAK,EAAEA;AADe,GAAD,CAAvB;;AAIA,MAAIqB,aAAa,GAAGH,QAAQ,IAAI5F,QAAQ,CAAC,EAAD,EAAKoF,YAAY,CAACQ,QAAD,CAAjB,EAA6B;AACnED,IAAAA,IAAI,EAAEC;AAD6D,GAA7B,CAAxC;;AAIA,MAAII,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AACtD,QAAIC,SAAJ;;AAEA,QAAIC,UAAJ;;AAEA,QAAIF,KAAK,CAACG,QAAV,EAAoB;AAClBD,MAAAA,UAAU,GAAG;AACXE,QAAAA,CAAC,EAAE,CADQ;AAEXC,QAAAA,CAAC,EAAE,CAFQ;AAGX7D,QAAAA,GAAG,EAAE,EAHM;AAIXG,QAAAA,IAAI,EAAE;AAJK,OAAb;AAMD,KAPD,MAOO;AACLuD,MAAAA,UAAU,GAAGhE,kBAAkB,CAAC8D,KAAD,CAA/B;AACD;;AAEDF,IAAAA,aAAa,IAAIA,aAAa,CAACI,UAA/B,IAA6CZ,QAA7C,IAAyDA,QAAQ,CAACvF,QAAQ,CAAC,EAAD,EAAKoF,YAAL,GAAoBc,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAACN,QAAD,CAAT,GAAsB5F,QAAQ,CAAC,EAAD,EAAKoF,YAAY,CAACQ,QAAD,CAAjB,EAA6BO,UAA7B,CAA9C,EAAwFD,SAA5G,EAAT,CAAjE;AACD,GAjBD;;AAmBA,MAAIK,YAAY,GAAG,SAASA,YAAT,CAAsBC,KAAtB,EAA6BP,KAA7B,EAAoC;AACrD,QAAIN,IAAI,GAAGa,KAAK,CAACb,IAAjB;AAAA,QACIjB,KAAK,GAAG8B,KAAK,CAAC9B,KADlB;AAEAmB,IAAAA,WAAW,CAACF,IAAD,CAAX;AACAF,IAAAA,QAAQ,CAACf,KAAD,CAAR;;AAEA,QAAIuB,KAAK,CAACG,QAAV,EAAoB;AAClBK,MAAAA,YAAY,CAAC;AACXd,QAAAA,IAAI,EAAEA,IADK;AAEXe,QAAAA,SAAS,EAAEA;AAFA,OAAD,CAAZ;AAID;AACF,GAZD;;AAcA,MAAID,YAAY,GAAG,SAASA,YAAT,CAAsBE,KAAtB,EAA6B;AAC9C,QAAIC,SAAJ;;AAEA,QAAIjB,IAAI,GAAGgB,KAAK,CAAChB,IAAjB;AAAA,QACIkB,MAAM,GAAGF,KAAK,CAACE,MADnB;AAEAtB,IAAAA,QAAQ,IAAIA,QAAQ,CAACvF,QAAQ,CAAC,EAAD,EAAKoF,YAAL,GAAoBwB,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAACjB,IAAD,CAAT,GAAkBkB,MAAlC,EAA0CD,SAA9D,EAAT,CAApB;AACD,GAND;;AAQA,MAAIE,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnC,WAAO,aAAa5F,KAAK,CAAC6F,aAAN,CAAoBvF,WAApB,EAAiC;AACnDuD,MAAAA,SAAS,EAAEe,OAAO,CAAC5B;AADgC,KAAjC,EAEjBoB,aAAa,CAAC0B,GAAd,CAAkB,UAAUC,MAAV,EAAkBvC,KAAlB,EAAyB;AAC5C,UAAIiB,IAAI,GAAGsB,MAAM,CAACtB,IAAlB;;AAEA,UAAIkB,MAAM,GAAG7G,QAAQ,CAAC,EAAD,EAAKoF,YAAY,CAACO,IAAD,CAAjB,EAAyB;AAC5CjB,QAAAA,KAAK,EAAEA,KADqC;AAE5CiB,QAAAA,IAAI,EAAEA;AAFsC,OAAzB,CAArB;;AAKA,aAAO,aAAazE,KAAK,CAAC6F,aAAN,CAAoBrF,YAApB,EAAkC1B,QAAQ,CAAC,EAAD,EAAKiH,MAAL,EAAaJ,MAAb,EAAqB;AACjFjB,QAAAA,QAAQ,EAAEA,QAAQ,KAAKD,IAD0D;AAEjFnF,QAAAA,GAAG,EAAEkE,KAF4E;AAGjFA,QAAAA,KAAK,EAAEA,KAH0E;AAIjFiB,QAAAA,IAAI,EAAEA,IAJ2E;AAKjFuB,QAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBjB,KAAjB,EAAwB;AAC/B,iBAAOM,YAAY,CAACM,MAAD,EAASZ,KAAT,CAAnB;AACD;AAPgF,OAArB,CAA1C,CAApB;AASD,KAjBE,CAFiB,CAApB;AAoBD,GArBD;;AAuBA,MAAIkB,cAAc,GAAG,SAASA,cAAT,CAAwBC,KAAxB,EAA+B;AAClD,QAAIzB,IAAI,GAAGyB,KAAK,CAACzB,IAAjB;AACA,QAAI0B,gBAAgB,GAAGjF,QAAQ,IAAIA,QAAQ,CAACuD,IAAD,CAA3C;AACA,QAAIkB,MAAM,GAAGzB,YAAY,IAAIA,YAAY,CAACO,IAAD,CAAzC;;AAEA,QAAI0B,gBAAJ,EAAsB;AACpB,aAAO,aAAanG,KAAK,CAAC6F,aAAN,CAAoBM,gBAApB,EAAsCrH,QAAQ,CAAC,EAAD,EAAK6G,MAAL,EAAa;AAC7E9B,QAAAA,SAAS,EAAEe,OAAO,CAAC1D,QAD0D;AAE7EmD,QAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBsB,MAAlB,EAA0B;AAClC,iBAAOJ,YAAY,CAAC;AAClBd,YAAAA,IAAI,EAAEA,IADY;AAElBkB,YAAAA,MAAM,EAAEA;AAFU,WAAD,CAAnB;AAID;AAP4E,OAAb,CAA9C,CAApB;AASD;;AAED,WAAO,KAAP;AACD,GAlBD;;AAoBA,SAAO,aAAa3F,KAAK,CAAC6F,aAAN,CAAoB,KAApB,EAA2B;AAC7ChC,IAAAA,SAAS,EAAEA,SAAS,IAAIe,OAAO,CAACvD;AADa,GAA3B,EAEjB,aAAarB,KAAK,CAAC6F,aAAN,CAAoB,KAApB,EAA2B;AACzChC,IAAAA,SAAS,EAAEe,OAAO,CAACjD;AADsB,GAA3B,EAEb,aAAa3B,KAAK,CAAC6F,aAAN,CAAoBI,cAApB,EAAoC;AAClDxB,IAAAA,IAAI,EAAEC;AAD4C,GAApC,CAFA,EAIZ,aAAa1E,KAAK,CAAC6F,aAAN,CAAoBtF,SAApB,EAA+B;AAC9CyD,IAAAA,aAAa,EAAEA,aAD+B;AAE9CE,IAAAA,YAAY,EAAEA,YAFgC;AAG9CJ,IAAAA,QAAQ,EAAEA,QAHoC;AAI9CkC,IAAAA,OAAO,EAAElB;AAJqC,GAA/B,CAJD,CAFI,EAWf,aAAa9E,KAAK,CAAC6F,aAAN,CAAoB,QAApB,EAA8B;AAC9ChC,IAAAA,SAAS,EAAEe,OAAO,CAACtC;AAD2B,GAA9B,EAEf,aAAatC,KAAK,CAAC6F,aAAN,CAAoBxF,UAApB,EAAgC;AAC9CwD,IAAAA,SAAS,EAAEe,OAAO,CAACrC;AAD2B,GAAhC,EAEbsC,aAAa,IAAIA,aAAa,CAACJ,IAFlB,CAFE,CAXE,EAesB,aAAazE,KAAK,CAAC6F,aAAN,CAAoB,QAApB,EAA8B;AACnFhC,IAAAA,SAAS,EAAEe,OAAO,CAACxC;AADgE,GAA9B,EAEpD,aAAapC,KAAK,CAAC6F,aAAN,CAAoBD,SAApB,EAA+B,IAA/B,CAFuC,CAfnC,CAApB;AAkBD,CAlID;;AAoIAjC,YAAY,CAACyC,YAAb,GAA4B;AAC1BlC,EAAAA,YAAY,EAAE;AACZmC,IAAAA,UAAU,EAAE,EADA;AAEZC,IAAAA,QAAQ,EAAE,EAFE;AAGZC,IAAAA,QAAQ,EAAE;AAHE,GADY;AAM1BnC,EAAAA,aAAa,EAAE,CAAC;AACdK,IAAAA,IAAI,EAAE,YADQ;AAEd+B,IAAAA,IAAI,EAAE;AAFQ,GAAD,EAGZ;AACD/B,IAAAA,IAAI,EAAE,UADL;AAED+B,IAAAA,IAAI,EAAE;AAFL,GAHY,EAMZ;AACD/B,IAAAA,IAAI,EAAE,MADL;AAED+B,IAAAA,IAAI,EAAE;AAFL,GANY,EASZ;AACD/B,IAAAA,IAAI,EAAE,YADL;AAED+B,IAAAA,IAAI,EAAE;AAFL,GATY,EAYZ;AACD/B,IAAAA,IAAI,EAAE,SADL;AAED+B,IAAAA,IAAI,EAAE;AAFL,GAZY,EAeZ;AACD/B,IAAAA,IAAI,EAAE,UADL;AAED+B,IAAAA,IAAI,EAAE;AAFL,GAfY;AANW,CAA5B;AA0BA,eAAe7C,YAAf","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport ImageBase from \"../Media/ImageBase\";\nimport FilterButton from \"../SvgFilters/SvgFilterButton\";\nimport { BrightnessControls, ContrastControls, OpacityControls, BlurControls, SaturationControls, DuotoneControls, VignetteControls, ColorMatrixControls } from \"../SvgFilters/\";\nimport { getImagePointEvent } from \"./utils/getImagePoint\";\nvar controls = {\n  \"brightness\": BrightnessControls,\n  \"contrast\": ContrastControls,\n  \"vignette\": VignetteControls,\n  \"blur\": BlurControls,\n  \"opacity\": OpacityControls,\n  \"saturation\": SaturationControls,\n  \"duotone\": DuotoneControls,\n  \"colorMatrix\": ColorMatrixControls\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    },\n    preview: {\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      marginBottom: theme.spacing(8)\n    },\n    controls: {\n      position: \"absolute\",\n      top: \"auto\",\n      right: 0,\n      bottom: 0,\n      left: 0,\n      height: theme.spacing(4),\n      margin: theme.spacing(1, 2),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      \"& + *\": {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(7)\n      }\n    },\n    footer: {\n      position: \"absolute\",\n      top: \"auto\",\n      right: 0,\n      left: 0,\n      bottom: 0,\n      height: theme.spacing(8),\n      overflowY: \"visible\"\n    },\n    header: {\n      position: \"absolute\",\n      top: \"auto\",\n      right: 0,\n      left: 0,\n      bottom: theme.spacing(14),\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    title: {\n      fontFamily: \"Akkurat, sans-serif\",\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      padding: theme.spacing(.5, 1.5)\n    },\n    buttongroup: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-start\",\n      flexWrap: \"nowrap\",\n      paddingLeft: \"50%\",\n      paddingRight: theme.spacing(1),\n      transition: \".125s ease-out\",\n      overflowX: \"scroll\",\n      marginLeft: function marginLeft(props) {\n        return theme.spacing(7 * props.index * -1) - theme.spacing(7 / 2);\n      }\n    },\n    button: {\n      marginLeft: theme.spacing(.5),\n      marginRight: theme.spacing(.5)\n    }\n  };\n});\n\nvar ImageFilters = function ImageFilters(_ref) {\n  var className = _ref.className,\n      imageUrl = _ref.imageUrl,\n      _ref$imageCropdata = _ref.imageCropdata,\n      imageCropdata = _ref$imageCropdata === void 0 ? {} : _ref$imageCropdata,\n      _ref$imageFilters = _ref.imageFilters,\n      imageFilters = _ref$imageFilters === void 0 ? {} : _ref$imageFilters,\n      _ref$filterOptions = _ref.filterOptions,\n      filterOptions = _ref$filterOptions === void 0 ? [] : _ref$filterOptions,\n      onChange = _ref.onChange,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"imageUrl\", \"imageCropdata\", \"imageFilters\", \"filterOptions\", \"onChange\"]);\n\n  var _useState = useState(0),\n      index = _useState[0],\n      setIndex = _useState[1];\n\n  var _useState2 = useState(filterOptions[0].name),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  var classes = useStyles({\n    index: index\n  });\n\n  var currentFilter = selected && _extends({}, imageFilters[selected], {\n    name: selected\n  });\n\n  var changeFocalpoint = function changeFocalpoint(event) {\n    var _extends2;\n\n    var focalpoint;\n\n    if (event.shiftKey) {\n      focalpoint = {\n        x: 0,\n        y: 0,\n        top: 50,\n        left: 50\n      };\n    } else {\n      focalpoint = getImagePointEvent(event);\n    }\n\n    currentFilter && currentFilter.focalpoint && onChange && onChange(_extends({}, imageFilters, (_extends2 = {}, _extends2[selected] = _extends({}, imageFilters[selected], focalpoint), _extends2)));\n  };\n\n  var selectFilter = function selectFilter(_ref2, event) {\n    var name = _ref2.name,\n        index = _ref2.index;\n    setSelected(name);\n    setIndex(index);\n\n    if (event.shiftKey) {\n      changeFilter({\n        name: name,\n        undefined: undefined\n      });\n    }\n  };\n\n  var changeFilter = function changeFilter(_ref3) {\n    var _extends3;\n\n    var name = _ref3.name,\n        filter = _ref3.filter;\n    onChange && onChange(_extends({}, imageFilters, (_extends3 = {}, _extends3[name] = filter, _extends3)));\n  };\n\n  var FilterNav = function FilterNav() {\n    return /*#__PURE__*/React.createElement(ButtonGroup, {\n      className: classes.buttongroup\n    }, filterOptions.map(function (option, index) {\n      var name = option.name;\n\n      var filter = _extends({}, imageFilters[name], {\n        index: index,\n        name: name\n      });\n\n      return /*#__PURE__*/React.createElement(FilterButton, _extends({}, option, filter, {\n        selected: selected === name,\n        key: index,\n        index: index,\n        name: name,\n        onClick: function onClick(event) {\n          return selectFilter(filter, event);\n        }\n      }));\n    }));\n  };\n\n  var FilterControls = function FilterControls(_ref4) {\n    var name = _ref4.name;\n    var ControlsTemplate = controls && controls[name];\n    var filter = imageFilters && imageFilters[name];\n\n    if (ControlsTemplate) {\n      return /*#__PURE__*/React.createElement(ControlsTemplate, _extends({}, filter, {\n        className: classes.controls,\n        onChange: function onChange(filter) {\n          return changeFilter({\n            name: name,\n            filter: filter\n          });\n        }\n      }));\n    }\n\n    return false;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className || classes.root\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.preview\n  }, /*#__PURE__*/React.createElement(FilterControls, {\n    name: selected\n  }), /*#__PURE__*/React.createElement(ImageBase, {\n    imageCropdata: imageCropdata,\n    imageFilters: imageFilters,\n    imageUrl: imageUrl,\n    onClick: changeFocalpoint\n  })), /*#__PURE__*/React.createElement(\"header\", {\n    className: classes.header\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title\n  }, currentFilter && currentFilter.name)), /*#__PURE__*/React.createElement(\"footer\", {\n    className: classes.footer\n  }, /*#__PURE__*/React.createElement(FilterNav, null)));\n};\n\nImageFilters.defaultProps = {\n  imageFilters: {\n    brightness: {},\n    contrast: {},\n    vignette: {}\n  },\n  filterOptions: [{\n    name: \"brightness\",\n    icon: \"wb_sunny\"\n  }, {\n    name: \"contrast\",\n    icon: \"tonality\"\n  }, {\n    name: \"blur\",\n    icon: \"blur_on\"\n  }, {\n    name: \"saturation\",\n    icon: \"filter_tilt_shift\"\n  }, {\n    name: \"opacity\",\n    icon: \"opacity\"\n  }, {\n    name: \"vignette\",\n    icon: \"filter_vintage\"\n  }]\n};\nexport default ImageFilters;"]},"metadata":{},"sourceType":"module"}