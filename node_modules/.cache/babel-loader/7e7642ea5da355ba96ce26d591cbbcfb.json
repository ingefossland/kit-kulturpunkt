{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = exports.getReferenceField = exports.getReferenceSchema = void 0;\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar getReferenceSchema = function getReferenceSchema(props) {\n  var schema = props.schema;\n  var documentType = schema.documentType,\n      referenceType = schema.referenceType,\n      _reverseReferenceType = schema._reverseReferenceType,\n      _reverseReference = schema._reverseReference,\n      content = schema.content; // default schema\n\n  var defaultSchema = {\n    \"type\": \"object\",\n    \"properties\": {\n      \"referenceId\": {\n        \"type\": \"string\",\n        \"readonly\": true\n      },\n      \"referenceType\": {\n        \"type\": \"string\",\n        \"default\": undefined,\n        \"readonly\": true\n      },\n      \"reference\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"uniqueId\": {\n            \"type\": \"string\",\n            \"default\": undefined,\n            \"readonly\": true\n          },\n          \"documentType\": {\n            \"type\": \"string\",\n            \"default\": undefined,\n            \"readonly\": true\n          },\n          \"title\": {\n            \"type\": \"string\",\n            \"default\": \"Untitled\"\n          },\n          \"_action\": {\n            \"type\": \"string\",\n            \"readonly\": true,\n            \"default\": \"update\"\n          }\n        }\n      },\n      \"_action\": {\n        \"type\": \"string\",\n        \"readonly\": true,\n        \"default\": \"update\"\n      }\n    }\n  }; // referenceType\n\n  if (referenceType) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        referenceType: _extends({}, defaultSchema.properties.referenceType, {\n          default: referenceType\n        })\n      })\n    });\n  } // reference\n\n\n  if (documentType) {\n    var defaultType, defaultEnum;\n\n    if (Array.isArray(documentType)) {\n      defaultType = documentType[0];\n      defaultEnum = documentType;\n    } else {\n      defaultType = documentType;\n    }\n\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        reference: _extends({}, defaultSchema.properties.reference, {\n          properties: _extends({}, defaultSchema.properties.reference.properties, {\n            documentType: _extends({}, defaultSchema.properties.reference.properties.documentType, {\n              default: defaultType,\n              enum: defaultEnum\n            }),\n            title: _extends({}, defaultSchema.properties.reference.properties.title, {\n              default: \"Untitled \" + defaultType\n            })\n          })\n        })\n      })\n    });\n  } // _reverseReferenceType\n\n\n  if (_reverseReferenceType) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        _reverseReferenceType: {\n          \"type\": \"string\",\n          \"default\": _reverseReferenceType,\n          \"readonly\": true\n        }\n      })\n    });\n  } // _reverseReference\n\n\n  if (_reverseReference) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        _reverseReference: {\n          \"type\": \"string\",\n          \"default\": _reverseReference,\n          \"readonly\": true\n        }\n      })\n    });\n  } // content\n\n\n  if (content && content.properties) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        content: {\n          \"type\": \"object\",\n          \"properties\": content.properties\n        }\n      })\n    });\n  } // properties\n\n\n  if (schema.properties) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, schema.properties)\n    });\n  }\n\n  return defaultSchema;\n};\n\nexports.getReferenceSchema = getReferenceSchema;\n\nvar getReferenceField = function getReferenceField(props) {\n  var schema = getReferenceSchema(props);\n  return _extends({}, props, {\n    schema: schema,\n    uiSchema: _extends({\n      \"ui:field\": \"reference\"\n    }, props.uiSchema)\n  });\n};\n\nexports.getReferenceField = getReferenceField;\nvar _default = getReferenceField;\nexports.default = _default;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/lib/fieldTypes/reference.js"],"names":["exports","__esModule","default","getReferenceField","getReferenceSchema","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","props","schema","documentType","referenceType","_reverseReferenceType","_reverseReference","content","defaultSchema","undefined","properties","defaultType","defaultEnum","Array","isArray","reference","enum","title","uiSchema","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = exports.getReferenceField = exports.getReferenceSchema = void 0;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar getReferenceSchema = function getReferenceSchema(props) {\n  var schema = props.schema;\n  var documentType = schema.documentType,\n      referenceType = schema.referenceType,\n      _reverseReferenceType = schema._reverseReferenceType,\n      _reverseReference = schema._reverseReference,\n      content = schema.content; // default schema\n\n  var defaultSchema = {\n    \"type\": \"object\",\n    \"properties\": {\n      \"referenceId\": {\n        \"type\": \"string\",\n        \"readonly\": true\n      },\n      \"referenceType\": {\n        \"type\": \"string\",\n        \"default\": undefined,\n        \"readonly\": true\n      },\n      \"reference\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"uniqueId\": {\n            \"type\": \"string\",\n            \"default\": undefined,\n            \"readonly\": true\n          },\n          \"documentType\": {\n            \"type\": \"string\",\n            \"default\": undefined,\n            \"readonly\": true\n          },\n          \"title\": {\n            \"type\": \"string\",\n            \"default\": \"Untitled\"\n          },\n          \"_action\": {\n            \"type\": \"string\",\n            \"readonly\": true,\n            \"default\": \"update\"\n          }\n        }\n      },\n      \"_action\": {\n        \"type\": \"string\",\n        \"readonly\": true,\n        \"default\": \"update\"\n      }\n    }\n  }; // referenceType\n\n  if (referenceType) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        referenceType: _extends({}, defaultSchema.properties.referenceType, {\n          default: referenceType\n        })\n      })\n    });\n  } // reference\n\n\n  if (documentType) {\n    var defaultType, defaultEnum;\n\n    if (Array.isArray(documentType)) {\n      defaultType = documentType[0];\n      defaultEnum = documentType;\n    } else {\n      defaultType = documentType;\n    }\n\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        reference: _extends({}, defaultSchema.properties.reference, {\n          properties: _extends({}, defaultSchema.properties.reference.properties, {\n            documentType: _extends({}, defaultSchema.properties.reference.properties.documentType, {\n              default: defaultType,\n              enum: defaultEnum\n            }),\n            title: _extends({}, defaultSchema.properties.reference.properties.title, {\n              default: \"Untitled \" + defaultType\n            })\n          })\n        })\n      })\n    });\n  } // _reverseReferenceType\n\n\n  if (_reverseReferenceType) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        _reverseReferenceType: {\n          \"type\": \"string\",\n          \"default\": _reverseReferenceType,\n          \"readonly\": true\n        }\n      })\n    });\n  } // _reverseReference\n\n\n  if (_reverseReference) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        _reverseReference: {\n          \"type\": \"string\",\n          \"default\": _reverseReference,\n          \"readonly\": true\n        }\n      })\n    });\n  } // content\n\n\n  if (content && content.properties) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, {\n        content: {\n          \"type\": \"object\",\n          \"properties\": content.properties\n        }\n      })\n    });\n  } // properties\n\n\n  if (schema.properties) {\n    defaultSchema = _extends({}, defaultSchema, {\n      properties: _extends({}, defaultSchema.properties, schema.properties)\n    });\n  }\n\n  return defaultSchema;\n};\n\nexports.getReferenceSchema = getReferenceSchema;\n\nvar getReferenceField = function getReferenceField(props) {\n  var schema = getReferenceSchema(props);\n  return _extends({}, props, {\n    schema: schema,\n    uiSchema: _extends({\n      \"ui:field\": \"reference\"\n    }, props.uiSchema)\n  });\n};\n\nexports.getReferenceField = getReferenceField;\nvar _default = getReferenceField;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}