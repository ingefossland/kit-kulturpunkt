{"ast":null,"code":"import _ from 'lodash';\nimport moment from 'moment';\nimport { getEvents, getEventsByDate } from \"..\";\nexport function getSchedule(_ref) {\n  var date = _ref.date,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      months = _ref.months;\n\n  if (!months) {\n    months = 3;\n  }\n\n  var dt = moment(date).format('YYYY-MM-DD');\n  var dtStart = moment(dt).format('YYYY-MM-DD');\n  var dtEnd = moment(dt).add(months, 'months').format('YYYY-MM-DD');\n  var events = {\n    dates: []\n  };\n\n  if (items) {\n    events = getEvents({\n      items: items,\n      dtStart: dtStart,\n      dtEnd: dtEnd\n    });\n  }\n\n  var rows = [];\n\n  for (var i = 0; i < events.dates.length; i++) {\n    var _dt = events.dates[i];\n    var datetime = moment(_dt);\n    datetime = moment(datetime).set('hour', 0);\n    datetime = moment(datetime).set('minute', 0);\n    datetime = moment(datetime).set('second', 0);\n\n    var _date = getEventsByDate(datetime, events);\n\n    rows.push(_date);\n  }\n\n  var schedule = {\n    dt: dt,\n    dtStart: dtStart,\n    dtEnd: dtEnd,\n    rows: rows,\n    events: events\n  };\n  return schedule;\n}\nexport default getSchedule;","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/@kit-ui/schema/node_modules/@kit-ui/admin/es/utils/getSchedule.js"],"names":["_","moment","getEvents","getEventsByDate","getSchedule","_ref","date","_ref$items","items","months","dt","format","dtStart","dtEnd","add","events","dates","rows","i","length","_dt","datetime","set","_date","push","schedule"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,SAAT,EAAoBC,eAApB,QAA2C,IAA3C;AACA,OAAO,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AAChC,MAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AAAA,MACIC,UAAU,GAAGF,IAAI,CAACG,KADtB;AAAA,MAEIA,KAAK,GAAGD,UAAU,KAAK,KAAK,CAApB,GAAwB,EAAxB,GAA6BA,UAFzC;AAAA,MAGIE,MAAM,GAAGJ,IAAI,CAACI,MAHlB;;AAKA,MAAI,CAACA,MAAL,EAAa;AACXA,IAAAA,MAAM,GAAG,CAAT;AACD;;AAED,MAAIC,EAAE,GAAGT,MAAM,CAACK,IAAD,CAAN,CAAaK,MAAb,CAAoB,YAApB,CAAT;AACA,MAAIC,OAAO,GAAGX,MAAM,CAACS,EAAD,CAAN,CAAWC,MAAX,CAAkB,YAAlB,CAAd;AACA,MAAIE,KAAK,GAAGZ,MAAM,CAACS,EAAD,CAAN,CAAWI,GAAX,CAAeL,MAAf,EAAuB,QAAvB,EAAiCE,MAAjC,CAAwC,YAAxC,CAAZ;AACA,MAAII,MAAM,GAAG;AACXC,IAAAA,KAAK,EAAE;AADI,GAAb;;AAIA,MAAIR,KAAJ,EAAW;AACTO,IAAAA,MAAM,GAAGb,SAAS,CAAC;AACjBM,MAAAA,KAAK,EAAEA,KADU;AAEjBI,MAAAA,OAAO,EAAEA,OAFQ;AAGjBC,MAAAA,KAAK,EAAEA;AAHU,KAAD,CAAlB;AAKD;;AAED,MAAII,IAAI,GAAG,EAAX;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,MAAM,CAACC,KAAP,CAAaG,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC5C,QAAIE,GAAG,GAAGL,MAAM,CAACC,KAAP,CAAaE,CAAb,CAAV;AACA,QAAIG,QAAQ,GAAGpB,MAAM,CAACmB,GAAD,CAArB;AACAC,IAAAA,QAAQ,GAAGpB,MAAM,CAACoB,QAAD,CAAN,CAAiBC,GAAjB,CAAqB,MAArB,EAA6B,CAA7B,CAAX;AACAD,IAAAA,QAAQ,GAAGpB,MAAM,CAACoB,QAAD,CAAN,CAAiBC,GAAjB,CAAqB,QAArB,EAA+B,CAA/B,CAAX;AACAD,IAAAA,QAAQ,GAAGpB,MAAM,CAACoB,QAAD,CAAN,CAAiBC,GAAjB,CAAqB,QAArB,EAA+B,CAA/B,CAAX;;AAEA,QAAIC,KAAK,GAAGpB,eAAe,CAACkB,QAAD,EAAWN,MAAX,CAA3B;;AAEAE,IAAAA,IAAI,CAACO,IAAL,CAAUD,KAAV;AACD;;AAED,MAAIE,QAAQ,GAAG;AACbf,IAAAA,EAAE,EAAEA,EADS;AAEbE,IAAAA,OAAO,EAAEA,OAFI;AAGbC,IAAAA,KAAK,EAAEA,KAHM;AAIbI,IAAAA,IAAI,EAAEA,IAJO;AAKbF,IAAAA,MAAM,EAAEA;AALK,GAAf;AAOA,SAAOU,QAAP;AACD;AACD,eAAerB,WAAf","sourcesContent":["import _ from 'lodash';\nimport moment from 'moment';\nimport { getEvents, getEventsByDate } from \"..\";\nexport function getSchedule(_ref) {\n  var date = _ref.date,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      months = _ref.months;\n\n  if (!months) {\n    months = 3;\n  }\n\n  var dt = moment(date).format('YYYY-MM-DD');\n  var dtStart = moment(dt).format('YYYY-MM-DD');\n  var dtEnd = moment(dt).add(months, 'months').format('YYYY-MM-DD');\n  var events = {\n    dates: []\n  };\n\n  if (items) {\n    events = getEvents({\n      items: items,\n      dtStart: dtStart,\n      dtEnd: dtEnd\n    });\n  }\n\n  var rows = [];\n\n  for (var i = 0; i < events.dates.length; i++) {\n    var _dt = events.dates[i];\n    var datetime = moment(_dt);\n    datetime = moment(datetime).set('hour', 0);\n    datetime = moment(datetime).set('minute', 0);\n    datetime = moment(datetime).set('second', 0);\n\n    var _date = getEventsByDate(datetime, events);\n\n    rows.push(_date);\n  }\n\n  var schedule = {\n    dt: dt,\n    dtStart: dtStart,\n    dtEnd: dtEnd,\n    rows: rows,\n    events: events\n  };\n  return schedule;\n}\nexport default getSchedule;"]},"metadata":{},"sourceType":"module"}