{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.XingInfoTag = exports.LameEncoderVersion = exports.InfoTagHeaderTag = void 0;\n\nconst Token = require(\"token-types\");\n/**\n * Info Tag: Xing, LAME\n */\n\n\nexports.InfoTagHeaderTag = new Token.StringType(4, 'ascii');\n/**\n * LAME TAG value\n * Did not find any official documentation for this\n * Value e.g.: \"3.98.4\"\n */\n\nexports.LameEncoderVersion = new Token.StringType(6, 'ascii');\n/**\n * Info Tag\n * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n */\n\nexports.XingInfoTag = {\n  len: 136,\n  get: (buf, off) => {\n    return {\n      // === ZONE A - Traditional Xing VBR Tag data ===\n      // 4 bytes for HeaderFlags\n      headerFlags: new Token.BufferType(4).get(buf, off),\n      numFrames: Token.UINT32_BE.get(buf, off + 4),\n      streamSize: Token.UINT32_BE.get(buf, off + 8),\n      // the number of header data bytes (from original file)\n      vbrScale: Token.UINT32_BE.get(buf, off + 112),\n\n      /**\n       * LAME Tag, extends the Xing header format\n       * First added in LAME 3.12 for VBR\n       * The modified header is also included in CBR files (effective LAME 3.94), with \"Info\" instead of \"XING\" near the beginning.\n       */\n      // === ZONE B - Initial LAME info  ===\n      //  Initial LAME info, e.g.: LAME3.99r\n      codec: new Token.StringType(9, 'ascii').get(buf, off + 116),\n      // \t Info tag revision\n      infoTagRevision: Token.UINT8.get(buf, off + 125) >> 4,\n      // VBR method\n      vbrMethod: Token.UINT8.get(buf, off + 125) & 0xf // $A5\n\n    };\n  }\n};","map":{"version":3,"sources":["/Users/inge/Sites/kit-kulturpunkt/node_modules/music-metadata/lib/mpeg/XingTag.js"],"names":["Object","defineProperty","exports","value","XingInfoTag","LameEncoderVersion","InfoTagHeaderTag","Token","require","StringType","len","get","buf","off","headerFlags","BufferType","numFrames","UINT32_BE","streamSize","vbrScale","codec","infoTagRevision","UINT8","vbrMethod"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,WAAR,GAAsBF,OAAO,CAACG,kBAAR,GAA6BH,OAAO,CAACI,gBAAR,GAA2B,KAAK,CAAnF;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,aAAD,CAArB;AACA;AACA;AACA;;;AACAN,OAAO,CAACI,gBAAR,GAA2B,IAAIC,KAAK,CAACE,UAAV,CAAqB,CAArB,EAAwB,OAAxB,CAA3B;AACA;AACA;AACA;AACA;AACA;;AACAP,OAAO,CAACG,kBAAR,GAA6B,IAAIE,KAAK,CAACE,UAAV,CAAqB,CAArB,EAAwB,OAAxB,CAA7B;AACA;AACA;AACA;AACA;;AACAP,OAAO,CAACE,WAAR,GAAsB;AAClBM,EAAAA,GAAG,EAAE,GADa;AAElBC,EAAAA,GAAG,EAAE,CAACC,GAAD,EAAMC,GAAN,KAAc;AACf,WAAO;AACH;AACA;AACAC,MAAAA,WAAW,EAAE,IAAIP,KAAK,CAACQ,UAAV,CAAqB,CAArB,EAAwBJ,GAAxB,CAA4BC,GAA5B,EAAiCC,GAAjC,CAHV;AAIHG,MAAAA,SAAS,EAAET,KAAK,CAACU,SAAN,CAAgBN,GAAhB,CAAoBC,GAApB,EAAyBC,GAAG,GAAG,CAA/B,CAJR;AAKHK,MAAAA,UAAU,EAAEX,KAAK,CAACU,SAAN,CAAgBN,GAAhB,CAAoBC,GAApB,EAAyBC,GAAG,GAAG,CAA/B,CALT;AAMH;AACAM,MAAAA,QAAQ,EAAEZ,KAAK,CAACU,SAAN,CAAgBN,GAAhB,CAAoBC,GAApB,EAAyBC,GAAG,GAAG,GAA/B,CAPP;;AAQH;AACZ;AACA;AACA;AACA;AACY;AACA;AACAO,MAAAA,KAAK,EAAE,IAAIb,KAAK,CAACE,UAAV,CAAqB,CAArB,EAAwB,OAAxB,EAAiCE,GAAjC,CAAqCC,GAArC,EAA0CC,GAAG,GAAG,GAAhD,CAfJ;AAgBH;AACAQ,MAAAA,eAAe,EAAEd,KAAK,CAACe,KAAN,CAAYX,GAAZ,CAAgBC,GAAhB,EAAqBC,GAAG,GAAG,GAA3B,KAAmC,CAjBjD;AAkBH;AACAU,MAAAA,SAAS,EAAEhB,KAAK,CAACe,KAAN,CAAYX,GAAZ,CAAgBC,GAAhB,EAAqBC,GAAG,GAAG,GAA3B,IAAkC,GAnB1C,CAmB8C;;AAnB9C,KAAP;AAqBH;AAxBiB,CAAtB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.XingInfoTag = exports.LameEncoderVersion = exports.InfoTagHeaderTag = void 0;\nconst Token = require(\"token-types\");\n/**\n * Info Tag: Xing, LAME\n */\nexports.InfoTagHeaderTag = new Token.StringType(4, 'ascii');\n/**\n * LAME TAG value\n * Did not find any official documentation for this\n * Value e.g.: \"3.98.4\"\n */\nexports.LameEncoderVersion = new Token.StringType(6, 'ascii');\n/**\n * Info Tag\n * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n */\nexports.XingInfoTag = {\n    len: 136,\n    get: (buf, off) => {\n        return {\n            // === ZONE A - Traditional Xing VBR Tag data ===\n            // 4 bytes for HeaderFlags\n            headerFlags: new Token.BufferType(4).get(buf, off),\n            numFrames: Token.UINT32_BE.get(buf, off + 4),\n            streamSize: Token.UINT32_BE.get(buf, off + 8),\n            // the number of header data bytes (from original file)\n            vbrScale: Token.UINT32_BE.get(buf, off + 112),\n            /**\n             * LAME Tag, extends the Xing header format\n             * First added in LAME 3.12 for VBR\n             * The modified header is also included in CBR files (effective LAME 3.94), with \"Info\" instead of \"XING\" near the beginning.\n             */\n            // === ZONE B - Initial LAME info  ===\n            //  Initial LAME info, e.g.: LAME3.99r\n            codec: new Token.StringType(9, 'ascii').get(buf, off + 116),\n            // \t Info tag revision\n            infoTagRevision: Token.UINT8.get(buf, off + 125) >> 4,\n            // VBR method\n            vbrMethod: Token.UINT8.get(buf, off + 125) & 0xf // $A5\n        };\n    }\n};\n//# sourceMappingURL=XingTag.js.map"]},"metadata":{},"sourceType":"script"}