"use strict";

exports.__esModule = true;
exports.getIcalEventFromFormData = void 0;

var _moment = _interopRequireDefault(require("moment"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getIcalEventFromFormData = function getIcalEventFromFormData(formData) {
  if (formData === void 0) {
    formData = {};
  }

  if (!formData) {
    return;
  }

  var vEvent = []; //    vEvent.push("BEGIN:VEVENT")

  var _formData = formData,
      allday = _formData.allday,
      repeat = _formData.repeat;
  Object.keys(formData).map(function (name) {
    var KEY = name.toUpperCase();
    var VALUE = formData && formData[name];

    if (allday && (KEY === "DTSTART" || KEY === "DTEND")) {
      vEvent.push(KEY + ":" + (0, _moment.default)(VALUE).format("YYYYMMDD"));
    } else if (KEY === "DTSTART" || KEY === "DTEND") {
      vEvent.push(KEY + ":" + (0, _moment.default)(VALUE).format("YYYYMMDDTHHmmss"));
    }

    if (repeat && KEY === "RRULE") {
      vEvent.push(KEY + ":" + VALUE);
    }
  }); //    vEvent.push("END:VEVENT")

  return "" + vEvent.join("\n") + "";
};

exports.getIcalEventFromFormData = getIcalEventFromFormData;