export default {
  "select": {
    "imageUrl": "imageUrl",
    "title": "title",
    "description": "description",
    "metadata": "metadata",
    "typeLabel": "typeLabel"
  },
  prepare: function prepare(_ref) {
    var formData = _ref.formData,
        formContext = _ref.formContext;
    var documentType = formData.documentType,
        locale = formData.locale,
        imageUrl = formData.imageUrl,
        title = formData.title,
        content = formData.content,
        description = formData.description;
    var defaultLocale = formContext.defaultLocale;
    var localeId = "locale:" + defaultLocale;
    var metadata = [];
    var backgroundImage = content && content.backgroundImage;
    var hasPages = content && content.hasPages;
    var deviceTitle = content && content.deviceTitle;
    var deviceId = content && content.deviceId;
    var deviceType = content && content.deviceType;
    var typeLabel = deviceType && documentType + "/" + deviceType || documentType;

    if (backgroundImage && backgroundImage.media && backgroundImage.media.imageUrl) {
      imageUrl = backgroundImage.media.imageUrl;
    }

    if (hasPages && hasPages.length) {
      metadata.push(hasPages.length + ' sider');
    }

    if (deviceId) {
      metadata.push('#' + deviceId);
    }

    return {
      imageUrl: imageUrl,
      title: deviceTitle || title,
      description: description,
      metadata: metadata,
      typeLabel: typeLabel
    };
  }
};