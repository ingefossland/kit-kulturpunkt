export default {
  "select": {
    "imageUrl": "imageUrl",
    "title": "title",
    "description": "description",
    "metadata": "metadata",
    "typeLabel": "typeLabel"
  },
  prepare: function prepare(_ref) {
    var formData = _ref.formData,
        formContext = _ref.formContext;
    var documentType = formData.documentType,
        locale = formData.locale,
        imageUrl = formData.imageUrl,
        title = formData.title,
        content = formData.content,
        description = formData.description;
    var defaultLocale = formContext.defaultLocale;
    var localeId = "locale:" + defaultLocale;
    var metadata = [];

    if (content) {
      title = content.title && content.title[localeId];
      description = content.description && content.description[localeId];
      imageUrl = content.image && content.image.media && content.image.media.imageUrl;
      var location = content.location,
          sections = content.sections,
          hasArticles = content.hasArticles;

      if (location && location.lat && location.lng) {
        if (location.address) {
          metadata.push(location.address);
        } else {
          metadata.push("Sted");
        }
      }

      if (sections && sections.length) {
        metadata.push(sections.length + ' seksjoner');
      }

      if (hasArticles && hasArticles.length) {
        metadata.push(hasArticles.length + ' artikler');
      }
    }

    return {
      imageUrl: imageUrl,
      title: title,
      description: description,
      metadata: metadata,
      typeLabel: documentType
    };
  }
};