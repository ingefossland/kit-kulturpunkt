import _ from 'lodash';
import { getUiOptions, getUiFieldset } from "./";
export var getUiMenu = function getUiMenu(props) {
  var formContext = props.formContext;
  var onExpand = formContext && formContext.onExpand;
  var uiFieldset = getUiFieldset(props);
  var menu = [];

  if (uiFieldset) {
    menu = uiFieldset.map(function (field) {
      var name = field.name,
          idPrefix = field.idPrefix,
          uiSchema = field.uiSchema;
      var uiOptions = getUiOptions(uiSchema);
      return {
        id: idPrefix,
        name: name,
        icon: uiOptions['icon'] || undefined,
        label: uiOptions['title'] || name,
        selected: uiOptions.selected,
        onClick: function onClick() {
          return onExpand({
            id: idPrefix
          });
        }
      };
    });
  }

  if (!menu.length) {
    return false;
  }

  return menu;
};
export default getUiMenu;