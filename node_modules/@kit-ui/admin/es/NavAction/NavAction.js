function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

import React from 'react';
import PropTypes from 'prop-types';
import NavActionButtongroup from "./NavActionButtongroup";
import NavActionItem from "./NavActionItem";
/** Action menu component */

var NavAction = function NavAction(_ref) {
  var className = _ref.className,
      _ref$icons = _ref.icons,
      icons = _ref$icons === void 0 ? {} : _ref$icons,
      _ref$menu = _ref.menu,
      menu = _ref$menu === void 0 ? [] : _ref$menu,
      menuByUrl = _ref.menuByUrl,
      onSelect = _ref.onSelect,
      onToggle = _ref.onToggle;

  var _onSelect = function _onSelect(item, event) {
    onSelect && onSelect(item);
  };

  var _onToggle = function _onToggle(item, event) {
    onToggle && onToggle(item);
  };

  var renderItem = function renderItem(item, index) {
    if (item.url && menuByUrl && menuByUrl[item.url]) {
      item = _extends({}, menuByUrl[item.url], item);
    }

    if (item.icon && icons[item.icon]) {
      item = _extends({}, item, {
        icon: icons[item.icon]
      });
    }

    return /*#__PURE__*/React.createElement(NavActionItem, _extends({}, item, {
      icons: icons,
      menuByUrl: menuByUrl,
      key: index,
      onSelect: _onSelect
    }));
  };

  if (!menu || !menu.length) {
    return false;
  }

  return /*#__PURE__*/React.createElement(NavActionButtongroup, {
    variant: "contained",
    className: className
  }, menu.map(renderItem));
};

NavAction.defaultProps = {
  menu: [],
  menuByUrl: {}
};
NavAction.propTypes = process.env.NODE_ENV !== "production" ? {
  /** ClassName */
  className: PropTypes.string,

  /** Custom icons */
  icons: PropTypes.object,

  /** The menu array */
  menu: PropTypes.array,

  /** Menu items, indexed by url */
  menuByUrl: PropTypes.object,

  /** Current URL selected */
  currentUrl: PropTypes.string,

  /** Select function */
  onSelect: PropTypes.func,

  /** Toggle function */
  onToggle: PropTypes.func
} : {};
export default NavAction;